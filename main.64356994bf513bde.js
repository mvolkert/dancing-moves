var lq=Object.defineProperty,hq=Object.defineProperties,uq=Object.getOwnPropertyDescriptors,P5=Object.getOwnPropertySymbols,cq=Object.prototype.hasOwnProperty,fq=Object.prototype.propertyIsEnumerable,I5=(Yt,q,vt)=>q in Yt?lq(Yt,q,{enumerable:!0,configurable:!0,writable:!0,value:vt}):Yt[q]=vt,vi=(Yt,q)=>{for(var vt in q||(q={}))cq.call(q,vt)&&I5(Yt,vt,q[vt]);if(P5)for(var vt of P5(q))fq.call(q,vt)&&I5(Yt,vt,q[vt]);return Yt},bs=(Yt,q)=>hq(Yt,uq(q));(self.webpackChunkdancing_moves=self.webpackChunkdancing_moves||[]).push([[179],{46:(Yt,q,vt)=>{"use strict";const yt=q;yt.bignum=vt(5314),yt.define=vt(3147).define,yt.base=vt(8305),yt.constants=vt(8563),yt.decoders=vt(3435),yt.encoders=vt(9589)},3147:(Yt,q,vt)=>{"use strict";const yt=vt(9589),xt=vt(3435),et=vt(3516);function M(j,H){this.name=j,this.body=H,this.decoders={},this.encoders={}}q.define=function(H,X){return new M(H,X)},M.prototype._createNamed=function(H){const X=this.name;function z(B){this._initNamed(B,X)}return et(z,H),z.prototype._initNamed=function(I,Y){H.call(this,I,Y)},new z(this)},M.prototype._getDecoder=function(H){return this.decoders.hasOwnProperty(H=H||"der")||(this.decoders[H]=this._createNamed(xt[H])),this.decoders[H]},M.prototype.decode=function(H,X,z){return this._getDecoder(X).decode(H,z)},M.prototype._getEncoder=function(H){return this.encoders.hasOwnProperty(H=H||"der")||(this.encoders[H]=this._createNamed(yt[H])),this.encoders[H]},M.prototype.encode=function(H,X,z){return this._getEncoder(X).encode(H,z)}},2995:(Yt,q,vt)=>{"use strict";const yt=vt(3516),xt=vt(5610).b,et=vt(7356).Buffer;function it(j,H){xt.call(this,H),et.isBuffer(j)?(this.base=j,this.offset=0,this.length=j.length):this.error("Input not Buffer")}function M(j,H){if(Array.isArray(j))this.length=0,this.value=j.map(function(X){return M.isEncoderBuffer(X)||(X=new M(X,H)),this.length+=X.length,X},this);else if("number"==typeof j){if(!(0<=j&&j<=255))return H.error("non-byte EncoderBuffer value");this.value=j,this.length=1}else if("string"==typeof j)this.value=j,this.length=et.byteLength(j);else{if(!et.isBuffer(j))return H.error("Unsupported type: "+typeof j);this.value=j,this.length=j.length}}yt(it,xt),q.C=it,it.isDecoderBuffer=function(H){return H instanceof it||"object"==typeof H&&et.isBuffer(H.base)&&"DecoderBuffer"===H.constructor.name&&"number"==typeof H.offset&&"number"==typeof H.length&&"function"==typeof H.save&&"function"==typeof H.restore&&"function"==typeof H.isEmpty&&"function"==typeof H.readUInt8&&"function"==typeof H.skip&&"function"==typeof H.raw},it.prototype.save=function(){return{offset:this.offset,reporter:xt.prototype.save.call(this)}},it.prototype.restore=function(H){const X=new it(this.base);return X.offset=H.offset,X.length=this.offset,this.offset=H.offset,xt.prototype.restore.call(this,H.reporter),X},it.prototype.isEmpty=function(){return this.offset===this.length},it.prototype.readUInt8=function(H){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(H||"DecoderBuffer overrun")},it.prototype.skip=function(H,X){if(!(this.offset+H<=this.length))return this.error(X||"DecoderBuffer overrun");const z=new it(this.base);return z._reporterState=this._reporterState,z.offset=this.offset,z.length=this.offset+H,this.offset+=H,z},it.prototype.raw=function(H){return this.base.slice(H?H.offset:this.offset,this.length)},q.R=M,M.isEncoderBuffer=function(H){return H instanceof M||"object"==typeof H&&"EncoderBuffer"===H.constructor.name&&"number"==typeof H.length&&"function"==typeof H.join},M.prototype.join=function(H,X){return H||(H=et.alloc(this.length)),X||(X=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(z){z.join(H,X),X+=z.length}):("number"==typeof this.value?H[X]=this.value:"string"==typeof this.value?H.write(this.value,X):et.isBuffer(this.value)&&this.value.copy(H,X),X+=this.length)),H}},8305:(Yt,q,vt)=>{"use strict";const yt=q;yt.Reporter=vt(5610).b,yt.DecoderBuffer=vt(2995).C,yt.EncoderBuffer=vt(2995).R,yt.Node=vt(4878)},4878:(Yt,q,vt)=>{"use strict";const yt=vt(5610).b,xt=vt(2995).R,et=vt(2995).C,it=vt(4725),M=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],j=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(M);function X(B,I,Y){const T={};this._baseState=T,T.name=Y,T.enc=B,T.parent=I||null,T.children=null,T.tag=null,T.args=null,T.reverseArgs=null,T.choice=null,T.optional=!1,T.any=!1,T.obj=!1,T.use=null,T.useDecoder=null,T.key=null,T.default=null,T.explicit=null,T.implicit=null,T.contains=null,T.parent||(T.children=[],this._wrap())}Yt.exports=X;const z=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];X.prototype.clone=function(){const I=this._baseState,Y={};z.forEach(function(F){Y[F]=I[F]});const T=new this.constructor(Y.parent);return T._baseState=Y,T},X.prototype._wrap=function(){const I=this._baseState;j.forEach(function(Y){this[Y]=function(){const F=new this.constructor(this);return I.children.push(F),F[Y].apply(F,arguments)}},this)},X.prototype._init=function(I){const Y=this._baseState;it(null===Y.parent),I.call(this),Y.children=Y.children.filter(function(T){return T._baseState.parent===this},this),it.equal(Y.children.length,1,"Root node can have only one child")},X.prototype._useArgs=function(I){const Y=this._baseState,T=I.filter(function(F){return F instanceof this.constructor},this);I=I.filter(function(F){return!(F instanceof this.constructor)},this),0!==T.length&&(it(null===Y.children),Y.children=T,T.forEach(function(F){F._baseState.parent=this},this)),0!==I.length&&(it(null===Y.args),Y.args=I,Y.reverseArgs=I.map(function(F){if("object"!=typeof F||F.constructor!==Object)return F;const O={};return Object.keys(F).forEach(function(V){V==(0|V)&&(V|=0),O[F[V]]=V}),O}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(B){X.prototype[B]=function(){throw new Error(B+" not implemented for encoding: "+this._baseState.enc)}}),M.forEach(function(B){X.prototype[B]=function(){const Y=this._baseState,T=Array.prototype.slice.call(arguments);return it(null===Y.tag),Y.tag=B,this._useArgs(T),this}}),X.prototype.use=function(I){it(I);const Y=this._baseState;return it(null===Y.use),Y.use=I,this},X.prototype.optional=function(){return this._baseState.optional=!0,this},X.prototype.def=function(I){const Y=this._baseState;return it(null===Y.default),Y.default=I,Y.optional=!0,this},X.prototype.explicit=function(I){const Y=this._baseState;return it(null===Y.explicit&&null===Y.implicit),Y.explicit=I,this},X.prototype.implicit=function(I){const Y=this._baseState;return it(null===Y.explicit&&null===Y.implicit),Y.implicit=I,this},X.prototype.obj=function(){const I=this._baseState,Y=Array.prototype.slice.call(arguments);return I.obj=!0,0!==Y.length&&this._useArgs(Y),this},X.prototype.key=function(I){const Y=this._baseState;return it(null===Y.key),Y.key=I,this},X.prototype.any=function(){return this._baseState.any=!0,this},X.prototype.choice=function(I){const Y=this._baseState;return it(null===Y.choice),Y.choice=I,this._useArgs(Object.keys(I).map(function(T){return I[T]})),this},X.prototype.contains=function(I){const Y=this._baseState;return it(null===Y.use),Y.contains=I,this},X.prototype._decode=function(I,Y){const T=this._baseState;if(null===T.parent)return I.wrapResult(T.children[0]._decode(I,Y));let G,F=T.default,O=!0,V=null;if(null!==T.key&&(V=I.enterKey(T.key)),T.optional){let R=null;if(null!==T.explicit?R=T.explicit:null!==T.implicit?R=T.implicit:null!==T.tag&&(R=T.tag),null!==R||T.any){if(O=this._peekTag(I,R,T.any),I.isError(O))return O}else{const $=I.save();try{null===T.choice?this._decodeGeneric(T.tag,I,Y):this._decodeChoice(I,Y),O=!0}catch(Z){O=!1}I.restore($)}}if(T.obj&&O&&(G=I.enterObject()),O){if(null!==T.explicit){const $=this._decodeTag(I,T.explicit);if(I.isError($))return $;I=$}const R=I.offset;if(null===T.use&&null===T.choice){let $;T.any&&($=I.save());const Z=this._decodeTag(I,null!==T.implicit?T.implicit:T.tag,T.any);if(I.isError(Z))return Z;T.any?F=I.raw($):I=Z}if(Y&&Y.track&&null!==T.tag&&Y.track(I.path(),R,I.length,"tagged"),Y&&Y.track&&null!==T.tag&&Y.track(I.path(),I.offset,I.length,"content"),T.any||(F=null===T.choice?this._decodeGeneric(T.tag,I,Y):this._decodeChoice(I,Y)),I.isError(F))return F;if(!T.any&&null===T.choice&&null!==T.children&&T.children.forEach(function(Z){Z._decode(I,Y)}),T.contains&&("octstr"===T.tag||"bitstr"===T.tag)){const $=new et(F);F=this._getUse(T.contains,I._reporterState.obj)._decode($,Y)}}return T.obj&&O&&(F=I.leaveObject(G)),null===T.key||null===F&&!0!==O?null!==V&&I.exitKey(V):I.leaveKey(V,T.key,F),F},X.prototype._decodeGeneric=function(I,Y,T){const F=this._baseState;return"seq"===I||"set"===I?null:"seqof"===I||"setof"===I?this._decodeList(Y,I,F.args[0],T):/str$/.test(I)?this._decodeStr(Y,I,T):"objid"===I&&F.args?this._decodeObjid(Y,F.args[0],F.args[1],T):"objid"===I?this._decodeObjid(Y,null,null,T):"gentime"===I||"utctime"===I?this._decodeTime(Y,I,T):"null_"===I?this._decodeNull(Y,T):"bool"===I?this._decodeBool(Y,T):"objDesc"===I?this._decodeStr(Y,I,T):"int"===I||"enum"===I?this._decodeInt(Y,F.args&&F.args[0],T):null!==F.use?this._getUse(F.use,Y._reporterState.obj)._decode(Y,T):Y.error("unknown tag: "+I)},X.prototype._getUse=function(I,Y){const T=this._baseState;return T.useDecoder=this._use(I,Y),it(null===T.useDecoder._baseState.parent),T.useDecoder=T.useDecoder._baseState.children[0],T.implicit!==T.useDecoder._baseState.implicit&&(T.useDecoder=T.useDecoder.clone(),T.useDecoder._baseState.implicit=T.implicit),T.useDecoder},X.prototype._decodeChoice=function(I,Y){const T=this._baseState;let F=null,O=!1;return Object.keys(T.choice).some(function(V){const G=I.save(),R=T.choice[V];try{const $=R._decode(I,Y);if(I.isError($))return!1;F={type:V,value:$},O=!0}catch($){return I.restore(G),!1}return!0},this),O?F:I.error("Choice not matched")},X.prototype._createEncoderBuffer=function(I){return new xt(I,this.reporter)},X.prototype._encode=function(I,Y,T){const F=this._baseState;if(null!==F.default&&F.default===I)return;const O=this._encodeValue(I,Y,T);return void 0===O||this._skipDefault(O,Y,T)?void 0:O},X.prototype._encodeValue=function(I,Y,T){const F=this._baseState;if(null===F.parent)return F.children[0]._encode(I,Y||new yt);let O=null;if(this.reporter=Y,F.optional&&void 0===I){if(null===F.default)return;I=F.default}let V=null,G=!1;if(F.any)O=this._createEncoderBuffer(I);else if(F.choice)O=this._encodeChoice(I,Y);else if(F.contains)V=this._getUse(F.contains,T)._encode(I,Y),G=!0;else if(F.children)V=F.children.map(function(R){if("null_"===R._baseState.tag)return R._encode(null,Y,I);if(null===R._baseState.key)return Y.error("Child should have a key");const $=Y.enterKey(R._baseState.key);if("object"!=typeof I)return Y.error("Child expected, but input is not object");const Z=R._encode(I[R._baseState.key],Y,I);return Y.leaveKey($),Z},this).filter(function(R){return R}),V=this._createEncoderBuffer(V);else if("seqof"===F.tag||"setof"===F.tag){if(!F.args||1!==F.args.length)return Y.error("Too many args for : "+F.tag);if(!Array.isArray(I))return Y.error("seqof/setof, but data is not Array");const R=this.clone();R._baseState.implicit=null,V=this._createEncoderBuffer(I.map(function($){return this._getUse(this._baseState.args[0],I)._encode($,Y)},R))}else null!==F.use?O=this._getUse(F.use,T)._encode(I,Y):(V=this._encodePrimitive(F.tag,I),G=!0);if(!F.any&&null===F.choice){const R=null!==F.implicit?F.implicit:F.tag,$=null===F.implicit?"universal":"context";null===R?null===F.use&&Y.error("Tag could be omitted only for .use()"):null===F.use&&(O=this._encodeComposite(R,G,$,V))}return null!==F.explicit&&(O=this._encodeComposite(F.explicit,!1,"context",O)),O},X.prototype._encodeChoice=function(I,Y){const T=this._baseState,F=T.choice[I.type];return F||it(!1,I.type+" not found in "+JSON.stringify(Object.keys(T.choice))),F._encode(I.value,Y)},X.prototype._encodePrimitive=function(I,Y){const T=this._baseState;if(/str$/.test(I))return this._encodeStr(Y,I);if("objid"===I&&T.args)return this._encodeObjid(Y,T.reverseArgs[0],T.args[1]);if("objid"===I)return this._encodeObjid(Y,null,null);if("gentime"===I||"utctime"===I)return this._encodeTime(Y,I);if("null_"===I)return this._encodeNull();if("int"===I||"enum"===I)return this._encodeInt(Y,T.args&&T.reverseArgs[0]);if("bool"===I)return this._encodeBool(Y);if("objDesc"===I)return this._encodeStr(Y,I);throw new Error("Unsupported tag: "+I)},X.prototype._isNumstr=function(I){return/^[0-9 ]*$/.test(I)},X.prototype._isPrintstr=function(I){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(I)}},5610:(Yt,q,vt)=>{"use strict";const yt=vt(3516);function xt(it){this._reporterState={obj:null,path:[],options:it||{},errors:[]}}function et(it,M){this.path=it,this.rethrow(M)}q.b=xt,xt.prototype.isError=function(M){return M instanceof et},xt.prototype.save=function(){const M=this._reporterState;return{obj:M.obj,pathLen:M.path.length}},xt.prototype.restore=function(M){const j=this._reporterState;j.obj=M.obj,j.path=j.path.slice(0,M.pathLen)},xt.prototype.enterKey=function(M){return this._reporterState.path.push(M)},xt.prototype.exitKey=function(M){const j=this._reporterState;j.path=j.path.slice(0,M-1)},xt.prototype.leaveKey=function(M,j,H){const X=this._reporterState;this.exitKey(M),null!==X.obj&&(X.obj[j]=H)},xt.prototype.path=function(){return this._reporterState.path.join("/")},xt.prototype.enterObject=function(){const M=this._reporterState,j=M.obj;return M.obj={},j},xt.prototype.leaveObject=function(M){const j=this._reporterState,H=j.obj;return j.obj=M,H},xt.prototype.error=function(M){let j;const H=this._reporterState,X=M instanceof et;if(j=X?M:new et(H.path.map(function(z){return"["+JSON.stringify(z)+"]"}).join(""),M.message||M,M.stack),!H.options.partial)throw j;return X||H.errors.push(j),j},xt.prototype.wrapResult=function(M){const j=this._reporterState;return j.options.partial?{result:this.isError(M)?null:M,errors:j.errors}:M},yt(et,Error),et.prototype.rethrow=function(M){if(this.message=M+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,et),!this.stack)try{throw new Error(this.message)}catch(j){this.stack=j.stack}return this}},6596:(Yt,q)=>{"use strict";function vt(yt){const xt={};return Object.keys(yt).forEach(function(et){(0|et)==et&&(et|=0),xt[yt[et]]=et}),xt}q.tagClass={0:"universal",1:"application",2:"context",3:"private"},q.tagClassByName=vt(q.tagClass),q.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},q.tagByName=vt(q.tag)},8563:(Yt,q,vt)=>{"use strict";const yt=q;yt._reverse=function(et){const it={};return Object.keys(et).forEach(function(M){(0|M)==M&&(M|=0),it[et[M]]=M}),it},yt.der=vt(6596)},7115:(Yt,q,vt)=>{"use strict";const yt=vt(3516),xt=vt(5314),et=vt(2995).C,it=vt(4878),M=vt(6596);function j(B){this.enc="der",this.name=B.name,this.entity=B,this.tree=new H,this.tree._init(B.body)}function H(B){it.call(this,"der",B)}function X(B,I){let Y=B.readUInt8(I);if(B.isError(Y))return Y;const T=M.tagClass[Y>>6],F=0==(32&Y);if(31==(31&Y)){let V=Y;for(Y=0;128==(128&V);){if(V=B.readUInt8(I),B.isError(V))return V;Y<<=7,Y|=127&V}}else Y&=31;return{cls:T,primitive:F,tag:Y,tagStr:M.tag[Y]}}function z(B,I,Y){let T=B.readUInt8(Y);if(B.isError(T))return T;if(!I&&128===T)return null;if(0==(128&T))return T;const F=127&T;if(F>4)return B.error("length octect is too long");T=0;for(let O=0;O<F;O++){T<<=8;const V=B.readUInt8(Y);if(B.isError(V))return V;T|=V}return T}Yt.exports=j,j.prototype.decode=function(I,Y){return et.isDecoderBuffer(I)||(I=new et(I,Y)),this.tree._decode(I,Y)},yt(H,it),H.prototype._peekTag=function(I,Y,T){if(I.isEmpty())return!1;const F=I.save(),O=X(I,'Failed to peek tag: "'+Y+'"');return I.isError(O)?O:(I.restore(F),O.tag===Y||O.tagStr===Y||O.tagStr+"of"===Y||T)},H.prototype._decodeTag=function(I,Y,T){const F=X(I,'Failed to decode tag of "'+Y+'"');if(I.isError(F))return F;let O=z(I,F.primitive,'Failed to get length of "'+Y+'"');if(I.isError(O))return O;if(!T&&F.tag!==Y&&F.tagStr!==Y&&F.tagStr+"of"!==Y)return I.error('Failed to match tag: "'+Y+'"');if(F.primitive||null!==O)return I.skip(O,'Failed to match body of: "'+Y+'"');const V=I.save(),G=this._skipUntilEnd(I,'Failed to skip indefinite length body: "'+this.tag+'"');return I.isError(G)?G:(O=I.offset-V.offset,I.restore(V),I.skip(O,'Failed to match body of: "'+Y+'"'))},H.prototype._skipUntilEnd=function(I,Y){for(;;){const T=X(I,Y);if(I.isError(T))return T;const F=z(I,T.primitive,Y);if(I.isError(F))return F;let O;if(O=T.primitive||null!==F?I.skip(F):this._skipUntilEnd(I,Y),I.isError(O))return O;if("end"===T.tagStr)break}},H.prototype._decodeList=function(I,Y,T,F){const O=[];for(;!I.isEmpty();){const V=this._peekTag(I,"end");if(I.isError(V))return V;const G=T.decode(I,"der",F);if(I.isError(G)&&V)break;O.push(G)}return O},H.prototype._decodeStr=function(I,Y){if("bitstr"===Y){const T=I.readUInt8();return I.isError(T)?T:{unused:T,data:I.raw()}}if("bmpstr"===Y){const T=I.raw();if(T.length%2==1)return I.error("Decoding of string type: bmpstr length mismatch");let F="";for(let O=0;O<T.length/2;O++)F+=String.fromCharCode(T.readUInt16BE(2*O));return F}if("numstr"===Y){const T=I.raw().toString("ascii");return this._isNumstr(T)?T:I.error("Decoding of string type: numstr unsupported characters")}if("octstr"===Y)return I.raw();if("objDesc"===Y)return I.raw();if("printstr"===Y){const T=I.raw().toString("ascii");return this._isPrintstr(T)?T:I.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(Y)?I.raw().toString():I.error("Decoding of string type: "+Y+" unsupported")},H.prototype._decodeObjid=function(I,Y,T){let F;const O=[];let V=0,G=0;for(;!I.isEmpty();)G=I.readUInt8(),V<<=7,V|=127&G,0==(128&G)&&(O.push(V),V=0);if(128&G&&O.push(V),F=T?O:[O[0]/40|0,O[0]%40].concat(O.slice(1)),Y){let Z=Y[F.join(" ")];void 0===Z&&(Z=Y[F.join(".")]),void 0!==Z&&(F=Z)}return F},H.prototype._decodeTime=function(I,Y){const T=I.raw().toString();let F,O,V,G,R,$;if("gentime"===Y)F=0|T.slice(0,4),O=0|T.slice(4,6),V=0|T.slice(6,8),G=0|T.slice(8,10),R=0|T.slice(10,12),$=0|T.slice(12,14);else{if("utctime"!==Y)return I.error("Decoding "+Y+" time is not supported yet");F=0|T.slice(0,2),O=0|T.slice(2,4),V=0|T.slice(4,6),G=0|T.slice(6,8),R=0|T.slice(8,10),$=0|T.slice(10,12),F=F<70?2e3+F:1900+F}return Date.UTC(F,O-1,V,G,R,$,0)},H.prototype._decodeNull=function(){return null},H.prototype._decodeBool=function(I){const Y=I.readUInt8();return I.isError(Y)?Y:0!==Y},H.prototype._decodeInt=function(I,Y){const T=I.raw();let F=new xt(T);return Y&&(F=Y[F.toString(10)]||F),F},H.prototype._use=function(I,Y){return"function"==typeof I&&(I=I(Y)),I._getDecoder("der").tree}},3435:(Yt,q,vt)=>{"use strict";const yt=q;yt.der=vt(7115),yt.pem=vt(9796)},9796:(Yt,q,vt)=>{"use strict";const yt=vt(3516),xt=vt(7356).Buffer,et=vt(7115);function it(M){et.call(this,M),this.enc="pem"}yt(it,et),Yt.exports=it,it.prototype.decode=function(j,H){const X=j.toString().split(/[\r\n]+/g),z=H.label.toUpperCase(),B=/^-----(BEGIN|END) ([^-]+)-----$/;let I=-1,Y=-1;for(let O=0;O<X.length;O++){const V=X[O].match(B);if(null!==V&&V[2]===z){if(-1!==I){if("END"!==V[1])break;Y=O;break}if("BEGIN"!==V[1])break;I=O}}if(-1===I||-1===Y)throw new Error("PEM section not found for: "+z);const T=X.slice(I+1,Y).join("");T.replace(/[^a-z0-9+/=]+/gi,"");const F=xt.from(T,"base64");return et.prototype.decode.call(this,F,H)}},4857:(Yt,q,vt)=>{"use strict";const yt=vt(3516),xt=vt(7356).Buffer,et=vt(4878),it=vt(6596);function M(z){this.enc="der",this.name=z.name,this.entity=z,this.tree=new j,this.tree._init(z.body)}function j(z){et.call(this,"der",z)}function H(z){return z<10?"0"+z:z}Yt.exports=M,M.prototype.encode=function(B,I){return this.tree._encode(B,I).join()},yt(j,et),j.prototype._encodeComposite=function(B,I,Y,T){const F=function(z,B,I,Y){let T;if("seqof"===z?z="seq":"setof"===z&&(z="set"),it.tagByName.hasOwnProperty(z))T=it.tagByName[z];else{if("number"!=typeof z||(0|z)!==z)return Y.error("Unknown tag: "+z);T=z}return T>=31?Y.error("Multi-octet tag encoding unsupported"):(B||(T|=32),T|=it.tagClassByName[I||"universal"]<<6,T)}(B,I,Y,this.reporter);if(T.length<128){const G=xt.alloc(2);return G[0]=F,G[1]=T.length,this._createEncoderBuffer([G,T])}let O=1;for(let G=T.length;G>=256;G>>=8)O++;const V=xt.alloc(2+O);V[0]=F,V[1]=128|O;for(let G=1+O,R=T.length;R>0;G--,R>>=8)V[G]=255&R;return this._createEncoderBuffer([V,T])},j.prototype._encodeStr=function(B,I){if("bitstr"===I)return this._createEncoderBuffer([0|B.unused,B.data]);if("bmpstr"===I){const Y=xt.alloc(2*B.length);for(let T=0;T<B.length;T++)Y.writeUInt16BE(B.charCodeAt(T),2*T);return this._createEncoderBuffer(Y)}return"numstr"===I?this._isNumstr(B)?this._createEncoderBuffer(B):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===I?this._isPrintstr(B)?this._createEncoderBuffer(B):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(I)||"objDesc"===I?this._createEncoderBuffer(B):this.reporter.error("Encoding of string type: "+I+" unsupported")},j.prototype._encodeObjid=function(B,I,Y){if("string"==typeof B){if(!I)return this.reporter.error("string objid given, but no values map found");if(!I.hasOwnProperty(B))return this.reporter.error("objid not found in values map");B=I[B].split(/[\s.]+/g);for(let V=0;V<B.length;V++)B[V]|=0}else if(Array.isArray(B)){B=B.slice();for(let V=0;V<B.length;V++)B[V]|=0}if(!Array.isArray(B))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(B));if(!Y){if(B[1]>=40)return this.reporter.error("Second objid identifier OOB");B.splice(0,2,40*B[0]+B[1])}let T=0;for(let V=0;V<B.length;V++){let G=B[V];for(T++;G>=128;G>>=7)T++}const F=xt.alloc(T);let O=F.length-1;for(let V=B.length-1;V>=0;V--){let G=B[V];for(F[O--]=127&G;(G>>=7)>0;)F[O--]=128|127&G}return this._createEncoderBuffer(F)},j.prototype._encodeTime=function(B,I){let Y;const T=new Date(B);return"gentime"===I?Y=[H(T.getUTCFullYear()),H(T.getUTCMonth()+1),H(T.getUTCDate()),H(T.getUTCHours()),H(T.getUTCMinutes()),H(T.getUTCSeconds()),"Z"].join(""):"utctime"===I?Y=[H(T.getUTCFullYear()%100),H(T.getUTCMonth()+1),H(T.getUTCDate()),H(T.getUTCHours()),H(T.getUTCMinutes()),H(T.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+I+" time is not supported yet"),this._encodeStr(Y,"octstr")},j.prototype._encodeNull=function(){return this._createEncoderBuffer("")},j.prototype._encodeInt=function(B,I){if("string"==typeof B){if(!I)return this.reporter.error("String int or enum given, but no values map");if(!I.hasOwnProperty(B))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(B));B=I[B]}if("number"!=typeof B&&!xt.isBuffer(B)){const F=B.toArray();!B.sign&&128&F[0]&&F.unshift(0),B=xt.from(F)}if(xt.isBuffer(B)){let F=B.length;0===B.length&&F++;const O=xt.alloc(F);return B.copy(O),0===B.length&&(O[0]=0),this._createEncoderBuffer(O)}if(B<128)return this._createEncoderBuffer(B);if(B<256)return this._createEncoderBuffer([0,B]);let Y=1;for(let F=B;F>=256;F>>=8)Y++;const T=new Array(Y);for(let F=T.length-1;F>=0;F--)T[F]=255&B,B>>=8;return 128&T[0]&&T.unshift(0),this._createEncoderBuffer(xt.from(T))},j.prototype._encodeBool=function(B){return this._createEncoderBuffer(B?255:0)},j.prototype._use=function(B,I){return"function"==typeof B&&(B=B(I)),B._getEncoder("der").tree},j.prototype._skipDefault=function(B,I,Y){const T=this._baseState;let F;if(null===T.default)return!1;const O=B.join();if(void 0===T.defaultBuffer&&(T.defaultBuffer=this._encodeValue(T.default,I,Y).join()),O.length!==T.defaultBuffer.length)return!1;for(F=0;F<O.length;F++)if(O[F]!==T.defaultBuffer[F])return!1;return!0}},9589:(Yt,q,vt)=>{"use strict";const yt=q;yt.der=vt(4857),yt.pem=vt(5695)},5695:(Yt,q,vt)=>{"use strict";const yt=vt(3516),xt=vt(4857);function et(it){xt.call(this,it),this.enc="pem"}yt(et,xt),Yt.exports=et,et.prototype.encode=function(M,j){const X=xt.prototype.encode.call(this,M).toString("base64"),z=["-----BEGIN "+j.label+"-----"];for(let B=0;B<X.length;B+=64)z.push(X.slice(B,B+64));return z.push("-----END "+j.label+"-----"),z.join("\n")}},5314:function(Yt,q,vt){!function(yt,xt){"use strict";function et(k,u){if(!k)throw new Error(u||"Assertion failed")}function it(k,u){k.super_=u;var p=function(){};p.prototype=u.prototype,k.prototype=new p,k.prototype.constructor=k}function M(k,u,p){if(M.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(p=u,u=10),this._init(k||0,u||10,p||"be"))}var j;"object"==typeof yt?yt.exports=M:xt.BN=M,M.BN=M,M.wordSize=26;try{j="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:vt(950).Buffer}catch(k){}function H(k,u){var p=k.charCodeAt(u);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function X(k,u,p){var v=H(k,p);return p-1>=u&&(v|=H(k,p-1)<<4),v}function z(k,u,p,v){for(var g=0,w=Math.min(k.length,p),b=u;b<w;b++){var D=k.charCodeAt(b)-48;g*=v,g+=D>=49?D-49+10:D>=17?D-17+10:D}return g}M.isBN=function(u){return u instanceof M||null!==u&&"object"==typeof u&&u.constructor.wordSize===M.wordSize&&Array.isArray(u.words)},M.max=function(u,p){return u.cmp(p)>0?u:p},M.min=function(u,p){return u.cmp(p)<0?u:p},M.prototype._init=function(u,p,v){if("number"==typeof u)return this._initNumber(u,p,v);if("object"==typeof u)return this._initArray(u,p,v);"hex"===p&&(p=16),et(p===(0|p)&&p>=2&&p<=36);var g=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<u.length&&(16===p?this._parseHex(u,g,v):(this._parseBase(u,p,g),"le"===v&&this._initArray(this.toArray(),p,v)))},M.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(et(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===v&&this._initArray(this.toArray(),p,v)},M.prototype._initArray=function(u,p,v){if(et("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,b,D=0;if("be"===v)for(g=u.length-1,w=0;g>=0;g-=3)this.words[w]|=(b=u[g]|u[g-1]<<8|u[g-2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);else if("le"===v)for(g=0,w=0;g<u.length;g+=3)this.words[w]|=(b=u[g]|u[g+1]<<8|u[g+2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);return this.strip()},M.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var D,w=0,b=0;if("be"===v)for(g=u.length-1;g>=p;g-=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;else for(g=(u.length-p)%2==0?p+1:p;g<u.length;g+=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;this.strip()},M.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=p)g++;g--,w=w/p|0;for(var b=u.length-v,D=b%g,_=Math.min(b,b-D)+v,f=0,C=v;C<_;C+=g)f=z(u,C,C+g,p),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==D){var K=1;for(f=z(u,C,u.length,p),C=0;C<D;C++)K*=p;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},M.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red},M.prototype.clone=function(){var u=new M(null);return this.copy(u),u},M.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function F(k,u,p){p.negative=u.negative^k.negative;var v=k.length+u.length|0;p.length=v,v=v-1|0;var g=0|k.words[0],w=0|u.words[0],b=g*w,_=b/67108864|0;p.words[0]=67108863&b;for(var f=1;f<v;f++){for(var C=_>>>26,K=67108863&_,U=Math.min(f,u.length-1),W=Math.max(0,f-k.length+1);W<=U;W++)C+=(b=(g=0|k.words[f-W|0])*(w=0|u.words[W])+K)/67108864|0,K=67108863&b;p.words[f]=0|K,_=0|C}return 0!==_?p.words[f]=0|_:p.length--,p.strip()}M.prototype.toString=function(u,p){var v;if(p=0|p||1,16===(u=u||10)||"hex"===u){v="";for(var g=0,w=0,b=0;b<this.length;b++){var D=this.words[b],_=(16777215&(D<<g|w)).toString(16);v=0!=(w=D>>>24-g&16777215)||b!==this.length-1?B[6-_.length]+_+v:_+v,(g+=2)>=26&&(g-=26,b--)}for(0!==w&&(v=w.toString(16)+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}if(u===(0|u)&&u>=2&&u<=36){var f=I[u],C=Y[u];v="";var K=this.clone();for(K.negative=0;!K.isZero();){var U=K.modn(C).toString(u);v=(K=K.idivn(C)).isZero()?U+v:B[f-U.length]+U+v}for(this.isZero()&&(v="0"+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}et(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&et(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(u,p){return et(void 0!==j),this.toArrayLike(j,u,p)},M.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)},M.prototype.toArrayLike=function(u,p,v){var g=this.byteLength(),w=v||Math.max(1,g);et(g<=w,"byte array longer than desired length"),et(w>0,"Requested array length <= 0"),this.strip();var _,f,b="le"===p,D=new u(w),C=this.clone();if(b){for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[f]=_;for(;f<w;f++)D[f]=0}else{for(f=0;f<w-g;f++)D[f]=0;for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[w-f-1]=_}return D},M.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},M.prototype._zeroBits=function(u){if(0===u)return 26;var p=u,v=0;return 0==(8191&p)&&(v+=13,p>>>=13),0==(127&p)&&(v+=7,p>>>=7),0==(15&p)&&(v+=4,p>>>=4),0==(3&p)&&(v+=2,p>>>=2),0==(1&p)&&v++,v},M.prototype.bitLength=function(){var p=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+p},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,26!==v)break}return u},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},M.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this.strip()},M.prototype.ior=function(u){return et(0==(this.negative|u.negative)),this.iuor(u)},M.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},M.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},M.prototype.iuand=function(u){var p;p=this.length>u.length?u:this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this.strip()},M.prototype.iand=function(u){return et(0==(this.negative|u.negative)),this.iuand(u)},M.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},M.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},M.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var g=0;g<v.length;g++)this.words[g]=p.words[g]^v.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this.strip()},M.prototype.ixor=function(u){return et(0==(this.negative|u.negative)),this.iuxor(u)},M.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},M.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},M.prototype.inotn=function(u){et("number"==typeof u&&u>=0);var p=0|Math.ceil(u/26),v=u%26;this._expand(p),v>0&&p--;for(var g=0;g<p;g++)this.words[g]=67108863&~this.words[g];return v>0&&(this.words[g]=~this.words[g]&67108863>>26-v),this.strip()},M.prototype.notn=function(u){return this.clone().inotn(u)},M.prototype.setn=function(u,p){et("number"==typeof u&&u>=0);var v=u/26|0,g=u%26;return this._expand(v+1),this.words[v]=p?this.words[v]|1<<g:this.words[v]&~(1<<g),this.strip()},M.prototype.iadd=function(u){var p,v,g;if(0!==this.negative&&0===u.negative)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();this.length>u.length?(v=this,g=u):(v=u,g=this);for(var w=0,b=0;b<g.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+(0|g.words[b])+w),w=p>>>26;for(;0!==w&&b<v.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+w),w=p>>>26;if(this.length=v.length,0!==w)this.words[this.length]=w,this.length++;else if(v!==this)for(;b<v.length;b++)this.words[b]=v.words[b];return this},M.prototype.add=function(u){var p;return 0!==u.negative&&0===this.negative?(u.negative=0,p=this.sub(u),u.negative^=1,p):0===u.negative&&0!==this.negative?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},M.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g,w,v=this.cmp(u);if(0===v)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(g=this,w=u):(g=u,w=this);for(var b=0,D=0;D<w.length;D++)b=(p=(0|g.words[D])-(0|w.words[D])+b)>>26,this.words[D]=67108863&p;for(;0!==b&&D<g.length;D++)b=(p=(0|g.words[D])+b)>>26,this.words[D]=67108863&p;if(0===b&&D<g.length&&g!==this)for(;D<g.length;D++)this.words[D]=g.words[D];return this.length=Math.max(this.length,D),g!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(u){return this.clone().isub(u)};var O=function(u,p,v){var _,f,C,g=u.words,w=p.words,b=v.words,D=0,K=0|g[0],U=8191&K,W=K>>>13,st=0|g[1],ct=8191&st,Ct=st>>>13,kt=0|g[2],wt=8191&kt,ut=kt>>>13,Ot=0|g[3],bt=8191&Ot,pt=Ot>>>13,Dt=0|g[4],Rt=8191&Dt,St=Dt>>>13,te=0|g[5],At=8191&te,Kt=te>>>13,Oe=0|g[6],Jt=8191&Oe,$t=Oe>>>13,he=0|g[7],Tt=8191&he,Bt=he>>>13,le=0|g[8],Mt=8191&le,ot=le>>>13,J=0|g[9],Nt=8191&J,Gt=J>>>13,ge=0|w[0],qt=8191&ge,ae=ge>>>13,ei=0|w[1],be=8191&ei,xe=ei>>>13,Ke=0|w[2],Ne=8191&Ke,Le=Ke>>>13,Di=0|w[3],Ve=8191&Di,fe=Di>>>13,si=0|w[4],je=8191&si,se=si>>>13,Se=0|w[5],re=8191&Se,jt=Se>>>13,ne=0|w[6],Ut=8191&ne,ee=ne>>>13,ye=0|w[7],Lt=8191&ye,ue=ye>>>13,ni=0|w[8],we=8191&ni,Ae=ni>>>13,Ti=0|w[9],ke=8191&Ti,De=Ti>>>13;v.negative=u.negative^p.negative,v.length=19;var fi=(D+(_=Math.imul(U,qt))|0)+((8191&(f=(f=Math.imul(U,ae))+Math.imul(W,qt)|0))<<13)|0;D=((C=Math.imul(W,ae))+(f>>>13)|0)+(fi>>>26)|0,fi&=67108863,_=Math.imul(ct,qt),f=(f=Math.imul(ct,ae))+Math.imul(Ct,qt)|0,C=Math.imul(Ct,ae);var hi=(D+(_=_+Math.imul(U,be)|0)|0)+((8191&(f=(f=f+Math.imul(U,xe)|0)+Math.imul(W,be)|0))<<13)|0;D=((C=C+Math.imul(W,xe)|0)+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,_=Math.imul(wt,qt),f=(f=Math.imul(wt,ae))+Math.imul(ut,qt)|0,C=Math.imul(ut,ae),_=_+Math.imul(ct,be)|0,f=(f=f+Math.imul(ct,xe)|0)+Math.imul(Ct,be)|0,C=C+Math.imul(Ct,xe)|0;var Pi=(D+(_=_+Math.imul(U,Ne)|0)|0)+((8191&(f=(f=f+Math.imul(U,Le)|0)+Math.imul(W,Ne)|0))<<13)|0;D=((C=C+Math.imul(W,Le)|0)+(f>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,_=Math.imul(bt,qt),f=(f=Math.imul(bt,ae))+Math.imul(pt,qt)|0,C=Math.imul(pt,ae),_=_+Math.imul(wt,be)|0,f=(f=f+Math.imul(wt,xe)|0)+Math.imul(ut,be)|0,C=C+Math.imul(ut,xe)|0,_=_+Math.imul(ct,Ne)|0,f=(f=f+Math.imul(ct,Le)|0)+Math.imul(Ct,Ne)|0,C=C+Math.imul(Ct,Le)|0;var vn=(D+(_=_+Math.imul(U,Ve)|0)|0)+((8191&(f=(f=f+Math.imul(U,fe)|0)+Math.imul(W,Ve)|0))<<13)|0;D=((C=C+Math.imul(W,fe)|0)+(f>>>13)|0)+(vn>>>26)|0,vn&=67108863,_=Math.imul(Rt,qt),f=(f=Math.imul(Rt,ae))+Math.imul(St,qt)|0,C=Math.imul(St,ae),_=_+Math.imul(bt,be)|0,f=(f=f+Math.imul(bt,xe)|0)+Math.imul(pt,be)|0,C=C+Math.imul(pt,xe)|0,_=_+Math.imul(wt,Ne)|0,f=(f=f+Math.imul(wt,Le)|0)+Math.imul(ut,Ne)|0,C=C+Math.imul(ut,Le)|0,_=_+Math.imul(ct,Ve)|0,f=(f=f+Math.imul(ct,fe)|0)+Math.imul(Ct,Ve)|0,C=C+Math.imul(Ct,fe)|0;var ji=(D+(_=_+Math.imul(U,je)|0)|0)+((8191&(f=(f=f+Math.imul(U,se)|0)+Math.imul(W,je)|0))<<13)|0;D=((C=C+Math.imul(W,se)|0)+(f>>>13)|0)+(ji>>>26)|0,ji&=67108863,_=Math.imul(At,qt),f=(f=Math.imul(At,ae))+Math.imul(Kt,qt)|0,C=Math.imul(Kt,ae),_=_+Math.imul(Rt,be)|0,f=(f=f+Math.imul(Rt,xe)|0)+Math.imul(St,be)|0,C=C+Math.imul(St,xe)|0,_=_+Math.imul(bt,Ne)|0,f=(f=f+Math.imul(bt,Le)|0)+Math.imul(pt,Ne)|0,C=C+Math.imul(pt,Le)|0,_=_+Math.imul(wt,Ve)|0,f=(f=f+Math.imul(wt,fe)|0)+Math.imul(ut,Ve)|0,C=C+Math.imul(ut,fe)|0,_=_+Math.imul(ct,je)|0,f=(f=f+Math.imul(ct,se)|0)+Math.imul(Ct,je)|0,C=C+Math.imul(Ct,se)|0;var Ki=(D+(_=_+Math.imul(U,re)|0)|0)+((8191&(f=(f=f+Math.imul(U,jt)|0)+Math.imul(W,re)|0))<<13)|0;D=((C=C+Math.imul(W,jt)|0)+(f>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,_=Math.imul(Jt,qt),f=(f=Math.imul(Jt,ae))+Math.imul($t,qt)|0,C=Math.imul($t,ae),_=_+Math.imul(At,be)|0,f=(f=f+Math.imul(At,xe)|0)+Math.imul(Kt,be)|0,C=C+Math.imul(Kt,xe)|0,_=_+Math.imul(Rt,Ne)|0,f=(f=f+Math.imul(Rt,Le)|0)+Math.imul(St,Ne)|0,C=C+Math.imul(St,Le)|0,_=_+Math.imul(bt,Ve)|0,f=(f=f+Math.imul(bt,fe)|0)+Math.imul(pt,Ve)|0,C=C+Math.imul(pt,fe)|0,_=_+Math.imul(wt,je)|0,f=(f=f+Math.imul(wt,se)|0)+Math.imul(ut,je)|0,C=C+Math.imul(ut,se)|0,_=_+Math.imul(ct,re)|0,f=(f=f+Math.imul(ct,jt)|0)+Math.imul(Ct,re)|0,C=C+Math.imul(Ct,jt)|0;var oi=(D+(_=_+Math.imul(U,Ut)|0)|0)+((8191&(f=(f=f+Math.imul(U,ee)|0)+Math.imul(W,Ut)|0))<<13)|0;D=((C=C+Math.imul(W,ee)|0)+(f>>>13)|0)+(oi>>>26)|0,oi&=67108863,_=Math.imul(Tt,qt),f=(f=Math.imul(Tt,ae))+Math.imul(Bt,qt)|0,C=Math.imul(Bt,ae),_=_+Math.imul(Jt,be)|0,f=(f=f+Math.imul(Jt,xe)|0)+Math.imul($t,be)|0,C=C+Math.imul($t,xe)|0,_=_+Math.imul(At,Ne)|0,f=(f=f+Math.imul(At,Le)|0)+Math.imul(Kt,Ne)|0,C=C+Math.imul(Kt,Le)|0,_=_+Math.imul(Rt,Ve)|0,f=(f=f+Math.imul(Rt,fe)|0)+Math.imul(St,Ve)|0,C=C+Math.imul(St,fe)|0,_=_+Math.imul(bt,je)|0,f=(f=f+Math.imul(bt,se)|0)+Math.imul(pt,je)|0,C=C+Math.imul(pt,se)|0,_=_+Math.imul(wt,re)|0,f=(f=f+Math.imul(wt,jt)|0)+Math.imul(ut,re)|0,C=C+Math.imul(ut,jt)|0,_=_+Math.imul(ct,Ut)|0,f=(f=f+Math.imul(ct,ee)|0)+Math.imul(Ct,Ut)|0,C=C+Math.imul(Ct,ee)|0;var Yn=(D+(_=_+Math.imul(U,Lt)|0)|0)+((8191&(f=(f=f+Math.imul(U,ue)|0)+Math.imul(W,Lt)|0))<<13)|0;D=((C=C+Math.imul(W,ue)|0)+(f>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,_=Math.imul(Mt,qt),f=(f=Math.imul(Mt,ae))+Math.imul(ot,qt)|0,C=Math.imul(ot,ae),_=_+Math.imul(Tt,be)|0,f=(f=f+Math.imul(Tt,xe)|0)+Math.imul(Bt,be)|0,C=C+Math.imul(Bt,xe)|0,_=_+Math.imul(Jt,Ne)|0,f=(f=f+Math.imul(Jt,Le)|0)+Math.imul($t,Ne)|0,C=C+Math.imul($t,Le)|0,_=_+Math.imul(At,Ve)|0,f=(f=f+Math.imul(At,fe)|0)+Math.imul(Kt,Ve)|0,C=C+Math.imul(Kt,fe)|0,_=_+Math.imul(Rt,je)|0,f=(f=f+Math.imul(Rt,se)|0)+Math.imul(St,je)|0,C=C+Math.imul(St,se)|0,_=_+Math.imul(bt,re)|0,f=(f=f+Math.imul(bt,jt)|0)+Math.imul(pt,re)|0,C=C+Math.imul(pt,jt)|0,_=_+Math.imul(wt,Ut)|0,f=(f=f+Math.imul(wt,ee)|0)+Math.imul(ut,Ut)|0,C=C+Math.imul(ut,ee)|0,_=_+Math.imul(ct,Lt)|0,f=(f=f+Math.imul(ct,ue)|0)+Math.imul(Ct,Lt)|0,C=C+Math.imul(Ct,ue)|0;var rn=(D+(_=_+Math.imul(U,we)|0)|0)+((8191&(f=(f=f+Math.imul(U,Ae)|0)+Math.imul(W,we)|0))<<13)|0;D=((C=C+Math.imul(W,Ae)|0)+(f>>>13)|0)+(rn>>>26)|0,rn&=67108863,_=Math.imul(Nt,qt),f=(f=Math.imul(Nt,ae))+Math.imul(Gt,qt)|0,C=Math.imul(Gt,ae),_=_+Math.imul(Mt,be)|0,f=(f=f+Math.imul(Mt,xe)|0)+Math.imul(ot,be)|0,C=C+Math.imul(ot,xe)|0,_=_+Math.imul(Tt,Ne)|0,f=(f=f+Math.imul(Tt,Le)|0)+Math.imul(Bt,Ne)|0,C=C+Math.imul(Bt,Le)|0,_=_+Math.imul(Jt,Ve)|0,f=(f=f+Math.imul(Jt,fe)|0)+Math.imul($t,Ve)|0,C=C+Math.imul($t,fe)|0,_=_+Math.imul(At,je)|0,f=(f=f+Math.imul(At,se)|0)+Math.imul(Kt,je)|0,C=C+Math.imul(Kt,se)|0,_=_+Math.imul(Rt,re)|0,f=(f=f+Math.imul(Rt,jt)|0)+Math.imul(St,re)|0,C=C+Math.imul(St,jt)|0,_=_+Math.imul(bt,Ut)|0,f=(f=f+Math.imul(bt,ee)|0)+Math.imul(pt,Ut)|0,C=C+Math.imul(pt,ee)|0,_=_+Math.imul(wt,Lt)|0,f=(f=f+Math.imul(wt,ue)|0)+Math.imul(ut,Lt)|0,C=C+Math.imul(ut,ue)|0,_=_+Math.imul(ct,we)|0,f=(f=f+Math.imul(ct,Ae)|0)+Math.imul(Ct,we)|0,C=C+Math.imul(Ct,Ae)|0;var an=(D+(_=_+Math.imul(U,ke)|0)|0)+((8191&(f=(f=f+Math.imul(U,De)|0)+Math.imul(W,ke)|0))<<13)|0;D=((C=C+Math.imul(W,De)|0)+(f>>>13)|0)+(an>>>26)|0,an&=67108863,_=Math.imul(Nt,be),f=(f=Math.imul(Nt,xe))+Math.imul(Gt,be)|0,C=Math.imul(Gt,xe),_=_+Math.imul(Mt,Ne)|0,f=(f=f+Math.imul(Mt,Le)|0)+Math.imul(ot,Ne)|0,C=C+Math.imul(ot,Le)|0,_=_+Math.imul(Tt,Ve)|0,f=(f=f+Math.imul(Tt,fe)|0)+Math.imul(Bt,Ve)|0,C=C+Math.imul(Bt,fe)|0,_=_+Math.imul(Jt,je)|0,f=(f=f+Math.imul(Jt,se)|0)+Math.imul($t,je)|0,C=C+Math.imul($t,se)|0,_=_+Math.imul(At,re)|0,f=(f=f+Math.imul(At,jt)|0)+Math.imul(Kt,re)|0,C=C+Math.imul(Kt,jt)|0,_=_+Math.imul(Rt,Ut)|0,f=(f=f+Math.imul(Rt,ee)|0)+Math.imul(St,Ut)|0,C=C+Math.imul(St,ee)|0,_=_+Math.imul(bt,Lt)|0,f=(f=f+Math.imul(bt,ue)|0)+Math.imul(pt,Lt)|0,C=C+Math.imul(pt,ue)|0,_=_+Math.imul(wt,we)|0,f=(f=f+Math.imul(wt,Ae)|0)+Math.imul(ut,we)|0,C=C+Math.imul(ut,Ae)|0;var Ui=(D+(_=_+Math.imul(ct,ke)|0)|0)+((8191&(f=(f=f+Math.imul(ct,De)|0)+Math.imul(Ct,ke)|0))<<13)|0;D=((C=C+Math.imul(Ct,De)|0)+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,_=Math.imul(Nt,Ne),f=(f=Math.imul(Nt,Le))+Math.imul(Gt,Ne)|0,C=Math.imul(Gt,Le),_=_+Math.imul(Mt,Ve)|0,f=(f=f+Math.imul(Mt,fe)|0)+Math.imul(ot,Ve)|0,C=C+Math.imul(ot,fe)|0,_=_+Math.imul(Tt,je)|0,f=(f=f+Math.imul(Tt,se)|0)+Math.imul(Bt,je)|0,C=C+Math.imul(Bt,se)|0,_=_+Math.imul(Jt,re)|0,f=(f=f+Math.imul(Jt,jt)|0)+Math.imul($t,re)|0,C=C+Math.imul($t,jt)|0,_=_+Math.imul(At,Ut)|0,f=(f=f+Math.imul(At,ee)|0)+Math.imul(Kt,Ut)|0,C=C+Math.imul(Kt,ee)|0,_=_+Math.imul(Rt,Lt)|0,f=(f=f+Math.imul(Rt,ue)|0)+Math.imul(St,Lt)|0,C=C+Math.imul(St,ue)|0,_=_+Math.imul(bt,we)|0,f=(f=f+Math.imul(bt,Ae)|0)+Math.imul(pt,we)|0,C=C+Math.imul(pt,Ae)|0;var lr=(D+(_=_+Math.imul(wt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(wt,De)|0)+Math.imul(ut,ke)|0))<<13)|0;D=((C=C+Math.imul(ut,De)|0)+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(Nt,Ve),f=(f=Math.imul(Nt,fe))+Math.imul(Gt,Ve)|0,C=Math.imul(Gt,fe),_=_+Math.imul(Mt,je)|0,f=(f=f+Math.imul(Mt,se)|0)+Math.imul(ot,je)|0,C=C+Math.imul(ot,se)|0,_=_+Math.imul(Tt,re)|0,f=(f=f+Math.imul(Tt,jt)|0)+Math.imul(Bt,re)|0,C=C+Math.imul(Bt,jt)|0,_=_+Math.imul(Jt,Ut)|0,f=(f=f+Math.imul(Jt,ee)|0)+Math.imul($t,Ut)|0,C=C+Math.imul($t,ee)|0,_=_+Math.imul(At,Lt)|0,f=(f=f+Math.imul(At,ue)|0)+Math.imul(Kt,Lt)|0,C=C+Math.imul(Kt,ue)|0,_=_+Math.imul(Rt,we)|0,f=(f=f+Math.imul(Rt,Ae)|0)+Math.imul(St,we)|0,C=C+Math.imul(St,Ae)|0;var He=(D+(_=_+Math.imul(bt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(bt,De)|0)+Math.imul(pt,ke)|0))<<13)|0;D=((C=C+Math.imul(pt,De)|0)+(f>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Nt,je),f=(f=Math.imul(Nt,se))+Math.imul(Gt,je)|0,C=Math.imul(Gt,se),_=_+Math.imul(Mt,re)|0,f=(f=f+Math.imul(Mt,jt)|0)+Math.imul(ot,re)|0,C=C+Math.imul(ot,jt)|0,_=_+Math.imul(Tt,Ut)|0,f=(f=f+Math.imul(Tt,ee)|0)+Math.imul(Bt,Ut)|0,C=C+Math.imul(Bt,ee)|0,_=_+Math.imul(Jt,Lt)|0,f=(f=f+Math.imul(Jt,ue)|0)+Math.imul($t,Lt)|0,C=C+Math.imul($t,ue)|0,_=_+Math.imul(At,we)|0,f=(f=f+Math.imul(At,Ae)|0)+Math.imul(Kt,we)|0,C=C+Math.imul(Kt,Ae)|0;var yi=(D+(_=_+Math.imul(Rt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Rt,De)|0)+Math.imul(St,ke)|0))<<13)|0;D=((C=C+Math.imul(St,De)|0)+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,_=Math.imul(Nt,re),f=(f=Math.imul(Nt,jt))+Math.imul(Gt,re)|0,C=Math.imul(Gt,jt),_=_+Math.imul(Mt,Ut)|0,f=(f=f+Math.imul(Mt,ee)|0)+Math.imul(ot,Ut)|0,C=C+Math.imul(ot,ee)|0,_=_+Math.imul(Tt,Lt)|0,f=(f=f+Math.imul(Tt,ue)|0)+Math.imul(Bt,Lt)|0,C=C+Math.imul(Bt,ue)|0,_=_+Math.imul(Jt,we)|0,f=(f=f+Math.imul(Jt,Ae)|0)+Math.imul($t,we)|0,C=C+Math.imul($t,Ae)|0;var tn=(D+(_=_+Math.imul(At,ke)|0)|0)+((8191&(f=(f=f+Math.imul(At,De)|0)+Math.imul(Kt,ke)|0))<<13)|0;D=((C=C+Math.imul(Kt,De)|0)+(f>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul(Nt,Ut),f=(f=Math.imul(Nt,ee))+Math.imul(Gt,Ut)|0,C=Math.imul(Gt,ee),_=_+Math.imul(Mt,Lt)|0,f=(f=f+Math.imul(Mt,ue)|0)+Math.imul(ot,Lt)|0,C=C+Math.imul(ot,ue)|0,_=_+Math.imul(Tt,we)|0,f=(f=f+Math.imul(Tt,Ae)|0)+Math.imul(Bt,we)|0,C=C+Math.imul(Bt,Ae)|0;var wi=(D+(_=_+Math.imul(Jt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Jt,De)|0)+Math.imul($t,ke)|0))<<13)|0;D=((C=C+Math.imul($t,De)|0)+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,_=Math.imul(Nt,Lt),f=(f=Math.imul(Nt,ue))+Math.imul(Gt,Lt)|0,C=Math.imul(Gt,ue),_=_+Math.imul(Mt,we)|0,f=(f=f+Math.imul(Mt,Ae)|0)+Math.imul(ot,we)|0,C=C+Math.imul(ot,Ae)|0;var $n=(D+(_=_+Math.imul(Tt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Tt,De)|0)+Math.imul(Bt,ke)|0))<<13)|0;D=((C=C+Math.imul(Bt,De)|0)+(f>>>13)|0)+($n>>>26)|0,$n&=67108863,_=Math.imul(Nt,we),f=(f=Math.imul(Nt,Ae))+Math.imul(Gt,we)|0,C=Math.imul(Gt,Ae);var sr=(D+(_=_+Math.imul(Mt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Mt,De)|0)+Math.imul(ot,ke)|0))<<13)|0;D=((C=C+Math.imul(ot,De)|0)+(f>>>13)|0)+(sr>>>26)|0,sr&=67108863;var Xe=(D+(_=Math.imul(Nt,ke))|0)+((8191&(f=(f=Math.imul(Nt,De))+Math.imul(Gt,ke)|0))<<13)|0;return D=((C=Math.imul(Gt,De))+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b[0]=fi,b[1]=hi,b[2]=Pi,b[3]=vn,b[4]=ji,b[5]=Ki,b[6]=oi,b[7]=Yn,b[8]=rn,b[9]=an,b[10]=Ui,b[11]=lr,b[12]=He,b[13]=yi,b[14]=tn,b[15]=wi,b[16]=$n,b[17]=sr,b[18]=Xe,0!==D&&(b[19]=D,v.length++),v};function G(k,u,p){return(new R).mulp(k,u,p)}function R(k,u){this.x=k,this.y=u}Math.imul||(O=F),M.prototype.mulTo=function(u,p){var v,g=this.length+u.length;return v=10===this.length&&10===u.length?O(this,u,p):g<63?F(this,u,p):g<1024?function(k,u,p){p.negative=u.negative^k.negative,p.length=k.length+u.length;for(var v=0,g=0,w=0;w<p.length-1;w++){var b=g;g=0;for(var D=67108863&v,_=Math.min(w,u.length-1),f=Math.max(0,w-k.length+1);f<=_;f++){var W=(0|k.words[w-f])*(0|u.words[f]),st=67108863&W;D=67108863&(st=st+D|0),g+=(b=(b=b+(W/67108864|0)|0)+(st>>>26)|0)>>>26,b&=67108863}p.words[w]=D,v=b,b=g}return 0!==v?p.words[w]=v:p.length--,p.strip()}(this,u,p):G(this,u,p),v},R.prototype.makeRBT=function(u){for(var p=new Array(u),v=M.prototype._countBits(u)-1,g=0;g<u;g++)p[g]=this.revBin(g,v,u);return p},R.prototype.revBin=function(u,p,v){if(0===u||u===v-1)return u;for(var g=0,w=0;w<p;w++)g|=(1&u)<<p-w-1,u>>=1;return g},R.prototype.permute=function(u,p,v,g,w,b){for(var D=0;D<b;D++)g[D]=p[u[D]],w[D]=v[u[D]]},R.prototype.transform=function(u,p,v,g,w,b){this.permute(b,u,p,v,g,w);for(var D=1;D<w;D<<=1)for(var _=D<<1,f=Math.cos(2*Math.PI/_),C=Math.sin(2*Math.PI/_),K=0;K<w;K+=_)for(var U=f,W=C,st=0;st<D;st++){var ct=v[K+st],Ct=g[K+st],kt=v[K+st+D],wt=g[K+st+D],ut=U*kt-W*wt;wt=U*wt+W*kt,v[K+st]=ct+(kt=ut),g[K+st]=Ct+wt,v[K+st+D]=ct-kt,g[K+st+D]=Ct-wt,st!==_&&(ut=f*U-C*W,W=f*W+C*U,U=ut)}},R.prototype.guessLen13b=function(u,p){var v=1|Math.max(p,u),g=1&v,w=0;for(v=v/2|0;v;v>>>=1)w++;return 1<<w+1+g},R.prototype.conjugate=function(u,p,v){if(!(v<=1))for(var g=0;g<v/2;g++){var w=u[g];u[g]=u[v-g-1],u[v-g-1]=w,w=p[g],p[g]=-p[v-g-1],p[v-g-1]=-w}},R.prototype.normalize13b=function(u,p){for(var v=0,g=0;g<p/2;g++){var w=8192*Math.round(u[2*g+1]/p)+Math.round(u[2*g]/p)+v;u[g]=67108863&w,v=w<67108864?0:w/67108864|0}return u},R.prototype.convert13b=function(u,p,v,g){for(var w=0,b=0;b<p;b++)v[2*b]=8191&(w+=0|u[b]),v[2*b+1]=8191&(w>>>=13),w>>>=13;for(b=2*p;b<g;++b)v[b]=0;et(0===w),et(0==(-8192&w))},R.prototype.stub=function(u){for(var p=new Array(u),v=0;v<u;v++)p[v]=0;return p},R.prototype.mulp=function(u,p,v){var g=2*this.guessLen13b(u.length,p.length),w=this.makeRBT(g),b=this.stub(g),D=new Array(g),_=new Array(g),f=new Array(g),C=new Array(g),K=new Array(g),U=new Array(g),W=v.words;W.length=g,this.convert13b(u.words,u.length,D,g),this.convert13b(p.words,p.length,C,g),this.transform(D,b,_,f,g,w),this.transform(C,b,K,U,g,w);for(var st=0;st<g;st++){var ct=_[st]*K[st]-f[st]*U[st];f[st]=_[st]*U[st]+f[st]*K[st],_[st]=ct}return this.conjugate(_,f,g),this.transform(_,f,W,b,g,w),this.conjugate(W,b,g),this.normalize13b(W,g),v.negative=u.negative^p.negative,v.length=u.length+p.length,v.strip()},M.prototype.mul=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},M.prototype.mulf=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),G(this,u,p)},M.prototype.imul=function(u){return this.clone().mulTo(u,this)},M.prototype.imuln=function(u){et("number"==typeof u),et(u<67108864);for(var p=0,v=0;v<this.length;v++){var g=(0|this.words[v])*u,w=(67108863&g)+(67108863&p);p>>=26,p+=g/67108864|0,p+=w>>>26,this.words[v]=67108863&w}return 0!==p&&(this.words[v]=p,this.length++),this},M.prototype.muln=function(u){return this.clone().imuln(u)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(u){var p=function(k){for(var u=new Array(k.bitLength()),p=0;p<u.length;p++){var g=p%26;u[p]=(k.words[p/26|0]&1<<g)>>>g}return u}(u);if(0===p.length)return new M(1);for(var v=this,g=0;g<p.length&&0===p[g];g++,v=v.sqr());if(++g<p.length)for(var w=v.sqr();g<p.length;g++,w=w.sqr())0!==p[g]&&(v=v.mul(w));return v},M.prototype.iushln=function(u){et("number"==typeof u&&u>=0);var w,p=u%26,v=(u-p)/26,g=67108863>>>26-p<<26-p;if(0!==p){var b=0;for(w=0;w<this.length;w++){var D=this.words[w]&g;this.words[w]=(0|this.words[w])-D<<p|b,b=D>>>26-p}b&&(this.words[w]=b,this.length++)}if(0!==v){for(w=this.length-1;w>=0;w--)this.words[w+v]=this.words[w];for(w=0;w<v;w++)this.words[w]=0;this.length+=v}return this.strip()},M.prototype.ishln=function(u){return et(0===this.negative),this.iushln(u)},M.prototype.iushrn=function(u,p,v){var g;et("number"==typeof u&&u>=0),g=p?(p-p%26)/26:0;var w=u%26,b=Math.min((u-w)/26,this.length),D=67108863^67108863>>>w<<w,_=v;if(g-=b,g=Math.max(0,g),_){for(var f=0;f<b;f++)_.words[f]=this.words[f];_.length=b}if(0!==b)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var C=0;for(f=this.length-1;f>=0&&(0!==C||f>=g);f--){var K=0|this.words[f];this.words[f]=C<<26-w|K>>>w,C=K&D}return _&&0!==C&&(_.words[_.length++]=C),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(u,p,v){return et(0===this.negative),this.iushrn(u,p,v)},M.prototype.shln=function(u){return this.clone().ishln(u)},M.prototype.ushln=function(u){return this.clone().iushln(u)},M.prototype.shrn=function(u){return this.clone().ishrn(u)},M.prototype.ushrn=function(u){return this.clone().iushrn(u)},M.prototype.testn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return!(this.length<=v||!(this.words[v]&1<<p))},M.prototype.imaskn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return et(0===this.negative,"imaskn works only with positive numbers"),this.length<=v?this:(0!==p&&v++,this.length=Math.min(v,this.length),0!==p&&(this.words[this.length-1]&=67108863^67108863>>>p<<p),this.strip())},M.prototype.maskn=function(u){return this.clone().imaskn(u)},M.prototype.iaddn=function(u){return et("number"==typeof u),et(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},M.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},M.prototype.isubn=function(u){if(et("number"==typeof u),et(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},M.prototype.addn=function(u){return this.clone().iaddn(u)},M.prototype.subn=function(u){return this.clone().isubn(u)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(u,p,v){var w;this._expand(u.length+v);var b,D=0;for(w=0;w<u.length;w++){b=(0|this.words[w+v])+D;var _=(0|u.words[w])*p;D=((b-=67108863&_)>>26)-(_/67108864|0),this.words[w+v]=67108863&b}for(;w<this.length-v;w++)D=(b=(0|this.words[w+v])+D)>>26,this.words[w+v]=67108863&b;if(0===D)return this.strip();for(et(-1===D),D=0,w=0;w<this.length;w++)D=(b=-(0|this.words[w])+D)>>26,this.words[w]=67108863&b;return this.negative=1,this.strip()},M.prototype._wordDiv=function(u,p){var v,g=this.clone(),w=u,b=0|w.words[w.length-1];0!=(v=26-this._countBits(b))&&(w=w.ushln(v),g.iushln(v),b=0|w.words[w.length-1]);var f,_=g.length-w.length;if("mod"!==p){(f=new M(null)).length=_+1,f.words=new Array(f.length);for(var C=0;C<f.length;C++)f.words[C]=0}var K=g.clone()._ishlnsubmul(w,1,_);0===K.negative&&(g=K,f&&(f.words[_]=1));for(var U=_-1;U>=0;U--){var W=67108864*(0|g.words[w.length+U])+(0|g.words[w.length+U-1]);for(W=Math.min(W/b|0,67108863),g._ishlnsubmul(w,W,U);0!==g.negative;)W--,g.negative=0,g._ishlnsubmul(w,1,U),g.isZero()||(g.negative^=1);f&&(f.words[U]=W)}return f&&f.strip(),g.strip(),"div"!==p&&0!==v&&g.iushrn(v),{div:f||null,mod:g}},M.prototype.divmod=function(u,p,v){return et(!u.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===u.negative?(b=this.neg().divmod(u,p),"mod"!==p&&(g=b.div.neg()),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.iadd(u)),{div:g,mod:w}):0===this.negative&&0!==u.negative?(b=this.divmod(u.neg(),p),"mod"!==p&&(g=b.div.neg()),{div:g,mod:b.mod}):0!=(this.negative&u.negative)?(b=this.neg().divmod(u.neg(),p),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.isub(u)),{div:b.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new M(0),mod:this}:1===u.length?"div"===p?{div:this.divn(u.words[0]),mod:null}:"mod"===p?{div:null,mod:new M(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new M(this.modn(u.words[0]))}:this._wordDiv(u,p);var g,w,b},M.prototype.div=function(u){return this.divmod(u,"div",!1).div},M.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},M.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},M.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=0!==p.div.negative?p.mod.isub(u):p.mod,g=u.ushrn(1),w=u.andln(1),b=v.cmp(g);return b<0||1===w&&0===b?p.div:0!==p.div.negative?p.div.isubn(1):p.div.iaddn(1)},M.prototype.modn=function(u){et(u<=67108863);for(var p=(1<<26)%u,v=0,g=this.length-1;g>=0;g--)v=(p*v+(0|this.words[g]))%u;return v},M.prototype.idivn=function(u){et(u<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var g=(0|this.words[v])+67108864*p;this.words[v]=g/u|0,p=g%u}return this.strip()},M.prototype.divn=function(u){return this.clone().idivn(u)},M.prototype.egcd=function(u){et(0===u.negative),et(!u.isZero());var p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=new M(0),D=new M(1),_=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++_;for(var f=v.clone(),C=p.clone();!p.isZero();){for(var K=0,U=1;0==(p.words[0]&U)&&K<26;++K,U<<=1);if(K>0)for(p.iushrn(K);K-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(C)),g.iushrn(1),w.iushrn(1);for(var W=0,st=1;0==(v.words[0]&st)&&W<26;++W,st<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(b.isOdd()||D.isOdd())&&(b.iadd(f),D.isub(C)),b.iushrn(1),D.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(b),w.isub(D)):(v.isub(p),b.isub(g),D.isub(w))}return{a:b,b:D,gcd:v.iushln(_)}},M.prototype._invmp=function(u){et(0===u.negative),et(!u.isZero());var K,p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var D=0,_=1;0==(p.words[0]&_)&&D<26;++D,_<<=1);if(D>0)for(p.iushrn(D);D-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);for(var f=0,C=1;0==(v.words[0]&C)&&f<26;++f,C<<=1);if(f>0)for(v.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(b),w.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(w)):(v.isub(p),w.isub(g))}return(K=0===p.cmpn(1)?g:w).cmpn(0)<0&&K.iadd(u),K},M.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var g=0;p.isEven()&&v.isEven();g++)p.iushrn(1),v.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var w=p.cmp(v);if(w<0){var b=p;p=v,v=b}else if(0===w||0===v.cmpn(1))break;p.isub(v)}return v.iushln(g)},M.prototype.invm=function(u){return this.egcd(u).a.umod(u)},M.prototype.isEven=function(){return 0==(1&this.words[0])},M.prototype.isOdd=function(){return 1==(1&this.words[0])},M.prototype.andln=function(u){return this.words[0]&u},M.prototype.bincn=function(u){et("number"==typeof u);var p=u%26,v=(u-p)/26,g=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=g,this;for(var w=g,b=v;0!==w&&b<this.length;b++){var D=0|this.words[b];w=(D+=w)>>>26,this.words[b]=D&=67108863}return 0!==w&&(this.words[b]=w,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(u){var v,p=u<0;if(0!==this.negative&&!p)return-1;if(0===this.negative&&p)return 1;if(this.strip(),this.length>1)v=1;else{p&&(u=-u),et(u<=67108863,"Number is too big");var g=0|this.words[0];v=g===u?0:g<u?-1:1}return 0!==this.negative?0|-v:v},M.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var p=this.ucmp(u);return 0!==this.negative?0|-p:p},M.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var g=0|this.words[v],w=0|u.words[v];if(g!==w){g<w?p=-1:g>w&&(p=1);break}}return p},M.prototype.gtn=function(u){return 1===this.cmpn(u)},M.prototype.gt=function(u){return 1===this.cmp(u)},M.prototype.gten=function(u){return this.cmpn(u)>=0},M.prototype.gte=function(u){return this.cmp(u)>=0},M.prototype.ltn=function(u){return-1===this.cmpn(u)},M.prototype.lt=function(u){return-1===this.cmp(u)},M.prototype.lten=function(u){return this.cmpn(u)<=0},M.prototype.lte=function(u){return this.cmp(u)<=0},M.prototype.eqn=function(u){return 0===this.cmpn(u)},M.prototype.eq=function(u){return 0===this.cmp(u)},M.red=function(u){return new dt(u)},M.prototype.toRed=function(u){return et(!this.red,"Already a number in reduction context"),et(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},M.prototype.fromRed=function(){return et(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(u){return this.red=u,this},M.prototype.forceRed=function(u){return et(!this.red,"Already a number in reduction context"),this._forceRed(u)},M.prototype.redAdd=function(u){return et(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},M.prototype.redIAdd=function(u){return et(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},M.prototype.redSub=function(u){return et(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},M.prototype.redISub=function(u){return et(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},M.prototype.redShl=function(u){return et(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},M.prototype.redMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},M.prototype.redIMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},M.prototype.redSqr=function(){return et(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return et(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return et(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return et(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return et(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(u){return et(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function Z(k,u){this.name=k,this.p=new M(u,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Q(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function lt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ht(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function mt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function dt(k){if("string"==typeof k){var u=M._prime(k);this.m=u.p,this.prime=u}else et(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function gt(k){dt.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Z.prototype._tmp=function(){var u=new M(null);return u.words=new Array(Math.ceil(this.n/13)),u},Z.prototype.ireduce=function(u){var v,p=u;do{this.split(p,this.tmp),v=(p=(p=this.imulK(p)).iadd(this.tmp)).bitLength()}while(v>this.n);var g=v<this.n?-1:p.ucmp(this.p);return 0===g?(p.words[0]=0,p.length=1):g>0?p.isub(this.p):void 0!==p.strip?p.strip():p._strip(),p},Z.prototype.split=function(u,p){u.iushrn(this.n,0,p)},Z.prototype.imulK=function(u){return u.imul(this.k)},it(Q,Z),Q.prototype.split=function(u,p){for(var v=4194303,g=Math.min(u.length,9),w=0;w<g;w++)p.words[w]=u.words[w];if(p.length=g,u.length<=9)return u.words[0]=0,void(u.length=1);var b=u.words[9];for(p.words[p.length++]=b&v,w=10;w<u.length;w++){var D=0|u.words[w];u.words[w-10]=(D&v)<<4|b>>>22,b=D}u.words[w-10]=b>>>=22,u.length-=0===b&&u.length>10?10:9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var g=0|u.words[v];u.words[v]=67108863&(p+=977*g),p=64*g+(p/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},it(lt,Z),it(ht,Z),it(mt,Z),mt.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var g=19*(0|u.words[v])+p,w=67108863&g;g>>>=26,u.words[v]=w,p=g}return 0!==p&&(u.words[u.length++]=p),u},M._prime=function(u){if($[u])return $[u];var p;if("k256"===u)p=new Q;else if("p224"===u)p=new lt;else if("p192"===u)p=new ht;else{if("p25519"!==u)throw new Error("Unknown prime "+u);p=new mt}return $[u]=p,p},dt.prototype._verify1=function(u){et(0===u.negative,"red works only with positives"),et(u.red,"red works only with red numbers")},dt.prototype._verify2=function(u,p){et(0==(u.negative|p.negative),"red works only with positives"),et(u.red&&u.red===p.red,"red works only with red numbers")},dt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},dt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},dt.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},dt.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},dt.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},dt.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},dt.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},dt.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},dt.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},dt.prototype.isqr=function(u){return this.imul(u,u.clone())},dt.prototype.sqr=function(u){return this.mul(u,u)},dt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(et(p%2==1),3===p){var v=this.m.add(new M(1)).iushrn(2);return this.pow(u,v)}for(var g=this.m.subn(1),w=0;!g.isZero()&&0===g.andln(1);)w++,g.iushrn(1);et(!g.isZero());var b=new M(1).toRed(this),D=b.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new M(2*f*f).toRed(this);0!==this.pow(f,_).cmp(D);)f.redIAdd(D);for(var C=this.pow(f,g),K=this.pow(u,g.addn(1).iushrn(1)),U=this.pow(u,g),W=w;0!==U.cmp(b);){for(var st=U,ct=0;0!==st.cmp(b);ct++)st=st.redSqr();et(ct<W);var Ct=this.pow(C,new M(1).iushln(W-ct-1));K=K.redMul(Ct),C=Ct.redSqr(),U=U.redMul(C),W=ct}return K},dt.prototype.invm=function(u){var p=u._invmp(this.m);return 0!==p.negative?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},dt.prototype.pow=function(u,p){if(p.isZero())return new M(1).toRed(this);if(0===p.cmpn(1))return u.clone();var g=new Array(16);g[0]=new M(1).toRed(this),g[1]=u;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],u);var b=g[0],D=0,_=0,f=p.bitLength()%26;for(0===f&&(f=26),w=p.length-1;w>=0;w--){for(var C=p.words[w],K=f-1;K>=0;K--){var U=C>>K&1;b!==g[0]&&(b=this.sqr(b)),0!==U||0!==D?(D<<=1,D|=U,(4==++_||0===w&&0===K)&&(b=this.mul(b,g[D]),_=0,D=0)):_=0}f=26}return b},dt.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},dt.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},M.mont=function(u){return new gt(u)},it(gt,dt),gt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},gt.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},gt.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new M(0)._forceRed(this);var v=u.mul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Yt=vt.nmd(Yt),this)},6193:(Yt,q)=>{"use strict";q.byteLength=function(T){var F=j(T),V=F[1];return 3*(F[0]+V)/4-V},q.toByteArray=function(T){var F,Q,O=j(T),V=O[0],G=O[1],R=new xt(function(T,F,O){return 3*(F+O)/4-O}(0,V,G)),$=0,Z=G>0?V-4:V;for(Q=0;Q<Z;Q+=4)F=yt[T.charCodeAt(Q)]<<18|yt[T.charCodeAt(Q+1)]<<12|yt[T.charCodeAt(Q+2)]<<6|yt[T.charCodeAt(Q+3)],R[$++]=F>>16&255,R[$++]=F>>8&255,R[$++]=255&F;return 2===G&&(F=yt[T.charCodeAt(Q)]<<2|yt[T.charCodeAt(Q+1)]>>4,R[$++]=255&F),1===G&&(F=yt[T.charCodeAt(Q)]<<10|yt[T.charCodeAt(Q+1)]<<4|yt[T.charCodeAt(Q+2)]>>2,R[$++]=F>>8&255,R[$++]=255&F),R},q.fromByteArray=function(T){for(var F,O=T.length,V=O%3,G=[],R=16383,$=0,Z=O-V;$<Z;$+=R)G.push(I(T,$,$+R>Z?Z:$+R));return 1===V?G.push(vt[(F=T[O-1])>>2]+vt[F<<4&63]+"=="):2===V&&G.push(vt[(F=(T[O-2]<<8)+T[O-1])>>10]+vt[F>>4&63]+vt[F<<2&63]+"="),G.join("")};for(var vt=[],yt=[],xt="undefined"!=typeof Uint8Array?Uint8Array:Array,et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",it=0,M=et.length;it<M;++it)vt[it]=et[it],yt[et.charCodeAt(it)]=it;function j(T){var F=T.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=T.indexOf("=");return-1===O&&(O=F),[O,O===F?0:4-O%4]}function B(T){return vt[T>>18&63]+vt[T>>12&63]+vt[T>>6&63]+vt[63&T]}function I(T,F,O){for(var G=[],R=F;R<O;R+=3)G.push(B((T[R]<<16&16711680)+(T[R+1]<<8&65280)+(255&T[R+2])));return G.join("")}yt["-".charCodeAt(0)]=62,yt["_".charCodeAt(0)]=63},2963:function(Yt,q,vt){!function(yt,xt){"use strict";function et(v,g){if(!v)throw new Error(g||"Assertion failed")}function it(v,g){v.super_=g;var w=function(){};w.prototype=g.prototype,v.prototype=new w,v.prototype.constructor=v}function M(v,g,w){if(M.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,null!==v&&(("le"===g||"be"===g)&&(w=g,g=10),this._init(v||0,g||10,w||"be"))}var j;"object"==typeof yt?yt.exports=M:xt.BN=M,M.BN=M,M.wordSize=26;try{j="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:vt(6601).Buffer}catch(v){}function H(v,g){var w=v.charCodeAt(g);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void et(!1,"Invalid character in "+v)}function X(v,g,w){var b=H(v,w);return w-1>=g&&(b|=H(v,w-1)<<4),b}function z(v,g,w,b){for(var D=0,_=0,f=Math.min(v.length,w),C=g;C<f;C++){var K=v.charCodeAt(C)-48;D*=b,_=K>=49?K-49+10:K>=17?K-17+10:K,et(K>=0&&_<b,"Invalid character"),D+=_}return D}function B(v,g){v.words=g.words,v.length=g.length,v.negative=g.negative,v.red=g.red}if(M.isBN=function(g){return g instanceof M||null!==g&&"object"==typeof g&&g.constructor.wordSize===M.wordSize&&Array.isArray(g.words)},M.max=function(g,w){return g.cmp(w)>0?g:w},M.min=function(g,w){return g.cmp(w)<0?g:w},M.prototype._init=function(g,w,b){if("number"==typeof g)return this._initNumber(g,w,b);if("object"==typeof g)return this._initArray(g,w,b);"hex"===w&&(w=16),et(w===(0|w)&&w>=2&&w<=36);var D=0;"-"===(g=g.toString().replace(/\s+/g,""))[0]&&(D++,this.negative=1),D<g.length&&(16===w?this._parseHex(g,D,b):(this._parseBase(g,w,D),"le"===b&&this._initArray(this.toArray(),w,b)))},M.prototype._initNumber=function(g,w,b){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[67108863&g],this.length=1):g<4503599627370496?(this.words=[67108863&g,g/67108864&67108863],this.length=2):(et(g<9007199254740992),this.words=[67108863&g,g/67108864&67108863,1],this.length=3),"le"===b&&this._initArray(this.toArray(),w,b)},M.prototype._initArray=function(g,w,b){if(et("number"==typeof g.length),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var _,f,C=0;if("be"===b)for(D=g.length-1,_=0;D>=0;D-=3)this.words[_]|=(f=g[D]|g[D-1]<<8|g[D-2]<<16)<<C&67108863,this.words[_+1]=f>>>26-C&67108863,(C+=24)>=26&&(C-=26,_++);else if("le"===b)for(D=0,_=0;D<g.length;D+=3)this.words[_]|=(f=g[D]|g[D+1]<<8|g[D+2]<<16)<<C&67108863,this.words[_+1]=f>>>26-C&67108863,(C+=24)>=26&&(C-=26,_++);return this._strip()},M.prototype._parseHex=function(g,w,b){this.length=Math.ceil((g.length-w)/6),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var C,_=0,f=0;if("be"===b)for(D=g.length-1;D>=w;D-=2)C=X(g,w,D)<<_,this.words[f]|=67108863&C,_>=18?(_-=18,this.words[f+=1]|=C>>>26):_+=8;else for(D=(g.length-w)%2==0?w+1:w;D<g.length;D+=2)C=X(g,w,D)<<_,this.words[f]|=67108863&C,_>=18?(_-=18,this.words[f+=1]|=C>>>26):_+=8;this._strip()},M.prototype._parseBase=function(g,w,b){this.words=[0],this.length=1;for(var D=0,_=1;_<=67108863;_*=w)D++;D--,_=_/w|0;for(var f=g.length-b,C=f%D,K=Math.min(f,f-C)+b,U=0,W=b;W<K;W+=D)U=z(g,W,W+D,w),this.imuln(_),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(0!==C){var st=1;for(U=z(g,W,g.length,w),W=0;W<C;W++)st*=w;this.imuln(st),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this._strip()},M.prototype.copy=function(g){g.words=new Array(this.length);for(var w=0;w<this.length;w++)g.words[w]=this.words[w];g.length=this.length,g.negative=this.negative,g.red=this.red},M.prototype._move=function(g){B(g,this)},M.prototype.clone=function(){var g=new M(null);return this.copy(g),g},M.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},M.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{M.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch(v){M.prototype.inspect=I}else M.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var Y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function G(v,g,w){w.negative=g.negative^v.negative;var b=v.length+g.length|0;w.length=b,b=b-1|0;var D=0|v.words[0],_=0|g.words[0],f=D*_,K=f/67108864|0;w.words[0]=67108863&f;for(var U=1;U<b;U++){for(var W=K>>>26,st=67108863&K,ct=Math.min(U,g.length-1),Ct=Math.max(0,U-v.length+1);Ct<=ct;Ct++)W+=(f=(D=0|v.words[U-Ct|0])*(_=0|g.words[Ct])+st)/67108864|0,st=67108863&f;w.words[U]=0|st,K=0|W}return 0!==K?w.words[U]=0|K:w.length--,w._strip()}M.prototype.toString=function(g,w){var b;if(w=0|w||1,16===(g=g||10)||"hex"===g){b="";for(var D=0,_=0,f=0;f<this.length;f++){var C=this.words[f],K=(16777215&(C<<D|_)).toString(16);b=0!=(_=C>>>24-D&16777215)||f!==this.length-1?Y[6-K.length]+K+b:K+b,(D+=2)>=26&&(D-=26,f--)}for(0!==_&&(b=_.toString(16)+b);b.length%w!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}if(g===(0|g)&&g>=2&&g<=36){var U=T[g],W=F[g];b="";var st=this.clone();for(st.negative=0;!st.isZero();){var ct=st.modrn(W).toString(g);b=(st=st.idivn(W)).isZero()?ct+b:Y[U-ct.length]+ct+b}for(this.isZero()&&(b="0"+b);b.length%w!=0;)b="0"+b;return 0!==this.negative&&(b="-"+b),b}et(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var g=this.words[0];return 2===this.length?g+=67108864*this.words[1]:3===this.length&&1===this.words[2]?g+=4503599627370496+67108864*this.words[1]:this.length>2&&et(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-g:g},M.prototype.toJSON=function(){return this.toString(16,2)},j&&(M.prototype.toBuffer=function(g,w){return this.toArrayLike(j,g,w)}),M.prototype.toArray=function(g,w){return this.toArrayLike(Array,g,w)},M.prototype.toArrayLike=function(g,w,b){this._strip();var D=this.byteLength(),_=b||Math.max(1,D);et(D<=_,"byte array longer than desired length"),et(_>0,"Requested array length <= 0");var f=function(g,w){return g.allocUnsafe?g.allocUnsafe(w):new g(w)}(g,_);return this["_toArrayLike"+("le"===w?"LE":"BE")](f,D),f},M.prototype._toArrayLikeLE=function(g,w){for(var b=0,D=0,_=0,f=0;_<this.length;_++){var C=this.words[_]<<f|D;g[b++]=255&C,b<g.length&&(g[b++]=C>>8&255),b<g.length&&(g[b++]=C>>16&255),6===f?(b<g.length&&(g[b++]=C>>24&255),D=0,f=0):(D=C>>>24,f+=2)}if(b<g.length)for(g[b++]=D;b<g.length;)g[b++]=0},M.prototype._toArrayLikeBE=function(g,w){for(var b=g.length-1,D=0,_=0,f=0;_<this.length;_++){var C=this.words[_]<<f|D;g[b--]=255&C,b>=0&&(g[b--]=C>>8&255),b>=0&&(g[b--]=C>>16&255),6===f?(b>=0&&(g[b--]=C>>24&255),D=0,f=0):(D=C>>>24,f+=2)}if(b>=0)for(g[b--]=D;b>=0;)g[b--]=0},M.prototype._countBits=Math.clz32?function(g){return 32-Math.clz32(g)}:function(g){var w=g,b=0;return w>=4096&&(b+=13,w>>>=13),w>=64&&(b+=7,w>>>=7),w>=8&&(b+=4,w>>>=4),w>=2&&(b+=2,w>>>=2),b+w},M.prototype._zeroBits=function(g){if(0===g)return 26;var w=g,b=0;return 0==(8191&w)&&(b+=13,w>>>=13),0==(127&w)&&(b+=7,w>>>=7),0==(15&w)&&(b+=4,w>>>=4),0==(3&w)&&(b+=2,w>>>=2),0==(1&w)&&b++,b},M.prototype.bitLength=function(){var w=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+w},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,w=0;w<this.length;w++){var b=this._zeroBits(this.words[w]);if(g+=b,26!==b)break}return g},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(g){return 0!==this.negative?this.abs().inotn(g).iaddn(1):this.clone()},M.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var w=0;w<g.length;w++)this.words[w]=this.words[w]|g.words[w];return this._strip()},M.prototype.ior=function(g){return et(0==(this.negative|g.negative)),this.iuor(g)},M.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},M.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},M.prototype.iuand=function(g){var w;w=this.length>g.length?g:this;for(var b=0;b<w.length;b++)this.words[b]=this.words[b]&g.words[b];return this.length=w.length,this._strip()},M.prototype.iand=function(g){return et(0==(this.negative|g.negative)),this.iuand(g)},M.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},M.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},M.prototype.iuxor=function(g){var w,b;this.length>g.length?(w=this,b=g):(w=g,b=this);for(var D=0;D<b.length;D++)this.words[D]=w.words[D]^b.words[D];if(this!==w)for(;D<w.length;D++)this.words[D]=w.words[D];return this.length=w.length,this._strip()},M.prototype.ixor=function(g){return et(0==(this.negative|g.negative)),this.iuxor(g)},M.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},M.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},M.prototype.inotn=function(g){et("number"==typeof g&&g>=0);var w=0|Math.ceil(g/26),b=g%26;this._expand(w),b>0&&w--;for(var D=0;D<w;D++)this.words[D]=67108863&~this.words[D];return b>0&&(this.words[D]=~this.words[D]&67108863>>26-b),this._strip()},M.prototype.notn=function(g){return this.clone().inotn(g)},M.prototype.setn=function(g,w){et("number"==typeof g&&g>=0);var b=g/26|0,D=g%26;return this._expand(b+1),this.words[b]=w?this.words[b]|1<<D:this.words[b]&~(1<<D),this._strip()},M.prototype.iadd=function(g){var w,b,D;if(0!==this.negative&&0===g.negative)return this.negative=0,w=this.isub(g),this.negative^=1,this._normSign();if(0===this.negative&&0!==g.negative)return g.negative=0,w=this.isub(g),g.negative=1,w._normSign();this.length>g.length?(b=this,D=g):(b=g,D=this);for(var _=0,f=0;f<D.length;f++)this.words[f]=67108863&(w=(0|b.words[f])+(0|D.words[f])+_),_=w>>>26;for(;0!==_&&f<b.length;f++)this.words[f]=67108863&(w=(0|b.words[f])+_),_=w>>>26;if(this.length=b.length,0!==_)this.words[this.length]=_,this.length++;else if(b!==this)for(;f<b.length;f++)this.words[f]=b.words[f];return this},M.prototype.add=function(g){var w;return 0!==g.negative&&0===this.negative?(g.negative=0,w=this.sub(g),g.negative^=1,w):0===g.negative&&0!==this.negative?(this.negative=0,w=g.sub(this),this.negative=1,w):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},M.prototype.isub=function(g){if(0!==g.negative){g.negative=0;var w=this.iadd(g);return g.negative=1,w._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var D,_,b=this.cmp(g);if(0===b)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(D=this,_=g):(D=g,_=this);for(var f=0,C=0;C<_.length;C++)f=(w=(0|D.words[C])-(0|_.words[C])+f)>>26,this.words[C]=67108863&w;for(;0!==f&&C<D.length;C++)f=(w=(0|D.words[C])+f)>>26,this.words[C]=67108863&w;if(0===f&&C<D.length&&D!==this)for(;C<D.length;C++)this.words[C]=D.words[C];return this.length=Math.max(this.length,C),D!==this&&(this.negative=1),this._strip()},M.prototype.sub=function(g){return this.clone().isub(g)};var R=function(g,w,b){var K,U,W,D=g.words,_=w.words,f=b.words,C=0,st=0|D[0],ct=8191&st,Ct=st>>>13,kt=0|D[1],wt=8191&kt,ut=kt>>>13,Ot=0|D[2],bt=8191&Ot,pt=Ot>>>13,Dt=0|D[3],Rt=8191&Dt,St=Dt>>>13,te=0|D[4],At=8191&te,Kt=te>>>13,Oe=0|D[5],Jt=8191&Oe,$t=Oe>>>13,he=0|D[6],Tt=8191&he,Bt=he>>>13,le=0|D[7],Mt=8191&le,ot=le>>>13,J=0|D[8],Nt=8191&J,Gt=J>>>13,ge=0|D[9],qt=8191&ge,ae=ge>>>13,ei=0|_[0],be=8191&ei,xe=ei>>>13,Ke=0|_[1],Ne=8191&Ke,Le=Ke>>>13,Di=0|_[2],Ve=8191&Di,fe=Di>>>13,si=0|_[3],je=8191&si,se=si>>>13,Se=0|_[4],re=8191&Se,jt=Se>>>13,ne=0|_[5],Ut=8191&ne,ee=ne>>>13,ye=0|_[6],Lt=8191&ye,ue=ye>>>13,ni=0|_[7],we=8191&ni,Ae=ni>>>13,Ti=0|_[8],ke=8191&Ti,De=Ti>>>13,fi=0|_[9],hi=8191&fi,Pi=fi>>>13;b.negative=g.negative^w.negative,b.length=19;var vn=(C+(K=Math.imul(ct,be))|0)+((8191&(U=(U=Math.imul(ct,xe))+Math.imul(Ct,be)|0))<<13)|0;C=((W=Math.imul(Ct,xe))+(U>>>13)|0)+(vn>>>26)|0,vn&=67108863,K=Math.imul(wt,be),U=(U=Math.imul(wt,xe))+Math.imul(ut,be)|0,W=Math.imul(ut,xe);var ji=(C+(K=K+Math.imul(ct,Ne)|0)|0)+((8191&(U=(U=U+Math.imul(ct,Le)|0)+Math.imul(Ct,Ne)|0))<<13)|0;C=((W=W+Math.imul(Ct,Le)|0)+(U>>>13)|0)+(ji>>>26)|0,ji&=67108863,K=Math.imul(bt,be),U=(U=Math.imul(bt,xe))+Math.imul(pt,be)|0,W=Math.imul(pt,xe),K=K+Math.imul(wt,Ne)|0,U=(U=U+Math.imul(wt,Le)|0)+Math.imul(ut,Ne)|0,W=W+Math.imul(ut,Le)|0;var Ki=(C+(K=K+Math.imul(ct,Ve)|0)|0)+((8191&(U=(U=U+Math.imul(ct,fe)|0)+Math.imul(Ct,Ve)|0))<<13)|0;C=((W=W+Math.imul(Ct,fe)|0)+(U>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,K=Math.imul(Rt,be),U=(U=Math.imul(Rt,xe))+Math.imul(St,be)|0,W=Math.imul(St,xe),K=K+Math.imul(bt,Ne)|0,U=(U=U+Math.imul(bt,Le)|0)+Math.imul(pt,Ne)|0,W=W+Math.imul(pt,Le)|0,K=K+Math.imul(wt,Ve)|0,U=(U=U+Math.imul(wt,fe)|0)+Math.imul(ut,Ve)|0,W=W+Math.imul(ut,fe)|0;var oi=(C+(K=K+Math.imul(ct,je)|0)|0)+((8191&(U=(U=U+Math.imul(ct,se)|0)+Math.imul(Ct,je)|0))<<13)|0;C=((W=W+Math.imul(Ct,se)|0)+(U>>>13)|0)+(oi>>>26)|0,oi&=67108863,K=Math.imul(At,be),U=(U=Math.imul(At,xe))+Math.imul(Kt,be)|0,W=Math.imul(Kt,xe),K=K+Math.imul(Rt,Ne)|0,U=(U=U+Math.imul(Rt,Le)|0)+Math.imul(St,Ne)|0,W=W+Math.imul(St,Le)|0,K=K+Math.imul(bt,Ve)|0,U=(U=U+Math.imul(bt,fe)|0)+Math.imul(pt,Ve)|0,W=W+Math.imul(pt,fe)|0,K=K+Math.imul(wt,je)|0,U=(U=U+Math.imul(wt,se)|0)+Math.imul(ut,je)|0,W=W+Math.imul(ut,se)|0;var Yn=(C+(K=K+Math.imul(ct,re)|0)|0)+((8191&(U=(U=U+Math.imul(ct,jt)|0)+Math.imul(Ct,re)|0))<<13)|0;C=((W=W+Math.imul(Ct,jt)|0)+(U>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,K=Math.imul(Jt,be),U=(U=Math.imul(Jt,xe))+Math.imul($t,be)|0,W=Math.imul($t,xe),K=K+Math.imul(At,Ne)|0,U=(U=U+Math.imul(At,Le)|0)+Math.imul(Kt,Ne)|0,W=W+Math.imul(Kt,Le)|0,K=K+Math.imul(Rt,Ve)|0,U=(U=U+Math.imul(Rt,fe)|0)+Math.imul(St,Ve)|0,W=W+Math.imul(St,fe)|0,K=K+Math.imul(bt,je)|0,U=(U=U+Math.imul(bt,se)|0)+Math.imul(pt,je)|0,W=W+Math.imul(pt,se)|0,K=K+Math.imul(wt,re)|0,U=(U=U+Math.imul(wt,jt)|0)+Math.imul(ut,re)|0,W=W+Math.imul(ut,jt)|0;var rn=(C+(K=K+Math.imul(ct,Ut)|0)|0)+((8191&(U=(U=U+Math.imul(ct,ee)|0)+Math.imul(Ct,Ut)|0))<<13)|0;C=((W=W+Math.imul(Ct,ee)|0)+(U>>>13)|0)+(rn>>>26)|0,rn&=67108863,K=Math.imul(Tt,be),U=(U=Math.imul(Tt,xe))+Math.imul(Bt,be)|0,W=Math.imul(Bt,xe),K=K+Math.imul(Jt,Ne)|0,U=(U=U+Math.imul(Jt,Le)|0)+Math.imul($t,Ne)|0,W=W+Math.imul($t,Le)|0,K=K+Math.imul(At,Ve)|0,U=(U=U+Math.imul(At,fe)|0)+Math.imul(Kt,Ve)|0,W=W+Math.imul(Kt,fe)|0,K=K+Math.imul(Rt,je)|0,U=(U=U+Math.imul(Rt,se)|0)+Math.imul(St,je)|0,W=W+Math.imul(St,se)|0,K=K+Math.imul(bt,re)|0,U=(U=U+Math.imul(bt,jt)|0)+Math.imul(pt,re)|0,W=W+Math.imul(pt,jt)|0,K=K+Math.imul(wt,Ut)|0,U=(U=U+Math.imul(wt,ee)|0)+Math.imul(ut,Ut)|0,W=W+Math.imul(ut,ee)|0;var an=(C+(K=K+Math.imul(ct,Lt)|0)|0)+((8191&(U=(U=U+Math.imul(ct,ue)|0)+Math.imul(Ct,Lt)|0))<<13)|0;C=((W=W+Math.imul(Ct,ue)|0)+(U>>>13)|0)+(an>>>26)|0,an&=67108863,K=Math.imul(Mt,be),U=(U=Math.imul(Mt,xe))+Math.imul(ot,be)|0,W=Math.imul(ot,xe),K=K+Math.imul(Tt,Ne)|0,U=(U=U+Math.imul(Tt,Le)|0)+Math.imul(Bt,Ne)|0,W=W+Math.imul(Bt,Le)|0,K=K+Math.imul(Jt,Ve)|0,U=(U=U+Math.imul(Jt,fe)|0)+Math.imul($t,Ve)|0,W=W+Math.imul($t,fe)|0,K=K+Math.imul(At,je)|0,U=(U=U+Math.imul(At,se)|0)+Math.imul(Kt,je)|0,W=W+Math.imul(Kt,se)|0,K=K+Math.imul(Rt,re)|0,U=(U=U+Math.imul(Rt,jt)|0)+Math.imul(St,re)|0,W=W+Math.imul(St,jt)|0,K=K+Math.imul(bt,Ut)|0,U=(U=U+Math.imul(bt,ee)|0)+Math.imul(pt,Ut)|0,W=W+Math.imul(pt,ee)|0,K=K+Math.imul(wt,Lt)|0,U=(U=U+Math.imul(wt,ue)|0)+Math.imul(ut,Lt)|0,W=W+Math.imul(ut,ue)|0;var Ui=(C+(K=K+Math.imul(ct,we)|0)|0)+((8191&(U=(U=U+Math.imul(ct,Ae)|0)+Math.imul(Ct,we)|0))<<13)|0;C=((W=W+Math.imul(Ct,Ae)|0)+(U>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,K=Math.imul(Nt,be),U=(U=Math.imul(Nt,xe))+Math.imul(Gt,be)|0,W=Math.imul(Gt,xe),K=K+Math.imul(Mt,Ne)|0,U=(U=U+Math.imul(Mt,Le)|0)+Math.imul(ot,Ne)|0,W=W+Math.imul(ot,Le)|0,K=K+Math.imul(Tt,Ve)|0,U=(U=U+Math.imul(Tt,fe)|0)+Math.imul(Bt,Ve)|0,W=W+Math.imul(Bt,fe)|0,K=K+Math.imul(Jt,je)|0,U=(U=U+Math.imul(Jt,se)|0)+Math.imul($t,je)|0,W=W+Math.imul($t,se)|0,K=K+Math.imul(At,re)|0,U=(U=U+Math.imul(At,jt)|0)+Math.imul(Kt,re)|0,W=W+Math.imul(Kt,jt)|0,K=K+Math.imul(Rt,Ut)|0,U=(U=U+Math.imul(Rt,ee)|0)+Math.imul(St,Ut)|0,W=W+Math.imul(St,ee)|0,K=K+Math.imul(bt,Lt)|0,U=(U=U+Math.imul(bt,ue)|0)+Math.imul(pt,Lt)|0,W=W+Math.imul(pt,ue)|0,K=K+Math.imul(wt,we)|0,U=(U=U+Math.imul(wt,Ae)|0)+Math.imul(ut,we)|0,W=W+Math.imul(ut,Ae)|0;var lr=(C+(K=K+Math.imul(ct,ke)|0)|0)+((8191&(U=(U=U+Math.imul(ct,De)|0)+Math.imul(Ct,ke)|0))<<13)|0;C=((W=W+Math.imul(Ct,De)|0)+(U>>>13)|0)+(lr>>>26)|0,lr&=67108863,K=Math.imul(qt,be),U=(U=Math.imul(qt,xe))+Math.imul(ae,be)|0,W=Math.imul(ae,xe),K=K+Math.imul(Nt,Ne)|0,U=(U=U+Math.imul(Nt,Le)|0)+Math.imul(Gt,Ne)|0,W=W+Math.imul(Gt,Le)|0,K=K+Math.imul(Mt,Ve)|0,U=(U=U+Math.imul(Mt,fe)|0)+Math.imul(ot,Ve)|0,W=W+Math.imul(ot,fe)|0,K=K+Math.imul(Tt,je)|0,U=(U=U+Math.imul(Tt,se)|0)+Math.imul(Bt,je)|0,W=W+Math.imul(Bt,se)|0,K=K+Math.imul(Jt,re)|0,U=(U=U+Math.imul(Jt,jt)|0)+Math.imul($t,re)|0,W=W+Math.imul($t,jt)|0,K=K+Math.imul(At,Ut)|0,U=(U=U+Math.imul(At,ee)|0)+Math.imul(Kt,Ut)|0,W=W+Math.imul(Kt,ee)|0,K=K+Math.imul(Rt,Lt)|0,U=(U=U+Math.imul(Rt,ue)|0)+Math.imul(St,Lt)|0,W=W+Math.imul(St,ue)|0,K=K+Math.imul(bt,we)|0,U=(U=U+Math.imul(bt,Ae)|0)+Math.imul(pt,we)|0,W=W+Math.imul(pt,Ae)|0,K=K+Math.imul(wt,ke)|0,U=(U=U+Math.imul(wt,De)|0)+Math.imul(ut,ke)|0,W=W+Math.imul(ut,De)|0;var He=(C+(K=K+Math.imul(ct,hi)|0)|0)+((8191&(U=(U=U+Math.imul(ct,Pi)|0)+Math.imul(Ct,hi)|0))<<13)|0;C=((W=W+Math.imul(Ct,Pi)|0)+(U>>>13)|0)+(He>>>26)|0,He&=67108863,K=Math.imul(qt,Ne),U=(U=Math.imul(qt,Le))+Math.imul(ae,Ne)|0,W=Math.imul(ae,Le),K=K+Math.imul(Nt,Ve)|0,U=(U=U+Math.imul(Nt,fe)|0)+Math.imul(Gt,Ve)|0,W=W+Math.imul(Gt,fe)|0,K=K+Math.imul(Mt,je)|0,U=(U=U+Math.imul(Mt,se)|0)+Math.imul(ot,je)|0,W=W+Math.imul(ot,se)|0,K=K+Math.imul(Tt,re)|0,U=(U=U+Math.imul(Tt,jt)|0)+Math.imul(Bt,re)|0,W=W+Math.imul(Bt,jt)|0,K=K+Math.imul(Jt,Ut)|0,U=(U=U+Math.imul(Jt,ee)|0)+Math.imul($t,Ut)|0,W=W+Math.imul($t,ee)|0,K=K+Math.imul(At,Lt)|0,U=(U=U+Math.imul(At,ue)|0)+Math.imul(Kt,Lt)|0,W=W+Math.imul(Kt,ue)|0,K=K+Math.imul(Rt,we)|0,U=(U=U+Math.imul(Rt,Ae)|0)+Math.imul(St,we)|0,W=W+Math.imul(St,Ae)|0,K=K+Math.imul(bt,ke)|0,U=(U=U+Math.imul(bt,De)|0)+Math.imul(pt,ke)|0,W=W+Math.imul(pt,De)|0;var yi=(C+(K=K+Math.imul(wt,hi)|0)|0)+((8191&(U=(U=U+Math.imul(wt,Pi)|0)+Math.imul(ut,hi)|0))<<13)|0;C=((W=W+Math.imul(ut,Pi)|0)+(U>>>13)|0)+(yi>>>26)|0,yi&=67108863,K=Math.imul(qt,Ve),U=(U=Math.imul(qt,fe))+Math.imul(ae,Ve)|0,W=Math.imul(ae,fe),K=K+Math.imul(Nt,je)|0,U=(U=U+Math.imul(Nt,se)|0)+Math.imul(Gt,je)|0,W=W+Math.imul(Gt,se)|0,K=K+Math.imul(Mt,re)|0,U=(U=U+Math.imul(Mt,jt)|0)+Math.imul(ot,re)|0,W=W+Math.imul(ot,jt)|0,K=K+Math.imul(Tt,Ut)|0,U=(U=U+Math.imul(Tt,ee)|0)+Math.imul(Bt,Ut)|0,W=W+Math.imul(Bt,ee)|0,K=K+Math.imul(Jt,Lt)|0,U=(U=U+Math.imul(Jt,ue)|0)+Math.imul($t,Lt)|0,W=W+Math.imul($t,ue)|0,K=K+Math.imul(At,we)|0,U=(U=U+Math.imul(At,Ae)|0)+Math.imul(Kt,we)|0,W=W+Math.imul(Kt,Ae)|0,K=K+Math.imul(Rt,ke)|0,U=(U=U+Math.imul(Rt,De)|0)+Math.imul(St,ke)|0,W=W+Math.imul(St,De)|0;var tn=(C+(K=K+Math.imul(bt,hi)|0)|0)+((8191&(U=(U=U+Math.imul(bt,Pi)|0)+Math.imul(pt,hi)|0))<<13)|0;C=((W=W+Math.imul(pt,Pi)|0)+(U>>>13)|0)+(tn>>>26)|0,tn&=67108863,K=Math.imul(qt,je),U=(U=Math.imul(qt,se))+Math.imul(ae,je)|0,W=Math.imul(ae,se),K=K+Math.imul(Nt,re)|0,U=(U=U+Math.imul(Nt,jt)|0)+Math.imul(Gt,re)|0,W=W+Math.imul(Gt,jt)|0,K=K+Math.imul(Mt,Ut)|0,U=(U=U+Math.imul(Mt,ee)|0)+Math.imul(ot,Ut)|0,W=W+Math.imul(ot,ee)|0,K=K+Math.imul(Tt,Lt)|0,U=(U=U+Math.imul(Tt,ue)|0)+Math.imul(Bt,Lt)|0,W=W+Math.imul(Bt,ue)|0,K=K+Math.imul(Jt,we)|0,U=(U=U+Math.imul(Jt,Ae)|0)+Math.imul($t,we)|0,W=W+Math.imul($t,Ae)|0,K=K+Math.imul(At,ke)|0,U=(U=U+Math.imul(At,De)|0)+Math.imul(Kt,ke)|0,W=W+Math.imul(Kt,De)|0;var wi=(C+(K=K+Math.imul(Rt,hi)|0)|0)+((8191&(U=(U=U+Math.imul(Rt,Pi)|0)+Math.imul(St,hi)|0))<<13)|0;C=((W=W+Math.imul(St,Pi)|0)+(U>>>13)|0)+(wi>>>26)|0,wi&=67108863,K=Math.imul(qt,re),U=(U=Math.imul(qt,jt))+Math.imul(ae,re)|0,W=Math.imul(ae,jt),K=K+Math.imul(Nt,Ut)|0,U=(U=U+Math.imul(Nt,ee)|0)+Math.imul(Gt,Ut)|0,W=W+Math.imul(Gt,ee)|0,K=K+Math.imul(Mt,Lt)|0,U=(U=U+Math.imul(Mt,ue)|0)+Math.imul(ot,Lt)|0,W=W+Math.imul(ot,ue)|0,K=K+Math.imul(Tt,we)|0,U=(U=U+Math.imul(Tt,Ae)|0)+Math.imul(Bt,we)|0,W=W+Math.imul(Bt,Ae)|0,K=K+Math.imul(Jt,ke)|0,U=(U=U+Math.imul(Jt,De)|0)+Math.imul($t,ke)|0,W=W+Math.imul($t,De)|0;var $n=(C+(K=K+Math.imul(At,hi)|0)|0)+((8191&(U=(U=U+Math.imul(At,Pi)|0)+Math.imul(Kt,hi)|0))<<13)|0;C=((W=W+Math.imul(Kt,Pi)|0)+(U>>>13)|0)+($n>>>26)|0,$n&=67108863,K=Math.imul(qt,Ut),U=(U=Math.imul(qt,ee))+Math.imul(ae,Ut)|0,W=Math.imul(ae,ee),K=K+Math.imul(Nt,Lt)|0,U=(U=U+Math.imul(Nt,ue)|0)+Math.imul(Gt,Lt)|0,W=W+Math.imul(Gt,ue)|0,K=K+Math.imul(Mt,we)|0,U=(U=U+Math.imul(Mt,Ae)|0)+Math.imul(ot,we)|0,W=W+Math.imul(ot,Ae)|0,K=K+Math.imul(Tt,ke)|0,U=(U=U+Math.imul(Tt,De)|0)+Math.imul(Bt,ke)|0,W=W+Math.imul(Bt,De)|0;var sr=(C+(K=K+Math.imul(Jt,hi)|0)|0)+((8191&(U=(U=U+Math.imul(Jt,Pi)|0)+Math.imul($t,hi)|0))<<13)|0;C=((W=W+Math.imul($t,Pi)|0)+(U>>>13)|0)+(sr>>>26)|0,sr&=67108863,K=Math.imul(qt,Lt),U=(U=Math.imul(qt,ue))+Math.imul(ae,Lt)|0,W=Math.imul(ae,ue),K=K+Math.imul(Nt,we)|0,U=(U=U+Math.imul(Nt,Ae)|0)+Math.imul(Gt,we)|0,W=W+Math.imul(Gt,Ae)|0,K=K+Math.imul(Mt,ke)|0,U=(U=U+Math.imul(Mt,De)|0)+Math.imul(ot,ke)|0,W=W+Math.imul(ot,De)|0;var Xe=(C+(K=K+Math.imul(Tt,hi)|0)|0)+((8191&(U=(U=U+Math.imul(Tt,Pi)|0)+Math.imul(Bt,hi)|0))<<13)|0;C=((W=W+Math.imul(Bt,Pi)|0)+(U>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,K=Math.imul(qt,we),U=(U=Math.imul(qt,Ae))+Math.imul(ae,we)|0,W=Math.imul(ae,Ae),K=K+Math.imul(Nt,ke)|0,U=(U=U+Math.imul(Nt,De)|0)+Math.imul(Gt,ke)|0,W=W+Math.imul(Gt,De)|0;var Fi=(C+(K=K+Math.imul(Mt,hi)|0)|0)+((8191&(U=(U=U+Math.imul(Mt,Pi)|0)+Math.imul(ot,hi)|0))<<13)|0;C=((W=W+Math.imul(ot,Pi)|0)+(U>>>13)|0)+(Fi>>>26)|0,Fi&=67108863,K=Math.imul(qt,ke),U=(U=Math.imul(qt,De))+Math.imul(ae,ke)|0,W=Math.imul(ae,De);var nh=(C+(K=K+Math.imul(Nt,hi)|0)|0)+((8191&(U=(U=U+Math.imul(Nt,Pi)|0)+Math.imul(Gt,hi)|0))<<13)|0;C=((W=W+Math.imul(Gt,Pi)|0)+(U>>>13)|0)+(nh>>>26)|0,nh&=67108863;var Ih=(C+(K=Math.imul(qt,hi))|0)+((8191&(U=(U=Math.imul(qt,Pi))+Math.imul(ae,hi)|0))<<13)|0;return C=((W=Math.imul(ae,Pi))+(U>>>13)|0)+(Ih>>>26)|0,Ih&=67108863,f[0]=vn,f[1]=ji,f[2]=Ki,f[3]=oi,f[4]=Yn,f[5]=rn,f[6]=an,f[7]=Ui,f[8]=lr,f[9]=He,f[10]=yi,f[11]=tn,f[12]=wi,f[13]=$n,f[14]=sr,f[15]=Xe,f[16]=Fi,f[17]=nh,f[18]=Ih,0!==C&&(f[19]=C,b.length++),b};function $(v,g,w){w.negative=g.negative^v.negative,w.length=v.length+g.length;for(var b=0,D=0,_=0;_<w.length-1;_++){var f=D;D=0;for(var C=67108863&b,K=Math.min(_,g.length-1),U=Math.max(0,_-v.length+1);U<=K;U++){var Ct=(0|v.words[_-U])*(0|g.words[U]),kt=67108863&Ct;C=67108863&(kt=kt+C|0),D+=(f=(f=f+(Ct/67108864|0)|0)+(kt>>>26)|0)>>>26,f&=67108863}w.words[_]=C,b=f,f=D}return 0!==b?w.words[_]=b:w.length--,w._strip()}function Z(v,g,w){return $(v,g,w)}function Q(v,g){this.x=v,this.y=g}Math.imul||(R=G),M.prototype.mulTo=function(g,w){var D=this.length+g.length;return 10===this.length&&10===g.length?R(this,g,w):D<63?G(this,g,w):D<1024?$(this,g,w):Z(this,g,w)},Q.prototype.makeRBT=function(g){for(var w=new Array(g),b=M.prototype._countBits(g)-1,D=0;D<g;D++)w[D]=this.revBin(D,b,g);return w},Q.prototype.revBin=function(g,w,b){if(0===g||g===b-1)return g;for(var D=0,_=0;_<w;_++)D|=(1&g)<<w-_-1,g>>=1;return D},Q.prototype.permute=function(g,w,b,D,_,f){for(var C=0;C<f;C++)D[C]=w[g[C]],_[C]=b[g[C]]},Q.prototype.transform=function(g,w,b,D,_,f){this.permute(f,g,w,b,D,_);for(var C=1;C<_;C<<=1)for(var K=C<<1,U=Math.cos(2*Math.PI/K),W=Math.sin(2*Math.PI/K),st=0;st<_;st+=K)for(var ct=U,Ct=W,kt=0;kt<C;kt++){var wt=b[st+kt],ut=D[st+kt],Ot=b[st+kt+C],bt=D[st+kt+C],pt=ct*Ot-Ct*bt;bt=ct*bt+Ct*Ot,b[st+kt]=wt+(Ot=pt),D[st+kt]=ut+bt,b[st+kt+C]=wt-Ot,D[st+kt+C]=ut-bt,kt!==K&&(pt=U*ct-W*Ct,Ct=U*Ct+W*ct,ct=pt)}},Q.prototype.guessLen13b=function(g,w){var b=1|Math.max(w,g),D=1&b,_=0;for(b=b/2|0;b;b>>>=1)_++;return 1<<_+1+D},Q.prototype.conjugate=function(g,w,b){if(!(b<=1))for(var D=0;D<b/2;D++){var _=g[D];g[D]=g[b-D-1],g[b-D-1]=_,_=w[D],w[D]=-w[b-D-1],w[b-D-1]=-_}},Q.prototype.normalize13b=function(g,w){for(var b=0,D=0;D<w/2;D++){var _=8192*Math.round(g[2*D+1]/w)+Math.round(g[2*D]/w)+b;g[D]=67108863&_,b=_<67108864?0:_/67108864|0}return g},Q.prototype.convert13b=function(g,w,b,D){for(var _=0,f=0;f<w;f++)b[2*f]=8191&(_+=0|g[f]),b[2*f+1]=8191&(_>>>=13),_>>>=13;for(f=2*w;f<D;++f)b[f]=0;et(0===_),et(0==(-8192&_))},Q.prototype.stub=function(g){for(var w=new Array(g),b=0;b<g;b++)w[b]=0;return w},Q.prototype.mulp=function(g,w,b){var D=2*this.guessLen13b(g.length,w.length),_=this.makeRBT(D),f=this.stub(D),C=new Array(D),K=new Array(D),U=new Array(D),W=new Array(D),st=new Array(D),ct=new Array(D),Ct=b.words;Ct.length=D,this.convert13b(g.words,g.length,C,D),this.convert13b(w.words,w.length,W,D),this.transform(C,f,K,U,D,_),this.transform(W,f,st,ct,D,_);for(var kt=0;kt<D;kt++){var wt=K[kt]*st[kt]-U[kt]*ct[kt];U[kt]=K[kt]*ct[kt]+U[kt]*st[kt],K[kt]=wt}return this.conjugate(K,U,D),this.transform(K,U,Ct,f,D,_),this.conjugate(Ct,f,D),this.normalize13b(Ct,D),b.negative=g.negative^w.negative,b.length=g.length+w.length,b._strip()},M.prototype.mul=function(g){var w=new M(null);return w.words=new Array(this.length+g.length),this.mulTo(g,w)},M.prototype.mulf=function(g){var w=new M(null);return w.words=new Array(this.length+g.length),Z(this,g,w)},M.prototype.imul=function(g){return this.clone().mulTo(g,this)},M.prototype.imuln=function(g){var w=g<0;w&&(g=-g),et("number"==typeof g),et(g<67108864);for(var b=0,D=0;D<this.length;D++){var _=(0|this.words[D])*g,f=(67108863&_)+(67108863&b);b>>=26,b+=_/67108864|0,b+=f>>>26,this.words[D]=67108863&f}return 0!==b&&(this.words[D]=b,this.length++),w?this.ineg():this},M.prototype.muln=function(g){return this.clone().imuln(g)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(g){var w=function(v){for(var g=new Array(v.bitLength()),w=0;w<g.length;w++)g[w]=v.words[w/26|0]>>>w%26&1;return g}(g);if(0===w.length)return new M(1);for(var b=this,D=0;D<w.length&&0===w[D];D++,b=b.sqr());if(++D<w.length)for(var _=b.sqr();D<w.length;D++,_=_.sqr())0!==w[D]&&(b=b.mul(_));return b},M.prototype.iushln=function(g){et("number"==typeof g&&g>=0);var _,w=g%26,b=(g-w)/26,D=67108863>>>26-w<<26-w;if(0!==w){var f=0;for(_=0;_<this.length;_++){var C=this.words[_]&D;this.words[_]=(0|this.words[_])-C<<w|f,f=C>>>26-w}f&&(this.words[_]=f,this.length++)}if(0!==b){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this._strip()},M.prototype.ishln=function(g){return et(0===this.negative),this.iushln(g)},M.prototype.iushrn=function(g,w,b){var D;et("number"==typeof g&&g>=0),D=w?(w-w%26)/26:0;var _=g%26,f=Math.min((g-_)/26,this.length),C=67108863^67108863>>>_<<_,K=b;if(D-=f,D=Math.max(0,D),K){for(var U=0;U<f;U++)K.words[U]=this.words[U];K.length=f}if(0!==f)if(this.length>f)for(this.length-=f,U=0;U<this.length;U++)this.words[U]=this.words[U+f];else this.words[0]=0,this.length=1;var W=0;for(U=this.length-1;U>=0&&(0!==W||U>=D);U--){var st=0|this.words[U];this.words[U]=W<<26-_|st>>>_,W=st&C}return K&&0!==W&&(K.words[K.length++]=W),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},M.prototype.ishrn=function(g,w,b){return et(0===this.negative),this.iushrn(g,w,b)},M.prototype.shln=function(g){return this.clone().ishln(g)},M.prototype.ushln=function(g){return this.clone().iushln(g)},M.prototype.shrn=function(g){return this.clone().ishrn(g)},M.prototype.ushrn=function(g){return this.clone().iushrn(g)},M.prototype.testn=function(g){et("number"==typeof g&&g>=0);var w=g%26,b=(g-w)/26;return!(this.length<=b||!(this.words[b]&1<<w))},M.prototype.imaskn=function(g){et("number"==typeof g&&g>=0);var w=g%26,b=(g-w)/26;return et(0===this.negative,"imaskn works only with positive numbers"),this.length<=b?this:(0!==w&&b++,this.length=Math.min(b,this.length),0!==w&&(this.words[this.length-1]&=67108863^67108863>>>w<<w),this._strip())},M.prototype.maskn=function(g){return this.clone().imaskn(g)},M.prototype.iaddn=function(g){return et("number"==typeof g),et(g<67108864),g<0?this.isubn(-g):0!==this.negative?1===this.length&&(0|this.words[0])<=g?(this.words[0]=g-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},M.prototype._iaddn=function(g){this.words[0]+=g;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},M.prototype.isubn=function(g){if(et("number"==typeof g),et(g<67108864),g<0)return this.iaddn(-g);if(0!==this.negative)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},M.prototype.addn=function(g){return this.clone().iaddn(g)},M.prototype.subn=function(g){return this.clone().isubn(g)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(g,w,b){var _;this._expand(g.length+b);var f,C=0;for(_=0;_<g.length;_++){f=(0|this.words[_+b])+C;var K=(0|g.words[_])*w;C=((f-=67108863&K)>>26)-(K/67108864|0),this.words[_+b]=67108863&f}for(;_<this.length-b;_++)C=(f=(0|this.words[_+b])+C)>>26,this.words[_+b]=67108863&f;if(0===C)return this._strip();for(et(-1===C),C=0,_=0;_<this.length;_++)C=(f=-(0|this.words[_])+C)>>26,this.words[_]=67108863&f;return this.negative=1,this._strip()},M.prototype._wordDiv=function(g,w){var b,D=this.clone(),_=g,f=0|_.words[_.length-1];0!=(b=26-this._countBits(f))&&(_=_.ushln(b),D.iushln(b),f=0|_.words[_.length-1]);var U,K=D.length-_.length;if("mod"!==w){(U=new M(null)).length=K+1,U.words=new Array(U.length);for(var W=0;W<U.length;W++)U.words[W]=0}var st=D.clone()._ishlnsubmul(_,1,K);0===st.negative&&(D=st,U&&(U.words[K]=1));for(var ct=K-1;ct>=0;ct--){var Ct=67108864*(0|D.words[_.length+ct])+(0|D.words[_.length+ct-1]);for(Ct=Math.min(Ct/f|0,67108863),D._ishlnsubmul(_,Ct,ct);0!==D.negative;)Ct--,D.negative=0,D._ishlnsubmul(_,1,ct),D.isZero()||(D.negative^=1);U&&(U.words[ct]=Ct)}return U&&U._strip(),D._strip(),"div"!==w&&0!==b&&D.iushrn(b),{div:U||null,mod:D}},M.prototype.divmod=function(g,w,b){return et(!g.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===g.negative?(f=this.neg().divmod(g,w),"mod"!==w&&(D=f.div.neg()),"div"!==w&&(_=f.mod.neg(),b&&0!==_.negative&&_.iadd(g)),{div:D,mod:_}):0===this.negative&&0!==g.negative?(f=this.divmod(g.neg(),w),"mod"!==w&&(D=f.div.neg()),{div:D,mod:f.mod}):0!=(this.negative&g.negative)?(f=this.neg().divmod(g.neg(),w),"div"!==w&&(_=f.mod.neg(),b&&0!==_.negative&&_.isub(g)),{div:f.div,mod:_}):g.length>this.length||this.cmp(g)<0?{div:new M(0),mod:this}:1===g.length?"div"===w?{div:this.divn(g.words[0]),mod:null}:"mod"===w?{div:null,mod:new M(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new M(this.modrn(g.words[0]))}:this._wordDiv(g,w);var D,_,f},M.prototype.div=function(g){return this.divmod(g,"div",!1).div},M.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},M.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},M.prototype.divRound=function(g){var w=this.divmod(g);if(w.mod.isZero())return w.div;var b=0!==w.div.negative?w.mod.isub(g):w.mod,D=g.ushrn(1),_=g.andln(1),f=b.cmp(D);return f<0||1===_&&0===f?w.div:0!==w.div.negative?w.div.isubn(1):w.div.iaddn(1)},M.prototype.modrn=function(g){var w=g<0;w&&(g=-g),et(g<=67108863);for(var b=(1<<26)%g,D=0,_=this.length-1;_>=0;_--)D=(b*D+(0|this.words[_]))%g;return w?-D:D},M.prototype.modn=function(g){return this.modrn(g)},M.prototype.idivn=function(g){var w=g<0;w&&(g=-g),et(g<=67108863);for(var b=0,D=this.length-1;D>=0;D--){var _=(0|this.words[D])+67108864*b;this.words[D]=_/g|0,b=_%g}return this._strip(),w?this.ineg():this},M.prototype.divn=function(g){return this.clone().idivn(g)},M.prototype.egcd=function(g){et(0===g.negative),et(!g.isZero());var w=this,b=g.clone();w=0!==w.negative?w.umod(g):w.clone();for(var D=new M(1),_=new M(0),f=new M(0),C=new M(1),K=0;w.isEven()&&b.isEven();)w.iushrn(1),b.iushrn(1),++K;for(var U=b.clone(),W=w.clone();!w.isZero();){for(var st=0,ct=1;0==(w.words[0]&ct)&&st<26;++st,ct<<=1);if(st>0)for(w.iushrn(st);st-- >0;)(D.isOdd()||_.isOdd())&&(D.iadd(U),_.isub(W)),D.iushrn(1),_.iushrn(1);for(var Ct=0,kt=1;0==(b.words[0]&kt)&&Ct<26;++Ct,kt<<=1);if(Ct>0)for(b.iushrn(Ct);Ct-- >0;)(f.isOdd()||C.isOdd())&&(f.iadd(U),C.isub(W)),f.iushrn(1),C.iushrn(1);w.cmp(b)>=0?(w.isub(b),D.isub(f),_.isub(C)):(b.isub(w),f.isub(D),C.isub(_))}return{a:f,b:C,gcd:b.iushln(K)}},M.prototype._invmp=function(g){et(0===g.negative),et(!g.isZero());var st,w=this,b=g.clone();w=0!==w.negative?w.umod(g):w.clone();for(var D=new M(1),_=new M(0),f=b.clone();w.cmpn(1)>0&&b.cmpn(1)>0;){for(var C=0,K=1;0==(w.words[0]&K)&&C<26;++C,K<<=1);if(C>0)for(w.iushrn(C);C-- >0;)D.isOdd()&&D.iadd(f),D.iushrn(1);for(var U=0,W=1;0==(b.words[0]&W)&&U<26;++U,W<<=1);if(U>0)for(b.iushrn(U);U-- >0;)_.isOdd()&&_.iadd(f),_.iushrn(1);w.cmp(b)>=0?(w.isub(b),D.isub(_)):(b.isub(w),_.isub(D))}return(st=0===w.cmpn(1)?D:_).cmpn(0)<0&&st.iadd(g),st},M.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var w=this.clone(),b=g.clone();w.negative=0,b.negative=0;for(var D=0;w.isEven()&&b.isEven();D++)w.iushrn(1),b.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=w.cmp(b);if(_<0){var f=w;w=b,b=f}else if(0===_||0===b.cmpn(1))break;w.isub(b)}return b.iushln(D)},M.prototype.invm=function(g){return this.egcd(g).a.umod(g)},M.prototype.isEven=function(){return 0==(1&this.words[0])},M.prototype.isOdd=function(){return 1==(1&this.words[0])},M.prototype.andln=function(g){return this.words[0]&g},M.prototype.bincn=function(g){et("number"==typeof g);var w=g%26,b=(g-w)/26,D=1<<w;if(this.length<=b)return this._expand(b+1),this.words[b]|=D,this;for(var _=D,f=b;0!==_&&f<this.length;f++){var C=0|this.words[f];_=(C+=_)>>>26,this.words[f]=C&=67108863}return 0!==_&&(this.words[f]=_,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(g){var b,w=g<0;if(0!==this.negative&&!w)return-1;if(0===this.negative&&w)return 1;if(this._strip(),this.length>1)b=1;else{w&&(g=-g),et(g<=67108863,"Number is too big");var D=0|this.words[0];b=D===g?0:D<g?-1:1}return 0!==this.negative?0|-b:b},M.prototype.cmp=function(g){if(0!==this.negative&&0===g.negative)return-1;if(0===this.negative&&0!==g.negative)return 1;var w=this.ucmp(g);return 0!==this.negative?0|-w:w},M.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var w=0,b=this.length-1;b>=0;b--){var D=0|this.words[b],_=0|g.words[b];if(D!==_){D<_?w=-1:D>_&&(w=1);break}}return w},M.prototype.gtn=function(g){return 1===this.cmpn(g)},M.prototype.gt=function(g){return 1===this.cmp(g)},M.prototype.gten=function(g){return this.cmpn(g)>=0},M.prototype.gte=function(g){return this.cmp(g)>=0},M.prototype.ltn=function(g){return-1===this.cmpn(g)},M.prototype.lt=function(g){return-1===this.cmp(g)},M.prototype.lten=function(g){return this.cmpn(g)<=0},M.prototype.lte=function(g){return this.cmp(g)<=0},M.prototype.eqn=function(g){return 0===this.cmpn(g)},M.prototype.eq=function(g){return 0===this.cmp(g)},M.red=function(g){return new u(g)},M.prototype.toRed=function(g){return et(!this.red,"Already a number in reduction context"),et(0===this.negative,"red works only with positives"),g.convertTo(this)._forceRed(g)},M.prototype.fromRed=function(){return et(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(g){return this.red=g,this},M.prototype.forceRed=function(g){return et(!this.red,"Already a number in reduction context"),this._forceRed(g)},M.prototype.redAdd=function(g){return et(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},M.prototype.redIAdd=function(g){return et(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},M.prototype.redSub=function(g){return et(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},M.prototype.redISub=function(g){return et(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},M.prototype.redShl=function(g){return et(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},M.prototype.redMul=function(g){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},M.prototype.redIMul=function(g){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},M.prototype.redSqr=function(){return et(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return et(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return et(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return et(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return et(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(g){return et(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var lt={k256:null,p224:null,p192:null,p25519:null};function ht(v,g){this.name=v,this.p=new M(g,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function mt(){ht.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function dt(){ht.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function gt(){ht.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){ht.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function u(v){if("string"==typeof v){var g=M._prime(v);this.m=g.p,this.prime=g}else et(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}function p(v){u.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ht.prototype._tmp=function(){var g=new M(null);return g.words=new Array(Math.ceil(this.n/13)),g},ht.prototype.ireduce=function(g){var b,w=g;do{this.split(w,this.tmp),b=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength()}while(b>this.n);var D=b<this.n?-1:w.ucmp(this.p);return 0===D?(w.words[0]=0,w.length=1):D>0?w.isub(this.p):void 0!==w.strip?w.strip():w._strip(),w},ht.prototype.split=function(g,w){g.iushrn(this.n,0,w)},ht.prototype.imulK=function(g){return g.imul(this.k)},it(mt,ht),mt.prototype.split=function(g,w){for(var b=4194303,D=Math.min(g.length,9),_=0;_<D;_++)w.words[_]=g.words[_];if(w.length=D,g.length<=9)return g.words[0]=0,void(g.length=1);var f=g.words[9];for(w.words[w.length++]=f&b,_=10;_<g.length;_++){var C=0|g.words[_];g.words[_-10]=(C&b)<<4|f>>>22,f=C}g.words[_-10]=f>>>=22,g.length-=0===f&&g.length>10?10:9},mt.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var w=0,b=0;b<g.length;b++){var D=0|g.words[b];g.words[b]=67108863&(w+=977*D),w=64*D+(w/67108864|0)}return 0===g.words[g.length-1]&&(g.length--,0===g.words[g.length-1]&&g.length--),g},it(dt,ht),it(gt,ht),it(k,ht),k.prototype.imulK=function(g){for(var w=0,b=0;b<g.length;b++){var D=19*(0|g.words[b])+w,_=67108863&D;D>>>=26,g.words[b]=_,w=D}return 0!==w&&(g.words[g.length++]=w),g},M._prime=function(g){if(lt[g])return lt[g];var w;if("k256"===g)w=new mt;else if("p224"===g)w=new dt;else if("p192"===g)w=new gt;else{if("p25519"!==g)throw new Error("Unknown prime "+g);w=new k}return lt[g]=w,w},u.prototype._verify1=function(g){et(0===g.negative,"red works only with positives"),et(g.red,"red works only with red numbers")},u.prototype._verify2=function(g,w){et(0==(g.negative|w.negative),"red works only with positives"),et(g.red&&g.red===w.red,"red works only with red numbers")},u.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(B(g,g.umod(this.m)._forceRed(this)),g)},u.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},u.prototype.add=function(g,w){this._verify2(g,w);var b=g.add(w);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},u.prototype.iadd=function(g,w){this._verify2(g,w);var b=g.iadd(w);return b.cmp(this.m)>=0&&b.isub(this.m),b},u.prototype.sub=function(g,w){this._verify2(g,w);var b=g.sub(w);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},u.prototype.isub=function(g,w){this._verify2(g,w);var b=g.isub(w);return b.cmpn(0)<0&&b.iadd(this.m),b},u.prototype.shl=function(g,w){return this._verify1(g),this.imod(g.ushln(w))},u.prototype.imul=function(g,w){return this._verify2(g,w),this.imod(g.imul(w))},u.prototype.mul=function(g,w){return this._verify2(g,w),this.imod(g.mul(w))},u.prototype.isqr=function(g){return this.imul(g,g.clone())},u.prototype.sqr=function(g){return this.mul(g,g)},u.prototype.sqrt=function(g){if(g.isZero())return g.clone();var w=this.m.andln(3);if(et(w%2==1),3===w){var b=this.m.add(new M(1)).iushrn(2);return this.pow(g,b)}for(var D=this.m.subn(1),_=0;!D.isZero()&&0===D.andln(1);)_++,D.iushrn(1);et(!D.isZero());var f=new M(1).toRed(this),C=f.redNeg(),K=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new M(2*U*U).toRed(this);0!==this.pow(U,K).cmp(C);)U.redIAdd(C);for(var W=this.pow(U,D),st=this.pow(g,D.addn(1).iushrn(1)),ct=this.pow(g,D),Ct=_;0!==ct.cmp(f);){for(var kt=ct,wt=0;0!==kt.cmp(f);wt++)kt=kt.redSqr();et(wt<Ct);var ut=this.pow(W,new M(1).iushln(Ct-wt-1));st=st.redMul(ut),W=ut.redSqr(),ct=ct.redMul(W),Ct=wt}return st},u.prototype.invm=function(g){var w=g._invmp(this.m);return 0!==w.negative?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},u.prototype.pow=function(g,w){if(w.isZero())return new M(1).toRed(this);if(0===w.cmpn(1))return g.clone();var D=new Array(16);D[0]=new M(1).toRed(this),D[1]=g;for(var _=2;_<D.length;_++)D[_]=this.mul(D[_-1],g);var f=D[0],C=0,K=0,U=w.bitLength()%26;for(0===U&&(U=26),_=w.length-1;_>=0;_--){for(var W=w.words[_],st=U-1;st>=0;st--){var ct=W>>st&1;f!==D[0]&&(f=this.sqr(f)),0!==ct||0!==C?(C<<=1,C|=ct,(4==++K||0===_&&0===st)&&(f=this.mul(f,D[C]),K=0,C=0)):K=0}U=26}return f},u.prototype.convertTo=function(g){var w=g.umod(this.m);return w===g?w.clone():w},u.prototype.convertFrom=function(g){var w=g.clone();return w.red=null,w},M.mont=function(g){return new p(g)},it(p,u),p.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},p.prototype.convertFrom=function(g){var w=this.imod(g.mul(this.rinv));return w.red=null,w},p.prototype.imul=function(g,w){if(g.isZero()||w.isZero())return g.words[0]=0,g.length=1,g;var b=g.imul(w),D=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(D).iushrn(this.shift),f=_;return _.cmp(this.m)>=0?f=_.isub(this.m):_.cmpn(0)<0&&(f=_.iadd(this.m)),f._forceRed(this)},p.prototype.mul=function(g,w){if(g.isZero()||w.isZero())return new M(0)._forceRed(this);var b=g.mul(w),D=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(D).iushrn(this.shift),f=_;return _.cmp(this.m)>=0?f=_.isub(this.m):_.cmpn(0)<0&&(f=_.iadd(this.m)),f._forceRed(this)},p.prototype.invm=function(g){return this.imod(g._invmp(this.m).mul(this.r2))._forceRed(this)}}(Yt=vt.nmd(Yt),this)},3550:(Yt,q,vt)=>{var yt;function xt(it){this.rand=it}if(Yt.exports=function(M){return yt||(yt=new xt(null)),yt.generate(M)},Yt.exports.Rand=xt,xt.prototype.generate=function(M){return this._rand(M)},xt.prototype._rand=function(M){if(this.rand.getBytes)return this.rand.getBytes(M);for(var j=new Uint8Array(M),H=0;H<j.length;H++)j[H]=this.rand.getByte();return j},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?xt.prototype._rand=function(M){var j=new Uint8Array(M);return self.crypto.getRandomValues(j),j}:self.msCrypto&&self.msCrypto.getRandomValues?xt.prototype._rand=function(M){var j=new Uint8Array(M);return self.msCrypto.getRandomValues(j),j}:"object"==typeof window&&(xt.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var et=vt(7702);if("function"!=typeof et.randomBytes)throw new Error("Not supported");xt.prototype._rand=function(M){return et.randomBytes(M)}}catch(it){}},8541:(Yt,q,vt)=>{var yt=vt(4615).Buffer;function xt(X){yt.isBuffer(X)||(X=yt.from(X));for(var z=X.length/4|0,B=new Array(z),I=0;I<z;I++)B[I]=X.readUInt32BE(4*I);return B}function et(X){for(;0<X.length;X++)X[0]=0}function it(X,z,B,I,Y){for(var Q,lt,ht,mt,T=B[0],F=B[1],O=B[2],V=B[3],G=X[0]^z[0],R=X[1]^z[1],$=X[2]^z[2],Z=X[3]^z[3],dt=4,gt=1;gt<Y;gt++)Q=T[G>>>24]^F[R>>>16&255]^O[$>>>8&255]^V[255&Z]^z[dt++],lt=T[R>>>24]^F[$>>>16&255]^O[Z>>>8&255]^V[255&G]^z[dt++],ht=T[$>>>24]^F[Z>>>16&255]^O[G>>>8&255]^V[255&R]^z[dt++],mt=T[Z>>>24]^F[G>>>16&255]^O[R>>>8&255]^V[255&$]^z[dt++],G=Q,R=lt,$=ht,Z=mt;return Q=(I[G>>>24]<<24|I[R>>>16&255]<<16|I[$>>>8&255]<<8|I[255&Z])^z[dt++],lt=(I[R>>>24]<<24|I[$>>>16&255]<<16|I[Z>>>8&255]<<8|I[255&G])^z[dt++],ht=(I[$>>>24]<<24|I[Z>>>16&255]<<16|I[G>>>8&255]<<8|I[255&R])^z[dt++],mt=(I[Z>>>24]<<24|I[G>>>16&255]<<16|I[R>>>8&255]<<8|I[255&$])^z[dt++],[Q>>>=0,lt>>>=0,ht>>>=0,mt>>>=0]}var M=[0,1,2,4,8,16,32,64,128,27,54],j=function(){for(var X=new Array(256),z=0;z<256;z++)X[z]=z<128?z<<1:z<<1^283;for(var B=[],I=[],Y=[[],[],[],[]],T=[[],[],[],[]],F=0,O=0,V=0;V<256;++V){var G=O^O<<1^O<<2^O<<3^O<<4;B[F]=G=G>>>8^255&G^99,I[G]=F;var R=X[F],$=X[R],Z=X[$],Q=257*X[G]^16843008*G;Y[0][F]=Q<<24|Q>>>8,Y[1][F]=Q<<16|Q>>>16,Y[2][F]=Q<<8|Q>>>24,Y[3][F]=Q,T[0][G]=(Q=16843009*Z^65537*$^257*R^16843008*F)<<24|Q>>>8,T[1][G]=Q<<16|Q>>>16,T[2][G]=Q<<8|Q>>>24,T[3][G]=Q,0===F?F=O=1:(F=R^X[X[X[Z^R]]],O^=X[X[O]])}return{SBOX:B,INV_SBOX:I,SUB_MIX:Y,INV_SUB_MIX:T}}();function H(X){this._key=xt(X),this._reset()}H.blockSize=16,H.keySize=32,H.prototype.blockSize=H.blockSize,H.prototype.keySize=H.keySize,H.prototype._reset=function(){for(var X=this._key,z=X.length,B=z+6,I=4*(B+1),Y=[],T=0;T<z;T++)Y[T]=X[T];for(T=z;T<I;T++){var F=Y[T-1];T%z==0?(F=j.SBOX[(F=F<<8|F>>>24)>>>24]<<24|j.SBOX[F>>>16&255]<<16|j.SBOX[F>>>8&255]<<8|j.SBOX[255&F],F^=M[T/z|0]<<24):z>6&&T%z==4&&(F=j.SBOX[F>>>24]<<24|j.SBOX[F>>>16&255]<<16|j.SBOX[F>>>8&255]<<8|j.SBOX[255&F]),Y[T]=Y[T-z]^F}for(var O=[],V=0;V<I;V++){var G=I-V,R=Y[G-(V%4?0:4)];O[V]=V<4||G<=4?R:j.INV_SUB_MIX[0][j.SBOX[R>>>24]]^j.INV_SUB_MIX[1][j.SBOX[R>>>16&255]]^j.INV_SUB_MIX[2][j.SBOX[R>>>8&255]]^j.INV_SUB_MIX[3][j.SBOX[255&R]]}this._nRounds=B,this._keySchedule=Y,this._invKeySchedule=O},H.prototype.encryptBlockRaw=function(X){return it(X=xt(X),this._keySchedule,j.SUB_MIX,j.SBOX,this._nRounds)},H.prototype.encryptBlock=function(X){var z=this.encryptBlockRaw(X),B=yt.allocUnsafe(16);return B.writeUInt32BE(z[0],0),B.writeUInt32BE(z[1],4),B.writeUInt32BE(z[2],8),B.writeUInt32BE(z[3],12),B},H.prototype.decryptBlock=function(X){var z=(X=xt(X))[1];X[1]=X[3],X[3]=z;var B=it(X,this._invKeySchedule,j.INV_SUB_MIX,j.INV_SBOX,this._nRounds),I=yt.allocUnsafe(16);return I.writeUInt32BE(B[0],0),I.writeUInt32BE(B[3],4),I.writeUInt32BE(B[2],8),I.writeUInt32BE(B[1],12),I},H.prototype.scrub=function(){et(this._keySchedule),et(this._invKeySchedule),et(this._key)},Yt.exports.AES=H},1707:(Yt,q,vt)=>{var yt=vt(8541),xt=vt(4615).Buffer,et=vt(8672),it=vt(3516),M=vt(3727),j=vt(2818),H=vt(9636);function B(I,Y,T,F){et.call(this);var O=xt.alloc(4,0);this._cipher=new yt.AES(Y);var V=this._cipher.encryptBlock(O);this._ghash=new M(V),T=function(I,Y,T){if(12===Y.length)return I._finID=xt.concat([Y,xt.from([0,0,0,1])]),xt.concat([Y,xt.from([0,0,0,2])]);var F=new M(T),O=Y.length,V=O%16;F.update(Y),V&&F.update(xt.alloc(V=16-V,0)),F.update(xt.alloc(8,0));var G=8*O,R=xt.alloc(8);R.writeUIntBE(G,0,8),F.update(R),I._finID=F.state;var $=xt.from(I._finID);return H($),$}(this,T,V),this._prev=xt.from(T),this._cache=xt.allocUnsafe(0),this._secCache=xt.allocUnsafe(0),this._decrypt=F,this._alen=0,this._len=0,this._mode=I,this._authTag=null,this._called=!1}it(B,et),B.prototype._update=function(I){if(!this._called&&this._alen){var Y=16-this._alen%16;Y<16&&(Y=xt.alloc(Y,0),this._ghash.update(Y))}this._called=!0;var T=this._mode.encrypt(this,I);return this._ghash.update(this._decrypt?I:T),this._len+=I.length,T},B.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var I=j(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(I,Y){var T=0;I.length!==Y.length&&T++;for(var F=Math.min(I.length,Y.length),O=0;O<F;++O)T+=I[O]^Y[O];return T}(I,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=I,this._cipher.scrub()},B.prototype.getAuthTag=function(){if(this._decrypt||!xt.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},B.prototype.setAuthTag=function(Y){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=Y},B.prototype.setAAD=function(Y){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(Y),this._alen+=Y.length},Yt.exports=B},8809:(Yt,q,vt)=>{var yt=vt(11),xt=vt(3441),et=vt(4946);q.createCipher=q.Cipher=yt.createCipher,q.createCipheriv=q.Cipheriv=yt.createCipheriv,q.createDecipher=q.Decipher=xt.createDecipher,q.createDecipheriv=q.Decipheriv=xt.createDecipheriv,q.listCiphers=q.getCiphers=function(){return Object.keys(et)}},3441:(Yt,q,vt)=>{var yt=vt(1707),xt=vt(4615).Buffer,et=vt(4470),it=vt(7217),M=vt(8672),j=vt(8541),H=vt(4539);function z(F,O,V){M.call(this),this._cache=new B,this._last=void 0,this._cipher=new j.AES(O),this._prev=xt.from(V),this._mode=F,this._autopadding=!0}function B(){this.cache=xt.allocUnsafe(0)}function Y(F,O,V){var G=et[F.toLowerCase()];if(!G)throw new TypeError("invalid suite type");if("string"==typeof V&&(V=xt.from(V)),"GCM"!==G.mode&&V.length!==G.iv)throw new TypeError("invalid iv length "+V.length);if("string"==typeof O&&(O=xt.from(O)),O.length!==G.key/8)throw new TypeError("invalid key length "+O.length);return"stream"===G.type?new it(G.module,O,V,!0):"auth"===G.type?new yt(G.module,O,V,!0):new z(G.module,O,V)}vt(3516)(z,M),z.prototype._update=function(F){this._cache.add(F);for(var O,V,G=[];O=this._cache.get(this._autopadding);)V=this._mode.decrypt(this,O),G.push(V);return xt.concat(G)},z.prototype._final=function(){var F=this._cache.flush();if(this._autopadding)return function(F){var O=F[15];if(O<1||O>16)throw new Error("unable to decrypt data");for(var V=-1;++V<O;)if(F[V+(16-O)]!==O)throw new Error("unable to decrypt data");if(16!==O)return F.slice(0,16-O)}(this._mode.decrypt(this,F));if(F)throw new Error("data not multiple of block length")},z.prototype.setAutoPadding=function(F){return this._autopadding=!!F,this},B.prototype.add=function(F){this.cache=xt.concat([this.cache,F])},B.prototype.get=function(F){var O;if(F){if(this.cache.length>16)return O=this.cache.slice(0,16),this.cache=this.cache.slice(16),O}else if(this.cache.length>=16)return O=this.cache.slice(0,16),this.cache=this.cache.slice(16),O;return null},B.prototype.flush=function(){if(this.cache.length)return this.cache},q.createDecipher=function(F,O){var V=et[F.toLowerCase()];if(!V)throw new TypeError("invalid suite type");var G=H(O,!1,V.key,V.iv);return Y(F,G.key,G.iv)},q.createDecipheriv=Y},11:(Yt,q,vt)=>{var yt=vt(4470),xt=vt(1707),et=vt(4615).Buffer,it=vt(7217),M=vt(8672),j=vt(8541),H=vt(4539);function z(F,O,V){M.call(this),this._cache=new I,this._cipher=new j.AES(O),this._prev=et.from(V),this._mode=F,this._autopadding=!0}vt(3516)(z,M),z.prototype._update=function(F){this._cache.add(F);for(var O,V,G=[];O=this._cache.get();)V=this._mode.encrypt(this,O),G.push(V);return et.concat(G)};var B=et.alloc(16,16);function I(){this.cache=et.allocUnsafe(0)}function Y(F,O,V){var G=yt[F.toLowerCase()];if(!G)throw new TypeError("invalid suite type");if("string"==typeof O&&(O=et.from(O)),O.length!==G.key/8)throw new TypeError("invalid key length "+O.length);if("string"==typeof V&&(V=et.from(V)),"GCM"!==G.mode&&V.length!==G.iv)throw new TypeError("invalid iv length "+V.length);return"stream"===G.type?new it(G.module,O,V):"auth"===G.type?new xt(G.module,O,V):new z(G.module,O,V)}z.prototype._final=function(){var F=this._cache.flush();if(this._autopadding)return F=this._mode.encrypt(this,F),this._cipher.scrub(),F;if(!F.equals(B))throw this._cipher.scrub(),new Error("data not multiple of block length")},z.prototype.setAutoPadding=function(F){return this._autopadding=!!F,this},I.prototype.add=function(F){this.cache=et.concat([this.cache,F])},I.prototype.get=function(){if(this.cache.length>15){var F=this.cache.slice(0,16);return this.cache=this.cache.slice(16),F}return null},I.prototype.flush=function(){for(var F=16-this.cache.length,O=et.allocUnsafe(F),V=-1;++V<F;)O.writeUInt8(F,V);return et.concat([this.cache,O])},q.createCipheriv=Y,q.createCipher=function(F,O){var V=yt[F.toLowerCase()];if(!V)throw new TypeError("invalid suite type");var G=H(O,!1,V.key,V.iv);return Y(F,G.key,G.iv)}},3727:(Yt,q,vt)=>{var yt=vt(4615).Buffer,xt=yt.alloc(16,0);function it(j){var H=yt.allocUnsafe(16);return H.writeUInt32BE(j[0]>>>0,0),H.writeUInt32BE(j[1]>>>0,4),H.writeUInt32BE(j[2]>>>0,8),H.writeUInt32BE(j[3]>>>0,12),H}function M(j){this.h=j,this.state=yt.alloc(16,0),this.cache=yt.allocUnsafe(0)}M.prototype.ghash=function(j){for(var H=-1;++H<j.length;)this.state[H]^=j[H];this._multiply()},M.prototype._multiply=function(){for(var X,B,j=function(j){return[j.readUInt32BE(0),j.readUInt32BE(4),j.readUInt32BE(8),j.readUInt32BE(12)]}(this.h),H=[0,0,0,0],I=-1;++I<128;){for(0!=(this.state[~~(I/8)]&1<<7-I%8)&&(H[0]^=j[0],H[1]^=j[1],H[2]^=j[2],H[3]^=j[3]),B=0!=(1&j[3]),X=3;X>0;X--)j[X]=j[X]>>>1|(1&j[X-1])<<31;j[0]=j[0]>>>1,B&&(j[0]=j[0]^225<<24)}this.state=it(H)},M.prototype.update=function(j){this.cache=yt.concat([this.cache,j]);for(var H;this.cache.length>=16;)H=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(H)},M.prototype.final=function(j,H){return this.cache.length&&this.ghash(yt.concat([this.cache,xt],16)),this.ghash(it([0,j,0,H])),this.state},Yt.exports=M},9636:Yt=>{Yt.exports=function(vt){for(var xt,yt=vt.length;yt--;){if(255!==(xt=vt.readUInt8(yt))){xt++,vt.writeUInt8(xt,yt);break}vt.writeUInt8(0,yt)}}},2642:(Yt,q,vt)=>{var yt=vt(2818);q.encrypt=function(xt,et){var it=yt(et,xt._prev);return xt._prev=xt._cipher.encryptBlock(it),xt._prev},q.decrypt=function(xt,et){var it=xt._prev;xt._prev=et;var M=xt._cipher.decryptBlock(et);return yt(M,it)}},7925:(Yt,q,vt)=>{var yt=vt(4615).Buffer,xt=vt(2818);function et(it,M,j){var H=M.length,X=xt(M,it._cache);return it._cache=it._cache.slice(H),it._prev=yt.concat([it._prev,j?M:X]),X}q.encrypt=function(it,M,j){for(var X,H=yt.allocUnsafe(0);M.length;){if(0===it._cache.length&&(it._cache=it._cipher.encryptBlock(it._prev),it._prev=yt.allocUnsafe(0)),!(it._cache.length<=M.length)){H=yt.concat([H,et(it,M,j)]);break}H=yt.concat([H,et(it,M.slice(0,X=it._cache.length),j)]),M=M.slice(X)}return H}},1866:(Yt,q,vt)=>{var yt=vt(4615).Buffer;function xt(it,M,j){for(var I,Y,X=-1,B=0;++X<8;)B+=(128&(Y=it._cipher.encryptBlock(it._prev)[0]^(I=M&1<<7-X?128:0)))>>X%8,it._prev=et(it._prev,j?I:Y);return B}function et(it,M){var j=it.length,H=-1,X=yt.allocUnsafe(it.length);for(it=yt.concat([it,yt.from([M])]);++H<j;)X[H]=it[H]<<1|it[H+1]>>7;return X}q.encrypt=function(it,M,j){for(var H=M.length,X=yt.allocUnsafe(H),z=-1;++z<H;)X[z]=xt(it,M[z],j);return X}},2374:(Yt,q,vt)=>{var yt=vt(4615).Buffer;function xt(et,it,M){var H=et._cipher.encryptBlock(et._prev)[0]^it;return et._prev=yt.concat([et._prev.slice(1),yt.from([M?it:H])]),H}q.encrypt=function(et,it,M){for(var j=it.length,H=yt.allocUnsafe(j),X=-1;++X<j;)H[X]=xt(et,it[X],M);return H}},3971:(Yt,q,vt)=>{var yt=vt(2818),xt=vt(4615).Buffer,et=vt(9636);function it(j){var H=j._cipher.encryptBlockRaw(j._prev);return et(j._prev),H}q.encrypt=function(j,H){var X=Math.ceil(H.length/16),z=j._cache.length;j._cache=xt.concat([j._cache,xt.allocUnsafe(16*X)]);for(var B=0;B<X;B++){var I=it(j),Y=z+16*B;j._cache.writeUInt32BE(I[0],Y+0),j._cache.writeUInt32BE(I[1],Y+4),j._cache.writeUInt32BE(I[2],Y+8),j._cache.writeUInt32BE(I[3],Y+12)}var T=j._cache.slice(0,H.length);return j._cache=j._cache.slice(H.length),yt(H,T)}},5321:(Yt,q)=>{q.encrypt=function(vt,yt){return vt._cipher.encryptBlock(yt)},q.decrypt=function(vt,yt){return vt._cipher.decryptBlock(yt)}},4470:(Yt,q,vt)=>{var yt={ECB:vt(5321),CBC:vt(2642),CFB:vt(7925),CFB8:vt(2374),CFB1:vt(1866),OFB:vt(7633),CTR:vt(3971),GCM:vt(3971)},xt=vt(4946);for(var et in xt)xt[et].module=yt[xt[et].mode];Yt.exports=xt},7633:(Yt,q,vt)=>{var yt=vt(2818);function xt(et){return et._prev=et._cipher.encryptBlock(et._prev),et._prev}q.encrypt=function(et,it){for(;et._cache.length<it.length;)et._cache=Buffer.concat([et._cache,xt(et)]);var M=et._cache.slice(0,it.length);return et._cache=et._cache.slice(it.length),yt(it,M)}},7217:(Yt,q,vt)=>{var yt=vt(8541),xt=vt(4615).Buffer,et=vt(8672);function M(j,H,X,z){et.call(this),this._cipher=new yt.AES(H),this._prev=xt.from(X),this._cache=xt.allocUnsafe(0),this._secCache=xt.allocUnsafe(0),this._decrypt=z,this._mode=j}vt(3516)(M,et),M.prototype._update=function(j){return this._mode.encrypt(this,j,this._decrypt)},M.prototype._final=function(){this._cipher.scrub()},Yt.exports=M},5828:(Yt,q,vt)=>{var yt=vt(4848),xt=vt(8809),et=vt(4470),it=vt(1580),M=vt(4539);function X(I,Y,T){if(I=I.toLowerCase(),et[I])return xt.createCipheriv(I,Y,T);if(it[I])return new yt({key:Y,iv:T,mode:I});throw new TypeError("invalid suite type")}function z(I,Y,T){if(I=I.toLowerCase(),et[I])return xt.createDecipheriv(I,Y,T);if(it[I])return new yt({key:Y,iv:T,mode:I,decrypt:!0});throw new TypeError("invalid suite type")}q.createCipher=q.Cipher=function(I,Y){var T,F;if(I=I.toLowerCase(),et[I])T=et[I].key,F=et[I].iv;else{if(!it[I])throw new TypeError("invalid suite type");T=8*it[I].key,F=it[I].iv}var O=M(Y,!1,T,F);return X(I,O.key,O.iv)},q.createCipheriv=q.Cipheriv=X,q.createDecipher=q.Decipher=function(I,Y){var T,F;if(I=I.toLowerCase(),et[I])T=et[I].key,F=et[I].iv;else{if(!it[I])throw new TypeError("invalid suite type");T=8*it[I].key,F=it[I].iv}var O=M(Y,!1,T,F);return z(I,O.key,O.iv)},q.createDecipheriv=q.Decipheriv=z,q.listCiphers=q.getCiphers=function(){return Object.keys(it).concat(xt.getCiphers())}},4848:(Yt,q,vt)=>{var yt=vt(8672),xt=vt(1511),et=vt(3516),it=vt(4615).Buffer,M={"des-ede3-cbc":xt.CBC.instantiate(xt.EDE),"des-ede3":xt.EDE,"des-ede-cbc":xt.CBC.instantiate(xt.EDE),"des-ede":xt.EDE,"des-cbc":xt.CBC.instantiate(xt.DES),"des-ecb":xt.DES};function j(H){yt.call(this);var B,X=H.mode.toLowerCase(),z=M[X];B=H.decrypt?"decrypt":"encrypt";var I=H.key;it.isBuffer(I)||(I=it.from(I)),("des-ede"===X||"des-ede-cbc"===X)&&(I=it.concat([I,I.slice(0,8)]));var Y=H.iv;it.isBuffer(Y)||(Y=it.from(Y)),this._des=z.create({key:I,iv:Y,type:B})}M.des=M["des-cbc"],M.des3=M["des-ede3-cbc"],Yt.exports=j,et(j,yt),j.prototype._update=function(H){return it.from(this._des.update(H))},j.prototype._final=function(){return it.from(this._des.final())}},1580:(Yt,q)=>{q["des-ecb"]={key:8,iv:0},q["des-cbc"]=q.des={key:8,iv:8},q["des-ede3-cbc"]=q.des3={key:24,iv:8},q["des-ede3"]={key:24,iv:0},q["des-ede-cbc"]={key:16,iv:8},q["des-ede"]={key:16,iv:0}},5269:(Yt,q,vt)=>{var yt=vt(2963),xt=vt(8747);function it(j){var X,H=j.modulus.byteLength();do{X=new yt(xt(H))}while(X.cmp(j.modulus)>=0||!X.umod(j.prime1)||!X.umod(j.prime2));return X}function M(j,H){var X=function(j){var H=it(j);return{blinder:H.toRed(yt.mont(j.modulus)).redPow(new yt(j.publicExponent)).fromRed(),unblinder:H.invm(j.modulus)}}(H),z=H.modulus.byteLength(),B=new yt(j).mul(X.blinder).umod(H.modulus),I=B.toRed(yt.mont(H.prime1)),Y=B.toRed(yt.mont(H.prime2)),T=H.coefficient,F=H.prime1,O=H.prime2,V=I.redPow(H.exponent1).fromRed(),G=Y.redPow(H.exponent2).fromRed(),R=V.isub(G).imul(T).umod(F).imul(O);return G.iadd(R).imul(X.unblinder).umod(H.modulus).toArrayLike(Buffer,"be",z)}M.getr=it,Yt.exports=M},6850:(Yt,q,vt)=>{Yt.exports=vt(5207)},5822:(Yt,q,vt)=>{var yt=vt(8190).Buffer,xt=vt(4979),et=vt(8792),it=vt(3516),M=vt(8279),j=vt(3709),H=vt(5207);function X(Y){et.Writable.call(this);var T=H[Y];if(!T)throw new Error("Unknown message digest");this._hashType=T.hash,this._hash=xt(T.hash),this._tag=T.id,this._signType=T.sign}function z(Y){et.Writable.call(this);var T=H[Y];if(!T)throw new Error("Unknown message digest");this._hash=xt(T.hash),this._tag=T.id,this._signType=T.sign}function B(Y){return new X(Y)}function I(Y){return new z(Y)}Object.keys(H).forEach(function(Y){H[Y].id=yt.from(H[Y].id,"hex"),H[Y.toLowerCase()]=H[Y]}),it(X,et.Writable),X.prototype._write=function(T,F,O){this._hash.update(T),O()},X.prototype.update=function(T,F){return"string"==typeof T&&(T=yt.from(T,F)),this._hash.update(T),this},X.prototype.sign=function(T,F){this.end();var O=this._hash.digest(),V=M(O,T,this._hashType,this._signType,this._tag);return F?V.toString(F):V},it(z,et.Writable),z.prototype._write=function(T,F,O){this._hash.update(T),O()},z.prototype.update=function(T,F){return"string"==typeof T&&(T=yt.from(T,F)),this._hash.update(T),this},z.prototype.verify=function(T,F,O){"string"==typeof F&&(F=yt.from(F,O)),this.end();var V=this._hash.digest();return j(F,V,T,this._signType,this._tag)},Yt.exports={Sign:B,Verify:I,createSign:B,createVerify:I}},8279:(Yt,q,vt)=>{var yt=vt(8190).Buffer,xt=vt(3927),et=vt(5269),it=vt(3059).ec,M=vt(2963),j=vt(347),H=vt(1308);function Y(G,R,$,Z){if((G=yt.from(G.toArray())).length<R.byteLength()){var Q=yt.alloc(R.byteLength()-G.length);G=yt.concat([Q,G])}var lt=$.length,ht=function(G,R){G=(G=T(G,R)).mod(R);var $=yt.from(G.toArray());if($.length<R.byteLength()){var Z=yt.alloc(R.byteLength()-$.length);$=yt.concat([Z,$])}return $}($,R),mt=yt.alloc(lt);mt.fill(1);var dt=yt.alloc(lt);return dt=xt(Z,dt).update(mt).update(yt.from([0])).update(G).update(ht).digest(),mt=xt(Z,dt).update(mt).digest(),{k:dt=xt(Z,dt).update(mt).update(yt.from([1])).update(G).update(ht).digest(),v:mt=xt(Z,dt).update(mt).digest()}}function T(G,R){var $=new M(G),Z=(G.length<<3)-R.bitLength();return Z>0&&$.ishrn(Z),$}function O(G,R,$){var Z,Q;do{for(Z=yt.alloc(0);8*Z.length<G.bitLength();)R.v=xt($,R.k).update(R.v).digest(),Z=yt.concat([Z,R.v]);Q=T(Z,G),R.k=xt($,R.k).update(R.v).update(yt.from([0])).digest(),R.v=xt($,R.k).update(R.v).digest()}while(-1!==Q.cmp(G));return Q}function V(G,R,$,Z){return G.toRed(M.mont($)).redPow(R).fromRed().mod(Z)}Yt.exports=function(G,R,$,Z,Q){var lt=j(R);if(lt.curve){if("ecdsa"!==Z&&"ecdsa/rsa"!==Z)throw new Error("wrong private key type");return function(G,R){var $=H[R.curve.join(".")];if(!$)throw new Error("unknown curve "+R.curve.join("."));var lt=new it($).keyFromPrivate(R.privateKey).sign(G);return yt.from(lt.toDER())}(G,lt)}if("dsa"===lt.type){if("dsa"!==Z)throw new Error("wrong private key type");return function(G,R,$){for(var dt,Z=R.params.priv_key,Q=R.params.p,lt=R.params.q,ht=R.params.g,mt=new M(0),gt=T(G,lt).mod(lt),k=!1,u=Y(Z,lt,G,$);!1===k;)mt=V(ht,dt=O(lt,u,$),Q,lt),0===(k=dt.invm(lt).imul(gt.add(Z.mul(mt))).mod(lt)).cmpn(0)&&(k=!1,mt=new M(0));return function(G,R){G=G.toArray(),R=R.toArray(),128&G[0]&&(G=[0].concat(G)),128&R[0]&&(R=[0].concat(R));var Z=[48,G.length+R.length+4,2,G.length];return Z=Z.concat(G,[2,R.length],R),yt.from(Z)}(mt,k)}(G,lt,$)}if("rsa"!==Z&&"ecdsa/rsa"!==Z)throw new Error("wrong private key type");G=yt.concat([Q,G]);for(var ht=lt.modulus.byteLength(),mt=[0,1];G.length+mt.length+1<ht;)mt.push(255);mt.push(0);for(var dt=-1;++dt<G.length;)mt.push(G[dt]);return et(mt,lt)},Yt.exports.getKey=Y,Yt.exports.makeKey=O},3709:(Yt,q,vt)=>{var yt=vt(8190).Buffer,xt=vt(2963),et=vt(3059).ec,it=vt(347),M=vt(1308);function z(B,I){if(B.cmpn(0)<=0)throw new Error("invalid sig");if(B.cmp(I)>=I)throw new Error("invalid sig")}Yt.exports=function(B,I,Y,T,F){var O=it(Y);if("ec"===O.type){if("ecdsa"!==T&&"ecdsa/rsa"!==T)throw new Error("wrong public key type");return function(B,I,Y){var T=M[Y.data.algorithm.curve.join(".")];if(!T)throw new Error("unknown curve "+Y.data.algorithm.curve.join("."));return new et(T).verify(I,B,Y.data.subjectPrivateKey.data)}(B,I,O)}if("dsa"===O.type){if("dsa"!==T)throw new Error("wrong public key type");return function(B,I,Y){var T=Y.data.p,F=Y.data.q,O=Y.data.g,V=Y.data.pub_key,G=it.signature.decode(B,"der"),R=G.s,$=G.r;z(R,F),z($,F);var Z=xt.mont(T),Q=R.invm(F);return 0===O.toRed(Z).redPow(new xt(I).mul(Q).mod(F)).fromRed().mul(V.toRed(Z).redPow($.mul(Q).mod(F)).fromRed()).mod(T).mod(F).cmp($)}(B,I,O)}if("rsa"!==T&&"ecdsa/rsa"!==T)throw new Error("wrong public key type");I=yt.concat([F,I]);for(var V=O.modulus.byteLength(),G=[1],R=0;I.length+G.length+2<V;)G.push(255),R++;G.push(0);for(var $=-1;++$<I.length;)G.push(I[$]);G=yt.from(G);var Z=xt.mont(O.modulus);B=(B=new xt(B).toRed(Z)).redPow(new xt(O.publicExponent)),B=yt.from(B.fromRed().toArray());var Q=R<8?1:0;for(V=Math.min(B.length,G.length),B.length!==G.length&&(Q=1),$=-1;++$<V;)Q|=B[$]^G[$];return 0===Q}},8190:(Yt,q,vt)=>{var yt=vt(3847),xt=yt.Buffer;function et(M,j){for(var H in M)j[H]=M[H]}function it(M,j,H){return xt(M,j,H)}xt.from&&xt.alloc&&xt.allocUnsafe&&xt.allocUnsafeSlow?Yt.exports=yt:(et(yt,q),q.Buffer=it),it.prototype=Object.create(xt.prototype),et(xt,it),it.from=function(M,j,H){if("number"==typeof M)throw new TypeError("Argument must not be a number");return xt(M,j,H)},it.alloc=function(M,j,H){if("number"!=typeof M)throw new TypeError("Argument must be a number");var X=xt(M);return void 0!==j?"string"==typeof H?X.fill(j,H):X.fill(j):X.fill(0),X},it.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return xt(M)},it.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return yt.SlowBuffer(M)}},2818:Yt=>{Yt.exports=function(vt,yt){for(var xt=Math.min(vt.length,yt.length),et=new Buffer(xt),it=0;it<xt;++it)et[it]=vt[it]^yt[it];return et}},3847:(Yt,q,vt)=>{"use strict";const yt=vt(6193),xt=vt(1208),et="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;q.Buffer=H,q.SlowBuffer=function(Mt){return+Mt!=Mt&&(Mt=0),H.alloc(+Mt)},q.INSPECT_MAX_BYTES=50;const it=2147483647;function j(Mt){if(Mt>it)throw new RangeError('The value "'+Mt+'" is invalid for option "size"');const ot=new Uint8Array(Mt);return Object.setPrototypeOf(ot,H.prototype),ot}function H(Mt,ot,J){if("number"==typeof Mt){if("string"==typeof ot)throw new TypeError('The "string" argument must be of type string. Received type number');return I(Mt)}return X(Mt,ot,J)}function X(Mt,ot,J){if("string"==typeof Mt)return function(Mt,ot){if(("string"!=typeof ot||""===ot)&&(ot="utf8"),!H.isEncoding(ot))throw new TypeError("Unknown encoding: "+ot);const J=0|$(Mt,ot);let Nt=j(J);const Gt=Nt.write(Mt,ot);return Gt!==J&&(Nt=Nt.slice(0,Gt)),Nt}(Mt,ot);if(ArrayBuffer.isView(Mt))return function(Mt){if($t(Mt,Uint8Array)){const ot=new Uint8Array(Mt);return O(ot.buffer,ot.byteOffset,ot.byteLength)}return T(Mt)}(Mt);if(null==Mt)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Mt);if($t(Mt,ArrayBuffer)||Mt&&$t(Mt.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&($t(Mt,SharedArrayBuffer)||Mt&&$t(Mt.buffer,SharedArrayBuffer)))return O(Mt,ot,J);if("number"==typeof Mt)throw new TypeError('The "value" argument must not be of type number. Received type number');const Nt=Mt.valueOf&&Mt.valueOf();if(null!=Nt&&Nt!==Mt)return H.from(Nt,ot,J);const Gt=function(Mt){if(H.isBuffer(Mt)){const ot=0|G(Mt.length),J=j(ot);return 0===J.length||Mt.copy(J,0,0,ot),J}return void 0!==Mt.length?"number"!=typeof Mt.length||he(Mt.length)?j(0):T(Mt):"Buffer"===Mt.type&&Array.isArray(Mt.data)?T(Mt.data):void 0}(Mt);if(Gt)return Gt;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof Mt[Symbol.toPrimitive])return H.from(Mt[Symbol.toPrimitive]("string"),ot,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Mt)}function z(Mt){if("number"!=typeof Mt)throw new TypeError('"size" argument must be of type number');if(Mt<0)throw new RangeError('The value "'+Mt+'" is invalid for option "size"')}function I(Mt){return z(Mt),j(Mt<0?0:0|G(Mt))}function T(Mt){const ot=Mt.length<0?0:0|G(Mt.length),J=j(ot);for(let Nt=0;Nt<ot;Nt+=1)J[Nt]=255&Mt[Nt];return J}function O(Mt,ot,J){if(ot<0||Mt.byteLength<ot)throw new RangeError('"offset" is outside of buffer bounds');if(Mt.byteLength<ot+(J||0))throw new RangeError('"length" is outside of buffer bounds');let Nt;return Nt=void 0===ot&&void 0===J?new Uint8Array(Mt):void 0===J?new Uint8Array(Mt,ot):new Uint8Array(Mt,ot,J),Object.setPrototypeOf(Nt,H.prototype),Nt}function G(Mt){if(Mt>=it)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+it.toString(16)+" bytes");return 0|Mt}function $(Mt,ot){if(H.isBuffer(Mt))return Mt.length;if(ArrayBuffer.isView(Mt)||$t(Mt,ArrayBuffer))return Mt.byteLength;if("string"!=typeof Mt)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Mt);const J=Mt.length,Nt=arguments.length>2&&!0===arguments[2];if(!Nt&&0===J)return 0;let Gt=!1;for(;;)switch(ot){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return te(Mt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*J;case"hex":return J>>>1;case"base64":return Oe(Mt).length;default:if(Gt)return Nt?-1:te(Mt).length;ot=(""+ot).toLowerCase(),Gt=!0}}function Z(Mt,ot,J){let Nt=!1;if((void 0===ot||ot<0)&&(ot=0),ot>this.length||((void 0===J||J>this.length)&&(J=this.length),J<=0)||(J>>>=0)<=(ot>>>=0))return"";for(Mt||(Mt="utf8");;)switch(Mt){case"hex":return _(this,ot,J);case"utf8":case"utf-8":return v(this,ot,J);case"ascii":return b(this,ot,J);case"latin1":case"binary":return D(this,ot,J);case"base64":return p(this,ot,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,ot,J);default:if(Nt)throw new TypeError("Unknown encoding: "+Mt);Mt=(Mt+"").toLowerCase(),Nt=!0}}function Q(Mt,ot,J){const Nt=Mt[ot];Mt[ot]=Mt[J],Mt[J]=Nt}function lt(Mt,ot,J,Nt,Gt){if(0===Mt.length)return-1;if("string"==typeof J?(Nt=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),he(J=+J)&&(J=Gt?0:Mt.length-1),J<0&&(J=Mt.length+J),J>=Mt.length){if(Gt)return-1;J=Mt.length-1}else if(J<0){if(!Gt)return-1;J=0}if("string"==typeof ot&&(ot=H.from(ot,Nt)),H.isBuffer(ot))return 0===ot.length?-1:ht(Mt,ot,J,Nt,Gt);if("number"==typeof ot)return ot&=255,"function"==typeof Uint8Array.prototype.indexOf?Gt?Uint8Array.prototype.indexOf.call(Mt,ot,J):Uint8Array.prototype.lastIndexOf.call(Mt,ot,J):ht(Mt,[ot],J,Nt,Gt);throw new TypeError("val must be string, number or Buffer")}function ht(Mt,ot,J,Nt,Gt){let be,ge=1,qt=Mt.length,ae=ot.length;if(void 0!==Nt&&("ucs2"===(Nt=String(Nt).toLowerCase())||"ucs-2"===Nt||"utf16le"===Nt||"utf-16le"===Nt)){if(Mt.length<2||ot.length<2)return-1;ge=2,qt/=2,ae/=2,J/=2}function ei(xe,Ke){return 1===ge?xe[Ke]:xe.readUInt16BE(Ke*ge)}if(Gt){let xe=-1;for(be=J;be<qt;be++)if(ei(Mt,be)===ei(ot,-1===xe?0:be-xe)){if(-1===xe&&(xe=be),be-xe+1===ae)return xe*ge}else-1!==xe&&(be-=be-xe),xe=-1}else for(J+ae>qt&&(J=qt-ae),be=J;be>=0;be--){let xe=!0;for(let Ke=0;Ke<ae;Ke++)if(ei(Mt,be+Ke)!==ei(ot,Ke)){xe=!1;break}if(xe)return be}return-1}function mt(Mt,ot,J,Nt){J=Number(J)||0;const Gt=Mt.length-J;Nt?(Nt=Number(Nt))>Gt&&(Nt=Gt):Nt=Gt;const ge=ot.length;let qt;for(Nt>ge/2&&(Nt=ge/2),qt=0;qt<Nt;++qt){const ae=parseInt(ot.substr(2*qt,2),16);if(he(ae))return qt;Mt[J+qt]=ae}return qt}function dt(Mt,ot,J,Nt){return Jt(te(ot,Mt.length-J),Mt,J,Nt)}function gt(Mt,ot,J,Nt){return Jt(function(Mt){const ot=[];for(let J=0;J<Mt.length;++J)ot.push(255&Mt.charCodeAt(J));return ot}(ot),Mt,J,Nt)}function k(Mt,ot,J,Nt){return Jt(Oe(ot),Mt,J,Nt)}function u(Mt,ot,J,Nt){return Jt(function(Mt,ot){let J,Nt,Gt;const ge=[];for(let qt=0;qt<Mt.length&&!((ot-=2)<0);++qt)J=Mt.charCodeAt(qt),Nt=J>>8,Gt=J%256,ge.push(Gt),ge.push(Nt);return ge}(ot,Mt.length-J),Mt,J,Nt)}function p(Mt,ot,J){return yt.fromByteArray(0===ot&&J===Mt.length?Mt:Mt.slice(ot,J))}function v(Mt,ot,J){J=Math.min(Mt.length,J);const Nt=[];let Gt=ot;for(;Gt<J;){const ge=Mt[Gt];let qt=null,ae=ge>239?4:ge>223?3:ge>191?2:1;if(Gt+ae<=J){let ei,be,xe,Ke;switch(ae){case 1:ge<128&&(qt=ge);break;case 2:ei=Mt[Gt+1],128==(192&ei)&&(Ke=(31&ge)<<6|63&ei,Ke>127&&(qt=Ke));break;case 3:ei=Mt[Gt+1],be=Mt[Gt+2],128==(192&ei)&&128==(192&be)&&(Ke=(15&ge)<<12|(63&ei)<<6|63&be,Ke>2047&&(Ke<55296||Ke>57343)&&(qt=Ke));break;case 4:ei=Mt[Gt+1],be=Mt[Gt+2],xe=Mt[Gt+3],128==(192&ei)&&128==(192&be)&&128==(192&xe)&&(Ke=(15&ge)<<18|(63&ei)<<12|(63&be)<<6|63&xe,Ke>65535&&Ke<1114112&&(qt=Ke))}}null===qt?(qt=65533,ae=1):qt>65535&&(qt-=65536,Nt.push(qt>>>10&1023|55296),qt=56320|1023&qt),Nt.push(qt),Gt+=ae}return function(Mt){const ot=Mt.length;if(ot<=g)return String.fromCharCode.apply(String,Mt);let J="",Nt=0;for(;Nt<ot;)J+=String.fromCharCode.apply(String,Mt.slice(Nt,Nt+=g));return J}(Nt)}q.kMaxLength=it,!(H.TYPED_ARRAY_SUPPORT=function(){try{const Mt=new Uint8Array(1),ot={foo:function(){return 42}};return Object.setPrototypeOf(ot,Uint8Array.prototype),Object.setPrototypeOf(Mt,ot),42===Mt.foo()}catch(Mt){return!1}}())&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(H.prototype,"parent",{enumerable:!0,get:function(){if(H.isBuffer(this))return this.buffer}}),Object.defineProperty(H.prototype,"offset",{enumerable:!0,get:function(){if(H.isBuffer(this))return this.byteOffset}}),H.poolSize=8192,H.from=function(Mt,ot,J){return X(Mt,ot,J)},Object.setPrototypeOf(H.prototype,Uint8Array.prototype),Object.setPrototypeOf(H,Uint8Array),H.alloc=function(Mt,ot,J){return function(Mt,ot,J){return z(Mt),Mt<=0?j(Mt):void 0!==ot?"string"==typeof J?j(Mt).fill(ot,J):j(Mt).fill(ot):j(Mt)}(Mt,ot,J)},H.allocUnsafe=function(Mt){return I(Mt)},H.allocUnsafeSlow=function(Mt){return I(Mt)},H.isBuffer=function(ot){return null!=ot&&!0===ot._isBuffer&&ot!==H.prototype},H.compare=function(ot,J){if($t(ot,Uint8Array)&&(ot=H.from(ot,ot.offset,ot.byteLength)),$t(J,Uint8Array)&&(J=H.from(J,J.offset,J.byteLength)),!H.isBuffer(ot)||!H.isBuffer(J))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ot===J)return 0;let Nt=ot.length,Gt=J.length;for(let ge=0,qt=Math.min(Nt,Gt);ge<qt;++ge)if(ot[ge]!==J[ge]){Nt=ot[ge],Gt=J[ge];break}return Nt<Gt?-1:Gt<Nt?1:0},H.isEncoding=function(ot){switch(String(ot).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},H.concat=function(ot,J){if(!Array.isArray(ot))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ot.length)return H.alloc(0);let Nt;if(void 0===J)for(J=0,Nt=0;Nt<ot.length;++Nt)J+=ot[Nt].length;const Gt=H.allocUnsafe(J);let ge=0;for(Nt=0;Nt<ot.length;++Nt){let qt=ot[Nt];if($t(qt,Uint8Array))ge+qt.length>Gt.length?(H.isBuffer(qt)||(qt=H.from(qt)),qt.copy(Gt,ge)):Uint8Array.prototype.set.call(Gt,qt,ge);else{if(!H.isBuffer(qt))throw new TypeError('"list" argument must be an Array of Buffers');qt.copy(Gt,ge)}ge+=qt.length}return Gt},H.byteLength=$,H.prototype._isBuffer=!0,H.prototype.swap16=function(){const ot=this.length;if(ot%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let J=0;J<ot;J+=2)Q(this,J,J+1);return this},H.prototype.swap32=function(){const ot=this.length;if(ot%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let J=0;J<ot;J+=4)Q(this,J,J+3),Q(this,J+1,J+2);return this},H.prototype.swap64=function(){const ot=this.length;if(ot%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let J=0;J<ot;J+=8)Q(this,J,J+7),Q(this,J+1,J+6),Q(this,J+2,J+5),Q(this,J+3,J+4);return this},H.prototype.toLocaleString=H.prototype.toString=function(){const ot=this.length;return 0===ot?"":0===arguments.length?v(this,0,ot):Z.apply(this,arguments)},H.prototype.equals=function(ot){if(!H.isBuffer(ot))throw new TypeError("Argument must be a Buffer");return this===ot||0===H.compare(this,ot)},H.prototype.inspect=function(){let ot="";const J=q.INSPECT_MAX_BYTES;return ot=this.toString("hex",0,J).replace(/(.{2})/g,"$1 ").trim(),this.length>J&&(ot+=" ... "),"<Buffer "+ot+">"},et&&(H.prototype[et]=H.prototype.inspect),H.prototype.compare=function(ot,J,Nt,Gt,ge){if($t(ot,Uint8Array)&&(ot=H.from(ot,ot.offset,ot.byteLength)),!H.isBuffer(ot))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ot);if(void 0===J&&(J=0),void 0===Nt&&(Nt=ot?ot.length:0),void 0===Gt&&(Gt=0),void 0===ge&&(ge=this.length),J<0||Nt>ot.length||Gt<0||ge>this.length)throw new RangeError("out of range index");if(Gt>=ge&&J>=Nt)return 0;if(Gt>=ge)return-1;if(J>=Nt)return 1;if(this===ot)return 0;let qt=(ge>>>=0)-(Gt>>>=0),ae=(Nt>>>=0)-(J>>>=0);const ei=Math.min(qt,ae),be=this.slice(Gt,ge),xe=ot.slice(J,Nt);for(let Ke=0;Ke<ei;++Ke)if(be[Ke]!==xe[Ke]){qt=be[Ke],ae=xe[Ke];break}return qt<ae?-1:ae<qt?1:0},H.prototype.includes=function(ot,J,Nt){return-1!==this.indexOf(ot,J,Nt)},H.prototype.indexOf=function(ot,J,Nt){return lt(this,ot,J,Nt,!0)},H.prototype.lastIndexOf=function(ot,J,Nt){return lt(this,ot,J,Nt,!1)},H.prototype.write=function(ot,J,Nt,Gt){if(void 0===J)Gt="utf8",Nt=this.length,J=0;else if(void 0===Nt&&"string"==typeof J)Gt=J,Nt=this.length,J=0;else{if(!isFinite(J))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");J>>>=0,isFinite(Nt)?(Nt>>>=0,void 0===Gt&&(Gt="utf8")):(Gt=Nt,Nt=void 0)}const ge=this.length-J;if((void 0===Nt||Nt>ge)&&(Nt=ge),ot.length>0&&(Nt<0||J<0)||J>this.length)throw new RangeError("Attempt to write outside buffer bounds");Gt||(Gt="utf8");let qt=!1;for(;;)switch(Gt){case"hex":return mt(this,ot,J,Nt);case"utf8":case"utf-8":return dt(this,ot,J,Nt);case"ascii":case"latin1":case"binary":return gt(this,ot,J,Nt);case"base64":return k(this,ot,J,Nt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,ot,J,Nt);default:if(qt)throw new TypeError("Unknown encoding: "+Gt);Gt=(""+Gt).toLowerCase(),qt=!0}},H.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const g=4096;function b(Mt,ot,J){let Nt="";J=Math.min(Mt.length,J);for(let Gt=ot;Gt<J;++Gt)Nt+=String.fromCharCode(127&Mt[Gt]);return Nt}function D(Mt,ot,J){let Nt="";J=Math.min(Mt.length,J);for(let Gt=ot;Gt<J;++Gt)Nt+=String.fromCharCode(Mt[Gt]);return Nt}function _(Mt,ot,J){const Nt=Mt.length;(!ot||ot<0)&&(ot=0),(!J||J<0||J>Nt)&&(J=Nt);let Gt="";for(let ge=ot;ge<J;++ge)Gt+=Tt[Mt[ge]];return Gt}function f(Mt,ot,J){const Nt=Mt.slice(ot,J);let Gt="";for(let ge=0;ge<Nt.length-1;ge+=2)Gt+=String.fromCharCode(Nt[ge]+256*Nt[ge+1]);return Gt}function C(Mt,ot,J){if(Mt%1!=0||Mt<0)throw new RangeError("offset is not uint");if(Mt+ot>J)throw new RangeError("Trying to access beyond buffer length")}function K(Mt,ot,J,Nt,Gt,ge){if(!H.isBuffer(Mt))throw new TypeError('"buffer" argument must be a Buffer instance');if(ot>Gt||ot<ge)throw new RangeError('"value" argument is out of bounds');if(J+Nt>Mt.length)throw new RangeError("Index out of range")}function U(Mt,ot,J,Nt,Gt){bt(ot,Nt,Gt,Mt,J,7);let ge=Number(ot&BigInt(4294967295));Mt[J++]=ge,ge>>=8,Mt[J++]=ge,ge>>=8,Mt[J++]=ge,ge>>=8,Mt[J++]=ge;let qt=Number(ot>>BigInt(32)&BigInt(4294967295));return Mt[J++]=qt,qt>>=8,Mt[J++]=qt,qt>>=8,Mt[J++]=qt,qt>>=8,Mt[J++]=qt,J}function W(Mt,ot,J,Nt,Gt){bt(ot,Nt,Gt,Mt,J,7);let ge=Number(ot&BigInt(4294967295));Mt[J+7]=ge,ge>>=8,Mt[J+6]=ge,ge>>=8,Mt[J+5]=ge,ge>>=8,Mt[J+4]=ge;let qt=Number(ot>>BigInt(32)&BigInt(4294967295));return Mt[J+3]=qt,qt>>=8,Mt[J+2]=qt,qt>>=8,Mt[J+1]=qt,qt>>=8,Mt[J]=qt,J+8}function st(Mt,ot,J,Nt,Gt,ge){if(J+Nt>Mt.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function ct(Mt,ot,J,Nt,Gt){return ot=+ot,J>>>=0,Gt||st(Mt,0,J,4),xt.write(Mt,ot,J,Nt,23,4),J+4}function Ct(Mt,ot,J,Nt,Gt){return ot=+ot,J>>>=0,Gt||st(Mt,0,J,8),xt.write(Mt,ot,J,Nt,52,8),J+8}H.prototype.slice=function(ot,J){const Nt=this.length;(ot=~~ot)<0?(ot+=Nt)<0&&(ot=0):ot>Nt&&(ot=Nt),(J=void 0===J?Nt:~~J)<0?(J+=Nt)<0&&(J=0):J>Nt&&(J=Nt),J<ot&&(J=ot);const Gt=this.subarray(ot,J);return Object.setPrototypeOf(Gt,H.prototype),Gt},H.prototype.readUintLE=H.prototype.readUIntLE=function(ot,J,Nt){ot>>>=0,J>>>=0,Nt||C(ot,J,this.length);let Gt=this[ot],ge=1,qt=0;for(;++qt<J&&(ge*=256);)Gt+=this[ot+qt]*ge;return Gt},H.prototype.readUintBE=H.prototype.readUIntBE=function(ot,J,Nt){ot>>>=0,J>>>=0,Nt||C(ot,J,this.length);let Gt=this[ot+--J],ge=1;for(;J>0&&(ge*=256);)Gt+=this[ot+--J]*ge;return Gt},H.prototype.readUint8=H.prototype.readUInt8=function(ot,J){return ot>>>=0,J||C(ot,1,this.length),this[ot]},H.prototype.readUint16LE=H.prototype.readUInt16LE=function(ot,J){return ot>>>=0,J||C(ot,2,this.length),this[ot]|this[ot+1]<<8},H.prototype.readUint16BE=H.prototype.readUInt16BE=function(ot,J){return ot>>>=0,J||C(ot,2,this.length),this[ot]<<8|this[ot+1]},H.prototype.readUint32LE=H.prototype.readUInt32LE=function(ot,J){return ot>>>=0,J||C(ot,4,this.length),(this[ot]|this[ot+1]<<8|this[ot+2]<<16)+16777216*this[ot+3]},H.prototype.readUint32BE=H.prototype.readUInt32BE=function(ot,J){return ot>>>=0,J||C(ot,4,this.length),16777216*this[ot]+(this[ot+1]<<16|this[ot+2]<<8|this[ot+3])},H.prototype.readBigUInt64LE=Bt(function(ot){pt(ot>>>=0,"offset");const J=this[ot],Nt=this[ot+7];(void 0===J||void 0===Nt)&&Dt(ot,this.length-8);const Gt=J+256*this[++ot]+65536*this[++ot]+this[++ot]*2**24,ge=this[++ot]+256*this[++ot]+65536*this[++ot]+Nt*2**24;return BigInt(Gt)+(BigInt(ge)<<BigInt(32))}),H.prototype.readBigUInt64BE=Bt(function(ot){pt(ot>>>=0,"offset");const J=this[ot],Nt=this[ot+7];(void 0===J||void 0===Nt)&&Dt(ot,this.length-8);const Gt=J*2**24+65536*this[++ot]+256*this[++ot]+this[++ot],ge=this[++ot]*2**24+65536*this[++ot]+256*this[++ot]+Nt;return(BigInt(Gt)<<BigInt(32))+BigInt(ge)}),H.prototype.readIntLE=function(ot,J,Nt){ot>>>=0,J>>>=0,Nt||C(ot,J,this.length);let Gt=this[ot],ge=1,qt=0;for(;++qt<J&&(ge*=256);)Gt+=this[ot+qt]*ge;return ge*=128,Gt>=ge&&(Gt-=Math.pow(2,8*J)),Gt},H.prototype.readIntBE=function(ot,J,Nt){ot>>>=0,J>>>=0,Nt||C(ot,J,this.length);let Gt=J,ge=1,qt=this[ot+--Gt];for(;Gt>0&&(ge*=256);)qt+=this[ot+--Gt]*ge;return ge*=128,qt>=ge&&(qt-=Math.pow(2,8*J)),qt},H.prototype.readInt8=function(ot,J){return ot>>>=0,J||C(ot,1,this.length),128&this[ot]?-1*(255-this[ot]+1):this[ot]},H.prototype.readInt16LE=function(ot,J){ot>>>=0,J||C(ot,2,this.length);const Nt=this[ot]|this[ot+1]<<8;return 32768&Nt?4294901760|Nt:Nt},H.prototype.readInt16BE=function(ot,J){ot>>>=0,J||C(ot,2,this.length);const Nt=this[ot+1]|this[ot]<<8;return 32768&Nt?4294901760|Nt:Nt},H.prototype.readInt32LE=function(ot,J){return ot>>>=0,J||C(ot,4,this.length),this[ot]|this[ot+1]<<8|this[ot+2]<<16|this[ot+3]<<24},H.prototype.readInt32BE=function(ot,J){return ot>>>=0,J||C(ot,4,this.length),this[ot]<<24|this[ot+1]<<16|this[ot+2]<<8|this[ot+3]},H.prototype.readBigInt64LE=Bt(function(ot){pt(ot>>>=0,"offset");const J=this[ot],Nt=this[ot+7];return(void 0===J||void 0===Nt)&&Dt(ot,this.length-8),(BigInt(this[ot+4]+256*this[ot+5]+65536*this[ot+6]+(Nt<<24))<<BigInt(32))+BigInt(J+256*this[++ot]+65536*this[++ot]+this[++ot]*2**24)}),H.prototype.readBigInt64BE=Bt(function(ot){pt(ot>>>=0,"offset");const J=this[ot],Nt=this[ot+7];(void 0===J||void 0===Nt)&&Dt(ot,this.length-8);const Gt=(J<<24)+65536*this[++ot]+256*this[++ot]+this[++ot];return(BigInt(Gt)<<BigInt(32))+BigInt(this[++ot]*2**24+65536*this[++ot]+256*this[++ot]+Nt)}),H.prototype.readFloatLE=function(ot,J){return ot>>>=0,J||C(ot,4,this.length),xt.read(this,ot,!0,23,4)},H.prototype.readFloatBE=function(ot,J){return ot>>>=0,J||C(ot,4,this.length),xt.read(this,ot,!1,23,4)},H.prototype.readDoubleLE=function(ot,J){return ot>>>=0,J||C(ot,8,this.length),xt.read(this,ot,!0,52,8)},H.prototype.readDoubleBE=function(ot,J){return ot>>>=0,J||C(ot,8,this.length),xt.read(this,ot,!1,52,8)},H.prototype.writeUintLE=H.prototype.writeUIntLE=function(ot,J,Nt,Gt){ot=+ot,J>>>=0,Nt>>>=0,Gt||K(this,ot,J,Nt,Math.pow(2,8*Nt)-1,0);let ge=1,qt=0;for(this[J]=255&ot;++qt<Nt&&(ge*=256);)this[J+qt]=ot/ge&255;return J+Nt},H.prototype.writeUintBE=H.prototype.writeUIntBE=function(ot,J,Nt,Gt){ot=+ot,J>>>=0,Nt>>>=0,Gt||K(this,ot,J,Nt,Math.pow(2,8*Nt)-1,0);let ge=Nt-1,qt=1;for(this[J+ge]=255&ot;--ge>=0&&(qt*=256);)this[J+ge]=ot/qt&255;return J+Nt},H.prototype.writeUint8=H.prototype.writeUInt8=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,1,255,0),this[J]=255&ot,J+1},H.prototype.writeUint16LE=H.prototype.writeUInt16LE=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,2,65535,0),this[J]=255&ot,this[J+1]=ot>>>8,J+2},H.prototype.writeUint16BE=H.prototype.writeUInt16BE=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,2,65535,0),this[J]=ot>>>8,this[J+1]=255&ot,J+2},H.prototype.writeUint32LE=H.prototype.writeUInt32LE=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,4,4294967295,0),this[J+3]=ot>>>24,this[J+2]=ot>>>16,this[J+1]=ot>>>8,this[J]=255&ot,J+4},H.prototype.writeUint32BE=H.prototype.writeUInt32BE=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,4,4294967295,0),this[J]=ot>>>24,this[J+1]=ot>>>16,this[J+2]=ot>>>8,this[J+3]=255&ot,J+4},H.prototype.writeBigUInt64LE=Bt(function(ot,J=0){return U(this,ot,J,BigInt(0),BigInt("0xffffffffffffffff"))}),H.prototype.writeBigUInt64BE=Bt(function(ot,J=0){return W(this,ot,J,BigInt(0),BigInt("0xffffffffffffffff"))}),H.prototype.writeIntLE=function(ot,J,Nt,Gt){if(ot=+ot,J>>>=0,!Gt){const ei=Math.pow(2,8*Nt-1);K(this,ot,J,Nt,ei-1,-ei)}let ge=0,qt=1,ae=0;for(this[J]=255&ot;++ge<Nt&&(qt*=256);)ot<0&&0===ae&&0!==this[J+ge-1]&&(ae=1),this[J+ge]=(ot/qt>>0)-ae&255;return J+Nt},H.prototype.writeIntBE=function(ot,J,Nt,Gt){if(ot=+ot,J>>>=0,!Gt){const ei=Math.pow(2,8*Nt-1);K(this,ot,J,Nt,ei-1,-ei)}let ge=Nt-1,qt=1,ae=0;for(this[J+ge]=255&ot;--ge>=0&&(qt*=256);)ot<0&&0===ae&&0!==this[J+ge+1]&&(ae=1),this[J+ge]=(ot/qt>>0)-ae&255;return J+Nt},H.prototype.writeInt8=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,1,127,-128),ot<0&&(ot=255+ot+1),this[J]=255&ot,J+1},H.prototype.writeInt16LE=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,2,32767,-32768),this[J]=255&ot,this[J+1]=ot>>>8,J+2},H.prototype.writeInt16BE=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,2,32767,-32768),this[J]=ot>>>8,this[J+1]=255&ot,J+2},H.prototype.writeInt32LE=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,4,2147483647,-2147483648),this[J]=255&ot,this[J+1]=ot>>>8,this[J+2]=ot>>>16,this[J+3]=ot>>>24,J+4},H.prototype.writeInt32BE=function(ot,J,Nt){return ot=+ot,J>>>=0,Nt||K(this,ot,J,4,2147483647,-2147483648),ot<0&&(ot=4294967295+ot+1),this[J]=ot>>>24,this[J+1]=ot>>>16,this[J+2]=ot>>>8,this[J+3]=255&ot,J+4},H.prototype.writeBigInt64LE=Bt(function(ot,J=0){return U(this,ot,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),H.prototype.writeBigInt64BE=Bt(function(ot,J=0){return W(this,ot,J,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),H.prototype.writeFloatLE=function(ot,J,Nt){return ct(this,ot,J,!0,Nt)},H.prototype.writeFloatBE=function(ot,J,Nt){return ct(this,ot,J,!1,Nt)},H.prototype.writeDoubleLE=function(ot,J,Nt){return Ct(this,ot,J,!0,Nt)},H.prototype.writeDoubleBE=function(ot,J,Nt){return Ct(this,ot,J,!1,Nt)},H.prototype.copy=function(ot,J,Nt,Gt){if(!H.isBuffer(ot))throw new TypeError("argument should be a Buffer");if(Nt||(Nt=0),!Gt&&0!==Gt&&(Gt=this.length),J>=ot.length&&(J=ot.length),J||(J=0),Gt>0&&Gt<Nt&&(Gt=Nt),Gt===Nt||0===ot.length||0===this.length)return 0;if(J<0)throw new RangeError("targetStart out of bounds");if(Nt<0||Nt>=this.length)throw new RangeError("Index out of range");if(Gt<0)throw new RangeError("sourceEnd out of bounds");Gt>this.length&&(Gt=this.length),ot.length-J<Gt-Nt&&(Gt=ot.length-J+Nt);const ge=Gt-Nt;return this===ot&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(J,Nt,Gt):Uint8Array.prototype.set.call(ot,this.subarray(Nt,Gt),J),ge},H.prototype.fill=function(ot,J,Nt,Gt){if("string"==typeof ot){if("string"==typeof J?(Gt=J,J=0,Nt=this.length):"string"==typeof Nt&&(Gt=Nt,Nt=this.length),void 0!==Gt&&"string"!=typeof Gt)throw new TypeError("encoding must be a string");if("string"==typeof Gt&&!H.isEncoding(Gt))throw new TypeError("Unknown encoding: "+Gt);if(1===ot.length){const qt=ot.charCodeAt(0);("utf8"===Gt&&qt<128||"latin1"===Gt)&&(ot=qt)}}else"number"==typeof ot?ot&=255:"boolean"==typeof ot&&(ot=Number(ot));if(J<0||this.length<J||this.length<Nt)throw new RangeError("Out of range index");if(Nt<=J)return this;let ge;if(J>>>=0,Nt=void 0===Nt?this.length:Nt>>>0,ot||(ot=0),"number"==typeof ot)for(ge=J;ge<Nt;++ge)this[ge]=ot;else{const qt=H.isBuffer(ot)?ot:H.from(ot,Gt),ae=qt.length;if(0===ae)throw new TypeError('The value "'+ot+'" is invalid for argument "value"');for(ge=0;ge<Nt-J;++ge)this[ge+J]=qt[ge%ae]}return this};const kt={};function wt(Mt,ot,J){kt[Mt]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:ot.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Mt}]`,delete this.name}get code(){return Mt}set code(Gt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Gt,writable:!0})}toString(){return`${this.name} [${Mt}]: ${this.message}`}}}function ut(Mt){let ot="",J=Mt.length;const Nt="-"===Mt[0]?1:0;for(;J>=Nt+4;J-=3)ot=`_${Mt.slice(J-3,J)}${ot}`;return`${Mt.slice(0,J)}${ot}`}function bt(Mt,ot,J,Nt,Gt,ge){if(Mt>J||Mt<ot){const qt="bigint"==typeof ot?"n":"";let ae;throw ae=ge>3?0===ot||ot===BigInt(0)?`>= 0${qt} and < 2${qt} ** ${8*(ge+1)}${qt}`:`>= -(2${qt} ** ${8*(ge+1)-1}${qt}) and < 2 ** ${8*(ge+1)-1}${qt}`:`>= ${ot}${qt} and <= ${J}${qt}`,new kt.ERR_OUT_OF_RANGE("value",ae,Mt)}!function(Mt,ot,J){pt(ot,"offset"),(void 0===Mt[ot]||void 0===Mt[ot+J])&&Dt(ot,Mt.length-(J+1))}(Nt,Gt,ge)}function pt(Mt,ot){if("number"!=typeof Mt)throw new kt.ERR_INVALID_ARG_TYPE(ot,"number",Mt)}function Dt(Mt,ot,J){throw Math.floor(Mt)!==Mt?(pt(Mt,J),new kt.ERR_OUT_OF_RANGE(J||"offset","an integer",Mt)):ot<0?new kt.ERR_BUFFER_OUT_OF_BOUNDS:new kt.ERR_OUT_OF_RANGE(J||"offset",`>= ${J?1:0} and <= ${ot}`,Mt)}wt("ERR_BUFFER_OUT_OF_BOUNDS",function(Mt){return Mt?`${Mt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),wt("ERR_INVALID_ARG_TYPE",function(Mt,ot){return`The "${Mt}" argument must be of type number. Received type ${typeof ot}`},TypeError),wt("ERR_OUT_OF_RANGE",function(Mt,ot,J){let Nt=`The value of "${Mt}" is out of range.`,Gt=J;return Number.isInteger(J)&&Math.abs(J)>2**32?Gt=ut(String(J)):"bigint"==typeof J&&(Gt=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(Gt=ut(Gt)),Gt+="n"),Nt+=` It must be ${ot}. Received ${Gt}`,Nt},RangeError);const Rt=/[^+/0-9A-Za-z-_]/g;function te(Mt,ot){let J;ot=ot||1/0;const Nt=Mt.length;let Gt=null;const ge=[];for(let qt=0;qt<Nt;++qt){if(J=Mt.charCodeAt(qt),J>55295&&J<57344){if(!Gt){if(J>56319){(ot-=3)>-1&&ge.push(239,191,189);continue}if(qt+1===Nt){(ot-=3)>-1&&ge.push(239,191,189);continue}Gt=J;continue}if(J<56320){(ot-=3)>-1&&ge.push(239,191,189),Gt=J;continue}J=65536+(Gt-55296<<10|J-56320)}else Gt&&(ot-=3)>-1&&ge.push(239,191,189);if(Gt=null,J<128){if((ot-=1)<0)break;ge.push(J)}else if(J<2048){if((ot-=2)<0)break;ge.push(J>>6|192,63&J|128)}else if(J<65536){if((ot-=3)<0)break;ge.push(J>>12|224,J>>6&63|128,63&J|128)}else{if(!(J<1114112))throw new Error("Invalid code point");if((ot-=4)<0)break;ge.push(J>>18|240,J>>12&63|128,J>>6&63|128,63&J|128)}}return ge}function Oe(Mt){return yt.toByteArray(function(Mt){if((Mt=(Mt=Mt.split("=")[0]).trim().replace(Rt,"")).length<2)return"";for(;Mt.length%4!=0;)Mt+="=";return Mt}(Mt))}function Jt(Mt,ot,J,Nt){let Gt;for(Gt=0;Gt<Nt&&!(Gt+J>=ot.length||Gt>=Mt.length);++Gt)ot[Gt+J]=Mt[Gt];return Gt}function $t(Mt,ot){return Mt instanceof ot||null!=Mt&&null!=Mt.constructor&&null!=Mt.constructor.name&&Mt.constructor.name===ot.name}function he(Mt){return Mt!=Mt}const Tt=function(){const Mt="0123456789abcdef",ot=new Array(256);for(let J=0;J<16;++J){const Nt=16*J;for(let Gt=0;Gt<16;++Gt)ot[Nt+Gt]=Mt[J]+Mt[Gt]}return ot}();function Bt(Mt){return"undefined"==typeof BigInt?le:Mt}function le(){throw new Error("BigInt not supported")}},8672:(Yt,q,vt)=>{var yt=vt(4615).Buffer,xt=vt(5089).Transform,et=vt(3033).s;function M(j){xt.call(this),this.hashMode="string"==typeof j,this.hashMode?this[j]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}vt(3516)(M,xt),M.prototype.update=function(j,H,X){"string"==typeof j&&(j=yt.from(j,H));var z=this._update(j);return this.hashMode?this:(X&&(z=this._toString(z,X)),z)},M.prototype.setAutoPadding=function(){},M.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},M.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},M.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},M.prototype._transform=function(j,H,X){var z;try{this.hashMode?this._update(j):this.push(this._update(j))}catch(B){z=B}finally{X(z)}},M.prototype._flush=function(j){var H;try{this.push(this.__final())}catch(X){H=X}j(H)},M.prototype._finalOrDigest=function(j){var H=this.__final()||yt.alloc(0);return j&&(H=this._toString(H,j,!0)),H},M.prototype._toString=function(j,H,X){if(this._decoder||(this._decoder=new et(H),this._encoding=H),this._encoding!==H)throw new Error("can't switch encodings");var z=this._decoder.write(j);return X&&(z+=this._decoder.end()),z},Yt.exports=M},4523:(Yt,q,vt)=>{var yt=vt(3059),xt=vt(6867);Yt.exports=function(H){return new it(H)};var et={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function it(j){this.curveType=et[j],this.curveType||(this.curveType={name:j}),this.curve=new yt.ec(this.curveType.name),this.keys=void 0}function M(j,H,X){Array.isArray(j)||(j=j.toArray());var z=new Buffer(j);if(X&&z.length<X){var B=new Buffer(X-z.length);B.fill(0),z=Buffer.concat([B,z])}return H?z.toString(H):z}et.p224=et.secp224r1,et.p256=et.secp256r1=et.prime256v1,et.p192=et.secp192r1=et.prime192v1,et.p384=et.secp384r1,et.p521=et.secp521r1,it.prototype.generateKeys=function(j,H){return this.keys=this.curve.genKeyPair(),this.getPublicKey(j,H)},it.prototype.computeSecret=function(j,H,X){return H=H||"utf8",Buffer.isBuffer(j)||(j=new Buffer(j,H)),M(this.curve.keyFromPublic(j).getPublic().mul(this.keys.getPrivate()).getX(),X,this.curveType.byteLength)},it.prototype.getPublicKey=function(j,H){var X=this.keys.getPublic("compressed"===H,!0);return"hybrid"===H&&(X[0]=X[X.length-1]%2?7:6),M(X,j)},it.prototype.getPrivateKey=function(j){return M(this.keys.getPrivate(),j)},it.prototype.setPublicKey=function(j,H){return H=H||"utf8",Buffer.isBuffer(j)||(j=new Buffer(j,H)),this.keys._importPublic(j),this},it.prototype.setPrivateKey=function(j,H){H=H||"utf8",Buffer.isBuffer(j)||(j=new Buffer(j,H));var X=new xt(j);return X=X.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(X),this}},6867:function(Yt,q,vt){!function(yt,xt){"use strict";function et(k,u){if(!k)throw new Error(u||"Assertion failed")}function it(k,u){k.super_=u;var p=function(){};p.prototype=u.prototype,k.prototype=new p,k.prototype.constructor=k}function M(k,u,p){if(M.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(p=u,u=10),this._init(k||0,u||10,p||"be"))}var j;"object"==typeof yt?yt.exports=M:xt.BN=M,M.BN=M,M.wordSize=26;try{j="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:vt(8623).Buffer}catch(k){}function H(k,u){var p=k.charCodeAt(u);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function X(k,u,p){var v=H(k,p);return p-1>=u&&(v|=H(k,p-1)<<4),v}function z(k,u,p,v){for(var g=0,w=Math.min(k.length,p),b=u;b<w;b++){var D=k.charCodeAt(b)-48;g*=v,g+=D>=49?D-49+10:D>=17?D-17+10:D}return g}M.isBN=function(u){return u instanceof M||null!==u&&"object"==typeof u&&u.constructor.wordSize===M.wordSize&&Array.isArray(u.words)},M.max=function(u,p){return u.cmp(p)>0?u:p},M.min=function(u,p){return u.cmp(p)<0?u:p},M.prototype._init=function(u,p,v){if("number"==typeof u)return this._initNumber(u,p,v);if("object"==typeof u)return this._initArray(u,p,v);"hex"===p&&(p=16),et(p===(0|p)&&p>=2&&p<=36);var g=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<u.length&&(16===p?this._parseHex(u,g,v):(this._parseBase(u,p,g),"le"===v&&this._initArray(this.toArray(),p,v)))},M.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(et(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===v&&this._initArray(this.toArray(),p,v)},M.prototype._initArray=function(u,p,v){if(et("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,b,D=0;if("be"===v)for(g=u.length-1,w=0;g>=0;g-=3)this.words[w]|=(b=u[g]|u[g-1]<<8|u[g-2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);else if("le"===v)for(g=0,w=0;g<u.length;g+=3)this.words[w]|=(b=u[g]|u[g+1]<<8|u[g+2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);return this.strip()},M.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var D,w=0,b=0;if("be"===v)for(g=u.length-1;g>=p;g-=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;else for(g=(u.length-p)%2==0?p+1:p;g<u.length;g+=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;this.strip()},M.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=p)g++;g--,w=w/p|0;for(var b=u.length-v,D=b%g,_=Math.min(b,b-D)+v,f=0,C=v;C<_;C+=g)f=z(u,C,C+g,p),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==D){var K=1;for(f=z(u,C,u.length,p),C=0;C<D;C++)K*=p;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},M.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red},M.prototype.clone=function(){var u=new M(null);return this.copy(u),u},M.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function F(k,u,p){p.negative=u.negative^k.negative;var v=k.length+u.length|0;p.length=v,v=v-1|0;var g=0|k.words[0],w=0|u.words[0],b=g*w,_=b/67108864|0;p.words[0]=67108863&b;for(var f=1;f<v;f++){for(var C=_>>>26,K=67108863&_,U=Math.min(f,u.length-1),W=Math.max(0,f-k.length+1);W<=U;W++)C+=(b=(g=0|k.words[f-W|0])*(w=0|u.words[W])+K)/67108864|0,K=67108863&b;p.words[f]=0|K,_=0|C}return 0!==_?p.words[f]=0|_:p.length--,p.strip()}M.prototype.toString=function(u,p){var v;if(p=0|p||1,16===(u=u||10)||"hex"===u){v="";for(var g=0,w=0,b=0;b<this.length;b++){var D=this.words[b],_=(16777215&(D<<g|w)).toString(16);v=0!=(w=D>>>24-g&16777215)||b!==this.length-1?B[6-_.length]+_+v:_+v,(g+=2)>=26&&(g-=26,b--)}for(0!==w&&(v=w.toString(16)+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}if(u===(0|u)&&u>=2&&u<=36){var f=I[u],C=Y[u];v="";var K=this.clone();for(K.negative=0;!K.isZero();){var U=K.modn(C).toString(u);v=(K=K.idivn(C)).isZero()?U+v:B[f-U.length]+U+v}for(this.isZero()&&(v="0"+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}et(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&et(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(u,p){return et(void 0!==j),this.toArrayLike(j,u,p)},M.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)},M.prototype.toArrayLike=function(u,p,v){var g=this.byteLength(),w=v||Math.max(1,g);et(g<=w,"byte array longer than desired length"),et(w>0,"Requested array length <= 0"),this.strip();var _,f,b="le"===p,D=new u(w),C=this.clone();if(b){for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[f]=_;for(;f<w;f++)D[f]=0}else{for(f=0;f<w-g;f++)D[f]=0;for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[w-f-1]=_}return D},M.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},M.prototype._zeroBits=function(u){if(0===u)return 26;var p=u,v=0;return 0==(8191&p)&&(v+=13,p>>>=13),0==(127&p)&&(v+=7,p>>>=7),0==(15&p)&&(v+=4,p>>>=4),0==(3&p)&&(v+=2,p>>>=2),0==(1&p)&&v++,v},M.prototype.bitLength=function(){var p=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+p},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,26!==v)break}return u},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},M.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this.strip()},M.prototype.ior=function(u){return et(0==(this.negative|u.negative)),this.iuor(u)},M.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},M.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},M.prototype.iuand=function(u){var p;p=this.length>u.length?u:this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this.strip()},M.prototype.iand=function(u){return et(0==(this.negative|u.negative)),this.iuand(u)},M.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},M.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},M.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var g=0;g<v.length;g++)this.words[g]=p.words[g]^v.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this.strip()},M.prototype.ixor=function(u){return et(0==(this.negative|u.negative)),this.iuxor(u)},M.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},M.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},M.prototype.inotn=function(u){et("number"==typeof u&&u>=0);var p=0|Math.ceil(u/26),v=u%26;this._expand(p),v>0&&p--;for(var g=0;g<p;g++)this.words[g]=67108863&~this.words[g];return v>0&&(this.words[g]=~this.words[g]&67108863>>26-v),this.strip()},M.prototype.notn=function(u){return this.clone().inotn(u)},M.prototype.setn=function(u,p){et("number"==typeof u&&u>=0);var v=u/26|0,g=u%26;return this._expand(v+1),this.words[v]=p?this.words[v]|1<<g:this.words[v]&~(1<<g),this.strip()},M.prototype.iadd=function(u){var p,v,g;if(0!==this.negative&&0===u.negative)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();this.length>u.length?(v=this,g=u):(v=u,g=this);for(var w=0,b=0;b<g.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+(0|g.words[b])+w),w=p>>>26;for(;0!==w&&b<v.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+w),w=p>>>26;if(this.length=v.length,0!==w)this.words[this.length]=w,this.length++;else if(v!==this)for(;b<v.length;b++)this.words[b]=v.words[b];return this},M.prototype.add=function(u){var p;return 0!==u.negative&&0===this.negative?(u.negative=0,p=this.sub(u),u.negative^=1,p):0===u.negative&&0!==this.negative?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},M.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g,w,v=this.cmp(u);if(0===v)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(g=this,w=u):(g=u,w=this);for(var b=0,D=0;D<w.length;D++)b=(p=(0|g.words[D])-(0|w.words[D])+b)>>26,this.words[D]=67108863&p;for(;0!==b&&D<g.length;D++)b=(p=(0|g.words[D])+b)>>26,this.words[D]=67108863&p;if(0===b&&D<g.length&&g!==this)for(;D<g.length;D++)this.words[D]=g.words[D];return this.length=Math.max(this.length,D),g!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(u){return this.clone().isub(u)};var O=function(u,p,v){var _,f,C,g=u.words,w=p.words,b=v.words,D=0,K=0|g[0],U=8191&K,W=K>>>13,st=0|g[1],ct=8191&st,Ct=st>>>13,kt=0|g[2],wt=8191&kt,ut=kt>>>13,Ot=0|g[3],bt=8191&Ot,pt=Ot>>>13,Dt=0|g[4],Rt=8191&Dt,St=Dt>>>13,te=0|g[5],At=8191&te,Kt=te>>>13,Oe=0|g[6],Jt=8191&Oe,$t=Oe>>>13,he=0|g[7],Tt=8191&he,Bt=he>>>13,le=0|g[8],Mt=8191&le,ot=le>>>13,J=0|g[9],Nt=8191&J,Gt=J>>>13,ge=0|w[0],qt=8191&ge,ae=ge>>>13,ei=0|w[1],be=8191&ei,xe=ei>>>13,Ke=0|w[2],Ne=8191&Ke,Le=Ke>>>13,Di=0|w[3],Ve=8191&Di,fe=Di>>>13,si=0|w[4],je=8191&si,se=si>>>13,Se=0|w[5],re=8191&Se,jt=Se>>>13,ne=0|w[6],Ut=8191&ne,ee=ne>>>13,ye=0|w[7],Lt=8191&ye,ue=ye>>>13,ni=0|w[8],we=8191&ni,Ae=ni>>>13,Ti=0|w[9],ke=8191&Ti,De=Ti>>>13;v.negative=u.negative^p.negative,v.length=19;var fi=(D+(_=Math.imul(U,qt))|0)+((8191&(f=(f=Math.imul(U,ae))+Math.imul(W,qt)|0))<<13)|0;D=((C=Math.imul(W,ae))+(f>>>13)|0)+(fi>>>26)|0,fi&=67108863,_=Math.imul(ct,qt),f=(f=Math.imul(ct,ae))+Math.imul(Ct,qt)|0,C=Math.imul(Ct,ae);var hi=(D+(_=_+Math.imul(U,be)|0)|0)+((8191&(f=(f=f+Math.imul(U,xe)|0)+Math.imul(W,be)|0))<<13)|0;D=((C=C+Math.imul(W,xe)|0)+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,_=Math.imul(wt,qt),f=(f=Math.imul(wt,ae))+Math.imul(ut,qt)|0,C=Math.imul(ut,ae),_=_+Math.imul(ct,be)|0,f=(f=f+Math.imul(ct,xe)|0)+Math.imul(Ct,be)|0,C=C+Math.imul(Ct,xe)|0;var Pi=(D+(_=_+Math.imul(U,Ne)|0)|0)+((8191&(f=(f=f+Math.imul(U,Le)|0)+Math.imul(W,Ne)|0))<<13)|0;D=((C=C+Math.imul(W,Le)|0)+(f>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,_=Math.imul(bt,qt),f=(f=Math.imul(bt,ae))+Math.imul(pt,qt)|0,C=Math.imul(pt,ae),_=_+Math.imul(wt,be)|0,f=(f=f+Math.imul(wt,xe)|0)+Math.imul(ut,be)|0,C=C+Math.imul(ut,xe)|0,_=_+Math.imul(ct,Ne)|0,f=(f=f+Math.imul(ct,Le)|0)+Math.imul(Ct,Ne)|0,C=C+Math.imul(Ct,Le)|0;var vn=(D+(_=_+Math.imul(U,Ve)|0)|0)+((8191&(f=(f=f+Math.imul(U,fe)|0)+Math.imul(W,Ve)|0))<<13)|0;D=((C=C+Math.imul(W,fe)|0)+(f>>>13)|0)+(vn>>>26)|0,vn&=67108863,_=Math.imul(Rt,qt),f=(f=Math.imul(Rt,ae))+Math.imul(St,qt)|0,C=Math.imul(St,ae),_=_+Math.imul(bt,be)|0,f=(f=f+Math.imul(bt,xe)|0)+Math.imul(pt,be)|0,C=C+Math.imul(pt,xe)|0,_=_+Math.imul(wt,Ne)|0,f=(f=f+Math.imul(wt,Le)|0)+Math.imul(ut,Ne)|0,C=C+Math.imul(ut,Le)|0,_=_+Math.imul(ct,Ve)|0,f=(f=f+Math.imul(ct,fe)|0)+Math.imul(Ct,Ve)|0,C=C+Math.imul(Ct,fe)|0;var ji=(D+(_=_+Math.imul(U,je)|0)|0)+((8191&(f=(f=f+Math.imul(U,se)|0)+Math.imul(W,je)|0))<<13)|0;D=((C=C+Math.imul(W,se)|0)+(f>>>13)|0)+(ji>>>26)|0,ji&=67108863,_=Math.imul(At,qt),f=(f=Math.imul(At,ae))+Math.imul(Kt,qt)|0,C=Math.imul(Kt,ae),_=_+Math.imul(Rt,be)|0,f=(f=f+Math.imul(Rt,xe)|0)+Math.imul(St,be)|0,C=C+Math.imul(St,xe)|0,_=_+Math.imul(bt,Ne)|0,f=(f=f+Math.imul(bt,Le)|0)+Math.imul(pt,Ne)|0,C=C+Math.imul(pt,Le)|0,_=_+Math.imul(wt,Ve)|0,f=(f=f+Math.imul(wt,fe)|0)+Math.imul(ut,Ve)|0,C=C+Math.imul(ut,fe)|0,_=_+Math.imul(ct,je)|0,f=(f=f+Math.imul(ct,se)|0)+Math.imul(Ct,je)|0,C=C+Math.imul(Ct,se)|0;var Ki=(D+(_=_+Math.imul(U,re)|0)|0)+((8191&(f=(f=f+Math.imul(U,jt)|0)+Math.imul(W,re)|0))<<13)|0;D=((C=C+Math.imul(W,jt)|0)+(f>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,_=Math.imul(Jt,qt),f=(f=Math.imul(Jt,ae))+Math.imul($t,qt)|0,C=Math.imul($t,ae),_=_+Math.imul(At,be)|0,f=(f=f+Math.imul(At,xe)|0)+Math.imul(Kt,be)|0,C=C+Math.imul(Kt,xe)|0,_=_+Math.imul(Rt,Ne)|0,f=(f=f+Math.imul(Rt,Le)|0)+Math.imul(St,Ne)|0,C=C+Math.imul(St,Le)|0,_=_+Math.imul(bt,Ve)|0,f=(f=f+Math.imul(bt,fe)|0)+Math.imul(pt,Ve)|0,C=C+Math.imul(pt,fe)|0,_=_+Math.imul(wt,je)|0,f=(f=f+Math.imul(wt,se)|0)+Math.imul(ut,je)|0,C=C+Math.imul(ut,se)|0,_=_+Math.imul(ct,re)|0,f=(f=f+Math.imul(ct,jt)|0)+Math.imul(Ct,re)|0,C=C+Math.imul(Ct,jt)|0;var oi=(D+(_=_+Math.imul(U,Ut)|0)|0)+((8191&(f=(f=f+Math.imul(U,ee)|0)+Math.imul(W,Ut)|0))<<13)|0;D=((C=C+Math.imul(W,ee)|0)+(f>>>13)|0)+(oi>>>26)|0,oi&=67108863,_=Math.imul(Tt,qt),f=(f=Math.imul(Tt,ae))+Math.imul(Bt,qt)|0,C=Math.imul(Bt,ae),_=_+Math.imul(Jt,be)|0,f=(f=f+Math.imul(Jt,xe)|0)+Math.imul($t,be)|0,C=C+Math.imul($t,xe)|0,_=_+Math.imul(At,Ne)|0,f=(f=f+Math.imul(At,Le)|0)+Math.imul(Kt,Ne)|0,C=C+Math.imul(Kt,Le)|0,_=_+Math.imul(Rt,Ve)|0,f=(f=f+Math.imul(Rt,fe)|0)+Math.imul(St,Ve)|0,C=C+Math.imul(St,fe)|0,_=_+Math.imul(bt,je)|0,f=(f=f+Math.imul(bt,se)|0)+Math.imul(pt,je)|0,C=C+Math.imul(pt,se)|0,_=_+Math.imul(wt,re)|0,f=(f=f+Math.imul(wt,jt)|0)+Math.imul(ut,re)|0,C=C+Math.imul(ut,jt)|0,_=_+Math.imul(ct,Ut)|0,f=(f=f+Math.imul(ct,ee)|0)+Math.imul(Ct,Ut)|0,C=C+Math.imul(Ct,ee)|0;var Yn=(D+(_=_+Math.imul(U,Lt)|0)|0)+((8191&(f=(f=f+Math.imul(U,ue)|0)+Math.imul(W,Lt)|0))<<13)|0;D=((C=C+Math.imul(W,ue)|0)+(f>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,_=Math.imul(Mt,qt),f=(f=Math.imul(Mt,ae))+Math.imul(ot,qt)|0,C=Math.imul(ot,ae),_=_+Math.imul(Tt,be)|0,f=(f=f+Math.imul(Tt,xe)|0)+Math.imul(Bt,be)|0,C=C+Math.imul(Bt,xe)|0,_=_+Math.imul(Jt,Ne)|0,f=(f=f+Math.imul(Jt,Le)|0)+Math.imul($t,Ne)|0,C=C+Math.imul($t,Le)|0,_=_+Math.imul(At,Ve)|0,f=(f=f+Math.imul(At,fe)|0)+Math.imul(Kt,Ve)|0,C=C+Math.imul(Kt,fe)|0,_=_+Math.imul(Rt,je)|0,f=(f=f+Math.imul(Rt,se)|0)+Math.imul(St,je)|0,C=C+Math.imul(St,se)|0,_=_+Math.imul(bt,re)|0,f=(f=f+Math.imul(bt,jt)|0)+Math.imul(pt,re)|0,C=C+Math.imul(pt,jt)|0,_=_+Math.imul(wt,Ut)|0,f=(f=f+Math.imul(wt,ee)|0)+Math.imul(ut,Ut)|0,C=C+Math.imul(ut,ee)|0,_=_+Math.imul(ct,Lt)|0,f=(f=f+Math.imul(ct,ue)|0)+Math.imul(Ct,Lt)|0,C=C+Math.imul(Ct,ue)|0;var rn=(D+(_=_+Math.imul(U,we)|0)|0)+((8191&(f=(f=f+Math.imul(U,Ae)|0)+Math.imul(W,we)|0))<<13)|0;D=((C=C+Math.imul(W,Ae)|0)+(f>>>13)|0)+(rn>>>26)|0,rn&=67108863,_=Math.imul(Nt,qt),f=(f=Math.imul(Nt,ae))+Math.imul(Gt,qt)|0,C=Math.imul(Gt,ae),_=_+Math.imul(Mt,be)|0,f=(f=f+Math.imul(Mt,xe)|0)+Math.imul(ot,be)|0,C=C+Math.imul(ot,xe)|0,_=_+Math.imul(Tt,Ne)|0,f=(f=f+Math.imul(Tt,Le)|0)+Math.imul(Bt,Ne)|0,C=C+Math.imul(Bt,Le)|0,_=_+Math.imul(Jt,Ve)|0,f=(f=f+Math.imul(Jt,fe)|0)+Math.imul($t,Ve)|0,C=C+Math.imul($t,fe)|0,_=_+Math.imul(At,je)|0,f=(f=f+Math.imul(At,se)|0)+Math.imul(Kt,je)|0,C=C+Math.imul(Kt,se)|0,_=_+Math.imul(Rt,re)|0,f=(f=f+Math.imul(Rt,jt)|0)+Math.imul(St,re)|0,C=C+Math.imul(St,jt)|0,_=_+Math.imul(bt,Ut)|0,f=(f=f+Math.imul(bt,ee)|0)+Math.imul(pt,Ut)|0,C=C+Math.imul(pt,ee)|0,_=_+Math.imul(wt,Lt)|0,f=(f=f+Math.imul(wt,ue)|0)+Math.imul(ut,Lt)|0,C=C+Math.imul(ut,ue)|0,_=_+Math.imul(ct,we)|0,f=(f=f+Math.imul(ct,Ae)|0)+Math.imul(Ct,we)|0,C=C+Math.imul(Ct,Ae)|0;var an=(D+(_=_+Math.imul(U,ke)|0)|0)+((8191&(f=(f=f+Math.imul(U,De)|0)+Math.imul(W,ke)|0))<<13)|0;D=((C=C+Math.imul(W,De)|0)+(f>>>13)|0)+(an>>>26)|0,an&=67108863,_=Math.imul(Nt,be),f=(f=Math.imul(Nt,xe))+Math.imul(Gt,be)|0,C=Math.imul(Gt,xe),_=_+Math.imul(Mt,Ne)|0,f=(f=f+Math.imul(Mt,Le)|0)+Math.imul(ot,Ne)|0,C=C+Math.imul(ot,Le)|0,_=_+Math.imul(Tt,Ve)|0,f=(f=f+Math.imul(Tt,fe)|0)+Math.imul(Bt,Ve)|0,C=C+Math.imul(Bt,fe)|0,_=_+Math.imul(Jt,je)|0,f=(f=f+Math.imul(Jt,se)|0)+Math.imul($t,je)|0,C=C+Math.imul($t,se)|0,_=_+Math.imul(At,re)|0,f=(f=f+Math.imul(At,jt)|0)+Math.imul(Kt,re)|0,C=C+Math.imul(Kt,jt)|0,_=_+Math.imul(Rt,Ut)|0,f=(f=f+Math.imul(Rt,ee)|0)+Math.imul(St,Ut)|0,C=C+Math.imul(St,ee)|0,_=_+Math.imul(bt,Lt)|0,f=(f=f+Math.imul(bt,ue)|0)+Math.imul(pt,Lt)|0,C=C+Math.imul(pt,ue)|0,_=_+Math.imul(wt,we)|0,f=(f=f+Math.imul(wt,Ae)|0)+Math.imul(ut,we)|0,C=C+Math.imul(ut,Ae)|0;var Ui=(D+(_=_+Math.imul(ct,ke)|0)|0)+((8191&(f=(f=f+Math.imul(ct,De)|0)+Math.imul(Ct,ke)|0))<<13)|0;D=((C=C+Math.imul(Ct,De)|0)+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,_=Math.imul(Nt,Ne),f=(f=Math.imul(Nt,Le))+Math.imul(Gt,Ne)|0,C=Math.imul(Gt,Le),_=_+Math.imul(Mt,Ve)|0,f=(f=f+Math.imul(Mt,fe)|0)+Math.imul(ot,Ve)|0,C=C+Math.imul(ot,fe)|0,_=_+Math.imul(Tt,je)|0,f=(f=f+Math.imul(Tt,se)|0)+Math.imul(Bt,je)|0,C=C+Math.imul(Bt,se)|0,_=_+Math.imul(Jt,re)|0,f=(f=f+Math.imul(Jt,jt)|0)+Math.imul($t,re)|0,C=C+Math.imul($t,jt)|0,_=_+Math.imul(At,Ut)|0,f=(f=f+Math.imul(At,ee)|0)+Math.imul(Kt,Ut)|0,C=C+Math.imul(Kt,ee)|0,_=_+Math.imul(Rt,Lt)|0,f=(f=f+Math.imul(Rt,ue)|0)+Math.imul(St,Lt)|0,C=C+Math.imul(St,ue)|0,_=_+Math.imul(bt,we)|0,f=(f=f+Math.imul(bt,Ae)|0)+Math.imul(pt,we)|0,C=C+Math.imul(pt,Ae)|0;var lr=(D+(_=_+Math.imul(wt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(wt,De)|0)+Math.imul(ut,ke)|0))<<13)|0;D=((C=C+Math.imul(ut,De)|0)+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(Nt,Ve),f=(f=Math.imul(Nt,fe))+Math.imul(Gt,Ve)|0,C=Math.imul(Gt,fe),_=_+Math.imul(Mt,je)|0,f=(f=f+Math.imul(Mt,se)|0)+Math.imul(ot,je)|0,C=C+Math.imul(ot,se)|0,_=_+Math.imul(Tt,re)|0,f=(f=f+Math.imul(Tt,jt)|0)+Math.imul(Bt,re)|0,C=C+Math.imul(Bt,jt)|0,_=_+Math.imul(Jt,Ut)|0,f=(f=f+Math.imul(Jt,ee)|0)+Math.imul($t,Ut)|0,C=C+Math.imul($t,ee)|0,_=_+Math.imul(At,Lt)|0,f=(f=f+Math.imul(At,ue)|0)+Math.imul(Kt,Lt)|0,C=C+Math.imul(Kt,ue)|0,_=_+Math.imul(Rt,we)|0,f=(f=f+Math.imul(Rt,Ae)|0)+Math.imul(St,we)|0,C=C+Math.imul(St,Ae)|0;var He=(D+(_=_+Math.imul(bt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(bt,De)|0)+Math.imul(pt,ke)|0))<<13)|0;D=((C=C+Math.imul(pt,De)|0)+(f>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Nt,je),f=(f=Math.imul(Nt,se))+Math.imul(Gt,je)|0,C=Math.imul(Gt,se),_=_+Math.imul(Mt,re)|0,f=(f=f+Math.imul(Mt,jt)|0)+Math.imul(ot,re)|0,C=C+Math.imul(ot,jt)|0,_=_+Math.imul(Tt,Ut)|0,f=(f=f+Math.imul(Tt,ee)|0)+Math.imul(Bt,Ut)|0,C=C+Math.imul(Bt,ee)|0,_=_+Math.imul(Jt,Lt)|0,f=(f=f+Math.imul(Jt,ue)|0)+Math.imul($t,Lt)|0,C=C+Math.imul($t,ue)|0,_=_+Math.imul(At,we)|0,f=(f=f+Math.imul(At,Ae)|0)+Math.imul(Kt,we)|0,C=C+Math.imul(Kt,Ae)|0;var yi=(D+(_=_+Math.imul(Rt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Rt,De)|0)+Math.imul(St,ke)|0))<<13)|0;D=((C=C+Math.imul(St,De)|0)+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,_=Math.imul(Nt,re),f=(f=Math.imul(Nt,jt))+Math.imul(Gt,re)|0,C=Math.imul(Gt,jt),_=_+Math.imul(Mt,Ut)|0,f=(f=f+Math.imul(Mt,ee)|0)+Math.imul(ot,Ut)|0,C=C+Math.imul(ot,ee)|0,_=_+Math.imul(Tt,Lt)|0,f=(f=f+Math.imul(Tt,ue)|0)+Math.imul(Bt,Lt)|0,C=C+Math.imul(Bt,ue)|0,_=_+Math.imul(Jt,we)|0,f=(f=f+Math.imul(Jt,Ae)|0)+Math.imul($t,we)|0,C=C+Math.imul($t,Ae)|0;var tn=(D+(_=_+Math.imul(At,ke)|0)|0)+((8191&(f=(f=f+Math.imul(At,De)|0)+Math.imul(Kt,ke)|0))<<13)|0;D=((C=C+Math.imul(Kt,De)|0)+(f>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul(Nt,Ut),f=(f=Math.imul(Nt,ee))+Math.imul(Gt,Ut)|0,C=Math.imul(Gt,ee),_=_+Math.imul(Mt,Lt)|0,f=(f=f+Math.imul(Mt,ue)|0)+Math.imul(ot,Lt)|0,C=C+Math.imul(ot,ue)|0,_=_+Math.imul(Tt,we)|0,f=(f=f+Math.imul(Tt,Ae)|0)+Math.imul(Bt,we)|0,C=C+Math.imul(Bt,Ae)|0;var wi=(D+(_=_+Math.imul(Jt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Jt,De)|0)+Math.imul($t,ke)|0))<<13)|0;D=((C=C+Math.imul($t,De)|0)+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,_=Math.imul(Nt,Lt),f=(f=Math.imul(Nt,ue))+Math.imul(Gt,Lt)|0,C=Math.imul(Gt,ue),_=_+Math.imul(Mt,we)|0,f=(f=f+Math.imul(Mt,Ae)|0)+Math.imul(ot,we)|0,C=C+Math.imul(ot,Ae)|0;var $n=(D+(_=_+Math.imul(Tt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Tt,De)|0)+Math.imul(Bt,ke)|0))<<13)|0;D=((C=C+Math.imul(Bt,De)|0)+(f>>>13)|0)+($n>>>26)|0,$n&=67108863,_=Math.imul(Nt,we),f=(f=Math.imul(Nt,Ae))+Math.imul(Gt,we)|0,C=Math.imul(Gt,Ae);var sr=(D+(_=_+Math.imul(Mt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Mt,De)|0)+Math.imul(ot,ke)|0))<<13)|0;D=((C=C+Math.imul(ot,De)|0)+(f>>>13)|0)+(sr>>>26)|0,sr&=67108863;var Xe=(D+(_=Math.imul(Nt,ke))|0)+((8191&(f=(f=Math.imul(Nt,De))+Math.imul(Gt,ke)|0))<<13)|0;return D=((C=Math.imul(Gt,De))+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b[0]=fi,b[1]=hi,b[2]=Pi,b[3]=vn,b[4]=ji,b[5]=Ki,b[6]=oi,b[7]=Yn,b[8]=rn,b[9]=an,b[10]=Ui,b[11]=lr,b[12]=He,b[13]=yi,b[14]=tn,b[15]=wi,b[16]=$n,b[17]=sr,b[18]=Xe,0!==D&&(b[19]=D,v.length++),v};function G(k,u,p){return(new R).mulp(k,u,p)}function R(k,u){this.x=k,this.y=u}Math.imul||(O=F),M.prototype.mulTo=function(u,p){var v,g=this.length+u.length;return v=10===this.length&&10===u.length?O(this,u,p):g<63?F(this,u,p):g<1024?function(k,u,p){p.negative=u.negative^k.negative,p.length=k.length+u.length;for(var v=0,g=0,w=0;w<p.length-1;w++){var b=g;g=0;for(var D=67108863&v,_=Math.min(w,u.length-1),f=Math.max(0,w-k.length+1);f<=_;f++){var W=(0|k.words[w-f])*(0|u.words[f]),st=67108863&W;D=67108863&(st=st+D|0),g+=(b=(b=b+(W/67108864|0)|0)+(st>>>26)|0)>>>26,b&=67108863}p.words[w]=D,v=b,b=g}return 0!==v?p.words[w]=v:p.length--,p.strip()}(this,u,p):G(this,u,p),v},R.prototype.makeRBT=function(u){for(var p=new Array(u),v=M.prototype._countBits(u)-1,g=0;g<u;g++)p[g]=this.revBin(g,v,u);return p},R.prototype.revBin=function(u,p,v){if(0===u||u===v-1)return u;for(var g=0,w=0;w<p;w++)g|=(1&u)<<p-w-1,u>>=1;return g},R.prototype.permute=function(u,p,v,g,w,b){for(var D=0;D<b;D++)g[D]=p[u[D]],w[D]=v[u[D]]},R.prototype.transform=function(u,p,v,g,w,b){this.permute(b,u,p,v,g,w);for(var D=1;D<w;D<<=1)for(var _=D<<1,f=Math.cos(2*Math.PI/_),C=Math.sin(2*Math.PI/_),K=0;K<w;K+=_)for(var U=f,W=C,st=0;st<D;st++){var ct=v[K+st],Ct=g[K+st],kt=v[K+st+D],wt=g[K+st+D],ut=U*kt-W*wt;wt=U*wt+W*kt,v[K+st]=ct+(kt=ut),g[K+st]=Ct+wt,v[K+st+D]=ct-kt,g[K+st+D]=Ct-wt,st!==_&&(ut=f*U-C*W,W=f*W+C*U,U=ut)}},R.prototype.guessLen13b=function(u,p){var v=1|Math.max(p,u),g=1&v,w=0;for(v=v/2|0;v;v>>>=1)w++;return 1<<w+1+g},R.prototype.conjugate=function(u,p,v){if(!(v<=1))for(var g=0;g<v/2;g++){var w=u[g];u[g]=u[v-g-1],u[v-g-1]=w,w=p[g],p[g]=-p[v-g-1],p[v-g-1]=-w}},R.prototype.normalize13b=function(u,p){for(var v=0,g=0;g<p/2;g++){var w=8192*Math.round(u[2*g+1]/p)+Math.round(u[2*g]/p)+v;u[g]=67108863&w,v=w<67108864?0:w/67108864|0}return u},R.prototype.convert13b=function(u,p,v,g){for(var w=0,b=0;b<p;b++)v[2*b]=8191&(w+=0|u[b]),v[2*b+1]=8191&(w>>>=13),w>>>=13;for(b=2*p;b<g;++b)v[b]=0;et(0===w),et(0==(-8192&w))},R.prototype.stub=function(u){for(var p=new Array(u),v=0;v<u;v++)p[v]=0;return p},R.prototype.mulp=function(u,p,v){var g=2*this.guessLen13b(u.length,p.length),w=this.makeRBT(g),b=this.stub(g),D=new Array(g),_=new Array(g),f=new Array(g),C=new Array(g),K=new Array(g),U=new Array(g),W=v.words;W.length=g,this.convert13b(u.words,u.length,D,g),this.convert13b(p.words,p.length,C,g),this.transform(D,b,_,f,g,w),this.transform(C,b,K,U,g,w);for(var st=0;st<g;st++){var ct=_[st]*K[st]-f[st]*U[st];f[st]=_[st]*U[st]+f[st]*K[st],_[st]=ct}return this.conjugate(_,f,g),this.transform(_,f,W,b,g,w),this.conjugate(W,b,g),this.normalize13b(W,g),v.negative=u.negative^p.negative,v.length=u.length+p.length,v.strip()},M.prototype.mul=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},M.prototype.mulf=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),G(this,u,p)},M.prototype.imul=function(u){return this.clone().mulTo(u,this)},M.prototype.imuln=function(u){et("number"==typeof u),et(u<67108864);for(var p=0,v=0;v<this.length;v++){var g=(0|this.words[v])*u,w=(67108863&g)+(67108863&p);p>>=26,p+=g/67108864|0,p+=w>>>26,this.words[v]=67108863&w}return 0!==p&&(this.words[v]=p,this.length++),this},M.prototype.muln=function(u){return this.clone().imuln(u)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(u){var p=function(k){for(var u=new Array(k.bitLength()),p=0;p<u.length;p++){var g=p%26;u[p]=(k.words[p/26|0]&1<<g)>>>g}return u}(u);if(0===p.length)return new M(1);for(var v=this,g=0;g<p.length&&0===p[g];g++,v=v.sqr());if(++g<p.length)for(var w=v.sqr();g<p.length;g++,w=w.sqr())0!==p[g]&&(v=v.mul(w));return v},M.prototype.iushln=function(u){et("number"==typeof u&&u>=0);var w,p=u%26,v=(u-p)/26,g=67108863>>>26-p<<26-p;if(0!==p){var b=0;for(w=0;w<this.length;w++){var D=this.words[w]&g;this.words[w]=(0|this.words[w])-D<<p|b,b=D>>>26-p}b&&(this.words[w]=b,this.length++)}if(0!==v){for(w=this.length-1;w>=0;w--)this.words[w+v]=this.words[w];for(w=0;w<v;w++)this.words[w]=0;this.length+=v}return this.strip()},M.prototype.ishln=function(u){return et(0===this.negative),this.iushln(u)},M.prototype.iushrn=function(u,p,v){var g;et("number"==typeof u&&u>=0),g=p?(p-p%26)/26:0;var w=u%26,b=Math.min((u-w)/26,this.length),D=67108863^67108863>>>w<<w,_=v;if(g-=b,g=Math.max(0,g),_){for(var f=0;f<b;f++)_.words[f]=this.words[f];_.length=b}if(0!==b)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var C=0;for(f=this.length-1;f>=0&&(0!==C||f>=g);f--){var K=0|this.words[f];this.words[f]=C<<26-w|K>>>w,C=K&D}return _&&0!==C&&(_.words[_.length++]=C),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(u,p,v){return et(0===this.negative),this.iushrn(u,p,v)},M.prototype.shln=function(u){return this.clone().ishln(u)},M.prototype.ushln=function(u){return this.clone().iushln(u)},M.prototype.shrn=function(u){return this.clone().ishrn(u)},M.prototype.ushrn=function(u){return this.clone().iushrn(u)},M.prototype.testn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return!(this.length<=v||!(this.words[v]&1<<p))},M.prototype.imaskn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return et(0===this.negative,"imaskn works only with positive numbers"),this.length<=v?this:(0!==p&&v++,this.length=Math.min(v,this.length),0!==p&&(this.words[this.length-1]&=67108863^67108863>>>p<<p),this.strip())},M.prototype.maskn=function(u){return this.clone().imaskn(u)},M.prototype.iaddn=function(u){return et("number"==typeof u),et(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},M.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},M.prototype.isubn=function(u){if(et("number"==typeof u),et(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},M.prototype.addn=function(u){return this.clone().iaddn(u)},M.prototype.subn=function(u){return this.clone().isubn(u)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(u,p,v){var w;this._expand(u.length+v);var b,D=0;for(w=0;w<u.length;w++){b=(0|this.words[w+v])+D;var _=(0|u.words[w])*p;D=((b-=67108863&_)>>26)-(_/67108864|0),this.words[w+v]=67108863&b}for(;w<this.length-v;w++)D=(b=(0|this.words[w+v])+D)>>26,this.words[w+v]=67108863&b;if(0===D)return this.strip();for(et(-1===D),D=0,w=0;w<this.length;w++)D=(b=-(0|this.words[w])+D)>>26,this.words[w]=67108863&b;return this.negative=1,this.strip()},M.prototype._wordDiv=function(u,p){var v,g=this.clone(),w=u,b=0|w.words[w.length-1];0!=(v=26-this._countBits(b))&&(w=w.ushln(v),g.iushln(v),b=0|w.words[w.length-1]);var f,_=g.length-w.length;if("mod"!==p){(f=new M(null)).length=_+1,f.words=new Array(f.length);for(var C=0;C<f.length;C++)f.words[C]=0}var K=g.clone()._ishlnsubmul(w,1,_);0===K.negative&&(g=K,f&&(f.words[_]=1));for(var U=_-1;U>=0;U--){var W=67108864*(0|g.words[w.length+U])+(0|g.words[w.length+U-1]);for(W=Math.min(W/b|0,67108863),g._ishlnsubmul(w,W,U);0!==g.negative;)W--,g.negative=0,g._ishlnsubmul(w,1,U),g.isZero()||(g.negative^=1);f&&(f.words[U]=W)}return f&&f.strip(),g.strip(),"div"!==p&&0!==v&&g.iushrn(v),{div:f||null,mod:g}},M.prototype.divmod=function(u,p,v){return et(!u.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===u.negative?(b=this.neg().divmod(u,p),"mod"!==p&&(g=b.div.neg()),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.iadd(u)),{div:g,mod:w}):0===this.negative&&0!==u.negative?(b=this.divmod(u.neg(),p),"mod"!==p&&(g=b.div.neg()),{div:g,mod:b.mod}):0!=(this.negative&u.negative)?(b=this.neg().divmod(u.neg(),p),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.isub(u)),{div:b.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new M(0),mod:this}:1===u.length?"div"===p?{div:this.divn(u.words[0]),mod:null}:"mod"===p?{div:null,mod:new M(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new M(this.modn(u.words[0]))}:this._wordDiv(u,p);var g,w,b},M.prototype.div=function(u){return this.divmod(u,"div",!1).div},M.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},M.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},M.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=0!==p.div.negative?p.mod.isub(u):p.mod,g=u.ushrn(1),w=u.andln(1),b=v.cmp(g);return b<0||1===w&&0===b?p.div:0!==p.div.negative?p.div.isubn(1):p.div.iaddn(1)},M.prototype.modn=function(u){et(u<=67108863);for(var p=(1<<26)%u,v=0,g=this.length-1;g>=0;g--)v=(p*v+(0|this.words[g]))%u;return v},M.prototype.idivn=function(u){et(u<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var g=(0|this.words[v])+67108864*p;this.words[v]=g/u|0,p=g%u}return this.strip()},M.prototype.divn=function(u){return this.clone().idivn(u)},M.prototype.egcd=function(u){et(0===u.negative),et(!u.isZero());var p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=new M(0),D=new M(1),_=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++_;for(var f=v.clone(),C=p.clone();!p.isZero();){for(var K=0,U=1;0==(p.words[0]&U)&&K<26;++K,U<<=1);if(K>0)for(p.iushrn(K);K-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(C)),g.iushrn(1),w.iushrn(1);for(var W=0,st=1;0==(v.words[0]&st)&&W<26;++W,st<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(b.isOdd()||D.isOdd())&&(b.iadd(f),D.isub(C)),b.iushrn(1),D.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(b),w.isub(D)):(v.isub(p),b.isub(g),D.isub(w))}return{a:b,b:D,gcd:v.iushln(_)}},M.prototype._invmp=function(u){et(0===u.negative),et(!u.isZero());var K,p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var D=0,_=1;0==(p.words[0]&_)&&D<26;++D,_<<=1);if(D>0)for(p.iushrn(D);D-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);for(var f=0,C=1;0==(v.words[0]&C)&&f<26;++f,C<<=1);if(f>0)for(v.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(b),w.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(w)):(v.isub(p),w.isub(g))}return(K=0===p.cmpn(1)?g:w).cmpn(0)<0&&K.iadd(u),K},M.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var g=0;p.isEven()&&v.isEven();g++)p.iushrn(1),v.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var w=p.cmp(v);if(w<0){var b=p;p=v,v=b}else if(0===w||0===v.cmpn(1))break;p.isub(v)}return v.iushln(g)},M.prototype.invm=function(u){return this.egcd(u).a.umod(u)},M.prototype.isEven=function(){return 0==(1&this.words[0])},M.prototype.isOdd=function(){return 1==(1&this.words[0])},M.prototype.andln=function(u){return this.words[0]&u},M.prototype.bincn=function(u){et("number"==typeof u);var p=u%26,v=(u-p)/26,g=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=g,this;for(var w=g,b=v;0!==w&&b<this.length;b++){var D=0|this.words[b];w=(D+=w)>>>26,this.words[b]=D&=67108863}return 0!==w&&(this.words[b]=w,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(u){var v,p=u<0;if(0!==this.negative&&!p)return-1;if(0===this.negative&&p)return 1;if(this.strip(),this.length>1)v=1;else{p&&(u=-u),et(u<=67108863,"Number is too big");var g=0|this.words[0];v=g===u?0:g<u?-1:1}return 0!==this.negative?0|-v:v},M.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var p=this.ucmp(u);return 0!==this.negative?0|-p:p},M.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var g=0|this.words[v],w=0|u.words[v];if(g!==w){g<w?p=-1:g>w&&(p=1);break}}return p},M.prototype.gtn=function(u){return 1===this.cmpn(u)},M.prototype.gt=function(u){return 1===this.cmp(u)},M.prototype.gten=function(u){return this.cmpn(u)>=0},M.prototype.gte=function(u){return this.cmp(u)>=0},M.prototype.ltn=function(u){return-1===this.cmpn(u)},M.prototype.lt=function(u){return-1===this.cmp(u)},M.prototype.lten=function(u){return this.cmpn(u)<=0},M.prototype.lte=function(u){return this.cmp(u)<=0},M.prototype.eqn=function(u){return 0===this.cmpn(u)},M.prototype.eq=function(u){return 0===this.cmp(u)},M.red=function(u){return new dt(u)},M.prototype.toRed=function(u){return et(!this.red,"Already a number in reduction context"),et(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},M.prototype.fromRed=function(){return et(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(u){return this.red=u,this},M.prototype.forceRed=function(u){return et(!this.red,"Already a number in reduction context"),this._forceRed(u)},M.prototype.redAdd=function(u){return et(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},M.prototype.redIAdd=function(u){return et(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},M.prototype.redSub=function(u){return et(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},M.prototype.redISub=function(u){return et(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},M.prototype.redShl=function(u){return et(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},M.prototype.redMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},M.prototype.redIMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},M.prototype.redSqr=function(){return et(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return et(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return et(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return et(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return et(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(u){return et(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function Z(k,u){this.name=k,this.p=new M(u,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Q(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function lt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ht(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function mt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function dt(k){if("string"==typeof k){var u=M._prime(k);this.m=u.p,this.prime=u}else et(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function gt(k){dt.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Z.prototype._tmp=function(){var u=new M(null);return u.words=new Array(Math.ceil(this.n/13)),u},Z.prototype.ireduce=function(u){var v,p=u;do{this.split(p,this.tmp),v=(p=(p=this.imulK(p)).iadd(this.tmp)).bitLength()}while(v>this.n);var g=v<this.n?-1:p.ucmp(this.p);return 0===g?(p.words[0]=0,p.length=1):g>0?p.isub(this.p):void 0!==p.strip?p.strip():p._strip(),p},Z.prototype.split=function(u,p){u.iushrn(this.n,0,p)},Z.prototype.imulK=function(u){return u.imul(this.k)},it(Q,Z),Q.prototype.split=function(u,p){for(var v=4194303,g=Math.min(u.length,9),w=0;w<g;w++)p.words[w]=u.words[w];if(p.length=g,u.length<=9)return u.words[0]=0,void(u.length=1);var b=u.words[9];for(p.words[p.length++]=b&v,w=10;w<u.length;w++){var D=0|u.words[w];u.words[w-10]=(D&v)<<4|b>>>22,b=D}u.words[w-10]=b>>>=22,u.length-=0===b&&u.length>10?10:9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var g=0|u.words[v];u.words[v]=67108863&(p+=977*g),p=64*g+(p/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},it(lt,Z),it(ht,Z),it(mt,Z),mt.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var g=19*(0|u.words[v])+p,w=67108863&g;g>>>=26,u.words[v]=w,p=g}return 0!==p&&(u.words[u.length++]=p),u},M._prime=function(u){if($[u])return $[u];var p;if("k256"===u)p=new Q;else if("p224"===u)p=new lt;else if("p192"===u)p=new ht;else{if("p25519"!==u)throw new Error("Unknown prime "+u);p=new mt}return $[u]=p,p},dt.prototype._verify1=function(u){et(0===u.negative,"red works only with positives"),et(u.red,"red works only with red numbers")},dt.prototype._verify2=function(u,p){et(0==(u.negative|p.negative),"red works only with positives"),et(u.red&&u.red===p.red,"red works only with red numbers")},dt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},dt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},dt.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},dt.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},dt.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},dt.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},dt.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},dt.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},dt.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},dt.prototype.isqr=function(u){return this.imul(u,u.clone())},dt.prototype.sqr=function(u){return this.mul(u,u)},dt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(et(p%2==1),3===p){var v=this.m.add(new M(1)).iushrn(2);return this.pow(u,v)}for(var g=this.m.subn(1),w=0;!g.isZero()&&0===g.andln(1);)w++,g.iushrn(1);et(!g.isZero());var b=new M(1).toRed(this),D=b.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new M(2*f*f).toRed(this);0!==this.pow(f,_).cmp(D);)f.redIAdd(D);for(var C=this.pow(f,g),K=this.pow(u,g.addn(1).iushrn(1)),U=this.pow(u,g),W=w;0!==U.cmp(b);){for(var st=U,ct=0;0!==st.cmp(b);ct++)st=st.redSqr();et(ct<W);var Ct=this.pow(C,new M(1).iushln(W-ct-1));K=K.redMul(Ct),C=Ct.redSqr(),U=U.redMul(C),W=ct}return K},dt.prototype.invm=function(u){var p=u._invmp(this.m);return 0!==p.negative?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},dt.prototype.pow=function(u,p){if(p.isZero())return new M(1).toRed(this);if(0===p.cmpn(1))return u.clone();var g=new Array(16);g[0]=new M(1).toRed(this),g[1]=u;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],u);var b=g[0],D=0,_=0,f=p.bitLength()%26;for(0===f&&(f=26),w=p.length-1;w>=0;w--){for(var C=p.words[w],K=f-1;K>=0;K--){var U=C>>K&1;b!==g[0]&&(b=this.sqr(b)),0!==U||0!==D?(D<<=1,D|=U,(4==++_||0===w&&0===K)&&(b=this.mul(b,g[D]),_=0,D=0)):_=0}f=26}return b},dt.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},dt.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},M.mont=function(u){return new gt(u)},it(gt,dt),gt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},gt.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},gt.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new M(0)._forceRed(this);var v=u.mul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Yt=vt.nmd(Yt),this)},4979:(Yt,q,vt)=>{"use strict";var yt=vt(3516),xt=vt(2996),et=vt(7447),it=vt(6010),M=vt(8672);function j(H){M.call(this,"digest"),this._hash=H}yt(j,M),j.prototype._update=function(H){this._hash.update(H)},j.prototype._final=function(){return this._hash.digest()},Yt.exports=function(X){return"md5"===(X=X.toLowerCase())?new xt:"rmd160"===X||"ripemd160"===X?new et:new j(it(X))}},4936:(Yt,q,vt)=>{var yt=vt(2996);Yt.exports=function(xt){return(new yt).update(xt).digest()}},3927:(Yt,q,vt)=>{"use strict";var yt=vt(3516),xt=vt(3107),et=vt(8672),it=vt(4615).Buffer,M=vt(4936),j=vt(7447),H=vt(6010),X=it.alloc(128);function z(B,I){et.call(this,"digest"),"string"==typeof I&&(I=it.from(I));var Y="sha512"===B||"sha384"===B?128:64;this._alg=B,this._key=I,I.length>Y?I=("rmd160"===B?new j:H(B)).update(I).digest():I.length<Y&&(I=it.concat([I,X],Y));for(var F=this._ipad=it.allocUnsafe(Y),O=this._opad=it.allocUnsafe(Y),V=0;V<Y;V++)F[V]=54^I[V],O[V]=92^I[V];this._hash="rmd160"===B?new j:H(B),this._hash.update(F)}yt(z,et),z.prototype._update=function(B){this._hash.update(B)},z.prototype._final=function(){var B=this._hash.digest();return("rmd160"===this._alg?new j:H(this._alg)).update(this._opad).update(B).digest()},Yt.exports=function(I,Y){return"rmd160"===(I=I.toLowerCase())||"ripemd160"===I?new z("rmd160",Y):"md5"===I?new xt(M,Y):new z(I,Y)}},3107:(Yt,q,vt)=>{"use strict";var yt=vt(3516),xt=vt(4615).Buffer,et=vt(8672),it=xt.alloc(128),M=64;function j(H,X){et.call(this,"digest"),"string"==typeof X&&(X=xt.from(X)),this._alg=H,this._key=X,X.length>M?X=H(X):X.length<M&&(X=xt.concat([X,it],M));for(var z=this._ipad=xt.allocUnsafe(M),B=this._opad=xt.allocUnsafe(M),I=0;I<M;I++)z[I]=54^X[I],B[I]=92^X[I];this._hash=[z]}yt(j,et),j.prototype._update=function(H){this._hash.push(H)},j.prototype._final=function(){var H=this._alg(xt.concat(this._hash));return this._alg(xt.concat([this._opad,H]))},Yt.exports=j},7702:(Yt,q,vt)=>{"use strict";q.randomBytes=q.rng=q.pseudoRandomBytes=q.prng=vt(8747),q.createHash=q.Hash=vt(4979),q.createHmac=q.Hmac=vt(3927);var yt=vt(6850),xt=Object.keys(yt),et=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(xt);q.getHashes=function(){return et};var it=vt(6556);q.pbkdf2=it.pbkdf2,q.pbkdf2Sync=it.pbkdf2Sync;var M=vt(5828);q.Cipher=M.Cipher,q.createCipher=M.createCipher,q.Cipheriv=M.Cipheriv,q.createCipheriv=M.createCipheriv,q.Decipher=M.Decipher,q.createDecipher=M.createDecipher,q.Decipheriv=M.Decipheriv,q.createDecipheriv=M.createDecipheriv,q.getCiphers=M.getCiphers,q.listCiphers=M.listCiphers;var j=vt(1198);q.DiffieHellmanGroup=j.DiffieHellmanGroup,q.createDiffieHellmanGroup=j.createDiffieHellmanGroup,q.getDiffieHellman=j.getDiffieHellman,q.createDiffieHellman=j.createDiffieHellman,q.DiffieHellman=j.DiffieHellman;var H=vt(5822);q.createSign=H.createSign,q.Sign=H.Sign,q.createVerify=H.createVerify,q.Verify=H.Verify,q.createECDH=vt(4523);var X=vt(2914);q.publicEncrypt=X.publicEncrypt,q.privateEncrypt=X.privateEncrypt,q.publicDecrypt=X.publicDecrypt,q.privateDecrypt=X.privateDecrypt;var z=vt(1766);q.randomFill=z.randomFill,q.randomFillSync=z.randomFillSync,q.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},q.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},3335:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(8911),vt(8474),vt(7916),vt(811),function(){var xt=yt,it=xt.lib.BlockCipher,M=xt.algo,j=[],H=[],X=[],z=[],B=[],I=[],Y=[],T=[],F=[],O=[];!function(){for(var R=[],$=0;$<256;$++)R[$]=$<128?$<<1:$<<1^283;var Z=0,Q=0;for($=0;$<256;$++){var lt=Q^Q<<1^Q<<2^Q<<3^Q<<4;j[Z]=lt=lt>>>8^255&lt^99,H[lt]=Z;var gt,ht=R[Z],mt=R[ht],dt=R[mt];X[Z]=(gt=257*R[lt]^16843008*lt)<<24|gt>>>8,z[Z]=gt<<16|gt>>>16,B[Z]=gt<<8|gt>>>24,I[Z]=gt,Y[lt]=(gt=16843009*dt^65537*mt^257*ht^16843008*Z)<<24|gt>>>8,T[lt]=gt<<16|gt>>>16,F[lt]=gt<<8|gt>>>24,O[lt]=gt,Z?(Z=ht^R[R[R[dt^ht]]],Q^=R[R[Q]]):Z=Q=1}}();var V=[0,1,2,4,8,16,32,64,128,27,54],G=M.AES=it.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var $=this._keyPriorReset=this._key,Z=$.words,Q=$.sigBytes/4,ht=4*((this._nRounds=Q+6)+1),mt=this._keySchedule=[],dt=0;dt<ht;dt++)dt<Q?mt[dt]=Z[dt]:(R=mt[dt-1],dt%Q?Q>6&&dt%Q==4&&(R=j[R>>>24]<<24|j[R>>>16&255]<<16|j[R>>>8&255]<<8|j[255&R]):(R=j[(R=R<<8|R>>>24)>>>24]<<24|j[R>>>16&255]<<16|j[R>>>8&255]<<8|j[255&R],R^=V[dt/Q|0]<<24),mt[dt]=mt[dt-Q]^R);for(var gt=this._invKeySchedule=[],k=0;k<ht;k++){if(dt=ht-k,k%4)var R=mt[dt];else R=mt[dt-4];gt[k]=k<4||dt<=4?R:Y[j[R>>>24]]^T[j[R>>>16&255]]^F[j[R>>>8&255]]^O[j[255&R]]}}},encryptBlock:function(R,$){this._doCryptBlock(R,$,this._keySchedule,X,z,B,I,j)},decryptBlock:function(R,$){var Z=R[$+1];R[$+1]=R[$+3],R[$+3]=Z,this._doCryptBlock(R,$,this._invKeySchedule,Y,T,F,O,H),Z=R[$+1],R[$+1]=R[$+3],R[$+3]=Z},_doCryptBlock:function(R,$,Z,Q,lt,ht,mt,dt){for(var gt=this._nRounds,k=R[$]^Z[0],u=R[$+1]^Z[1],p=R[$+2]^Z[2],v=R[$+3]^Z[3],g=4,w=1;w<gt;w++){var b=Q[k>>>24]^lt[u>>>16&255]^ht[p>>>8&255]^mt[255&v]^Z[g++],D=Q[u>>>24]^lt[p>>>16&255]^ht[v>>>8&255]^mt[255&k]^Z[g++],_=Q[p>>>24]^lt[v>>>16&255]^ht[k>>>8&255]^mt[255&u]^Z[g++],f=Q[v>>>24]^lt[k>>>16&255]^ht[u>>>8&255]^mt[255&p]^Z[g++];k=b,u=D,p=_,v=f}b=(dt[k>>>24]<<24|dt[u>>>16&255]<<16|dt[p>>>8&255]<<8|dt[255&v])^Z[g++],D=(dt[u>>>24]<<24|dt[p>>>16&255]<<16|dt[v>>>8&255]<<8|dt[255&k])^Z[g++],_=(dt[p>>>24]<<24|dt[v>>>16&255]<<16|dt[k>>>8&255]<<8|dt[255&u])^Z[g++],f=(dt[v>>>24]<<24|dt[k>>>16&255]<<16|dt[u>>>8&255]<<8|dt[255&p])^Z[g++],R[$]=b,R[$+1]=D,R[$+2]=_,R[$+3]=f},keySize:8});xt.AES=it._createHelper(G)}(),yt.AES)},811:function(Yt,q,vt){var et,it,M,j,H,X,B,Y,T,O,V,G,$,Q,ht,mt,gt,k,yt;Yt.exports=(yt=vt(1357),vt(7916),void(yt.lib.Cipher||(et=yt,it=et.lib,M=it.Base,j=it.WordArray,H=it.BufferedBlockAlgorithm,X=et.enc,B=X.Base64,Y=et.algo.EvpKDF,T=it.Cipher=H.extend({cfg:M.extend(),createEncryptor:function(u,p){return this.create(this._ENC_XFORM_MODE,u,p)},createDecryptor:function(u,p){return this.create(this._DEC_XFORM_MODE,u,p)},init:function(u,p,v){this.cfg=this.cfg.extend(v),this._xformMode=u,this._key=p,this.reset()},reset:function(){H.reset.call(this),this._doReset()},process:function(u){return this._append(u),this._process()},finalize:function(u){return u&&this._append(u),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function u(p){return"string"==typeof p?k:mt}return function(p){return{encrypt:function(v,g,w){return u(g).encrypt(p,v,g,w)},decrypt:function(v,g,w){return u(g).decrypt(p,v,g,w)}}}}()}),it.StreamCipher=T.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),O=et.mode={},V=it.BlockCipherMode=M.extend({createEncryptor:function(u,p){return this.Encryptor.create(u,p)},createDecryptor:function(u,p){return this.Decryptor.create(u,p)},init:function(u,p){this._cipher=u,this._iv=p}}),G=O.CBC=function(){var u=V.extend();function p(v,g,w){var b,D=this._iv;D?(b=D,this._iv=undefined):b=this._prevBlock;for(var _=0;_<w;_++)v[g+_]^=b[_]}return u.Encryptor=u.extend({processBlock:function(v,g){var w=this._cipher,b=w.blockSize;p.call(this,v,g,b),w.encryptBlock(v,g),this._prevBlock=v.slice(g,g+b)}}),u.Decryptor=u.extend({processBlock:function(v,g){var w=this._cipher,b=w.blockSize,D=v.slice(g,g+b);w.decryptBlock(v,g),p.call(this,v,g,b),this._prevBlock=D}}),u}(),$=(et.pad={}).Pkcs7={pad:function(u,p){for(var v=4*p,g=v-u.sigBytes%v,w=g<<24|g<<16|g<<8|g,b=[],D=0;D<g;D+=4)b.push(w);var _=j.create(b,g);u.concat(_)},unpad:function(u){u.sigBytes-=255&u.words[u.sigBytes-1>>>2]}},it.BlockCipher=T.extend({cfg:T.cfg.extend({mode:G,padding:$}),reset:function(){var u;T.reset.call(this);var p=this.cfg,v=p.iv,g=p.mode;this._xformMode==this._ENC_XFORM_MODE?u=g.createEncryptor:(u=g.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==u?this._mode.init(this,v&&v.words):(this._mode=u.call(g,this,v&&v.words),this._mode.__creator=u)},_doProcessBlock:function(u,p){this._mode.processBlock(u,p)},_doFinalize:function(){var u,p=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(p.pad(this._data,this.blockSize),u=this._process(!0)):(u=this._process(!0),p.unpad(u)),u},blockSize:4}),Q=it.CipherParams=M.extend({init:function(u){this.mixIn(u)},toString:function(u){return(u||this.formatter).stringify(this)}}),ht=(et.format={}).OpenSSL={stringify:function(u){var v=u.ciphertext,g=u.salt;return(g?j.create([1398893684,1701076831]).concat(g).concat(v):v).toString(B)},parse:function(u){var p,v=B.parse(u),g=v.words;return 1398893684==g[0]&&1701076831==g[1]&&(p=j.create(g.slice(2,4)),g.splice(0,4),v.sigBytes-=16),Q.create({ciphertext:v,salt:p})}},mt=it.SerializableCipher=M.extend({cfg:M.extend({format:ht}),encrypt:function(u,p,v,g){g=this.cfg.extend(g);var w=u.createEncryptor(v,g),b=w.finalize(p),D=w.cfg;return Q.create({ciphertext:b,key:v,iv:D.iv,algorithm:u,mode:D.mode,padding:D.padding,blockSize:u.blockSize,formatter:g.format})},decrypt:function(u,p,v,g){return g=this.cfg.extend(g),p=this._parse(p,g.format),u.createDecryptor(v,g).finalize(p.ciphertext)},_parse:function(u,p){return"string"==typeof u?p.parse(u,this):u}}),gt=(et.kdf={}).OpenSSL={execute:function(u,p,v,g){g||(g=j.random(8));var w=Y.create({keySize:p+v}).compute(u,g),b=j.create(w.words.slice(p),4*v);return w.sigBytes=4*p,Q.create({key:w,iv:b,salt:g})}},k=it.PasswordBasedCipher=mt.extend({cfg:mt.cfg.extend({kdf:gt}),encrypt:function(u,p,v,g){var w=(g=this.cfg.extend(g)).kdf.execute(v,u.keySize,u.ivSize);g.iv=w.iv;var b=mt.encrypt.call(this,u,p,w.key,g);return b.mixIn(w),b},decrypt:function(u,p,v,g){g=this.cfg.extend(g),p=this._parse(p,g.format);var w=g.kdf.execute(v,u.keySize,u.ivSize,p.salt);return g.iv=w.iv,mt.decrypt.call(this,u,p,w.key,g)}}))))},1357:function(Yt,q,vt){var yt;Yt.exports=(yt=yt||function(xt,et){var it;if("undefined"!=typeof window&&window.crypto&&(it=window.crypto),"undefined"!=typeof self&&self.crypto&&(it=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(it=globalThis.crypto),!it&&"undefined"!=typeof window&&window.msCrypto&&(it=window.msCrypto),!it&&"undefined"!=typeof global&&global.crypto&&(it=global.crypto),!it)try{it=vt(7702)}catch(R){}var M=function(){if(it){if("function"==typeof it.getRandomValues)try{return it.getRandomValues(new Uint32Array(1))[0]}catch(R){}if("function"==typeof it.randomBytes)try{return it.randomBytes(4).readInt32LE()}catch(R){}}throw new Error("Native crypto module could not be used to get secure random number.")},j=Object.create||function(){function R(){}return function($){var Z;return R.prototype=$,Z=new R,R.prototype=null,Z}}(),H={},X=H.lib={},z=X.Base={extend:function(R){var $=j(this);return R&&$.mixIn(R),(!$.hasOwnProperty("init")||this.init===$.init)&&($.init=function(){$.$super.init.apply(this,arguments)}),$.init.prototype=$,$.$super=this,$},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var $ in R)R.hasOwnProperty($)&&(this[$]=R[$]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}},B=X.WordArray=z.extend({init:function(R,$){R=this.words=R||[],this.sigBytes=null!=$?$:4*R.length},toString:function(R){return(R||Y).stringify(this)},concat:function(R){var $=this.words,Z=R.words,Q=this.sigBytes,lt=R.sigBytes;if(this.clamp(),Q%4)for(var ht=0;ht<lt;ht++)$[Q+ht>>>2]|=(Z[ht>>>2]>>>24-ht%4*8&255)<<24-(Q+ht)%4*8;else for(var dt=0;dt<lt;dt+=4)$[Q+dt>>>2]=Z[dt>>>2];return this.sigBytes+=lt,this},clamp:function(){var R=this.words,$=this.sigBytes;R[$>>>2]&=4294967295<<32-$%4*8,R.length=xt.ceil($/4)},clone:function(){var R=z.clone.call(this);return R.words=this.words.slice(0),R},random:function(R){for(var $=[],Z=0;Z<R;Z+=4)$.push(M());return new B.init($,R)}}),I=H.enc={},Y=I.Hex={stringify:function(R){for(var $=R.words,Z=R.sigBytes,Q=[],lt=0;lt<Z;lt++){var ht=$[lt>>>2]>>>24-lt%4*8&255;Q.push((ht>>>4).toString(16)),Q.push((15&ht).toString(16))}return Q.join("")},parse:function(R){for(var $=R.length,Z=[],Q=0;Q<$;Q+=2)Z[Q>>>3]|=parseInt(R.substr(Q,2),16)<<24-Q%8*4;return new B.init(Z,$/2)}},T=I.Latin1={stringify:function(R){for(var $=R.words,Z=R.sigBytes,Q=[],lt=0;lt<Z;lt++)Q.push(String.fromCharCode($[lt>>>2]>>>24-lt%4*8&255));return Q.join("")},parse:function(R){for(var $=R.length,Z=[],Q=0;Q<$;Q++)Z[Q>>>2]|=(255&R.charCodeAt(Q))<<24-Q%4*8;return new B.init(Z,$)}},F=I.Utf8={stringify:function(R){try{return decodeURIComponent(escape(T.stringify(R)))}catch($){throw new Error("Malformed UTF-8 data")}},parse:function(R){return T.parse(unescape(encodeURIComponent(R)))}},O=X.BufferedBlockAlgorithm=z.extend({reset:function(){this._data=new B.init,this._nDataBytes=0},_append:function(R){"string"==typeof R&&(R=F.parse(R)),this._data.concat(R),this._nDataBytes+=R.sigBytes},_process:function(R){var $,Z=this._data,Q=Z.words,lt=Z.sigBytes,ht=this.blockSize,dt=lt/(4*ht),gt=(dt=R?xt.ceil(dt):xt.max((0|dt)-this._minBufferSize,0))*ht,k=xt.min(4*gt,lt);if(gt){for(var u=0;u<gt;u+=ht)this._doProcessBlock(Q,u);$=Q.splice(0,gt),Z.sigBytes-=k}return new B.init($,k)},clone:function(){var R=z.clone.call(this);return R._data=this._data.clone(),R},_minBufferSize:0}),G=(X.Hasher=O.extend({cfg:z.extend(),init:function(R){this.cfg=this.cfg.extend(R),this.reset()},reset:function(){O.reset.call(this),this._doReset()},update:function(R){return this._append(R),this._process(),this},finalize:function(R){return R&&this._append(R),this._doFinalize()},blockSize:16,_createHelper:function(R){return function($,Z){return new R.init(Z).finalize($)}},_createHmacHelper:function(R){return function($,Z){return new G.HMAC.init(R,Z).finalize($)}}}),H.algo={});return H}(Math),yt)},8911:function(Yt,q,vt){var yt,it;Yt.exports=(yt=vt(1357),it=yt.lib.WordArray,yt.enc.Base64={stringify:function(X){var z=X.words,B=X.sigBytes,I=this._map;X.clamp();for(var Y=[],T=0;T<B;T+=3)for(var G=(z[T>>>2]>>>24-T%4*8&255)<<16|(z[T+1>>>2]>>>24-(T+1)%4*8&255)<<8|z[T+2>>>2]>>>24-(T+2)%4*8&255,R=0;R<4&&T+.75*R<B;R++)Y.push(I.charAt(G>>>6*(3-R)&63));var $=I.charAt(64);if($)for(;Y.length%4;)Y.push($);return Y.join("")},parse:function(X){var z=X.length,B=this._map,I=this._reverseMap;if(!I){I=this._reverseMap=[];for(var Y=0;Y<B.length;Y++)I[B.charCodeAt(Y)]=Y}var T=B.charAt(64);if(T){var F=X.indexOf(T);-1!==F&&(z=F)}return function(X,z,B){for(var I=[],Y=0,T=0;T<z;T++)if(T%4){var F=B[X.charCodeAt(T-1)]<<T%4*2,O=B[X.charCodeAt(T)]>>>6-T%4*2;I[Y>>>2]|=(F|O)<<24-Y%4*8,Y++}return it.create(I,Y)}(X,z,I)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},yt.enc.Base64)},3931:function(Yt,q,vt){var yt,it;Yt.exports=(yt=vt(1357),it=yt.lib.WordArray,yt.enc.Base64url={stringify:function(X,z=!0){var B=X.words,I=X.sigBytes,Y=z?this._safe_map:this._map;X.clamp();for(var T=[],F=0;F<I;F+=3)for(var R=(B[F>>>2]>>>24-F%4*8&255)<<16|(B[F+1>>>2]>>>24-(F+1)%4*8&255)<<8|B[F+2>>>2]>>>24-(F+2)%4*8&255,$=0;$<4&&F+.75*$<I;$++)T.push(Y.charAt(R>>>6*(3-$)&63));var Z=Y.charAt(64);if(Z)for(;T.length%4;)T.push(Z);return T.join("")},parse:function(X,z=!0){var B=X.length,I=z?this._safe_map:this._map,Y=this._reverseMap;if(!Y){Y=this._reverseMap=[];for(var T=0;T<I.length;T++)Y[I.charCodeAt(T)]=T}var F=I.charAt(64);if(F){var O=X.indexOf(F);-1!==O&&(B=O)}return function(X,z,B){for(var I=[],Y=0,T=0;T<z;T++)if(T%4){var F=B[X.charCodeAt(T-1)]<<T%4*2,O=B[X.charCodeAt(T)]>>>6-T%4*2;I[Y>>>2]|=(F|O)<<24-Y%4*8,Y++}return it.create(I,Y)}(X,B,Y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},yt.enc.Base64url)},5912:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),function(){var it=yt.lib.WordArray,M=yt.enc;function H(X){return X<<8&4278255360|X>>>8&16711935}M.Utf16=M.Utf16BE={stringify:function(X){for(var z=X.words,B=X.sigBytes,I=[],Y=0;Y<B;Y+=2)I.push(String.fromCharCode(z[Y>>>2]>>>16-Y%4*8&65535));return I.join("")},parse:function(X){for(var z=X.length,B=[],I=0;I<z;I++)B[I>>>1]|=X.charCodeAt(I)<<16-I%2*16;return it.create(B,2*z)}},M.Utf16LE={stringify:function(X){for(var z=X.words,B=X.sigBytes,I=[],Y=0;Y<B;Y+=2){var T=H(z[Y>>>2]>>>16-Y%4*8&65535);I.push(String.fromCharCode(T))}return I.join("")},parse:function(X){for(var z=X.length,B=[],I=0;I<z;I++)B[I>>>1]|=H(X.charCodeAt(I)<<16-I%2*16);return it.create(B,2*z)}}}(),yt.enc.Utf16)},7916:function(Yt,q,vt){var xt,et,it,M,j,X,yt;Yt.exports=(yt=vt(1357),vt(5463),vt(2718),M=(et=(xt=yt).lib).WordArray,X=(j=xt.algo).EvpKDF=(it=et.Base).extend({cfg:it.extend({keySize:4,hasher:j.MD5,iterations:1}),init:function(z){this.cfg=this.cfg.extend(z)},compute:function(z,B){for(var I,Y=this.cfg,T=Y.hasher.create(),F=M.create(),O=F.words,V=Y.keySize,G=Y.iterations;O.length<V;){I&&T.update(I),I=T.update(z).finalize(B),T.reset();for(var R=1;R<G;R++)I=T.finalize(I),T.reset();F.concat(I)}return F.sigBytes=4*V,F}}),xt.EvpKDF=function(z,B,I){return X.create(I).compute(z,B)},yt.EvpKDF)},4768:function(Yt,q,vt){var yt,M,H;Yt.exports=(yt=vt(1357),vt(811),M=yt.lib.CipherParams,H=yt.enc.Hex,yt.format.Hex={stringify:function(B){return B.ciphertext.toString(H)},parse:function(B){var I=H.parse(B);return M.create({ciphertext:I})}},yt.format.Hex)},2718:function(Yt,q,vt){var yt,j;Yt.exports=(yt=vt(1357),j=yt.enc.Utf8,void(yt.algo.HMAC=yt.lib.Base.extend({init:function(z,B){z=this._hasher=new z.init,"string"==typeof B&&(B=j.parse(B));var I=z.blockSize,Y=4*I;B.sigBytes>Y&&(B=z.finalize(B)),B.clamp();for(var T=this._oKey=B.clone(),F=this._iKey=B.clone(),O=T.words,V=F.words,G=0;G<I;G++)O[G]^=1549556828,V[G]^=909522486;T.sigBytes=F.sigBytes=Y,this.reset()},reset:function(){var z=this._hasher;z.reset(),z.update(this._iKey)},update:function(z){return this._hasher.update(z),this},finalize:function(z){var B=this._hasher,I=B.finalize(z);return B.reset(),B.finalize(this._oKey.clone().concat(I))}})))},7908:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(1514),vt(3404),vt(5912),vt(8911),vt(3931),vt(8474),vt(5463),vt(8894),vt(4511),vt(7055),vt(5013),vt(1485),vt(5485),vt(2718),vt(5092),vt(7916),vt(811),vt(8431),vt(1347),vt(9230),vt(9671),vt(5620),vt(7939),vt(1646),vt(8228),vt(3109),vt(2267),vt(4768),vt(3335),vt(6707),vt(8538),vt(9097),vt(8198),yt)},3404:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),function(){if("function"==typeof ArrayBuffer){var it=yt.lib.WordArray,M=it.init,j=it.init=function(H){if(H instanceof ArrayBuffer&&(H=new Uint8Array(H)),(H instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)&&(H=new Uint8Array(H.buffer,H.byteOffset,H.byteLength)),H instanceof Uint8Array){for(var X=H.byteLength,z=[],B=0;B<X;B++)z[B>>>2]|=H[B]<<24-B%4*8;M.call(this,z,X)}else M.apply(this,arguments)};j.prototype=it}}(),yt.lib.WordArray)},8474:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),function(xt){var et=yt,it=et.lib,M=it.WordArray,j=it.Hasher,H=et.algo,X=[];!function(){for(var F=0;F<64;F++)X[F]=4294967296*xt.abs(xt.sin(F+1))|0}();var z=H.MD5=j.extend({_doReset:function(){this._hash=new M.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(F,O){for(var V=0;V<16;V++){var G=O+V,R=F[G];F[G]=16711935&(R<<8|R>>>24)|4278255360&(R<<24|R>>>8)}var $=this._hash.words,Z=F[O+0],Q=F[O+1],lt=F[O+2],ht=F[O+3],mt=F[O+4],dt=F[O+5],gt=F[O+6],k=F[O+7],u=F[O+8],p=F[O+9],v=F[O+10],g=F[O+11],w=F[O+12],b=F[O+13],D=F[O+14],_=F[O+15],f=$[0],C=$[1],K=$[2],U=$[3];f=B(f,C,K,U,Z,7,X[0]),U=B(U,f,C,K,Q,12,X[1]),K=B(K,U,f,C,lt,17,X[2]),C=B(C,K,U,f,ht,22,X[3]),f=B(f,C,K,U,mt,7,X[4]),U=B(U,f,C,K,dt,12,X[5]),K=B(K,U,f,C,gt,17,X[6]),C=B(C,K,U,f,k,22,X[7]),f=B(f,C,K,U,u,7,X[8]),U=B(U,f,C,K,p,12,X[9]),K=B(K,U,f,C,v,17,X[10]),C=B(C,K,U,f,g,22,X[11]),f=B(f,C,K,U,w,7,X[12]),U=B(U,f,C,K,b,12,X[13]),K=B(K,U,f,C,D,17,X[14]),f=I(f,C=B(C,K,U,f,_,22,X[15]),K,U,Q,5,X[16]),U=I(U,f,C,K,gt,9,X[17]),K=I(K,U,f,C,g,14,X[18]),C=I(C,K,U,f,Z,20,X[19]),f=I(f,C,K,U,dt,5,X[20]),U=I(U,f,C,K,v,9,X[21]),K=I(K,U,f,C,_,14,X[22]),C=I(C,K,U,f,mt,20,X[23]),f=I(f,C,K,U,p,5,X[24]),U=I(U,f,C,K,D,9,X[25]),K=I(K,U,f,C,ht,14,X[26]),C=I(C,K,U,f,u,20,X[27]),f=I(f,C,K,U,b,5,X[28]),U=I(U,f,C,K,lt,9,X[29]),K=I(K,U,f,C,k,14,X[30]),f=Y(f,C=I(C,K,U,f,w,20,X[31]),K,U,dt,4,X[32]),U=Y(U,f,C,K,u,11,X[33]),K=Y(K,U,f,C,g,16,X[34]),C=Y(C,K,U,f,D,23,X[35]),f=Y(f,C,K,U,Q,4,X[36]),U=Y(U,f,C,K,mt,11,X[37]),K=Y(K,U,f,C,k,16,X[38]),C=Y(C,K,U,f,v,23,X[39]),f=Y(f,C,K,U,b,4,X[40]),U=Y(U,f,C,K,Z,11,X[41]),K=Y(K,U,f,C,ht,16,X[42]),C=Y(C,K,U,f,gt,23,X[43]),f=Y(f,C,K,U,p,4,X[44]),U=Y(U,f,C,K,w,11,X[45]),K=Y(K,U,f,C,_,16,X[46]),f=T(f,C=Y(C,K,U,f,lt,23,X[47]),K,U,Z,6,X[48]),U=T(U,f,C,K,k,10,X[49]),K=T(K,U,f,C,D,15,X[50]),C=T(C,K,U,f,dt,21,X[51]),f=T(f,C,K,U,w,6,X[52]),U=T(U,f,C,K,ht,10,X[53]),K=T(K,U,f,C,v,15,X[54]),C=T(C,K,U,f,Q,21,X[55]),f=T(f,C,K,U,u,6,X[56]),U=T(U,f,C,K,_,10,X[57]),K=T(K,U,f,C,gt,15,X[58]),C=T(C,K,U,f,b,21,X[59]),f=T(f,C,K,U,mt,6,X[60]),U=T(U,f,C,K,g,10,X[61]),K=T(K,U,f,C,lt,15,X[62]),C=T(C,K,U,f,p,21,X[63]),$[0]=$[0]+f|0,$[1]=$[1]+C|0,$[2]=$[2]+K|0,$[3]=$[3]+U|0},_doFinalize:function(){var F=this._data,O=F.words,V=8*this._nDataBytes,G=8*F.sigBytes;O[G>>>5]|=128<<24-G%32;var R=xt.floor(V/4294967296),$=V;O[15+(G+64>>>9<<4)]=16711935&(R<<8|R>>>24)|4278255360&(R<<24|R>>>8),O[14+(G+64>>>9<<4)]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),F.sigBytes=4*(O.length+1),this._process();for(var Z=this._hash,Q=Z.words,lt=0;lt<4;lt++){var ht=Q[lt];Q[lt]=16711935&(ht<<8|ht>>>24)|4278255360&(ht<<24|ht>>>8)}return Z},clone:function(){var F=j.clone.call(this);return F._hash=this._hash.clone(),F}});function B(F,O,V,G,R,$,Z){var Q=F+(O&V|~O&G)+R+Z;return(Q<<$|Q>>>32-$)+O}function I(F,O,V,G,R,$,Z){var Q=F+(O&G|V&~G)+R+Z;return(Q<<$|Q>>>32-$)+O}function Y(F,O,V,G,R,$,Z){var Q=F+(O^V^G)+R+Z;return(Q<<$|Q>>>32-$)+O}function T(F,O,V,G,R,$,Z){var Q=F+(V^(O|~G))+R+Z;return(Q<<$|Q>>>32-$)+O}et.MD5=j._createHelper(z),et.HmacMD5=j._createHmacHelper(z)}(Math),yt.MD5)},8431:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(811),yt.mode.CFB=function(){var xt=yt.lib.BlockCipherMode.extend();function et(it,M,j,H){var X,z=this._iv;z?(X=z.slice(0),this._iv=void 0):X=this._prevBlock,H.encryptBlock(X,0);for(var B=0;B<j;B++)it[M+B]^=X[B]}return xt.Encryptor=xt.extend({processBlock:function(it,M){var j=this._cipher,H=j.blockSize;et.call(this,it,M,H,j),this._prevBlock=it.slice(M,M+H)}}),xt.Decryptor=xt.extend({processBlock:function(it,M){var j=this._cipher,H=j.blockSize,X=it.slice(M,M+H);et.call(this,it,M,H,j),this._prevBlock=X}}),xt}(),yt.mode.CFB)},9230:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(811),yt.mode.CTRGladman=function(){var xt=yt.lib.BlockCipherMode.extend();function et(j){if(255==(j>>24&255)){var H=j>>16&255,X=j>>8&255,z=255&j;255===H?(H=0,255===X?(X=0,255===z?z=0:++z):++X):++H,j=0,j+=H<<16,j+=X<<8,j+=z}else j+=1<<24;return j}var M=xt.Encryptor=xt.extend({processBlock:function(j,H){var X=this._cipher,z=X.blockSize,B=this._iv,I=this._counter;B&&(I=this._counter=B.slice(0),this._iv=void 0),function(j){0===(j[0]=et(j[0]))&&(j[1]=et(j[1]))}(I);var Y=I.slice(0);X.encryptBlock(Y,0);for(var T=0;T<z;T++)j[H+T]^=Y[T]}});return xt.Decryptor=M,xt}(),yt.mode.CTRGladman)},1347:function(Yt,q,vt){var xt,et,yt;Yt.exports=(yt=vt(1357),vt(811),yt.mode.CTR=(et=(xt=yt.lib.BlockCipherMode.extend()).Encryptor=xt.extend({processBlock:function(it,M){var j=this._cipher,H=j.blockSize,X=this._iv,z=this._counter;X&&(z=this._counter=X.slice(0),this._iv=void 0);var B=z.slice(0);j.encryptBlock(B,0),z[H-1]=z[H-1]+1|0;for(var I=0;I<H;I++)it[M+I]^=B[I]}}),xt.Decryptor=et,xt),yt.mode.CTR)},5620:function(Yt,q,vt){var xt,yt;Yt.exports=(yt=vt(1357),vt(811),yt.mode.ECB=((xt=yt.lib.BlockCipherMode.extend()).Encryptor=xt.extend({processBlock:function(et,it){this._cipher.encryptBlock(et,it)}}),xt.Decryptor=xt.extend({processBlock:function(et,it){this._cipher.decryptBlock(et,it)}}),xt),yt.mode.ECB)},9671:function(Yt,q,vt){var xt,et,yt;Yt.exports=(yt=vt(1357),vt(811),yt.mode.OFB=(et=(xt=yt.lib.BlockCipherMode.extend()).Encryptor=xt.extend({processBlock:function(it,M){var j=this._cipher,H=j.blockSize,X=this._iv,z=this._keystream;X&&(z=this._keystream=X.slice(0),this._iv=void 0),j.encryptBlock(z,0);for(var B=0;B<H;B++)it[M+B]^=z[B]}}),xt.Decryptor=et,xt),yt.mode.OFB)},7939:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(811),yt.pad.AnsiX923={pad:function(xt,et){var it=xt.sigBytes,M=4*et,j=M-it%M,H=it+j-1;xt.clamp(),xt.words[H>>>2]|=j<<24-H%4*8,xt.sigBytes+=j},unpad:function(xt){xt.sigBytes-=255&xt.words[xt.sigBytes-1>>>2]}},yt.pad.Ansix923)},1646:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(811),yt.pad.Iso10126={pad:function(xt,et){var it=4*et,M=it-xt.sigBytes%it;xt.concat(yt.lib.WordArray.random(M-1)).concat(yt.lib.WordArray.create([M<<24],1))},unpad:function(xt){xt.sigBytes-=255&xt.words[xt.sigBytes-1>>>2]}},yt.pad.Iso10126)},8228:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(811),yt.pad.Iso97971={pad:function(xt,et){xt.concat(yt.lib.WordArray.create([2147483648],1)),yt.pad.ZeroPadding.pad(xt,et)},unpad:function(xt){yt.pad.ZeroPadding.unpad(xt),xt.sigBytes--}},yt.pad.Iso97971)},2267:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(811),yt.pad.NoPadding={pad:function(){},unpad:function(){}},yt.pad.NoPadding)},3109:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(811),yt.pad.ZeroPadding={pad:function(xt,et){var it=4*et;xt.clamp(),xt.sigBytes+=it-(xt.sigBytes%it||it)},unpad:function(xt){var et=xt.words,it=xt.sigBytes-1;for(it=xt.sigBytes-1;it>=0;it--)if(et[it>>>2]>>>24-it%4*8&255){xt.sigBytes=it+1;break}}},yt.pad.ZeroPadding)},5092:function(Yt,q,vt){var xt,et,it,M,j,X,z,yt;Yt.exports=(yt=vt(1357),vt(5463),vt(2718),M=(et=(xt=yt).lib).WordArray,X=(j=xt.algo).HMAC,z=j.PBKDF2=(it=et.Base).extend({cfg:it.extend({keySize:4,hasher:j.SHA1,iterations:1}),init:function(B){this.cfg=this.cfg.extend(B)},compute:function(B,I){for(var Y=this.cfg,T=X.create(Y.hasher,B),F=M.create(),O=M.create([1]),V=F.words,G=O.words,R=Y.keySize,$=Y.iterations;V.length<R;){var Z=T.update(I).finalize(O);T.reset();for(var Q=Z.words,lt=Q.length,ht=Z,mt=1;mt<$;mt++){ht=T.finalize(ht),T.reset();for(var dt=ht.words,gt=0;gt<lt;gt++)Q[gt]^=dt[gt]}F.concat(Z),G[0]++}return F.sigBytes=4*R,F}}),xt.PBKDF2=function(B,I,Y){return z.create(Y).compute(B,I)},yt.PBKDF2)},8198:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(8911),vt(8474),vt(7916),vt(811),function(){var xt=yt,it=xt.lib.StreamCipher,j=[],H=[],X=[],z=xt.algo.RabbitLegacy=it.extend({_doReset:function(){var I=this._key.words,Y=this.cfg.iv,T=this._X=[I[0],I[3]<<16|I[2]>>>16,I[1],I[0]<<16|I[3]>>>16,I[2],I[1]<<16|I[0]>>>16,I[3],I[2]<<16|I[1]>>>16],F=this._C=[I[2]<<16|I[2]>>>16,4294901760&I[0]|65535&I[1],I[3]<<16|I[3]>>>16,4294901760&I[1]|65535&I[2],I[0]<<16|I[0]>>>16,4294901760&I[2]|65535&I[3],I[1]<<16|I[1]>>>16,4294901760&I[3]|65535&I[0]];this._b=0;for(var O=0;O<4;O++)B.call(this);for(O=0;O<8;O++)F[O]^=T[O+4&7];if(Y){var V=Y.words,G=V[0],R=V[1],$=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),Z=16711935&(R<<8|R>>>24)|4278255360&(R<<24|R>>>8),Q=$>>>16|4294901760&Z,lt=Z<<16|65535&$;for(F[0]^=$,F[1]^=Q,F[2]^=Z,F[3]^=lt,F[4]^=$,F[5]^=Q,F[6]^=Z,F[7]^=lt,O=0;O<4;O++)B.call(this)}},_doProcessBlock:function(I,Y){var T=this._X;B.call(this),j[0]=T[0]^T[5]>>>16^T[3]<<16,j[1]=T[2]^T[7]>>>16^T[5]<<16,j[2]=T[4]^T[1]>>>16^T[7]<<16,j[3]=T[6]^T[3]>>>16^T[1]<<16;for(var F=0;F<4;F++)j[F]=16711935&(j[F]<<8|j[F]>>>24)|4278255360&(j[F]<<24|j[F]>>>8),I[Y+F]^=j[F]},blockSize:4,ivSize:2});function B(){for(var I=this._X,Y=this._C,T=0;T<8;T++)H[T]=Y[T];for(Y[0]=Y[0]+1295307597+this._b|0,Y[1]=Y[1]+3545052371+(Y[0]>>>0<H[0]>>>0?1:0)|0,Y[2]=Y[2]+886263092+(Y[1]>>>0<H[1]>>>0?1:0)|0,Y[3]=Y[3]+1295307597+(Y[2]>>>0<H[2]>>>0?1:0)|0,Y[4]=Y[4]+3545052371+(Y[3]>>>0<H[3]>>>0?1:0)|0,Y[5]=Y[5]+886263092+(Y[4]>>>0<H[4]>>>0?1:0)|0,Y[6]=Y[6]+1295307597+(Y[5]>>>0<H[5]>>>0?1:0)|0,Y[7]=Y[7]+3545052371+(Y[6]>>>0<H[6]>>>0?1:0)|0,this._b=Y[7]>>>0<H[7]>>>0?1:0,T=0;T<8;T++){var F=I[T]+Y[T],O=65535&F,V=F>>>16;X[T]=((O*O>>>17)+O*V>>>15)+V*V^((4294901760&F)*F|0)+((65535&F)*F|0)}I[0]=X[0]+(X[7]<<16|X[7]>>>16)+(X[6]<<16|X[6]>>>16)|0,I[1]=X[1]+(X[0]<<8|X[0]>>>24)+X[7]|0,I[2]=X[2]+(X[1]<<16|X[1]>>>16)+(X[0]<<16|X[0]>>>16)|0,I[3]=X[3]+(X[2]<<8|X[2]>>>24)+X[1]|0,I[4]=X[4]+(X[3]<<16|X[3]>>>16)+(X[2]<<16|X[2]>>>16)|0,I[5]=X[5]+(X[4]<<8|X[4]>>>24)+X[3]|0,I[6]=X[6]+(X[5]<<16|X[5]>>>16)+(X[4]<<16|X[4]>>>16)|0,I[7]=X[7]+(X[6]<<8|X[6]>>>24)+X[5]|0}xt.RabbitLegacy=it._createHelper(z)}(),yt.RabbitLegacy)},9097:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(8911),vt(8474),vt(7916),vt(811),function(){var xt=yt,it=xt.lib.StreamCipher,j=[],H=[],X=[],z=xt.algo.Rabbit=it.extend({_doReset:function(){for(var I=this._key.words,Y=this.cfg.iv,T=0;T<4;T++)I[T]=16711935&(I[T]<<8|I[T]>>>24)|4278255360&(I[T]<<24|I[T]>>>8);var F=this._X=[I[0],I[3]<<16|I[2]>>>16,I[1],I[0]<<16|I[3]>>>16,I[2],I[1]<<16|I[0]>>>16,I[3],I[2]<<16|I[1]>>>16],O=this._C=[I[2]<<16|I[2]>>>16,4294901760&I[0]|65535&I[1],I[3]<<16|I[3]>>>16,4294901760&I[1]|65535&I[2],I[0]<<16|I[0]>>>16,4294901760&I[2]|65535&I[3],I[1]<<16|I[1]>>>16,4294901760&I[3]|65535&I[0]];for(this._b=0,T=0;T<4;T++)B.call(this);for(T=0;T<8;T++)O[T]^=F[T+4&7];if(Y){var V=Y.words,G=V[0],R=V[1],$=16711935&(G<<8|G>>>24)|4278255360&(G<<24|G>>>8),Z=16711935&(R<<8|R>>>24)|4278255360&(R<<24|R>>>8),Q=$>>>16|4294901760&Z,lt=Z<<16|65535&$;for(O[0]^=$,O[1]^=Q,O[2]^=Z,O[3]^=lt,O[4]^=$,O[5]^=Q,O[6]^=Z,O[7]^=lt,T=0;T<4;T++)B.call(this)}},_doProcessBlock:function(I,Y){var T=this._X;B.call(this),j[0]=T[0]^T[5]>>>16^T[3]<<16,j[1]=T[2]^T[7]>>>16^T[5]<<16,j[2]=T[4]^T[1]>>>16^T[7]<<16,j[3]=T[6]^T[3]>>>16^T[1]<<16;for(var F=0;F<4;F++)j[F]=16711935&(j[F]<<8|j[F]>>>24)|4278255360&(j[F]<<24|j[F]>>>8),I[Y+F]^=j[F]},blockSize:4,ivSize:2});function B(){for(var I=this._X,Y=this._C,T=0;T<8;T++)H[T]=Y[T];for(Y[0]=Y[0]+1295307597+this._b|0,Y[1]=Y[1]+3545052371+(Y[0]>>>0<H[0]>>>0?1:0)|0,Y[2]=Y[2]+886263092+(Y[1]>>>0<H[1]>>>0?1:0)|0,Y[3]=Y[3]+1295307597+(Y[2]>>>0<H[2]>>>0?1:0)|0,Y[4]=Y[4]+3545052371+(Y[3]>>>0<H[3]>>>0?1:0)|0,Y[5]=Y[5]+886263092+(Y[4]>>>0<H[4]>>>0?1:0)|0,Y[6]=Y[6]+1295307597+(Y[5]>>>0<H[5]>>>0?1:0)|0,Y[7]=Y[7]+3545052371+(Y[6]>>>0<H[6]>>>0?1:0)|0,this._b=Y[7]>>>0<H[7]>>>0?1:0,T=0;T<8;T++){var F=I[T]+Y[T],O=65535&F,V=F>>>16;X[T]=((O*O>>>17)+O*V>>>15)+V*V^((4294901760&F)*F|0)+((65535&F)*F|0)}I[0]=X[0]+(X[7]<<16|X[7]>>>16)+(X[6]<<16|X[6]>>>16)|0,I[1]=X[1]+(X[0]<<8|X[0]>>>24)+X[7]|0,I[2]=X[2]+(X[1]<<16|X[1]>>>16)+(X[0]<<16|X[0]>>>16)|0,I[3]=X[3]+(X[2]<<8|X[2]>>>24)+X[1]|0,I[4]=X[4]+(X[3]<<16|X[3]>>>16)+(X[2]<<16|X[2]>>>16)|0,I[5]=X[5]+(X[4]<<8|X[4]>>>24)+X[3]|0,I[6]=X[6]+(X[5]<<16|X[5]>>>16)+(X[4]<<16|X[4]>>>16)|0,I[7]=X[7]+(X[6]<<8|X[6]>>>24)+X[5]|0}xt.Rabbit=it._createHelper(z)}(),yt.Rabbit)},8538:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(8911),vt(8474),vt(7916),vt(811),function(){var xt=yt,it=xt.lib.StreamCipher,M=xt.algo,j=M.RC4=it.extend({_doReset:function(){for(var z=this._key,B=z.words,I=z.sigBytes,Y=this._S=[],T=0;T<256;T++)Y[T]=T;T=0;for(var F=0;T<256;T++){var O=T%I,G=Y[T];Y[T]=Y[F=(F+Y[T]+(B[O>>>2]>>>24-O%4*8&255))%256],Y[F]=G}this._i=this._j=0},_doProcessBlock:function(z,B){z[B]^=H.call(this)},keySize:8,ivSize:0});function H(){for(var z=this._S,B=this._i,I=this._j,Y=0,T=0;T<4;T++){var F=z[B=(B+1)%256];z[B]=z[I=(I+z[B])%256],z[I]=F,Y|=z[(z[B]+z[I])%256]<<24-8*T}return this._i=B,this._j=I,Y}xt.RC4=it._createHelper(j);var X=M.RC4Drop=j.extend({cfg:j.cfg.extend({drop:192}),_doReset:function(){j._doReset.call(this);for(var z=this.cfg.drop;z>0;z--)H.call(this)}});xt.RC4Drop=it._createHelper(X)}(),yt.RC4)},5485:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),function(xt){var et=yt,it=et.lib,M=it.WordArray,j=it.Hasher,H=et.algo,X=M.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),z=M.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),B=M.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),I=M.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Y=M.create([0,1518500249,1859775393,2400959708,2840853838]),T=M.create([1352829926,1548603684,1836072691,2053994217,0]),F=H.RIPEMD160=j.extend({_doReset:function(){this._hash=M.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Q,lt){for(var ht=0;ht<16;ht++){var mt=lt+ht,dt=Q[mt];Q[mt]=16711935&(dt<<8|dt>>>24)|4278255360&(dt<<24|dt>>>8)}var b,D,_,f,C,K,U,W,st,ct,Ct,gt=this._hash.words,k=Y.words,u=T.words,p=X.words,v=z.words,g=B.words,w=I.words;for(K=b=gt[0],U=D=gt[1],W=_=gt[2],st=f=gt[3],ct=C=gt[4],ht=0;ht<80;ht+=1)Ct=b+Q[lt+p[ht]]|0,Ct+=ht<16?O(D,_,f)+k[0]:ht<32?V(D,_,f)+k[1]:ht<48?G(D,_,f)+k[2]:ht<64?R(D,_,f)+k[3]:$(D,_,f)+k[4],Ct=(Ct=Z(Ct|=0,g[ht]))+C|0,b=C,C=f,f=Z(_,10),_=D,D=Ct,Ct=K+Q[lt+v[ht]]|0,Ct+=ht<16?$(U,W,st)+u[0]:ht<32?R(U,W,st)+u[1]:ht<48?G(U,W,st)+u[2]:ht<64?V(U,W,st)+u[3]:O(U,W,st)+u[4],Ct=(Ct=Z(Ct|=0,w[ht]))+ct|0,K=ct,ct=st,st=Z(W,10),W=U,U=Ct;Ct=gt[1]+_+st|0,gt[1]=gt[2]+f+ct|0,gt[2]=gt[3]+C+K|0,gt[3]=gt[4]+b+U|0,gt[4]=gt[0]+D+W|0,gt[0]=Ct},_doFinalize:function(){var Q=this._data,lt=Q.words,ht=8*this._nDataBytes,mt=8*Q.sigBytes;lt[mt>>>5]|=128<<24-mt%32,lt[14+(mt+64>>>9<<4)]=16711935&(ht<<8|ht>>>24)|4278255360&(ht<<24|ht>>>8),Q.sigBytes=4*(lt.length+1),this._process();for(var dt=this._hash,gt=dt.words,k=0;k<5;k++){var u=gt[k];gt[k]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return dt},clone:function(){var Q=j.clone.call(this);return Q._hash=this._hash.clone(),Q}});function O(Q,lt,ht){return Q^lt^ht}function V(Q,lt,ht){return Q&lt|~Q&ht}function G(Q,lt,ht){return(Q|~lt)^ht}function R(Q,lt,ht){return Q&ht|lt&~ht}function $(Q,lt,ht){return Q^(lt|~ht)}function Z(Q,lt){return Q<<lt|Q>>>32-lt}et.RIPEMD160=j._createHelper(F),et.HmacRIPEMD160=j._createHmacHelper(F)}(Math),yt.RIPEMD160)},5463:function(Yt,q,vt){var xt,et,it,M,H,X,yt;Yt.exports=(yt=vt(1357),it=(et=(xt=yt).lib).WordArray,H=[],X=xt.algo.SHA1=(M=et.Hasher).extend({_doReset:function(){this._hash=new it.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(z,B){for(var I=this._hash.words,Y=I[0],T=I[1],F=I[2],O=I[3],V=I[4],G=0;G<80;G++){if(G<16)H[G]=0|z[B+G];else{var R=H[G-3]^H[G-8]^H[G-14]^H[G-16];H[G]=R<<1|R>>>31}var $=(Y<<5|Y>>>27)+V+H[G];$+=G<20?1518500249+(T&F|~T&O):G<40?1859775393+(T^F^O):G<60?(T&F|T&O|F&O)-1894007588:(T^F^O)-899497514,V=O,O=F,F=T<<30|T>>>2,T=Y,Y=$}I[0]=I[0]+Y|0,I[1]=I[1]+T|0,I[2]=I[2]+F|0,I[3]=I[3]+O|0,I[4]=I[4]+V|0},_doFinalize:function(){var z=this._data,B=z.words,I=8*this._nDataBytes,Y=8*z.sigBytes;return B[Y>>>5]|=128<<24-Y%32,B[14+(Y+64>>>9<<4)]=Math.floor(I/4294967296),B[15+(Y+64>>>9<<4)]=I,z.sigBytes=4*B.length,this._process(),this._hash},clone:function(){var z=M.clone.call(this);return z._hash=this._hash.clone(),z}}),xt.SHA1=M._createHelper(X),xt.HmacSHA1=M._createHmacHelper(X),yt.SHA1)},4511:function(Yt,q,vt){var xt,it,M,j,H,yt;Yt.exports=(yt=vt(1357),vt(8894),it=(xt=yt).lib.WordArray,H=(M=xt.algo).SHA224=(j=M.SHA256).extend({_doReset:function(){this._hash=new it.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var X=j._doFinalize.call(this);return X.sigBytes-=4,X}}),xt.SHA224=j._createHelper(H),xt.HmacSHA224=j._createHmacHelper(H),yt.SHA224)},8894:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),function(xt){var et=yt,it=et.lib,M=it.WordArray,j=it.Hasher,H=et.algo,X=[],z=[];!function(){function Y(V){for(var G=xt.sqrt(V),R=2;R<=G;R++)if(!(V%R))return!1;return!0}function T(V){return 4294967296*(V-(0|V))|0}for(var F=2,O=0;O<64;)Y(F)&&(O<8&&(X[O]=T(xt.pow(F,.5))),z[O]=T(xt.pow(F,1/3)),O++),F++}();var B=[],I=H.SHA256=j.extend({_doReset:function(){this._hash=new M.init(X.slice(0))},_doProcessBlock:function(Y,T){for(var F=this._hash.words,O=F[0],V=F[1],G=F[2],R=F[3],$=F[4],Z=F[5],Q=F[6],lt=F[7],ht=0;ht<64;ht++){if(ht<16)B[ht]=0|Y[T+ht];else{var mt=B[ht-15],gt=B[ht-2];B[ht]=((mt<<25|mt>>>7)^(mt<<14|mt>>>18)^mt>>>3)+B[ht-7]+((gt<<15|gt>>>17)^(gt<<13|gt>>>19)^gt>>>10)+B[ht-16]}var p=O&V^O&G^V&G,w=lt+(($<<26|$>>>6)^($<<21|$>>>11)^($<<7|$>>>25))+($&Z^~$&Q)+z[ht]+B[ht];lt=Q,Q=Z,Z=$,$=R+w|0,R=G,G=V,V=O,O=w+(((O<<30|O>>>2)^(O<<19|O>>>13)^(O<<10|O>>>22))+p)|0}F[0]=F[0]+O|0,F[1]=F[1]+V|0,F[2]=F[2]+G|0,F[3]=F[3]+R|0,F[4]=F[4]+$|0,F[5]=F[5]+Z|0,F[6]=F[6]+Q|0,F[7]=F[7]+lt|0},_doFinalize:function(){var Y=this._data,T=Y.words,F=8*this._nDataBytes,O=8*Y.sigBytes;return T[O>>>5]|=128<<24-O%32,T[14+(O+64>>>9<<4)]=xt.floor(F/4294967296),T[15+(O+64>>>9<<4)]=F,Y.sigBytes=4*T.length,this._process(),this._hash},clone:function(){var Y=j.clone.call(this);return Y._hash=this._hash.clone(),Y}});et.SHA256=j._createHelper(I),et.HmacSHA256=j._createHmacHelper(I)}(Math),yt.SHA256)},1485:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(1514),function(xt){var et=yt,it=et.lib,M=it.WordArray,j=it.Hasher,X=et.x64.Word,z=et.algo,B=[],I=[],Y=[];!function(){for(var O=1,V=0,G=0;G<24;G++){B[O+5*V]=(G+1)*(G+2)/2%64;var $=(2*O+3*V)%5;O=V%5,V=$}for(O=0;O<5;O++)for(V=0;V<5;V++)I[O+5*V]=V+(2*O+3*V)%5*5;for(var Z=1,Q=0;Q<24;Q++){for(var lt=0,ht=0,mt=0;mt<7;mt++){if(1&Z){var dt=(1<<mt)-1;dt<32?ht^=1<<dt:lt^=1<<dt-32}128&Z?Z=Z<<1^113:Z<<=1}Y[Q]=X.create(lt,ht)}}();var T=[];!function(){for(var O=0;O<25;O++)T[O]=X.create()}();var F=z.SHA3=j.extend({cfg:j.cfg.extend({outputLength:512}),_doReset:function(){for(var O=this._state=[],V=0;V<25;V++)O[V]=new X.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(O,V){for(var G=this._state,R=this.blockSize/2,$=0;$<R;$++){var Z=O[V+2*$],Q=O[V+2*$+1];Z=16711935&(Z<<8|Z>>>24)|4278255360&(Z<<24|Z>>>8),(lt=G[$]).high^=Q=16711935&(Q<<8|Q>>>24)|4278255360&(Q<<24|Q>>>8),lt.low^=Z}for(var ht=0;ht<24;ht++){for(var mt=0;mt<5;mt++){for(var dt=0,gt=0,k=0;k<5;k++)dt^=(lt=G[mt+5*k]).high,gt^=lt.low;var u=T[mt];u.high=dt,u.low=gt}for(mt=0;mt<5;mt++){var p=T[(mt+4)%5],v=T[(mt+1)%5],g=v.high,w=v.low;for(dt=p.high^(g<<1|w>>>31),gt=p.low^(w<<1|g>>>31),k=0;k<5;k++)(lt=G[mt+5*k]).high^=dt,lt.low^=gt}for(var b=1;b<25;b++){var D=(lt=G[b]).high,_=lt.low,f=B[b];f<32?(dt=D<<f|_>>>32-f,gt=_<<f|D>>>32-f):(dt=_<<f-32|D>>>64-f,gt=D<<f-32|_>>>64-f);var C=T[I[b]];C.high=dt,C.low=gt}var K=T[0],U=G[0];for(K.high=U.high,K.low=U.low,mt=0;mt<5;mt++)for(k=0;k<5;k++){var W=T[b=mt+5*k],st=T[(mt+1)%5+5*k],ct=T[(mt+2)%5+5*k];(lt=G[b]).high=W.high^~st.high&ct.high,lt.low=W.low^~st.low&ct.low}var lt,Ct=Y[ht];(lt=G[0]).high^=Ct.high,lt.low^=Ct.low}},_doFinalize:function(){var O=this._data,V=O.words,R=8*O.sigBytes,$=32*this.blockSize;V[R>>>5]|=1<<24-R%32,V[(xt.ceil((R+1)/$)*$>>>5)-1]|=128,O.sigBytes=4*V.length,this._process();for(var Z=this._state,Q=this.cfg.outputLength/8,lt=Q/8,ht=[],mt=0;mt<lt;mt++){var dt=Z[mt],gt=dt.high,k=dt.low;gt=16711935&(gt<<8|gt>>>24)|4278255360&(gt<<24|gt>>>8),ht.push(k=16711935&(k<<8|k>>>24)|4278255360&(k<<24|k>>>8)),ht.push(gt)}return new M.init(ht,Q)},clone:function(){for(var O=j.clone.call(this),V=O._state=this._state.slice(0),G=0;G<25;G++)V[G]=V[G].clone();return O}});et.SHA3=j._createHelper(F),et.HmacSHA3=j._createHmacHelper(F)}(Math),yt.SHA3)},5013:function(Yt,q,vt){var xt,et,it,M,j,H,X,yt;Yt.exports=(yt=vt(1357),vt(1514),vt(7055),it=(et=(xt=yt).x64).Word,M=et.WordArray,X=(j=xt.algo).SHA384=(H=j.SHA512).extend({_doReset:function(){this._hash=new M.init([new it.init(3418070365,3238371032),new it.init(1654270250,914150663),new it.init(2438529370,812702999),new it.init(355462360,4144912697),new it.init(1731405415,4290775857),new it.init(2394180231,1750603025),new it.init(3675008525,1694076839),new it.init(1203062813,3204075428)])},_doFinalize:function(){var z=H._doFinalize.call(this);return z.sigBytes-=16,z}}),xt.SHA384=H._createHelper(X),xt.HmacSHA384=H._createHmacHelper(X),yt.SHA384)},7055:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(1514),function(){var xt=yt,it=xt.lib.Hasher,M=xt.x64,j=M.Word,H=M.WordArray,X=xt.algo;function z(){return j.create.apply(j,arguments)}var B=[z(1116352408,3609767458),z(1899447441,602891725),z(3049323471,3964484399),z(3921009573,2173295548),z(961987163,4081628472),z(1508970993,3053834265),z(2453635748,2937671579),z(2870763221,3664609560),z(3624381080,2734883394),z(310598401,1164996542),z(607225278,1323610764),z(1426881987,3590304994),z(1925078388,4068182383),z(2162078206,991336113),z(2614888103,633803317),z(3248222580,3479774868),z(3835390401,2666613458),z(4022224774,944711139),z(264347078,2341262773),z(604807628,2007800933),z(770255983,1495990901),z(1249150122,1856431235),z(1555081692,3175218132),z(1996064986,2198950837),z(2554220882,3999719339),z(2821834349,766784016),z(2952996808,2566594879),z(3210313671,3203337956),z(3336571891,1034457026),z(3584528711,2466948901),z(113926993,3758326383),z(338241895,168717936),z(666307205,1188179964),z(773529912,1546045734),z(1294757372,1522805485),z(1396182291,2643833823),z(1695183700,2343527390),z(1986661051,1014477480),z(2177026350,1206759142),z(2456956037,344077627),z(2730485921,1290863460),z(2820302411,3158454273),z(3259730800,3505952657),z(3345764771,106217008),z(3516065817,3606008344),z(3600352804,1432725776),z(4094571909,1467031594),z(275423344,851169720),z(430227734,3100823752),z(506948616,1363258195),z(659060556,3750685593),z(883997877,3785050280),z(958139571,3318307427),z(1322822218,3812723403),z(1537002063,2003034995),z(1747873779,3602036899),z(1955562222,1575990012),z(2024104815,1125592928),z(2227730452,2716904306),z(2361852424,442776044),z(2428436474,593698344),z(2756734187,3733110249),z(3204031479,2999351573),z(3329325298,3815920427),z(3391569614,3928383900),z(3515267271,566280711),z(3940187606,3454069534),z(4118630271,4000239992),z(116418474,1914138554),z(174292421,2731055270),z(289380356,3203993006),z(460393269,320620315),z(685471733,587496836),z(852142971,1086792851),z(1017036298,365543100),z(1126000580,2618297676),z(1288033470,3409855158),z(1501505948,4234509866),z(1607167915,987167468),z(1816402316,1246189591)],I=[];!function(){for(var T=0;T<80;T++)I[T]=z()}();var Y=X.SHA512=it.extend({_doReset:function(){this._hash=new H.init([new j.init(1779033703,4089235720),new j.init(3144134277,2227873595),new j.init(1013904242,4271175723),new j.init(2773480762,1595750129),new j.init(1359893119,2917565137),new j.init(2600822924,725511199),new j.init(528734635,4215389547),new j.init(1541459225,327033209)])},_doProcessBlock:function(T,F){for(var O=this._hash.words,V=O[0],G=O[1],R=O[2],$=O[3],Z=O[4],Q=O[5],lt=O[6],ht=O[7],mt=V.high,dt=V.low,gt=G.high,k=G.low,u=R.high,p=R.low,v=$.high,g=$.low,w=Z.high,b=Z.low,D=Q.high,_=Q.low,f=lt.high,C=lt.low,K=ht.high,U=ht.low,W=mt,st=dt,ct=gt,Ct=k,kt=u,wt=p,ut=v,Ot=g,bt=w,pt=b,Dt=D,Rt=_,St=f,te=C,At=K,Kt=U,Oe=0;Oe<80;Oe++){var Jt,$t,he=I[Oe];if(Oe<16)$t=he.high=0|T[F+2*Oe],Jt=he.low=0|T[F+2*Oe+1];else{var Tt=I[Oe-15],Bt=Tt.high,le=Tt.low,ot=(le>>>1|Bt<<31)^(le>>>8|Bt<<24)^(le>>>7|Bt<<25),J=I[Oe-2],Nt=J.high,Gt=J.low,qt=(Gt>>>19|Nt<<13)^(Gt<<3|Nt>>>29)^(Gt>>>6|Nt<<26),ae=I[Oe-7],xe=I[Oe-16],Ne=xe.low;he.high=$t=($t=($t=((Bt>>>1|le<<31)^(Bt>>>8|le<<24)^Bt>>>7)+ae.high+((Jt=ot+ae.low)>>>0<ot>>>0?1:0))+((Nt>>>19|Gt<<13)^(Nt<<3|Gt>>>29)^Nt>>>6)+((Jt+=qt)>>>0<qt>>>0?1:0))+xe.high+((Jt+=Ne)>>>0<Ne>>>0?1:0),he.low=Jt}var Ut,Le=bt&Dt^~bt&St,Di=pt&Rt^~pt&te,Ve=W&ct^W&kt^ct&kt,je=(st>>>28|W<<4)^(st<<30|W>>>2)^(st<<25|W>>>7),re=B[Oe],ne=re.low,ee=At+((bt>>>14|pt<<18)^(bt>>>18|pt<<14)^(bt<<23|pt>>>9))+((Ut=Kt+((pt>>>14|bt<<18)^(pt>>>18|bt<<14)^(pt<<23|bt>>>9)))>>>0<Kt>>>0?1:0),ye=je+(st&Ct^st&wt^Ct&wt);At=St,Kt=te,St=Dt,te=Rt,Dt=bt,Rt=pt,bt=ut+(ee=(ee=(ee=ee+Le+((Ut+=Di)>>>0<Di>>>0?1:0))+re.high+((Ut+=ne)>>>0<ne>>>0?1:0))+$t+((Ut+=Jt)>>>0<Jt>>>0?1:0))+((pt=Ot+Ut|0)>>>0<Ot>>>0?1:0)|0,ut=kt,Ot=wt,kt=ct,wt=Ct,ct=W,Ct=st,W=ee+(((W>>>28|st<<4)^(W<<30|st>>>2)^(W<<25|st>>>7))+Ve+(ye>>>0<je>>>0?1:0))+((st=Ut+ye|0)>>>0<Ut>>>0?1:0)|0}dt=V.low=dt+st,V.high=mt+W+(dt>>>0<st>>>0?1:0),k=G.low=k+Ct,G.high=gt+ct+(k>>>0<Ct>>>0?1:0),p=R.low=p+wt,R.high=u+kt+(p>>>0<wt>>>0?1:0),g=$.low=g+Ot,$.high=v+ut+(g>>>0<Ot>>>0?1:0),b=Z.low=b+pt,Z.high=w+bt+(b>>>0<pt>>>0?1:0),_=Q.low=_+Rt,Q.high=D+Dt+(_>>>0<Rt>>>0?1:0),C=lt.low=C+te,lt.high=f+St+(C>>>0<te>>>0?1:0),U=ht.low=U+Kt,ht.high=K+At+(U>>>0<Kt>>>0?1:0)},_doFinalize:function(){var T=this._data,F=T.words,O=8*this._nDataBytes,V=8*T.sigBytes;return F[V>>>5]|=128<<24-V%32,F[30+(V+128>>>10<<5)]=Math.floor(O/4294967296),F[31+(V+128>>>10<<5)]=O,T.sigBytes=4*F.length,this._process(),this._hash.toX32()},clone:function(){var T=it.clone.call(this);return T._hash=this._hash.clone(),T},blockSize:32});xt.SHA512=it._createHelper(Y),xt.HmacSHA512=it._createHmacHelper(Y)}(),yt.SHA512)},6707:function(Yt,q,vt){var yt;Yt.exports=(yt=vt(1357),vt(8911),vt(8474),vt(7916),vt(811),function(){var xt=yt,et=xt.lib,it=et.WordArray,M=et.BlockCipher,j=xt.algo,H=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],X=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],z=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],B=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],I=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],Y=j.DES=M.extend({_doReset:function(){for(var G=this._key.words,R=[],$=0;$<56;$++){var Z=H[$]-1;R[$]=G[Z>>>5]>>>31-Z%32&1}for(var Q=this._subKeys=[],lt=0;lt<16;lt++){var ht=Q[lt]=[],mt=z[lt];for($=0;$<24;$++)ht[$/6|0]|=R[(X[$]-1+mt)%28]<<31-$%6,ht[4+($/6|0)]|=R[28+(X[$+24]-1+mt)%28]<<31-$%6;for(ht[0]=ht[0]<<1|ht[0]>>>31,$=1;$<7;$++)ht[$]=ht[$]>>>4*($-1)+3;ht[7]=ht[7]<<5|ht[7]>>>27}var dt=this._invSubKeys=[];for($=0;$<16;$++)dt[$]=Q[15-$]},encryptBlock:function(V,G){this._doCryptBlock(V,G,this._subKeys)},decryptBlock:function(V,G){this._doCryptBlock(V,G,this._invSubKeys)},_doCryptBlock:function(V,G,R){this._lBlock=V[G],this._rBlock=V[G+1],T.call(this,4,252645135),T.call(this,16,65535),F.call(this,2,858993459),F.call(this,8,16711935),T.call(this,1,1431655765);for(var $=0;$<16;$++){for(var Z=R[$],Q=this._lBlock,lt=this._rBlock,ht=0,mt=0;mt<8;mt++)ht|=B[mt][((lt^Z[mt])&I[mt])>>>0];this._lBlock=lt,this._rBlock=Q^ht}var dt=this._lBlock;this._lBlock=this._rBlock,this._rBlock=dt,T.call(this,1,1431655765),F.call(this,8,16711935),F.call(this,2,858993459),T.call(this,16,65535),T.call(this,4,252645135),V[G]=this._lBlock,V[G+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function T(V,G){var R=(this._lBlock>>>V^this._rBlock)&G;this._rBlock^=R,this._lBlock^=R<<V}function F(V,G){var R=(this._rBlock>>>V^this._lBlock)&G;this._lBlock^=R,this._rBlock^=R<<V}xt.DES=M._createHelper(Y);var O=j.TripleDES=M.extend({_doReset:function(){var G=this._key.words;if(2!==G.length&&4!==G.length&&G.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var R=G.slice(0,2),$=G.length<4?G.slice(0,2):G.slice(2,4),Z=G.length<6?G.slice(0,2):G.slice(4,6);this._des1=Y.createEncryptor(it.create(R)),this._des2=Y.createEncryptor(it.create($)),this._des3=Y.createEncryptor(it.create(Z))},encryptBlock:function(V,G){this._des1.encryptBlock(V,G),this._des2.decryptBlock(V,G),this._des3.encryptBlock(V,G)},decryptBlock:function(V,G){this._des3.decryptBlock(V,G),this._des2.encryptBlock(V,G),this._des1.decryptBlock(V,G)},keySize:6,ivSize:2,blockSize:2});xt.TripleDES=M._createHelper(O)}(),yt.TripleDES)},1514:function(Yt,q,vt){var it,M,j,H,yt;Yt.exports=(yt=vt(1357),M=(it=yt.lib).Base,j=it.WordArray,(H=yt.x64={}).Word=M.extend({init:function(B,I){this.high=B,this.low=I}}),H.WordArray=M.extend({init:function(B,I){B=this.words=B||[],this.sigBytes=null!=I?I:8*B.length},toX32:function(){for(var B=this.words,I=B.length,Y=[],T=0;T<I;T++){var F=B[T];Y.push(F.high),Y.push(F.low)}return j.create(Y,this.sigBytes)},clone:function(){for(var B=M.clone.call(this),I=B.words=this.words.slice(0),Y=I.length,T=0;T<Y;T++)I[T]=I[T].clone();return B}}),yt)},1511:(Yt,q,vt)=>{"use strict";q.utils=vt(5835),q.Cipher=vt(88),q.DES=vt(7630),q.CBC=vt(9220),q.EDE=vt(9339)},9220:(Yt,q,vt)=>{"use strict";var yt=vt(4725),xt=vt(3516),et={};function it(j){yt.equal(j.length,8,"Invalid IV length"),this.iv=new Array(8);for(var H=0;H<this.iv.length;H++)this.iv[H]=j[H]}q.instantiate=function(j){function H(I){j.call(this,I),this._cbcInit()}xt(H,j);for(var X=Object.keys(et),z=0;z<X.length;z++){var B=X[z];H.prototype[B]=et[B]}return H.create=function(Y){return new H(Y)},H},et._cbcInit=function(){var H=new it(this.options.iv);this._cbcState=H},et._update=function(H,X,z,B){var Y=this.constructor.super_.prototype,T=this._cbcState.iv;if("encrypt"===this.type){for(var F=0;F<this.blockSize;F++)T[F]^=H[X+F];for(Y._update.call(this,T,0,z,B),F=0;F<this.blockSize;F++)T[F]=z[B+F]}else{for(Y._update.call(this,H,X,z,B),F=0;F<this.blockSize;F++)z[B+F]^=T[F];for(F=0;F<this.blockSize;F++)T[F]=H[X+F]}}},88:(Yt,q,vt)=>{"use strict";var yt=vt(4725);function xt(et){this.options=et,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}Yt.exports=xt,xt.prototype._init=function(){},xt.prototype.update=function(it){return 0===it.length?[]:"decrypt"===this.type?this._updateDecrypt(it):this._updateEncrypt(it)},xt.prototype._buffer=function(it,M){for(var j=Math.min(this.buffer.length-this.bufferOff,it.length-M),H=0;H<j;H++)this.buffer[this.bufferOff+H]=it[M+H];return this.bufferOff+=j,j},xt.prototype._flushBuffer=function(it,M){return this._update(this.buffer,0,it,M),this.bufferOff=0,this.blockSize},xt.prototype._updateEncrypt=function(it){var M=0,j=0,X=new Array(((this.bufferOff+it.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(M+=this._buffer(it,M),this.bufferOff===this.buffer.length&&(j+=this._flushBuffer(X,j)));for(var z=it.length-(it.length-M)%this.blockSize;M<z;M+=this.blockSize)this._update(it,M,X,j),j+=this.blockSize;for(;M<it.length;M++,this.bufferOff++)this.buffer[this.bufferOff]=it[M];return X},xt.prototype._updateDecrypt=function(it){for(var M=0,j=0,H=Math.ceil((this.bufferOff+it.length)/this.blockSize)-1,X=new Array(H*this.blockSize);H>0;H--)M+=this._buffer(it,M),j+=this._flushBuffer(X,j);return M+=this._buffer(it,M),X},xt.prototype.final=function(it){var M,j;return it&&(M=this.update(it)),j="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),M?M.concat(j):j},xt.prototype._pad=function(it,M){if(0===M)return!1;for(;M<it.length;)it[M++]=0;return!0},xt.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var it=new Array(this.blockSize);return this._update(this.buffer,0,it,0),it},xt.prototype._unpad=function(it){return it},xt.prototype._finalDecrypt=function(){yt.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var it=new Array(this.blockSize);return this._flushBuffer(it,0),this._unpad(it)}},7630:(Yt,q,vt)=>{"use strict";var yt=vt(4725),xt=vt(3516),et=vt(5835),it=vt(88);function M(){this.tmp=new Array(2),this.keys=null}function j(X){it.call(this,X);var z=new M;this._desState=z,this.deriveKeys(z,X.key)}xt(j,it),Yt.exports=j,j.create=function(z){return new j(z)};var H=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];j.prototype.deriveKeys=function(z,B){z.keys=new Array(32),yt.equal(B.length,this.blockSize,"Invalid key length");var I=et.readUInt32BE(B,0),Y=et.readUInt32BE(B,4);et.pc1(I,Y,z.tmp,0),I=z.tmp[0],Y=z.tmp[1];for(var T=0;T<z.keys.length;T+=2){var F=H[T>>>1];I=et.r28shl(I,F),Y=et.r28shl(Y,F),et.pc2(I,Y,z.keys,T)}},j.prototype._update=function(z,B,I,Y){var T=this._desState,F=et.readUInt32BE(z,B),O=et.readUInt32BE(z,B+4);et.ip(F,O,T.tmp,0),F=T.tmp[0],O=T.tmp[1],"encrypt"===this.type?this._encrypt(T,F,O,T.tmp,0):this._decrypt(T,F,O,T.tmp,0),O=T.tmp[1],et.writeUInt32BE(I,F=T.tmp[0],Y),et.writeUInt32BE(I,O,Y+4)},j.prototype._pad=function(z,B){for(var I=z.length-B,Y=B;Y<z.length;Y++)z[Y]=I;return!0},j.prototype._unpad=function(z){for(var B=z[z.length-1],I=z.length-B;I<z.length;I++)yt.equal(z[I],B);return z.slice(0,z.length-B)},j.prototype._encrypt=function(z,B,I,Y,T){for(var F=B,O=I,V=0;V<z.keys.length;V+=2){var G=z.keys[V],R=z.keys[V+1];et.expand(O,z.tmp,0);var $=et.substitute(G^=z.tmp[0],R^=z.tmp[1]),Q=O;O=(F^et.permute($))>>>0,F=Q}et.rip(O,F,Y,T)},j.prototype._decrypt=function(z,B,I,Y,T){for(var F=I,O=B,V=z.keys.length-2;V>=0;V-=2){var G=z.keys[V],R=z.keys[V+1];et.expand(F,z.tmp,0);var $=et.substitute(G^=z.tmp[0],R^=z.tmp[1]),Q=F;F=(O^et.permute($))>>>0,O=Q}et.rip(F,O,Y,T)}},9339:(Yt,q,vt)=>{"use strict";var yt=vt(4725),xt=vt(3516),et=vt(88),it=vt(7630);function M(H,X){yt.equal(X.length,24,"Invalid key length");var z=X.slice(0,8),B=X.slice(8,16),I=X.slice(16,24);this.ciphers="encrypt"===H?[it.create({type:"encrypt",key:z}),it.create({type:"decrypt",key:B}),it.create({type:"encrypt",key:I})]:[it.create({type:"decrypt",key:I}),it.create({type:"encrypt",key:B}),it.create({type:"decrypt",key:z})]}function j(H){et.call(this,H);var X=new M(this.type,this.options.key);this._edeState=X}xt(j,et),Yt.exports=j,j.create=function(X){return new j(X)},j.prototype._update=function(X,z,B,I){var Y=this._edeState;Y.ciphers[0]._update(X,z,B,I),Y.ciphers[1]._update(B,I,B,I),Y.ciphers[2]._update(B,I,B,I)},j.prototype._pad=it.prototype._pad,j.prototype._unpad=it.prototype._unpad},5835:(Yt,q)=>{"use strict";q.readUInt32BE=function(it,M){return(it[0+M]<<24|it[1+M]<<16|it[2+M]<<8|it[3+M])>>>0},q.writeUInt32BE=function(it,M,j){it[0+j]=M>>>24,it[1+j]=M>>>16&255,it[2+j]=M>>>8&255,it[3+j]=255&M},q.ip=function(it,M,j,H){for(var X=0,z=0,B=6;B>=0;B-=2){for(var I=0;I<=24;I+=8)X<<=1,X|=M>>>I+B&1;for(I=0;I<=24;I+=8)X<<=1,X|=it>>>I+B&1}for(B=6;B>=0;B-=2){for(I=1;I<=25;I+=8)z<<=1,z|=M>>>I+B&1;for(I=1;I<=25;I+=8)z<<=1,z|=it>>>I+B&1}j[H+0]=X>>>0,j[H+1]=z>>>0},q.rip=function(it,M,j,H){for(var X=0,z=0,B=0;B<4;B++)for(var I=24;I>=0;I-=8)X<<=1,X|=M>>>I+B&1,X<<=1,X|=it>>>I+B&1;for(B=4;B<8;B++)for(I=24;I>=0;I-=8)z<<=1,z|=M>>>I+B&1,z<<=1,z|=it>>>I+B&1;j[H+0]=X>>>0,j[H+1]=z>>>0},q.pc1=function(it,M,j,H){for(var X=0,z=0,B=7;B>=5;B--){for(var I=0;I<=24;I+=8)X<<=1,X|=M>>I+B&1;for(I=0;I<=24;I+=8)X<<=1,X|=it>>I+B&1}for(I=0;I<=24;I+=8)X<<=1,X|=M>>I+B&1;for(B=1;B<=3;B++){for(I=0;I<=24;I+=8)z<<=1,z|=M>>I+B&1;for(I=0;I<=24;I+=8)z<<=1,z|=it>>I+B&1}for(I=0;I<=24;I+=8)z<<=1,z|=it>>I+B&1;j[H+0]=X>>>0,j[H+1]=z>>>0},q.r28shl=function(it,M){return it<<M&268435455|it>>>28-M};var vt=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];q.pc2=function(it,M,j,H){for(var X=0,z=0,B=vt.length>>>1,I=0;I<B;I++)X<<=1,X|=it>>>vt[I]&1;for(I=B;I<vt.length;I++)z<<=1,z|=M>>>vt[I]&1;j[H+0]=X>>>0,j[H+1]=z>>>0},q.expand=function(it,M,j){var H=0,X=0;H=(1&it)<<5|it>>>27;for(var z=23;z>=15;z-=4)H<<=6,H|=it>>>z&63;for(z=11;z>=3;z-=4)X|=it>>>z&63,X<<=6;X|=(31&it)<<1|it>>>31,M[j+0]=H>>>0,M[j+1]=X>>>0};var yt=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];q.substitute=function(it,M){for(var j=0,H=0;H<4;H++)j<<=4,j|=yt[64*H+(it>>>18-6*H&63)];for(H=0;H<4;H++)j<<=4,j|=yt[256+64*H+(M>>>18-6*H&63)];return j>>>0};var xt=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];q.permute=function(it){for(var M=0,j=0;j<xt.length;j++)M<<=1,M|=it>>>xt[j]&1;return M>>>0},q.padSplit=function(it,M,j){for(var H=it.toString(2);H.length<M;)H="0"+H;for(var X=[],z=0;z<M;z+=j)X.push(H.slice(z,z+j));return X.join(" ")}},1198:(Yt,q,vt)=>{var yt=vt(6281),xt=vt(9799),et=vt(2838),M={binary:!0,hex:!0,base64:!0};q.DiffieHellmanGroup=q.createDiffieHellmanGroup=q.getDiffieHellman=function(H){var X=new Buffer(xt[H].prime,"hex"),z=new Buffer(xt[H].gen,"hex");return new et(X,z)},q.createDiffieHellman=q.DiffieHellman=function j(H,X,z,B){return Buffer.isBuffer(X)||void 0===M[X]?j(H,"binary",X,z):(X=X||"binary",B=B||"binary",z=z||new Buffer([2]),Buffer.isBuffer(z)||(z=new Buffer(z,B)),"number"==typeof H?new et(yt(H,z),z,!0):(Buffer.isBuffer(H)||(H=new Buffer(H,X)),new et(H,z,!0)))}},2838:(Yt,q,vt)=>{var yt=vt(9723),et=new(vt(2098)),it=new yt(24),M=new yt(11),j=new yt(10),H=new yt(3),X=new yt(7),z=vt(6281),B=vt(8747);function I(G,R){return R=R||"utf8",Buffer.isBuffer(G)||(G=new Buffer(G,R)),this._pub=new yt(G),this}function Y(G,R){return R=R||"utf8",Buffer.isBuffer(G)||(G=new Buffer(G,R)),this._priv=new yt(G),this}Yt.exports=O;var T={};function O(G,R,$){this.setGenerator(R),this.__prime=new yt(G),this._prime=yt.mont(this.__prime),this._primeLen=G.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,$?(this.setPublicKey=I,this.setPrivateKey=Y):this._primeCode=8}function V(G,R){var $=new Buffer(G.toArray());return R?$.toString(R):$}Object.defineProperty(O.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(G,R){var $=R.toString("hex"),Z=[$,G.toString(16)].join("_");if(Z in T)return T[Z];var lt,Q=0;if(G.isEven()||!z.simpleSieve||!z.fermatTest(G)||!et.test(G))return Q+=1,T[Z]=Q+="02"===$||"05"===$?8:4,Q;switch(et.test(G.shrn(1))||(Q+=2),$){case"02":G.mod(it).cmp(M)&&(Q+=8);break;case"05":(lt=G.mod(j)).cmp(H)&&lt.cmp(X)&&(Q+=8);break;default:Q+=4}return T[Z]=Q,Q}(this.__prime,this.__gen)),this._primeCode}}),O.prototype.generateKeys=function(){return this._priv||(this._priv=new yt(B(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},O.prototype.computeSecret=function(G){var R=(G=(G=new yt(G)).toRed(this._prime)).redPow(this._priv).fromRed(),$=new Buffer(R.toArray()),Z=this.getPrime();if($.length<Z.length){var Q=new Buffer(Z.length-$.length);Q.fill(0),$=Buffer.concat([Q,$])}return $},O.prototype.getPublicKey=function(R){return V(this._pub,R)},O.prototype.getPrivateKey=function(R){return V(this._priv,R)},O.prototype.getPrime=function(G){return V(this.__prime,G)},O.prototype.getGenerator=function(G){return V(this._gen,G)},O.prototype.setGenerator=function(G,R){return R=R||"utf8",Buffer.isBuffer(G)||(G=new Buffer(G,R)),this.__gen=G,this._gen=new yt(G),this}},6281:(Yt,q,vt)=>{var yt=vt(8747);Yt.exports=Q,Q.simpleSieve=$,Q.fermatTest=Z;var xt=vt(9723),et=new xt(24),M=new(vt(2098)),j=new xt(1),H=new xt(2),X=new xt(5),I=(new xt(16),new xt(8),new xt(10)),Y=new xt(3),F=(new xt(7),new xt(11)),O=new xt(4),G=(new xt(12),null);function $(lt){for(var ht=function(){if(null!==G)return G;var ht=[];ht[0]=2;for(var mt=1,dt=3;dt<1048576;dt+=2){for(var gt=Math.ceil(Math.sqrt(dt)),k=0;k<mt&&ht[k]<=gt&&dt%ht[k]!=0;k++);mt!==k&&ht[k]<=gt||(ht[mt++]=dt)}return G=ht,ht}(),mt=0;mt<ht.length;mt++)if(0===lt.modn(ht[mt]))return 0===lt.cmpn(ht[mt]);return!0}function Z(lt){var ht=xt.mont(lt);return 0===H.toRed(ht).redPow(lt.subn(1)).fromRed().cmpn(1)}function Q(lt,ht){if(lt<16)return new xt(2===ht||5===ht?[140,123]:[140,39]);ht=new xt(ht);for(var mt,dt;;){for(mt=new xt(yt(Math.ceil(lt/8)));mt.bitLength()>lt;)mt.ishrn(1);if(mt.isEven()&&mt.iadd(j),mt.testn(1)||mt.iadd(H),ht.cmp(H)){if(!ht.cmp(X))for(;mt.mod(I).cmp(Y);)mt.iadd(O)}else for(;mt.mod(et).cmp(F);)mt.iadd(O);if($(dt=mt.shrn(1))&&$(mt)&&Z(dt)&&Z(mt)&&M.test(dt)&&M.test(mt))return mt}}},9723:function(Yt,q,vt){!function(yt,xt){"use strict";function et(k,u){if(!k)throw new Error(u||"Assertion failed")}function it(k,u){k.super_=u;var p=function(){};p.prototype=u.prototype,k.prototype=new p,k.prototype.constructor=k}function M(k,u,p){if(M.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(p=u,u=10),this._init(k||0,u||10,p||"be"))}var j;"object"==typeof yt?yt.exports=M:xt.BN=M,M.BN=M,M.wordSize=26;try{j="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:vt(7748).Buffer}catch(k){}function H(k,u){var p=k.charCodeAt(u);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function X(k,u,p){var v=H(k,p);return p-1>=u&&(v|=H(k,p-1)<<4),v}function z(k,u,p,v){for(var g=0,w=Math.min(k.length,p),b=u;b<w;b++){var D=k.charCodeAt(b)-48;g*=v,g+=D>=49?D-49+10:D>=17?D-17+10:D}return g}M.isBN=function(u){return u instanceof M||null!==u&&"object"==typeof u&&u.constructor.wordSize===M.wordSize&&Array.isArray(u.words)},M.max=function(u,p){return u.cmp(p)>0?u:p},M.min=function(u,p){return u.cmp(p)<0?u:p},M.prototype._init=function(u,p,v){if("number"==typeof u)return this._initNumber(u,p,v);if("object"==typeof u)return this._initArray(u,p,v);"hex"===p&&(p=16),et(p===(0|p)&&p>=2&&p<=36);var g=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<u.length&&(16===p?this._parseHex(u,g,v):(this._parseBase(u,p,g),"le"===v&&this._initArray(this.toArray(),p,v)))},M.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(et(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===v&&this._initArray(this.toArray(),p,v)},M.prototype._initArray=function(u,p,v){if(et("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,b,D=0;if("be"===v)for(g=u.length-1,w=0;g>=0;g-=3)this.words[w]|=(b=u[g]|u[g-1]<<8|u[g-2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);else if("le"===v)for(g=0,w=0;g<u.length;g+=3)this.words[w]|=(b=u[g]|u[g+1]<<8|u[g+2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);return this.strip()},M.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var D,w=0,b=0;if("be"===v)for(g=u.length-1;g>=p;g-=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;else for(g=(u.length-p)%2==0?p+1:p;g<u.length;g+=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;this.strip()},M.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=p)g++;g--,w=w/p|0;for(var b=u.length-v,D=b%g,_=Math.min(b,b-D)+v,f=0,C=v;C<_;C+=g)f=z(u,C,C+g,p),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==D){var K=1;for(f=z(u,C,u.length,p),C=0;C<D;C++)K*=p;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},M.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red},M.prototype.clone=function(){var u=new M(null);return this.copy(u),u},M.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function F(k,u,p){p.negative=u.negative^k.negative;var v=k.length+u.length|0;p.length=v,v=v-1|0;var g=0|k.words[0],w=0|u.words[0],b=g*w,_=b/67108864|0;p.words[0]=67108863&b;for(var f=1;f<v;f++){for(var C=_>>>26,K=67108863&_,U=Math.min(f,u.length-1),W=Math.max(0,f-k.length+1);W<=U;W++)C+=(b=(g=0|k.words[f-W|0])*(w=0|u.words[W])+K)/67108864|0,K=67108863&b;p.words[f]=0|K,_=0|C}return 0!==_?p.words[f]=0|_:p.length--,p.strip()}M.prototype.toString=function(u,p){var v;if(p=0|p||1,16===(u=u||10)||"hex"===u){v="";for(var g=0,w=0,b=0;b<this.length;b++){var D=this.words[b],_=(16777215&(D<<g|w)).toString(16);v=0!=(w=D>>>24-g&16777215)||b!==this.length-1?B[6-_.length]+_+v:_+v,(g+=2)>=26&&(g-=26,b--)}for(0!==w&&(v=w.toString(16)+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}if(u===(0|u)&&u>=2&&u<=36){var f=I[u],C=Y[u];v="";var K=this.clone();for(K.negative=0;!K.isZero();){var U=K.modn(C).toString(u);v=(K=K.idivn(C)).isZero()?U+v:B[f-U.length]+U+v}for(this.isZero()&&(v="0"+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}et(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&et(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(u,p){return et(void 0!==j),this.toArrayLike(j,u,p)},M.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)},M.prototype.toArrayLike=function(u,p,v){var g=this.byteLength(),w=v||Math.max(1,g);et(g<=w,"byte array longer than desired length"),et(w>0,"Requested array length <= 0"),this.strip();var _,f,b="le"===p,D=new u(w),C=this.clone();if(b){for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[f]=_;for(;f<w;f++)D[f]=0}else{for(f=0;f<w-g;f++)D[f]=0;for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[w-f-1]=_}return D},M.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},M.prototype._zeroBits=function(u){if(0===u)return 26;var p=u,v=0;return 0==(8191&p)&&(v+=13,p>>>=13),0==(127&p)&&(v+=7,p>>>=7),0==(15&p)&&(v+=4,p>>>=4),0==(3&p)&&(v+=2,p>>>=2),0==(1&p)&&v++,v},M.prototype.bitLength=function(){var p=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+p},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,26!==v)break}return u},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},M.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this.strip()},M.prototype.ior=function(u){return et(0==(this.negative|u.negative)),this.iuor(u)},M.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},M.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},M.prototype.iuand=function(u){var p;p=this.length>u.length?u:this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this.strip()},M.prototype.iand=function(u){return et(0==(this.negative|u.negative)),this.iuand(u)},M.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},M.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},M.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var g=0;g<v.length;g++)this.words[g]=p.words[g]^v.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this.strip()},M.prototype.ixor=function(u){return et(0==(this.negative|u.negative)),this.iuxor(u)},M.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},M.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},M.prototype.inotn=function(u){et("number"==typeof u&&u>=0);var p=0|Math.ceil(u/26),v=u%26;this._expand(p),v>0&&p--;for(var g=0;g<p;g++)this.words[g]=67108863&~this.words[g];return v>0&&(this.words[g]=~this.words[g]&67108863>>26-v),this.strip()},M.prototype.notn=function(u){return this.clone().inotn(u)},M.prototype.setn=function(u,p){et("number"==typeof u&&u>=0);var v=u/26|0,g=u%26;return this._expand(v+1),this.words[v]=p?this.words[v]|1<<g:this.words[v]&~(1<<g),this.strip()},M.prototype.iadd=function(u){var p,v,g;if(0!==this.negative&&0===u.negative)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();this.length>u.length?(v=this,g=u):(v=u,g=this);for(var w=0,b=0;b<g.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+(0|g.words[b])+w),w=p>>>26;for(;0!==w&&b<v.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+w),w=p>>>26;if(this.length=v.length,0!==w)this.words[this.length]=w,this.length++;else if(v!==this)for(;b<v.length;b++)this.words[b]=v.words[b];return this},M.prototype.add=function(u){var p;return 0!==u.negative&&0===this.negative?(u.negative=0,p=this.sub(u),u.negative^=1,p):0===u.negative&&0!==this.negative?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},M.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g,w,v=this.cmp(u);if(0===v)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(g=this,w=u):(g=u,w=this);for(var b=0,D=0;D<w.length;D++)b=(p=(0|g.words[D])-(0|w.words[D])+b)>>26,this.words[D]=67108863&p;for(;0!==b&&D<g.length;D++)b=(p=(0|g.words[D])+b)>>26,this.words[D]=67108863&p;if(0===b&&D<g.length&&g!==this)for(;D<g.length;D++)this.words[D]=g.words[D];return this.length=Math.max(this.length,D),g!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(u){return this.clone().isub(u)};var O=function(u,p,v){var _,f,C,g=u.words,w=p.words,b=v.words,D=0,K=0|g[0],U=8191&K,W=K>>>13,st=0|g[1],ct=8191&st,Ct=st>>>13,kt=0|g[2],wt=8191&kt,ut=kt>>>13,Ot=0|g[3],bt=8191&Ot,pt=Ot>>>13,Dt=0|g[4],Rt=8191&Dt,St=Dt>>>13,te=0|g[5],At=8191&te,Kt=te>>>13,Oe=0|g[6],Jt=8191&Oe,$t=Oe>>>13,he=0|g[7],Tt=8191&he,Bt=he>>>13,le=0|g[8],Mt=8191&le,ot=le>>>13,J=0|g[9],Nt=8191&J,Gt=J>>>13,ge=0|w[0],qt=8191&ge,ae=ge>>>13,ei=0|w[1],be=8191&ei,xe=ei>>>13,Ke=0|w[2],Ne=8191&Ke,Le=Ke>>>13,Di=0|w[3],Ve=8191&Di,fe=Di>>>13,si=0|w[4],je=8191&si,se=si>>>13,Se=0|w[5],re=8191&Se,jt=Se>>>13,ne=0|w[6],Ut=8191&ne,ee=ne>>>13,ye=0|w[7],Lt=8191&ye,ue=ye>>>13,ni=0|w[8],we=8191&ni,Ae=ni>>>13,Ti=0|w[9],ke=8191&Ti,De=Ti>>>13;v.negative=u.negative^p.negative,v.length=19;var fi=(D+(_=Math.imul(U,qt))|0)+((8191&(f=(f=Math.imul(U,ae))+Math.imul(W,qt)|0))<<13)|0;D=((C=Math.imul(W,ae))+(f>>>13)|0)+(fi>>>26)|0,fi&=67108863,_=Math.imul(ct,qt),f=(f=Math.imul(ct,ae))+Math.imul(Ct,qt)|0,C=Math.imul(Ct,ae);var hi=(D+(_=_+Math.imul(U,be)|0)|0)+((8191&(f=(f=f+Math.imul(U,xe)|0)+Math.imul(W,be)|0))<<13)|0;D=((C=C+Math.imul(W,xe)|0)+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,_=Math.imul(wt,qt),f=(f=Math.imul(wt,ae))+Math.imul(ut,qt)|0,C=Math.imul(ut,ae),_=_+Math.imul(ct,be)|0,f=(f=f+Math.imul(ct,xe)|0)+Math.imul(Ct,be)|0,C=C+Math.imul(Ct,xe)|0;var Pi=(D+(_=_+Math.imul(U,Ne)|0)|0)+((8191&(f=(f=f+Math.imul(U,Le)|0)+Math.imul(W,Ne)|0))<<13)|0;D=((C=C+Math.imul(W,Le)|0)+(f>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,_=Math.imul(bt,qt),f=(f=Math.imul(bt,ae))+Math.imul(pt,qt)|0,C=Math.imul(pt,ae),_=_+Math.imul(wt,be)|0,f=(f=f+Math.imul(wt,xe)|0)+Math.imul(ut,be)|0,C=C+Math.imul(ut,xe)|0,_=_+Math.imul(ct,Ne)|0,f=(f=f+Math.imul(ct,Le)|0)+Math.imul(Ct,Ne)|0,C=C+Math.imul(Ct,Le)|0;var vn=(D+(_=_+Math.imul(U,Ve)|0)|0)+((8191&(f=(f=f+Math.imul(U,fe)|0)+Math.imul(W,Ve)|0))<<13)|0;D=((C=C+Math.imul(W,fe)|0)+(f>>>13)|0)+(vn>>>26)|0,vn&=67108863,_=Math.imul(Rt,qt),f=(f=Math.imul(Rt,ae))+Math.imul(St,qt)|0,C=Math.imul(St,ae),_=_+Math.imul(bt,be)|0,f=(f=f+Math.imul(bt,xe)|0)+Math.imul(pt,be)|0,C=C+Math.imul(pt,xe)|0,_=_+Math.imul(wt,Ne)|0,f=(f=f+Math.imul(wt,Le)|0)+Math.imul(ut,Ne)|0,C=C+Math.imul(ut,Le)|0,_=_+Math.imul(ct,Ve)|0,f=(f=f+Math.imul(ct,fe)|0)+Math.imul(Ct,Ve)|0,C=C+Math.imul(Ct,fe)|0;var ji=(D+(_=_+Math.imul(U,je)|0)|0)+((8191&(f=(f=f+Math.imul(U,se)|0)+Math.imul(W,je)|0))<<13)|0;D=((C=C+Math.imul(W,se)|0)+(f>>>13)|0)+(ji>>>26)|0,ji&=67108863,_=Math.imul(At,qt),f=(f=Math.imul(At,ae))+Math.imul(Kt,qt)|0,C=Math.imul(Kt,ae),_=_+Math.imul(Rt,be)|0,f=(f=f+Math.imul(Rt,xe)|0)+Math.imul(St,be)|0,C=C+Math.imul(St,xe)|0,_=_+Math.imul(bt,Ne)|0,f=(f=f+Math.imul(bt,Le)|0)+Math.imul(pt,Ne)|0,C=C+Math.imul(pt,Le)|0,_=_+Math.imul(wt,Ve)|0,f=(f=f+Math.imul(wt,fe)|0)+Math.imul(ut,Ve)|0,C=C+Math.imul(ut,fe)|0,_=_+Math.imul(ct,je)|0,f=(f=f+Math.imul(ct,se)|0)+Math.imul(Ct,je)|0,C=C+Math.imul(Ct,se)|0;var Ki=(D+(_=_+Math.imul(U,re)|0)|0)+((8191&(f=(f=f+Math.imul(U,jt)|0)+Math.imul(W,re)|0))<<13)|0;D=((C=C+Math.imul(W,jt)|0)+(f>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,_=Math.imul(Jt,qt),f=(f=Math.imul(Jt,ae))+Math.imul($t,qt)|0,C=Math.imul($t,ae),_=_+Math.imul(At,be)|0,f=(f=f+Math.imul(At,xe)|0)+Math.imul(Kt,be)|0,C=C+Math.imul(Kt,xe)|0,_=_+Math.imul(Rt,Ne)|0,f=(f=f+Math.imul(Rt,Le)|0)+Math.imul(St,Ne)|0,C=C+Math.imul(St,Le)|0,_=_+Math.imul(bt,Ve)|0,f=(f=f+Math.imul(bt,fe)|0)+Math.imul(pt,Ve)|0,C=C+Math.imul(pt,fe)|0,_=_+Math.imul(wt,je)|0,f=(f=f+Math.imul(wt,se)|0)+Math.imul(ut,je)|0,C=C+Math.imul(ut,se)|0,_=_+Math.imul(ct,re)|0,f=(f=f+Math.imul(ct,jt)|0)+Math.imul(Ct,re)|0,C=C+Math.imul(Ct,jt)|0;var oi=(D+(_=_+Math.imul(U,Ut)|0)|0)+((8191&(f=(f=f+Math.imul(U,ee)|0)+Math.imul(W,Ut)|0))<<13)|0;D=((C=C+Math.imul(W,ee)|0)+(f>>>13)|0)+(oi>>>26)|0,oi&=67108863,_=Math.imul(Tt,qt),f=(f=Math.imul(Tt,ae))+Math.imul(Bt,qt)|0,C=Math.imul(Bt,ae),_=_+Math.imul(Jt,be)|0,f=(f=f+Math.imul(Jt,xe)|0)+Math.imul($t,be)|0,C=C+Math.imul($t,xe)|0,_=_+Math.imul(At,Ne)|0,f=(f=f+Math.imul(At,Le)|0)+Math.imul(Kt,Ne)|0,C=C+Math.imul(Kt,Le)|0,_=_+Math.imul(Rt,Ve)|0,f=(f=f+Math.imul(Rt,fe)|0)+Math.imul(St,Ve)|0,C=C+Math.imul(St,fe)|0,_=_+Math.imul(bt,je)|0,f=(f=f+Math.imul(bt,se)|0)+Math.imul(pt,je)|0,C=C+Math.imul(pt,se)|0,_=_+Math.imul(wt,re)|0,f=(f=f+Math.imul(wt,jt)|0)+Math.imul(ut,re)|0,C=C+Math.imul(ut,jt)|0,_=_+Math.imul(ct,Ut)|0,f=(f=f+Math.imul(ct,ee)|0)+Math.imul(Ct,Ut)|0,C=C+Math.imul(Ct,ee)|0;var Yn=(D+(_=_+Math.imul(U,Lt)|0)|0)+((8191&(f=(f=f+Math.imul(U,ue)|0)+Math.imul(W,Lt)|0))<<13)|0;D=((C=C+Math.imul(W,ue)|0)+(f>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,_=Math.imul(Mt,qt),f=(f=Math.imul(Mt,ae))+Math.imul(ot,qt)|0,C=Math.imul(ot,ae),_=_+Math.imul(Tt,be)|0,f=(f=f+Math.imul(Tt,xe)|0)+Math.imul(Bt,be)|0,C=C+Math.imul(Bt,xe)|0,_=_+Math.imul(Jt,Ne)|0,f=(f=f+Math.imul(Jt,Le)|0)+Math.imul($t,Ne)|0,C=C+Math.imul($t,Le)|0,_=_+Math.imul(At,Ve)|0,f=(f=f+Math.imul(At,fe)|0)+Math.imul(Kt,Ve)|0,C=C+Math.imul(Kt,fe)|0,_=_+Math.imul(Rt,je)|0,f=(f=f+Math.imul(Rt,se)|0)+Math.imul(St,je)|0,C=C+Math.imul(St,se)|0,_=_+Math.imul(bt,re)|0,f=(f=f+Math.imul(bt,jt)|0)+Math.imul(pt,re)|0,C=C+Math.imul(pt,jt)|0,_=_+Math.imul(wt,Ut)|0,f=(f=f+Math.imul(wt,ee)|0)+Math.imul(ut,Ut)|0,C=C+Math.imul(ut,ee)|0,_=_+Math.imul(ct,Lt)|0,f=(f=f+Math.imul(ct,ue)|0)+Math.imul(Ct,Lt)|0,C=C+Math.imul(Ct,ue)|0;var rn=(D+(_=_+Math.imul(U,we)|0)|0)+((8191&(f=(f=f+Math.imul(U,Ae)|0)+Math.imul(W,we)|0))<<13)|0;D=((C=C+Math.imul(W,Ae)|0)+(f>>>13)|0)+(rn>>>26)|0,rn&=67108863,_=Math.imul(Nt,qt),f=(f=Math.imul(Nt,ae))+Math.imul(Gt,qt)|0,C=Math.imul(Gt,ae),_=_+Math.imul(Mt,be)|0,f=(f=f+Math.imul(Mt,xe)|0)+Math.imul(ot,be)|0,C=C+Math.imul(ot,xe)|0,_=_+Math.imul(Tt,Ne)|0,f=(f=f+Math.imul(Tt,Le)|0)+Math.imul(Bt,Ne)|0,C=C+Math.imul(Bt,Le)|0,_=_+Math.imul(Jt,Ve)|0,f=(f=f+Math.imul(Jt,fe)|0)+Math.imul($t,Ve)|0,C=C+Math.imul($t,fe)|0,_=_+Math.imul(At,je)|0,f=(f=f+Math.imul(At,se)|0)+Math.imul(Kt,je)|0,C=C+Math.imul(Kt,se)|0,_=_+Math.imul(Rt,re)|0,f=(f=f+Math.imul(Rt,jt)|0)+Math.imul(St,re)|0,C=C+Math.imul(St,jt)|0,_=_+Math.imul(bt,Ut)|0,f=(f=f+Math.imul(bt,ee)|0)+Math.imul(pt,Ut)|0,C=C+Math.imul(pt,ee)|0,_=_+Math.imul(wt,Lt)|0,f=(f=f+Math.imul(wt,ue)|0)+Math.imul(ut,Lt)|0,C=C+Math.imul(ut,ue)|0,_=_+Math.imul(ct,we)|0,f=(f=f+Math.imul(ct,Ae)|0)+Math.imul(Ct,we)|0,C=C+Math.imul(Ct,Ae)|0;var an=(D+(_=_+Math.imul(U,ke)|0)|0)+((8191&(f=(f=f+Math.imul(U,De)|0)+Math.imul(W,ke)|0))<<13)|0;D=((C=C+Math.imul(W,De)|0)+(f>>>13)|0)+(an>>>26)|0,an&=67108863,_=Math.imul(Nt,be),f=(f=Math.imul(Nt,xe))+Math.imul(Gt,be)|0,C=Math.imul(Gt,xe),_=_+Math.imul(Mt,Ne)|0,f=(f=f+Math.imul(Mt,Le)|0)+Math.imul(ot,Ne)|0,C=C+Math.imul(ot,Le)|0,_=_+Math.imul(Tt,Ve)|0,f=(f=f+Math.imul(Tt,fe)|0)+Math.imul(Bt,Ve)|0,C=C+Math.imul(Bt,fe)|0,_=_+Math.imul(Jt,je)|0,f=(f=f+Math.imul(Jt,se)|0)+Math.imul($t,je)|0,C=C+Math.imul($t,se)|0,_=_+Math.imul(At,re)|0,f=(f=f+Math.imul(At,jt)|0)+Math.imul(Kt,re)|0,C=C+Math.imul(Kt,jt)|0,_=_+Math.imul(Rt,Ut)|0,f=(f=f+Math.imul(Rt,ee)|0)+Math.imul(St,Ut)|0,C=C+Math.imul(St,ee)|0,_=_+Math.imul(bt,Lt)|0,f=(f=f+Math.imul(bt,ue)|0)+Math.imul(pt,Lt)|0,C=C+Math.imul(pt,ue)|0,_=_+Math.imul(wt,we)|0,f=(f=f+Math.imul(wt,Ae)|0)+Math.imul(ut,we)|0,C=C+Math.imul(ut,Ae)|0;var Ui=(D+(_=_+Math.imul(ct,ke)|0)|0)+((8191&(f=(f=f+Math.imul(ct,De)|0)+Math.imul(Ct,ke)|0))<<13)|0;D=((C=C+Math.imul(Ct,De)|0)+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,_=Math.imul(Nt,Ne),f=(f=Math.imul(Nt,Le))+Math.imul(Gt,Ne)|0,C=Math.imul(Gt,Le),_=_+Math.imul(Mt,Ve)|0,f=(f=f+Math.imul(Mt,fe)|0)+Math.imul(ot,Ve)|0,C=C+Math.imul(ot,fe)|0,_=_+Math.imul(Tt,je)|0,f=(f=f+Math.imul(Tt,se)|0)+Math.imul(Bt,je)|0,C=C+Math.imul(Bt,se)|0,_=_+Math.imul(Jt,re)|0,f=(f=f+Math.imul(Jt,jt)|0)+Math.imul($t,re)|0,C=C+Math.imul($t,jt)|0,_=_+Math.imul(At,Ut)|0,f=(f=f+Math.imul(At,ee)|0)+Math.imul(Kt,Ut)|0,C=C+Math.imul(Kt,ee)|0,_=_+Math.imul(Rt,Lt)|0,f=(f=f+Math.imul(Rt,ue)|0)+Math.imul(St,Lt)|0,C=C+Math.imul(St,ue)|0,_=_+Math.imul(bt,we)|0,f=(f=f+Math.imul(bt,Ae)|0)+Math.imul(pt,we)|0,C=C+Math.imul(pt,Ae)|0;var lr=(D+(_=_+Math.imul(wt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(wt,De)|0)+Math.imul(ut,ke)|0))<<13)|0;D=((C=C+Math.imul(ut,De)|0)+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(Nt,Ve),f=(f=Math.imul(Nt,fe))+Math.imul(Gt,Ve)|0,C=Math.imul(Gt,fe),_=_+Math.imul(Mt,je)|0,f=(f=f+Math.imul(Mt,se)|0)+Math.imul(ot,je)|0,C=C+Math.imul(ot,se)|0,_=_+Math.imul(Tt,re)|0,f=(f=f+Math.imul(Tt,jt)|0)+Math.imul(Bt,re)|0,C=C+Math.imul(Bt,jt)|0,_=_+Math.imul(Jt,Ut)|0,f=(f=f+Math.imul(Jt,ee)|0)+Math.imul($t,Ut)|0,C=C+Math.imul($t,ee)|0,_=_+Math.imul(At,Lt)|0,f=(f=f+Math.imul(At,ue)|0)+Math.imul(Kt,Lt)|0,C=C+Math.imul(Kt,ue)|0,_=_+Math.imul(Rt,we)|0,f=(f=f+Math.imul(Rt,Ae)|0)+Math.imul(St,we)|0,C=C+Math.imul(St,Ae)|0;var He=(D+(_=_+Math.imul(bt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(bt,De)|0)+Math.imul(pt,ke)|0))<<13)|0;D=((C=C+Math.imul(pt,De)|0)+(f>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Nt,je),f=(f=Math.imul(Nt,se))+Math.imul(Gt,je)|0,C=Math.imul(Gt,se),_=_+Math.imul(Mt,re)|0,f=(f=f+Math.imul(Mt,jt)|0)+Math.imul(ot,re)|0,C=C+Math.imul(ot,jt)|0,_=_+Math.imul(Tt,Ut)|0,f=(f=f+Math.imul(Tt,ee)|0)+Math.imul(Bt,Ut)|0,C=C+Math.imul(Bt,ee)|0,_=_+Math.imul(Jt,Lt)|0,f=(f=f+Math.imul(Jt,ue)|0)+Math.imul($t,Lt)|0,C=C+Math.imul($t,ue)|0,_=_+Math.imul(At,we)|0,f=(f=f+Math.imul(At,Ae)|0)+Math.imul(Kt,we)|0,C=C+Math.imul(Kt,Ae)|0;var yi=(D+(_=_+Math.imul(Rt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Rt,De)|0)+Math.imul(St,ke)|0))<<13)|0;D=((C=C+Math.imul(St,De)|0)+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,_=Math.imul(Nt,re),f=(f=Math.imul(Nt,jt))+Math.imul(Gt,re)|0,C=Math.imul(Gt,jt),_=_+Math.imul(Mt,Ut)|0,f=(f=f+Math.imul(Mt,ee)|0)+Math.imul(ot,Ut)|0,C=C+Math.imul(ot,ee)|0,_=_+Math.imul(Tt,Lt)|0,f=(f=f+Math.imul(Tt,ue)|0)+Math.imul(Bt,Lt)|0,C=C+Math.imul(Bt,ue)|0,_=_+Math.imul(Jt,we)|0,f=(f=f+Math.imul(Jt,Ae)|0)+Math.imul($t,we)|0,C=C+Math.imul($t,Ae)|0;var tn=(D+(_=_+Math.imul(At,ke)|0)|0)+((8191&(f=(f=f+Math.imul(At,De)|0)+Math.imul(Kt,ke)|0))<<13)|0;D=((C=C+Math.imul(Kt,De)|0)+(f>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul(Nt,Ut),f=(f=Math.imul(Nt,ee))+Math.imul(Gt,Ut)|0,C=Math.imul(Gt,ee),_=_+Math.imul(Mt,Lt)|0,f=(f=f+Math.imul(Mt,ue)|0)+Math.imul(ot,Lt)|0,C=C+Math.imul(ot,ue)|0,_=_+Math.imul(Tt,we)|0,f=(f=f+Math.imul(Tt,Ae)|0)+Math.imul(Bt,we)|0,C=C+Math.imul(Bt,Ae)|0;var wi=(D+(_=_+Math.imul(Jt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Jt,De)|0)+Math.imul($t,ke)|0))<<13)|0;D=((C=C+Math.imul($t,De)|0)+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,_=Math.imul(Nt,Lt),f=(f=Math.imul(Nt,ue))+Math.imul(Gt,Lt)|0,C=Math.imul(Gt,ue),_=_+Math.imul(Mt,we)|0,f=(f=f+Math.imul(Mt,Ae)|0)+Math.imul(ot,we)|0,C=C+Math.imul(ot,Ae)|0;var $n=(D+(_=_+Math.imul(Tt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Tt,De)|0)+Math.imul(Bt,ke)|0))<<13)|0;D=((C=C+Math.imul(Bt,De)|0)+(f>>>13)|0)+($n>>>26)|0,$n&=67108863,_=Math.imul(Nt,we),f=(f=Math.imul(Nt,Ae))+Math.imul(Gt,we)|0,C=Math.imul(Gt,Ae);var sr=(D+(_=_+Math.imul(Mt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Mt,De)|0)+Math.imul(ot,ke)|0))<<13)|0;D=((C=C+Math.imul(ot,De)|0)+(f>>>13)|0)+(sr>>>26)|0,sr&=67108863;var Xe=(D+(_=Math.imul(Nt,ke))|0)+((8191&(f=(f=Math.imul(Nt,De))+Math.imul(Gt,ke)|0))<<13)|0;return D=((C=Math.imul(Gt,De))+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b[0]=fi,b[1]=hi,b[2]=Pi,b[3]=vn,b[4]=ji,b[5]=Ki,b[6]=oi,b[7]=Yn,b[8]=rn,b[9]=an,b[10]=Ui,b[11]=lr,b[12]=He,b[13]=yi,b[14]=tn,b[15]=wi,b[16]=$n,b[17]=sr,b[18]=Xe,0!==D&&(b[19]=D,v.length++),v};function G(k,u,p){return(new R).mulp(k,u,p)}function R(k,u){this.x=k,this.y=u}Math.imul||(O=F),M.prototype.mulTo=function(u,p){var v,g=this.length+u.length;return v=10===this.length&&10===u.length?O(this,u,p):g<63?F(this,u,p):g<1024?function(k,u,p){p.negative=u.negative^k.negative,p.length=k.length+u.length;for(var v=0,g=0,w=0;w<p.length-1;w++){var b=g;g=0;for(var D=67108863&v,_=Math.min(w,u.length-1),f=Math.max(0,w-k.length+1);f<=_;f++){var W=(0|k.words[w-f])*(0|u.words[f]),st=67108863&W;D=67108863&(st=st+D|0),g+=(b=(b=b+(W/67108864|0)|0)+(st>>>26)|0)>>>26,b&=67108863}p.words[w]=D,v=b,b=g}return 0!==v?p.words[w]=v:p.length--,p.strip()}(this,u,p):G(this,u,p),v},R.prototype.makeRBT=function(u){for(var p=new Array(u),v=M.prototype._countBits(u)-1,g=0;g<u;g++)p[g]=this.revBin(g,v,u);return p},R.prototype.revBin=function(u,p,v){if(0===u||u===v-1)return u;for(var g=0,w=0;w<p;w++)g|=(1&u)<<p-w-1,u>>=1;return g},R.prototype.permute=function(u,p,v,g,w,b){for(var D=0;D<b;D++)g[D]=p[u[D]],w[D]=v[u[D]]},R.prototype.transform=function(u,p,v,g,w,b){this.permute(b,u,p,v,g,w);for(var D=1;D<w;D<<=1)for(var _=D<<1,f=Math.cos(2*Math.PI/_),C=Math.sin(2*Math.PI/_),K=0;K<w;K+=_)for(var U=f,W=C,st=0;st<D;st++){var ct=v[K+st],Ct=g[K+st],kt=v[K+st+D],wt=g[K+st+D],ut=U*kt-W*wt;wt=U*wt+W*kt,v[K+st]=ct+(kt=ut),g[K+st]=Ct+wt,v[K+st+D]=ct-kt,g[K+st+D]=Ct-wt,st!==_&&(ut=f*U-C*W,W=f*W+C*U,U=ut)}},R.prototype.guessLen13b=function(u,p){var v=1|Math.max(p,u),g=1&v,w=0;for(v=v/2|0;v;v>>>=1)w++;return 1<<w+1+g},R.prototype.conjugate=function(u,p,v){if(!(v<=1))for(var g=0;g<v/2;g++){var w=u[g];u[g]=u[v-g-1],u[v-g-1]=w,w=p[g],p[g]=-p[v-g-1],p[v-g-1]=-w}},R.prototype.normalize13b=function(u,p){for(var v=0,g=0;g<p/2;g++){var w=8192*Math.round(u[2*g+1]/p)+Math.round(u[2*g]/p)+v;u[g]=67108863&w,v=w<67108864?0:w/67108864|0}return u},R.prototype.convert13b=function(u,p,v,g){for(var w=0,b=0;b<p;b++)v[2*b]=8191&(w+=0|u[b]),v[2*b+1]=8191&(w>>>=13),w>>>=13;for(b=2*p;b<g;++b)v[b]=0;et(0===w),et(0==(-8192&w))},R.prototype.stub=function(u){for(var p=new Array(u),v=0;v<u;v++)p[v]=0;return p},R.prototype.mulp=function(u,p,v){var g=2*this.guessLen13b(u.length,p.length),w=this.makeRBT(g),b=this.stub(g),D=new Array(g),_=new Array(g),f=new Array(g),C=new Array(g),K=new Array(g),U=new Array(g),W=v.words;W.length=g,this.convert13b(u.words,u.length,D,g),this.convert13b(p.words,p.length,C,g),this.transform(D,b,_,f,g,w),this.transform(C,b,K,U,g,w);for(var st=0;st<g;st++){var ct=_[st]*K[st]-f[st]*U[st];f[st]=_[st]*U[st]+f[st]*K[st],_[st]=ct}return this.conjugate(_,f,g),this.transform(_,f,W,b,g,w),this.conjugate(W,b,g),this.normalize13b(W,g),v.negative=u.negative^p.negative,v.length=u.length+p.length,v.strip()},M.prototype.mul=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},M.prototype.mulf=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),G(this,u,p)},M.prototype.imul=function(u){return this.clone().mulTo(u,this)},M.prototype.imuln=function(u){et("number"==typeof u),et(u<67108864);for(var p=0,v=0;v<this.length;v++){var g=(0|this.words[v])*u,w=(67108863&g)+(67108863&p);p>>=26,p+=g/67108864|0,p+=w>>>26,this.words[v]=67108863&w}return 0!==p&&(this.words[v]=p,this.length++),this},M.prototype.muln=function(u){return this.clone().imuln(u)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(u){var p=function(k){for(var u=new Array(k.bitLength()),p=0;p<u.length;p++){var g=p%26;u[p]=(k.words[p/26|0]&1<<g)>>>g}return u}(u);if(0===p.length)return new M(1);for(var v=this,g=0;g<p.length&&0===p[g];g++,v=v.sqr());if(++g<p.length)for(var w=v.sqr();g<p.length;g++,w=w.sqr())0!==p[g]&&(v=v.mul(w));return v},M.prototype.iushln=function(u){et("number"==typeof u&&u>=0);var w,p=u%26,v=(u-p)/26,g=67108863>>>26-p<<26-p;if(0!==p){var b=0;for(w=0;w<this.length;w++){var D=this.words[w]&g;this.words[w]=(0|this.words[w])-D<<p|b,b=D>>>26-p}b&&(this.words[w]=b,this.length++)}if(0!==v){for(w=this.length-1;w>=0;w--)this.words[w+v]=this.words[w];for(w=0;w<v;w++)this.words[w]=0;this.length+=v}return this.strip()},M.prototype.ishln=function(u){return et(0===this.negative),this.iushln(u)},M.prototype.iushrn=function(u,p,v){var g;et("number"==typeof u&&u>=0),g=p?(p-p%26)/26:0;var w=u%26,b=Math.min((u-w)/26,this.length),D=67108863^67108863>>>w<<w,_=v;if(g-=b,g=Math.max(0,g),_){for(var f=0;f<b;f++)_.words[f]=this.words[f];_.length=b}if(0!==b)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var C=0;for(f=this.length-1;f>=0&&(0!==C||f>=g);f--){var K=0|this.words[f];this.words[f]=C<<26-w|K>>>w,C=K&D}return _&&0!==C&&(_.words[_.length++]=C),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(u,p,v){return et(0===this.negative),this.iushrn(u,p,v)},M.prototype.shln=function(u){return this.clone().ishln(u)},M.prototype.ushln=function(u){return this.clone().iushln(u)},M.prototype.shrn=function(u){return this.clone().ishrn(u)},M.prototype.ushrn=function(u){return this.clone().iushrn(u)},M.prototype.testn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return!(this.length<=v||!(this.words[v]&1<<p))},M.prototype.imaskn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return et(0===this.negative,"imaskn works only with positive numbers"),this.length<=v?this:(0!==p&&v++,this.length=Math.min(v,this.length),0!==p&&(this.words[this.length-1]&=67108863^67108863>>>p<<p),this.strip())},M.prototype.maskn=function(u){return this.clone().imaskn(u)},M.prototype.iaddn=function(u){return et("number"==typeof u),et(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},M.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},M.prototype.isubn=function(u){if(et("number"==typeof u),et(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},M.prototype.addn=function(u){return this.clone().iaddn(u)},M.prototype.subn=function(u){return this.clone().isubn(u)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(u,p,v){var w;this._expand(u.length+v);var b,D=0;for(w=0;w<u.length;w++){b=(0|this.words[w+v])+D;var _=(0|u.words[w])*p;D=((b-=67108863&_)>>26)-(_/67108864|0),this.words[w+v]=67108863&b}for(;w<this.length-v;w++)D=(b=(0|this.words[w+v])+D)>>26,this.words[w+v]=67108863&b;if(0===D)return this.strip();for(et(-1===D),D=0,w=0;w<this.length;w++)D=(b=-(0|this.words[w])+D)>>26,this.words[w]=67108863&b;return this.negative=1,this.strip()},M.prototype._wordDiv=function(u,p){var v,g=this.clone(),w=u,b=0|w.words[w.length-1];0!=(v=26-this._countBits(b))&&(w=w.ushln(v),g.iushln(v),b=0|w.words[w.length-1]);var f,_=g.length-w.length;if("mod"!==p){(f=new M(null)).length=_+1,f.words=new Array(f.length);for(var C=0;C<f.length;C++)f.words[C]=0}var K=g.clone()._ishlnsubmul(w,1,_);0===K.negative&&(g=K,f&&(f.words[_]=1));for(var U=_-1;U>=0;U--){var W=67108864*(0|g.words[w.length+U])+(0|g.words[w.length+U-1]);for(W=Math.min(W/b|0,67108863),g._ishlnsubmul(w,W,U);0!==g.negative;)W--,g.negative=0,g._ishlnsubmul(w,1,U),g.isZero()||(g.negative^=1);f&&(f.words[U]=W)}return f&&f.strip(),g.strip(),"div"!==p&&0!==v&&g.iushrn(v),{div:f||null,mod:g}},M.prototype.divmod=function(u,p,v){return et(!u.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===u.negative?(b=this.neg().divmod(u,p),"mod"!==p&&(g=b.div.neg()),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.iadd(u)),{div:g,mod:w}):0===this.negative&&0!==u.negative?(b=this.divmod(u.neg(),p),"mod"!==p&&(g=b.div.neg()),{div:g,mod:b.mod}):0!=(this.negative&u.negative)?(b=this.neg().divmod(u.neg(),p),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.isub(u)),{div:b.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new M(0),mod:this}:1===u.length?"div"===p?{div:this.divn(u.words[0]),mod:null}:"mod"===p?{div:null,mod:new M(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new M(this.modn(u.words[0]))}:this._wordDiv(u,p);var g,w,b},M.prototype.div=function(u){return this.divmod(u,"div",!1).div},M.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},M.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},M.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=0!==p.div.negative?p.mod.isub(u):p.mod,g=u.ushrn(1),w=u.andln(1),b=v.cmp(g);return b<0||1===w&&0===b?p.div:0!==p.div.negative?p.div.isubn(1):p.div.iaddn(1)},M.prototype.modn=function(u){et(u<=67108863);for(var p=(1<<26)%u,v=0,g=this.length-1;g>=0;g--)v=(p*v+(0|this.words[g]))%u;return v},M.prototype.idivn=function(u){et(u<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var g=(0|this.words[v])+67108864*p;this.words[v]=g/u|0,p=g%u}return this.strip()},M.prototype.divn=function(u){return this.clone().idivn(u)},M.prototype.egcd=function(u){et(0===u.negative),et(!u.isZero());var p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=new M(0),D=new M(1),_=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++_;for(var f=v.clone(),C=p.clone();!p.isZero();){for(var K=0,U=1;0==(p.words[0]&U)&&K<26;++K,U<<=1);if(K>0)for(p.iushrn(K);K-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(C)),g.iushrn(1),w.iushrn(1);for(var W=0,st=1;0==(v.words[0]&st)&&W<26;++W,st<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(b.isOdd()||D.isOdd())&&(b.iadd(f),D.isub(C)),b.iushrn(1),D.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(b),w.isub(D)):(v.isub(p),b.isub(g),D.isub(w))}return{a:b,b:D,gcd:v.iushln(_)}},M.prototype._invmp=function(u){et(0===u.negative),et(!u.isZero());var K,p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var D=0,_=1;0==(p.words[0]&_)&&D<26;++D,_<<=1);if(D>0)for(p.iushrn(D);D-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);for(var f=0,C=1;0==(v.words[0]&C)&&f<26;++f,C<<=1);if(f>0)for(v.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(b),w.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(w)):(v.isub(p),w.isub(g))}return(K=0===p.cmpn(1)?g:w).cmpn(0)<0&&K.iadd(u),K},M.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var g=0;p.isEven()&&v.isEven();g++)p.iushrn(1),v.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var w=p.cmp(v);if(w<0){var b=p;p=v,v=b}else if(0===w||0===v.cmpn(1))break;p.isub(v)}return v.iushln(g)},M.prototype.invm=function(u){return this.egcd(u).a.umod(u)},M.prototype.isEven=function(){return 0==(1&this.words[0])},M.prototype.isOdd=function(){return 1==(1&this.words[0])},M.prototype.andln=function(u){return this.words[0]&u},M.prototype.bincn=function(u){et("number"==typeof u);var p=u%26,v=(u-p)/26,g=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=g,this;for(var w=g,b=v;0!==w&&b<this.length;b++){var D=0|this.words[b];w=(D+=w)>>>26,this.words[b]=D&=67108863}return 0!==w&&(this.words[b]=w,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(u){var v,p=u<0;if(0!==this.negative&&!p)return-1;if(0===this.negative&&p)return 1;if(this.strip(),this.length>1)v=1;else{p&&(u=-u),et(u<=67108863,"Number is too big");var g=0|this.words[0];v=g===u?0:g<u?-1:1}return 0!==this.negative?0|-v:v},M.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var p=this.ucmp(u);return 0!==this.negative?0|-p:p},M.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var g=0|this.words[v],w=0|u.words[v];if(g!==w){g<w?p=-1:g>w&&(p=1);break}}return p},M.prototype.gtn=function(u){return 1===this.cmpn(u)},M.prototype.gt=function(u){return 1===this.cmp(u)},M.prototype.gten=function(u){return this.cmpn(u)>=0},M.prototype.gte=function(u){return this.cmp(u)>=0},M.prototype.ltn=function(u){return-1===this.cmpn(u)},M.prototype.lt=function(u){return-1===this.cmp(u)},M.prototype.lten=function(u){return this.cmpn(u)<=0},M.prototype.lte=function(u){return this.cmp(u)<=0},M.prototype.eqn=function(u){return 0===this.cmpn(u)},M.prototype.eq=function(u){return 0===this.cmp(u)},M.red=function(u){return new dt(u)},M.prototype.toRed=function(u){return et(!this.red,"Already a number in reduction context"),et(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},M.prototype.fromRed=function(){return et(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(u){return this.red=u,this},M.prototype.forceRed=function(u){return et(!this.red,"Already a number in reduction context"),this._forceRed(u)},M.prototype.redAdd=function(u){return et(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},M.prototype.redIAdd=function(u){return et(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},M.prototype.redSub=function(u){return et(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},M.prototype.redISub=function(u){return et(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},M.prototype.redShl=function(u){return et(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},M.prototype.redMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},M.prototype.redIMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},M.prototype.redSqr=function(){return et(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return et(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return et(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return et(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return et(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(u){return et(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function Z(k,u){this.name=k,this.p=new M(u,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Q(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function lt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ht(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function mt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function dt(k){if("string"==typeof k){var u=M._prime(k);this.m=u.p,this.prime=u}else et(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function gt(k){dt.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Z.prototype._tmp=function(){var u=new M(null);return u.words=new Array(Math.ceil(this.n/13)),u},Z.prototype.ireduce=function(u){var v,p=u;do{this.split(p,this.tmp),v=(p=(p=this.imulK(p)).iadd(this.tmp)).bitLength()}while(v>this.n);var g=v<this.n?-1:p.ucmp(this.p);return 0===g?(p.words[0]=0,p.length=1):g>0?p.isub(this.p):void 0!==p.strip?p.strip():p._strip(),p},Z.prototype.split=function(u,p){u.iushrn(this.n,0,p)},Z.prototype.imulK=function(u){return u.imul(this.k)},it(Q,Z),Q.prototype.split=function(u,p){for(var v=4194303,g=Math.min(u.length,9),w=0;w<g;w++)p.words[w]=u.words[w];if(p.length=g,u.length<=9)return u.words[0]=0,void(u.length=1);var b=u.words[9];for(p.words[p.length++]=b&v,w=10;w<u.length;w++){var D=0|u.words[w];u.words[w-10]=(D&v)<<4|b>>>22,b=D}u.words[w-10]=b>>>=22,u.length-=0===b&&u.length>10?10:9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var g=0|u.words[v];u.words[v]=67108863&(p+=977*g),p=64*g+(p/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},it(lt,Z),it(ht,Z),it(mt,Z),mt.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var g=19*(0|u.words[v])+p,w=67108863&g;g>>>=26,u.words[v]=w,p=g}return 0!==p&&(u.words[u.length++]=p),u},M._prime=function(u){if($[u])return $[u];var p;if("k256"===u)p=new Q;else if("p224"===u)p=new lt;else if("p192"===u)p=new ht;else{if("p25519"!==u)throw new Error("Unknown prime "+u);p=new mt}return $[u]=p,p},dt.prototype._verify1=function(u){et(0===u.negative,"red works only with positives"),et(u.red,"red works only with red numbers")},dt.prototype._verify2=function(u,p){et(0==(u.negative|p.negative),"red works only with positives"),et(u.red&&u.red===p.red,"red works only with red numbers")},dt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},dt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},dt.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},dt.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},dt.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},dt.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},dt.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},dt.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},dt.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},dt.prototype.isqr=function(u){return this.imul(u,u.clone())},dt.prototype.sqr=function(u){return this.mul(u,u)},dt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(et(p%2==1),3===p){var v=this.m.add(new M(1)).iushrn(2);return this.pow(u,v)}for(var g=this.m.subn(1),w=0;!g.isZero()&&0===g.andln(1);)w++,g.iushrn(1);et(!g.isZero());var b=new M(1).toRed(this),D=b.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new M(2*f*f).toRed(this);0!==this.pow(f,_).cmp(D);)f.redIAdd(D);for(var C=this.pow(f,g),K=this.pow(u,g.addn(1).iushrn(1)),U=this.pow(u,g),W=w;0!==U.cmp(b);){for(var st=U,ct=0;0!==st.cmp(b);ct++)st=st.redSqr();et(ct<W);var Ct=this.pow(C,new M(1).iushln(W-ct-1));K=K.redMul(Ct),C=Ct.redSqr(),U=U.redMul(C),W=ct}return K},dt.prototype.invm=function(u){var p=u._invmp(this.m);return 0!==p.negative?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},dt.prototype.pow=function(u,p){if(p.isZero())return new M(1).toRed(this);if(0===p.cmpn(1))return u.clone();var g=new Array(16);g[0]=new M(1).toRed(this),g[1]=u;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],u);var b=g[0],D=0,_=0,f=p.bitLength()%26;for(0===f&&(f=26),w=p.length-1;w>=0;w--){for(var C=p.words[w],K=f-1;K>=0;K--){var U=C>>K&1;b!==g[0]&&(b=this.sqr(b)),0!==U||0!==D?(D<<=1,D|=U,(4==++_||0===w&&0===K)&&(b=this.mul(b,g[D]),_=0,D=0)):_=0}f=26}return b},dt.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},dt.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},M.mont=function(u){return new gt(u)},it(gt,dt),gt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},gt.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},gt.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new M(0)._forceRed(this);var v=u.mul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Yt=vt.nmd(Yt),this)},3059:(Yt,q,vt)=>{"use strict";var yt=q;yt.version=vt(8597).i8,yt.utils=vt(5685),yt.rand=vt(3550),yt.curve=vt(2333),yt.curves=vt(2960),yt.ec=vt(4590),yt.eddsa=vt(876)},6462:(Yt,q,vt)=>{"use strict";var yt=vt(9631),xt=vt(5685),et=xt.getNAF,it=xt.getJSF,M=xt.assert;function j(X,z){this.type=X,this.p=new yt(z.p,16),this.red=z.prime?yt.red(z.prime):yt.mont(this.p),this.zero=new yt(0).toRed(this.red),this.one=new yt(1).toRed(this.red),this.two=new yt(2).toRed(this.red),this.n=z.n&&new yt(z.n,16),this.g=z.g&&this.pointFromJSON(z.g,z.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var B=this.n&&this.p.div(this.n);!B||B.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function H(X,z){this.curve=X,this.type=z,this.precomputed=null}Yt.exports=j,j.prototype.point=function(){throw new Error("Not implemented")},j.prototype.validate=function(){throw new Error("Not implemented")},j.prototype._fixedNafMul=function(z,B){M(z.precomputed);var I=z._getDoubles(),Y=et(B,1,this._bitLength),T=(1<<I.step+1)-(I.step%2==0?2:1);T/=3;var O,V,F=[];for(O=0;O<Y.length;O+=I.step){V=0;for(var G=O+I.step-1;G>=O;G--)V=(V<<1)+Y[G];F.push(V)}for(var R=this.jpoint(null,null,null),$=this.jpoint(null,null,null),Z=T;Z>0;Z--){for(O=0;O<F.length;O++)(V=F[O])===Z?$=$.mixedAdd(I.points[O]):V===-Z&&($=$.mixedAdd(I.points[O].neg()));R=R.add($)}return R.toP()},j.prototype._wnafMul=function(z,B){for(var I=4,Y=z._getNAFPoints(I),T=Y.points,F=et(B,I=Y.wnd,this._bitLength),O=this.jpoint(null,null,null),V=F.length-1;V>=0;V--){for(var G=0;V>=0&&0===F[V];V--)G++;if(V>=0&&G++,O=O.dblp(G),V<0)break;var R=F[V];M(0!==R),O="affine"===z.type?O.mixedAdd(R>0?T[R-1>>1]:T[-R-1>>1].neg()):O.add(R>0?T[R-1>>1]:T[-R-1>>1].neg())}return"affine"===z.type?O.toP():O},j.prototype._wnafMulAdd=function(z,B,I,Y,T){var R,$,Z,F=this._wnafT1,O=this._wnafT2,V=this._wnafT3,G=0;for(R=0;R<Y;R++){var Q=(Z=B[R])._getNAFPoints(z);F[R]=Q.wnd,O[R]=Q.points}for(R=Y-1;R>=1;R-=2){var lt=R-1,ht=R;if(1===F[lt]&&1===F[ht]){var mt=[B[lt],null,null,B[ht]];0===B[lt].y.cmp(B[ht].y)?(mt[1]=B[lt].add(B[ht]),mt[2]=B[lt].toJ().mixedAdd(B[ht].neg())):0===B[lt].y.cmp(B[ht].y.redNeg())?(mt[1]=B[lt].toJ().mixedAdd(B[ht]),mt[2]=B[lt].add(B[ht].neg())):(mt[1]=B[lt].toJ().mixedAdd(B[ht]),mt[2]=B[lt].toJ().mixedAdd(B[ht].neg()));var dt=[-3,-1,-5,-7,0,7,5,1,3],gt=it(I[lt],I[ht]);for(G=Math.max(gt[0].length,G),V[lt]=new Array(G),V[ht]=new Array(G),$=0;$<G;$++)V[lt][$]=dt[3*(1+(0|gt[0][$]))+(1+(0|gt[1][$]))],V[ht][$]=0,O[lt]=mt}else V[lt]=et(I[lt],F[lt],this._bitLength),V[ht]=et(I[ht],F[ht],this._bitLength),G=Math.max(V[lt].length,G),G=Math.max(V[ht].length,G)}var p=this.jpoint(null,null,null),v=this._wnafT4;for(R=G;R>=0;R--){for(var g=0;R>=0;){var w=!0;for($=0;$<Y;$++)v[$]=0|V[$][R],0!==v[$]&&(w=!1);if(!w)break;g++,R--}if(R>=0&&g++,p=p.dblp(g),R<0)break;for($=0;$<Y;$++){var b=v[$];0!==b&&(b>0?Z=O[$][b-1>>1]:b<0&&(Z=O[$][-b-1>>1].neg()),p="affine"===Z.type?p.mixedAdd(Z):p.add(Z))}}for(R=0;R<Y;R++)O[R]=null;return T?p:p.toP()},j.BasePoint=H,H.prototype.eq=function(){throw new Error("Not implemented")},H.prototype.validate=function(){return this.curve.validate(this)},j.prototype.decodePoint=function(z,B){z=xt.toArray(z,B);var I=this.p.byteLength();if((4===z[0]||6===z[0]||7===z[0])&&z.length-1==2*I)return 6===z[0]?M(z[z.length-1]%2==0):7===z[0]&&M(z[z.length-1]%2==1),this.point(z.slice(1,1+I),z.slice(1+I,1+2*I));if((2===z[0]||3===z[0])&&z.length-1===I)return this.pointFromX(z.slice(1,1+I),3===z[0]);throw new Error("Unknown point format")},H.prototype.encodeCompressed=function(z){return this.encode(z,!0)},H.prototype._encode=function(z){var B=this.curve.p.byteLength(),I=this.getX().toArray("be",B);return z?[this.getY().isEven()?2:3].concat(I):[4].concat(I,this.getY().toArray("be",B))},H.prototype.encode=function(z,B){return xt.encode(this._encode(B),z)},H.prototype.precompute=function(z){if(this.precomputed)return this;var B={doubles:null,naf:null,beta:null};return B.naf=this._getNAFPoints(8),B.doubles=this._getDoubles(4,z),B.beta=this._getBeta(),this.precomputed=B,this},H.prototype._hasDoubles=function(z){if(!this.precomputed)return!1;var B=this.precomputed.doubles;return!!B&&B.points.length>=Math.ceil((z.bitLength()+1)/B.step)},H.prototype._getDoubles=function(z,B){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var I=[this],Y=this,T=0;T<B;T+=z){for(var F=0;F<z;F++)Y=Y.dbl();I.push(Y)}return{step:z,points:I}},H.prototype._getNAFPoints=function(z){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var B=[this],I=(1<<z)-1,Y=1===I?null:this.dbl(),T=1;T<I;T++)B[T]=B[T-1].add(Y);return{wnd:z,points:B}},H.prototype._getBeta=function(){return null},H.prototype.dblp=function(z){for(var B=this,I=0;I<z;I++)B=B.dbl();return B}},5837:(Yt,q,vt)=>{"use strict";var yt=vt(5685),xt=vt(9631),et=vt(3516),it=vt(6462),M=yt.assert;function j(X){this.twisted=1!=(0|X.a),this.mOneA=this.twisted&&-1==(0|X.a),this.extended=this.mOneA,it.call(this,"edwards",X),this.a=new xt(X.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new xt(X.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new xt(X.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),M(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|X.c)}function H(X,z,B,I,Y){it.BasePoint.call(this,X,"projective"),null===z&&null===B&&null===I?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new xt(z,16),this.y=new xt(B,16),this.z=I?new xt(I,16):this.curve.one,this.t=Y&&new xt(Y,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}et(j,it),Yt.exports=j,j.prototype._mulA=function(z){return this.mOneA?z.redNeg():this.a.redMul(z)},j.prototype._mulC=function(z){return this.oneC?z:this.c.redMul(z)},j.prototype.jpoint=function(z,B,I,Y){return this.point(z,B,I,Y)},j.prototype.pointFromX=function(z,B){(z=new xt(z,16)).red||(z=z.toRed(this.red));var I=z.redSqr(),Y=this.c2.redSub(this.a.redMul(I)),T=this.one.redSub(this.c2.redMul(this.d).redMul(I)),F=Y.redMul(T.redInvm()),O=F.redSqrt();if(0!==O.redSqr().redSub(F).cmp(this.zero))throw new Error("invalid point");var V=O.fromRed().isOdd();return(B&&!V||!B&&V)&&(O=O.redNeg()),this.point(z,O)},j.prototype.pointFromY=function(z,B){(z=new xt(z,16)).red||(z=z.toRed(this.red));var I=z.redSqr(),Y=I.redSub(this.c2),T=I.redMul(this.d).redMul(this.c2).redSub(this.a),F=Y.redMul(T.redInvm());if(0===F.cmp(this.zero)){if(B)throw new Error("invalid point");return this.point(this.zero,z)}var O=F.redSqrt();if(0!==O.redSqr().redSub(F).cmp(this.zero))throw new Error("invalid point");return O.fromRed().isOdd()!==B&&(O=O.redNeg()),this.point(O,z)},j.prototype.validate=function(z){if(z.isInfinity())return!0;z.normalize();var B=z.x.redSqr(),I=z.y.redSqr(),Y=B.redMul(this.a).redAdd(I),T=this.c2.redMul(this.one.redAdd(this.d.redMul(B).redMul(I)));return 0===Y.cmp(T)},et(H,it.BasePoint),j.prototype.pointFromJSON=function(z){return H.fromJSON(this,z)},j.prototype.point=function(z,B,I,Y){return new H(this,z,B,I,Y)},H.fromJSON=function(z,B){return new H(z,B[0],B[1],B[2])},H.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},H.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},H.prototype._extDbl=function(){var z=this.x.redSqr(),B=this.y.redSqr(),I=this.z.redSqr();I=I.redIAdd(I);var Y=this.curve._mulA(z),T=this.x.redAdd(this.y).redSqr().redISub(z).redISub(B),F=Y.redAdd(B),O=F.redSub(I),V=Y.redSub(B),G=T.redMul(O),R=F.redMul(V),$=T.redMul(V),Z=O.redMul(F);return this.curve.point(G,R,Z,$)},H.prototype._projDbl=function(){var Y,T,F,O,V,G,z=this.x.redAdd(this.y).redSqr(),B=this.x.redSqr(),I=this.y.redSqr();if(this.curve.twisted){var R=(O=this.curve._mulA(B)).redAdd(I);this.zOne?(Y=z.redSub(B).redSub(I).redMul(R.redSub(this.curve.two)),T=R.redMul(O.redSub(I)),F=R.redSqr().redSub(R).redSub(R)):(V=this.z.redSqr(),G=R.redSub(V).redISub(V),Y=z.redSub(B).redISub(I).redMul(G),T=R.redMul(O.redSub(I)),F=R.redMul(G))}else O=B.redAdd(I),V=this.curve._mulC(this.z).redSqr(),G=O.redSub(V).redSub(V),Y=this.curve._mulC(z.redISub(O)).redMul(G),T=this.curve._mulC(O).redMul(B.redISub(I)),F=O.redMul(G);return this.curve.point(Y,T,F)},H.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},H.prototype._extAdd=function(z){var B=this.y.redSub(this.x).redMul(z.y.redSub(z.x)),I=this.y.redAdd(this.x).redMul(z.y.redAdd(z.x)),Y=this.t.redMul(this.curve.dd).redMul(z.t),T=this.z.redMul(z.z.redAdd(z.z)),F=I.redSub(B),O=T.redSub(Y),V=T.redAdd(Y),G=I.redAdd(B),R=F.redMul(O),$=V.redMul(G),Z=F.redMul(G),Q=O.redMul(V);return this.curve.point(R,$,Q,Z)},H.prototype._projAdd=function(z){var $,Z,B=this.z.redMul(z.z),I=B.redSqr(),Y=this.x.redMul(z.x),T=this.y.redMul(z.y),F=this.curve.d.redMul(Y).redMul(T),O=I.redSub(F),V=I.redAdd(F),G=this.x.redAdd(this.y).redMul(z.x.redAdd(z.y)).redISub(Y).redISub(T),R=B.redMul(O).redMul(G);return this.curve.twisted?($=B.redMul(V).redMul(T.redSub(this.curve._mulA(Y))),Z=O.redMul(V)):($=B.redMul(V).redMul(T.redSub(Y)),Z=this.curve._mulC(O).redMul(V)),this.curve.point(R,$,Z)},H.prototype.add=function(z){return this.isInfinity()?z:z.isInfinity()?this:this.curve.extended?this._extAdd(z):this._projAdd(z)},H.prototype.mul=function(z){return this._hasDoubles(z)?this.curve._fixedNafMul(this,z):this.curve._wnafMul(this,z)},H.prototype.mulAdd=function(z,B,I){return this.curve._wnafMulAdd(1,[this,B],[z,I],2,!1)},H.prototype.jmulAdd=function(z,B,I){return this.curve._wnafMulAdd(1,[this,B],[z,I],2,!0)},H.prototype.normalize=function(){if(this.zOne)return this;var z=this.z.redInvm();return this.x=this.x.redMul(z),this.y=this.y.redMul(z),this.t&&(this.t=this.t.redMul(z)),this.z=this.curve.one,this.zOne=!0,this},H.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},H.prototype.getX=function(){return this.normalize(),this.x.fromRed()},H.prototype.getY=function(){return this.normalize(),this.y.fromRed()},H.prototype.eq=function(z){return this===z||0===this.getX().cmp(z.getX())&&0===this.getY().cmp(z.getY())},H.prototype.eqXToP=function(z){var B=z.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(B))return!0;for(var I=z.clone(),Y=this.curve.redN.redMul(this.z);;){if(I.iadd(this.curve.n),I.cmp(this.curve.p)>=0)return!1;if(B.redIAdd(Y),0===this.x.cmp(B))return!0}},H.prototype.toP=H.prototype.normalize,H.prototype.mixedAdd=H.prototype.add},2333:(Yt,q,vt)=>{"use strict";var yt=q;yt.base=vt(6462),yt.short=vt(5786),yt.mont=vt(9107),yt.edwards=vt(5837)},9107:(Yt,q,vt)=>{"use strict";var yt=vt(9631),xt=vt(3516),et=vt(6462),it=vt(5685);function M(H){et.call(this,"mont",H),this.a=new yt(H.a,16).toRed(this.red),this.b=new yt(H.b,16).toRed(this.red),this.i4=new yt(4).toRed(this.red).redInvm(),this.two=new yt(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function j(H,X,z){et.BasePoint.call(this,H,"projective"),null===X&&null===z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new yt(X,16),this.z=new yt(z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}xt(M,et),Yt.exports=M,M.prototype.validate=function(X){var z=X.normalize().x,B=z.redSqr(),I=B.redMul(z).redAdd(B.redMul(this.a)).redAdd(z);return 0===I.redSqrt().redSqr().cmp(I)},xt(j,et.BasePoint),M.prototype.decodePoint=function(X,z){return this.point(it.toArray(X,z),1)},M.prototype.point=function(X,z){return new j(this,X,z)},M.prototype.pointFromJSON=function(X){return j.fromJSON(this,X)},j.prototype.precompute=function(){},j.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},j.fromJSON=function(X,z){return new j(X,z[0],z[1]||X.one)},j.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},j.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},j.prototype.dbl=function(){var z=this.x.redAdd(this.z).redSqr(),I=this.x.redSub(this.z).redSqr(),Y=z.redSub(I),T=z.redMul(I),F=Y.redMul(I.redAdd(this.curve.a24.redMul(Y)));return this.curve.point(T,F)},j.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},j.prototype.diffAdd=function(X,z){var B=this.x.redAdd(this.z),I=this.x.redSub(this.z),Y=X.x.redAdd(X.z),F=X.x.redSub(X.z).redMul(B),O=Y.redMul(I),V=z.z.redMul(F.redAdd(O).redSqr()),G=z.x.redMul(F.redISub(O).redSqr());return this.curve.point(V,G)},j.prototype.mul=function(X){for(var z=X.clone(),B=this,I=this.curve.point(null,null),T=[];0!==z.cmpn(0);z.iushrn(1))T.push(z.andln(1));for(var F=T.length-1;F>=0;F--)0===T[F]?(B=B.diffAdd(I,this),I=I.dbl()):(I=B.diffAdd(I,this),B=B.dbl());return I},j.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},j.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},j.prototype.eq=function(X){return 0===this.getX().cmp(X.getX())},j.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},j.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},5786:(Yt,q,vt)=>{"use strict";var yt=vt(5685),xt=vt(9631),et=vt(3516),it=vt(6462),M=yt.assert;function j(z){it.call(this,"short",z),this.a=new xt(z.a,16).toRed(this.red),this.b=new xt(z.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(z),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function H(z,B,I,Y){it.BasePoint.call(this,z,"affine"),null===B&&null===I?(this.x=null,this.y=null,this.inf=!0):(this.x=new xt(B,16),this.y=new xt(I,16),Y&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function X(z,B,I,Y){it.BasePoint.call(this,z,"jacobian"),null===B&&null===I&&null===Y?(this.x=this.curve.one,this.y=this.curve.one,this.z=new xt(0)):(this.x=new xt(B,16),this.y=new xt(I,16),this.z=new xt(Y,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}et(j,it),Yt.exports=j,j.prototype._getEndomorphism=function(B){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var I,Y;if(B.beta)I=new xt(B.beta,16).toRed(this.red);else{var T=this._getEndoRoots(this.p);I=(I=T[0].cmp(T[1])<0?T[0]:T[1]).toRed(this.red)}if(B.lambda)Y=new xt(B.lambda,16);else{var F=this._getEndoRoots(this.n);0===this.g.mul(F[0]).x.cmp(this.g.x.redMul(I))?Y=F[0]:M(0===this.g.mul(Y=F[1]).x.cmp(this.g.x.redMul(I)))}return{beta:I,lambda:Y,basis:B.basis?B.basis.map(function(V){return{a:new xt(V.a,16),b:new xt(V.b,16)}}):this._getEndoBasis(Y)}}},j.prototype._getEndoRoots=function(B){var I=B===this.p?this.red:xt.mont(B),Y=new xt(2).toRed(I).redInvm(),T=Y.redNeg(),F=new xt(3).toRed(I).redNeg().redSqrt().redMul(Y);return[T.redAdd(F).fromRed(),T.redSub(F).fromRed()]},j.prototype._getEndoBasis=function(B){for(var R,$,Z,Q,lt,ht,mt,gt,k,I=this.n.ushrn(Math.floor(this.n.bitLength()/2)),Y=B,T=this.n.clone(),F=new xt(1),O=new xt(0),V=new xt(0),G=new xt(1),dt=0;0!==Y.cmpn(0);){var u=T.div(Y);gt=T.sub(u.mul(Y)),k=V.sub(u.mul(F));var p=G.sub(u.mul(O));if(!Z&&gt.cmp(I)<0)R=mt.neg(),$=F,Z=gt.neg(),Q=k;else if(Z&&2==++dt)break;mt=gt,T=Y,Y=gt,V=F,F=k,G=O,O=p}lt=gt.neg(),ht=k;var v=Z.sqr().add(Q.sqr());return lt.sqr().add(ht.sqr()).cmp(v)>=0&&(lt=R,ht=$),Z.negative&&(Z=Z.neg(),Q=Q.neg()),lt.negative&&(lt=lt.neg(),ht=ht.neg()),[{a:Z,b:Q},{a:lt,b:ht}]},j.prototype._endoSplit=function(B){var I=this.endo.basis,Y=I[0],T=I[1],F=T.b.mul(B).divRound(this.n),O=Y.b.neg().mul(B).divRound(this.n),V=F.mul(Y.a),G=O.mul(T.a),R=F.mul(Y.b),$=O.mul(T.b);return{k1:B.sub(V).sub(G),k2:R.add($).neg()}},j.prototype.pointFromX=function(B,I){(B=new xt(B,16)).red||(B=B.toRed(this.red));var Y=B.redSqr().redMul(B).redIAdd(B.redMul(this.a)).redIAdd(this.b),T=Y.redSqrt();if(0!==T.redSqr().redSub(Y).cmp(this.zero))throw new Error("invalid point");var F=T.fromRed().isOdd();return(I&&!F||!I&&F)&&(T=T.redNeg()),this.point(B,T)},j.prototype.validate=function(B){if(B.inf)return!0;var I=B.x,Y=B.y,T=this.a.redMul(I),F=I.redSqr().redMul(I).redIAdd(T).redIAdd(this.b);return 0===Y.redSqr().redISub(F).cmpn(0)},j.prototype._endoWnafMulAdd=function(B,I,Y){for(var T=this._endoWnafT1,F=this._endoWnafT2,O=0;O<B.length;O++){var V=this._endoSplit(I[O]),G=B[O],R=G._getBeta();V.k1.negative&&(V.k1.ineg(),G=G.neg(!0)),V.k2.negative&&(V.k2.ineg(),R=R.neg(!0)),T[2*O]=G,T[2*O+1]=R,F[2*O]=V.k1,F[2*O+1]=V.k2}for(var $=this._wnafMulAdd(1,T,F,2*O,Y),Z=0;Z<2*O;Z++)T[Z]=null,F[Z]=null;return $},et(H,it.BasePoint),j.prototype.point=function(B,I,Y){return new H(this,B,I,Y)},j.prototype.pointFromJSON=function(B,I){return H.fromJSON(this,B,I)},H.prototype._getBeta=function(){if(this.curve.endo){var B=this.precomputed;if(B&&B.beta)return B.beta;var I=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(B){var Y=this.curve,T=function(F){return Y.point(F.x.redMul(Y.endo.beta),F.y)};B.beta=I,I.precomputed={beta:null,naf:B.naf&&{wnd:B.naf.wnd,points:B.naf.points.map(T)},doubles:B.doubles&&{step:B.doubles.step,points:B.doubles.points.map(T)}}}return I}},H.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},H.fromJSON=function(B,I,Y){"string"==typeof I&&(I=JSON.parse(I));var T=B.point(I[0],I[1],Y);if(!I[2])return T;function F(V){return B.point(V[0],V[1],Y)}var O=I[2];return T.precomputed={beta:null,doubles:O.doubles&&{step:O.doubles.step,points:[T].concat(O.doubles.points.map(F))},naf:O.naf&&{wnd:O.naf.wnd,points:[T].concat(O.naf.points.map(F))}},T},H.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},H.prototype.isInfinity=function(){return this.inf},H.prototype.add=function(B){if(this.inf)return B;if(B.inf)return this;if(this.eq(B))return this.dbl();if(this.neg().eq(B))return this.curve.point(null,null);if(0===this.x.cmp(B.x))return this.curve.point(null,null);var I=this.y.redSub(B.y);0!==I.cmpn(0)&&(I=I.redMul(this.x.redSub(B.x).redInvm()));var Y=I.redSqr().redISub(this.x).redISub(B.x),T=I.redMul(this.x.redSub(Y)).redISub(this.y);return this.curve.point(Y,T)},H.prototype.dbl=function(){if(this.inf)return this;var B=this.y.redAdd(this.y);if(0===B.cmpn(0))return this.curve.point(null,null);var I=this.curve.a,Y=this.x.redSqr(),T=B.redInvm(),F=Y.redAdd(Y).redIAdd(Y).redIAdd(I).redMul(T),O=F.redSqr().redISub(this.x.redAdd(this.x)),V=F.redMul(this.x.redSub(O)).redISub(this.y);return this.curve.point(O,V)},H.prototype.getX=function(){return this.x.fromRed()},H.prototype.getY=function(){return this.y.fromRed()},H.prototype.mul=function(B){return B=new xt(B,16),this.isInfinity()?this:this._hasDoubles(B)?this.curve._fixedNafMul(this,B):this.curve.endo?this.curve._endoWnafMulAdd([this],[B]):this.curve._wnafMul(this,B)},H.prototype.mulAdd=function(B,I,Y){var T=[this,I],F=[B,Y];return this.curve.endo?this.curve._endoWnafMulAdd(T,F):this.curve._wnafMulAdd(1,T,F,2)},H.prototype.jmulAdd=function(B,I,Y){var T=[this,I],F=[B,Y];return this.curve.endo?this.curve._endoWnafMulAdd(T,F,!0):this.curve._wnafMulAdd(1,T,F,2,!0)},H.prototype.eq=function(B){return this===B||this.inf===B.inf&&(this.inf||0===this.x.cmp(B.x)&&0===this.y.cmp(B.y))},H.prototype.neg=function(B){if(this.inf)return this;var I=this.curve.point(this.x,this.y.redNeg());if(B&&this.precomputed){var Y=this.precomputed,T=function(F){return F.neg()};I.precomputed={naf:Y.naf&&{wnd:Y.naf.wnd,points:Y.naf.points.map(T)},doubles:Y.doubles&&{step:Y.doubles.step,points:Y.doubles.points.map(T)}}}return I},H.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},et(X,it.BasePoint),j.prototype.jpoint=function(B,I,Y){return new X(this,B,I,Y)},X.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var B=this.z.redInvm(),I=B.redSqr(),Y=this.x.redMul(I),T=this.y.redMul(I).redMul(B);return this.curve.point(Y,T)},X.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},X.prototype.add=function(B){if(this.isInfinity())return B;if(B.isInfinity())return this;var I=B.z.redSqr(),Y=this.z.redSqr(),T=this.x.redMul(I),F=B.x.redMul(Y),O=this.y.redMul(I.redMul(B.z)),V=B.y.redMul(Y.redMul(this.z)),G=T.redSub(F),R=O.redSub(V);if(0===G.cmpn(0))return 0!==R.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var $=G.redSqr(),Z=$.redMul(G),Q=T.redMul($),lt=R.redSqr().redIAdd(Z).redISub(Q).redISub(Q),ht=R.redMul(Q.redISub(lt)).redISub(O.redMul(Z)),mt=this.z.redMul(B.z).redMul(G);return this.curve.jpoint(lt,ht,mt)},X.prototype.mixedAdd=function(B){if(this.isInfinity())return B.toJ();if(B.isInfinity())return this;var I=this.z.redSqr(),Y=this.x,T=B.x.redMul(I),F=this.y,O=B.y.redMul(I).redMul(this.z),V=Y.redSub(T),G=F.redSub(O);if(0===V.cmpn(0))return 0!==G.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var R=V.redSqr(),$=R.redMul(V),Z=Y.redMul(R),Q=G.redSqr().redIAdd($).redISub(Z).redISub(Z),lt=G.redMul(Z.redISub(Q)).redISub(F.redMul($)),ht=this.z.redMul(V);return this.curve.jpoint(Q,lt,ht)},X.prototype.dblp=function(B){if(0===B)return this;if(this.isInfinity())return this;if(!B)return this.dbl();var I;if(this.curve.zeroA||this.curve.threeA){var Y=this;for(I=0;I<B;I++)Y=Y.dbl();return Y}var T=this.curve.a,F=this.curve.tinv,O=this.x,V=this.y,G=this.z,R=G.redSqr().redSqr(),$=V.redAdd(V);for(I=0;I<B;I++){var Z=O.redSqr(),Q=$.redSqr(),lt=Q.redSqr(),ht=Z.redAdd(Z).redIAdd(Z).redIAdd(T.redMul(R)),mt=O.redMul(Q),dt=ht.redSqr().redISub(mt.redAdd(mt)),gt=mt.redISub(dt),k=ht.redMul(gt);k=k.redIAdd(k).redISub(lt);var u=$.redMul(G);I+1<B&&(R=R.redMul(lt)),O=dt,G=u,$=k}return this.curve.jpoint(O,$.redMul(F),G)},X.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},X.prototype._zeroDbl=function(){var B,I,Y;if(this.zOne){var T=this.x.redSqr(),F=this.y.redSqr(),O=F.redSqr(),V=this.x.redAdd(F).redSqr().redISub(T).redISub(O);V=V.redIAdd(V);var G=T.redAdd(T).redIAdd(T),R=G.redSqr().redISub(V).redISub(V),$=O.redIAdd(O);$=($=$.redIAdd($)).redIAdd($),B=R,I=G.redMul(V.redISub(R)).redISub($),Y=this.y.redAdd(this.y)}else{var Z=this.x.redSqr(),Q=this.y.redSqr(),lt=Q.redSqr(),ht=this.x.redAdd(Q).redSqr().redISub(Z).redISub(lt);ht=ht.redIAdd(ht);var mt=Z.redAdd(Z).redIAdd(Z),dt=mt.redSqr(),gt=lt.redIAdd(lt);gt=(gt=gt.redIAdd(gt)).redIAdd(gt),B=dt.redISub(ht).redISub(ht),I=mt.redMul(ht.redISub(B)).redISub(gt),Y=(Y=this.y.redMul(this.z)).redIAdd(Y)}return this.curve.jpoint(B,I,Y)},X.prototype._threeDbl=function(){var B,I,Y;if(this.zOne){var T=this.x.redSqr(),F=this.y.redSqr(),O=F.redSqr(),V=this.x.redAdd(F).redSqr().redISub(T).redISub(O);V=V.redIAdd(V);var G=T.redAdd(T).redIAdd(T).redIAdd(this.curve.a),R=G.redSqr().redISub(V).redISub(V);B=R;var $=O.redIAdd(O);$=($=$.redIAdd($)).redIAdd($),I=G.redMul(V.redISub(R)).redISub($),Y=this.y.redAdd(this.y)}else{var Z=this.z.redSqr(),Q=this.y.redSqr(),lt=this.x.redMul(Q),ht=this.x.redSub(Z).redMul(this.x.redAdd(Z));ht=ht.redAdd(ht).redIAdd(ht);var mt=lt.redIAdd(lt),dt=(mt=mt.redIAdd(mt)).redAdd(mt);B=ht.redSqr().redISub(dt),Y=this.y.redAdd(this.z).redSqr().redISub(Q).redISub(Z);var gt=Q.redSqr();gt=(gt=(gt=gt.redIAdd(gt)).redIAdd(gt)).redIAdd(gt),I=ht.redMul(mt.redISub(B)).redISub(gt)}return this.curve.jpoint(B,I,Y)},X.prototype._dbl=function(){var B=this.curve.a,I=this.x,Y=this.y,T=this.z,F=T.redSqr().redSqr(),O=I.redSqr(),V=Y.redSqr(),G=O.redAdd(O).redIAdd(O).redIAdd(B.redMul(F)),R=I.redAdd(I),$=(R=R.redIAdd(R)).redMul(V),Z=G.redSqr().redISub($.redAdd($)),Q=$.redISub(Z),lt=V.redSqr();lt=(lt=(lt=lt.redIAdd(lt)).redIAdd(lt)).redIAdd(lt);var ht=G.redMul(Q).redISub(lt),mt=Y.redAdd(Y).redMul(T);return this.curve.jpoint(Z,ht,mt)},X.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var B=this.x.redSqr(),I=this.y.redSqr(),Y=this.z.redSqr(),T=I.redSqr(),F=B.redAdd(B).redIAdd(B),O=F.redSqr(),V=this.x.redAdd(I).redSqr().redISub(B).redISub(T),G=(V=(V=(V=V.redIAdd(V)).redAdd(V).redIAdd(V)).redISub(O)).redSqr(),R=T.redIAdd(T);R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R);var $=F.redIAdd(V).redSqr().redISub(O).redISub(G).redISub(R),Z=I.redMul($);Z=(Z=Z.redIAdd(Z)).redIAdd(Z);var Q=this.x.redMul(G).redISub(Z);Q=(Q=Q.redIAdd(Q)).redIAdd(Q);var lt=this.y.redMul($.redMul(R.redISub($)).redISub(V.redMul(G)));lt=(lt=(lt=lt.redIAdd(lt)).redIAdd(lt)).redIAdd(lt);var ht=this.z.redAdd(V).redSqr().redISub(Y).redISub(G);return this.curve.jpoint(Q,lt,ht)},X.prototype.mul=function(B,I){return B=new xt(B,I),this.curve._wnafMul(this,B)},X.prototype.eq=function(B){if("affine"===B.type)return this.eq(B.toJ());if(this===B)return!0;var I=this.z.redSqr(),Y=B.z.redSqr();if(0!==this.x.redMul(Y).redISub(B.x.redMul(I)).cmpn(0))return!1;var T=I.redMul(this.z),F=Y.redMul(B.z);return 0===this.y.redMul(F).redISub(B.y.redMul(T)).cmpn(0)},X.prototype.eqXToP=function(B){var I=this.z.redSqr(),Y=B.toRed(this.curve.red).redMul(I);if(0===this.x.cmp(Y))return!0;for(var T=B.clone(),F=this.curve.redN.redMul(I);;){if(T.iadd(this.curve.n),T.cmp(this.curve.p)>=0)return!1;if(Y.redIAdd(F),0===this.x.cmp(Y))return!0}},X.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},X.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},2960:(Yt,q,vt)=>{"use strict";var X,yt=q,xt=vt(4658),et=vt(2333),M=vt(5685).assert;function j(z){this.curve="short"===z.type?new et.short(z):"edwards"===z.type?new et.edwards(z):new et.mont(z),this.g=this.curve.g,this.n=this.curve.n,this.hash=z.hash,M(this.g.validate(),"Invalid curve"),M(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function H(z,B){Object.defineProperty(yt,z,{configurable:!0,enumerable:!0,get:function(){var I=new j(B);return Object.defineProperty(yt,z,{configurable:!0,enumerable:!0,value:I}),I}})}yt.PresetCurve=j,H("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:xt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),H("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:xt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),H("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:xt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),H("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:xt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),H("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:xt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),H("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xt.sha256,gRed:!1,g:["9"]}),H("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:xt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{X=vt(1865)}catch(z){X=void 0}H("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:xt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",X]})},4590:(Yt,q,vt)=>{"use strict";var yt=vt(9631),xt=vt(1883),et=vt(5685),it=vt(2960),M=vt(3550),j=et.assert,H=vt(8668),X=vt(7285);function z(B){if(!(this instanceof z))return new z(B);"string"==typeof B&&(j(Object.prototype.hasOwnProperty.call(it,B),"Unknown curve "+B),B=it[B]),B instanceof it.PresetCurve&&(B={curve:B}),this.curve=B.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=B.curve.g,this.g.precompute(B.curve.n.bitLength()+1),this.hash=B.hash||B.curve.hash}Yt.exports=z,z.prototype.keyPair=function(I){return new H(this,I)},z.prototype.keyFromPrivate=function(I,Y){return H.fromPrivate(this,I,Y)},z.prototype.keyFromPublic=function(I,Y){return H.fromPublic(this,I,Y)},z.prototype.genKeyPair=function(I){I||(I={});for(var Y=new xt({hash:this.hash,pers:I.pers,persEnc:I.persEnc||"utf8",entropy:I.entropy||M(this.hash.hmacStrength),entropyEnc:I.entropy&&I.entropyEnc||"utf8",nonce:this.n.toArray()}),T=this.n.byteLength(),F=this.n.sub(new yt(2));;){var O=new yt(Y.generate(T));if(!(O.cmp(F)>0))return O.iaddn(1),this.keyFromPrivate(O)}},z.prototype._truncateToN=function(I,Y){var T=8*I.byteLength()-this.n.bitLength();return T>0&&(I=I.ushrn(T)),!Y&&I.cmp(this.n)>=0?I.sub(this.n):I},z.prototype.sign=function(I,Y,T,F){"object"==typeof T&&(F=T,T=null),F||(F={}),Y=this.keyFromPrivate(Y,T),I=this._truncateToN(new yt(I,16));for(var O=this.n.byteLength(),V=Y.getPrivate().toArray("be",O),G=I.toArray("be",O),R=new xt({hash:this.hash,entropy:V,nonce:G,pers:F.pers,persEnc:F.persEnc||"utf8"}),$=this.n.sub(new yt(1)),Z=0;;Z++){var Q=F.k?F.k(Z):new yt(R.generate(this.n.byteLength()));if(!((Q=this._truncateToN(Q,!0)).cmpn(1)<=0||Q.cmp($)>=0)){var lt=this.g.mul(Q);if(!lt.isInfinity()){var ht=lt.getX(),mt=ht.umod(this.n);if(0!==mt.cmpn(0)){var dt=Q.invm(this.n).mul(mt.mul(Y.getPrivate()).iadd(I));if(0!==(dt=dt.umod(this.n)).cmpn(0)){var gt=(lt.getY().isOdd()?1:0)|(0!==ht.cmp(mt)?2:0);return F.canonical&&dt.cmp(this.nh)>0&&(dt=this.n.sub(dt),gt^=1),new X({r:mt,s:dt,recoveryParam:gt})}}}}}},z.prototype.verify=function(I,Y,T,F){I=this._truncateToN(new yt(I,16)),T=this.keyFromPublic(T,F);var O=(Y=new X(Y,"hex")).r,V=Y.s;if(O.cmpn(1)<0||O.cmp(this.n)>=0||V.cmpn(1)<0||V.cmp(this.n)>=0)return!1;var Z,G=V.invm(this.n),R=G.mul(I).umod(this.n),$=G.mul(O).umod(this.n);return this.curve._maxwellTrick?!(Z=this.g.jmulAdd(R,T.getPublic(),$)).isInfinity()&&Z.eqXToP(O):!(Z=this.g.mulAdd(R,T.getPublic(),$)).isInfinity()&&0===Z.getX().umod(this.n).cmp(O)},z.prototype.recoverPubKey=function(B,I,Y,T){j((3&Y)===Y,"The recovery param is more than two bits"),I=new X(I,T);var F=this.n,O=new yt(B),V=I.r,G=I.s,R=1&Y,$=Y>>1;if(V.cmp(this.curve.p.umod(this.curve.n))>=0&&$)throw new Error("Unable to find sencond key candinate");V=this.curve.pointFromX($?V.add(this.curve.n):V,R);var Z=I.r.invm(F),Q=F.sub(O).mul(Z).umod(F),lt=G.mul(Z).umod(F);return this.g.mulAdd(Q,V,lt)},z.prototype.getKeyRecoveryParam=function(B,I,Y,T){if(null!==(I=new X(I,T)).recoveryParam)return I.recoveryParam;for(var F=0;F<4;F++){var O;try{O=this.recoverPubKey(B,I,F)}catch(V){continue}if(O.eq(Y))return F}throw new Error("Unable to find valid recovery factor")}},8668:(Yt,q,vt)=>{"use strict";var yt=vt(9631),et=vt(5685).assert;function it(M,j){this.ec=M,this.priv=null,this.pub=null,j.priv&&this._importPrivate(j.priv,j.privEnc),j.pub&&this._importPublic(j.pub,j.pubEnc)}Yt.exports=it,it.fromPublic=function(j,H,X){return H instanceof it?H:new it(j,{pub:H,pubEnc:X})},it.fromPrivate=function(j,H,X){return H instanceof it?H:new it(j,{priv:H,privEnc:X})},it.prototype.validate=function(){var j=this.getPublic();return j.isInfinity()?{result:!1,reason:"Invalid public key"}:j.validate()?j.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},it.prototype.getPublic=function(j,H){return"string"==typeof j&&(H=j,j=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),H?this.pub.encode(H,j):this.pub},it.prototype.getPrivate=function(j){return"hex"===j?this.priv.toString(16,2):this.priv},it.prototype._importPrivate=function(j,H){this.priv=new yt(j,H||16),this.priv=this.priv.umod(this.ec.curve.n)},it.prototype._importPublic=function(j,H){if(j.x||j.y)return"mont"===this.ec.curve.type?et(j.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&et(j.x&&j.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(j.x,j.y));this.pub=this.ec.curve.decodePoint(j,H)},it.prototype.derive=function(j){return j.validate()||et(j.validate(),"public point not validated"),j.mul(this.priv).getX()},it.prototype.sign=function(j,H,X){return this.ec.sign(j,this,H,X)},it.prototype.verify=function(j,H){return this.ec.verify(j,H,this)},it.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7285:(Yt,q,vt)=>{"use strict";var yt=vt(9631),xt=vt(5685),et=xt.assert;function it(z,B){if(z instanceof it)return z;this._importDER(z,B)||(et(z.r&&z.s,"Signature without r or s"),this.r=new yt(z.r,16),this.s=new yt(z.s,16),this.recoveryParam=void 0===z.recoveryParam?null:z.recoveryParam)}function M(){this.place=0}function j(z,B){var I=z[B.place++];if(!(128&I))return I;var Y=15&I;if(0===Y||Y>4)return!1;for(var T=0,F=0,O=B.place;F<Y;F++,O++)T<<=8,T|=z[O],T>>>=0;return!(T<=127)&&(B.place=O,T)}function H(z){for(var B=0,I=z.length-1;!z[B]&&!(128&z[B+1])&&B<I;)B++;return 0===B?z:z.slice(B)}function X(z,B){if(B<128)z.push(B);else{var I=1+(Math.log(B)/Math.LN2>>>3);for(z.push(128|I);--I;)z.push(B>>>(I<<3)&255);z.push(B)}}Yt.exports=it,it.prototype._importDER=function(B,I){B=xt.toArray(B,I);var Y=new M;if(48!==B[Y.place++])return!1;var T=j(B,Y);if(!1===T||T+Y.place!==B.length||2!==B[Y.place++])return!1;var F=j(B,Y);if(!1===F)return!1;var O=B.slice(Y.place,F+Y.place);if(Y.place+=F,2!==B[Y.place++])return!1;var V=j(B,Y);if(!1===V||B.length!==V+Y.place)return!1;var G=B.slice(Y.place,V+Y.place);if(0===O[0]){if(!(128&O[1]))return!1;O=O.slice(1)}if(0===G[0]){if(!(128&G[1]))return!1;G=G.slice(1)}return this.r=new yt(O),this.s=new yt(G),this.recoveryParam=null,!0},it.prototype.toDER=function(B){var I=this.r.toArray(),Y=this.s.toArray();for(128&I[0]&&(I=[0].concat(I)),128&Y[0]&&(Y=[0].concat(Y)),I=H(I),Y=H(Y);!(Y[0]||128&Y[1]);)Y=Y.slice(1);var T=[2];X(T,I.length),(T=T.concat(I)).push(2),X(T,Y.length);var F=T.concat(Y),O=[48];return X(O,F.length),O=O.concat(F),xt.encode(O,B)}},876:(Yt,q,vt)=>{"use strict";var yt=vt(4658),xt=vt(2960),et=vt(5685),it=et.assert,M=et.parseBytes,j=vt(9517),H=vt(8335);function X(z){if(it("ed25519"===z,"only tested with ed25519 so far"),!(this instanceof X))return new X(z);this.curve=z=xt[z].curve,this.g=z.g,this.g.precompute(z.n.bitLength()+1),this.pointClass=z.point().constructor,this.encodingLength=Math.ceil(z.n.bitLength()/8),this.hash=yt.sha512}Yt.exports=X,X.prototype.sign=function(B,I){B=M(B);var Y=this.keyFromSecret(I),T=this.hashInt(Y.messagePrefix(),B),F=this.g.mul(T),O=this.encodePoint(F),V=this.hashInt(O,Y.pubBytes(),B).mul(Y.priv()),G=T.add(V).umod(this.curve.n);return this.makeSignature({R:F,S:G,Rencoded:O})},X.prototype.verify=function(B,I,Y){B=M(B),I=this.makeSignature(I);var T=this.keyFromPublic(Y),F=this.hashInt(I.Rencoded(),T.pubBytes(),B),O=this.g.mul(I.S());return I.R().add(T.pub().mul(F)).eq(O)},X.prototype.hashInt=function(){for(var B=this.hash(),I=0;I<arguments.length;I++)B.update(arguments[I]);return et.intFromLE(B.digest()).umod(this.curve.n)},X.prototype.keyFromPublic=function(B){return j.fromPublic(this,B)},X.prototype.keyFromSecret=function(B){return j.fromSecret(this,B)},X.prototype.makeSignature=function(B){return B instanceof H?B:new H(this,B)},X.prototype.encodePoint=function(B){var I=B.getY().toArray("le",this.encodingLength);return I[this.encodingLength-1]|=B.getX().isOdd()?128:0,I},X.prototype.decodePoint=function(B){var I=(B=et.parseBytes(B)).length-1,Y=B.slice(0,I).concat(-129&B[I]),T=0!=(128&B[I]),F=et.intFromLE(Y);return this.curve.pointFromY(F,T)},X.prototype.encodeInt=function(B){return B.toArray("le",this.encodingLength)},X.prototype.decodeInt=function(B){return et.intFromLE(B)},X.prototype.isPoint=function(B){return B instanceof this.pointClass}},9517:(Yt,q,vt)=>{"use strict";var yt=vt(5685),xt=yt.assert,et=yt.parseBytes,it=yt.cachedProperty;function M(j,H){this.eddsa=j,this._secret=et(H.secret),j.isPoint(H.pub)?this._pub=H.pub:this._pubBytes=et(H.pub)}M.fromPublic=function(H,X){return X instanceof M?X:new M(H,{pub:X})},M.fromSecret=function(H,X){return X instanceof M?X:new M(H,{secret:X})},M.prototype.secret=function(){return this._secret},it(M,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),it(M,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),it(M,"privBytes",function(){var H=this.eddsa,X=this.hash(),z=H.encodingLength-1,B=X.slice(0,H.encodingLength);return B[0]&=248,B[z]&=127,B[z]|=64,B}),it(M,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),it(M,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),it(M,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),M.prototype.sign=function(H){return xt(this._secret,"KeyPair can only verify"),this.eddsa.sign(H,this)},M.prototype.verify=function(H,X){return this.eddsa.verify(H,X,this)},M.prototype.getSecret=function(H){return xt(this._secret,"KeyPair is public only"),yt.encode(this.secret(),H)},M.prototype.getPublic=function(H){return yt.encode(this.pubBytes(),H)},Yt.exports=M},8335:(Yt,q,vt)=>{"use strict";var yt=vt(9631),xt=vt(5685),et=xt.assert,it=xt.cachedProperty,M=xt.parseBytes;function j(H,X){this.eddsa=H,"object"!=typeof X&&(X=M(X)),Array.isArray(X)&&(X={R:X.slice(0,H.encodingLength),S:X.slice(H.encodingLength)}),et(X.R&&X.S,"Signature without R or S"),H.isPoint(X.R)&&(this._R=X.R),X.S instanceof yt&&(this._S=X.S),this._Rencoded=Array.isArray(X.R)?X.R:X.Rencoded,this._Sencoded=Array.isArray(X.S)?X.S:X.Sencoded}it(j,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),it(j,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),it(j,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),it(j,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),j.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},j.prototype.toHex=function(){return xt.encode(this.toBytes(),"hex").toUpperCase()},Yt.exports=j},1865:Yt=>{Yt.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},5685:(Yt,q,vt)=>{"use strict";var yt=q,xt=vt(9631),et=vt(4725),it=vt(1171);yt.assert=et,yt.toArray=it.toArray,yt.zero2=it.zero2,yt.toHex=it.toHex,yt.encode=it.encode,yt.getNAF=function(B,I,Y){var T=new Array(Math.max(B.bitLength(),Y)+1);T.fill(0);for(var F=1<<I+1,O=B.clone(),V=0;V<T.length;V++){var G,R=O.andln(F-1);O.isOdd()?O.isubn(G=R>(F>>1)-1?(F>>1)-R:R):G=0,T[V]=G,O.iushrn(1)}return T},yt.getJSF=function(B,I){var Y=[[],[]];B=B.clone(),I=I.clone();for(var O,T=0,F=0;B.cmpn(-T)>0||I.cmpn(-F)>0;){var R,$,V=B.andln(3)+T&3,G=I.andln(3)+F&3;3===V&&(V=-1),3===G&&(G=-1),R=0==(1&V)?0:3!=(O=B.andln(7)+T&7)&&5!==O||2!==G?V:-V,Y[0].push(R),$=0==(1&G)?0:3!=(O=I.andln(7)+F&7)&&5!==O||2!==V?G:-G,Y[1].push($),2*T===R+1&&(T=1-T),2*F===$+1&&(F=1-F),B.iushrn(1),I.iushrn(1)}return Y},yt.cachedProperty=function(B,I,Y){var T="_"+I;B.prototype[I]=function(){return void 0!==this[T]?this[T]:this[T]=Y.call(this)}},yt.parseBytes=function(B){return"string"==typeof B?yt.toArray(B,"hex"):B},yt.intFromLE=function(B){return new xt(B,"hex","le")}},9631:function(Yt,q,vt){!function(yt,xt){"use strict";function et(k,u){if(!k)throw new Error(u||"Assertion failed")}function it(k,u){k.super_=u;var p=function(){};p.prototype=u.prototype,k.prototype=new p,k.prototype.constructor=k}function M(k,u,p){if(M.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(p=u,u=10),this._init(k||0,u||10,p||"be"))}var j;"object"==typeof yt?yt.exports=M:xt.BN=M,M.BN=M,M.wordSize=26;try{j="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:vt(5568).Buffer}catch(k){}function H(k,u){var p=k.charCodeAt(u);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function X(k,u,p){var v=H(k,p);return p-1>=u&&(v|=H(k,p-1)<<4),v}function z(k,u,p,v){for(var g=0,w=Math.min(k.length,p),b=u;b<w;b++){var D=k.charCodeAt(b)-48;g*=v,g+=D>=49?D-49+10:D>=17?D-17+10:D}return g}M.isBN=function(u){return u instanceof M||null!==u&&"object"==typeof u&&u.constructor.wordSize===M.wordSize&&Array.isArray(u.words)},M.max=function(u,p){return u.cmp(p)>0?u:p},M.min=function(u,p){return u.cmp(p)<0?u:p},M.prototype._init=function(u,p,v){if("number"==typeof u)return this._initNumber(u,p,v);if("object"==typeof u)return this._initArray(u,p,v);"hex"===p&&(p=16),et(p===(0|p)&&p>=2&&p<=36);var g=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<u.length&&(16===p?this._parseHex(u,g,v):(this._parseBase(u,p,g),"le"===v&&this._initArray(this.toArray(),p,v)))},M.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(et(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===v&&this._initArray(this.toArray(),p,v)},M.prototype._initArray=function(u,p,v){if(et("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,b,D=0;if("be"===v)for(g=u.length-1,w=0;g>=0;g-=3)this.words[w]|=(b=u[g]|u[g-1]<<8|u[g-2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);else if("le"===v)for(g=0,w=0;g<u.length;g+=3)this.words[w]|=(b=u[g]|u[g+1]<<8|u[g+2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);return this.strip()},M.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var D,w=0,b=0;if("be"===v)for(g=u.length-1;g>=p;g-=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;else for(g=(u.length-p)%2==0?p+1:p;g<u.length;g+=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;this.strip()},M.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=p)g++;g--,w=w/p|0;for(var b=u.length-v,D=b%g,_=Math.min(b,b-D)+v,f=0,C=v;C<_;C+=g)f=z(u,C,C+g,p),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==D){var K=1;for(f=z(u,C,u.length,p),C=0;C<D;C++)K*=p;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},M.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red},M.prototype.clone=function(){var u=new M(null);return this.copy(u),u},M.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function F(k,u,p){p.negative=u.negative^k.negative;var v=k.length+u.length|0;p.length=v,v=v-1|0;var g=0|k.words[0],w=0|u.words[0],b=g*w,_=b/67108864|0;p.words[0]=67108863&b;for(var f=1;f<v;f++){for(var C=_>>>26,K=67108863&_,U=Math.min(f,u.length-1),W=Math.max(0,f-k.length+1);W<=U;W++)C+=(b=(g=0|k.words[f-W|0])*(w=0|u.words[W])+K)/67108864|0,K=67108863&b;p.words[f]=0|K,_=0|C}return 0!==_?p.words[f]=0|_:p.length--,p.strip()}M.prototype.toString=function(u,p){var v;if(p=0|p||1,16===(u=u||10)||"hex"===u){v="";for(var g=0,w=0,b=0;b<this.length;b++){var D=this.words[b],_=(16777215&(D<<g|w)).toString(16);v=0!=(w=D>>>24-g&16777215)||b!==this.length-1?B[6-_.length]+_+v:_+v,(g+=2)>=26&&(g-=26,b--)}for(0!==w&&(v=w.toString(16)+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}if(u===(0|u)&&u>=2&&u<=36){var f=I[u],C=Y[u];v="";var K=this.clone();for(K.negative=0;!K.isZero();){var U=K.modn(C).toString(u);v=(K=K.idivn(C)).isZero()?U+v:B[f-U.length]+U+v}for(this.isZero()&&(v="0"+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}et(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&et(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(u,p){return et(void 0!==j),this.toArrayLike(j,u,p)},M.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)},M.prototype.toArrayLike=function(u,p,v){var g=this.byteLength(),w=v||Math.max(1,g);et(g<=w,"byte array longer than desired length"),et(w>0,"Requested array length <= 0"),this.strip();var _,f,b="le"===p,D=new u(w),C=this.clone();if(b){for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[f]=_;for(;f<w;f++)D[f]=0}else{for(f=0;f<w-g;f++)D[f]=0;for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[w-f-1]=_}return D},M.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},M.prototype._zeroBits=function(u){if(0===u)return 26;var p=u,v=0;return 0==(8191&p)&&(v+=13,p>>>=13),0==(127&p)&&(v+=7,p>>>=7),0==(15&p)&&(v+=4,p>>>=4),0==(3&p)&&(v+=2,p>>>=2),0==(1&p)&&v++,v},M.prototype.bitLength=function(){var p=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+p},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,26!==v)break}return u},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},M.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this.strip()},M.prototype.ior=function(u){return et(0==(this.negative|u.negative)),this.iuor(u)},M.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},M.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},M.prototype.iuand=function(u){var p;p=this.length>u.length?u:this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this.strip()},M.prototype.iand=function(u){return et(0==(this.negative|u.negative)),this.iuand(u)},M.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},M.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},M.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var g=0;g<v.length;g++)this.words[g]=p.words[g]^v.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this.strip()},M.prototype.ixor=function(u){return et(0==(this.negative|u.negative)),this.iuxor(u)},M.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},M.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},M.prototype.inotn=function(u){et("number"==typeof u&&u>=0);var p=0|Math.ceil(u/26),v=u%26;this._expand(p),v>0&&p--;for(var g=0;g<p;g++)this.words[g]=67108863&~this.words[g];return v>0&&(this.words[g]=~this.words[g]&67108863>>26-v),this.strip()},M.prototype.notn=function(u){return this.clone().inotn(u)},M.prototype.setn=function(u,p){et("number"==typeof u&&u>=0);var v=u/26|0,g=u%26;return this._expand(v+1),this.words[v]=p?this.words[v]|1<<g:this.words[v]&~(1<<g),this.strip()},M.prototype.iadd=function(u){var p,v,g;if(0!==this.negative&&0===u.negative)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();this.length>u.length?(v=this,g=u):(v=u,g=this);for(var w=0,b=0;b<g.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+(0|g.words[b])+w),w=p>>>26;for(;0!==w&&b<v.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+w),w=p>>>26;if(this.length=v.length,0!==w)this.words[this.length]=w,this.length++;else if(v!==this)for(;b<v.length;b++)this.words[b]=v.words[b];return this},M.prototype.add=function(u){var p;return 0!==u.negative&&0===this.negative?(u.negative=0,p=this.sub(u),u.negative^=1,p):0===u.negative&&0!==this.negative?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},M.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g,w,v=this.cmp(u);if(0===v)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(g=this,w=u):(g=u,w=this);for(var b=0,D=0;D<w.length;D++)b=(p=(0|g.words[D])-(0|w.words[D])+b)>>26,this.words[D]=67108863&p;for(;0!==b&&D<g.length;D++)b=(p=(0|g.words[D])+b)>>26,this.words[D]=67108863&p;if(0===b&&D<g.length&&g!==this)for(;D<g.length;D++)this.words[D]=g.words[D];return this.length=Math.max(this.length,D),g!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(u){return this.clone().isub(u)};var O=function(u,p,v){var _,f,C,g=u.words,w=p.words,b=v.words,D=0,K=0|g[0],U=8191&K,W=K>>>13,st=0|g[1],ct=8191&st,Ct=st>>>13,kt=0|g[2],wt=8191&kt,ut=kt>>>13,Ot=0|g[3],bt=8191&Ot,pt=Ot>>>13,Dt=0|g[4],Rt=8191&Dt,St=Dt>>>13,te=0|g[5],At=8191&te,Kt=te>>>13,Oe=0|g[6],Jt=8191&Oe,$t=Oe>>>13,he=0|g[7],Tt=8191&he,Bt=he>>>13,le=0|g[8],Mt=8191&le,ot=le>>>13,J=0|g[9],Nt=8191&J,Gt=J>>>13,ge=0|w[0],qt=8191&ge,ae=ge>>>13,ei=0|w[1],be=8191&ei,xe=ei>>>13,Ke=0|w[2],Ne=8191&Ke,Le=Ke>>>13,Di=0|w[3],Ve=8191&Di,fe=Di>>>13,si=0|w[4],je=8191&si,se=si>>>13,Se=0|w[5],re=8191&Se,jt=Se>>>13,ne=0|w[6],Ut=8191&ne,ee=ne>>>13,ye=0|w[7],Lt=8191&ye,ue=ye>>>13,ni=0|w[8],we=8191&ni,Ae=ni>>>13,Ti=0|w[9],ke=8191&Ti,De=Ti>>>13;v.negative=u.negative^p.negative,v.length=19;var fi=(D+(_=Math.imul(U,qt))|0)+((8191&(f=(f=Math.imul(U,ae))+Math.imul(W,qt)|0))<<13)|0;D=((C=Math.imul(W,ae))+(f>>>13)|0)+(fi>>>26)|0,fi&=67108863,_=Math.imul(ct,qt),f=(f=Math.imul(ct,ae))+Math.imul(Ct,qt)|0,C=Math.imul(Ct,ae);var hi=(D+(_=_+Math.imul(U,be)|0)|0)+((8191&(f=(f=f+Math.imul(U,xe)|0)+Math.imul(W,be)|0))<<13)|0;D=((C=C+Math.imul(W,xe)|0)+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,_=Math.imul(wt,qt),f=(f=Math.imul(wt,ae))+Math.imul(ut,qt)|0,C=Math.imul(ut,ae),_=_+Math.imul(ct,be)|0,f=(f=f+Math.imul(ct,xe)|0)+Math.imul(Ct,be)|0,C=C+Math.imul(Ct,xe)|0;var Pi=(D+(_=_+Math.imul(U,Ne)|0)|0)+((8191&(f=(f=f+Math.imul(U,Le)|0)+Math.imul(W,Ne)|0))<<13)|0;D=((C=C+Math.imul(W,Le)|0)+(f>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,_=Math.imul(bt,qt),f=(f=Math.imul(bt,ae))+Math.imul(pt,qt)|0,C=Math.imul(pt,ae),_=_+Math.imul(wt,be)|0,f=(f=f+Math.imul(wt,xe)|0)+Math.imul(ut,be)|0,C=C+Math.imul(ut,xe)|0,_=_+Math.imul(ct,Ne)|0,f=(f=f+Math.imul(ct,Le)|0)+Math.imul(Ct,Ne)|0,C=C+Math.imul(Ct,Le)|0;var vn=(D+(_=_+Math.imul(U,Ve)|0)|0)+((8191&(f=(f=f+Math.imul(U,fe)|0)+Math.imul(W,Ve)|0))<<13)|0;D=((C=C+Math.imul(W,fe)|0)+(f>>>13)|0)+(vn>>>26)|0,vn&=67108863,_=Math.imul(Rt,qt),f=(f=Math.imul(Rt,ae))+Math.imul(St,qt)|0,C=Math.imul(St,ae),_=_+Math.imul(bt,be)|0,f=(f=f+Math.imul(bt,xe)|0)+Math.imul(pt,be)|0,C=C+Math.imul(pt,xe)|0,_=_+Math.imul(wt,Ne)|0,f=(f=f+Math.imul(wt,Le)|0)+Math.imul(ut,Ne)|0,C=C+Math.imul(ut,Le)|0,_=_+Math.imul(ct,Ve)|0,f=(f=f+Math.imul(ct,fe)|0)+Math.imul(Ct,Ve)|0,C=C+Math.imul(Ct,fe)|0;var ji=(D+(_=_+Math.imul(U,je)|0)|0)+((8191&(f=(f=f+Math.imul(U,se)|0)+Math.imul(W,je)|0))<<13)|0;D=((C=C+Math.imul(W,se)|0)+(f>>>13)|0)+(ji>>>26)|0,ji&=67108863,_=Math.imul(At,qt),f=(f=Math.imul(At,ae))+Math.imul(Kt,qt)|0,C=Math.imul(Kt,ae),_=_+Math.imul(Rt,be)|0,f=(f=f+Math.imul(Rt,xe)|0)+Math.imul(St,be)|0,C=C+Math.imul(St,xe)|0,_=_+Math.imul(bt,Ne)|0,f=(f=f+Math.imul(bt,Le)|0)+Math.imul(pt,Ne)|0,C=C+Math.imul(pt,Le)|0,_=_+Math.imul(wt,Ve)|0,f=(f=f+Math.imul(wt,fe)|0)+Math.imul(ut,Ve)|0,C=C+Math.imul(ut,fe)|0,_=_+Math.imul(ct,je)|0,f=(f=f+Math.imul(ct,se)|0)+Math.imul(Ct,je)|0,C=C+Math.imul(Ct,se)|0;var Ki=(D+(_=_+Math.imul(U,re)|0)|0)+((8191&(f=(f=f+Math.imul(U,jt)|0)+Math.imul(W,re)|0))<<13)|0;D=((C=C+Math.imul(W,jt)|0)+(f>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,_=Math.imul(Jt,qt),f=(f=Math.imul(Jt,ae))+Math.imul($t,qt)|0,C=Math.imul($t,ae),_=_+Math.imul(At,be)|0,f=(f=f+Math.imul(At,xe)|0)+Math.imul(Kt,be)|0,C=C+Math.imul(Kt,xe)|0,_=_+Math.imul(Rt,Ne)|0,f=(f=f+Math.imul(Rt,Le)|0)+Math.imul(St,Ne)|0,C=C+Math.imul(St,Le)|0,_=_+Math.imul(bt,Ve)|0,f=(f=f+Math.imul(bt,fe)|0)+Math.imul(pt,Ve)|0,C=C+Math.imul(pt,fe)|0,_=_+Math.imul(wt,je)|0,f=(f=f+Math.imul(wt,se)|0)+Math.imul(ut,je)|0,C=C+Math.imul(ut,se)|0,_=_+Math.imul(ct,re)|0,f=(f=f+Math.imul(ct,jt)|0)+Math.imul(Ct,re)|0,C=C+Math.imul(Ct,jt)|0;var oi=(D+(_=_+Math.imul(U,Ut)|0)|0)+((8191&(f=(f=f+Math.imul(U,ee)|0)+Math.imul(W,Ut)|0))<<13)|0;D=((C=C+Math.imul(W,ee)|0)+(f>>>13)|0)+(oi>>>26)|0,oi&=67108863,_=Math.imul(Tt,qt),f=(f=Math.imul(Tt,ae))+Math.imul(Bt,qt)|0,C=Math.imul(Bt,ae),_=_+Math.imul(Jt,be)|0,f=(f=f+Math.imul(Jt,xe)|0)+Math.imul($t,be)|0,C=C+Math.imul($t,xe)|0,_=_+Math.imul(At,Ne)|0,f=(f=f+Math.imul(At,Le)|0)+Math.imul(Kt,Ne)|0,C=C+Math.imul(Kt,Le)|0,_=_+Math.imul(Rt,Ve)|0,f=(f=f+Math.imul(Rt,fe)|0)+Math.imul(St,Ve)|0,C=C+Math.imul(St,fe)|0,_=_+Math.imul(bt,je)|0,f=(f=f+Math.imul(bt,se)|0)+Math.imul(pt,je)|0,C=C+Math.imul(pt,se)|0,_=_+Math.imul(wt,re)|0,f=(f=f+Math.imul(wt,jt)|0)+Math.imul(ut,re)|0,C=C+Math.imul(ut,jt)|0,_=_+Math.imul(ct,Ut)|0,f=(f=f+Math.imul(ct,ee)|0)+Math.imul(Ct,Ut)|0,C=C+Math.imul(Ct,ee)|0;var Yn=(D+(_=_+Math.imul(U,Lt)|0)|0)+((8191&(f=(f=f+Math.imul(U,ue)|0)+Math.imul(W,Lt)|0))<<13)|0;D=((C=C+Math.imul(W,ue)|0)+(f>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,_=Math.imul(Mt,qt),f=(f=Math.imul(Mt,ae))+Math.imul(ot,qt)|0,C=Math.imul(ot,ae),_=_+Math.imul(Tt,be)|0,f=(f=f+Math.imul(Tt,xe)|0)+Math.imul(Bt,be)|0,C=C+Math.imul(Bt,xe)|0,_=_+Math.imul(Jt,Ne)|0,f=(f=f+Math.imul(Jt,Le)|0)+Math.imul($t,Ne)|0,C=C+Math.imul($t,Le)|0,_=_+Math.imul(At,Ve)|0,f=(f=f+Math.imul(At,fe)|0)+Math.imul(Kt,Ve)|0,C=C+Math.imul(Kt,fe)|0,_=_+Math.imul(Rt,je)|0,f=(f=f+Math.imul(Rt,se)|0)+Math.imul(St,je)|0,C=C+Math.imul(St,se)|0,_=_+Math.imul(bt,re)|0,f=(f=f+Math.imul(bt,jt)|0)+Math.imul(pt,re)|0,C=C+Math.imul(pt,jt)|0,_=_+Math.imul(wt,Ut)|0,f=(f=f+Math.imul(wt,ee)|0)+Math.imul(ut,Ut)|0,C=C+Math.imul(ut,ee)|0,_=_+Math.imul(ct,Lt)|0,f=(f=f+Math.imul(ct,ue)|0)+Math.imul(Ct,Lt)|0,C=C+Math.imul(Ct,ue)|0;var rn=(D+(_=_+Math.imul(U,we)|0)|0)+((8191&(f=(f=f+Math.imul(U,Ae)|0)+Math.imul(W,we)|0))<<13)|0;D=((C=C+Math.imul(W,Ae)|0)+(f>>>13)|0)+(rn>>>26)|0,rn&=67108863,_=Math.imul(Nt,qt),f=(f=Math.imul(Nt,ae))+Math.imul(Gt,qt)|0,C=Math.imul(Gt,ae),_=_+Math.imul(Mt,be)|0,f=(f=f+Math.imul(Mt,xe)|0)+Math.imul(ot,be)|0,C=C+Math.imul(ot,xe)|0,_=_+Math.imul(Tt,Ne)|0,f=(f=f+Math.imul(Tt,Le)|0)+Math.imul(Bt,Ne)|0,C=C+Math.imul(Bt,Le)|0,_=_+Math.imul(Jt,Ve)|0,f=(f=f+Math.imul(Jt,fe)|0)+Math.imul($t,Ve)|0,C=C+Math.imul($t,fe)|0,_=_+Math.imul(At,je)|0,f=(f=f+Math.imul(At,se)|0)+Math.imul(Kt,je)|0,C=C+Math.imul(Kt,se)|0,_=_+Math.imul(Rt,re)|0,f=(f=f+Math.imul(Rt,jt)|0)+Math.imul(St,re)|0,C=C+Math.imul(St,jt)|0,_=_+Math.imul(bt,Ut)|0,f=(f=f+Math.imul(bt,ee)|0)+Math.imul(pt,Ut)|0,C=C+Math.imul(pt,ee)|0,_=_+Math.imul(wt,Lt)|0,f=(f=f+Math.imul(wt,ue)|0)+Math.imul(ut,Lt)|0,C=C+Math.imul(ut,ue)|0,_=_+Math.imul(ct,we)|0,f=(f=f+Math.imul(ct,Ae)|0)+Math.imul(Ct,we)|0,C=C+Math.imul(Ct,Ae)|0;var an=(D+(_=_+Math.imul(U,ke)|0)|0)+((8191&(f=(f=f+Math.imul(U,De)|0)+Math.imul(W,ke)|0))<<13)|0;D=((C=C+Math.imul(W,De)|0)+(f>>>13)|0)+(an>>>26)|0,an&=67108863,_=Math.imul(Nt,be),f=(f=Math.imul(Nt,xe))+Math.imul(Gt,be)|0,C=Math.imul(Gt,xe),_=_+Math.imul(Mt,Ne)|0,f=(f=f+Math.imul(Mt,Le)|0)+Math.imul(ot,Ne)|0,C=C+Math.imul(ot,Le)|0,_=_+Math.imul(Tt,Ve)|0,f=(f=f+Math.imul(Tt,fe)|0)+Math.imul(Bt,Ve)|0,C=C+Math.imul(Bt,fe)|0,_=_+Math.imul(Jt,je)|0,f=(f=f+Math.imul(Jt,se)|0)+Math.imul($t,je)|0,C=C+Math.imul($t,se)|0,_=_+Math.imul(At,re)|0,f=(f=f+Math.imul(At,jt)|0)+Math.imul(Kt,re)|0,C=C+Math.imul(Kt,jt)|0,_=_+Math.imul(Rt,Ut)|0,f=(f=f+Math.imul(Rt,ee)|0)+Math.imul(St,Ut)|0,C=C+Math.imul(St,ee)|0,_=_+Math.imul(bt,Lt)|0,f=(f=f+Math.imul(bt,ue)|0)+Math.imul(pt,Lt)|0,C=C+Math.imul(pt,ue)|0,_=_+Math.imul(wt,we)|0,f=(f=f+Math.imul(wt,Ae)|0)+Math.imul(ut,we)|0,C=C+Math.imul(ut,Ae)|0;var Ui=(D+(_=_+Math.imul(ct,ke)|0)|0)+((8191&(f=(f=f+Math.imul(ct,De)|0)+Math.imul(Ct,ke)|0))<<13)|0;D=((C=C+Math.imul(Ct,De)|0)+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,_=Math.imul(Nt,Ne),f=(f=Math.imul(Nt,Le))+Math.imul(Gt,Ne)|0,C=Math.imul(Gt,Le),_=_+Math.imul(Mt,Ve)|0,f=(f=f+Math.imul(Mt,fe)|0)+Math.imul(ot,Ve)|0,C=C+Math.imul(ot,fe)|0,_=_+Math.imul(Tt,je)|0,f=(f=f+Math.imul(Tt,se)|0)+Math.imul(Bt,je)|0,C=C+Math.imul(Bt,se)|0,_=_+Math.imul(Jt,re)|0,f=(f=f+Math.imul(Jt,jt)|0)+Math.imul($t,re)|0,C=C+Math.imul($t,jt)|0,_=_+Math.imul(At,Ut)|0,f=(f=f+Math.imul(At,ee)|0)+Math.imul(Kt,Ut)|0,C=C+Math.imul(Kt,ee)|0,_=_+Math.imul(Rt,Lt)|0,f=(f=f+Math.imul(Rt,ue)|0)+Math.imul(St,Lt)|0,C=C+Math.imul(St,ue)|0,_=_+Math.imul(bt,we)|0,f=(f=f+Math.imul(bt,Ae)|0)+Math.imul(pt,we)|0,C=C+Math.imul(pt,Ae)|0;var lr=(D+(_=_+Math.imul(wt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(wt,De)|0)+Math.imul(ut,ke)|0))<<13)|0;D=((C=C+Math.imul(ut,De)|0)+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(Nt,Ve),f=(f=Math.imul(Nt,fe))+Math.imul(Gt,Ve)|0,C=Math.imul(Gt,fe),_=_+Math.imul(Mt,je)|0,f=(f=f+Math.imul(Mt,se)|0)+Math.imul(ot,je)|0,C=C+Math.imul(ot,se)|0,_=_+Math.imul(Tt,re)|0,f=(f=f+Math.imul(Tt,jt)|0)+Math.imul(Bt,re)|0,C=C+Math.imul(Bt,jt)|0,_=_+Math.imul(Jt,Ut)|0,f=(f=f+Math.imul(Jt,ee)|0)+Math.imul($t,Ut)|0,C=C+Math.imul($t,ee)|0,_=_+Math.imul(At,Lt)|0,f=(f=f+Math.imul(At,ue)|0)+Math.imul(Kt,Lt)|0,C=C+Math.imul(Kt,ue)|0,_=_+Math.imul(Rt,we)|0,f=(f=f+Math.imul(Rt,Ae)|0)+Math.imul(St,we)|0,C=C+Math.imul(St,Ae)|0;var He=(D+(_=_+Math.imul(bt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(bt,De)|0)+Math.imul(pt,ke)|0))<<13)|0;D=((C=C+Math.imul(pt,De)|0)+(f>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Nt,je),f=(f=Math.imul(Nt,se))+Math.imul(Gt,je)|0,C=Math.imul(Gt,se),_=_+Math.imul(Mt,re)|0,f=(f=f+Math.imul(Mt,jt)|0)+Math.imul(ot,re)|0,C=C+Math.imul(ot,jt)|0,_=_+Math.imul(Tt,Ut)|0,f=(f=f+Math.imul(Tt,ee)|0)+Math.imul(Bt,Ut)|0,C=C+Math.imul(Bt,ee)|0,_=_+Math.imul(Jt,Lt)|0,f=(f=f+Math.imul(Jt,ue)|0)+Math.imul($t,Lt)|0,C=C+Math.imul($t,ue)|0,_=_+Math.imul(At,we)|0,f=(f=f+Math.imul(At,Ae)|0)+Math.imul(Kt,we)|0,C=C+Math.imul(Kt,Ae)|0;var yi=(D+(_=_+Math.imul(Rt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Rt,De)|0)+Math.imul(St,ke)|0))<<13)|0;D=((C=C+Math.imul(St,De)|0)+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,_=Math.imul(Nt,re),f=(f=Math.imul(Nt,jt))+Math.imul(Gt,re)|0,C=Math.imul(Gt,jt),_=_+Math.imul(Mt,Ut)|0,f=(f=f+Math.imul(Mt,ee)|0)+Math.imul(ot,Ut)|0,C=C+Math.imul(ot,ee)|0,_=_+Math.imul(Tt,Lt)|0,f=(f=f+Math.imul(Tt,ue)|0)+Math.imul(Bt,Lt)|0,C=C+Math.imul(Bt,ue)|0,_=_+Math.imul(Jt,we)|0,f=(f=f+Math.imul(Jt,Ae)|0)+Math.imul($t,we)|0,C=C+Math.imul($t,Ae)|0;var tn=(D+(_=_+Math.imul(At,ke)|0)|0)+((8191&(f=(f=f+Math.imul(At,De)|0)+Math.imul(Kt,ke)|0))<<13)|0;D=((C=C+Math.imul(Kt,De)|0)+(f>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul(Nt,Ut),f=(f=Math.imul(Nt,ee))+Math.imul(Gt,Ut)|0,C=Math.imul(Gt,ee),_=_+Math.imul(Mt,Lt)|0,f=(f=f+Math.imul(Mt,ue)|0)+Math.imul(ot,Lt)|0,C=C+Math.imul(ot,ue)|0,_=_+Math.imul(Tt,we)|0,f=(f=f+Math.imul(Tt,Ae)|0)+Math.imul(Bt,we)|0,C=C+Math.imul(Bt,Ae)|0;var wi=(D+(_=_+Math.imul(Jt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Jt,De)|0)+Math.imul($t,ke)|0))<<13)|0;D=((C=C+Math.imul($t,De)|0)+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,_=Math.imul(Nt,Lt),f=(f=Math.imul(Nt,ue))+Math.imul(Gt,Lt)|0,C=Math.imul(Gt,ue),_=_+Math.imul(Mt,we)|0,f=(f=f+Math.imul(Mt,Ae)|0)+Math.imul(ot,we)|0,C=C+Math.imul(ot,Ae)|0;var $n=(D+(_=_+Math.imul(Tt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Tt,De)|0)+Math.imul(Bt,ke)|0))<<13)|0;D=((C=C+Math.imul(Bt,De)|0)+(f>>>13)|0)+($n>>>26)|0,$n&=67108863,_=Math.imul(Nt,we),f=(f=Math.imul(Nt,Ae))+Math.imul(Gt,we)|0,C=Math.imul(Gt,Ae);var sr=(D+(_=_+Math.imul(Mt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Mt,De)|0)+Math.imul(ot,ke)|0))<<13)|0;D=((C=C+Math.imul(ot,De)|0)+(f>>>13)|0)+(sr>>>26)|0,sr&=67108863;var Xe=(D+(_=Math.imul(Nt,ke))|0)+((8191&(f=(f=Math.imul(Nt,De))+Math.imul(Gt,ke)|0))<<13)|0;return D=((C=Math.imul(Gt,De))+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b[0]=fi,b[1]=hi,b[2]=Pi,b[3]=vn,b[4]=ji,b[5]=Ki,b[6]=oi,b[7]=Yn,b[8]=rn,b[9]=an,b[10]=Ui,b[11]=lr,b[12]=He,b[13]=yi,b[14]=tn,b[15]=wi,b[16]=$n,b[17]=sr,b[18]=Xe,0!==D&&(b[19]=D,v.length++),v};function G(k,u,p){return(new R).mulp(k,u,p)}function R(k,u){this.x=k,this.y=u}Math.imul||(O=F),M.prototype.mulTo=function(u,p){var v,g=this.length+u.length;return v=10===this.length&&10===u.length?O(this,u,p):g<63?F(this,u,p):g<1024?function(k,u,p){p.negative=u.negative^k.negative,p.length=k.length+u.length;for(var v=0,g=0,w=0;w<p.length-1;w++){var b=g;g=0;for(var D=67108863&v,_=Math.min(w,u.length-1),f=Math.max(0,w-k.length+1);f<=_;f++){var W=(0|k.words[w-f])*(0|u.words[f]),st=67108863&W;D=67108863&(st=st+D|0),g+=(b=(b=b+(W/67108864|0)|0)+(st>>>26)|0)>>>26,b&=67108863}p.words[w]=D,v=b,b=g}return 0!==v?p.words[w]=v:p.length--,p.strip()}(this,u,p):G(this,u,p),v},R.prototype.makeRBT=function(u){for(var p=new Array(u),v=M.prototype._countBits(u)-1,g=0;g<u;g++)p[g]=this.revBin(g,v,u);return p},R.prototype.revBin=function(u,p,v){if(0===u||u===v-1)return u;for(var g=0,w=0;w<p;w++)g|=(1&u)<<p-w-1,u>>=1;return g},R.prototype.permute=function(u,p,v,g,w,b){for(var D=0;D<b;D++)g[D]=p[u[D]],w[D]=v[u[D]]},R.prototype.transform=function(u,p,v,g,w,b){this.permute(b,u,p,v,g,w);for(var D=1;D<w;D<<=1)for(var _=D<<1,f=Math.cos(2*Math.PI/_),C=Math.sin(2*Math.PI/_),K=0;K<w;K+=_)for(var U=f,W=C,st=0;st<D;st++){var ct=v[K+st],Ct=g[K+st],kt=v[K+st+D],wt=g[K+st+D],ut=U*kt-W*wt;wt=U*wt+W*kt,v[K+st]=ct+(kt=ut),g[K+st]=Ct+wt,v[K+st+D]=ct-kt,g[K+st+D]=Ct-wt,st!==_&&(ut=f*U-C*W,W=f*W+C*U,U=ut)}},R.prototype.guessLen13b=function(u,p){var v=1|Math.max(p,u),g=1&v,w=0;for(v=v/2|0;v;v>>>=1)w++;return 1<<w+1+g},R.prototype.conjugate=function(u,p,v){if(!(v<=1))for(var g=0;g<v/2;g++){var w=u[g];u[g]=u[v-g-1],u[v-g-1]=w,w=p[g],p[g]=-p[v-g-1],p[v-g-1]=-w}},R.prototype.normalize13b=function(u,p){for(var v=0,g=0;g<p/2;g++){var w=8192*Math.round(u[2*g+1]/p)+Math.round(u[2*g]/p)+v;u[g]=67108863&w,v=w<67108864?0:w/67108864|0}return u},R.prototype.convert13b=function(u,p,v,g){for(var w=0,b=0;b<p;b++)v[2*b]=8191&(w+=0|u[b]),v[2*b+1]=8191&(w>>>=13),w>>>=13;for(b=2*p;b<g;++b)v[b]=0;et(0===w),et(0==(-8192&w))},R.prototype.stub=function(u){for(var p=new Array(u),v=0;v<u;v++)p[v]=0;return p},R.prototype.mulp=function(u,p,v){var g=2*this.guessLen13b(u.length,p.length),w=this.makeRBT(g),b=this.stub(g),D=new Array(g),_=new Array(g),f=new Array(g),C=new Array(g),K=new Array(g),U=new Array(g),W=v.words;W.length=g,this.convert13b(u.words,u.length,D,g),this.convert13b(p.words,p.length,C,g),this.transform(D,b,_,f,g,w),this.transform(C,b,K,U,g,w);for(var st=0;st<g;st++){var ct=_[st]*K[st]-f[st]*U[st];f[st]=_[st]*U[st]+f[st]*K[st],_[st]=ct}return this.conjugate(_,f,g),this.transform(_,f,W,b,g,w),this.conjugate(W,b,g),this.normalize13b(W,g),v.negative=u.negative^p.negative,v.length=u.length+p.length,v.strip()},M.prototype.mul=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},M.prototype.mulf=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),G(this,u,p)},M.prototype.imul=function(u){return this.clone().mulTo(u,this)},M.prototype.imuln=function(u){et("number"==typeof u),et(u<67108864);for(var p=0,v=0;v<this.length;v++){var g=(0|this.words[v])*u,w=(67108863&g)+(67108863&p);p>>=26,p+=g/67108864|0,p+=w>>>26,this.words[v]=67108863&w}return 0!==p&&(this.words[v]=p,this.length++),this},M.prototype.muln=function(u){return this.clone().imuln(u)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(u){var p=function(k){for(var u=new Array(k.bitLength()),p=0;p<u.length;p++){var g=p%26;u[p]=(k.words[p/26|0]&1<<g)>>>g}return u}(u);if(0===p.length)return new M(1);for(var v=this,g=0;g<p.length&&0===p[g];g++,v=v.sqr());if(++g<p.length)for(var w=v.sqr();g<p.length;g++,w=w.sqr())0!==p[g]&&(v=v.mul(w));return v},M.prototype.iushln=function(u){et("number"==typeof u&&u>=0);var w,p=u%26,v=(u-p)/26,g=67108863>>>26-p<<26-p;if(0!==p){var b=0;for(w=0;w<this.length;w++){var D=this.words[w]&g;this.words[w]=(0|this.words[w])-D<<p|b,b=D>>>26-p}b&&(this.words[w]=b,this.length++)}if(0!==v){for(w=this.length-1;w>=0;w--)this.words[w+v]=this.words[w];for(w=0;w<v;w++)this.words[w]=0;this.length+=v}return this.strip()},M.prototype.ishln=function(u){return et(0===this.negative),this.iushln(u)},M.prototype.iushrn=function(u,p,v){var g;et("number"==typeof u&&u>=0),g=p?(p-p%26)/26:0;var w=u%26,b=Math.min((u-w)/26,this.length),D=67108863^67108863>>>w<<w,_=v;if(g-=b,g=Math.max(0,g),_){for(var f=0;f<b;f++)_.words[f]=this.words[f];_.length=b}if(0!==b)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var C=0;for(f=this.length-1;f>=0&&(0!==C||f>=g);f--){var K=0|this.words[f];this.words[f]=C<<26-w|K>>>w,C=K&D}return _&&0!==C&&(_.words[_.length++]=C),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(u,p,v){return et(0===this.negative),this.iushrn(u,p,v)},M.prototype.shln=function(u){return this.clone().ishln(u)},M.prototype.ushln=function(u){return this.clone().iushln(u)},M.prototype.shrn=function(u){return this.clone().ishrn(u)},M.prototype.ushrn=function(u){return this.clone().iushrn(u)},M.prototype.testn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return!(this.length<=v||!(this.words[v]&1<<p))},M.prototype.imaskn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return et(0===this.negative,"imaskn works only with positive numbers"),this.length<=v?this:(0!==p&&v++,this.length=Math.min(v,this.length),0!==p&&(this.words[this.length-1]&=67108863^67108863>>>p<<p),this.strip())},M.prototype.maskn=function(u){return this.clone().imaskn(u)},M.prototype.iaddn=function(u){return et("number"==typeof u),et(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},M.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},M.prototype.isubn=function(u){if(et("number"==typeof u),et(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},M.prototype.addn=function(u){return this.clone().iaddn(u)},M.prototype.subn=function(u){return this.clone().isubn(u)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(u,p,v){var w;this._expand(u.length+v);var b,D=0;for(w=0;w<u.length;w++){b=(0|this.words[w+v])+D;var _=(0|u.words[w])*p;D=((b-=67108863&_)>>26)-(_/67108864|0),this.words[w+v]=67108863&b}for(;w<this.length-v;w++)D=(b=(0|this.words[w+v])+D)>>26,this.words[w+v]=67108863&b;if(0===D)return this.strip();for(et(-1===D),D=0,w=0;w<this.length;w++)D=(b=-(0|this.words[w])+D)>>26,this.words[w]=67108863&b;return this.negative=1,this.strip()},M.prototype._wordDiv=function(u,p){var v,g=this.clone(),w=u,b=0|w.words[w.length-1];0!=(v=26-this._countBits(b))&&(w=w.ushln(v),g.iushln(v),b=0|w.words[w.length-1]);var f,_=g.length-w.length;if("mod"!==p){(f=new M(null)).length=_+1,f.words=new Array(f.length);for(var C=0;C<f.length;C++)f.words[C]=0}var K=g.clone()._ishlnsubmul(w,1,_);0===K.negative&&(g=K,f&&(f.words[_]=1));for(var U=_-1;U>=0;U--){var W=67108864*(0|g.words[w.length+U])+(0|g.words[w.length+U-1]);for(W=Math.min(W/b|0,67108863),g._ishlnsubmul(w,W,U);0!==g.negative;)W--,g.negative=0,g._ishlnsubmul(w,1,U),g.isZero()||(g.negative^=1);f&&(f.words[U]=W)}return f&&f.strip(),g.strip(),"div"!==p&&0!==v&&g.iushrn(v),{div:f||null,mod:g}},M.prototype.divmod=function(u,p,v){return et(!u.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===u.negative?(b=this.neg().divmod(u,p),"mod"!==p&&(g=b.div.neg()),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.iadd(u)),{div:g,mod:w}):0===this.negative&&0!==u.negative?(b=this.divmod(u.neg(),p),"mod"!==p&&(g=b.div.neg()),{div:g,mod:b.mod}):0!=(this.negative&u.negative)?(b=this.neg().divmod(u.neg(),p),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.isub(u)),{div:b.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new M(0),mod:this}:1===u.length?"div"===p?{div:this.divn(u.words[0]),mod:null}:"mod"===p?{div:null,mod:new M(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new M(this.modn(u.words[0]))}:this._wordDiv(u,p);var g,w,b},M.prototype.div=function(u){return this.divmod(u,"div",!1).div},M.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},M.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},M.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=0!==p.div.negative?p.mod.isub(u):p.mod,g=u.ushrn(1),w=u.andln(1),b=v.cmp(g);return b<0||1===w&&0===b?p.div:0!==p.div.negative?p.div.isubn(1):p.div.iaddn(1)},M.prototype.modn=function(u){et(u<=67108863);for(var p=(1<<26)%u,v=0,g=this.length-1;g>=0;g--)v=(p*v+(0|this.words[g]))%u;return v},M.prototype.idivn=function(u){et(u<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var g=(0|this.words[v])+67108864*p;this.words[v]=g/u|0,p=g%u}return this.strip()},M.prototype.divn=function(u){return this.clone().idivn(u)},M.prototype.egcd=function(u){et(0===u.negative),et(!u.isZero());var p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=new M(0),D=new M(1),_=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++_;for(var f=v.clone(),C=p.clone();!p.isZero();){for(var K=0,U=1;0==(p.words[0]&U)&&K<26;++K,U<<=1);if(K>0)for(p.iushrn(K);K-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(C)),g.iushrn(1),w.iushrn(1);for(var W=0,st=1;0==(v.words[0]&st)&&W<26;++W,st<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(b.isOdd()||D.isOdd())&&(b.iadd(f),D.isub(C)),b.iushrn(1),D.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(b),w.isub(D)):(v.isub(p),b.isub(g),D.isub(w))}return{a:b,b:D,gcd:v.iushln(_)}},M.prototype._invmp=function(u){et(0===u.negative),et(!u.isZero());var K,p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var D=0,_=1;0==(p.words[0]&_)&&D<26;++D,_<<=1);if(D>0)for(p.iushrn(D);D-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);for(var f=0,C=1;0==(v.words[0]&C)&&f<26;++f,C<<=1);if(f>0)for(v.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(b),w.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(w)):(v.isub(p),w.isub(g))}return(K=0===p.cmpn(1)?g:w).cmpn(0)<0&&K.iadd(u),K},M.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var g=0;p.isEven()&&v.isEven();g++)p.iushrn(1),v.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var w=p.cmp(v);if(w<0){var b=p;p=v,v=b}else if(0===w||0===v.cmpn(1))break;p.isub(v)}return v.iushln(g)},M.prototype.invm=function(u){return this.egcd(u).a.umod(u)},M.prototype.isEven=function(){return 0==(1&this.words[0])},M.prototype.isOdd=function(){return 1==(1&this.words[0])},M.prototype.andln=function(u){return this.words[0]&u},M.prototype.bincn=function(u){et("number"==typeof u);var p=u%26,v=(u-p)/26,g=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=g,this;for(var w=g,b=v;0!==w&&b<this.length;b++){var D=0|this.words[b];w=(D+=w)>>>26,this.words[b]=D&=67108863}return 0!==w&&(this.words[b]=w,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(u){var v,p=u<0;if(0!==this.negative&&!p)return-1;if(0===this.negative&&p)return 1;if(this.strip(),this.length>1)v=1;else{p&&(u=-u),et(u<=67108863,"Number is too big");var g=0|this.words[0];v=g===u?0:g<u?-1:1}return 0!==this.negative?0|-v:v},M.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var p=this.ucmp(u);return 0!==this.negative?0|-p:p},M.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var g=0|this.words[v],w=0|u.words[v];if(g!==w){g<w?p=-1:g>w&&(p=1);break}}return p},M.prototype.gtn=function(u){return 1===this.cmpn(u)},M.prototype.gt=function(u){return 1===this.cmp(u)},M.prototype.gten=function(u){return this.cmpn(u)>=0},M.prototype.gte=function(u){return this.cmp(u)>=0},M.prototype.ltn=function(u){return-1===this.cmpn(u)},M.prototype.lt=function(u){return-1===this.cmp(u)},M.prototype.lten=function(u){return this.cmpn(u)<=0},M.prototype.lte=function(u){return this.cmp(u)<=0},M.prototype.eqn=function(u){return 0===this.cmpn(u)},M.prototype.eq=function(u){return 0===this.cmp(u)},M.red=function(u){return new dt(u)},M.prototype.toRed=function(u){return et(!this.red,"Already a number in reduction context"),et(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},M.prototype.fromRed=function(){return et(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(u){return this.red=u,this},M.prototype.forceRed=function(u){return et(!this.red,"Already a number in reduction context"),this._forceRed(u)},M.prototype.redAdd=function(u){return et(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},M.prototype.redIAdd=function(u){return et(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},M.prototype.redSub=function(u){return et(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},M.prototype.redISub=function(u){return et(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},M.prototype.redShl=function(u){return et(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},M.prototype.redMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},M.prototype.redIMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},M.prototype.redSqr=function(){return et(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return et(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return et(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return et(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return et(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(u){return et(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function Z(k,u){this.name=k,this.p=new M(u,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Q(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function lt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ht(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function mt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function dt(k){if("string"==typeof k){var u=M._prime(k);this.m=u.p,this.prime=u}else et(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function gt(k){dt.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Z.prototype._tmp=function(){var u=new M(null);return u.words=new Array(Math.ceil(this.n/13)),u},Z.prototype.ireduce=function(u){var v,p=u;do{this.split(p,this.tmp),v=(p=(p=this.imulK(p)).iadd(this.tmp)).bitLength()}while(v>this.n);var g=v<this.n?-1:p.ucmp(this.p);return 0===g?(p.words[0]=0,p.length=1):g>0?p.isub(this.p):void 0!==p.strip?p.strip():p._strip(),p},Z.prototype.split=function(u,p){u.iushrn(this.n,0,p)},Z.prototype.imulK=function(u){return u.imul(this.k)},it(Q,Z),Q.prototype.split=function(u,p){for(var v=4194303,g=Math.min(u.length,9),w=0;w<g;w++)p.words[w]=u.words[w];if(p.length=g,u.length<=9)return u.words[0]=0,void(u.length=1);var b=u.words[9];for(p.words[p.length++]=b&v,w=10;w<u.length;w++){var D=0|u.words[w];u.words[w-10]=(D&v)<<4|b>>>22,b=D}u.words[w-10]=b>>>=22,u.length-=0===b&&u.length>10?10:9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var g=0|u.words[v];u.words[v]=67108863&(p+=977*g),p=64*g+(p/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},it(lt,Z),it(ht,Z),it(mt,Z),mt.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var g=19*(0|u.words[v])+p,w=67108863&g;g>>>=26,u.words[v]=w,p=g}return 0!==p&&(u.words[u.length++]=p),u},M._prime=function(u){if($[u])return $[u];var p;if("k256"===u)p=new Q;else if("p224"===u)p=new lt;else if("p192"===u)p=new ht;else{if("p25519"!==u)throw new Error("Unknown prime "+u);p=new mt}return $[u]=p,p},dt.prototype._verify1=function(u){et(0===u.negative,"red works only with positives"),et(u.red,"red works only with red numbers")},dt.prototype._verify2=function(u,p){et(0==(u.negative|p.negative),"red works only with positives"),et(u.red&&u.red===p.red,"red works only with red numbers")},dt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},dt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},dt.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},dt.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},dt.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},dt.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},dt.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},dt.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},dt.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},dt.prototype.isqr=function(u){return this.imul(u,u.clone())},dt.prototype.sqr=function(u){return this.mul(u,u)},dt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(et(p%2==1),3===p){var v=this.m.add(new M(1)).iushrn(2);return this.pow(u,v)}for(var g=this.m.subn(1),w=0;!g.isZero()&&0===g.andln(1);)w++,g.iushrn(1);et(!g.isZero());var b=new M(1).toRed(this),D=b.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new M(2*f*f).toRed(this);0!==this.pow(f,_).cmp(D);)f.redIAdd(D);for(var C=this.pow(f,g),K=this.pow(u,g.addn(1).iushrn(1)),U=this.pow(u,g),W=w;0!==U.cmp(b);){for(var st=U,ct=0;0!==st.cmp(b);ct++)st=st.redSqr();et(ct<W);var Ct=this.pow(C,new M(1).iushln(W-ct-1));K=K.redMul(Ct),C=Ct.redSqr(),U=U.redMul(C),W=ct}return K},dt.prototype.invm=function(u){var p=u._invmp(this.m);return 0!==p.negative?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},dt.prototype.pow=function(u,p){if(p.isZero())return new M(1).toRed(this);if(0===p.cmpn(1))return u.clone();var g=new Array(16);g[0]=new M(1).toRed(this),g[1]=u;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],u);var b=g[0],D=0,_=0,f=p.bitLength()%26;for(0===f&&(f=26),w=p.length-1;w>=0;w--){for(var C=p.words[w],K=f-1;K>=0;K--){var U=C>>K&1;b!==g[0]&&(b=this.sqr(b)),0!==U||0!==D?(D<<=1,D|=U,(4==++_||0===w&&0===K)&&(b=this.mul(b,g[D]),_=0,D=0)):_=0}f=26}return b},dt.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},dt.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},M.mont=function(u){return new gt(u)},it(gt,dt),gt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},gt.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},gt.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new M(0)._forceRed(this);var v=u.mul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Yt=vt.nmd(Yt),this)},7703:Yt=>{"use strict";var yt,q="object"==typeof Reflect?Reflect:null,vt=q&&"function"==typeof q.apply?q.apply:function(Z,Q,lt){return Function.prototype.apply.call(Z,Q,lt)};yt=q&&"function"==typeof q.ownKeys?q.ownKeys:Object.getOwnPropertySymbols?function(Z){return Object.getOwnPropertyNames(Z).concat(Object.getOwnPropertySymbols(Z))}:function(Z){return Object.getOwnPropertyNames(Z)};var et=Number.isNaN||function(Z){return Z!=Z};function it(){it.init.call(this)}Yt.exports=it,Yt.exports.once=function($,Z){return new Promise(function(Q,lt){function ht(dt){$.removeListener(Z,mt),lt(dt)}function mt(){"function"==typeof $.removeListener&&$.removeListener("error",ht),Q([].slice.call(arguments))}R($,Z,mt,{once:!0}),"error"!==Z&&function($,Z,Q){"function"==typeof $.on&&R($,"error",Z,{once:!0})}($,ht)})},it.EventEmitter=it,it.prototype._events=void 0,it.prototype._eventsCount=0,it.prototype._maxListeners=void 0;var M=10;function j($){if("function"!=typeof $)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof $)}function H($){return void 0===$._maxListeners?it.defaultMaxListeners:$._maxListeners}function X($,Z,Q,lt){var ht,mt,dt;if(j(Q),void 0===(mt=$._events)?(mt=$._events=Object.create(null),$._eventsCount=0):(void 0!==mt.newListener&&($.emit("newListener",Z,Q.listener?Q.listener:Q),mt=$._events),dt=mt[Z]),void 0===dt)dt=mt[Z]=Q,++$._eventsCount;else if("function"==typeof dt?dt=mt[Z]=lt?[Q,dt]:[dt,Q]:lt?dt.unshift(Q):dt.push(Q),(ht=H($))>0&&dt.length>ht&&!dt.warned){dt.warned=!0;var gt=new Error("Possible EventEmitter memory leak detected. "+dt.length+" "+String(Z)+" listeners added. Use emitter.setMaxListeners() to increase limit");gt.name="MaxListenersExceededWarning",gt.emitter=$,gt.type=Z,gt.count=dt.length,function($){console&&console.warn&&console.warn($)}(gt)}return $}function z(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function B($,Z,Q){var lt={fired:!1,wrapFn:void 0,target:$,type:Z,listener:Q},ht=z.bind(lt);return ht.listener=Q,lt.wrapFn=ht,ht}function I($,Z,Q){var lt=$._events;if(void 0===lt)return[];var ht=lt[Z];return void 0===ht?[]:"function"==typeof ht?Q?[ht.listener||ht]:[ht]:Q?function($){for(var Z=new Array($.length),Q=0;Q<Z.length;++Q)Z[Q]=$[Q].listener||$[Q];return Z}(ht):T(ht,ht.length)}function Y($){var Z=this._events;if(void 0!==Z){var Q=Z[$];if("function"==typeof Q)return 1;if(void 0!==Q)return Q.length}return 0}function T($,Z){for(var Q=new Array(Z),lt=0;lt<Z;++lt)Q[lt]=$[lt];return Q}function R($,Z,Q,lt){if("function"==typeof $.on)lt.once?$.once(Z,Q):$.on(Z,Q);else{if("function"!=typeof $.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof $);$.addEventListener(Z,function ht(mt){lt.once&&$.removeEventListener(Z,ht),Q(mt)})}}Object.defineProperty(it,"defaultMaxListeners",{enumerable:!0,get:function(){return M},set:function($){if("number"!=typeof $||$<0||et($))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+$+".");M=$}}),it.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},it.prototype.setMaxListeners=function(Z){if("number"!=typeof Z||Z<0||et(Z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Z+".");return this._maxListeners=Z,this},it.prototype.getMaxListeners=function(){return H(this)},it.prototype.emit=function(Z){for(var Q=[],lt=1;lt<arguments.length;lt++)Q.push(arguments[lt]);var ht="error"===Z,mt=this._events;if(void 0!==mt)ht=ht&&void 0===mt.error;else if(!ht)return!1;if(ht){var dt;if(Q.length>0&&(dt=Q[0]),dt instanceof Error)throw dt;var gt=new Error("Unhandled error."+(dt?" ("+dt.message+")":""));throw gt.context=dt,gt}var k=mt[Z];if(void 0===k)return!1;if("function"==typeof k)vt(k,this,Q);else{var u=k.length,p=T(k,u);for(lt=0;lt<u;++lt)vt(p[lt],this,Q)}return!0},it.prototype.on=it.prototype.addListener=function(Z,Q){return X(this,Z,Q,!1)},it.prototype.prependListener=function(Z,Q){return X(this,Z,Q,!0)},it.prototype.once=function(Z,Q){return j(Q),this.on(Z,B(this,Z,Q)),this},it.prototype.prependOnceListener=function(Z,Q){return j(Q),this.prependListener(Z,B(this,Z,Q)),this},it.prototype.off=it.prototype.removeListener=function(Z,Q){var lt,ht,mt,dt,gt;if(j(Q),void 0===(ht=this._events))return this;if(void 0===(lt=ht[Z]))return this;if(lt===Q||lt.listener===Q)0==--this._eventsCount?this._events=Object.create(null):(delete ht[Z],ht.removeListener&&this.emit("removeListener",Z,lt.listener||Q));else if("function"!=typeof lt){for(mt=-1,dt=lt.length-1;dt>=0;dt--)if(lt[dt]===Q||lt[dt].listener===Q){gt=lt[dt].listener,mt=dt;break}if(mt<0)return this;0===mt?lt.shift():function($,Z){for(;Z+1<$.length;Z++)$[Z]=$[Z+1];$.pop()}(lt,mt),1===lt.length&&(ht[Z]=lt[0]),void 0!==ht.removeListener&&this.emit("removeListener",Z,gt||Q)}return this},it.prototype.removeAllListeners=function(Z){var Q,lt,ht;if(void 0===(lt=this._events))return this;if(void 0===lt.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==lt[Z]&&(0==--this._eventsCount?this._events=Object.create(null):delete lt[Z]),this;if(0===arguments.length){var dt,mt=Object.keys(lt);for(ht=0;ht<mt.length;++ht)"removeListener"!==(dt=mt[ht])&&this.removeAllListeners(dt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(Q=lt[Z]))this.removeListener(Z,Q);else if(void 0!==Q)for(ht=Q.length-1;ht>=0;ht--)this.removeListener(Z,Q[ht]);return this},it.prototype.listeners=function(Z){return I(this,Z,!0)},it.prototype.rawListeners=function(Z){return I(this,Z,!1)},it.listenerCount=function($,Z){return"function"==typeof $.listenerCount?$.listenerCount(Z):Y.call($,Z)},it.prototype.listenerCount=Y,it.prototype.eventNames=function(){return this._eventsCount>0?yt(this._events):[]}},4539:(Yt,q,vt)=>{var yt=vt(4615).Buffer,xt=vt(2996);Yt.exports=function(it,M,j,H){if(yt.isBuffer(it)||(it=yt.from(it,"binary")),M&&(yt.isBuffer(M)||(M=yt.from(M,"binary")),8!==M.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var X=j/8,z=yt.alloc(X),B=yt.alloc(H||0),I=yt.alloc(0);X>0||H>0;){var Y=new xt;Y.update(I),Y.update(it),M&&Y.update(M),I=Y.digest();var T=0;if(X>0){var F=z.length-X;T=Math.min(X,I.length),I.copy(z,F,0,T),X-=T}if(T<I.length&&H>0){var O=B.length-H,V=Math.min(H,I.length-T);I.copy(B,O,T,T+V),H-=V}}return I.fill(0),{key:z,iv:B}}},6961:Yt=>{!function(){var q;function vt(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function yt(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:vt(t)}}function xt(t){for(var e,o=[];!(e=t.next()).done;)o.push(e.value);return o}var it,et="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)it=Object.setPrototypeOf;else{var M;t:{var H={};try{H.__proto__={a:!0},M=H.a;break t}catch(t){}M=!1}it=M?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var X=it;function z(t,e){if(t.prototype=et(e.prototype),t.prototype.constructor=t,X)X(t,e);else for(var o in e)if("prototype"!=o)if(Object.defineProperties){var a=Object.getOwnPropertyDescriptor(e,o);a&&Object.defineProperty(t,o,a)}else t[o]=e[o];t.BB=e.prototype}var B="undefined"!=typeof window&&window===self?self:"undefined"!=typeof global&&null!=global?global:self,I="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,o){t!=Array.prototype&&t!=Object.prototype&&(t[e]=o.value)};!function(t){if(t){for(var e=B,o=["Array","prototype","fill"],a=0;a<o.length-1;a++){var h=o[a];h in e||(e[h]={}),e=e[h]}(t=t(a=e[o=o[o.length-1]]))!=a&&null!=t&&I(e,o,{writable:!0,value:t})}}(function(t){return t||function(e,o,a){var h=this.length||0;for(0>o&&(o=Math.max(0,h+o)),(null==a||a>h)&&(a=h),0>(a=Number(a))&&(a=Math.max(0,h+a)),o=Number(o||0);o<a;o++)this[o]=e;return this}});var T="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||"object"==typeof window&&window.window===window&&window||{};function F(){}function O(t,e){var o=-1;return function(){var a=this,h=arguments;-1!==o&&T.clearTimeout(o),o=V(function(){o=-1,t.apply(a,h)},e)}}function V(t,e){return T.setTimeout(t,e)}function G(t){return T.document.createElement(t)}function R(t){throw Error(t)}function $(t,e){t="The object is frozen, so its properties cannot be set: "+t.toString(),void 0!==e&&(t+="  to value: "+e),R(t)}function Z(t,e,o,a){o=null===o?"*":"string"==typeof o?o:"function"==typeof o&&"string"==typeof o.className?o.className:"",void 0!==a&&(o+="."+a),R(o+" is not in the range "+e+": "+t)}function Q(t){T.console&&T.console.log(t)}function lt(){T.console&&T.console.log("Warning: List/Map/Set constructors no longer take an argument that enforces type.Instead they take an optional collection of Values to add to the collection. See 2.0 changelog for details.")}function ht(t){return"object"==typeof t&&null!==t}function mt(t){return Array.isArray(t)||T.NodeList&&t instanceof T.NodeList||T.HTMLCollection&&t instanceof T.HTMLCollection}function dt(t){return Array.prototype.slice.call(t)}function gt(t,e,o){Array.isArray(t)?e>=t.length?t.push(o):t.splice(e,0,o):R("Cannot insert an object into an HTMLCollection or NodeList: "+o+" at "+e)}function k(t,e){Array.isArray(t)?e>=t.length?t.pop():t.splice(e,1):R("Cannot remove an object from an HTMLCollection or NodeList at "+e)}function u(){var t=st.pop();return void 0===t?[]:t}function p(t){t.length=0,st.push(t)}function v(t){if("function"==typeof t){if(t.className)return t.className;if(t.name)return t.name;var e=t.toString();if(""!==(e=e.substring(9,e.indexOf("(")).trim()))return t._className=e}else if(ht(t)&&t.constructor)return v(t.constructor);return typeof t}function g(t){var e=t;return ht(t)&&(t.text?e=t.text:t.name?e=t.name:void 0!==t.key?e=t.key:void 0!==t.id?e=t.id:t.constructor===Object&&(t.Text?e=t.Text:t.Name?e=t.Name:void 0!==t.Key?e=t.Key:void 0!==t.Id?e=t.Id:void 0!==t.ID&&(e=t.ID))),void 0===e?"undefined":null===e?"null":e.toString()}function w(t,e){if(t.hasOwnProperty(e))return!0;for(t=Object.getPrototypeOf(t);t&&t!==Function;){if(t.hasOwnProperty(e))return!0;var o=t.nB;if(o&&o[e])return!0;t=Object.getPrototypeOf(t)}return!1}function b(t,e,o){Object.defineProperty(An.prototype,t,{get:e,set:o})}function D(t){for(var e=[],o=0;256>o;o++)e["0123456789abcdef".charAt(o>>4)+"0123456789abcdef".charAt(15&o)]=String.fromCharCode(o);t.length%2&&(t="0"+t),o=[];for(var a=0,h=0;h<t.length;h+=2)o[a++]=e[t.substr(h,2)];for(t=""===(t=o.join(""))?"0":t,e=[],o=0;256>o;o++)e[o]=o;for(o=a=0;256>o;o++)h=e[o],e[o]=e[a=(a+e[o]+119)%256],e[a]=h;a=o=0;for(var c="",m=0;m<t.length;m++)h=e[o=(o+1)%256],e[o]=e[a=(a+e[o])%256],e[a]=h,c+=String.fromCharCode(t.charCodeAt(m)^e[(e[o]+e[a])%256]);return c}void 0===T.requestAnimationFrame&&(T.requestAnimationFrame=void 0===T.setImmediate?function(t){T.setTimeout(t,0)}:T.setImmediate);var _=void 0!==T.navigator&&0<T.navigator.userAgent.indexOf("MSIE 9.0"),f=void 0!==T.navigator&&0<T.navigator.userAgent.indexOf("MSIE 10.0"),C=void 0!==T.navigator&&0<T.navigator.userAgent.indexOf("Trident/7"),K=void 0!==T.navigator&&0<T.navigator.userAgent.indexOf("Edge/"),U=void 0!==T.navigator&&void 0!==T.navigator.platform&&0<=T.navigator.platform.toUpperCase().indexOf("MAC"),W=void 0!==T.navigator&&void 0!==T.navigator.platform&&null!==T.navigator.platform.match(/(iPhone|iPod|iPad)/i),st=[];function ct(t,e,o){Kt(this),this.l=t,this.oa=e,this.u=o}function Ct(t,e){return null==e||""===e?null:t[e]}function kt(){this.qx=[]}function wt(){}Object.freeze([]),F.className="Util",F.Dx="32ab5ff3b26f42dc0ed90f21452913b5",F.adym="gojs.net",F.vfo="28e647fdb662",F.className="Util",ct.prototype.toString=function(){return"EnumValue."+this.oa},B.Object.defineProperties(ct.prototype,{classType:{get:function(){return this.l}},name:{get:function(){return this.oa}},value:{get:function(){return this.u}}}),ct.className="EnumValue",kt.prototype.toString=function(){return this.qx.join("")},kt.prototype.add=function(t){""!==t&&this.qx.push(t)},kt.className="StringBuilder",wt.className="PropertyCollection";var bt,ut={pB:!1,uB:!1,rB:!1,tB:!1,zB:!1,xB:!1,my:!1,qB:null,trace:function(t){T.console&&T.console.log(t)},sB:function(t,e,o,a){t.strokeStyle="red",t.fillStyle="red",t.font="8px sans-serif",t.beginPath(),t.moveTo(-10,0),t.lineTo(10,0),t.moveTo(0,-10),t.lineTo(0,10),t.stroke(),t.setTransform(1,0,0,1,0,0),t.scale(o,o),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),t.lineWidth=2,t.beginPath(),t.moveTo(a.left,a.top+20),t.lineTo(a.left,a.top),t.lineTo(a.left+20,a.top),t.moveTo(a.right,a.bottom-20),t.lineTo(a.right,a.bottom),t.lineTo(a.right-20,a.bottom),t.stroke(),t.fillText("DB: "+Math.round(a.x)+", "+Math.round(a.y)+", "+Math.round(a.width)+", "+Math.round(a.height),a.left,a.top-5)},oB:function(t){var o,e={};for(o in t){if(e.x=o,"licenseKey"!==e.x){var a=t[e.x];if(void 0!==a.prototype){e.Jm=Object.getOwnPropertyNames(a.prototype);for(var h={Ak:0};h.Ak<e.Jm.length;(h={Ak:h.Ak}).Ak++){var c=Object.getOwnPropertyDescriptor(a.prototype,e.Jm[h.Ak]);void 0!==c.get&&void 0===c.set&&Object.defineProperty(a.prototype,e.Jm[h.Ak],{set:function(m,x){return function(){throw Error("Property "+m.Jm[x.Ak]+" of "+m.x+" is read-only.")}}(e,h)})}}}e={Jm:e.Jm,x:e.x}}}};function Ot(){}function pt(t){this.key=-1,this.value=t}function Dt(t){this.ub=t,this.ff=null,t.Ha=null,this.ia=t.Ba,this.Ra=-1}function Rt(t){this.ub=t,t.gh=null,this.ia=t.Ba,this.Ra=t.j.length}function St(t){Kt(this),this.v=!1,this.j=[],this.Ba=0,this.gh=this.Ha=null,void 0!==t&&("function"==typeof t||"string"==typeof t?lt():this.addAll(t))}function te(t){this.tg=t,t.Ha=null,this.ia=t.Ba,this.ka=null}function At(t){Kt(this),this.v=!1,this.Hb={},this.Fb=0,this.Ha=null,this.Ba=0,this.$e=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?lt():this.addAll(t))}function Kt(t){t.__gohashid=$t++}function Oe(t){var e=t.__gohashid;return void 0===e&&(e=$t++,t.__gohashid=e),e}function Jt(t){return t.__gohashid}Ot.prototype.reset=function(){},Ot.prototype.next=function(){return!1},Ot.prototype.rd=function(){return!1},Ot.prototype.first=function(){return null},Ot.prototype.any=function(){return!1},Ot.prototype.all=function(){return!0},Ot.prototype.each=function(){return this},Ot.prototype.map=function(){return this},Ot.prototype.filter=function(){return this},Ot.prototype.Sd=function(){},Ot.prototype.toString=function(){return"EmptyIterator"},B.Object.defineProperties(Ot.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),Ot.prototype.first=Ot.prototype.first,Ot.prototype.hasNext=Ot.prototype.rd,Ot.prototype.next=Ot.prototype.next,Ot.prototype.reset=Ot.prototype.reset,Ot.className="EmptyIterator",bt=new Ot,pt.prototype.reset=function(){this.key=-1},pt.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},pt.prototype.rd=function(){return this.next()},pt.prototype.first=function(){return this.key=0,this.value},pt.prototype.any=function(t){return this.key=-1,t(this.value)},pt.prototype.all=function(t){return this.key=-1,t(this.value)},pt.prototype.each=function(t){return this.key=-1,t(this.value),this},pt.prototype.map=function(t){return new pt(t(this.value))},pt.prototype.filter=function(t){return t(this.value)?new pt(this.value):bt},pt.prototype.Sd=function(){this.value=null},pt.prototype.toString=function(){return"SingletonIterator("+this.value+")"},B.Object.defineProperties(pt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),pt.prototype.first=pt.prototype.first,pt.prototype.hasNext=pt.prototype.rd,pt.prototype.next=pt.prototype.next,pt.prototype.reset=pt.prototype.reset,pt.className="SingletonIterator",Dt.prototype.reset=function(){var t=this.ub;t.Ha=null,this.ia=t.Ba,this.Ra=-1},Dt.prototype.next=function(){var t=this.ub;if(t.Ba!==this.ia&&0>this.key)return!1;var e=(t=t.j).length,o=++this.Ra,a=this.ff;if(null!==a)for(;o<e;){var h=t[o];if(a(h))return this.key=this.Ra=o,this.value=h,!0;o++}else{if(o<e)return this.key=o,this.value=t[o],!0;this.Sd()}return!1},Dt.prototype.rd=function(){return this.next()},Dt.prototype.first=function(){var t=this.ub;this.ia=t.Ba,this.Ra=0;var e=(t=t.j).length,o=this.ff;if(null!==o){for(var a=0;a<e;){var h=t[a];if(o(h))return this.key=this.Ra=a,this.value=h;a++}return null}return 0<e?(t=t[0],this.key=0,this.value=t):null},Dt.prototype.any=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,h=0;h<o;h++){var c=e[h];if((null===a||a(c))&&t(c))return!0}return!1},Dt.prototype.all=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,h=0;h<o;h++){var c=e[h];if((null===a||a(c))&&!t(c))return!1}return!0},Dt.prototype.each=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=(e=e.j).length,a=this.ff,h=0;h<o;h++){var c=e[h];(null===a||a(c))&&t(c)}return this},Dt.prototype.map=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=[],a=(e=e.j).length,h=this.ff,c=0;c<a;c++){var m=e[c];(null===h||h(m))&&o.push(t(m))}return(t=new St).j=o,t.pb(),t.iterator},Dt.prototype.filter=function(t){var e=this.ub;e.Ha=null,this.Ra=-1;for(var o=[],a=(e=e.j).length,h=this.ff,c=0;c<a;c++){var m=e[c];(null===h||h(m))&&t(m)&&o.push(m)}return(t=new St).j=o,t.pb(),t.iterator},Dt.prototype.Sd=function(){this.key=-1,this.value=null,this.ia=-1,this.ff=null,this.ub.Ha=this},Dt.prototype.toString=function(){return"ListIterator@"+this.Ra+"/"+this.ub.count},B.Object.defineProperties(Dt.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.ff},set:function(t){this.ff=t}},count:{get:function(){var t=this.ff;if(null!==t){for(var e=0,o=this.ub.j,a=o.length,h=0;h<a;h++)t(o[h])&&e++;return e}return this.ub.j.length}}}),Dt.prototype.first=Dt.prototype.first,Dt.prototype.hasNext=Dt.prototype.rd,Dt.prototype.next=Dt.prototype.next,Dt.prototype.reset=Dt.prototype.reset,Dt.className="ListIterator",Rt.prototype.reset=function(){var t=this.ub;t.gh=null,this.ia=t.Ba,this.Ra=t.j.length},Rt.prototype.next=function(){var t=this.ub;if(t.Ba!==this.ia&&0>this.key)return!1;var e=--this.Ra;return 0<=e?(this.key=e,this.value=t.j[e],!0):(this.Sd(),!1)},Rt.prototype.rd=function(){return this.next()},Rt.prototype.first=function(){var t=this.ub;this.ia=t.Ba;var e=t.j;return this.Ra=t=e.length-1,0<=t?(e=e[t],this.key=t,this.value=e):null},Rt.prototype.any=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)if(t(e[o]))return!0;return!1},Rt.prototype.all=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)if(!t(e[o]))return!1;return!0},Rt.prototype.each=function(t){var e=this.ub;e.gh=null;var o=(e=e.j).length;for(this.Ra=o,--o;0<=o;o--)t(e[o]);return this},Rt.prototype.map=function(t){var e=this.ub;e.gh=null;var o=[],a=(e=e.j).length;for(this.Ra=a,--a;0<=a;a--)o.push(t(e[a]));return(t=new St).j=o,t.pb(),t.iterator},Rt.prototype.filter=function(t){var e=this.ub;e.gh=null;var o=[],a=(e=e.j).length;for(this.Ra=a,--a;0<=a;a--){var h=e[a];t(h)&&o.push(h)}return(t=new St).j=o,t.pb(),t.iterator},Rt.prototype.Sd=function(){this.key=-1,this.value=null,this.ia=-1,this.ub.gh=this},Rt.prototype.toString=function(){return"ListIteratorBackwards("+this.Ra+"/"+this.ub.count+")"},B.Object.defineProperties(Rt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ub.j.length}}}),Rt.prototype.first=Rt.prototype.first,Rt.prototype.hasNext=Rt.prototype.rd,Rt.prototype.next=Rt.prototype.next,Rt.prototype.reset=Rt.prototype.reset,Rt.className="ListIteratorBackwards",(q=St.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},q.freeze=function(){return this.v=!0,this},q.ea=function(){return this.v=!1,this},q.toString=function(){return"List()#"+Jt(this)},q.add=function(t){return null===t||(this.v&&$(this,t),this.j.push(t),this.pb()),this},q.push=function(t){this.add(t)},q.addAll=function(t){if(null===t)return this;this.v&&$(this);var e=this.j;if(mt(t))for(var o=t.length,a=0;a<o;a++)e.push(t[a]);else for(t=t.iterator;t.next();)e.push(t.value);return this.pb(),this},q.clear=function(){this.v&&$(this),this.j.length=0,this.pb()},q.contains=function(t){return null!==t&&-1!==this.j.indexOf(t)},q.has=function(t){return this.contains(t)},q.indexOf=function(t){return null===t?-1:this.j.indexOf(t)},q.J=function(t){var e=this.j;return(0>t||t>=e.length)&&Z(t,"0 <= i < length",St,"elt:i"),e[t]},q.get=function(t){return this.J(t)},q.Pc=function(t,e){var o=this.j;(0>t||t>=o.length)&&Z(t,"0 <= i < length",St,"setElt:i"),this.v&&$(this,t),o[t]=e},q.set=function(t,e){this.Pc(t,e)},q.first=function(){var t=this.j;return 0===t.length?null:t[0]},q.Xb=function(){var t=this.j,e=t.length;return 0<e?t[e-1]:null},q.pop=function(){this.v&&$(this);var t=this.j;return 0<t.length?t.pop():null},St.prototype.any=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)if(t(e[a]))return!0;return!1},St.prototype.all=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)if(!t(e[a]))return!1;return!0},St.prototype.each=function(t){for(var e=this.j,o=e.length,a=0;a<o;a++)t(e[a]);return this},St.prototype.map=function(t){for(var e=new St,o=[],a=this.j,h=a.length,c=0;c<h;c++)o.push(t(a[c]));return e.j=o,e.pb(),e},St.prototype.filter=function(t){for(var e=new St,o=[],a=this.j,h=a.length,c=0;c<h;c++){var m=a[c];t(m)&&o.push(m)}return e.j=o,e.pb(),e},(q=St.prototype).wb=function(t,e){0>t&&Z(t,">= 0",St,"insertAt:i"),this.v&&$(this,t);var o=this.j;t>=o.length?o.push(e):o.splice(t,0,e),this.pb()},q.remove=function(t){if(null===t)return!1;this.v&&$(this,t);var e=this.j;return-1!==(t=e.indexOf(t))&&(t===e.length-1?e.pop():e.splice(t,1),this.pb(),!0)},q.delete=function(t){return this.remove(t)},q.cb=function(t){var e=this.j;(0>t||t>=e.length)&&Z(t,"0 <= i < length",St,"removeAt:i"),this.v&&$(this,t),t===e.length-1?e.pop():e.splice(t,1),this.pb()},q.removeRange=function(t,e){var o=this.j,a=o.length;if(0>t)t=0;else if(t>=a)return this;if(0>e)return this;if(e>=a&&(e=a-1),t>e)return this;this.v&&$(this);for(var h=t,c=e+1;c<a;)o[h++]=o[c++];return o.length=a-(e-t+1),this.pb(),this},St.prototype.copy=function(){var t=new St,e=this.j;return 0<e.length&&(t.j=Array.prototype.slice.call(e)),t},(q=St.prototype).ma=function(){for(var t=this.j,e=this.count,o=Array(e),a=0;a<e;a++)o[a]=t[a];return o},q.Lw=function(){for(var t=new At,e=this.j,o=this.count,a=0;a<o;a++)t.add(e[a]);return t},q.sort=function(t){return this.v&&$(this),this.j.sort(t),this.pb(),this},q.uj=function(t,e,o){var a=this.j,h=a.length;void 0===e&&(e=0),void 0===o&&(o=h),this.v&&$(this);var c=o-e;if(1>=c)return this;if((0>e||e>=h-1)&&Z(e,"0 <= from < length",St,"sortRange:from"),2===c)return 0<t(o=a[e],h=a[e+1])&&(a[e]=h,a[e+1]=o,this.pb()),this;if(0===e)if(o>=h)a.sort(t);else for((e=a.slice(0,o)).sort(t),t=0;t<o;t++)a[t]=e[t];else if(o>=h)for((o=a.slice(e)).sort(t),t=e;t<h;t++)a[t]=o[t-e];else for((h=a.slice(e,o)).sort(t),t=e;t<o;t++)a[t]=h[t-e];return this.pb(),this},q.reverse=function(){return this.v&&$(this),this.j.reverse(),this.pb(),this},B.Object.defineProperties(St.prototype,{_dataArray:{get:function(){return this.j}},count:{get:function(){return this.j.length}},size:{get:function(){return this.j.length}},length:{get:function(){return this.j.length}},iterator:{get:function(){if(0>=this.j.length)return bt;var t=this.Ha;return null!==t?(t.reset(),t):new Dt(this)}},iteratorBackwards:{get:function(){if(0>=this.j.length)return bt;var t=this.gh;return null!==t?(t.reset(),t):new Rt(this)}}}),St.prototype.reverse=St.prototype.reverse,St.prototype.sortRange=St.prototype.uj,St.prototype.sort=St.prototype.sort,St.prototype.toSet=St.prototype.Lw,St.prototype.toArray=St.prototype.ma,St.prototype.removeRange=St.prototype.removeRange,St.prototype.removeAt=St.prototype.cb,St.prototype.delete=St.prototype.delete,St.prototype.remove=St.prototype.remove,St.prototype.insertAt=St.prototype.wb,St.prototype.pop=St.prototype.pop,St.prototype.last=St.prototype.Xb,St.prototype.first=St.prototype.first,St.prototype.set=St.prototype.set,St.prototype.setElt=St.prototype.Pc,St.prototype.get=St.prototype.get,St.prototype.elt=St.prototype.J,St.prototype.indexOf=St.prototype.indexOf,St.prototype.has=St.prototype.has,St.prototype.contains=St.prototype.contains,St.prototype.clear=St.prototype.clear,St.prototype.addAll=St.prototype.addAll,St.prototype.push=St.prototype.push,St.prototype.add=St.prototype.add,St.prototype.thaw=St.prototype.ea,St.prototype.freeze=St.prototype.freeze,St.className="List",te.prototype.reset=function(){var t=this.tg;t.Ha=null,this.ia=t.Ba,this.ka=null},te.prototype.next=function(){var t=this.tg;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Sd(),!1)},te.prototype.rd=function(){return this.next()},te.prototype.first=function(){var t=this.tg;if(this.ia=t.Ba,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},te.prototype.any=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},te.prototype.all=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},te.prototype.each=function(t){var e=this.tg;for(this.ka=e.Ha=null,e=e.ba;null!==e;)t(e.value),e=e.pa;return this},te.prototype.map=function(t){var e=this.tg;e.Ha=null;var o=new St;for(e=e.ba;null!==e;)o.add(t(e.value)),e=e.pa;return o.iterator},te.prototype.filter=function(t){var e=this.tg;e.Ha=null;var o=new St;for(e=e.ba;null!==e;){var a=e.value;t(a)&&o.add(a),e=e.pa}return o.iterator},te.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.tg.Ha=this},te.prototype.toString=function(){return null!==this.ka?"SetIterator@"+this.ka.value:"SetIterator"},B.Object.defineProperties(te.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.tg.Fb}}}),te.prototype.first=te.prototype.first,te.prototype.hasNext=te.prototype.rd,te.prototype.next=te.prototype.next,te.prototype.reset=te.prototype.reset,te.className="SetIterator",(q=At.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},q.freeze=function(){return this.v=!0,this},q.ea=function(){return this.v=!1,this},q.toString=function(){return"Set()#"+Jt(this)},q.add=function(t){if(null===t)return this;this.v&&$(this,t);var e=t;return ht(t)&&(e=Oe(t)),void 0===this.Hb[e]&&(this.Fb++,t=new le(t,t),this.Hb[e]=t,null===(e=this.$e)?this.ba=t:(t.Xl=e,e.pa=t),this.$e=t,this.pb()),this},q.addAll=function(t){if(null===t)return this;if(this.v&&$(this),mt(t))for(var e=t.length,o=0;o<e;o++)this.add(t[o]);else for(t=t.iterator;t.next();)this.add(t.value);return this},q.contains=function(t){if(null===t)return!1;var e=t;return(!ht(t)||void 0!==(e=Jt(t)))&&void 0!==this.Hb[e]},q.has=function(t){return this.contains(t)},q.Ez=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(!this.contains(t.value))return!1;return!0},q.Fz=function(t){if(null===t)return!0;for(t=t.iterator;t.next();)if(this.contains(t.value))return!0;return!1},q.first=function(){var t=this.ba;return null===t?null:t.value},At.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},At.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},At.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e.value),e=e.pa;return this},At.prototype.map=function(t){for(var e=new At,o=this.ba;null!==o;)e.add(t(o.value)),o=o.pa;return e},At.prototype.filter=function(t){for(var e=new At,o=this.ba;null!==o;){var a=o.value;t(a)&&e.add(a),o=o.pa}return e},(q=At.prototype).remove=function(t){if(null===t)return!1;this.v&&$(this,t);var e=t;if(ht(t)&&void 0===(e=Jt(t))||void 0===(t=this.Hb[e]))return!1;var o=t.pa,a=t.Xl;return null!==o&&(o.Xl=a),null!==a&&(a.pa=o),this.ba===t&&(this.ba=o),this.$e===t&&(this.$e=a),delete this.Hb[e],this.Fb--,this.pb(),!0},q.delete=function(t){return this.remove(t)},q.Zq=function(t){if(null===t)return this;if(this.v&&$(this),mt(t))for(var e=t.length,o=0;o<e;o++)this.remove(t[o]);else for(t=t.iterator;t.next();)this.remove(t.value);return this},q.YA=function(t){if(null===t||0===this.count)return this;this.v&&$(this);var e=new At;e.addAll(t),t=[];for(var o=this.iterator;o.next();){var a=o.value;e.contains(a)||t.push(a)}return this.Zq(t),this},q.clear=function(){this.v&&$(this),this.Hb={},this.Fb=0,null!==this.Ha&&this.Ha.reset(),this.$e=this.ba=null,this.pb()},At.prototype.copy=function(){var o,t=new At,e=this.Hb;for(o in e)t.add(e[o].value);return t},At.prototype.ma=function(){var a,t=Array(this.Fb),e=this.Hb,o=0;for(a in e)t[o]=e[a].value,o++;return t},At.prototype.Kw=function(){var o,t=new St,e=this.Hb;for(o in e)t.add(e[o].value);return t},B.Object.defineProperties(At.prototype,{count:{get:function(){return this.Fb}},size:{get:function(){return this.Fb}},iterator:{get:function(){if(0>=this.Fb)return bt;var t=this.Ha;return null!==t?(t.reset(),t):new te(this)}}}),At.prototype.toList=At.prototype.Kw,At.prototype.toArray=At.prototype.ma,At.prototype.clear=At.prototype.clear,At.prototype.retainAll=At.prototype.YA,At.prototype.removeAll=At.prototype.Zq,At.prototype.delete=At.prototype.delete,At.prototype.remove=At.prototype.remove,At.prototype.first=At.prototype.first,At.prototype.containsAny=At.prototype.Fz,At.prototype.containsAll=At.prototype.Ez,At.prototype.has=At.prototype.has,At.prototype.contains=At.prototype.contains,At.prototype.addAll=At.prototype.addAll,At.prototype.add=At.prototype.add,At.prototype.thaw=At.prototype.ea,At.prototype.freeze=At.prototype.freeze;var $t=1;function he(t){this.ga=t,this.ia=t.Ba,this.ka=null}function Tt(t){At.call(this),Kt(this),this.v=!0,this.ga=t}function Bt(t){this.ga=t,t.Ze=null,this.ia=t.Ba,this.ka=null}function le(t,e){this.key=t,this.value=e,this.Xl=this.pa=null}function Mt(t){this.ga=t,t.Ha=null,this.ia=t.Ba,this.ka=null}function ot(t){Kt(this),this.v=!1,this.Hb={},this.Fb=0,this.Ze=this.Ha=null,this.Ba=0,this.$e=this.ba=null,void 0!==t&&("function"==typeof t||"string"==typeof t?lt():this.addAll(t))}function J(t,e){void 0===t?this.y=this.x=0:"number"==typeof t&&"number"==typeof e?(this.x=t,this.y=e):R("Invalid arguments to Point constructor: "+t+", "+e),this.v=!1}function Nt(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var h=0;""===t[e];)e++;return(a=t[e++])&&(h=parseFloat(a)),new J(o,h)}return new J}function Gt(t){return t.x.toString()+" "+t.y.toString()}function ge(t,e){if(0===t)return 0<e?90:0>e?270:0;if(0===e)return 0<t?0:180;if(isNaN(t)||isNaN(e))return 0;var o=180*Math.atan(Math.abs(e/t))/Math.PI;return 0>t?o=0>e?o+180:180-o:0>e&&(o=360-o),o}function qt(t,e){return e.Jd(t),t}function ae(t,e,o,a,h,c){var m=h-o,x=c-a,S=m*m+x*x,E=-(o-=t)*m-(a-=e)*x;return 0>=E||E>=S?(m=h-t,x=c-e,Math.min(o*o+a*a,m*m+x*x)):(t=m*a-x*o)*t/S}function ei(t,e,o,a){return(t=o-t)*t+(e=a-e)*e}function be(t,e,o,a){return e=a-e,0==(t=o-t)?0<e?90:0>e?270:0:0===e?0<t?0:180:isNaN(t)||isNaN(e)?0:(a=180*Math.atan(Math.abs(e/t))/Math.PI,0>t?a=0>e?a+180:180-a:0>e&&(a=360-a),a)}At.className="Set",At.uniqueHash=Kt,At.hashIdUnique=Oe,At.hashId=Jt,he.prototype.reset=function(){this.ia=this.ga.Ba,this.ka=null},he.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=this.key=t=e.key,!0):(this.Sd(),!1)},he.prototype.rd=function(){return this.next()},he.prototype.first=function(){var t=this.ga;return this.ia=t.Ba,null!==(t=t.ba)?(this.ka=t,this.value=this.key=t=t.key):null},he.prototype.any=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;){if(t(e.key))return!0;e=e.pa}return!1},he.prototype.all=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;){if(!t(e.key))return!1;e=e.pa}return!0},he.prototype.each=function(t){var e=this.ga;for(this.ka=null,e=e.ba;null!==e;)t(e.key),e=e.pa;return this},he.prototype.map=function(t){var e=this.ga;this.ka=null;var o=new St;for(e=e.ba;null!==e;)o.add(t(e.key)),e=e.pa;return o.iterator},he.prototype.filter=function(t){var e=this.ga;this.ka=null;var o=new St;for(e=e.ba;null!==e;){var a=e.key;t(a)&&o.add(a),e=e.pa}return o.iterator},he.prototype.Sd=function(){this.value=this.key=null,this.ia=-1},he.prototype.toString=function(){return null!==this.ka?"MapKeySetIterator@"+this.ka.value:"MapKeySetIterator"},B.Object.defineProperties(he.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),he.prototype.first=he.prototype.first,he.prototype.hasNext=he.prototype.rd,he.prototype.next=he.prototype.next,he.prototype.reset=he.prototype.reset,he.className="MapKeySetIterator",z(Tt,At),(q=Tt.prototype).freeze=function(){return this},q.ea=function(){return this},q.toString=function(){return"MapKeySet("+this.ga.toString()+")"},q.add=function(){return R("This Set is read-only: "+this.toString()),this},q.contains=function(t){return this.ga.contains(t)},q.has=function(t){return this.contains(t)},q.remove=function(){return R("This Set is read-only: "+this.toString()),!1},q.delete=function(t){return this.remove(t)},q.clear=function(){R("This Set is read-only: "+this.toString())},q.first=function(){var t=this.ga.ba;return null!==t?t.key:null},Tt.prototype.any=function(t){for(var e=this.ga.ba;null!==e;){if(t(e.key))return!0;e=e.pa}return!1},Tt.prototype.all=function(t){for(var e=this.ga.ba;null!==e;){if(!t(e.key))return!1;e=e.pa}return!0},Tt.prototype.each=function(t){for(var e=this.ga.ba;null!==e;)t(e.key),e=e.pa;return this},Tt.prototype.map=function(t){for(var e=new At,o=this.ga.ba;null!==o;)e.add(t(o.key)),o=o.pa;return e},Tt.prototype.filter=function(t){for(var e=new At,o=this.ga.ba;null!==o;){var a=o.key;t(a)&&e.add(a),o=o.pa}return e},Tt.prototype.copy=function(){return new Tt(this.ga)},Tt.prototype.Lw=function(){var o,t=new At,e=this.ga.Hb;for(o in e)t.add(e[o].key);return t},Tt.prototype.ma=function(){var a,t=this.ga.Hb,e=Array(this.ga.Fb),o=0;for(a in t)e[o]=t[a].key,o++;return e},Tt.prototype.Kw=function(){var o,t=new St,e=this.ga.Hb;for(o in e)t.add(e[o].key);return t},B.Object.defineProperties(Tt.prototype,{count:{get:function(){return this.ga.Fb}},size:{get:function(){return this.ga.Fb}},iterator:{get:function(){return 0>=this.ga.Fb?bt:new he(this.ga)}}}),Tt.prototype.toList=Tt.prototype.Kw,Tt.prototype.toArray=Tt.prototype.ma,Tt.prototype.toSet=Tt.prototype.Lw,Tt.prototype.first=Tt.prototype.first,Tt.prototype.clear=Tt.prototype.clear,Tt.prototype.delete=Tt.prototype.delete,Tt.prototype.remove=Tt.prototype.remove,Tt.prototype.has=Tt.prototype.has,Tt.prototype.contains=Tt.prototype.contains,Tt.prototype.add=Tt.prototype.add,Tt.prototype.thaw=Tt.prototype.ea,Tt.prototype.freeze=Tt.prototype.freeze,Tt.className="MapKeySet",Bt.prototype.reset=function(){var t=this.ga;t.Ze=null,this.ia=t.Ba,this.ka=null},Bt.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.value=e.value,this.key=e.key,!0):(this.Sd(),!1)},Bt.prototype.rd=function(){return this.next()},Bt.prototype.first=function(){var t=this.ga;if(this.ia=t.Ba,null!==(t=t.ba)){this.ka=t;var e=t.value;return this.key=t.key,this.value=e}return null},Bt.prototype.any=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;){if(t(e.value))return!0;e=e.pa}return!1},Bt.prototype.all=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;){if(!t(e.value))return!1;e=e.pa}return!0},Bt.prototype.each=function(t){var e=this.ga;for(this.ka=e.Ze=null,e=e.ba;null!==e;)t(e.value),e=e.pa;return this},Bt.prototype.map=function(t){var e=this.ga;this.ka=e.Ze=null;var o=new St;for(e=e.ba;null!==e;)o.add(t(e.value)),e=e.pa;return o.iterator},Bt.prototype.filter=function(t){var e=this.ga;this.ka=e.Ze=null;var o=new St;for(e=e.ba;null!==e;){var a=e.value;t(a)&&o.add(a),e=e.pa}return o.iterator},Bt.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.ga.Ze=this},Bt.prototype.toString=function(){return null!==this.ka?"MapValueSetIterator@"+this.ka.value:"MapValueSetIterator"},B.Object.defineProperties(Bt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),Bt.prototype.first=Bt.prototype.first,Bt.prototype.hasNext=Bt.prototype.rd,Bt.prototype.next=Bt.prototype.next,Bt.prototype.reset=Bt.prototype.reset,Bt.className="MapValueSetIterator",le.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},le.className="KeyValuePair",Mt.prototype.reset=function(){var t=this.ga;t.Ha=null,this.ia=t.Ba,this.ka=null},Mt.prototype.next=function(){var t=this.ga;if(t.Ba!==this.ia&&null===this.key)return!1;var e=this.ka;return null!==(e=null===e?t.ba:e.pa)?(this.ka=e,this.key=e.key,this.value=e.value,!0):(this.Sd(),!1)},Mt.prototype.rd=function(){return this.next()},Mt.prototype.first=function(){var t=this.ga;return this.ia=t.Ba,null!==(t=t.ba)?(this.ka=t,this.key=t.key,this.value=t.value,t):null},Mt.prototype.any=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(t(e))return!0;e=e.pa}return!1},Mt.prototype.all=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;){if(!t(e))return!1;e=e.pa}return!0},Mt.prototype.each=function(t){var e=this.ga;for(this.ka=e.Ha=null,e=e.ba;null!==e;)t(e),e=e.pa;return this},Mt.prototype.map=function(t){var e=this.ga;this.ka=e.Ha=null;var o=new St;for(e=e.ba;null!==e;)o.add(t(e)),e=e.pa;return o.iterator},Mt.prototype.filter=function(t){var e=this.ga;this.ka=e.Ha=null;var o=new St;for(e=e.ba;null!==e;)t(e)&&o.add(e),e=e.pa;return o.iterator},Mt.prototype.Sd=function(){this.value=this.key=null,this.ia=-1,this.ga.Ha=this},Mt.prototype.toString=function(){return null!==this.ka?"MapIterator@"+this.ka:"MapIterator"},B.Object.defineProperties(Mt.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ga.Fb}}}),Mt.prototype.first=Mt.prototype.first,Mt.prototype.hasNext=Mt.prototype.rd,Mt.prototype.next=Mt.prototype.next,Mt.prototype.reset=Mt.prototype.reset,Mt.className="MapIterator",(q=ot.prototype).pb=function(){var t=this.Ba;999999999<++t&&(t=0),this.Ba=t},q.freeze=function(){return this.v=!0,this},q.ea=function(){return this.v=!1,this},q.toString=function(){return"Map()#"+Jt(this)},q.add=function(t,e){this.v&&$(this,t);var o=t;ht(t)&&(o=Oe(t));var a=this.Hb[o];return void 0===a?(this.Fb++,t=new le(t,e),this.Hb[o]=t,null===(o=this.$e)?this.ba=t:(t.Xl=o,o.pa=t),this.$e=t,this.pb()):a.value=e,this},q.set=function(t,e){return this.add(t,e)},q.addAll=function(t){if(null===t)return this;if(mt(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];this.add(a.key,a.value)}else if(t instanceof ot)for(t=t.iterator;t.next();)this.add(t.key,t.value);else for(t=t.iterator;t.next();)this.add((e=t.value).key,e.value);return this},q.first=function(){return this.ba},ot.prototype.any=function(t){for(var e=this.ba;null!==e;){if(t(e))return!0;e=e.pa}return!1},ot.prototype.all=function(t){for(var e=this.ba;null!==e;){if(!t(e))return!1;e=e.pa}return!0},ot.prototype.each=function(t){for(var e=this.ba;null!==e;)t(e),e=e.pa;return this},ot.prototype.map=function(t){for(var e=new ot,o=this.ba;null!==o;)e.add(o.key,t(o)),o=o.pa;return e},ot.prototype.filter=function(t){for(var e=new ot,o=this.ba;null!==o;)t(o)&&e.add(o.key,o.value),o=o.pa;return e},(q=ot.prototype).contains=function(t){var e=t;return(!ht(t)||void 0!==(e=Jt(t)))&&void 0!==this.Hb[e]},q.has=function(t){return this.contains(t)},q.G=function(t){var e=t;return ht(t)&&void 0===(e=Jt(t))||void 0===(t=this.Hb[e])?null:t.value},q.get=function(t){return this.G(t)},q.remove=function(t){if(null===t)return!1;this.v&&$(this,t);var e=t;if(ht(t)&&void 0===(e=Jt(t))||void 0===(t=this.Hb[e]))return!1;var o=t.pa,a=t.Xl;return null!==o&&(o.Xl=a),null!==a&&(a.pa=o),this.ba===t&&(this.ba=o),this.$e===t&&(this.$e=a),delete this.Hb[e],this.Fb--,this.pb(),!0},q.delete=function(t){return this.remove(t)},q.clear=function(){this.v&&$(this),this.Hb={},this.Fb=0,null!==this.Ha&&this.Ha.reset(),null!==this.Ze&&this.Ze.reset(),this.$e=this.ba=null,this.pb()},ot.prototype.copy=function(){var o,t=new ot,e=this.Hb;for(o in e){var a=e[o];t.add(a.key,a.value)}return t},ot.prototype.ma=function(){var a,t=this.Hb,e=Array(this.Fb),o=0;for(a in t){var h=t[a];e[o]=new le(h.key,h.value),o++}return e},ot.prototype.Kf=function(){return new Tt(this)},B.Object.defineProperties(ot.prototype,{count:{get:function(){return this.Fb}},size:{get:function(){return this.Fb}},iterator:{get:function(){if(0>=this.count)return bt;var t=this.Ha;return null!==t?(t.reset(),t):new Mt(this)}},iteratorKeys:{get:function(){return 0>=this.count?bt:new he(this)}},iteratorValues:{get:function(){if(0>=this.count)return bt;var t=this.Ze;return null!==t?(t.reset(),t):new Bt(this)}}}),ot.prototype.toKeySet=ot.prototype.Kf,ot.prototype.toArray=ot.prototype.ma,ot.prototype.clear=ot.prototype.clear,ot.prototype.delete=ot.prototype.delete,ot.prototype.remove=ot.prototype.remove,ot.prototype.get=ot.prototype.get,ot.prototype.getValue=ot.prototype.G,ot.prototype.has=ot.prototype.has,ot.prototype.contains=ot.prototype.contains,ot.prototype.first=ot.prototype.first,ot.prototype.addAll=ot.prototype.addAll,ot.prototype.set=ot.prototype.set,ot.prototype.add=ot.prototype.add,ot.prototype.thaw=ot.prototype.ea,ot.prototype.freeze=ot.prototype.freeze,ot.className="Map",J.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this},J.prototype.h=function(t,e){return this.x=t,this.y=e,this},J.prototype.Ig=function(t,e){return this.x=t,this.y=e,this},J.prototype.set=function(t){return this.x=t.x,this.y=t.y,this},J.prototype.copy=function(){var t=new J;return t.x=this.x,t.y=this.y,t},(q=J.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},q.freeze=function(){return this.v=!0,this},q.ea=function(){return Object.isFrozen(this)&&R("cannot thaw constant: "+this),this.v=!1,this},q.toString=function(){return"Point("+this.x+","+this.y+")"},q.w=function(t){return t instanceof J&&this.x===t.x&&this.y===t.y},q.fj=function(t,e){return this.x===t&&this.y===e},q.Qa=function(t){return Zt.A(this.x,t.x)&&Zt.A(this.y,t.y)},q.add=function(t){return this.x+=t.x,this.y+=t.y,this},q.ge=function(t){return this.x-=t.x,this.y-=t.y,this},q.offset=function(t,e){return this.x+=t,this.y+=e,this},J.prototype.rotate=function(t){if(0===t)return this;var e=this.x,o=this.y;if(0===e&&0===o)return this;if(360<=t?t-=360:0>t&&(t+=360),90===t){t=0;var a=1}else 180===t?(t=-1,a=0):270===t?(t=0,a=-1):(a=t*Math.PI/180,t=Math.cos(a),a=Math.sin(a));return this.x=t*e-a*o,this.y=a*e+t*o,this},(q=J.prototype).scale=function(t,e){return this.x*=t,this.y*=e,this},q.Ie=function(t){var e=t.x-this.x;return e*e+(t=t.y-this.y)*t},q.qd=function(t,e){return(t-=this.x)*t+(e-=this.y)*e},q.normalize=function(){var t=this.x,e=this.y,o=Math.sqrt(t*t+e*e);return 0<o&&(this.x=t/o,this.y=e/o),this},q.Pa=function(t){return ge(t.x-this.x,t.y-this.y)},q.direction=function(t,e){return ge(t-this.x,e-this.y)},q.OA=function(t,e,o,a){return Zt.Qh(t,e,o,a,this.x,this.y,this),this},q.PA=function(t,e){return Zt.Qh(t.x,t.y,e.x,e.y,this.x,this.y,this),this},q.cB=function(t,e,o,a){return Zt.Gq(this.x,this.y,t,e,o,a,this),this},q.dB=function(t,e){return Zt.Gq(this.x,this.y,t.x,t.y,e.width,e.height,this),this},q.tj=function(t,e){return this.x=t.x+e.x*t.width+e.offsetX,this.y=t.y+e.y*t.height+e.offsetY,this},q.Uk=function(t,e,o,a,h){return this.x=t+h.x*o+h.offsetX,this.y=e+h.y*a+h.offsetY,this},q.transform=function(t){return t.ta(this),this},q.o=function(){return isFinite(this.x)&&isFinite(this.y)},J.alloc=function(){var t=Ve.pop();return void 0===t?new J:t},J.allocAt=function(t,e){var o=Ve.pop();return void 0===o?new J(t,e):(o.x=t,o.y=e,o)},J.free=function(t){Ve.push(t)},J.prototype.isReal=J.prototype.o,J.prototype.setSpot=J.prototype.Uk,J.prototype.setRectSpot=J.prototype.tj,J.prototype.snapToGridPoint=J.prototype.dB,J.prototype.snapToGrid=J.prototype.cB,J.prototype.projectOntoLineSegmentPoint=J.prototype.PA,J.prototype.projectOntoLineSegment=J.prototype.OA,J.intersectingLineSegments=function(t,e,o,a,h,c,m,x){return Zt.Cm(t,e,o,a,h,c,m,x)},J.prototype.direction=J.prototype.direction,J.prototype.directionPoint=J.prototype.Pa,J.prototype.normalize=J.prototype.normalize,J.prototype.distanceSquared=J.prototype.qd,J.prototype.distanceSquaredPoint=J.prototype.Ie,J.prototype.scale=J.prototype.scale,J.prototype.rotate=J.prototype.rotate,J.prototype.offset=J.prototype.offset,J.prototype.subtract=J.prototype.ge,J.prototype.add=J.prototype.add,J.prototype.equalsApprox=J.prototype.Qa,J.prototype.equalTo=J.prototype.fj,J.prototype.equals=J.prototype.w,J.prototype.set=J.prototype.set,J.prototype.setTo=J.prototype.Ig;var xe,Ke,Ne,Le,Di,si,je,se,Se,re,jt,ne,Ve=[];function fe(t,e){void 0===t?this.height=this.width=0:"number"==typeof t&&(0<=t||isNaN(t))&&"number"==typeof e&&(0<=e||isNaN(e))?(this.width=t,this.height=e):R("Invalid arguments to Size constructor: "+t+", "+e),this.v=!1}function Ut(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var h=0;""===t[e];)e++;return(a=t[e++])&&(h=parseFloat(a)),new fe(o,h)}return new fe}function ee(t){return t.width.toString()+" "+t.height.toString()}J.className="Point",J.parse=Nt,J.stringify=Gt,J.distanceLineSegmentSquared=ae,J.distanceSquared=ei,J.direction=be,J.Origin=xe=new J(0,0).ca(),J.InfiniteTopLeft=Ke=new J(-1/0,-1/0).ca(),J.InfiniteBottomRight=Ne=new J(1/0,1/0).ca(),J.SixPoint=Le=new J(6,6).ca(),J.NoPoint=Di=new J(NaN,NaN).ca(),J.parse=Nt,J.stringify=Gt,J.distanceLineSegmentSquared=ae,J.distanceSquared=ei,J.direction=be,fe.prototype.assign=function(t){return this.width=t.width,this.height=t.height,this},fe.prototype.h=function(t,e){return this.width=t,this.height=e,this},fe.prototype.Ig=function(t,e){return this.width=t,this.height=e,this},fe.prototype.set=function(t){return this.width=t.width,this.height=t.height,this},fe.prototype.copy=function(){var t=new fe;return t.width=this.width,t.height=this.height,t},(q=fe.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},q.freeze=function(){return this.v=!0,this},q.ea=function(){return Object.isFrozen(this)&&R("cannot thaw constant: "+this),this.v=!1,this},q.toString=function(){return"Size("+this.width+","+this.height+")"},q.w=function(t){return t instanceof fe&&this.width===t.width&&this.height===t.height},q.fj=function(t,e){return this.width===t&&this.height===e},q.Qa=function(t){return Zt.A(this.width,t.width)&&Zt.A(this.height,t.height)},q.o=function(){return isFinite(this.width)&&isFinite(this.height)},fe.alloc=function(){var t=ye.pop();return void 0===t?new fe:t},fe.free=function(t){ye.push(t)},fe.prototype.isReal=fe.prototype.o,fe.prototype.equalsApprox=fe.prototype.Qa,fe.prototype.equalTo=fe.prototype.fj,fe.prototype.equals=fe.prototype.w,fe.prototype.set=fe.prototype.set,fe.prototype.setTo=fe.prototype.Ig;var ye=[];function Lt(t,e,o,a){void 0===t?this.height=this.width=this.y=this.x=0:t instanceof J?(o=t.x,t=t.y,e instanceof J?(a=e.x,e=e.y,this.x=Math.min(o,a),this.y=Math.min(t,e),this.width=Math.abs(o-a),this.height=Math.abs(t-e)):e instanceof fe?(this.x=o,this.y=t,this.width=e.width,this.height=e.height):R("Incorrect arguments supplied to Rect constructor")):"number"==typeof t&&"number"==typeof e&&"number"==typeof o&&(0<=o||isNaN(o))&&"number"==typeof a&&(0<=a||isNaN(a))?(this.x=t,this.y=e,this.width=o,this.height=a):R("Invalid arguments to Rect constructor: "+t+", "+e+", "+o+", "+a),this.v=!1}function ue(t,e,o){t.width=e,t.height=o}function ni(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];a&&(o=parseFloat(a));for(var h=0;""===t[e];)e++;(a=t[e++])&&(h=parseFloat(a));for(var c=0;""===t[e];)e++;(a=t[e++])&&(c=parseFloat(a));for(var m=0;""===t[e];)e++;return(a=t[e++])&&(m=parseFloat(a)),new Lt(o,h,c,m)}return new Lt}function we(t){return t.x.toString()+" "+t.y.toString()+" "+t.width.toString()+" "+t.height.toString()}function Ae(t,e){return Zt.aa(t.x,e.x)&&Zt.aa(t.y,e.y)&&Zt.aa(t.width,e.width)&&Zt.aa(t.height,e.height)}function Ti(t,e,o,a,h){var c=t.width;return o+h<=-c?(t.x+=c/2,t.width=0):(t.x-=h,t.width+=o+h),e+a<=-(o=t.height)?(t.y+=o/2,t.height=0):(t.y-=e,t.height+=e+a),t}function ke(t,e,o,a,h){var c=Math.max(t.x,e),m=Math.max(t.y,o);return e=Math.min(t.x+t.width,e+a),o=Math.min(t.y+t.height,o+h),t.x=c,t.y=m,t.width=Math.max(0,e-c),t.height=Math.max(0,o-m),t}function De(t,e){var o=t.width,a=t.x,h=e.x-10;return!(a>e.width+10+10+h||h>o+a||(o=t.height,(t=t.y)>e.height+10+10+(a=e.y-10)||a>o+t))}function fi(t,e,o,a,h){var c=Math.min(t.x,e),m=Math.min(t.y,o);return e=Math.max(t.x+t.width,e+a),o=Math.max(t.y+t.height,o+h),t.x=c,t.y=m,t.width=e-c,t.height=o-m,t}function hi(t,e,o,a,h,c,m,x){return void 0===m&&(m=0),void 0===x&&(x=0),t<=h&&h+m<=t+o&&e<=c&&c+x<=e+a}function Pi(t,e,o,a,h,c,m,x){return!(t>m+h||h>o+t||e>x+c||c>a+e)}fe.className="Size",fe.parse=Ut,fe.stringify=ee,fe.ZeroSize=si=new fe(0,0).ca(),fe.OneSize=je=new fe(1,1).ca(),fe.SixSize=se=new fe(6,6).ca(),fe.EightSize=Se=new fe(8,8).ca(),fe.TenSize=re=new fe(10,10).ca(),fe.InfiniteSize=jt=new fe(1/0,1/0).ca(),fe.NoSize=ne=new fe(NaN,NaN).ca(),fe.parse=Ut,fe.stringify=ee,(q=Lt.prototype).assign=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},q.h=function(t,e,o,a){return this.x=t,this.y=e,this.width=o,this.height=a,this},q.Ig=function(t,e,o,a){return this.x=t,this.y=e,this.width=o,this.height=a,this},q.set=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},q.Qc=function(t){return this.x=t.x,this.y=t.y,this},q.bB=function(t){return this.width=t.width,this.height=t.height,this},Lt.prototype.copy=function(){var t=new Lt;return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},(q=Lt.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},q.freeze=function(){return this.v=!0,this},q.ea=function(){return Object.isFrozen(this)&&R("cannot thaw constant: "+this),this.v=!1,this},q.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},q.w=function(t){return t instanceof Lt&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},q.fj=function(t,e,o,a){return this.x===t&&this.y===e&&this.width===o&&this.height===a},q.Qa=function(t){return Zt.A(this.x,t.x)&&Zt.A(this.y,t.y)&&Zt.A(this.width,t.width)&&Zt.A(this.height,t.height)},q.$=function(t){return this.x<=t.x&&this.x+this.width>=t.x&&this.y<=t.y&&this.y+this.height>=t.y},q.Ge=function(t){return this.x<=t.x&&t.x+t.width<=this.x+this.width&&this.y<=t.y&&t.y+t.height<=this.y+this.height},q.contains=function(t,e,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),this.x<=t&&t+o<=this.x+this.width&&this.y<=e&&e+a<=this.y+this.height},q.offset=function(t,e){return this.x+=t,this.y+=e,this},q.Jc=function(t,e){return Ti(this,e,t,e,t)},q.uq=function(t){return Ti(this,t.top,t.right,t.bottom,t.left)},q.Jw=function(t){return Ti(this,-t.top,-t.right,-t.bottom,-t.left)},q.sA=function(t,e,o,a){return Ti(this,t,e,o,a)},q.Dy=function(t){return ke(this,t.x,t.y,t.width,t.height)},q.bw=function(t,e,o,a){return ke(this,t,e,o,a)},q.Mc=function(t){return this.cw(t.x,t.y,t.width,t.height)},q.cw=function(t,e,o,a){var h=this.width,c=this.x;return!(h!==1/0&&o!==1/0&&(h+=c,o+=t,isNaN(o)||isNaN(h)||c>o||t>h)||(o=this.y,(t=this.height)!==1/0&&a!==1/0&&(t+=o,a+=e,isNaN(a)||isNaN(t)||o>a||e>t)))},q.Oe=function(t){return fi(this,t.x,t.y,0,0)},q.Rc=function(t){return fi(this,t.x,t.y,t.width,t.height)},q.Rw=function(t,e,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),fi(this,t,e,o,a)},q.Uk=function(t,e,o){return this.x=t-o.offsetX-o.x*this.width,this.y=e-o.offsetY-o.y*this.height,this},q.o=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},q.yA=function(){return 0===this.width&&0===this.height},Lt.alloc=function(){var t=Ki.pop();return void 0===t?new Lt:t},Lt.allocAt=function(t,e,o,a){var h=Ki.pop();return void 0===h?new Lt(t,e,o,a):h.h(t,e,o,a)},Lt.free=function(t){Ki.push(t)},B.Object.defineProperties(Lt.prototype,{left:{get:function(){return this.x},set:function(t){this.x=t}},top:{get:function(){return this.y},set:function(t){this.y=t}},right:{get:function(){return this.x+this.width},set:function(t){this.x+=t-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(t){this.y+=t-(this.y+this.height)}},position:{get:function(){return new J(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}},size:{get:function(){return new fe(this.width,this.height)},set:function(t){this.width=t.width,this.height=t.height}},center:{get:function(){return new J(this.x+this.width/2,this.y+this.height/2)},set:function(t){this.x=t.x-this.width/2,this.y=t.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(t){this.x=t-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(t){this.y=t-this.height/2}}}),Lt.prototype.isEmpty=Lt.prototype.yA,Lt.prototype.isReal=Lt.prototype.o,Lt.intersectsLineSegment=function(t,e,o,a,h,c,m,x){return Zt.Ey(t,e,o,a,h,c,m,x)},Lt.prototype.setSpot=Lt.prototype.Uk,Lt.prototype.union=Lt.prototype.Rw,Lt.prototype.unionRect=Lt.prototype.Rc,Lt.prototype.unionPoint=Lt.prototype.Oe,Lt.prototype.intersects=Lt.prototype.cw,Lt.prototype.intersectsRect=Lt.prototype.Mc,Lt.prototype.intersect=Lt.prototype.bw,Lt.prototype.intersectRect=Lt.prototype.Dy,Lt.prototype.grow=Lt.prototype.sA,Lt.prototype.subtractMargin=Lt.prototype.Jw,Lt.prototype.addMargin=Lt.prototype.uq,Lt.prototype.inflate=Lt.prototype.Jc,Lt.prototype.offset=Lt.prototype.offset,Lt.prototype.contains=Lt.prototype.contains,Lt.prototype.containsRect=Lt.prototype.Ge,Lt.prototype.containsPoint=Lt.prototype.$,Lt.prototype.equalsApprox=Lt.prototype.Qa,Lt.prototype.equalTo=Lt.prototype.fj,Lt.prototype.equals=Lt.prototype.w,Lt.prototype.setSize=Lt.prototype.bB,Lt.prototype.setPoint=Lt.prototype.Qc,Lt.prototype.set=Lt.prototype.set,Lt.prototype.setTo=Lt.prototype.Ig;var vn,ji,Ki=[];function oi(t,e,o,a){void 0===t?this.left=this.bottom=this.right=this.top=0:void 0===e?this.left=this.bottom=this.right=this.top=t:void 0===o?(this.top=t,this.right=e,this.bottom=t,this.left=e):void 0!==a?(this.top=t,this.right=e,this.bottom=o,this.left=a):R("Invalid arguments to Margin constructor: "+t+", "+e+", "+o+", "+a),this.v=!1}function Yn(t){if("string"==typeof t){t=t.split(" ");for(var e=0,o=NaN;""===t[e];)e++;var a=t[e++];if(a&&(o=parseFloat(a)),isNaN(o))return new oi;for(var h=NaN;""===t[e];)e++;if((a=t[e++])&&(h=parseFloat(a)),isNaN(h))return new oi(o);for(var c=NaN;""===t[e];)e++;if((a=t[e++])&&(c=parseFloat(a)),isNaN(c))return new oi(o,h);for(var m=NaN;""===t[e];)e++;return(a=t[e++])&&(m=parseFloat(a)),isNaN(m)?new oi(o,h):new oi(o,h,c,m)}return new oi}function rn(t){return t.top.toString()+" "+t.right.toString()+" "+t.bottom.toString()+" "+t.left.toString()}Lt.className="Rect",Lt.parse=ni,Lt.stringify=we,Lt.contains=hi,Lt.intersects=Pi,Lt.ZeroRect=vn=new Lt(0,0,0,0).ca(),Lt.NoRect=ji=new Lt(NaN,NaN,NaN,NaN).ca(),Lt.parse=ni,Lt.stringify=we,Lt.contains=hi,Lt.intersects=Pi,oi.prototype.assign=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},oi.prototype.Ig=function(t,e,o,a){return this.top=t,this.right=e,this.bottom=o,this.left=a,this},oi.prototype.set=function(t){return this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left,this},oi.prototype.copy=function(){var t=new oi;return t.top=this.top,t.right=this.right,t.bottom=this.bottom,t.left=this.left,t},(q=oi.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},q.freeze=function(){return this.v=!0,this},q.ea=function(){return Object.isFrozen(this)&&R("cannot thaw constant: "+this),this.v=!1,this},q.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},q.w=function(t){return t instanceof oi&&this.top===t.top&&this.right===t.right&&this.bottom===t.bottom&&this.left===t.left},q.fj=function(t,e,o,a){return this.top===t&&this.right===e&&this.bottom===o&&this.left===a},q.Qa=function(t){return Zt.A(this.top,t.top)&&Zt.A(this.right,t.right)&&Zt.A(this.bottom,t.bottom)&&Zt.A(this.left,t.left)},q.o=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},oi.alloc=function(){var t=lr.pop();return void 0===t?new oi:t},oi.free=function(t){lr.push(t)},oi.prototype.isReal=oi.prototype.o,oi.prototype.equalsApprox=oi.prototype.Qa,oi.prototype.equalTo=oi.prototype.fj,oi.prototype.equals=oi.prototype.w,oi.prototype.set=oi.prototype.set,oi.prototype.setTo=oi.prototype.Ig;var an,Ui,yi,tn,wi,$n,sr,Xe,Fi,nh,Ih,ss,c0,fc,un,Eo,f1,F_,L_,Id,sa,B_,d1,V_,rh,j_,H_,eo,JC,z_,U_,G_,aa,_r,En,la,W_,Y_,lr=[];function He(t,e,o,a){void 0===t?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===e&&(e=0),void 0===o&&(o=0),void 0===a&&(a=0),this.x=t,this.y=e,this.offsetX=o,this.offsetY=a),this.v=!1}function ti(t,e){return t.x=NaN,t.y=NaN,t.offsetX=e,t}function $_(t){if("string"==typeof t){if("None"===(t=t.trim()))return yi;if("TopLeft"===t)return tn;if("Top"===t||"TopCenter"===t||"MiddleTop"===t)return wi;if("TopRight"===t)return $n;if("Left"===t||"LeftCenter"===t||"MiddleLeft"===t)return sr;if("Center"===t)return Xe;if("Right"===t||"RightCenter"===t||"MiddleRight"===t)return Fi;if("BottomLeft"===t)return nh;if("Bottom"===t||"BottomCenter"===t||"MiddleBottom"===t)return Ih;if("BottomRight"===t)return ss;if("TopSide"===t)return c0;if("LeftSide"===t)return fc;if("RightSide"===t)return un;if("BottomSide"===t)return Eo;if("TopBottomSides"===t)return f1;if("LeftRightSides"===t)return F_;if("TopLeftSides"===t)return L_;if("TopRightSides"===t)return Id;if("BottomLeftSides"===t)return sa;if("BottomRightSides"===t)return B_;if("NotTopSide"===t)return d1;if("NotLeftSide"===t)return V_;if("NotRightSide"===t)return rh;if("NotBottomSide"===t)return j_;if("AllSides"===t)return H_;if("Default"===t)return eo;t=t.split(" ");for(var e=0,o=0;""===t[e];)e++;var a=t[e++];void 0!==a&&0<a.length&&(o=parseFloat(a));for(var h=0;""===t[e];)e++;void 0!==(a=t[e++])&&0<a.length&&(h=parseFloat(a));for(var c=0;""===t[e];)e++;void 0!==(a=t[e++])&&0<a.length&&(c=parseFloat(a));for(var m=0;""===t[e];)e++;return void 0!==(a=t[e++])&&0<a.length&&(m=parseFloat(a)),new He(o,h,c,m)}return new He}function en(t){return t.kb()?t.x.toString()+" "+t.y.toString()+" "+t.offsetX.toString()+" "+t.offsetY.toString():t.toString()}oi.className="Margin",oi.parse=Yn,oi.stringify=rn,oi.ZeroMargin=an=new oi(0,0,0,0).ca(),oi.TwoMargin=Ui=new oi(2,2,2,2).ca(),oi.parse=Yn,oi.stringify=rn,He.prototype.assign=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},He.prototype.Ig=function(t,e,o,a){return this.x=t,this.y=e,this.offsetX=o,this.offsetY=a,this},He.prototype.set=function(t){return this.x=t.x,this.y=t.y,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this},He.prototype.copy=function(){var t=new He;return t.x=this.x,t.y=this.y,t.offsetX=this.offsetX,t.offsetY=this.offsetY,t},(q=He.prototype).ca=function(){return this.v=!0,Object.freeze(this),this},q.H=function(){return this.v||Object.isFrozen(this)?this:this.copy().freeze()},q.freeze=function(){return this.v=!0,this},q.ea=function(){return Object.isFrozen(this)&&R("cannot thaw constant: "+this),this.v=!1,this},q.toString=function(){return this.kb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.w(yi)?"None":this.w(tn)?"TopLeft":this.w(wi)?"Top":this.w($n)?"TopRight":this.w(sr)?"Left":this.w(Xe)?"Center":this.w(Fi)?"Right":this.w(nh)?"BottomLeft":this.w(Ih)?"Bottom":this.w(ss)?"BottomRight":this.w(c0)?"TopSide":this.w(fc)?"LeftSide":this.w(un)?"RightSide":this.w(Eo)?"BottomSide":this.w(f1)?"TopBottomSides":this.w(F_)?"LeftRightSides":this.w(L_)?"TopLeftSides":this.w(Id)?"TopRightSides":this.w(sa)?"BottomLeftSides":this.w(B_)?"BottomRightSides":this.w(d1)?"NotTopSide":this.w(V_)?"NotLeftSide":this.w(rh)?"NotRightSide":this.w(j_)?"NotBottomSide":this.w(H_)?"AllSides":this.w(eo)?"Default":"None"},q.w=function(t){return t instanceof He&&(this.x===t.x||isNaN(this.x)&&isNaN(t.x))&&(this.y===t.y||isNaN(this.y)&&isNaN(t.y))&&this.offsetX===t.offsetX&&this.offsetY===t.offsetY},q.mw=function(){return new He(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},q.Ef=function(t){if(!this.Oc())return!1;if(!t.Oc())if(t.w(JC))t=fc;else if(t.w(z_))t=un;else if(t.w(U_))t=c0;else{if(!t.w(G_))return!1;t=Eo}return(this.offsetY&(t=t.offsetY))===t},q.kb=function(){return!isNaN(this.x)&&!isNaN(this.y)},q.nc=function(){return isNaN(this.x)||isNaN(this.y)},q.Oc=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},q.Vt=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},q.Mb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},He.alloc=function(){var t=Rh.pop();return void 0===t?new He:t},He.free=function(t){Rh.push(t)},He.prototype.isDefault=He.prototype.Mb,He.prototype.isNone=He.prototype.Vt,He.prototype.isSide=He.prototype.Oc,He.prototype.isNoSpot=He.prototype.nc,He.prototype.isSpot=He.prototype.kb,He.prototype.includesSide=He.prototype.Ef,He.prototype.opposite=He.prototype.mw,He.prototype.equals=He.prototype.w,He.prototype.set=He.prototype.set,He.prototype.setTo=He.prototype.Ig;var Rh=[];function di(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}He.className="Spot",He.parse=$_,He.stringify=en,He.None=yi=ti(new He(0,0,0,0),0).ca(),He.Default=eo=ti(new He(0,0,-1,0),-1).ca(),He.TopLeft=tn=new He(0,0,0,0).ca(),He.TopCenter=wi=new He(.5,0,0,0).ca(),He.TopRight=$n=new He(1,0,0,0).ca(),He.LeftCenter=sr=new He(0,.5,0,0).ca(),He.Center=Xe=new He(.5,.5,0,0).ca(),He.RightCenter=Fi=new He(1,.5,0,0).ca(),He.BottomLeft=nh=new He(0,1,0,0).ca(),He.BottomCenter=Ih=new He(.5,1,0,0).ca(),He.BottomRight=ss=new He(1,1,0,0).ca(),He.MiddleTop=aa=wi,He.MiddleLeft=_r=sr,He.MiddleRight=En=Fi,He.MiddleBottom=la=Ih,He.Top=U_=wi,He.Left=JC=sr,He.Right=z_=Fi,He.Bottom=G_=Ih,He.TopSide=c0=ti(new He(0,0,1,1),1).ca(),He.LeftSide=fc=ti(new He(0,0,1,2),1).ca(),He.RightSide=un=ti(new He(0,0,1,4),1).ca(),He.BottomSide=Eo=ti(new He(0,0,1,8),1).ca(),He.TopBottomSides=f1=ti(new He(0,0,1,9),1).ca(),He.LeftRightSides=F_=ti(new He(0,0,1,6),1).ca(),He.TopLeftSides=L_=ti(new He(0,0,1,3),1).ca(),He.TopRightSides=Id=ti(new He(0,0,1,5),1).ca(),He.BottomLeftSides=sa=ti(new He(0,0,1,10),1).ca(),He.BottomRightSides=B_=ti(new He(0,0,1,12),1).ca(),He.NotTopSide=d1=ti(new He(0,0,1,14),1).ca(),He.NotLeftSide=V_=ti(new He(0,0,1,13),1).ca(),He.NotRightSide=rh=ti(new He(0,0,1,11),1).ca(),He.NotBottomSide=j_=ti(new He(0,0,1,7),1).ca(),He.AllSides=H_=ti(new He(0,0,1,15),1).ca(),W_=new He(.156,.156).ca(),Y_=new He(.844,.844).ca(),He.parse=$_,He.stringify=en,di.prototype.set=function(t){return this.m11=t.m11,this.m12=t.m12,this.m21=t.m21,this.m22=t.m22,this.dx=t.dx,this.dy=t.dy,this},di.prototype.copy=function(){var t=new di;return t.m11=this.m11,t.m12=this.m12,t.m21=this.m21,t.m22=this.m22,t.dx=this.dx,t.dy=this.dy,t},di.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},di.prototype.w=function(t){return this.m11===t.m11&&this.m12===t.m12&&this.m21===t.m21&&this.m22===t.m22&&this.dx===t.dx&&this.dy===t.dy},di.prototype.Tt=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},di.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},di.prototype.multiply=function(t){var e=this.m11*t.m11+this.m21*t.m12,o=this.m12*t.m11+this.m22*t.m12,a=this.m11*t.m21+this.m21*t.m22,h=this.m12*t.m21+this.m22*t.m22;return this.dx=this.m11*t.dx+this.m21*t.dy+this.dx,this.dy=this.m12*t.dx+this.m22*t.dy+this.dy,this.m11=e,this.m12=o,this.m21=a,this.m22=h,this},di.prototype.jw=function(t){var e=1/(t.m11*t.m22-t.m12*t.m21),o=t.m22*e,a=-t.m12*e,h=-t.m21*e,c=t.m11*e,m=e*(t.m21*t.dy-t.m22*t.dx);return t=e*(t.m12*t.dx-t.m11*t.dy),e=this.m11*o+this.m21*a,o=this.m12*o+this.m22*a,a=this.m11*h+this.m21*c,h=this.m12*h+this.m22*c,this.dx=this.m11*m+this.m21*t+this.dx,this.dy=this.m12*m+this.m22*t+this.dy,this.m11=e,this.m12=o,this.m21=a,this.m22=h,this},di.prototype.St=function(){var t=1/(this.m11*this.m22-this.m12*this.m21),e=-this.m12*t,o=-this.m21*t,a=this.m11*t,h=t*(this.m21*this.dy-this.m22*this.dx),c=t*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*t,this.m12=e,this.m21=o,this.m22=a,this.dx=h,this.dy=c,this},di.prototype.rotate=function(t,e,o){if(360<=t?t-=360:0>t&&(t+=360),0===t)return this;if(this.translate(e,o),90===t){t=0;var a=1}else 180===t?(t=-1,a=0):270===t?(t=0,a=-1):(a=t*Math.PI/180,t=Math.cos(a),a=Math.sin(a));var h=this.m12*t+this.m22*a,c=this.m11*-a+this.m21*t,m=this.m12*-a+this.m22*t;return this.m11=this.m11*t+this.m21*a,this.m12=h,this.m21=c,this.m22=m,this.translate(-e,-o),this},(q=di.prototype).translate=function(t,e){return this.dx+=this.m11*t+this.m21*e,this.dy+=this.m12*t+this.m22*e,this},q.scale=function(t,e){return void 0===e&&(e=t),this.m11*=t,this.m12*=t,this.m21*=e,this.m22*=e,this},q.ta=function(t){var e=t.x,o=t.y;return t.h(e*this.m11+o*this.m21+this.dx,e*this.m12+o*this.m22+this.dy)},q.Jd=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),o=t.x,a=t.y;return t.h(o*this.m22*e+a*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),o*-this.m12*e+a*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},q.Zx=function(t){var e=1/(this.m11*this.m22-this.m12*this.m21),o=1.25*t.x,a=1.2*t.y;return t.h(o*this.m22*e+a*-this.m21*e+e*(this.m21*this.dy-this.m22*this.dx),o*-this.m12*e+a*this.m11*e+e*(this.m12*this.dx-this.m11*this.dy))},q.Pw=function(t){var e=t.x,o=t.y,a=e+t.width,h=o+t.height,c=this.m11,m=this.m12,x=this.m21,S=this.m22,E=this.dx,P=this.dy,N=e*c+o*x+E,nt=e*m+o*S+P,at=a*c+o*x+E,rt=a*m+o*S+P;return o=e*c+h*x+E,e=e*m+h*S+P,c=a*c+h*x+E,a=a*m+h*S+P,h=Math.min(N,at),N=Math.max(N,at),at=Math.min(nt,rt),nt=Math.max(nt,rt),h=Math.min(h,o),N=Math.max(N,o),at=Math.min(at,e),nt=Math.max(nt,e),h=Math.min(h,c),N=Math.max(N,c),at=Math.min(at,a),nt=Math.max(nt,a),t.h(h,at,N-h,nt-at),t},di.alloc=function(){var t=X_.pop();return void 0===t?new di:t},di.free=function(t){X_.push(t)},di.prototype.transformRect=di.prototype.Pw,di.prototype.transformPoint=di.prototype.ta,di.prototype.scale=di.prototype.scale,di.prototype.translate=di.prototype.translate,di.prototype.rotate=di.prototype.rotate,di.prototype.invert=di.prototype.St,di.prototype.multiplyInverted=di.prototype.jw,di.prototype.multiply=di.prototype.multiply,di.prototype.reset=di.prototype.reset,di.prototype.isIdentity=di.prototype.Tt,di.prototype.equals=di.prototype.w,di.prototype.set=di.prototype.set;var X_=[];di.className="Transform",di.xF="54a702f3e53909c447824c6706603faf4c";var Zt={lB:"7da71ca0ad381e90",Kg:(Math.sqrt(2)-1)/3*4,jx:null,sqrt:function(t){if(0>=t)return 0;var e=Zt.jx;if(null===e){e=[];for(var o=0;2e3>=o;o++)e[o]=Math.sqrt(o);Zt.jx=e}return 1>t?2e3>=(o=1/t)?1/e[0|o]:Math.sqrt(t):2e3>=t?e[0|t]:Math.sqrt(t)},A:function(t,e){return.5>(t-=e)&&-.5<t},aa:function(t,e){return 5e-8>(t-=e)&&-5e-8<t},Nb:function(t,e,o,a,h,c,m){if(0>=h&&(h=1e-6),t<o)var x=t,S=o;else x=o,S=t;if(e<a)var E=e,P=a;else E=a,P=e;if(t===o)return E<=m&&m<=P&&t-h<=c&&c<=t+h;if(e===a)return x<=c&&c<=S&&e-h<=m&&m<=e+h;if(S+=h,(x-=h)<=c&&c<=S&&(P+=h,(E-=h)<=m&&m<=P))if(S-x>P-E){if(!(t-o>h||o-t>h))return!0;if((c=(a-e)/(o-t)*(c-t)+e)-h<=m&&m<=c+h)return!0}else{if(!(e-a>h||a-e>h))return!0;if((m=(o-t)/(a-e)*(m-e)+t)-h<=c&&c<=m+h)return!0}return!1},yt:function(t,e,o,a,h,c,m,x,S,E,P,N){if(Zt.Nb(t,e,m,x,N,o,a)&&Zt.Nb(t,e,m,x,N,h,c))return Zt.Nb(t,e,m,x,N,E,P);var nt=(t+o)/2,at=(e+a)/2,rt=(o+h)/2,_t=(a+c)/2,It=((a=(nt+rt)/2)+(rt=(rt+(h=(h+m)/2))/2))/2,Pt=((o=(at+_t)/2)+(_t=(_t+(c=(c+x)/2))/2))/2;return Zt.yt(t,e,nt,at,a,o,It,Pt,S,E,P,N)||Zt.yt(It,Pt,rt,_t,h,c,m,x,S,E,P,N)},yz:function(t,e,o,a,h,c,m,x,S){var E=(o+h)/2,P=(a+c)/2;return S.h((((t+o)/2+E)/2+(E+(h+m)/2)/2)/2,(((e+a)/2+P)/2+(P+(c+x)/2)/2)/2),S},xz:function(t,e,o,a,h,c,m,x){var S=(o+h)/2,E=(a+c)/2;return be(((t+o)/2+S)/2,((e+a)/2+E)/2,(S+(h+m)/2)/2,(E+(c+x)/2)/2)},vm:function(t,e,o,a,h,c,m,x,S,E){if(Zt.Nb(t,e,m,x,S,o,a)&&Zt.Nb(t,e,m,x,S,h,c))fi(E,t,e,0,0),fi(E,m,x,0,0);else{var P=(t+o)/2,N=(e+a)/2,nt=(o+h)/2,at=(a+c)/2,rt=((a=(P+nt)/2)+(nt=(nt+(h=(h+m)/2))/2))/2,_t=((o=(N+at)/2)+(at=(at+(c=(c+x)/2))/2))/2;Zt.vm(t,e,P,N,a,o,rt,_t,S,E),Zt.vm(rt,_t,nt,at,h,c,m,x,S,E)}return E},Fe:function(t,e,o,a,h,c,m,x,S,E){if(Zt.Nb(t,e,m,x,S,o,a)&&Zt.Nb(t,e,m,x,S,h,c))0===E.length&&(E.push(t),E.push(e)),E.push(m),E.push(x);else{var P=(t+o)/2,N=(e+a)/2,nt=(o+h)/2,at=(a+c)/2,rt=((a=(P+nt)/2)+(nt=(nt+(h=(h+m)/2))/2))/2,_t=((o=(N+at)/2)+(at=(at+(c=(c+x)/2))/2))/2;Zt.Fe(t,e,P,N,a,o,rt,_t,S,E),Zt.Fe(rt,_t,nt,at,h,c,m,x,S,E)}return E},qw:function(t,e,o,a,h,c,m,x,S,E){if(Zt.Nb(t,e,h,c,E,o,a))return Zt.Nb(t,e,h,c,E,x,S);var P=(t+o)/2,N=(e+a)/2,nt=(P+(o=(o+h)/2))/2,at=(N+(a=(a+c)/2))/2;return Zt.qw(t,e,P,N,nt,at,m,x,S,E)||Zt.qw(nt,at,o,a,h,c,m,x,S,E)},AB:function(t,e,o,a,h,c,m){return m.h(((t+o)/2+(o+h)/2)/2,((e+a)/2+(a+c)/2)/2),m},pw:function(t,e,o,a,h,c,m,x){if(Zt.Nb(t,e,h,c,m,o,a))fi(x,t,e,0,0),fi(x,h,c,0,0);else{var S=(t+o)/2,E=(e+a)/2,P=(S+(o=(o+h)/2))/2,N=(E+(a=(a+c)/2))/2;Zt.pw(t,e,S,E,P,N,m,x),Zt.pw(P,N,o,a,h,c,m,x)}return x},Vq:function(t,e,o,a,h,c,m,x){if(Zt.Nb(t,e,h,c,m,o,a))0===x.length&&(x.push(t),x.push(e)),x.push(h),x.push(c);else{var S=(t+o)/2,E=(e+a)/2,P=(S+(o=(o+h)/2))/2,N=(E+(a=(a+c)/2))/2;Zt.Vq(t,e,S,E,P,N,m,x),Zt.Vq(P,N,o,a,h,c,m,x)}return x},wq:function(t,e,o,a,h,c,m,x,S,E,P,N,nt,at){if(Zt.Nb(t,e,m,x,nt,o,a)&&Zt.Nb(t,e,m,x,nt,h,c))return!(!Zt.Cm(t,e,m,x,S,E,P,N)||(nt=(t-m)*(E-N)-(e-x)*(S-P),0===nt)||(at.h(((t*x-e*m)*(S-P)-(t-m)*(S*N-E*P))/nt,((t*x-e*m)*(E-N)-(e-x)*(S*N-E*P))/nt),0));var rt=(t+o)/2,_t=(e+a)/2,It=(o+h)/2,Pt=(a+c)/2,Vt=((a=(rt+It)/2)+(It=(It+(h=(h+m)/2))/2))/2,Ht=((o=(_t+Pt)/2)+(Pt=(Pt+(c=(c+x)/2))/2))/2,Wt=1/0,Qt=!1,me=0,Be=0;return Zt.wq(t,e,rt,_t,a,o,Vt,Ht,S,E,P,N,nt,at)&&(t=(at.x-S)*(at.x-S)+(at.y-E)*(at.y-E))<Wt&&(Wt=t,Qt=!0,me=at.x,Be=at.y),Zt.wq(Vt,Ht,It,Pt,h,c,m,x,S,E,P,N,nt,at)&&(at.x-S)*(at.x-S)+(at.y-E)*(at.y-E)<Wt&&(Qt=!0,me=at.x,Be=at.y),Qt&&(at.x=me,at.y=Be),Qt},xq:function(t,e,o,a,h,c,m,x,S,E,P,N,nt){var at=0;if(Zt.Nb(t,e,m,x,nt,o,a)&&Zt.Nb(t,e,m,x,nt,h,c)){if(0==(nt=(t-m)*(E-N)-(e-x)*(S-P)))return at;var rt=((t*x-e*m)*(S-P)-(t-m)*(S*N-E*P))/nt,_t=((t*x-e*m)*(E-N)-(e-x)*(S*N-E*P))/nt;if(rt>=P)return at;if((S>P?S-P:P-S)<(E>N?E-N:N-E)){if(e<x?(t=e,e=x):t=x,_t<t||_t>e)return at}else if(t<m?(e=t,t=m):e=m,rt<e||rt>t)return at;0<nt?at++:0>nt&&at--}else{_t=(e+a)/2;var It=(o+h)/2,Pt=(a+c)/2,Vt=((a=((rt=(t+o)/2)+It)/2)+(It=(It+(h=(h+m)/2))/2))/2,Ht=((o=(_t+Pt)/2)+(Pt=(Pt+(c=(c+x)/2))/2))/2;at+=Zt.xq(t,e,rt,_t,a,o,Vt,Ht,S,E,P,N,nt),at+=Zt.xq(Vt,Ht,It,Pt,h,c,m,x,S,E,P,N,nt)}return at},Qh:function(t,e,o,a,h,c,m){return Zt.aa(t,o)?(e<a?(o=e,e=a):o=a,c<o?(m.h(t,o),!1):c>e?(m.h(t,e),!1):(m.h(t,c),!0)):Zt.aa(e,a)?(t<o?(a=t,t=o):a=o,h<a?(m.h(a,e),!1):h>t?(m.h(t,e),!1):(m.h(h,e),!0)):-5e-6>(h=((t-h)*(t-o)+(e-c)*(e-a))/((o-t)*(o-t)+(a-e)*(a-e)))?(m.h(t,e),!1):1.000005<h?(m.h(o,a),!1):(m.h(t+h*(o-t),e+h*(a-e)),!0)},Me:function(t,e,o,a,h,c,m,x,S){return Zt.A(t,o)&&Zt.A(e,a)?(S.h(t,e),!1):Zt.aa(h,m)?Zt.aa(t,o)?(Zt.Qh(t,e,o,a,h,c,S),!1):Zt.Qh(t,e,o,a,h,(a-e)/(o-t)*(h-t)+e,S):(x=(x-c)/(m-h),Zt.aa(t,o)?(o=x*(t-h)+c,e<a?(h=e,e=a):h=a,o<h?(S.h(t,h),!1):o>e?(S.h(t,e),!1):(S.h(t,o),!0)):Zt.aa(x,m=(a-e)/(o-t))?(Zt.Qh(t,e,o,a,h,c,S),!1):(h=(m*t-x*h+c-e)/(m-x),Zt.aa(m,0)?(t<o?(a=t,t=o):a=o,h<a?(S.h(a,e),!1):h>t?(S.h(t,e),!1):(S.h(h,e),!0)):Zt.Qh(t,e,o,a,h,m*(h-t)+e,S)))},yB:function(t,e,o,a,h){return Zt.Me(o.x,o.y,a.x,a.y,t.x,t.y,e.x,e.y,h)},wB:function(t,e,o,a,h,c,m,x,S,E){function P(It,Pt){var Vt=(It-t)*(It-t)+(Pt-e)*(Pt-e);Vt<N&&(N=Vt,S.h(It,Pt))}var N=1/0;P(S.x,S.y);var nt=0,at=0,rt=0,_t=0;if(h<m?(nt=h,at=m):(nt=m,at=h),c<x?(rt=h,_t=m):(rt=m,_t=h),nt=(at-nt)/2+E,E=(_t-rt)/2+E,h=(h+m)/2,c=(c+x)/2,0===nt||0===E)return S;if(.5>(o>t?o-t:t-o)){if(0>(nt=1-(o-h)*(o-h)/(nt*nt)))return S;a=-E*(nt=Math.sqrt(nt))+c,P(o,E*nt+c),P(o,a)}else{if(0>(nt=(x=2*(o=(a-e)/(o-t))*(e-o*t)/(E*E)-2*o*c/(E*E)-2*h/(nt*nt))*x-4*(a=1/(nt*nt)+o*o/(E*E))*(2*o*t*c/(E*E)-2*e*c/(E*E)+c*c/(E*E)+h*h/(nt*nt)-1+(e-o*t)*(e-o*t)/(E*E))))return S;P(E=(-x+(nt=Math.sqrt(nt)))/(2*a),o*E-o*t+e),P(nt=(-x-nt)/(2*a),o*nt-o*t+e)}return S},Cf:function(t,e,o,a,h,c,m,x,S){var E=1e21,P=t,N=e;if(Zt.Me(t,e,t,a,h,c,m,x,S)){var nt=(S.x-h)*(S.x-h)+(S.y-c)*(S.y-c);nt<E&&(E=nt,P=S.x,N=S.y)}return Zt.Me(o,e,o,a,h,c,m,x,S)&&(nt=(S.x-h)*(S.x-h)+(S.y-c)*(S.y-c))<E&&(E=nt,P=S.x,N=S.y),Zt.Me(t,e,o,e,h,c,m,x,S)&&(e=(S.x-h)*(S.x-h)+(S.y-c)*(S.y-c))<E&&(E=e,P=S.x,N=S.y),Zt.Me(t,a,o,a,h,c,m,x,S)&&(t=(S.x-h)*(S.x-h)+(S.y-c)*(S.y-c))<E&&(E=t,P=S.x,N=S.y),S.h(P,N),1e21>E},vB:function(t,e,o,a,h,c,m,x,S){return m=h-m,h=0==(o=t-o)||0===m?0===o?(e=(c-x)/m)*(x=t)+(c-e*h):(c=(e-a)/o)*(x=h)+(e-c*t):(a=(e-a)/o)*(x=(c-(x=(c-x)/m)*h-(t=e-a*t))/(a-x))+t,S.h(x,h),S},Qt:function(t,e,o){return Zt.Ey(t.x,t.y,t.width,t.height,e.x,e.y,o.x,o.y)},Ey:function(t,e,o,a,h,c,m,x){var S=t+o,E=e+a;return h===m?(c<x?(m=c,c=x):m=x,t<=h&&h<=S&&m<=E&&c>=e):c===x?(h<m?(x=h,h=m):x=m,e<=c&&c<=E&&x<=S&&h>=t):!!(hi(t,e,o,a,h,c)||hi(t,e,o,a,m,x)||Zt.Cm(t,e,S,e,h,c,m,x)||Zt.Cm(S,e,S,E,h,c,m,x)||Zt.Cm(S,E,t,E,h,c,m,x)||Zt.Cm(t,E,t,e,h,c,m,x))},Cm:function(t,e,o,a,h,c,m,x){return 0>=Zt.Bt(t,e,o,a,h,c)*Zt.Bt(t,e,o,a,m,x)&&0>=Zt.Bt(h,c,m,x,t,e)*Zt.Bt(h,c,m,x,o,a)},Bt:function(t,e,o,a,h,c){return o-=t,0==(c=(t=h-t)*(a-=e)-(e=c-e)*o)&&0<(c=t*o+e*a)&&0>(c=(t-o)*o+(e-a)*a)&&(c=0),0>c?-1:0<c?1:0},Tq:function(t){return 0>t&&(t+=360),360<=t&&(t-=360),t},hy:function(t,e,o,a,h,c){var m=Math.PI;c||(a*=m/180,h*=m/180);var x=a>h?-1:1;c=[];var S=m/2,E=a;if(1e-5>(a=Math.min(2*m,Math.abs(h-a))))return S=E+x*Math.min(a,S),x=t+o*Math.cos(E),E=e+o*Math.sin(E),t+=o*Math.cos(S),e+=o*Math.sin(S),c.push([x,E,o=(x+t)/2,S=(E+e)/2,o,S,t,e]),c;for(;1e-5<a;)h=E+x*Math.min(a,S),c.push(Zt.Hz(o,E,h,t,e)),a-=Math.abs(h-E),E=h;return c},Hz:function(t,e,o,a,h){var c=(o-e)/2,m=t*Math.cos(c),x=t*Math.sin(c),S=-x,E=m*m+S*S,P=E+m*m+S*x;return x=m-(E=4/3*(Math.sqrt(2*E*P)-P)/(m*x-S*m))*S,S=-(m=S+E*m),E=c+e,c=Math.cos(E),E=Math.sin(E),[a+t*Math.cos(e),h+t*Math.sin(e),a+x*c-m*E,h+x*E+m*c,a+x*c-S*E,h+x*E+S*c,a+t*Math.cos(o),h+t*Math.sin(o)]},Gq:function(t,e,o,a,h,c,m){var x=o=Math.floor((t-o)/h)*h+o;return o+h-t<h/2&&(x=o+h),t=a=Math.floor((e-a)/c)*c+a,a+c-e<c/2&&(t=a+c),m.h(x,t),m},uy:function(t,e){var a,o=Math.max(t,e);t=Math.min(t,e);do{e=o%t,o=a=t,t=e}while(0<e);return a},Mz:function(t,e,o,a){var h=0>o,c=0>a;if(t<e)var m=1,x=0;else m=0,x=1;var S=0===m?t:e,E=0===m?o:a;return(0===m?h:c)&&(E=-E),o=0===(m=x)?o:a,(0===m?h:c)&&(o=-o),Zt.Nz(S,0===m?t:e,E,o,0,0)},Nz:function(t,e,o,a,h,c){if(0<a)if(0<o){h=t*t,t*=o;var m=e*a,x=-(c=e*e)+m,S=-c+Math.sqrt(t*t+m*m);e=x;for(var E=0;9999999999>E&&(e=.5*(x+S))!==x&&e!==S;++E){var P=t/(e+h),N=m/(e+c);if(0<(P=P*P+N*N-1))x=e;else{if(!(0>P))break;S=e}}o=h*o/(e+h)-o,a=c*a/(e+c)-a,o=Math.sqrt(o*o+a*a)}else o=Math.abs(a-e);else(c=t*o)<(a=t*t-e*e)?(a=c/a,c=e*Math.sqrt(Math.abs(1-a*a)),o=t*a-o,o=Math.sqrt(o*o+c*c)):o=Math.abs(o-t);return o},Qe:new wt,dn:new wt,Uh:new wt,Vh:0};function pi(t){Kt(this),this.v=!1,void 0===t&&(t=Ls),this.qa=t,this.oc=this.hc=this.dd=this.cd=0,this.Jj=new St,this.Xr=this.Jj.Ba,this.Fr=(new Lt).freeze(),this.ra=!0,this.ln=this.al=null,this.mn=NaN,this.pf=tn,this.qf=ss,this.Cl=this.Dl=NaN,this.Sf=zn}function f0(t,e){return t.type===ar&&e.type===Ls&&!!(1===e.figures.count&&(e=e.figures.J(0),1===e.segments.count&&Zt.A(t.startX,e.startX)&&Zt.A(t.startY,e.startY)&&(e=e.segments.J(0),e.type===tr&&Zt.A(t.endX,e.endX)&&Zt.A(t.endY,e.endY))))}function Sg(t){return t.toString()}function sf(t,e){function o(){return _t>=Wt-1||null!==N[_t+1].match(Qt)}function a(){return _t++,N[_t]}function h(ve){var xi=parseFloat(a()),ri=parseFloat(a());It===It.toLowerCase()&&(xi=Ht.x+xi,ri=Ht.y+ri),ve.h(xi,ri)}function c(){return h(Ht),Ht}function m(){return h(Vt),Vt}function x(){var ve=Pt.toLowerCase();return"c"!==ve&&"s"!==ve&&"q"!==ve&&"t"!==ve?Ht:new J(2*Ht.x-Vt.x,2*Ht.y-Vt.y)}void 0===e&&(e=!1);var S=new RegExp("(["+as+"])(["+as+"])","gm"),E=new RegExp("(["+as+"])([^s])","gm"),P=new RegExp("([^s])(["+as+"])","gm"),N=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/,/gm," ")).replace(S,"$1 $2")).replace(S,"$1 $2")).replace(E,"$1 $2")).replace(P,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(t=0;t<N.length;t++)if(null!==(E=N[t]).match(/(\.[0-9]*)(\.)/gm)){S=u(),P="";for(var nt=!1,at=0;at<E.length;at++){var rt=E[at];"."!==rt||nt?"."===rt?(S.push(P),P="."):P+=rt:(nt=!0,P+=rt)}for(S.push(P),N.splice(t,1),E=0;E<S.length;E++)N.splice(t+E,0,S[E]);t+=S.length-1,p(S)}var _t=-1,It="",Pt="";S=new J(0,0);var Vt=new J(0,0),Ht=new J(0,0),Wt=N.length;t=fx(null),P=E=!1,nt=!0,at=null;for(var Qt=new RegExp("["+as+"]");!(_t>=Wt-1);)if(Pt=It,""!==(It=a()))switch(It.toUpperCase()){case"X":nt=!0,P=E=!1;break;case"M":for(at=c(),null===t.ic||!0===nt?(Sc(t,at.x,at.y,E,!P),nt=!1):t.moveTo(at.x,at.y),S.assign(Ht);!o();)at=c(),t.lineTo(at.x,at.y);break;case"L":for(;!o();)at=c(),t.lineTo(at.x,at.y);break;case"H":for(;!o();)Ht=new J((It===It.toLowerCase()?Ht.x:0)+parseFloat(a()),Ht.y),t.lineTo(Ht.x,Ht.y);break;case"V":for(;!o();)Ht=new J(Ht.x,(It===It.toLowerCase()?Ht.y:0)+parseFloat(a())),t.lineTo(Ht.x,Ht.y);break;case"C":for(;!o();){h(at=new J),rt=m();var me=c();$h(t,at.x,at.y,rt.x,rt.y,me.x,me.y)}break;case"S":for(;!o();)at=x(),rt=m(),me=c(),$h(t,at.x,at.y,rt.x,rt.y,me.x,me.y);break;case"Q":for(;!o();)at=m(),rt=c(),tm(t,at.x,at.y,rt.x,rt.y);break;case"T":for(;!o();)Vt=at=x(),rt=c(),tm(t,at.x,at.y,rt.x,rt.y);break;case"B":for(;!o();){at=parseFloat(a()),rt=parseFloat(a()),me=parseFloat(a());var Be=parseFloat(a()),Ee=parseFloat(a()),We=Ee,Te=!1;o()||(We=parseFloat(a()),o()||(Te=0!==parseFloat(a()))),It===It.toLowerCase()&&(me+=Ht.x,Be+=Ht.y),t.arcTo(at,rt,me,Be,Ee,We,Te)}break;case"A":for(;!o();)at=Math.abs(parseFloat(a())),rt=Math.abs(parseFloat(a())),me=parseFloat(a()),Ee=Be=!1,Te=We=0,1===(We=a()).length?(Be=!!parseFloat(We),Ee=!!parseFloat(a()),We=parseFloat(a())):2===We.length?(Be=!!parseFloat(We[0]),Ee=!!parseFloat(We[1]),We=parseFloat(a())):(Be=!!parseFloat(We[0]),Ee=!!parseFloat(We[1]),We=parseFloat(We.slice(2))),Te=parseFloat(a()),It===It.toLowerCase()&&(We=Ht.x+We,Te=Ht.y+Te),Ht.h(We,Te),em(t,at,rt,me,Be,Ee,We,Te);break;case"Z":cx(t),Ht.assign(S);break;case"F":for(at="",rt=1;N[_t+rt];)if(null!==N[_t+rt].match(/[Uu]/))rt++;else{if(null!==N[_t+rt].match(Qt)){at=N[_t+rt];break}rt++}at.match(/[Mm]/)?E=!0:0<t.ic.segments.length&&(t.ic.isFilled=!0);break;case"U":for(at="",rt=1;N[_t+rt];)if(null!==N[_t+rt].match(/[Ff]/))rt++;else{if(null!==N[_t+rt].match(Qt)){at=N[_t+rt];break}rt++}at.match(/[Mm]/)?P=!0:t.Ym(!1)}if(S=t.Kt,im=t,e)for(e=S.figures.iterator;e.next();)e.value.isFilled=!0;return S}function K_(t,e){for(var o=t.length,a=J.alloc(),h=0;h<o;h++){var c=t[h];a.x=c[0],a.y=c[1],e.ta(a),c[0]=a.x,c[1]=a.y,a.x=c[2],a.y=c[3],e.ta(a),c[2]=a.x,c[3]=a.y,a.x=c[4],a.y=c[5],e.ta(a),c[4]=a.x,c[5]=a.y,a.x=c[6],a.y=c[7],e.ta(a),c[6]=a.x,c[7]=a.y}J.free(a)}function Zi(t,e,o){switch(t.type){case ar:case Tr:case _l:o?e.h(t.cd,t.dd,0,0):fi(e,t.cd,t.dd,0,0),fi(e,t.hc,t.oc,0,0);break;case Ls:var a=t.figures;t=a.j,a=a.length;for(var h=0;h<a;h++){var c=t[h];o&&0===h?e.h(c.startX,c.startY,0,0):fi(e,c.startX,c.startY,0,0);for(var m=c.segments.j,x=m.length,S=c.startX,E=c.startY,P=0;P<x;P++){var N=m[P];switch(N.type){case tr:case Cn:fi(e,S=N.endX,E=N.endY,0,0);break;case Bs:Zt.vm(S,E,N.point1X,N.point1Y,N.point2X,N.point2Y,N.endX,N.endY,.5,e),S=N.endX,E=N.endY;break;case ls:Zt.pw(S,E,N.point1X,N.point1Y,N.endX,N.endY,.5,e),S=N.endX,E=N.endY;break;case Vi:case Ms:var nt=N.type===Vi?oh(N,c):af(N,c,S,E),at=nt.length;if(0===at){fi(e,S=N.type===Vi?N.centerX:N.endX,E=N.type===Vi?N.centerY:N.endY,0,0);break}N=null;for(var rt=0;rt<at;rt++)Zt.vm((N=nt[rt])[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],.5,e);null!==N&&(S=N[6],E=N[7]);break;default:R("Unknown Segment type: "+N.type)}}}break;default:R("Unknown Geometry type: "+t.type)}}function d0(t,e,o,a,h){var c=e.x;e=e.y;for(var S,E,P,N,m=t.bounds.x-20,x=0,nt=t.figures.j,at=nt.length,rt=0;rt<at;rt++){var _t=nt[rt];if(_t.isFilled){if(a&&_t.$(c,e,o))return!0;for(var It=_t.segments,Pt=S=_t.startX,Vt=E=_t.startY,Ht=It.j,Wt=0;Wt<=It.length;Wt++){var Qt=void 0;if(Wt!==It.length){var me=(Qt=Ht[Wt]).type;t=Qt.endX,N=Qt.endY}else me=tr,t=Pt,N=Vt;switch(me){case Cn:if(Pt=Dg(c,e,m,e,S,E,Pt,Vt),isNaN(Pt))return!0;x+=Pt,Pt=t,Vt=N;break;case tr:if(S=Dg(c,e,m,e,S,E,t,N),isNaN(S))return!0;x+=S;break;case Bs:x+=P=Zt.xq(S,E,Qt.point1X,Qt.point1Y,Qt.point2X,Qt.point2Y,t,N,m,e,c,e,.5);break;case ls:x+=P=Zt.xq(S,E,(S+2*Qt.point1X)/3,(E+2*Qt.point1Y)/3,(2*Qt.point1X+t)/3,(2*Qt.point1Y+N)/3,t,N,m,e,c,e,.5);break;case Vi:case Ms:var Be=(me=Qt.type===Vi?oh(Qt,_t):af(Qt,_t,S,E)).length;if(0===Be){if(S=Dg(c,e,m,e,S,E,Qt.type===Vi?Qt.centerX:Qt.endX,Qt.type===Vi?Qt.centerY:Qt.endY),isNaN(S))return!0;x+=S;break}Qt=null;for(var Ee=0;Ee<Be;Ee++){if(Qt=me[Ee],0===Ee){if(P=Dg(c,e,m,e,S,E,Qt[0],Qt[1]),isNaN(P))return!0;x+=P}x+=P=Zt.xq(Qt[0],Qt[1],Qt[2],Qt[3],Qt[4],Qt[5],Qt[6],Qt[7],m,e,c,e,.5)}null!==Qt&&(t=Qt[6],N=Qt[7]);break;default:R("Unknown Segment type: "+Qt.type)}S=t,E=N}if(0!==x)return!0;x=0}else if(_t.$(c,e,h?o:o+2))return!0}return 0!==x}function Dg(t,e,o,a,h,c,m,x){if(Zt.Nb(h,c,m,x,.05,t,e))return NaN;var S=(t-o)*(c-x);if(0===S)return 0;var E=((t*a-e*o)*(h-m)-(t-o)*(h*x-c*m))/S;if(e=(t*a-e*o)*(c-x)/S,E>=t)return 0;if((h>m?h-m:m-h)<(c>x?c-x:x-c)){if(c<x){if(e<c||e>x)return 0}else if(e<x||e>c)return 0}else if(h<m){if(E<h||E>m)return 0}else if(E<m||E>h)return 0;return 0<S?1:-1}function yu(t,e,o,a){for(var h=(t=t.figures.j).length,c=0;c<h;c++)if(t[c].$(e,o,a))return!0;return!1}function p1(t){if(null===t.al){var e=t.al=[],o=t.ln=[],a=[],h=[];if(t.type===ar)a.push(t.startX),a.push(t.startY),a.push(t.endX),a.push(t.endY),e.push(a),h.push(Math.sqrt((t.startX-t.endX)*(t.startX-t.endX)+(t.startY-t.endY)*(t.startY-t.endY))),o.push(h);else if(t.type===Tr)a.push(t.startX),a.push(t.startY),a.push(t.endX),a.push(t.startY),a.push(t.endX),a.push(t.endY),a.push(t.startX),a.push(t.endY),a.push(t.startX),a.push(t.startY),e.push(a),h.push(Math.abs(t.startX-t.endX)),h.push(Math.abs(t.startY-t.endY)),h.push(Math.abs(t.startX-t.endX)),h.push(Math.abs(t.startY-t.endY)),o.push(h);else if(t.type===_l){var c=new jr;c.startX=t.endX,c.startY=(t.startY+t.endY)/2;var m=new Bi(Vi);if(m.startAngle=0,m.sweepAngle=360,m.centerX=(t.startX+t.endX)/2,m.centerY=(t.startY+t.endY)/2,m.radiusX=Math.abs(t.startX-t.endX)/2,m.radiusY=Math.abs(t.startY-t.endY)/2,c.add(m),0===(h=(t=oh(m,c)).length))a.push(m.centerX),a.push(m.centerY);else{m=c.startX,c=c.startY;for(var x=0;x<h;x++){var S=t[x];Zt.Fe(m,c,S[2],S[3],S[4],S[5],S[6],S[7],.5,a),m=S[6],c=S[7]}}e.push(a),o.push(Z_(a))}else for(t=t.figures.iterator;t.next();){(a=[]).push((h=t.value).startX),a.push(h.startY),x=m=h.startX,S=c=h.startY;for(var E=h.segments.j,P=E.length,N=0;N<P;N++){var nt=E[N];switch(nt.type){case Cn:4<=a.length&&(e.push(a),o.push(Z_(a))),(a=[]).push(nt.endX),a.push(nt.endY),x=m=nt.endX,S=c=nt.endY;break;case tr:a.push(nt.endX),a.push(nt.endY),m=nt.endX,c=nt.endY;break;case Bs:Zt.Fe(m,c,nt.point1X,nt.point1Y,nt.point2X,nt.point2Y,nt.endX,nt.endY,.5,a),m=nt.endX,c=nt.endY;break;case ls:Zt.Vq(m,c,nt.point1X,nt.point1Y,nt.endX,nt.endY,.5,a),m=nt.endX,c=nt.endY;break;case Vi:var at=oh(nt,h),rt=at.length;if(0===rt){a.push(nt.centerX),a.push(nt.centerY),m=nt.centerX,c=nt.centerY;break}for(var _t=0;_t<rt;_t++){var It=at[_t];Zt.Fe(m,c,It[2],It[3],It[4],It[5],It[6],It[7],.5,a),m=It[6],c=It[7]}break;case Ms:if(at=af(nt,h,m,c),_t=nt.endX,It=nt.endY,0===(rt=at.length)){a.push(_t),a.push(It),m=_t,c=It;break}for(_t=0;_t<rt;_t++)Zt.Fe(m,c,(It=at[_t])[2],It[3],It[4],It[5],It[6],It[7],.5,a),m=It[6],c=It[7];break;default:R("Segment not of valid type: "+nt.type)}nt.isClosed&&(a.push(x),a.push(S))}4<=a.length&&(e.push(a),o.push(Z_(a)))}}}function Z_(t){for(var e=[],o=0,a=0,h=t.length,c=0;c<h;c+=2){var m=t[c],x=t[c+1];0!==c&&e.push(Math.sqrt(ei(o,a,m,x))),o=m,a=x}return e}Zt.za=Zt.lB,pi.prototype.copy=function(){var t=new pi;t.qa=this.qa,t.cd=this.cd,t.dd=this.dd,t.hc=this.hc,t.oc=this.oc;for(var e=this.Jj.j,o=e.length,a=t.Jj,h=0;h<o;h++){var c=e[h].copy();a.add(c)}return t.Xr=this.Xr,t.Fr.assign(this.Fr),t.ra=this.ra,t.al=this.al,t.ln=this.ln,t.mn=this.mn,t.pf=this.pf.H(),t.qf=this.qf.H(),t.Dl=this.Dl,t.Cl=this.Cl,t.Sf=this.Sf,t},(q=pi.prototype).ca=function(){return this.freeze(),Object.freeze(this),this},q.freeze=function(){this.v=!0;var t=this.figures;t.freeze();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].freeze();return this},q.ea=function(){Object.isFrozen(this)&&R("cannot thaw constant: "+this),this.v=!1;var t=this.figures;t.ea();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].ea();return this},q.Qa=function(t){if(!(t instanceof pi))return!1;if(this.type!==t.type)return this.type===ar&&t.type===Ls?f0(this,t):t.type===ar&&this.type===Ls&&f0(t,this);if(this.type===Ls){var e=this.figures.j,o=e.length;if(o!==(t=t.figures.j).length)return!1;for(var a=0;a<o;a++)if(!e[a].Qa(t[a]))return!1;return!0}return Zt.A(this.startX,t.startX)&&Zt.A(this.startY,t.startY)&&Zt.A(this.endX,t.endX)&&Zt.A(this.endY,t.endY)},q.jb=function(t){t.classType===pi&&(this.type=t)},q.toString=function(t){switch(void 0===t&&(t=-1),this.type){case ar:return 0>t?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t)+"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);case Tr:var e=new Lt(this.startX,this.startY,0,0);return e.Rw(this.endX,this.endY,0,0),0>t?"M"+e.x.toString()+" "+e.y.toString()+"H"+e.right.toString()+"V"+e.bottom.toString()+"H"+e.left.toString()+"z":"M"+e.x.toFixed(t)+" "+e.y.toFixed(t)+"H"+e.right.toFixed(t)+"V"+e.bottom.toFixed(t)+"H"+e.left.toFixed(t)+"z";case _l:if((e=new Lt(this.startX,this.startY,0,0)).Rw(this.endX,this.endY,0,0),0>t)return"M"+(t=e.left.toString()+" "+(e.y+e.height/2).toString())+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+e.right.toString()+" "+(e.y+e.height/2).toString()+"A"+(e.width/2).toString()+" "+(e.height/2).toString()+" 0 0 1 "+t;var o=e.left.toFixed(t)+" "+(e.y+e.height/2).toFixed(t);return"M"+o+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+e.right.toFixed(t)+" "+(e.y+e.height/2).toFixed(t)+"A"+(e.width/2).toFixed(t)+" "+(e.height/2).toFixed(t)+" 0 0 1 "+o;case Ls:e="";for(var a=(o=this.figures.j).length,h=0;h<a;h++){var c=o[h];0<h&&(e+=" x "),c.isFilled&&(e+="F "),e+=c.toString(t)}return e;default:return this.type.toString()}},q.gw=function(){if(this.ra||this.Xr!==this.figures.Ba)return!0;for(var t=this.figures.j,e=t.length,o=0;o<e;o++)if(t[o].gw())return!0;return!1},pi.prototype.computeBounds=function(){this.ra=!1,this.ln=this.al=null,this.mn=NaN,this.Xr=this.figures.Ba;for(var t=this.figures.j,e=t.length,o=0;o<e;o++){var a=t[o];a.ra=!1;var h=a.segments;a.bt=h.Ba,h=(a=h.j).length;for(var c=0;c<h;c++){var m=a[c];m.ra=!1,m.Qd=null}}(t=this.Fr).ea(),isNaN(this.Dl)||isNaN(this.Cl)?t.h(0,0,0,0):t.h(0,0,this.Dl,this.Cl),Zi(this,t,!1),fi(t,0,0,0,0),t.freeze()},pi.prototype.ey=function(){var t=new Lt;return Zi(this,t,!0),t},pi.prototype.normalize=function(){this.v&&$(this);var t=this.ey();return this.offset(-t.x,-t.y),new J(-t.x,-t.y)},pi.prototype.offset=function(t,e){return this.v&&$(this),this.transform(1,0,0,1,t,e),this},pi.prototype.scale=function(t,e){return this.v&&$(this),this.transform(t,0,0,e,0,0),this},pi.prototype.rotate=function(t,e,o){this.v&&$(this),void 0===e&&(e=0),void 0===o&&(o=0);var a=di.alloc();return a.reset(),a.rotate(t,e,o),this.transform(a.m11,a.m12,a.m21,a.m22,a.dx,a.dy),di.free(a),this},(q=pi.prototype).transform=function(t,e,o,a,h,c){switch(this.type){case ar:case Tr:case _l:var m=this.cd,x=this.dd;this.cd=m*t+x*o+h,this.dd=m*e+x*a+c,this.hc=(m=this.hc)*t+(x=this.oc)*o+h,this.oc=m*e+x*a+c;break;case Ls:for(var S=this.figures.j,E=S.length,P=0;P<E;P++){var N=S[P];N.startX=(m=N.startX)*t+(x=N.startY)*o+h,N.startY=m*e+x*a+c;for(var nt=(N=N.segments.j).length,at=0;at<nt;at++){var rt=N[at];switch(rt.type){case tr:case Cn:rt.endX=(m=rt.endX)*t+(x=rt.endY)*o+h,rt.endY=m*e+x*a+c;break;case Bs:rt.point1X=(m=rt.point1X)*t+(x=rt.point1Y)*o+h,rt.point1Y=m*e+x*a+c,rt.point2X=(m=rt.point2X)*t+(x=rt.point2Y)*o+h,rt.point2Y=m*e+x*a+c,rt.endX=(m=rt.endX)*t+(x=rt.endY)*o+h,rt.endY=m*e+x*a+c;break;case ls:rt.point1X=(m=rt.point1X)*t+(x=rt.point1Y)*o+h,rt.point1Y=m*e+x*a+c,rt.endX=(m=rt.endX)*t+(x=rt.endY)*o+h,rt.endY=m*e+x*a+c;break;case Vi:rt.centerX=(m=rt.centerX)*t+(x=rt.centerY)*o+h,rt.centerY=m*e+x*a+c,0!==e&&(0>(m=180*Math.atan2(e,t)/Math.PI)&&(m+=360),rt.startAngle+=m),0>t&&(rt.startAngle=180-rt.startAngle,rt.sweepAngle=-rt.sweepAngle),0>a&&(rt.startAngle=-rt.startAngle,rt.sweepAngle=-rt.sweepAngle),rt.radiusX*=Math.sqrt(t*t+o*o),void 0!==rt.radiusY&&(rt.radiusY*=Math.sqrt(e*e+a*a));break;case Ms:if(rt.endX=(m=rt.endX)*t+(x=rt.endY)*o+h,rt.endY=m*e+x*a+c,0===rt.radiusX||0===rt.radiusY)break;0!==e&&(0>(m=180*Math.atan2(e,t)/Math.PI)&&(m+=360),rt.xAxisRotation+=m),0>t&&(rt.xAxisRotation=180-rt.xAxisRotation,rt.isClockwiseArc=!rt.isClockwiseArc),0>a&&(rt.xAxisRotation=-rt.xAxisRotation,rt.isClockwiseArc=!rt.isClockwiseArc),rt.radiusX*=Math.sqrt(t*t+o*o),rt.radiusY*=Math.sqrt(e*e+a*a);break;default:R("Unknown Segment type: "+rt.type)}}}}return this.ra=!0,this},q.$=function(t,e){void 0===e&&(e=0);var o=this.cd,a=this.dd,h=this.hc,c=this.oc;switch(this.type){case ar:return Zt.Nb(o,a,h,c,e,t.x,t.y);case Tr:var m=Lt.allocAt(Math.min(o,h)-e,Math.min(a,c)-e,Math.abs(h-o)+2*e,Math.abs(c-a)+2*e);return t=m.$(t),Lt.free(m),t;case _l:m=Math.min(o,h)-e;var x=Math.min(a,c)-e;return o=(Math.abs(h-o)+2*e)/2,e=(Math.abs(c-a)+2*e)/2,!(0>=o||0>=e)&&1>=(m=t.x-(m+o))*m/(o*o)+(x=t.y-(x+e))*x/(e*e);case Ls:return d0(this,t,e,!0,!1);default:return!1}},q.Xv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=new J),this.type===ar)return e.h(this.startX+t*(this.endX-this.startX),this.startY+t*(this.endY-this.startY)),e;for(var o=this.flattenedSegments,a=this.flattenedLengths,h=o.length,c=this.flattenedTotalLength*t,m=0,x=0;x<h;x++){var S=a[x],E=S.length;for(t=0;t<E;t++){var P=S[t];if(m+P>=c)return a=c-m,e.h((x=(o=o[x])[2*t])+(o[2*t+2]-x)*(a=0===P?0:a/P),(h=o[2*t+1])+(o[2*t+3]-h)*a),e;m+=P}}return e},q.vy=function(t){if(0>t?t=0:1<t&&(t=1),this.type===ar)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var e=this.flattenedSegments,o=this.flattenedLengths,a=e.length,h=this.flattenedTotalLength*t,c=0,m=0;m<a;m++){var x=o[m],S=x.length;for(t=0;t<S;t++){var E=x[t];if(c+E>=h)return e=(h=e[m])[2*t],o=h[2*t+1],a=h[2*t+2],t=h[2*t+3],1>Math.abs(a-e)&&1>Math.abs(t-o)?0:1>Math.abs(a-e)?0<=t-o?90:270:1>Math.abs(t-o)?0<=a-e?0:180:180*Math.atan2(t-o,a-e)/Math.PI;c+=E}}return NaN},q.Yv=function(t,e){if(0>t?t=0:1<t&&(t=1),void 0===e&&(e=[]),e.length=3,this.type===ar)return e[0]=this.startX+t*(this.endX-this.startX),e[1]=this.startY+t*(this.endY-this.startY),e[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,e;for(var o=this.flattenedSegments,a=this.flattenedLengths,h=o.length,c=this.flattenedTotalLength*t,m=0,x=0;x<h;x++){var S=a[x],E=S.length;for(t=0;t<E;t++){var P=S[t];if(m+P>=c)return a=c-m,a=0===P?0:a/P,o=(P=o[x])[2*t],x=P[2*t+1],h=P[2*t+2],t=P[2*t+3],e[0]=o+(h-o)*a,e[1]=x+(t-x)*a,e[2]=1>Math.abs(h-o)&&1>Math.abs(t-x)?0:1>Math.abs(h-o)?0<=t-x?90:270:1>Math.abs(t-x)?0<=h-o?0:180:180*Math.atan2(t-x,h-o)/Math.PI,e;m+=P}}return e},q.wy=function(t){if(this.type===ar){var e=this.startX,o=this.startY,a=this.endX,h=this.endY;if(e!==a||o!==h){var c=t.x;if(t=t.y,e===a){if(o<h){var m=o;a=h}else m=h,a=o;return t<=m?m===o?0:1:t>=a?a===o?0:1:Math.abs(t-o)/(a-m)}if(o===h)return e<a?m=e:(m=a,a=e),c<=m?m===e?0:1:c>=a?a===e?0:1:Math.abs(c-e)/(a-m);m=(a-e)*(a-e)+(h-o)*(h-o);var x=J.alloc();return Zt.Qh(e,o,a,h,c,t,x),t=x.x,c=x.y,J.free(x),Math.sqrt(((t-e)*(t-e)+(c-o)*(c-o))/m)}}else{if(this.type!==Tr){e=this.flattenedSegments,o=this.flattenedLengths,c=this.flattenedTotalLength,a=J.alloc(),h=1/0,x=m=0,S=e.length;for(var P=E=0,N=0;N<S;N++)for(var nt=e[N],at=o[N],rt=nt.length,_t=0;_t<rt;_t+=2){var It=nt[_t],Pt=nt[_t+1];if(0!==_t){Zt.Qh(E,P,It,Pt,t.x,t.y,a);var Vt=(a.x-t.x)*(a.x-t.x)+(a.y-t.y)*(a.y-t.y);Vt<h&&(h=Vt,m=x,m+=Math.sqrt((a.x-E)*(a.x-E)+(a.y-P)*(a.y-P))),x+=at[(_t-2)/2]}E=It,P=Pt}return J.free(a),0>(t=m/c)?0:1<t?1:t}x=this.startY;var S=this.endX;if(h=this.endY,(m=this.startX)!==S||x!==h){c=2*(e=S-m)+2*(o=h-x),a=t.x,t=t.y,a=Math.min(Math.max(a,m),S),t=Math.min(Math.max(t,x),h),m=Math.abs(a-m),S=Math.abs(a-S),x=Math.abs(t-x),h=Math.abs(t-h);var E=Math.min(m,S,x,h);if(E===x)return a/c;if(E===S)return(e+t)/c;if(E===h)return(2*e+o-a)/c;if(E===m)return(2*e+2*o-t)/c}}return 0},q.add=function(t){return this.Jj.add(t),this},q.Zm=function(t,e,o,a,h,c,m,x){return this.v&&$(this),this.pf=new He(t,e,h,c).freeze(),this.qf=new He(o,a,m,x).freeze(),this},B.Object.defineProperties(pi.prototype,{flattenedSegments:{get:function(){return p1(this),this.al}},flattenedLengths:{get:function(){return p1(this),this.ln}},flattenedTotalLength:{get:function(){var t=this.mn;if(isNaN(t)){if(this.type===ar){t=Math.abs(this.endX-this.startX);var e=Math.abs(this.endY-this.startY);t=Math.sqrt(t*t+e*e)}else if(this.type===Tr)t=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var o=(e=this.flattenedLengths).length,a=t=0;a<o;a++)for(var h=e[a],c=h.length,m=0;m<c;m++)t+=h[m];this.mn=t}return t}},type:{get:function(){return this.qa},set:function(t){this.qa!==t&&(this.v&&$(this,t),this.qa=t,this.ra=!0)}},startX:{get:function(){return this.cd},set:function(t){this.cd!==t&&(this.v&&$(this,t),this.cd=t,this.ra=!0)}},startY:{get:function(){return this.dd},set:function(t){this.dd!==t&&(this.v&&$(this,t),this.dd=t,this.ra=!0)}},endX:{get:function(){return this.hc},set:function(t){this.hc!==t&&(this.v&&$(this,t),this.hc=t,this.ra=!0)}},endY:{get:function(){return this.oc},set:function(t){this.oc!==t&&(this.v&&$(this,t),this.oc=t,this.ra=!0)}},figures:{get:function(){return this.Jj},set:function(t){this.Jj!==t&&(this.v&&$(this,t),this.Jj=t,this.ra=!0)}},spot1:{get:function(){return this.pf},set:function(t){this.v&&$(this,t),this.pf=t.H()}},spot2:{get:function(){return this.qf},set:function(t){this.v&&$(this,t),this.qf=t.H()}},defaultStretch:{get:function(){return this.Sf},set:function(t){this.v&&$(this,t),this.Sf=t}},bounds:{get:function(){return this.gw()&&this.computeBounds(),this.Fr}}}),pi.prototype.setSpots=pi.prototype.Zm,pi.prototype.add=pi.prototype.add,pi.prototype.getFractionForPoint=pi.prototype.wy,pi.prototype.getPointAndAngleAlongPath=pi.prototype.Yv,pi.prototype.getAngleAlongPath=pi.prototype.vy,pi.prototype.getPointAlongPath=pi.prototype.Xv,pi.prototype.containsPoint=pi.prototype.$,pi.prototype.transform=pi.prototype.transform,pi.prototype.rotate=pi.prototype.rotate,pi.prototype.scale=pi.prototype.scale,pi.prototype.offset=pi.prototype.offset,pi.prototype.normalize=pi.prototype.normalize,pi.prototype.computeBoundsWithoutOrigin=pi.prototype.ey,pi.prototype.equalsApprox=pi.prototype.Qa;var ar=new ct(pi,"Line",0),Tr=new ct(pi,"Rectangle",1),_l=new ct(pi,"Ellipse",2),Ls=new ct(pi,"Path",3),as="UuBbMmZzLlHhVvCcSsQqTtAaFfXx";function jr(t,e,o,a){Kt(this),this.sx=null,this.v=!1,void 0===o&&(o=!0),this.js=o,void 0===a&&(a=!0),this.os=a,this.cd=void 0!==t?t:0,this.dd=void 0!==e?e:0,this.dm=new St,this.bt=this.dm.Ba,this.ra=!0}function Bi(t,e,o,a,h,c,m,x){Kt(this),this.v=!1,void 0===t&&(t=tr),this.qa=t,this.hc=void 0!==e?e:0,this.oc=void 0!==o?o:0,void 0===a&&(a=0),void 0===h&&(h=0),void 0===c&&(c=0),void 0===m&&(m=0),t===Ms?(0>(t=c%360)&&(t+=360),this.Ce=t,this.Qi=0,this.Ri=Math.max(a,0),this.qh=Math.max(h,0),this.Ll="boolean"==typeof m?m:"number"==typeof m&&!!m,this.el=!!x):(this.Ce=a,this.Qi=h,t===Vi&&(c=Math.max(c,0)),this.Ri=c,"number"==typeof m?(t===Vi&&(m=Math.max(m,0)),this.qh=m):this.qh=0,this.el=this.Ll=!1),this.Oj=!1,this.ra=!0,this.Qd=null}function oh(t,e){if(null!==t.Qd&&!1===e.ra)return t.Qd;var o=t.radiusX,a=t.radiusY;if(void 0===a&&(a=o),0===o||0===a)return t.Qd=[],t.Qd;e=t.Ce;var h=t.Qi,c=Zt.hy(0,0,o<a?o:a,t.startAngle,t.startAngle+t.sweepAngle,!1);if(o!==a){var m=di.alloc();m.reset(),o<a?m.scale(1,a/o):m.scale(o/a,1),K_(c,m),di.free(m)}for(o=c.length,a=0;a<o;a++)(m=c[a])[0]+=e,m[1]+=h,m[2]+=e,m[3]+=h,m[4]+=e,m[5]+=h,m[6]+=e,m[7]+=h;return t.Qd=c,t.Qd}function af(t,e,o,a){function h(_t,It,Pt,Vt){return(_t*Vt<It*Pt?-1:1)*Math.acos((_t*Pt+It*Vt)/(Math.sqrt(_t*_t+It*It)*Math.sqrt(Pt*Pt+Vt*Vt)))}if(null!==t.Qd&&!1===e.ra)return t.Qd;if(0===t.radiusX||0===t.radiusY)return t.Qd=[],t.Qd;var c=t.qh;0===(e=t.Ri)&&(e=1e-4),0===c&&(c=1e-4);var m=Math.PI/180*t.Ce,x=t.Ll,S=t.el,E=t.hc,P=t.oc,N=Math.cos(m),nt=Math.sin(m),at=N*(o-E)/2+nt*(a-P)/2,rt=at*at/(e*e)+(m=-nt*(o-E)/2+N*(a-P)/2)*m/(c*c);return 1<rt&&(e*=Math.sqrt(rt),c*=Math.sqrt(rt)),rt=(x===S?-1:1)*Math.sqrt((e*e*c*c-e*e*m*m-c*c*at*at)/(e*e*m*m+c*c*at*at)),isNaN(rt)&&(rt=0),x=rt*e*m/c,rt=rt*-c*at/e,isNaN(x)&&(x=0),isNaN(rt)&&(rt=0),o=(o+E)/2+N*x-nt*rt,a=(a+P)/2+nt*x+N*rt,P=h(1,0,(at-x)/e,(m-rt)/c),m=h(N=(at-x)/e,E=(m-rt)/c,at=(-at-x)/e,x=(-m-rt)/c),-1>=(at=(N*at+E*x)/(Math.sqrt(N*N+E*E)*Math.sqrt(at*at+x*x)))?m=Math.PI:1<=at&&(m=0),!S&&0<m&&(m-=2*Math.PI),S&&0>m&&(m+=2*Math.PI),S=e>c?1:e/c,at=e>c?c/e:1,e=Zt.hy(0,0,e>c?e:c,P,P+m,!0),(c=di.alloc()).reset(),c.translate(o,a),c.rotate(t.Ce,0,0),c.scale(S,at),K_(e,c),di.free(c),t.Qd=e,t.Qd}pi.className="Geometry",pi.stringify=Sg,pi.fillPath=function(t){for(var e=(t=t.split(/[Xx]/)).length,o="",a=0;a<e;a++){var h=t[a];o=null!==h.match(/[Ff]/)?0===a?o+h:o+"X"+(" "===h[0]?"":" ")+h:o+(0===a?"":"X ")+"F"+(" "===h[0]?"":" ")+h}return o},pi.parse=sf,pi.Line=ar,pi.Rectangle=Tr,pi.Ellipse=_l,pi.Path=Ls,jr.prototype.copy=function(){var t=new jr;t.js=this.js,t.os=this.os,t.cd=this.cd,t.dd=this.dd;for(var e=this.dm.j,o=e.length,a=t.dm,h=0;h<o;h++){var c=e[h].copy();a.add(c)}return t.bt=this.bt,t.ra=this.ra,t.sx=this.sx,t},(q=jr.prototype).Qa=function(t){if(!(t instanceof jr&&Zt.A(this.startX,t.startX)&&Zt.A(this.startY,t.startY)))return!1;var e=this.segments.j,o=e.length;if(o!==(t=t.segments.j).length)return!1;for(var a=0;a<o;a++)if(!e[a].Qa(t[a]))return!1;return!0},q.toString=function(t){void 0===t&&(t=-1);for(var e=0>t?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(t)+" "+this.startY.toFixed(t),o=this.segments.j,a=o.length,h=0;h<a;h++)e+=" "+o[h].toString(t);return e},q.freeze=function(){this.v=!0;var t=this.segments;t.freeze();var e=t.j;t=t.length;for(var o=0;o<t;o++)e[o].freeze();return this},q.ea=function(){this.v=!1;var t=this.segments;t.ea();for(var e=(t=t.j).length,o=0;o<e;o++)t[o].ea();return this},q.gw=function(){if(this.ra)return!0;var t=this.segments;if(this.bt!==t.Ba)return!0;for(var e=(t=t.j).length,o=0;o<e;o++)if(t[o].ra)return!0;return!1},q.add=function(t){return this.dm.add(t),this},q.$=function(t,e,o){for(var a=this.startX,h=this.startY,c=a,m=h,x=this.segments.j,S=x.length,E=0;E<S;E++){var P=x[E];switch(P.type){case Cn:c=P.endX,m=P.endY,a=P.endX,h=P.endY;break;case tr:if(Zt.Nb(a,h,P.endX,P.endY,o,t,e))return!0;a=P.endX,h=P.endY;break;case Bs:if(Zt.yt(a,h,P.point1X,P.point1Y,P.point2X,P.point2Y,P.endX,P.endY,.5,t,e,o))return!0;a=P.endX,h=P.endY;break;case ls:if(Zt.qw(a,h,P.point1X,P.point1Y,P.endX,P.endY,.5,t,e,o))return!0;a=P.endX,h=P.endY;break;case Vi:case Ms:var N=P.type===Vi?oh(P,this):af(P,this,a,h),nt=N.length,at=P.type===Vi?P.centerX:P.endX,rt=P.type===Vi?P.centerY:P.endY;if(0===nt){if(Zt.Nb(a,h,at,rt,o,t,e))return!0;a=at,h=rt;break}for(at=null,rt=0;rt<nt;rt++)if(at=N[rt],0===rt&&Zt.Nb(a,h,at[0],at[1],o,t,e)||Zt.yt(at[0],at[1],at[2],at[3],at[4],at[5],at[6],at[7],.5,t,e,o))return!0;null!==at&&(a=at[6],h=at[7]);break;default:R("Unknown Segment type: "+P.type)}if(P.isClosed&&(a!==c||h!==m)&&Zt.Nb(a,h,c,m,o,t,e))return!0}return!1},B.Object.defineProperties(jr.prototype,{isFilled:{get:function(){return this.js},set:function(t){this.v&&$(this,t),this.js=t}},isShadowed:{get:function(){return this.os},set:function(t){this.v&&$(this,t),this.os=t}},startX:{get:function(){return this.cd},set:function(t){this.v&&$(this,t),this.cd=t,this.ra=!0}},startY:{get:function(){return this.dd},set:function(t){this.v&&$(this,t),this.dd=t,this.ra=!0}},segments:{get:function(){return this.dm},set:function(t){this.v&&$(this,t),this.dm=t,this.ra=!0}}}),jr.prototype.add=jr.prototype.add,jr.prototype.equalsApprox=jr.prototype.Qa,jr.className="PathFigure",Bi.prototype.copy=function(){var t=new Bi;return t.qa=this.qa,t.hc=this.hc,t.oc=this.oc,t.Ce=this.Ce,t.Qi=this.Qi,t.Ri=this.Ri,t.qh=this.qh,t.Ll=this.Ll,t.el=this.el,t.Oj=this.Oj,t.ra=this.ra,t},(q=Bi.prototype).Qa=function(t){if(!(t instanceof Bi)||this.type!==t.type||this.isClosed!==t.isClosed)return!1;switch(this.type){case Cn:case tr:return Zt.A(this.endX,t.endX)&&Zt.A(this.endY,t.endY);case Bs:return Zt.A(this.endX,t.endX)&&Zt.A(this.endY,t.endY)&&Zt.A(this.point1X,t.point1X)&&Zt.A(this.point1Y,t.point1Y)&&Zt.A(this.point2X,t.point2X)&&Zt.A(this.point2Y,t.point2Y);case ls:return Zt.A(this.endX,t.endX)&&Zt.A(this.endY,t.endY)&&Zt.A(this.point1X,t.point1X)&&Zt.A(this.point1Y,t.point1Y);case Vi:return Zt.A(this.startAngle,t.startAngle)&&Zt.A(this.sweepAngle,t.sweepAngle)&&Zt.A(this.centerX,t.centerX)&&Zt.A(this.centerY,t.centerY)&&Zt.A(this.radiusX,t.radiusX)&&Zt.A(this.radiusY,t.radiusY);case Ms:return this.isClockwiseArc===t.isClockwiseArc&&this.isLargeArc===t.isLargeArc&&Zt.A(this.xAxisRotation,t.xAxisRotation)&&Zt.A(this.endX,t.endX)&&Zt.A(this.endY,t.endY)&&Zt.A(this.radiusX,t.radiusX)&&Zt.A(this.radiusY,t.radiusY);default:return!1}},q.jb=function(t){t.classType===Bi&&(this.type=t)},q.toString=function(t){switch(void 0===t&&(t=-1),this.type){case Cn:t=0>t?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case tr:t=0>t?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Bs:t=0>t?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.point2X.toFixed(t)+" "+this.point2Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case ls:t=0>t?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(t)+" "+this.point1Y.toFixed(t)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;case Vi:t=0>t?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(t)+" "+this.sweepAngle.toFixed(t)+" "+this.centerX.toFixed(t)+" "+this.centerY.toFixed(t)+" "+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t);break;case Ms:t=0>t?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(t)+" "+this.radiusY.toFixed(t)+" "+this.xAxisRotation.toFixed(t)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(t)+" "+this.endY.toFixed(t);break;default:t=this.type.toString()}return t+(this.Oj?"z":"")},q.freeze=function(){return this.v=!0,this},q.ea=function(){return this.v=!1,this},q.close=function(){return this.Oj=!0,this},B.Object.defineProperties(Bi.prototype,{isClosed:{get:function(){return this.Oj},set:function(t){this.Oj!==t&&(this.Oj=t,this.ra=!0)}},type:{get:function(){return this.qa},set:function(t){this.v&&$(this,t),this.qa=t,this.ra=!0}},endX:{get:function(){return this.hc},set:function(t){this.v&&$(this,t),this.hc=t,this.ra=!0}},endY:{get:function(){return this.oc},set:function(t){this.v&&$(this,t),this.oc=t,this.ra=!0}},point1X:{get:function(){return this.Ce},set:function(t){this.v&&$(this,t),this.Ce=t,this.ra=!0}},point1Y:{get:function(){return this.Qi},set:function(t){this.v&&$(this,t),this.Qi=t,this.ra=!0}},point2X:{get:function(){return this.Ri},set:function(t){this.v&&$(this,t),this.Ri=t,this.ra=!0}},point2Y:{get:function(){return this.qh},set:function(t){this.v&&$(this,t),this.qh=t,this.ra=!0}},centerX:{get:function(){return this.Ce},set:function(t){this.v&&$(this,t),this.Ce=t,this.ra=!0}},centerY:{get:function(){return this.Qi},set:function(t){this.v&&$(this,t),this.Qi=t,this.ra=!0}},radiusX:{get:function(){return this.Ri},set:function(t){0>t&&Z(t,">= zero",Bi,"radiusX"),this.v&&$(this,t),this.Ri=t,this.ra=!0}},radiusY:{get:function(){return this.qh},set:function(t){0>t&&Z(t,">= zero",Bi,"radiusY"),this.v&&$(this,t),this.qh=t,this.ra=!0}},startAngle:{get:function(){return this.hc},set:function(t){this.hc!==t&&(this.v&&$(this,t),0>(t%=360)&&(t+=360),this.hc=t,this.ra=!0)}},sweepAngle:{get:function(){return this.oc},set:function(t){this.v&&$(this,t),360<t&&(t=360),-360>t&&(t=-360),this.oc=t,this.ra=!0}},isClockwiseArc:{get:function(){return this.el},set:function(t){this.v&&$(this,t),this.el=t,this.ra=!0}},isLargeArc:{get:function(){return this.Ll},set:function(t){this.v&&$(this,t),this.Ll=t,this.ra=!0}},xAxisRotation:{get:function(){return this.Ce},set:function(t){0>(t%=360)&&(t+=360),this.v&&$(this,t),this.Ce=t,this.ra=!0}}}),Bi.prototype.equalsApprox=Bi.prototype.Qa;var Cn=new ct(Bi,"Move",0),tr=new ct(Bi,"Line",1),Bs=new ct(Bi,"Bezier",2),ls=new ct(Bi,"QuadraticBezier",3),Vi=new ct(Bi,"Arc",4),Ms=new ct(Bi,"SvgArc",4);function io(){this.B=null,this.yv=new J(0,0).freeze(),this.Iu=new J(0,0).freeze(),this.xr=this.zs=0,this.yr=1,this.Di="",this.st=this.Rr=!1,this.Or=this.Ar=0,this.Pg=this.bs=this.ms=!1,this.Wr=null,this.nt=0,this.pd=this.mt=null}function xu(){this.B=null,this.oa="",this.Js=this.kt=null}function kn(){this.wn=pn,this.gf=this.ys="",this.hp=this.ip=this.op=this.pp=this.np=this.B=this.cc=null}Bi.className="PathSegment",Bi.Move=Cn,Bi.Line=tr,Bi.Bezier=Bs,Bi.QuadraticBezier=ls,Bi.Arc=Vi,Bi.SvgArc=Ms,io.prototype.copy=function(){var t=new io;return this.clone(t)},io.prototype.clone=function(t){return t.B=this.B,t.yv.assign(this.viewPoint),t.Iu.assign(this.documentPoint),t.zs=this.zs,t.xr=this.xr,t.yr=this.yr,t.Di=this.Di,t.Rr=this.Rr,t.st=this.st,t.Ar=this.Ar,t.Or=this.Or,t.ms=this.ms,t.bs=this.bs,t.Pg=this.Pg,t.Wr=this.Wr,t.nt=this.nt,t.mt=this.mt,t.pd=this.pd,t},io.prototype.toString=function(){var t="^";return 0!==this.modifiers&&(t+="M:"+this.modifiers),0!==this.button&&(t+="B:"+this.button),""!==this.key&&(t+="K:"+this.key),0!==this.clickCount&&(t+="C:"+this.clickCount),0!==this.delta&&(t+="D:"+this.delta),this.handled&&(t+="h"),this.bubbles&&(t+="b"),null!==this.documentPoint&&(t+="@"+this.documentPoint.toString()),t},io.prototype.Jq=function(t,e){var o=this.diagram;return null===o||ub(o,this.event,t,e),e},io.prototype.mA=function(t,e){var o=this.diagram;return null===o||(ub(o,this.event,t,e),e.assign(o.ou(e))),e},B.Object.defineProperties(io.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},viewPoint:{get:function(){return this.yv},set:function(t){this.yv.assign(t)}},documentPoint:{get:function(){return this.Iu},set:function(t){this.Iu.assign(t)}},modifiers:{get:function(){return this.zs},set:function(t){this.zs=t}},button:{get:function(){return this.xr},set:function(t){if(this.xr=t,null===this.event)switch(t){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.yr},set:function(t){this.yr=t}},key:{get:function(){return this.Di},set:function(t){this.Di=t}},down:{get:function(){return this.Rr},set:function(t){this.Rr=t}},up:{get:function(){return this.st},set:function(t){this.st=t}},clickCount:{get:function(){return this.Ar},set:function(t){this.Ar=t}},delta:{get:function(){return this.Or},set:function(t){this.Or=t}},isMultiTouch:{get:function(){return this.ms},set:function(t){this.ms=t}},handled:{get:function(){return this.bs},set:function(t){this.bs=t}},bubbles:{get:function(){return this.Pg},set:function(t){this.Pg=t}},event:{get:function(){return this.Wr},set:function(t){this.Wr=t}},isTouchEvent:{get:function(){var t=T.TouchEvent,e=this.event;return!!(t&&e instanceof t)||(t=T.PointerEvent)&&e instanceof t&&("touch"===e.pointerType||"pen"===e.pointerType)}},timestamp:{get:function(){return this.nt},set:function(t){this.nt=t}},targetDiagram:{get:function(){return this.mt},set:function(t){this.mt=t}},targetObject:{get:function(){return this.pd},set:function(t){this.pd=t}},control:{get:function(){return 0!=(1&this.modifiers)},set:function(t){this.modifiers=t?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!=(4&this.modifiers)},set:function(t){this.modifiers=t?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!=(2&this.modifiers)},set:function(t){this.modifiers=t?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!=(8&this.modifiers)},set:function(t){this.modifiers=t?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(1&this.buttons):0===this.button},set:function(t){this.buttons=t?1|this.buttons:-2&this.buttons}},right:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(2&this.buttons):2===this.button},set:function(t){this.buttons=t?2|this.buttons:-3&this.buttons}},middle:{get:function(){var t=this.event;return null===t||"mousedown"!==t.type&&"mouseup"!==t.type&&"pointerdown"!==t.type&&"pointerup"!==t.type?0!=(4&this.buttons):1===this.button},set:function(t){this.buttons=t?4|this.buttons:-5&this.buttons}}}),io.prototype.getMultiTouchDocumentPoint=io.prototype.mA,io.prototype.getMultiTouchViewPoint=io.prototype.Jq,io.className="InputEvent",xu.prototype.copy=function(){var t=new xu;return t.B=this.B,t.oa=this.oa,t.kt=this.kt,t.Js=this.Js,t},xu.prototype.toString=function(){var t="*"+this.name;return null!==this.subject&&(t+=":"+this.subject.toString()),null!==this.parameter&&(t+="("+this.parameter.toString()+")"),t},B.Object.defineProperties(xu.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},subject:{get:function(){return this.kt},set:function(t){this.kt=t}},parameter:{get:function(){return this.Js},set:function(t){this.Js=t}}}),xu.className="DiagramEvent",kn.prototype.clear=function(){this.hp=this.ip=this.op=this.pp=this.np=this.B=this.cc=null},kn.prototype.copy=function(){var t=new kn;t.wn=this.wn,t.ys=this.ys,t.gf=this.gf,t.cc=this.cc,t.B=this.B,t.np=this.np;var e=this.pp;return t.pp=ht(e)&&"function"==typeof e.H?e.H():e,t.op=ht(e=this.op)&&"function"==typeof e.H?e.H():e,t.ip=ht(e=this.ip)&&"function"==typeof e.H?e.H():e,t.hp=ht(e=this.hp)&&"function"==typeof e.H?e.H():e,t},kn.prototype.jb=function(t){t.classType===kn&&(this.change=t)},kn.prototype.toString=function(){var t="";return t=this.change===no?t+"* ":this.change===pn?t+(null!==this.model?"!m":"!d"):t+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"==typeof this.propertyName&&(t+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(t+=" "+this.modelChange),t+=": ",this.change===no?null!==this.oldValue&&(t+=" "+this.oldValue):(null!==this.object&&(t+=g(this.object)),null!==this.oldValue&&(t+="  old: "+g(this.oldValue)),null!==this.oldParam&&(t+=" "+this.oldParam),null!==this.newValue&&(t+="  new: "+g(this.newValue)),null!==this.newParam&&(t+=" "+this.newParam)),t},kn.prototype.G=function(t){return t?this.oldValue:this.newValue},kn.prototype.oA=function(t){return t?this.oldParam:this.newParam},kn.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},kn.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},kn.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},kn.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},B.Object.defineProperties(kn.prototype,{model:{get:function(){return this.cc},set:function(t){this.cc=t}},diagram:{get:function(){return this.B},set:function(t){this.B=t}},change:{get:function(){return this.wn},set:function(t){this.wn=t}},modelChange:{get:function(){return this.ys},set:function(t){this.ys=t}},propertyName:{get:function(){return this.gf},set:function(t){this.gf=t}},isTransactionFinished:{get:function(){return this.wn===no&&("CommittedTransaction"===this.gf||"FinishedUndo"===this.gf||"FinishedRedo"===this.gf)}},object:{get:function(){return this.np},set:function(t){this.np=t}},oldValue:{get:function(){return this.pp},set:function(t){this.pp=t}},oldParam:{get:function(){return this.op},set:function(t){this.op=t}},newValue:{get:function(){return this.ip},set:function(t){this.ip=t}},newParam:{get:function(){return this.hp},set:function(t){this.hp=t}}}),kn.prototype.redo=kn.prototype.redo,kn.prototype.canRedo=kn.prototype.canRedo,kn.prototype.undo=kn.prototype.undo,kn.prototype.canUndo=kn.prototype.canUndo,kn.prototype.getParam=kn.prototype.oA,kn.prototype.getValue=kn.prototype.G,kn.prototype.clear=kn.prototype.clear;var no=new ct(kn,"Transaction",-1),pn=new ct(kn,"Property",0),hr=new ct(kn,"Insert",1),_i=new ct(kn,"Remove",2);function Er(){this.u=(new St).freeze(),this.oa="",this.l=!1}function Hn(){this.gv=new At,this.md=!1,this.I=(new St).freeze(),this.Xd=-1,this.u=999,this.se=!1,this.Lr=null,this.Yi=0,this.l=!1,this.ye=(new St).freeze(),this.Tl=new St,this.Qu=!0,this.Wu=this.ks=this.$u=this.Zu=!1}function m1(t,e,o){if(t.isUndoingRedoing)return!1;t.checksTransactionLevel&&1>t.transactionLevel&&Q("Ending transaction without having started a transaction: "+o);var a=1===t.transactionLevel,h=t.currentTransaction;a&&e&&(t.isInternalTransaction||t.Bb("CommittingTransaction",o,h));var c=0;if(0<t.transactionLevel&&(t.Yi--,t.isEnabled)){var m=t.ye.count;0<m&&(""===o&&(o=t.ye.J(0)),t.ye.ea(),t.ye.cb(m-1),t.ye.freeze()),0<(m=t.Tl.count)&&(c=t.Tl.J(m-1),t.Tl.cb(m-1))}if(a){if(e){if(t.ks=!1,null===h&&""!==o&&(h=t.currentTransaction),t.isEnabled&&null!==h){for(h.isComplete||(h.isComplete=!0,h.name=o),(e=t.history).ea(),a=e.count-1;a>t.historyIndex;a--)null!==(c=e.J(a))&&c.clear(),e.cb(a),t.ks=!0;0<=(a=t.maxHistoryLength)&&(0===a?e.clear():e.count>=a&&(null!==(c=e.J(0))&&c.clear(),e.cb(0),t.Xd--)),0===a||0!==e.count&&e.get(e.count-1)===h||(e.add(h),t.Xd++),e.freeze()}t.isInternalTransaction||t.Bb("CommittedTransaction",o,h)}else{t.se=!0;try{t.isEnabled&&null!==h&&(h.isComplete=!0,h.undo())}finally{t.isInternalTransaction||t.Bb("RolledBackTransaction",o,h),t.se=!1}null!==h&&h.clear()}return t.Lr=null,t.isPendingClear&&t.clear(),t.isPendingClear=!1,t.isPendingUnmodified=!1,!0}if(t.isEnabled&&!e&&null!==h){for(t=c,h=(o=h.changes).count-1;h>=t;h--)null!==(e=o.J(h))&&e.undo(),o.ea(),o.cb(h);o.freeze()}return!1}function ki(){Kt(this),this.B=Gd,this.oa="",this.md=!0,this.Sc=!1,this.ix=null,this.lz=new io,this.vt=-1}function An(){ki.call(this),this.name="ToolManager",this.Cc=new St,this.Tc=new St,this.Od=new St,this.T=this.Ka=850,this.u=new fe(2,2).ca(),this.eb=5e3,this.La=li,this.I=wu,this.Kr=this.l=null,this.ik=-1}function g1(t,e){t.standardMouseOver(),t.isBeyondDragSize()&&t.standardWaitAfter(t.isActive?t.holdDelay:t.hoverDelay,e.lastInput)}kn.className="ChangedEvent",kn.Transaction=no,kn.Property=pn,kn.Insert=hr,kn.Remove=_i,Er.prototype.toString=function(t){var e="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==t&&0<t){t=this.changes.count;for(var o=0;o<t;o++){var a=this.changes.J(o);null!==a&&(e+="\n  "+a.toString())}}return e},Er.prototype.clear=function(){var t=this.changes;t.ea();for(var e=t.count-1;0<=e;e--){var o=t.J(e);null!==o&&o.clear()}t.clear(),t.freeze()},Er.prototype.canUndo=function(){return this.isComplete},Er.prototype.undo=function(){if(this.canUndo())for(var t=this.changes.count-1;0<=t;t--){var e=this.changes.J(t);null!==e&&e.undo()}},Er.prototype.canRedo=function(){return this.isComplete},Er.prototype.redo=function(){if(this.canRedo())for(var t=this.changes.count,e=0;e<t;e++){var o=this.changes.J(e);null!==o&&o.redo()}},Er.prototype.nw=function(){if(this.isComplete){var t=this.changes;t.ea();for(var e=new ot,o=0;o<t.count;o++){var a=t.J(o);if(null!==a&&a.change===pn&&a.object){var h=e.get(a.object);h||(h=new ot,e.set(a.object,h));var c=h.get(a.propertyName);null===c?h.set(a.propertyName,-1):(0<c&&t.Pc(c,null),h.set(a.propertyName,o))}}for(o=e=0;o<t.count;o++)null!==(a=t.J(o))&&(o>e&&t.Pc(e,a),e++);for(;t.length>e;)t.pop();t.freeze()}},B.Object.defineProperties(Er.prototype,{changes:{get:function(){return this.u}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},isComplete:{get:function(){return this.l},set:function(t){this.l=t}}}),Er.prototype.optimize=Er.prototype.nw,Er.prototype.redo=Er.prototype.redo,Er.prototype.canRedo=Er.prototype.canRedo,Er.prototype.undo=Er.prototype.undo,Er.prototype.canUndo=Er.prototype.canUndo,Er.prototype.clear=Er.prototype.clear,Er.className="Transaction",Hn.prototype.toString=function(t){var e="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;e+="[";for(var o=this.nestedTransactionNames.count,a=0;a<o;a++)0<a&&(e+=" "),e+=this.nestedTransactionNames.J(a);if(e+="]",void 0!==t&&0<t)for(o=this.history.count,a=0;a<o;a++)e+="\n "+this.history.J(a).toString(t-1);return e},Hn.prototype.clear=function(){var t=this.history;t.ea();for(var e=t.count-1;0<=e;e--){var o=t.J(e);null!==o&&o.clear()}t.clear(),this.Xd=-1,t.freeze(),this.se=!1,this.Lr=null,this.Yi=0,this.ye.ea(),this.ye.clear(),this.ye.freeze(),this.Tl.clear(),this.Wu=this.ks=this.$u=this.Zu=!1},Hn.prototype.copyProperties=function(t){this.isEnabled=t.isEnabled,this.maxHistoryLength=t.maxHistoryLength,this.checksTransactionLevel=t.checksTransactionLevel},(q=Hn.prototype).Vx=function(t){this.gv.add(t)},q.Py=function(t){this.gv.remove(t)},q.xa=function(t){if(void 0===t&&(t=""),null===t&&(t=""),this.isUndoingRedoing)return!1;!0===this.Qu&&(this.Qu=!1,this.Yi++,this.isInternalTransaction||this.Bb("StartingFirstTransaction",t,this.currentTransaction),0<this.Yi&&this.Yi--),this.isEnabled&&(this.ye.ea(),this.ye.add(t),this.ye.freeze(),this.Tl.add(null===this.currentTransaction?0:this.currentTransaction.changes.count)),this.Yi++;var e=1===this.transactionLevel;return e&&(this.isInternalTransaction||this.Bb("StartedTransaction",t,this.currentTransaction)),e},q.Xa=function(t){return void 0===t&&(t=""),m1(this,!0,t)},q.If=function(){return m1(this,!1,"")},Hn.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToUndo;return!(null===t||!t.canUndo())},Hn.prototype.undo=function(){if(this.canUndo()){var t=this.transactionToUndo;try{this.se=!0,this.Bb("StartingUndo","Undo",t),this.Xd--,t.undo()}catch(e){Q("undo error: "+e.toString())}finally{this.Bb("FinishedUndo","Undo",t),this.se=!1}}},Hn.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var t=this.transactionToRedo;return!(null===t||!t.canRedo())},Hn.prototype.redo=function(){if(this.canRedo()){var t=this.transactionToRedo;try{this.se=!0,this.Bb("StartingRedo","Redo",t),this.Xd++,t.redo()}catch(e){Q("redo error: "+e.toString())}finally{this.Bb("FinishedRedo","Redo",t),this.se=!1}}},Hn.prototype.Bb=function(t,e,o){void 0===o&&(o=null);var a=new kn;for(a.change=no,a.propertyName=t,a.object=o,a.oldValue=e,t=this.models;t.next();)a.model=e=t.value,e.zt(a)},Hn.prototype.aw=function(t){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(t)){var e=this.currentTransaction;null===e&&(this.Lr=e=new Er);var o=t.copy();(e=e.changes).ea(),e.add(o),e.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.Qu&&(null!==(t=t.diagram)&&!1===t.pj||Q("Change not within a transaction: "+o.toString()))}},Hn.prototype.skipsEvent=function(t){if(null===t||0>t.change.value)return!0;if(null===(t=t.object))return!1;if(void 0!==t.layer){if(null!==(t=t.layer)&&t.isTemporary)return!0}else if(t.isTemporary)return!0;return!1},B.Object.defineProperties(Hn.prototype,{models:{get:function(){return this.gv.iterator}},isEnabled:{get:function(){return this.md},set:function(t){this.md=t}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.J(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.J(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.se}},history:{get:function(){return this.I}},maxHistoryLength:{get:function(){return this.u},set:function(t){this.u=t}},historyIndex:{get:function(){return this.Xd}},currentTransaction:{get:function(){return this.Lr}},transactionLevel:{get:function(){return this.Yi}},isInTransaction:{get:function(){return 0<this.Yi}},checksTransactionLevel:{get:function(){return this.l},set:function(t){this.l=t}},nestedTransactionNames:{get:function(){return this.ye}},isPendingClear:{get:function(){return this.Zu},set:function(t){this.Zu=t}},isPendingUnmodified:{get:function(){return this.$u},set:function(t){this.$u=t}},isInternalTransaction:{get:function(){return this.Wu},set:function(t){this.Wu=t}},isJustDiscarded:{get:function(){return this.ks}}}),Hn.prototype.handleChanged=Hn.prototype.aw,Hn.prototype.redo=Hn.prototype.redo,Hn.prototype.undo=Hn.prototype.undo,Hn.prototype.canUndo=Hn.prototype.canUndo,Hn.prototype.rollbackTransaction=Hn.prototype.If,Hn.prototype.commitTransaction=Hn.prototype.Xa,Hn.prototype.startTransaction=Hn.prototype.xa,Hn.prototype.removeModel=Hn.prototype.Py,Hn.prototype.addModel=Hn.prototype.Vx,Hn.prototype.clear=Hn.prototype.clear,Hn.className="UndoManager",ki.prototype.toString=function(){return""!==this.name?this.name+" Tool":v(this.constructor)},ki.prototype.updateAdornments=function(){},ki.prototype.canStart=function(){return this.isEnabled},ki.prototype.doStart=function(){},ki.prototype.doActivate=function(){this.isActive=!0},ki.prototype.doDeactivate=function(){this.isActive=!1},ki.prototype.doStop=function(){},ki.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},ki.prototype.stopTool=function(){var t=this.diagram;t.currentTool===this&&(t.currentTool=null,t.currentCursor="")},ki.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},ki.prototype.doMouseMove=function(){},ki.prototype.doMouseUp=function(){this.stopTool()},ki.prototype.doMouseWheel=function(){},ki.prototype.canStartMultiTouch=function(){return!0},ki.prototype.standardPinchZoomStart=function(){var t=this.diagram,e=t.lastInput,o=e.Jq(0,J.allocAt(NaN,NaN)),a=e.Jq(1,J.allocAt(NaN,NaN));if(o.o()&&a.o()&&(this.doCancel(),t.Bm("hasGestureZoom"))){t.Vl=t.scale;var h=a.x-o.x,c=a.y-o.y;t.sv=Math.sqrt(h*h+c*c),e.bubbles=!1}J.free(o),J.free(a)},ki.prototype.standardPinchZoomMove=function(){var t=this.diagram,e=t.lastInput,o=e.Jq(0,J.allocAt(NaN,NaN)),a=e.Jq(1,J.allocAt(NaN,NaN));if(o.o()&&a.o()&&(this.doCancel(),t.Bm("hasGestureZoom"))){var h=a.x-o.x,c=a.y-o.y;c=Math.sqrt(h*h+c*c)/t.sv,h=new J((Math.min(a.x,o.x)+Math.max(a.x,o.x))/2,(Math.min(a.y,o.y)+Math.max(a.y,o.y))/2);var m=t.commandHandler;if((c*=t.Vl)!==t.scale&&m.canResetZoom(c)){var x=t.zoomPoint;t.zoomPoint=h,m.resetZoom(c),t.zoomPoint=x}e.bubbles=!1}J.free(o),J.free(a)},ki.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},ki.prototype.doKeyUp=function(){},ki.prototype.xa=function(t){return void 0===t&&(t=this.name),this.transactionResult=null,this.diagram.xa(t)},ki.prototype.Jg=function(){var t=this.diagram;return null===this.transactionResult?t.If():t.Xa(this.transactionResult)},ki.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.lastInput,o=t.zm(e.documentPoint,!1);if(null!==o){if(U?e.meta:e.control){for(t.R("ChangingSelection",t.selection),e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!e.isSelected),t.R("ChangedSelection",t.selection)}else if(e.shift){if(!o.isSelected){for(t.R("ChangingSelection",t.selection),e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&(e.isSelected=!0),t.R("ChangedSelection",t.selection)}}else if(!o.isSelected){for(e=o;null!==e&&!e.canSelect();)e=e.containingGroup;null!==e&&t.select(e)}}else!e.left||(U?e.meta:e.control)||e.shift||t.clearSelection()}},ki.prototype.standardMouseClick=function(t,e){void 0===t&&(t=null),void 0===e&&(e=function(h){return!h.layer.isTemporary});var o=this.diagram,a=o.lastInput;return t=o.Vb(a.documentPoint,t,e),a.targetObject=t,function(t,e,o){if(e.handled=!1,null===t||t.Hg()){var a=0;e.left?a=1===e.clickCount?1:2===e.clickCount?2:1:e.right&&1===e.clickCount&&(a=3);var h="ObjectSingleClicked";if(null!==t){switch(a){case 1:h="ObjectSingleClicked";break;case 2:h="ObjectDoubleClicked";break;case 3:h="ObjectContextClicked"}0!==a&&o.R(h,t)}else{switch(a){case 1:h="BackgroundSingleClicked";break;case 2:h="BackgroundDoubleClicked";break;case 3:h="BackgroundContextClicked"}0!==a&&o.R(h)}if(null!==t)for(;null!==t;){switch(o=null,a){case 1:o=t.click;break;case 2:o=t.doubleClick?t.doubleClick:t.click;break;case 3:o=t.contextClick}if(null!==o&&(o(e,t),e.handled))break;t=t.panel}else{switch(t=null,a){case 1:t=o.click;break;case 2:t=o.doubleClick?o.doubleClick:o.click;break;case 3:t=o.contextClick}null!==t&&t(e)}}}(t,a,o),a.handled},ki.prototype.standardMouseOver=function(){var t=this.diagram,e=t.lastInput;if(!0!==t.animationManager.sc){var o=t.skipsUndoManager;t.skipsUndoManager=!0;var a=t.viewportBounds.$(e.documentPoint)?t.Vb(e.documentPoint,null,null):null;e.targetObject=a;var h=!1;if(a!==t.Ej){var c=t.Ej,m=c;for(t.Ej=a,this.doCurrentObjectChanged(c,a),e.handled=!1;null!==c;){var x=c.mouseLeave;if(null!==x&&(a===c||null!==a&&a.Gg(c)||(x(e,c,a),h=!0,e.handled)))break;c=c.panel}for(c=m,e.handled=!1;null!==a&&(null===(m=a.mouseEnter)||!(c===a||null!==c&&c.Gg(a)||(m(e,a,c),h=!0,e.handled)));)a=a.panel;a=t.Ej}if(null!==a){for(c=a,m="";null!==c&&""===(m=c.cursor);)c=c.panel;for(t.currentCursor=m,e.handled=!1,c=a;null!==c&&(null===(a=c.mouseOver)||(a(e,c),h=!0,!e.handled));)c=c.panel}else t.currentCursor="",null!==(a=t.mouseOver)&&(a(e),h=!0);h&&t.Db(),t.skipsUndoManager=o}},ki.prototype.doCurrentObjectChanged=function(){},ki.prototype.standardMouseWheel=function(){var t=this.diagram,e=t.lastInput,o=e.delta;if(0!==o&&t.documentBounds.o()){var a=t.commandHandler,h=t.toolManager.mouseWheelBehavior;if(null!==a&&(h===ko&&!e.shift||h===li&&e.control))(0<o?a.canIncreaseZoom():a.canDecreaseZoom())&&(h=t.zoomPoint,t.zoomPoint=e.viewPoint,0<o?a.increaseZoom():a.decreaseZoom(),t.zoomPoint=h),e.bubbles=!1;else if(h===ko&&e.shift||h===li&&!e.control){a=t.position.copy();var c=0<o?o:-o,m=e.event,x=m.deltaMode;if(h=m.deltaX,m=m.deltaY,(f||C||K)&&(x=1,0<h&&(h=3),0>h&&(h=-3),0<m&&(m=3),0>m&&(m=-3)),void 0===x||void 0===h||void 0===m||0===h&&0===m||e.shift)!e.shift&&t.allowVerticalScroll?t.scroll("pixel",0<o?"up":"down",c=3*c*t.scrollVerticalLineChange):e.shift&&t.allowHorizontalScroll&&t.scroll("pixel",0<o?"left":"right",c=3*c*t.scrollHorizontalLineChange);else{switch(x){default:o="pixel";break;case 1:o="line";break;case 2:o="page"}0!==h&&t.allowHorizontalScroll&&(0<(h*=t.scrollHorizontalLineChange/16)?t.scroll(o,"left",-h):t.scroll(o,"right",h)),0!==m&&t.allowVerticalScroll&&(0<(m*=t.scrollVerticalLineChange/16)?t.scroll(o,"up",-m):t.scroll(o,"down",m))}t.position.w(a)||(e.bubbles=!1)}}},ki.prototype.standardWaitAfter=function(t,e){void 0===e&&(e=this.diagram.lastInput),this.cancelWaitAfter();var o=this,a=e.clone(this.lz);this.vt=V(function(){o.doWaitAfter(a)},t)},ki.prototype.cancelWaitAfter=function(){-1!==this.vt&&T.clearTimeout(this.vt),this.vt=-1},ki.prototype.doWaitAfter=function(){},ki.prototype.findToolHandleAt=function(t,e){return null===(t=this.diagram.Vb(t,function(o){for(;null!==o&&!(o.panel instanceof Ci);)o=o.panel;return o}))?null:t.part.category===e?t:null},ki.prototype.isBeyondDragSize=function(t,e){var o=this.diagram;void 0===t&&(t=o.firstInput.viewPoint),void 0===e&&(e=o.lastInput.viewPoint);var a=o.toolManager.dragSize,h=a.width;return a=a.height,o.firstInput.isTouchEvent&&(h+=6,a+=6),Math.abs(e.x-t.x)>h||Math.abs(e.y-t.y)>a},B.Object.defineProperties(ki.prototype,{diagram:{get:function(){return this.B},set:function(t){t instanceof oe&&(this.B=t)}},name:{get:function(){return this.oa},set:function(t){this.oa=t}},isEnabled:{get:function(){return this.md},set:function(t){this.md=t}},isActive:{get:function(){return this.Sc},set:function(t){this.Sc=t}},transactionResult:{get:function(){return this.ix},set:function(t){this.ix=t}}}),ki.prototype.stopTransaction=ki.prototype.Jg,ki.prototype.startTransaction=ki.prototype.xa,ki.className="Tool",z(An,ki),An.prototype.initializeStandardTools=function(){},An.prototype.updateAdornments=function(t){var e=this.currentToolTip;if(e instanceof Ci&&this.Kr===t){var o=e.adornedObject;(null!==t?o.part===t:null===o)?this.showToolTip(e,o):this.hideToolTip()}},An.prototype.doMouseDown=function(){var t=this.diagram,e=t.lastInput;if(e.isTouchEvent&&this.gestureBehavior===bl&&(e.bubbles=!1),e.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===js)return void(e.bubbles=!0);if(this.gestureBehavior===bl)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomStart()}for(var o=this.mouseDownTools.length,a=0;a<o;a++){var h=this.mouseDownTools.J(a);if(h.diagram=this.diagram,h.canStart())return t.doFocus(),t.currentTool=h,void(t.currentTool===h&&(h.isActive||h.doActivate(),h.doMouseDown()))}1===t.lastInput.button&&(this.mouseWheelBehavior===li?this.mouseWheelBehavior=ko:this.mouseWheelBehavior===ko&&(this.mouseWheelBehavior=li)),this.doActivate(),this.standardWaitAfter(this.holdDelay,e)},An.prototype.doMouseMove=function(){var t=this.diagram,e=t.lastInput;if(e.isMultiTouch){if(this.gestureBehavior===js)return void(e.bubbles=!0);if(this.gestureBehavior===bl)return;if(t.currentTool.canStartMultiTouch())return void t.currentTool.standardPinchZoomMove()}if(this.isActive)for(var o=this.mouseMoveTools.length,a=0;a<o;a++){var h=this.mouseMoveTools.J(a);if(h.diagram=this.diagram,h.canStart())return t.doFocus(),t.currentTool=h,void(t.currentTool===h&&(h.isActive||h.doActivate(),h.doMouseMove()))}g1(this,t),null===(t=e.event)||"mousemove"!==t.type&&"pointermove"!==t.type&&t.cancelable||(e.bubbles=!0)},An.prototype.doCurrentObjectChanged=function(t,e){null===(t=this.currentToolTip)||null!==e&&t instanceof Ci&&(e===t||e.Gg(t))||this.hideToolTip()},An.prototype.doWaitAfter=function(t){var e=this.diagram;e.ya&&(this.doMouseHover(),this.isActive||this.doToolTip(),t.isTouchEvent&&!e.lastInput.handled&&((t=t.copy()).button=2,t.buttons=2,e.lastInput=t,e.hk=!0,e.doMouseUp()))},An.prototype.doMouseHover=function(){var t=this.diagram,e=t.lastInput;null===e.targetObject&&(e.targetObject=t.Vb(e.documentPoint,null,null));var o=e.targetObject;if(null!==o)for(e.handled=!1;null!==o&&(null===(t=this.isActive?o.mouseHold:o.mouseHover)||(t(e,o),!e.handled));)o=o.panel;else null!==(o=this.isActive?t.mouseHold:t.mouseHover)&&o(e)},An.prototype.doToolTip=function(){var t=this.diagram,e=t.lastInput;if(null===e.targetObject&&(e.targetObject=t.Vb(e.documentPoint,null,null)),null!==(e=e.targetObject)){if(!((t=this.currentToolTip)instanceof Ci)||e!==t&&!e.Gg(t)){for(;null!==e;){if(null!==(t=e.toolTip))return void this.showToolTip(t,e);e=e.panel}this.hideToolTip()}}else null!==(e=t.toolTip)?this.showToolTip(e,null):this.hideToolTip()},An.prototype.showToolTip=function(t,e){var o=this.diagram;if(t!==this.currentToolTip&&this.hideToolTip(),t instanceof Ci){t.layerName="Tool",t.selectable=!1,t.scale=1/o.scale,t.category="ToolTip",null!==t.placeholder&&(t.placeholder.scale=o.scale);var a=t.diagram;null!==a&&a!==o&&a.remove(t),o.add(t),null!==e?t.adornedObject=e:t.data=o.model,t.Ta(),this.positionToolTip(t,e)}else t instanceof Mu&&t!==this.currentToolTip&&t.show(e,o,this);if(this.currentToolTip=t,-1!==this.ik&&(T.clearTimeout(this.ik),this.ik=-1),0<(t=this.toolTipDuration)&&t!==1/0){var h=this;this.ik=V(function(){h.hideToolTip()},t)}},An.prototype.positionToolTip=function(t){if(null===t.placeholder){var e=this.diagram,o=e.lastInput.documentPoint.copy(),a=t.measuredBounds,h=e.viewportBounds;e.lastInput.isTouchEvent&&(o.x-=a.width),o.x+a.width>h.right&&(o.x-=a.width+5/e.scale),o.x<h.x&&(o.x=h.x),o.y=o.y+20/e.scale+a.height>h.bottom?o.y-(a.height+5/e.scale):o.y+20/e.scale,o.y<h.y&&(o.y=h.y),t.position=o}},An.prototype.hideToolTip=function(){-1!==this.ik&&(T.clearTimeout(this.ik),this.ik=-1);var t=this.diagram,e=this.currentToolTip;null!==e&&(e instanceof Ci?(t.remove(e),null!==this.Kr&&this.Kr.Hf(e.category),e.data=null,e.adornedObject=null):e instanceof Mu&&null!==e.hide&&e.hide(t,this),this.currentToolTip=null)},An.prototype.doMouseUp=function(){this.cancelWaitAfter();var t=this.diagram;if(this.isActive)for(var e=this.mouseUpTools.length,o=0;o<e;o++){var a=this.mouseUpTools.J(o);if(a.diagram=this.diagram,a.canStart())return t.doFocus(),t.currentTool=a,void(t.currentTool===a&&(a.isActive||a.doActivate(),a.doMouseUp()))}t.doFocus(),this.doDeactivate()},An.prototype.doMouseWheel=function(){this.standardMouseWheel()},An.prototype.doKeyDown=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyDown()},An.prototype.doKeyUp=function(){var t=this.diagram;null!==t.commandHandler&&t.commandHandler.doKeyUp()},An.prototype.findTool=function(t){for(var e=this.mouseDownTools.length,o=0;o<e;o++){var a=this.mouseDownTools.J(o);if(a.name===t)return a}for(e=this.mouseMoveTools.length,o=0;o<e;o++)if((a=this.mouseMoveTools.J(o)).name===t)return a;for(e=this.mouseUpTools.length,o=0;o<e;o++)if((a=this.mouseUpTools.J(o)).name===t)return a;return null},An.prototype.replaceTool=function(t,e){null!==e&&(e.diagram=this.diagram);for(var o=this.mouseDownTools.length,a=0;a<o;a++){var h=this.mouseDownTools.J(a);if(h.name===t)return null!==e?this.mouseDownTools.Pc(a,e):this.mouseDownTools.cb(a),h}for(o=this.mouseMoveTools.length,a=0;a<o;a++)if((h=this.mouseMoveTools.J(a)).name===t)return null!==e?this.mouseMoveTools.Pc(a,e):this.mouseMoveTools.cb(a),h;for(o=this.mouseUpTools.length,a=0;a<o;a++)if((h=this.mouseUpTools.J(a)).name===t)return null!==e?this.mouseUpTools.Pc(a,e):this.mouseUpTools.cb(a),h;return null},An.prototype.Ya=function(t,e,o){null!==e&&(e.name=t,e.diagram=this.diagram),this.findTool(t)?this.replaceTool(t,e):null!==e&&o.add(e)},B.Object.defineProperties(An.prototype,{mouseWheelBehavior:{get:function(){return this.La},set:function(t){this.La=t}},gestureBehavior:{get:function(){return this.I},set:function(t){this.I=t}},currentToolTip:{get:function(){return this.l},set:function(t){this.l=t,this.Kr=null!==t&&t instanceof Ci?t.adornedPart:null}},mouseDownTools:{get:function(){return this.Cc}},mouseMoveTools:{get:function(){return this.Tc}},mouseUpTools:{get:function(){return this.Od}},hoverDelay:{get:function(){return this.Ka},set:function(t){this.Ka=t}},holdDelay:{get:function(){return this.T},set:function(t){this.T=t}},dragSize:{get:function(){return this.u},set:function(t){this.u=t.H()}},toolTipDuration:{get:function(){return this.eb},set:function(t){this.eb=t}}}),An.prototype.replaceStandardTool=An.prototype.Ya;var li=new ct(An,"WheelScroll",0),ko=new ct(An,"WheelZoom",1),Vs=new ct(An,"WheelNone",2),wu=new ct(An,"GestureZoom",3),bl=new ct(An,"GestureCancel",4),js=new ct(An,"GestureNone",5);function nn(){ki.call(this),this.name="Dragging",this.I=this.Tc=!0,this.u=this.eb=this.Ka=this.qg=null,this.Tn=this.Od=!1,this.jm=new J(NaN,NaN),this.it=new J,this.Cc=!0,this.pl=100,this.Xg=[],this.lr=(new At).freeze(),this.La=new Yd,this.Fo=null,this.T="copy",this.Wh="",this.Xh="no-drop"}function Mi(t,e){if(t.dragsLink){var o=t.diagram;o.allowRelink&&(o.model.Ck()&&1===e.count&&e.first()instanceof Ce?(t.draggedLink=e.first(),t.draggedLink.canRelinkFrom()&&t.draggedLink.canRelinkTo()&&t.draggedLink.nk(),t.qg=o.toolManager.findTool("Relinking"),null===t.qg&&(t.qg=new Ir,t.qg.diagram=o)):(t.draggedLink=null,t.qg=null))}}function Bn(t){var e=t.diagram,o=e.skipsUndoManager;e.skipsUndoManager=!0,hf(t,e.lastInput,null),e.skipsUndoManager=o,t.Xg.length=0}function Fr(){var t=on;ua(t),Xr(t);var e=t.diagram;t.jm.o()&&(e.position=t.jm),e.Jf()}function ha(t,e){if(null===t.copiedParts){var o=t.diagram;if((!e||!o.isReadOnly&&!o.isModelReadOnly)&&null!==t.draggedParts){var a=o.undoManager;for(a.isEnabled&&a.isInTransaction?null!==a.currentTransaction&&0<a.currentTransaction.changes.count&&(o.undoManager.If(),o.xa("Drag")):Xr(t),o.skipsUndoManager=!e,o.partManager.addsToTemporaryLayer=!e,t.startPoint=o.firstInput.documentPoint,e=t.copiesEffectiveCollection?t.draggedParts.Kf():o.selection,e=o.tk(e,o,!0),o=new ot,a=t.draggedParts.iterator;a.next();){var h=a.key;if(h.Nc()&&h.canCopy()){var c=e.G(h);null!==c&&(c.location=h.location,c.Ta(),o.add(c,t.Cd(c.location)))}}for(e=e.iterator;e.next();)(a=e.value)instanceof Ce&&a.canCopy()&&o.add(a,t.Cd());t.copiedParts=o,Mi(t,o.Kf()),null!==t.draggedLink&&Lo(o=t.draggedLink,t.startPoint.x-((e=o.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2))}}}function ua(t){var e=t.diagram;if(null!==t.copiedParts&&(e.gu(t.copiedParts.Kf(),!1),t.copiedParts=null,null!==t.draggedParts))for(var o=t.draggedParts.iterator;o.next();)o.key instanceof Ce&&(o.value.point=new J(0,0));e.skipsUndoManager=!1,e.partManager.addsToTemporaryLayer=!1,t.startPoint=e.firstInput.documentPoint}function Go(t){if(null!==t.draggedLink){if(t.dragsLink&&null!==t.qg){var e=t.qg;e.diagram.remove(e.temporaryFromNode),e.diagram.remove(e.temporaryToNode)}t.draggedLink=null,t.qg=null}}function Ua(t,e,o){var a=t.diagram,h=t.startPoint,c=J.alloc();c.assign(a.lastInput.documentPoint),t.moveParts(e,c.ge(h),o),J.free(c),!0===a.Ke("temporaryPixelRatio")&&null===a.yh&&30<a.Yx&&(Yo(a),a.Yq())}function Xr(t){if(null!==t.draggedParts){for(var e=t.diagram,o=t.draggedParts.iterator;o.next();){var a=o.key;a.Nc()&&(a.location=o.value.point)}for(o=t.draggedParts.iterator;o.next();)if((a=o.key)instanceof Ce&&a.suspendsRouting){var h=o.value.point;t.draggedParts.add(a,t.Cd()),Lo(a,-h.x,-h.y)}e.hd()}}function lf(t,e){var o=t.diagram;t.dragsLink&&(null!==t.draggedLink&&(t.draggedLink.fromNode=null,t.draggedLink.toNode=null),uf(t,!1));var a=t.findDragOverObject(e),h=o.lastInput;h.targetObject=a,t.doUpdateCursor(a);var c=o.skipsUndoManager,m=!1;try{if(o.skipsUndoManager=!0,m=hf(t,h,a),!t.isActive&&null===on)return;var x=null!==a?a.part:null;if(null===x||o.handlesDragDropForTopLevelParts&&x.isTopLevel&&!(x instanceof Je)){var S=o.mouseDragOver;null!==S&&(S(h),m=!0)}if(!t.isActive&&null===on||(t.doDragOver(e,a),!t.isActive&&null===on))return}finally{o.skipsUndoManager=c,m&&o.hd()}t.Fo=a,o.isReadOnly||!o.allowMove&&!o.allowCopy||!o.allowHorizontalScroll&&!o.allowVerticalScroll||o.Et(h.viewPoint)}function hf(t,e,o){var a=!1,h=t.Xg.length,c=0<h?t.Xg[0]:null;if(o===c)return!1;e.handled=!1;for(var m=0;m<h;m++){var x=t.Xg[m],S=x.mouseDragLeave;if(null!==S&&(S(e,x,o),a=!0,e.handled))break}if(t.Xg.length=0,!t.isActive&&null===on||null===o)return a;for(e.handled=!1,h=o;null!==h;)t.Xg.push(h),h=In(h);for(h=t.Xg.length,o=0;o<h&&(null===(x=(m=t.Xg[o]).mouseDragEnter)||(x(e,m,c),a=!0,!e.handled));o++);return a}function In(t){var e=t.panel;return null!==e?e:t instanceof Ye&&!(t instanceof Je)&&null!==(t=t.containingGroup)&&t.handlesDragDropForMembers?t:null}function p0(t,e,o){var a=t.qg;if(null===a)return null;var h=t.diagram.Eg(e,a.portGravity,function(E){return a.findValidLinkablePort(E,o)});t=J.alloc();var c=1/0,m=null;for(h=h.iterator;h.next();){var x=h.value;if(null!==x.part){var S=x.da(Xe,t);(S=e.Ie(S))<c&&(m=x,c=S)}}return J.free(t),m}function uf(t,e){var o=t.draggedLink;if(null!==o&&!(2>o.pointsCount)){var a=t.diagram;if(!a.isReadOnly){var h=t.qg;if(null!==h){var c=null,m=null;null===o.fromNode&&null!==(c=p0(t,o.i(0),!1))&&(m=c.part);var x=null,S=null;null===o.toNode&&null!==(x=p0(t,o.i(o.pointsCount-1),!0))&&(S=x.part),h.isValidLink(m,c,S,x)?e?(o.defaultFromPoint=o.i(0),o.defaultToPoint=o.i(o.pointsCount-1),o.suspendsRouting=!1,o.fromNode=m,null!==c&&(o.fromPortId=c.portId),o.toNode=S,null!==x&&(o.toPortId=x.portId),o.fromPort!==a.Ky&&a.R("LinkRelinked",o,a.Ky),o.toPort!==a.Ly&&a.R("LinkRelinked",o,a.Ly)):kg(h,m,c,S,x):kg(h,null,null,null,null)}}}}function Eg(t,e){var o=t.diagram;t.dragsLink&&uf(t,!0),Bn(t);var a=t.findDragOverObject(e),h=o.lastInput;if(h.targetObject=a,null!==a){h.handled=!1;for(var c=a;null!==c;){var m=c.mouseDrop;if(null!==m&&(m(h,c),h.handled))break;Rd(t,h,c),c=In(c)}}else null!==(c=o.mouseDrop)&&c(h);if(t.isActive||null!==on){for(h=(t.copiedParts||t.draggedParts).iterator;h.next();)(c=h.key)instanceof Fe&&c.linksConnected.each(function(x){x.suspendsRouting=!1});if(t.doDropOnto(e,a),t.isActive||null!==on){for(t=Lt.alloc(),e=o.selection.iterator;e.next();)(a=e.value)instanceof Fe&&Ca(o,a,t);Lt.free(t)}}}function Rd(t,e,o){o=o.part,!(t=t.diagram).handlesDragDropForTopLevelParts||!o.isTopLevel||o instanceof Je||null!==(o=t.mouseDrop)&&o(e)}function Ca(t,e,o){var a=!1;if(e.getAvoidableRect(o),t.viewportBounds.Ge(o)&&(a=!0),0!==(t=t.Vv(o,function(h){return h.part},function(h){return h instanceof Ce},!0,function(h){return h instanceof Ce},a)).count)for(t=t.iterator;t.next();)!(o=t.value).Kd(e)&&o.isAvoiding&&o.Ua()}function cf(t,e,o,a){if(null===t.copiedParts){var h=t.diagram;if(!h.isReadOnly&&!h.isModelReadOnly){h.skipsUndoManager=!o,h.partManager.addsToTemporaryLayer=!o,t.startPoint=a.documentPoint,o=h.tk(e,h,!0);var c=Lt.alloc();h=a=1/0;for(var m=-1/0,x=-1/0,S=e.iterator;S.next();){var E=S.value;if(E.isVisible()){var P=E.location;E=P.x,P=P.y,isNaN(E)||isNaN(P)||(E<a&&(a=E),P<h&&(h=P),E>m&&(m=E),P>x&&(x=P))}}for(a===1/0?c.h(0,0,0,0):c.h(a,h,m-a,x-h),a=c.x+c.width/2,h=c.y+c.height/2,Lt.free(c),c=t.it,m=new ot,x=J.alloc(),S=e.iterator;S.next();)(E=S.value)instanceof Ce&&E.canCopy()&&null!==(P=o.G(E))&&(P.points=E.points,Lo(P,c.x-a,c.y-h),P.suspendsRouting=!0,m.add(P,t.Cd()));for(e=e.iterator;e.next();)(E=e.value).Nc()&&E.canCopy()&&null!==(S=o.G(E))&&(x.h(c.x-(a-(E=E.location).x),c.y-(h-E.y)),S.location=x,S.Ta(),m.add(S,t.Cd(x)));J.free(x),t.copiedParts=m,Mi(t,m.Kf()),null!==t.draggedLink&&Lo(o=t.draggedLink,t.startPoint.x-((e=o.routeBounds).x+e.width/2),t.startPoint.y-(e.y+e.height/2))}}}An.className="ToolManager",An.WheelScroll=li,An.WheelZoom=ko,An.WheelNone=Vs,An.GestureZoom=wu,An.GestureCancel=bl,An.GestureNone=js,z(nn,ki),nn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly&&!t.allowDragOut||!t.allowMove&&!t.allowCopy&&!t.allowDragOut||!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.isTouchEvent&&e.timestamp-t.firstInput.timestamp<this.pl))&&null!==this.findDraggablePart()},nn.prototype.findDraggablePart=function(){var t=this.diagram;if(null===(t=t.zm(t.firstInput.documentPoint,!1)))return null;for(;null!==t&&!t.canSelect();)t=t.containingGroup;return null!==t&&(t.canMove()||t.canCopy())?t:null},nn.prototype.standardMouseSelect=function(){var t=this.diagram;if(t.allowSelect){var e=t.zm(t.firstInput.documentPoint,!1);if(null!==e){for(;null!==e&&!e.canSelect();)e=e.containingGroup;this.currentPart=e,null===this.currentPart||this.currentPart.isSelected||(t.R("ChangingSelection",t.selection),e=t.lastInput,(U?e.meta:e.control)||e.shift||t.clearSelection(!0),this.currentPart.isSelected=!0,t.R("ChangedSelection",t.selection))}}},nn.prototype.doActivate=function(){var t=this.diagram;this.Fo=null,null===this.currentPart&&this.standardMouseSelect();var e=this.currentPart;null!==e&&(e.canMove()||e.canCopy())&&(on=null,this.isActive=!0,this.jm.set(t.position),Mi(this,t.selection),this.Xg.length=0,t.animationManager.Bc(),this.draggedParts=this.computeEffectiveCollection(t.selection,this.dragOptions),t.mu=!0,!0===t.Ke("temporaryPixelRatio")&&30<t.Yx&&Yo(t),gc(t,this.draggedParts),this.xa("Drag"),this.startPoint=t.firstInput.documentPoint,t.isMouseCaptured=!0,t.allowDragOut&&(this.isDragOutStarted=!0,this.Tn=!1,on=this,Od=this.diagram,this.doSimulatedDragOut()))},nn.prototype.computeEffectiveCollection=function(t,e){return this.diagram.commandHandler.computeEffectiveCollection(t,e)},nn.prototype.Cd=function(t){return new xc(void 0===t?xe:this.isGridSnapEnabled?new J(Math.round(1e3*t.x)/1e3,Math.round(1e3*t.y)/1e3):t.copy())},nn.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;if(t.Jf(),Bn(this),Mf(t,this.draggedParts),this.draggedParts=this.currentPart=this.Fo=null,this.Tn=this.isDragOutStarted=!1,0<Cs.count){for(var e=Cs,o=e.length,a=0;a<o;a++){var h=e.J(a);Go(h),ua(h),Bn(h),h.diagram.Jf()}e.clear()}Go(this),this.jm.h(NaN,NaN),on=Od=null,ua(this),t.isMouseCaptured=!1,t.currentCursor="",t.mu=!1,this.Jg(),Cl(t,!0)},nn.prototype.doCancel=function(){ua(this),Xr(this);var t=this.diagram;this.jm.o()&&(t.position=this.jm),this.stopTool()},nn.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput;this.isActive&&("Esc"===e.key?this.doCancel():e.key!==t.previousInput.key&&this.doMouseMove())},nn.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},nn.prototype.moveParts=function(t,e,o){void 0===o&&(o=!1);var a=this.diagram;null!==a&&bf(a,t,e,this.dragOptions,o)},nn.prototype.findDragOverObject=function(t){var e=this;return Lg(this.diagram,t,null,function(o){return!(o=null===o||!!(null===(o=o.part)||o instanceof Ci||o.layer.isTemporary||e.draggedParts&&e.draggedParts.contains(o)||e.copiedParts&&e.copiedParts.contains(o)))})},nn.prototype.doUpdateCursor=function(t){var e=this.diagram;this.Fo!==t&&(!this.diagram.currentTool.isActive||this.mayCopy()?e.currentCursor=this.copyCursor:this.mayMove()?e.currentCursor=this.moveCursor:this.mayDragOut()&&(e.currentCursor=this.nodropCursor))},nn.prototype.doDragOver=function(){},nn.prototype.doDropOnto=function(){},nn.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;this.simulatedMouseMove(e.event,e.documentPoint,e.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(ha(this,!1),gc(t,this.copiedParts),Ua(this,this.copiedParts,!1),Mf(t,this.copiedParts)):this.mayMove()?(ua(this),Ua(this,this.draggedParts,!0)):this.mayDragOut()?(ha(this,!1),Ua(this,this.copiedParts,!1)):ua(this),lf(this,t.lastInput.documentPoint))}},nn.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram,e=t.lastInput;if(!this.simulatedMouseUp(e.event,e.documentPoint,e.targetDiagram)){e=!1;var o=this.mayCopy();if(o&&null!==this.copiedParts?(ua(this),ha(this,!0),gc(t,this.copiedParts),Ua(this,this.copiedParts,!1),Mf(t,this.copiedParts),null!==this.copiedParts&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(h){h.isSelected=!0}))):(e=!0,ua(this),this.mayMove()&&(Ua(this,this.draggedParts,!0),lf(this,t.lastInput.documentPoint))),this.Tn=!0,Eg(this,t.lastInput.documentPoint),this.isActive){var a=o?this.copiedParts.Kf():this.draggedParts.Kf();this.copiedParts=null,e&&function(t){if(null!==t.draggedParts)for(var e=t.draggedParts.iterator;e.next();){var o=e.key;o instanceof Fe&&(null===(o=o.containingGroup)||null===o.placeholder||t.draggedParts.contains(o)||o.placeholder.s())}}(this),t.Na(),Mf(t,this.draggedParts),this.transactionResult=o?"Copy":"Move",t.R(o?"SelectionCopied":"SelectionMoved",a)}this.stopTool(),o&&t.R("ChangedSelection",t.selection)}}},nn.prototype.simulatedMouseMove=function(t,e,o){if(null===on)return!1;var a=on.diagram;o instanceof oe||(o=null);var h=Od;return o!==h&&(null!==h&&h!==a&&(h.Jf(),on.isDragOutStarted=!1,null!==(h=h.toolManager.findTool("Dragging"))&&h.doSimulatedDragLeave()),Od=o,null!==o&&o!==a&&(Fr(),null!==(h=o.toolManager.findTool("Dragging"))&&(Cs.contains(h)||Cs.add(h),h.doSimulatedDragEnter()))),!(null===o||o===a||!o.allowDrop||o.isReadOnly||!o.allowInsert||(null!==(a=o.toolManager.findTool("Dragging"))&&(null!==t&&(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=o.getMouse(t)),o.lastInput.documentPoint=e,o.lastInput.viewPoint=o.gr(e),o.lastInput.down=!1,o.lastInput.up=!1,a.doSimulatedDragOver()),0))},nn.prototype.simulatedMouseUp=function(t,e,o){if(null===on)return!1;var a=Od,h=on.diagram;if(null===o)return on.doCancel(),!0;if(o!==a){var c=a.toolManager.findTool("Dragging");if(null!==a&&a!==h&&null!==c)return a.Jf(),on.isDragOutStarted=!1,c.doSimulatedDragLeave(),!1;Od=o,null!==(a=o.toolManager.findTool("Dragging"))&&(Fr(),Cs.contains(a)||Cs.add(a),a.doSimulatedDragEnter())}return o!==this.diagram&&(null!==t?(void 0!==t.targetTouches&&(0<t.targetTouches.length?t=t.targetTouches[0]:0<t.changedTouches.length&&(t=t.changedTouches[0])),e=o.getMouse(t)):null===e&&(e=new J),o.lastInput.documentPoint=e,o.lastInput.viewPoint=o.gr(e),o.lastInput.down=!1,o.lastInput.up=!0,null!==(t=o.toolManager.findTool("Dragging"))&&t.doSimulatedDrop(),null!==(t=on)&&(o=t.mayCopy(),t.transactionResult=o?"Copy":"Move",t.stopTool()),!0)},nn.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowCopy||(U?!t.lastInput.alt:!t.lastInput.control))return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},nn.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var t=this.diagram;if(!t.allowDragOut||!t.allowCopy||t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},nn.prototype.mayMove=function(){var t=this.diagram;if(t.isReadOnly||!t.allowMove)return!1;for(t=t.selection.iterator;t.next();)if(t.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},nn.prototype.computeBorder=function(t,e,o){return this.Tn||null===this.draggedParts||this.draggedParts.contains(t)?null:o.assign(e)},nn.prototype.lA=function(){return on},nn.prototype.mayDragIn=function(){var t=this.diagram;return!(!t.allowDrop||t.isReadOnly||t.isModelReadOnly||!t.allowInsert)&&!(null===on||on.diagram.model.dataFormat!==t.model.dataFormat)},nn.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var t=this.diagram;t.animationManager.Bc(),mr(t),t.animationManager.Bc(),null!==on&&(on.diagram.mu=!1),this.doUpdateCursor(t.grid)}},nn.prototype.doSimulatedDragLeave=function(){null!==on&&on.doSimulatedDragOut(),this.doCancel()},nn.prototype.doSimulatedDragOver=function(){var t=this.diagram;t.animationManager.tn=!0;var e=on;if(null!==e&&null!==e.draggedParts){if(!this.mayDragIn())return;cf(this,e.draggedParts.Kf(),!1,t.firstInput),Ua(this,this.copiedParts,!1),lf(this,t.lastInput.documentPoint)}t.animationManager.tn=!1},nn.prototype.doSimulatedDrop=function(){var t=this.diagram,e=on;if(null!==e){var o=e.diagram;if(e.Tn=!0,ua(this),!this.mayDragIn())return;t.animationManager.tn=!0,t.R("ChangingSelection",t.selection),this.xa("Drop"),cf(this,e.draggedParts.Kf(),!0,t.lastInput),Ua(this,this.copiedParts,!1),null!==this.copiedParts&&(t.clearSelection(!0),this.copiedParts.iteratorKeys.each(function(a){a.isSelected=!0})),Eg(this,t.lastInput.documentPoint),t.Na(),e=t.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":e=new At,this.copiedParts=null,t.doFocus(),t.R("ExternalObjectsDropped",e,o),this.Jg(),t.R("ChangedSelection",t.selection)}t.animationManager.tn=!1},nn.prototype.doSimulatedDragOut=function(){var t=this.diagram;t.mu=!1,t.currentCursor=this.mayCopy()||this.mayMove()?"":this.nodropCursor,this.Fo=null},nn.prototype.computeMove=function(t,e,o,a){return null!==(o=this.diagram)?o.computeMove(t,e,this.dragOptions,a):new J},B.Object.defineProperties(nn.prototype,{isCopyEnabled:{get:function(){return this.Tc},set:function(t){this.Tc=t}},copiesEffectiveCollection:{get:function(){return this.I},set:function(t){this.I=t}},dragOptions:{get:function(){return this.La},set:function(t){this.La=t}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(t){this.dragOptions.isGridSnapEnabled=t}},isComplexRoutingRealtime:{get:function(){return this.Cc},set:function(t){this.Cc=t}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(t){this.dragOptions.isGridSnapRealtime=t}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(t){this.dragOptions.gridSnapCellSize.w(t)||(t=t.H(),this.dragOptions.gridSnapCellSize=t)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(t){this.dragOptions.gridSnapCellSpot.w(t)||(t=t.H(),this.dragOptions.gridSnapCellSpot=t)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(t){this.dragOptions.gridSnapOrigin.w(t)||(t=t.H(),this.dragOptions.gridSnapOrigin=t)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(t){this.dragOptions.dragsLink=t}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(t){this.dragOptions.dragsTree=t}},copyCursor:{get:function(){return this.T},set:function(t){this.T=t}},moveCursor:{get:function(){return this.Wh},set:function(t){this.Wh=t}},nodropCursor:{get:function(){return this.Xh},set:function(t){this.Xh=t}},currentPart:{get:function(){return this.Ka},set:function(t){this.Ka=t}},copiedParts:{get:function(){return this.u},set:function(t){this.u=t}},draggedParts:{get:function(){return this.eb},set:function(t){this.eb=t}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.Kf():null!==this.draggedParts?this.draggedParts.Kf():this.lr}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(t){this.diagram.draggedLink=t}},isDragOutStarted:{get:function(){return this.Od},set:function(t){this.Od=t}},startPoint:{get:function(){return this.it},set:function(t){this.it.w(t)||this.it.assign(t)}},delay:{get:function(){return this.pl},set:function(t){this.pl=t}}}),nn.prototype.getDraggingSource=nn.prototype.lA;var Cs=null,on=null,Od=null;function Hr(){ki.call(this),this.Xh=100,this.La=!1,this.oi="pointer";var t=new Ce,e=new qe;e.isPanelMain=!0,e.stroke="blue",t.add(e),(e=new qe).toArrow="Standard",e.fill="blue",e.stroke="blue",t.add(e),t.layerName="Tool",this.gx=t,t=new Fe,(e=new qe).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=je,t.add(e),t.selectable=!1,t.layerName="Tool",this.ex=t,this.l=e,t=new Fe,(e=new qe).portId="",e.figure="Rectangle",e.fill=null,e.stroke="magenta",e.strokeWidth=2,e.desiredSize=je,t.add(e),t.selectable=!1,t.layerName="Tool",this.hx=t,this.u=e,this.Wh=this.Od=this.Cc=this.eb=this.Tc=null,this.Ka=!0,this.cz=new ot,this.lr=this.Ii=this.bx=null}function Nd(t,e,o,a){if(e===o)return!0;var h=e.fromNode;return!(null===h||!h.isLinkLabel||(a.add(h),!Nd(t,h.labeledLink,o,a)))||!(null===(e=e.toNode)||!e.isLinkLabel||(a.add(e),!Nd(t,e.labeledLink,o,a)))}function ff(t,e,o,a,h){if(e===o)return!0;if(null===e||null===o)return!1;for(var c=e.linksConnected;c.next();){var m=c.value;if(m!==a&&(!h||m.isTreeLink)&&m.toNode===e&&(m=m.fromNode)!==e&&ff(t,m,o,a,h))return!0}return!1}function Fd(t,e,o,a,h){if(o===a)return!0;if(null===o||null===a||e.contains(o))return!1;e.add(o);for(var c=o.linksConnected;c.next();){var m=c.value;if(m!==h&&m.toNode===o&&(m=m.fromNode)!==o&&Fd(t,e,m,a,h))return!0}return!1}function g0(t,e,o,a,h){if(o===a)return!0;if(null===o||null===a||e.contains(o))return!1;e.add(o);for(var c=o.linksConnected;c.next();){var m=c.value;if(m!==h){var x=m.fromNode;if(m=m.toNode,(x=x===o?m:x)!==o&&g0(t,e,x,a,h))return!0}}return!1}function Pr(){Hr.call(this),this.name="Linking",this.T={},this.I=null,this.K=Wo,this.en=null}nn.className="DraggingTool",Cs=new St,b("draggingTool",function(){return this.findTool("Dragging")},function(t){this.Ya("Dragging",t,this.mouseMoveTools)}),An.prototype.doCancel=function(){null!==on&&on.doCancel(),ki.prototype.doCancel.call(this)},z(Hr,ki),Hr.prototype.doStop=function(){this.diagram.Jf(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Hr.prototype.copyPortProperties=function(t,e,o,a,h){if(null!==t&&null!==e&&null!==o&&null!==a){var c=e.Af(),m=fe.alloc();m.width=e.naturalBounds.width*c,m.height=e.naturalBounds.height*c,a.desiredSize=m,fe.free(m),h?(a.toSpot=e.toSpot,a.toEndSegmentLength=e.toEndSegmentLength):(a.fromSpot=e.fromSpot,a.fromEndSegmentLength=e.fromEndSegmentLength),o.locationSpot=Xe,c=J.alloc(),o.location=e.da(Xe,c),J.free(c),a.angle=e.lj(),null!==this.portTargeted&&this.portTargeted(t,e,o,a,h)}},Hr.prototype.setNoTargetPortProperties=function(t,e,o){null!==e&&(e.desiredSize=je,e.fromSpot=yi,e.toSpot=yi),null!==t&&(t.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,t,e,o)},Hr.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Hr.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof Fe){var e=this.targetPort.part;this.isForwards?this.copyPortProperties(e,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(e,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Et(t.lastInput.viewPoint)}},Hr.prototype.findValidLinkablePort=function(t,e){if(null===t)return null;var o=t.part;if(!(o instanceof Fe))return null;for(;null!==t;){var a=e?t.toLinkable:t.fromLinkable;if(!0===a&&(null!==t.portId||t instanceof Fe)&&(e?this.isValidTo(o,t):this.isValidFrom(o,t)))return t;if(!1===a)break;t=t.panel}return null},Hr.prototype.findTargetPort=function(t){var e=this.diagram,o=e.lastInput.documentPoint,a=this.portGravity;0>=a&&(a=.1);var h=this,c=e.Eg(o,a,function(N){return h.findValidLinkablePort(N,t)},null,!0);for(a=1/0,e=null,c=c.iterator;c.next();){var m=c.value,x=m.part;if(x instanceof Fe){var S=m.da(Xe,J.alloc()),E=o.x-S.x,P=o.y-S.y;J.free(S),(S=E*E+P*P)<a&&(null!==(E=this.validPortsCache.G(m))?E&&(e=m,a=S):t&&this.isValidLink(this.originalFromNode,this.originalFromPort,x,m)||!t&&this.isValidLink(x,m,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(m,!0),e=m,a=S):this.validPortsCache.add(m,!1))}}return null!==e&&(o=e.part)instanceof Fe&&(null===o.layer||o.layer.allowLink)?e:null},Hr.prototype.isValidFrom=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.fromLinkable))return!1;var o=e.fromMaxLinks;if(1/0>o){if(null!==this.originalLink&&t===this.originalFromNode&&e===this.originalFromPort)return!0;if(null===(e=e.portId)&&(e=""),t.Fq(e).count>=o)return!1}return!0},Hr.prototype.isValidTo=function(t,e){if(null===t||null===e)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==t.layer&&!t.layer.allowLink||!0!==e.toLinkable))return!1;var o=e.toMaxLinks;if(1/0>o){if(null!==this.originalLink&&t===this.originalToNode&&e===this.originalToPort)return!0;if(null===(e=e.portId)&&(e=""),t.Hd(e).count>=o)return!1}return!0},Hr.prototype.isInSameNode=function(t,e){return null!==t&&null!==e&&(t===e||(e=e.part,null!==(t=t.part)&&t===e))},Hr.prototype.isLinked=function(t,e){if(null===t||null===e)return!1;var o=t.part;if(!(o instanceof Fe))return!1;null===(t=t.portId)&&(t="");var a=e.part;if(!(a instanceof Fe))return!1;for(null===(e=e.portId)&&(e=""),e=a.Hd(e);e.next();)if((a=e.value).fromNode===o&&a.fromPortId===t)return!0;return!1},Hr.prototype.isValidLink=function(t,e,o,a){if(!this.isValidFrom(t,e)||!this.isValidTo(o,a)||!(null===e||null===a||(e.fromLinkableSelfNode&&a.toLinkableSelfNode||!this.isInSameNode(e,a))&&(e.fromLinkableDuplicates&&a.toLinkableDuplicates||!this.isLinked(e,a)))||null!==this.originalLink&&(null!==t&&this.isLabelDependentOnLink(t,this.originalLink)||null!==o&&this.isLabelDependentOnLink(o,this.originalLink))||null!==t&&null!==o&&(null===t.data&&null!==o.data||null!==t.data&&null===o.data)||!this.isValidCycle(t,o,this.originalLink))return!1;if(null!==t){var h=t.linkValidation;if(null!==h&&!h(t,e,o,a,this.originalLink))return!1}return!(null!==o&&(h=o.linkValidation,null!==h&&!h(t,e,o,a,this.originalLink)))&&(null===(h=this.linkValidation)||h(t,e,o,a,this.originalLink))},Hr.prototype.isLabelDependentOnLink=function(t,e){if(null===t)return!1;var o=t.labeledLink;if(null===o)return!1;if(o===e)return!0;var a=new At;return a.add(t),Nd(this,o,e,a)},Hr.prototype.isValidCycle=function(t,e,o){if(void 0===o&&(o=null),null===t||null===e)return this.isUnconnectedLinkValid;var a=this.diagram.validCycle;if(a!==B0){if(a===Xg){if(null!==(a=o||this.temporaryLink)&&!a.isTreeLink)return!0;for(a=e.linksConnected;a.next();){var h=a.value;if(h!==o&&h.isTreeLink&&h.toNode===e)return!1}return!ff(this,t,e,o,!0)}if(a===El){if(null!==(a=o||this.temporaryLink)&&!a.isTreeLink)return!0;for(a=t.linksConnected;a.next();)if((h=a.value)!==o&&h.isTreeLink&&h.fromNode===t)return!1;return!ff(this,t,e,o,!0)}if(a===F1)return t===e?t=!0:((a=new At).add(e),t=Fd(this,a,t,e,o)),!t;if(a===Sf)return!ff(this,t,e,o,!1);if(a===po)return t===e?t=!0:((a=new At).add(e),t=g0(this,a,t,e,o)),!t}return!0},B.Object.defineProperties(Hr.prototype,{portGravity:{get:function(){return this.Xh},set:function(t){0<=t&&(this.Xh=t)}},isUnconnectedLinkValid:{get:function(){return this.La},set:function(t){this.La=t}},linkingCursor:{get:function(){return this.oi},set:function(t){this.oi=t}},temporaryLink:{get:function(){return this.gx},set:function(t){this.gx=t}},temporaryFromNode:{get:function(){return this.ex},set:function(t){(this.ex=t)&&(this.l=t.port)}},temporaryFromPort:{get:function(){return this.l},set:function(t){if(null!==this.l){var e=this.l.panel;if(null!==e){var o=e.W.indexOf(this.l);e.cb(o),e.wb(o,t)}}this.l=t}},temporaryToNode:{get:function(){return this.hx},set:function(t){(this.hx=t)&&(this.u=t.port)}},temporaryToPort:{get:function(){return this.u},set:function(t){if(null!==this.u){var e=this.u.panel;if(null!==e){var o=e.W.indexOf(this.u);e.cb(o),e.wb(o,t)}}this.u=t}},originalLink:{get:function(){return this.Tc},set:function(t){this.Tc=t}},originalFromNode:{get:function(){return this.eb},set:function(t){this.eb=t}},originalFromPort:{get:function(){return this.Cc},set:function(t){this.Cc=t}},originalToNode:{get:function(){return this.Od},set:function(t){this.Od=t}},originalToPort:{get:function(){return this.Wh},set:function(t){this.Wh=t}},isForwards:{get:function(){return this.Ka},set:function(t){this.Ka=t}},validPortsCache:{get:function(){return this.cz}},targetPort:{get:function(){return this.bx},set:function(t){this.bx=t}},linkValidation:{get:function(){return this.Ii},set:function(t){this.Ii=t}},portTargeted:{get:function(){return this.lr},set:function(t){this.lr=t}}}),Hr.className="LinkingBaseTool",z(Pr,Hr),Pr.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowLink||!t.model.Ut()||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Pr.prototype.findLinkablePort=function(){var t=this.diagram,e=this.startObject;if(null===e&&(e=t.Vb(t.firstInput.documentPoint,null,null)),null===e||!((t=e.part)instanceof Fe))return null;var o=this.direction;if(o===Wo||o===q_){var a=this.findValidLinkablePort(e,!1);if(null!==a||this.startObject===t&&this.findValidLinkablePort(a=t.port,!1))return this.isForwards=!0,a}return o!==Wo&&o!==sh||!(null!==(e=this.findValidLinkablePort(e,!0))||this.startObject===t&&this.findValidLinkablePort(e=t.port,!0))?null:(this.isForwards=!1,e)},Pr.prototype.doActivate=function(){var t=this.diagram,e=this.findLinkablePort();null===e?this.stopTool():(this.xa(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.isForwards?(null===this.temporaryToNode||this.temporaryToNode.location.o()||(this.temporaryToNode.location=t.lastInput.documentPoint),this.originalFromPort=e,(e=this.originalFromPort.part)instanceof Fe&&(this.originalFromNode=e),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null===this.temporaryFromNode||this.temporaryFromNode.location.o()||(this.temporaryFromNode.location=t.lastInput.documentPoint),this.originalToPort=e,(e=this.originalToPort.part)instanceof Fe&&(this.originalToNode=e),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.Ua(),t.add(this.temporaryLink)),this.isActive=!0)},Pr.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Jg()},Pr.prototype.doStop=function(){Hr.prototype.doStop.call(this),this.startObject=null},Pr.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.transactionResult=null,o=null,a=null,h=null,c=null;try{var m=this.targetPort=this.findTargetPort(this.isForwards);if(null!==m){var x=m.part;x instanceof Fe&&(this.isForwards?(null!==this.originalFromNode&&(e=this.originalFromNode,o=this.originalFromPort),a=x,h=m):(e=x,o=m,null!==this.originalToNode&&(a=this.originalToNode,h=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(e=this.originalFromNode,o=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(a=this.originalToNode,h=this.originalToPort);null!==e||null!==a?null!==(c=this.insertLink(e,o,a,h))?(null===m&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint.copy():c.defaultFromPoint=t.lastInput.documentPoint.copy()),t.allowSelect&&(t.R("ChangingSelection",t.selection),t.clearSelection(!0),c.isSelected=!0),this.transactionResult=this.name,t.R("LinkDrawn",c)):this.doNoLink(e,o,a,h):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),c&&t.allowSelect&&t.R("ChangedSelection",t.selection)}}},Pr.prototype.isNewTreeLink=function(){var t=this.archetypeLinkData;if(null===t)return!0;if(t instanceof Ce)return t.isTreeLink;var e=this.diagram;return null===e||(t=e.partManager.getLinkCategoryForData(t),null===(e=e.partManager.findLinkTemplateForCategory(t))||e.isTreeLink)},Pr.prototype.insertLink=function(t,e,o,a){return this.diagram.partManager.insertLink(t,e,o,a)},Pr.prototype.doNoLink=function(){},B.Object.defineProperties(Pr.prototype,{archetypeLinkData:{get:function(){return this.T},set:function(t){this.T=t}},archetypeLabelNodeData:{get:function(){return this.I},set:function(t){this.I=t}},direction:{get:function(){return this.K},set:function(t){this.K=t}},startObject:{get:function(){return this.en},set:function(t){this.en=t}}});var Wo=new ct(Pr,"Either",0),q_=new ct(Pr,"ForwardsOnly",0),sh=new ct(Pr,"BackwardsOnly",0);function Ir(){Hr.call(this),this.name="Relinking";var t=new qe;t.figure="Diamond",t.desiredSize=Se,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=0,this.T=t,(t=new qe).figure="Diamond",t.desiredSize=Se,t.fill="lightblue",t.stroke="dodgerblue",t.cursor=this.linkingCursor,t.segmentIndex=-1,this.en=t,this.I=null,this.Hx=new Lt}function kg(t,e,o,a,h){null!==e?(t.copyPortProperties(e,o,t.temporaryFromNode,t.temporaryFromPort,!1),t.diagram.add(t.temporaryFromNode)):t.diagram.remove(t.temporaryFromNode),null!==a?(t.copyPortProperties(a,h,t.temporaryToNode,t.temporaryToPort,!0),t.diagram.add(t.temporaryToNode)):t.diagram.remove(t.temporaryToNode)}function qn(){ki.call(this),this.name="LinkReshaping";var t=new qe;t.figure="Rectangle",t.desiredSize=se,t.fill="lightblue",t.stroke="dodgerblue",this.u=t,(t=new qe).figure="Diamond",t.desiredSize=Se,t.fill="lightblue",t.stroke="dodgerblue",t.cursor="move",this.I=t,this.T=3,this.wu=this.l=null,this.Ix=new J,this.Is=new St}function _u(t,e,o,a,h,c){return c?Math.abs(e.y-o.y)<t.resegmentingDistance&&Math.abs(o.y-a.y)<t.resegmentingDistance&&Math.abs(a.y-h.y)<t.resegmentingDistance:Math.abs(e.x-o.x)<t.resegmentingDistance&&Math.abs(o.x-a.x)<t.resegmentingDistance&&Math.abs(a.x-h.x)<t.resegmentingDistance}Pr.className="LinkingTool",Pr.Either=Wo,Pr.ForwardsOnly=q_,Pr.BackwardsOnly=sh,z(Ir,Hr),Ir.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ce){var e="RelinkFrom",o=null;if(t.isSelected&&!this.diagram.isReadOnly){var a=t.selectionObject;null!==a&&t.canRelinkFrom()&&t.actualBounds.o()&&t.isVisible()&&a.actualBounds.o()&&a.Gf()&&null===(o=t.wk(e))&&(o=this.makeAdornment(a,!1),t.Gh(e,o))}null===o&&t.Hf(e),e="RelinkTo",o=null,t.isSelected&&!this.diagram.isReadOnly&&null!==(a=t.selectionObject)&&t.canRelinkTo()&&t.actualBounds.o()&&t.isVisible()&&a.actualBounds.o()&&a.Gf()&&(null===(o=t.wk(e))?(o=this.makeAdornment(a,!0),t.Gh(e,o)):o.s()),null===o&&t.Hf(e)}},Ir.prototype.makeAdornment=function(t,e){var o=new Ci;return o.type=pe.Link,null!==(e=e?this.toHandleArchetype:this.fromHandleArchetype)&&o.add(e.copy()),o.adornedObject=t,o},Ir.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowRelink||!t.model.Ut()||!t.lastInput.left)return!1;var e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom");return null===e&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null!==e},Ir.prototype.doActivate=function(){var t=this.diagram;if(null===this.originalLink){var e=this.handle;if(null===e&&null===(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkFrom"))&&(e=this.findToolHandleAt(t.firstInput.documentPoint,"RelinkTo")),null===e)return;var o=e.part;if(!(o instanceof Ci&&o.adornedPart instanceof Ce))return;this.handle=e,this.isForwards=null===o||"RelinkTo"===o.category,this.originalLink=o.adornedPart}this.xa(this.name),t.isMouseCaptured=!0,t.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.Hx.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=si),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=si),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),t.add(this.temporaryFromNode),t.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.Ua(),t.add(this.temporaryLink)),this.isActive=!0},Ir.prototype.copyLinkProperties=function(t,e){if(null!==t&&null!==e){e.adjusting=t.adjusting,e.corner=t.corner;var o=t.curve;(o===Fu||o===nl)&&(o=Bo),e.curve=o,e.curviness=t.curviness,e.isTreeLink=t.isTreeLink,e.points=t.points,e.routing=t.routing,e.smoothness=t.smoothness,e.fromSpot=t.fromSpot,e.fromEndSegmentLength=t.fromEndSegmentLength,e.fromShortLength=t.fromShortLength,e.toSpot=t.toSpot,e.toEndSegmentLength=t.toEndSegmentLength,e.toShortLength=t.toShortLength}},Ir.prototype.doDeactivate=function(){this.isActive=!1;var t=this.diagram;t.remove(this.temporaryLink),t.remove(this.temporaryFromNode),t.remove(this.temporaryToNode),t.isMouseCaptured=!1,t.currentCursor="",this.Jg()},Ir.prototype.doStop=function(){Hr.prototype.doStop.call(this),this.handle=null},Ir.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;this.transactionResult=null;var e=this.originalFromNode,o=this.originalFromPort,a=this.originalToNode,h=this.originalToPort,c=this.originalLink;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var m=this.targetPort.part;m instanceof Fe&&(this.isForwards?(a=m,h=this.targetPort):(e=m,o=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?h=a=null:o=e=null:c=null;null!==c?(this.reconnectLink(c,this.isForwards?a:e,this.isForwards?h:o,this.isForwards),null===this.targetPort&&(this.isForwards?c.defaultToPoint=t.lastInput.documentPoint.copy():c.defaultFromPoint=t.lastInput.documentPoint.copy(),c.Ua()),this.transactionResult=this.name,t.R("LinkRelinked",c,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Oq(this.Hx)}this.stopTool()},Ir.prototype.reconnectLink=function(t,e,o,a){return o=null!==o&&null!==o.portId?o.portId:"",a?(t.toNode=e,t.toPortId=o):(t.fromNode=e,t.fromPortId=o),!0},Ir.prototype.doNoRelink=function(){},B.Object.defineProperties(Ir.prototype,{fromHandleArchetype:{get:function(){return this.T},set:function(t){this.T=t}},toHandleArchetype:{get:function(){return this.en},set:function(t){this.en=t}},handle:{get:function(){return this.I},set:function(t){if(null!==t&&!(t.part instanceof Ci))throw Error("new handle is not in an Adornment: "+t);this.I=t}}}),Ir.className="RelinkingTool",b("linkingTool",function(){return this.findTool("Linking")},function(t){this.Ya("Linking",t,this.mouseMoveTools)}),b("relinkingTool",function(){return this.findTool("Relinking")},function(t){this.Ya("Relinking",t,this.mouseDownTools)}),z(qn,ki),qn.prototype.Zv=function(t){return t&&t.Os&&0!==t.Os.value?t.Os:Ga},qn.prototype.Xm=function(t,e){t.Os=e},qn.prototype.updateAdornments=function(t){if(null!==t&&t instanceof Ce){var e=null;if(t.isSelected&&!this.diagram.isReadOnly){var o=t.path;null!==o&&t.canReshape()&&t.actualBounds.o()&&t.isVisible()&&o.actualBounds.o()&&o.Gf()&&(null===(e=t.wk(this.name))||e.Ex!==t.pointsCount||e.Sx!==t.resegmentable)&&null!==(e=this.makeAdornment(o))&&(e.Ex=t.pointsCount,e.Sx=t.resegmentable,t.Gh(this.name,e))}null===e&&t.Hf(this.name)}},qn.prototype.makeAdornment=function(t){var e=t.part,o=e.pointsCount,a=e.isOrthogonal,h=null;if(null!==e.points&&1<o){(h=new Ci).type=pe.Link,o=e.firstPickIndex;var c=e.lastPickIndex,m=a?1:0;if(e.resegmentable&&e.computeCurve()!==Rr)for(var x=o+m;x<c-m;x++){var S=this.makeResegmentHandle(t,x);null!==S&&(S.segmentIndex=x,S.segmentFraction=.5,S.fromMaxLinks=999,h.add(S))}for(m=o+1;m<c;m++)if(null!==(x=this.makeHandle(t,m))){if(x.segmentIndex=m,m!==o)if(m===o+1&&a){S=e.i(o);var E=e.i(o+1);Zt.A(S.x,E.x)&&Zt.A(S.y,E.y)&&(E=e.i(o-1)),Zt.A(S.x,E.x)?(this.Xm(x,v0),x.cursor="n-resize"):Zt.A(S.y,E.y)&&(this.Xm(x,Ld),x.cursor="w-resize")}else m===c-1&&a?(S=e.i(c-1),E=e.i(c),Zt.A(S.x,E.x)&&Zt.A(S.y,E.y)&&(S=e.i(c+1)),Zt.A(S.x,E.x)?(this.Xm(x,v0),x.cursor="n-resize"):Zt.A(S.y,E.y)&&(this.Xm(x,Ld),x.cursor="w-resize")):m!==c&&(this.Xm(x,v1),x.cursor="move");h.add(x)}h.adornedObject=t}return h},qn.prototype.makeHandle=function(){var t=this.handleArchetype;return null===t?null:t.copy()},qn.prototype.makeResegmentHandle=function(){var t=this.midHandleArchetype;return null===t?null:t.copy()},qn.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowReshape||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},qn.prototype.doActivate=function(){var t=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle){var e=this.handle.part.adornedPart;if(e instanceof Ce){if(this.wu=e,t.isMouseCaptured=!0,this.xa(this.name),e.resegmentable&&999===this.handle.fromMaxLinks){var o=e.points.copy(),a=this.getResegmentingPoint();if(o.wb(this.handle.segmentIndex+1,a),e.isOrthogonal&&o.wb(this.handle.segmentIndex+1,a),e.points=o,e.Lb(),e.updateAdornments(),this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.Ix=e.i(this.handle.segmentIndex),this.Is=e.points.copy(),this.isActive=!0}}},qn.prototype.doDeactivate=function(){this.Jg(),this.wu=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},qn.prototype.doCancel=function(){var t=this.adornedLink;null!==t&&(t.points=this.Is),this.stopTool()},qn.prototype.getResegmentingPoint=function(){return this.handle.da(Xe)},qn.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeReshape(t.lastInput.documentPoint),this.reshape(t))},qn.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.computeReshape(t.lastInput.documentPoint);if(this.reshape(e),null!==(e=this.adornedLink)&&e.resegmentable){var o=this.handle.segmentIndex,a=e.i(o-1),h=e.i(o),c=e.i(o+1);if(e.isOrthogonal){if(o>e.firstPickIndex+1&&o<e.lastPickIndex-1){var m=e.i(o-2);if(Math.abs(a.x-h.x)<this.resegmentingDistance&&Math.abs(a.y-h.y)<this.resegmentingDistance&&(_u(this,m,a,h,c,!0)||_u(this,m,a,h,c,!1))){var x=e.points.copy();_u(this,m,a,h,c,!0)?(x.Pc(o-2,new J(m.x,(c.y+m.y)/2)),x.Pc(o+1,new J(c.x,(c.y+m.y)/2))):(x.Pc(o-2,new J((c.x+m.x)/2,m.y)),x.Pc(o+1,new J((c.x+m.x)/2,c.y))),x.cb(o),x.cb(o-1),e.points=x,e.Lb()}else m=e.i(o+2),Math.abs(h.x-c.x)<this.resegmentingDistance&&Math.abs(h.y-c.y)<this.resegmentingDistance&&(_u(this,a,h,c,m,!0)||_u(this,a,h,c,m,!1))&&(x=e.points.copy(),_u(this,a,h,c,m,!0)?(x.Pc(o-1,new J(a.x,(a.y+m.y)/2)),x.Pc(o+2,new J(m.x,(a.y+m.y)/2))):(x.Pc(o-1,new J((a.x+m.x)/2,a.y)),x.Pc(o+2,new J((a.x+m.x)/2,m.y))),x.cb(o+1),x.cb(o),e.points=x,e.Lb())}}else m=J.alloc(),Zt.Qh(a.x,a.y,c.x,c.y,h.x,h.y,m)&&m.Ie(h)<this.resegmentingDistance*this.resegmentingDistance&&((a=e.points.copy()).cb(o),e.points=a,e.Lb()),J.free(m)}t.Na(),this.transactionResult=this.name,t.R("LinkReshaped",this.adornedLink,this.Is)}this.stopTool()},qn.prototype.reshape=function(t){var e=this.adornedLink;e.Th();var o=this.handle.segmentIndex,a=this.Zv(this.handle);if(e.isOrthogonal)if(o===e.firstPickIndex+1)o=e.firstPickIndex+1,a===v0?(e.L(o,e.i(o-1).x,t.y),e.L(o+1,e.i(o+2).x,t.y)):a===Ld&&(e.L(o,t.x,e.i(o-1).y),e.L(o+1,t.x,e.i(o+2).y));else if(o===e.lastPickIndex-1)o=e.lastPickIndex-1,a===v0?(e.L(o-1,e.i(o-2).x,t.y),e.L(o,e.i(o+1).x,t.y)):a===Ld&&(e.L(o-1,t.x,e.i(o-2).y),e.L(o,t.x,e.i(o+1).y));else{var h=e.i(a=o),c=e.i(a-1),m=e.i(a+1);Zt.A(c.x,h.x)&&Zt.A(h.y,m.y)?(Zt.A(c.x,e.i(a-2).x)&&!Zt.A(c.y,e.i(a-2).y)?(e.m(a,t.x,c.y),o++,a++):e.L(a-1,t.x,c.y),Zt.A(m.y,e.i(a+2).y)&&!Zt.A(m.x,e.i(a+2).x)?e.m(a+1,m.x,t.y):e.L(a+1,m.x,t.y)):Zt.A(c.y,h.y)&&Zt.A(h.x,m.x)?(Zt.A(c.y,e.i(a-2).y)&&!Zt.A(c.x,e.i(a-2).x)?(e.m(a,c.x,t.y),o++,a++):e.L(a-1,c.x,t.y),Zt.A(m.x,e.i(a+2).x)&&!Zt.A(m.y,e.i(a+2).y)?e.m(a+1,t.x,m.y):e.L(a+1,t.x,m.y)):Zt.A(c.x,h.x)&&Zt.A(h.x,m.x)?(Zt.A(c.x,e.i(a-2).x)&&!Zt.A(c.y,e.i(a-2).y)?(e.m(a,t.x,c.y),o++,a++):e.L(a-1,t.x,c.y),Zt.A(m.x,e.i(a+2).x)&&!Zt.A(m.y,e.i(a+2).y)?e.m(a+1,t.x,m.y):e.L(a+1,t.x,m.y)):Zt.A(c.y,h.y)&&Zt.A(h.y,m.y)&&(Zt.A(c.y,e.i(a-2).y)&&!Zt.A(c.x,e.i(a-2).x)?(e.m(a,c.x,t.y),o++,a++):e.L(a-1,c.x,t.y),Zt.A(m.y,e.i(a+2).y)&&!Zt.A(m.x,e.i(a+2).x)?e.m(a+1,m.x,t.y):e.L(a+1,m.x,t.y)),e.L(o,t.x,t.y)}else e.L(o,t.x,t.y),h=e.fromPort,null!==(a=e.fromNode)&&null!==(c=a.findVisibleNode())&&c!==a&&(h=(a=c).port),1===o&&e.computeSpot(!0,h).nc()&&(c=h.da(Xe,J.alloc()),a=e.getLinkPointFromPoint(a,h,c,t,!0,J.alloc()),e.L(0,a.x,a.y),J.free(c),J.free(a)),h=e.toPort,null!==(a=e.toNode)&&null!==(c=a.findVisibleNode())&&c!==a&&(h=(a=c).port),o===e.pointsCount-2&&e.computeSpot(!1,h).nc()&&(o=h.da(Xe,J.alloc()),t=e.getLinkPointFromPoint(a,h,o,t,!1,J.alloc()),e.L(e.pointsCount-1,t.x,t.y),J.free(o),J.free(t));e.xf()},qn.prototype.computeReshape=function(t){var e=this.adornedLink,o=this.handle.segmentIndex;switch(this.Zv(this.handle)){case v1:return t;case v0:return new J(e.i(o).x,t.y);case Ld:return new J(t.x,e.i(o).y);default:return e.i(o)}},B.Object.defineProperties(qn.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},midHandleArchetype:{get:function(){return this.I},set:function(t){this.I=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof Ci))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedLink:{get:function(){return this.wu}},resegmentingDistance:{get:function(){return this.T},set:function(t){this.T=t}},originalPoint:{get:function(){return this.Ix}},originalPoints:{get:function(){return this.Is}}}),qn.prototype.setReshapingBehavior=qn.prototype.Xm,qn.prototype.getReshapingBehavior=qn.prototype.Zv;var Ga=new ct(qn,"None",0),Ld=new ct(qn,"Horizontal",1),v0=new ct(qn,"Vertical",2),v1=new ct(qn,"All",3);function fo(){ki.call(this),this.name="Resizing",this.fg=new fe(1,1).freeze(),this.eg=new fe(9999,9999).freeze(),this.Qg=new fe(NaN,NaN).freeze(),this.I=!1,this.T=!0,this.ie=null;var t=new qe;t.alignmentFocus=Xe,t.figure="Rectangle",t.desiredSize=se,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Hs=new J,this.Gx=new fe,this.qp=new J,this.Nu=new fe(0,0),this.Mu=new fe(1/0,1/0),this.Lu=new fe(1,1)}function Hs(){ki.call(this),this.name="Rotating",this.La=45,this.Ka=2,this.qp=new J,this.ie=null;var t=new qe;t.figure="Ellipse",t.desiredSize=Se,t.fill="lightblue",t.stroke="dodgerblue",t.strokeWidth=1,t.cursor="pointer",this.u=t,this.l=null,this.Fx=0,this.Ps=new J(NaN,NaN),this.I=0,this.T=50}function y0(){ki.call(this),this.name="ClickSelecting"}function bu(){ki.call(this),this.name="Action",this.Xk=null}function df(){ki.call(this),this.name="ClickCreating",this.Aj=null,this.u=!0,this.l=!1,this.xx=new J(0,0)}function ah(){ki.call(this),this.name="DragSelecting",this.pl=175,this.u=!1;var t=new Ye;t.layerName="Tool",t.selectable=!1;var e=new qe;e.name="SHAPE",e.figure="Rectangle",e.fill=null,e.stroke="magenta",t.add(e),this.l=t}function lh(){ki.call(this),this.name="Panning",this.kv=new J,this.kz=new J,this.Pg=!1;var t=this;this.Lx=function(){var e=t.diagram;null!==e&&e.removeEventListener(T.document,"scroll",t.Lx,!1),t.stopTool()}}function Mu(){this.T=this.I=this.l=this.u=null}function Wa(t,e,o){this.text=t,this.by=e,this.visible=o}function Ss(){ki.call(this),this.name="ContextMenu",this.u=this.Cu=this.l=null,this.Cx=new J,this.Du=null,this.Yu=!1;var t=this;this.wv=function(){t.stopTool()}}function J_(t){return t.preventDefault(),!1}function QC(t){var e=t.diagram;if(t.isActive){var o=t.currentContextMenu;if(null!==o){if(!(o instanceof Mu)){var a=e.Vb(e.lastInput.documentPoint,null,null);null!==a&&a.Gg(o)&&t.standardMouseClick(null,null)}t.stopTool(),t.canStart()&&(e.currentTool=t,t.doMouseUp())}}else t.canStart()&&(tS(t,!0),t.isActive||t.stopTool())}function tS(t,e,o){if(void 0===o&&(o=null),!t.Yu&&(t.Yu=!0,e&&t.standardMouseSelect(),e=t.standardMouseClick(),t.Yu=!1,!e)){if(t.isActive=!0,e=pf,null===o&&(o=t.findObjectWithContextMenu()),null!==o){var a=o.contextMenu;null!==a?(t.currentObject=o instanceof Ge?o:null,t.showContextMenu(a,t.currentObject)):null!==e&&t.showContextMenu(e,t.currentObject)}else null!==e&&t.showContextMenu(e,null);t.currentContextMenu instanceof Ci&&!t.currentContextMenu.visible&&t.stopTool()}}qn.className="LinkReshapingTool",qn.None=Ga,qn.Horizontal=Ld,qn.Vertical=v0,qn.All=v1,b("linkReshapingTool",function(){return this.findTool("LinkReshaping")},function(t){this.Ya("LinkReshaping",t,this.mouseDownTools)}),z(fo,ki),fo.prototype.updateAdornments=function(t){if(!(null===t||t instanceof Ce)){if(t.isSelected&&!this.diagram.isReadOnly){var e=t.resizeObject,o=t.wk(this.name);if(null!==e&&t.canResize()&&t.actualBounds.o()&&t.isVisible()&&e.actualBounds.o()&&e.Gf()&&((null===o||o.adornedObject!==e)&&(o=this.makeAdornment(e)),null!==o))return e=e.lj(),dh(t)&&this.updateResizeHandles(o,e),void t.Gh(this.name,o)}t.Hf(this.name)}},fo.prototype.makeAdornment=function(t){var e=t.part.resizeAdornmentTemplate;if(null===e){(e=new Ci).type=pe.Spot,e.locationSpot=Xe;var o=new ao;o.isPanelMain=!0,e.add(o),e.add(this.makeHandle(t,tn)),e.add(this.makeHandle(t,$n)),e.add(this.makeHandle(t,ss)),e.add(this.makeHandle(t,nh)),e.add(this.makeHandle(t,aa)),e.add(this.makeHandle(t,En)),e.add(this.makeHandle(t,la)),e.add(this.makeHandle(t,_r))}else if(Jo(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},fo.prototype.makeHandle=function(t,e){return null===(t=this.handleArchetype)?null:((t=t.copy()).alignment=e,t)},fo.prototype.updateResizeHandles=function(t,e){if(null!==t)if(!t.alignment.Mb()&&("pointer"===t.cursor||0<t.cursor.indexOf("resize")))t:{var o=t.alignment;if(o.nc()&&(o=Xe),0>=o.x)e=0>=o.y?e+225:1<=o.y?e+135:e+180;else if(1<=o.x)0>=o.y?e+=315:1<=o.y&&(e+=45);else if(0>=o.y)e+=270;else{if(!(1<=o.y))break t;e+=90}0>e?e+=360:360<=e&&(e-=360),t.cursor=22.5>e?"e-resize":67.5>e?"se-resize":112.5>e?"s-resize":157.5>e?"sw-resize":202.5>e?"w-resize":247.5>e?"nw-resize":292.5>e?"n-resize":337.5>e?"ne-resize":"e-resize"}else if(t instanceof pe)for(t=t.elements;t.next();)this.updateResizeHandles(t.value,e)},fo.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowResize||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},fo.prototype.doActivate=function(){var t=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(t.isMouseCaptured=!0,t.animationManager.Bc(),this.xa(this.name),this.Hs.set(this.adornedObject.da(this.handle.alignment.mw())),this.qp.set(this.adornedObject.part.location),this.Gx.set(this.adornedObject.desiredSize),this.Lu=this.computeCellSize(),this.Nu=this.computeMinSize(),this.Mu=this.computeMaxSize(),this.isActive=!0))},fo.prototype.doDeactivate=function(){var t=this.diagram;this.Jg(),this.ie=this.handle=null,this.isActive=t.isMouseCaptured=!1},fo.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},fo.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive){var e=this.Nu,o=this.Mu,a=this.Lu,h=this.adornedObject.Mt(t.lastInput.documentPoint,J.alloc()),c=this.computeReshape();e=this.computeResize(h,this.handle.alignment,e,o,a,c),this.resize(e),t.hd(),J.free(h)}},fo.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){var e=this.Nu,o=this.Mu,a=this.Lu,h=this.adornedObject.Mt(t.lastInput.documentPoint,J.alloc()),c=this.computeReshape();e=this.computeResize(h,this.handle.alignment,e,o,a,c),this.resize(e),J.free(h),t.Na(),this.transactionResult=this.name,t.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},fo.prototype.resize=function(t){var e=this.diagram,o=this.adornedObject;if(null!==o){if(o.desiredSize=t.size,(t=o.part).Ta(),o=o.da(this.handle.alignment.mw()),t instanceof Je){var a=new St;if(a.add(t),!this.dragsMembers&&null===t.placeholder){var h=new Yd;h.dragsMembers=!1}e.moveParts(a,this.oppositePoint.copy().ge(o),!0,h)}else t.location=t.location.copy().ge(o).add(this.oppositePoint);e.hd()}},fo.prototype.computeResize=function(t,e,o,a,h,c){e.nc()&&(e=Xe);var m=this.adornedObject.naturalBounds,x=m.x,S=m.y,E=m.x+m.width,P=m.y+m.height,N=1;if(!c){var nt=m.height;0>=(N=m.width)&&(N=1),0>=nt&&(nt=1),N=nt/N}return nt=J.alloc(),Zt.Gq(t.x,t.y,x,S,h.width,h.height,nt),t=m.copy(),0>=e.x?0>=e.y?(t.x=Math.max(nt.x,E-a.width),t.x=Math.min(t.x,E-o.width),t.width=Math.max(E-t.x,o.width),t.y=Math.max(nt.y,P-a.height),t.y=Math.min(t.y,P-o.height),t.height=Math.max(P-t.y,o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(N*t.width,a.height),o.height),t.width=t.height/N):(t.width=Math.max(Math.min(t.height/N,a.width),o.width),t.height=N*t.width),t.x=E-t.width,t.y=P-t.height)):1<=e.y?(t.x=Math.max(nt.x,E-a.width),t.x=Math.min(t.x,E-o.width),t.width=Math.max(E-t.x,o.width),t.height=Math.max(Math.min(nt.y-S,a.height),o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(N*t.width,a.height),o.height),t.width=t.height/N):(t.width=Math.max(Math.min(t.height/N,a.width),o.width),t.height=N*t.width),t.x=E-t.width)):(t.x=Math.max(nt.x,E-a.width),t.x=Math.min(t.x,E-o.width),t.width=E-t.x,c||(t.height=Math.max(Math.min(N*t.width,a.height),o.height),t.width=t.height/N,t.y=S+.5*(P-S-t.height))):1<=e.x?0>=e.y?(t.width=Math.max(Math.min(nt.x-x,a.width),o.width),t.y=Math.max(nt.y,P-a.height),t.y=Math.min(t.y,P-o.height),t.height=Math.max(P-t.y,o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(N*t.width,a.height),o.height),t.width=t.height/N):(t.width=Math.max(Math.min(t.height/N,a.width),o.width),t.height=N*t.width),t.y=P-t.height)):1<=e.y?(t.width=Math.max(Math.min(nt.x-x,a.width),o.width),t.height=Math.max(Math.min(nt.y-S,a.height),o.height),c||(1<=t.height/t.width?(t.height=Math.max(Math.min(N*t.width,a.height),o.height),t.width=t.height/N):(t.width=Math.max(Math.min(t.height/N,a.width),o.width),t.height=N*t.width))):(t.width=Math.max(Math.min(nt.x-x,a.width),o.width),c||(t.height=Math.max(Math.min(N*t.width,a.height),o.height),t.width=t.height/N,t.y=S+.5*(P-S-t.height))):0>=e.y?(t.y=Math.max(nt.y,P-a.height),t.y=Math.min(t.y,P-o.height),t.height=P-t.y,c||(t.width=Math.max(Math.min(t.height/N,a.width),o.width),t.height=N*t.width,t.x=x+.5*(E-x-t.width))):1<=e.y&&(t.height=Math.max(Math.min(nt.y-S,a.height),o.height),c||(t.width=Math.max(Math.min(t.height/N,a.width),o.width),t.height=N*t.width,t.x=x+.5*(E-x-t.width))),J.free(nt),t},fo.prototype.computeReshape=function(){var t=Nn;return this.adornedObject instanceof qe&&(t=X0(this.adornedObject)),!(t===Ro||this.diagram.lastInput.shift)},fo.prototype.computeMinSize=function(){var t=this.adornedObject.minSize.copy(),e=this.minSize;return!isNaN(e.width)&&e.width>t.width&&(t.width=e.width),!isNaN(e.height)&&e.height>t.height&&(t.height=e.height),t},fo.prototype.computeMaxSize=function(){var t=this.adornedObject.maxSize.copy(),e=this.maxSize;return!isNaN(e.width)&&e.width<t.width&&(t.width=e.width),!isNaN(e.height)&&e.height<t.height&&(t.height=e.height),t},fo.prototype.computeCellSize=function(){var t=new fe(NaN,NaN),e=this.adornedObject.part;return null!==e&&(e=e.resizeCellSize,!isNaN(e.width)&&0<e.width&&(t.width=e.width),!isNaN(e.height)&&0<e.height&&(t.height=e.height)),e=this.cellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height),e=this.diagram,(isNaN(t.width)||isNaN(t.height))&&e&&null!==(e=e.grid)&&e.visible&&this.isGridSnapEnabled&&(e=e.gridCellSize,isNaN(t.width)&&!isNaN(e.width)&&0<e.width&&(t.width=e.width),isNaN(t.height)&&!isNaN(e.height)&&0<e.height&&(t.height=e.height)),(isNaN(t.width)||0===t.width||t.width===1/0)&&(t.width=1),(isNaN(t.height)||0===t.height||t.height===1/0)&&(t.height=1),t},B.Object.defineProperties(fo.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof Ci))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ie},set:function(t){if(null!==t&&t.part instanceof Ci)throw Error("new handle must not be in an Adornment: "+t);this.ie=t}},minSize:{get:function(){return this.fg},set:function(t){if(!this.fg.w(t)){var e=t.width;isNaN(e)&&(e=0),t=t.height,isNaN(t)&&(t=0),this.fg.h(e,t)}}},maxSize:{get:function(){return this.eg},set:function(t){if(!this.eg.w(t)){var e=t.width;isNaN(e)&&(e=1/0),t=t.height,isNaN(t)&&(t=1/0),this.eg.h(e,t)}}},cellSize:{get:function(){return this.Qg},set:function(t){this.Qg.w(t)||this.Qg.assign(t)}},isGridSnapEnabled:{get:function(){return this.I},set:function(t){this.I=t}},dragsMembers:{get:function(){return this.T},set:function(t){this.T=t}},oppositePoint:{get:function(){return this.Hs},set:function(t){this.Hs.w(t)||this.Hs.assign(t)}},originalDesiredSize:{get:function(){return this.Gx}},originalLocation:{get:function(){return this.qp}}}),fo.className="ResizingTool",b("resizingTool",function(){return this.findTool("Resizing")},function(t){this.Ya("Resizing",t,this.mouseDownTools)}),z(Hs,ki),Hs.prototype.updateAdornments=function(t){if(null!==t){if(t.Ph()){var e=t.rotateObject;if(e===t||e===t.path||e.isPanelMain)return}if(t.isSelected&&!this.diagram.isReadOnly&&null!==(e=t.rotateObject)&&t.canRotate()&&t.actualBounds.o()&&t.isVisible()&&e.actualBounds.o()&&e.Gf()){var o=t.wk(this.name);if((null===o||o.adornedObject!==e)&&(o=this.makeAdornment(e)),null!==o)return o.angle=e.lj(),null===o.placeholder&&(o.location=this.computeAdornmentLocation(e)),void t.Gh(this.name,o)}t.Hf(this.name)}},Hs.prototype.makeAdornment=function(t){var e=t.part.rotateAdornmentTemplate;if(null===e){(e=new Ci).type=pe.Position,e.locationSpot=Xe;var o=this.handleArchetype;null!==o&&e.add(o.copy())}else if(Jo(e),null===(e=e.copy()))return null;return e.adornedObject=t,e},Hs.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(t.isReadOnly||!t.allowRotate||!t.lastInput.left)&&null!==this.findToolHandleAt(t.firstInput.documentPoint,this.name)},Hs.prototype.doActivate=function(){var t=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(t.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(t.isMouseCaptured=!0,t.delaysLayout=!0,this.xa(this.name),this.Fx=this.adornedObject.angle,this.Ps=this.computeRotationPoint(this.adornedObject),this.qp=this.adornedObject.part.location.copy(),this.isActive=!0)},Hs.prototype.computeRotationPoint=function(t){var e=t.part,o=e.locationObject;return e.rotationSpot.kb()?t.da(e.rotationSpot):t===e||t===o?o.da(e.locationSpot):t.da(Xe)},Hs.prototype.computeAdornmentLocation=function(t){var e=this.rotationPoint;e.o()||(e=this.computeRotationPoint(t)),e=t.Mt(e);var o=this.handleAngle;0>o?o+=360:360<=o&&(o-=360),o=Math.round(45*Math.round(o/45));var a=this.handleDistance;return 0===o?e.x=t.naturalBounds.width+a:45===o?(e.x=t.naturalBounds.width+a,e.y=t.naturalBounds.height+a):90===o?e.y=t.naturalBounds.height+a:135===o?(e.x=-a,e.y=t.naturalBounds.height+a):180===o?e.x=-a:225===o?(e.x=-a,e.y=-a):270===o?e.y=-a:315===o&&(e.x=t.naturalBounds.width+a,e.y=-a),t.da(e)},Hs.prototype.doDeactivate=function(){var t=this.diagram;this.Jg(),this.ie=this.handle=null,this.Ps=new J(NaN,NaN),this.isActive=t.isMouseCaptured=!1},Hs.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},Hs.prototype.doMouseMove=function(){var t=this.diagram;this.isActive&&(t=this.computeRotate(t.lastInput.documentPoint),this.rotate(t))},Hs.prototype.doMouseUp=function(){var t=this.diagram;if(this.isActive){t.delaysLayout=!1;var e=this.computeRotate(t.lastInput.documentPoint);this.rotate(e),t.Na(),this.transactionResult=this.name,t.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},Hs.prototype.rotate=function(t){var e=this.adornedObject;if(null!==e){e.angle=t,(e=e.part).Ta();var o=e.locationObject,a=e.rotateObject;(o===a||o.Gg(a))&&(o=this.qp.copy(),e.location=o.ge(this.rotationPoint).rotate(t-this.originalAngle).add(this.rotationPoint)),this.diagram.hd()}},Hs.prototype.computeRotate=function(t){t=this.rotationPoint.Pa(t)-this.handleAngle;var e=this.adornedObject.panel;null!==e&&(t-=e.lj()),360<=t?t-=360:0>t&&(t+=360),e=Math.min(Math.abs(this.snapAngleMultiple),180);var o=Math.min(Math.abs(this.snapAngleEpsilon),e/2);return!this.diagram.lastInput.shift&&0<e&&0<o&&(t%e<o?t=Math.floor(t/e)*e:t%e>e-o&&(t=(Math.floor(t/e)+1)*e)),360<=t?t-=360:0>t&&(t+=360),t},B.Object.defineProperties(Hs.prototype,{handleArchetype:{get:function(){return this.u},set:function(t){this.u=t}},handle:{get:function(){return this.l},set:function(t){if(null!==t&&!(t.part instanceof Ci))throw Error("new handle is not in an Adornment: "+t);this.l=t}},adornedObject:{get:function(){return this.ie},set:function(t){if(null!==t&&t.part instanceof Ci)throw Error("new handle must not be in an Adornment: "+t);this.ie=t}},snapAngleMultiple:{get:function(){return this.La},set:function(t){this.La=t}},snapAngleEpsilon:{get:function(){return this.Ka},set:function(t){this.Ka=t}},originalAngle:{get:function(){return this.Fx}},rotationPoint:{get:function(){return this.Ps},set:function(t){this.Ps=t.copy()}},handleAngle:{get:function(){return this.I},set:function(t){this.I=t}},handleDistance:{get:function(){return this.T},set:function(t){this.T=t}}}),Hs.className="RotatingTool",b("rotatingTool",function(){return this.findTool("Rotating")},function(t){this.Ya("Rotating",t,this.mouseDownTools)}),z(y0,ki),y0.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},y0.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},y0.className="ClickSelectingTool",z(bu,ki),bu.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram,e=t.lastInput,o=t.Vb(e.documentPoint,function(a){for(;null!==a.panel&&!a.isActionable;)a=a.panel;return a});return!(null===o||!o.isActionable||(this.Xk=o,t.Ej=t.Vb(e.documentPoint,null,null),0))},bu.prototype.doMouseDown=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionDown&&e.actionDown(t,e))}else this.canStart()&&this.doActivate()},bu.prototype.doMouseMove=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionMove&&e.actionMove(t,e))}},bu.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram.lastInput,e=this.Xk;if(null===e)return;t.targetObject=e,null!==e.actionUp&&e.actionUp(t,e),this.standardMouseClick(function(o){for(;null!==o.panel&&(!o.isActionable||o!==e);)o=o.panel;return o},function(o){return o===e})}this.stopTool()},bu.prototype.doCancel=function(){var t=this.diagram.lastInput,e=this.Xk;null!==e&&(t.targetObject=e,null!==e.actionCancel&&e.actionCancel(t,e),this.stopTool())},bu.prototype.doStop=function(){this.Xk=null},bu.className="ActionTool",z(df,ki),df.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===t.lastInput.clickCount&&(this.xx=t.lastInput.viewPoint.copy()),2!==t.lastInput.clickCount||this.isBeyondDragSize(this.xx))return!1}else if(1!==t.lastInput.clickCount)return!1;return!(t.currentTool!==this&&null!==t.zm(t.lastInput.documentPoint,!0))},df.prototype.doMouseUp=function(){this.isActive&&this.insertPart(this.diagram.lastInput.documentPoint),this.stopTool()},df.prototype.insertPart=function(t){var e=this.diagram,o=this.archetypeNodeData;if(null===o)return null;var a=null;try{if(e.R("ChangingSelection",e.selection),this.xa(this.name),o instanceof Ye)o.Nc()&&(Jo(o),null!==(a=o.copy())&&e.add(a));else if(null!==o){var h=e.model.copyNodeData(o);ht(h)&&(e.model.uf(h),a=e.zc(h))}if(null!==a){var c=J.allocAt(t.x,t.y);this.isGridSnapEnabled&&T1(this.diagram,a,t,c),a.location=c,e.allowSelect&&(e.clearSelection(!0),a.isSelected=!0),J.free(c)}e.Na(),this.transactionResult=this.name,e.R("PartCreated",a)}finally{this.Jg(),e.R("ChangedSelection",e.selection)}return a},B.Object.defineProperties(df.prototype,{archetypeNodeData:{get:function(){return this.Aj},set:function(t){this.Aj=t}},isDoubleClick:{get:function(){return this.u},set:function(t){this.u=t}},isGridSnapEnabled:{get:function(){return this.l},set:function(t){this.l=t}}}),df.className="ClickCreatingTool",z(ah,ki),ah.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(!t.allowSelect)return!1;var e=t.lastInput;return!(!e.left||t.currentTool!==this&&(!this.isBeyondDragSize()||e.timestamp-t.firstInput.timestamp<this.delay||null!==t.zm(e.documentPoint,!0)))},ah.prototype.doActivate=function(){var t=this.diagram;this.isActive=!0,t.isMouseCaptured=!0,t.skipsUndoManager=!0,t.add(this.box),this.doMouseMove()},ah.prototype.doDeactivate=function(){var t=this.diagram;t.Jf(),t.remove(this.box),t.skipsUndoManager=!1,this.isActive=t.isMouseCaptured=!1},ah.prototype.doMouseMove=function(){var t=this.diagram;if(this.isActive&&null!==this.box){var e=this.computeBoxBounds(),o=this.box.bb("SHAPE");null===o&&(o=this.box.tb());var a=fe.alloc().h(e.width,e.height);e=J.allocAt(e.x,e.y),o.desiredSize=a,this.box.position=e,fe.free(a),J.free(e),(t.allowHorizontalScroll||t.allowVerticalScroll)&&t.Et(t.lastInput.viewPoint)}},ah.prototype.doMouseUp=function(){if(this.isActive){var t=this.diagram;t.remove(this.box);try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),this.selectInRect(this.computeBoxBounds()),t.R("ChangedSelection",t.selection)}finally{t.currentCursor=""}}this.stopTool()},ah.prototype.computeBoxBounds=function(){var t=this.diagram;return new Lt(t.firstInput.documentPoint,t.lastInput.documentPoint)},ah.prototype.selectInRect=function(t){var e=this.diagram,o=e.lastInput;if(t=e.ty(t,this.isPartialInclusion),U?o.meta:o.control)if(o.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected&&(e.isSelected=!1);else for(t=t.iterator;t.next();)(e=t.value).isSelected=!e.isSelected;else if(o.shift)for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0);else{for(o=new St,e=e.selection.iterator;e.next();){var a=e.value;t.contains(a)||o.add(a)}for(e=o.iterator;e.next();)e.value.isSelected=!1;for(t=t.iterator;t.next();)(e=t.value).isSelected||(e.isSelected=!0)}},B.Object.defineProperties(ah.prototype,{delay:{get:function(){return this.pl},set:function(t){this.pl=t}},isPartialInclusion:{get:function(){return this.u},set:function(t){this.u=t}},box:{get:function(){return this.l},set:function(t){this.l=t}}}),ah.className="DragSelectingTool",z(lh,ki),lh.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(!t.allowHorizontalScroll&&!t.allowVerticalScroll||!t.lastInput.left||t.currentTool!==this&&!this.isBeyondDragSize())},lh.prototype.doActivate=function(){var t=this.diagram;this.Pg?(t.lastInput.bubbles=!0,t.addEventListener(T.document,"scroll",this.Lx,!1)):(t.currentCursor="move",t.isMouseCaptured=!0,this.kv.assign(t.position)),this.isActive=!0},lh.prototype.doDeactivate=function(){var t=this.diagram;t.currentCursor="",this.isActive=t.isMouseCaptured=!1},lh.prototype.doCancel=function(){var t=this.diagram;t.position=this.kv,t.isMouseCaptured=!1,this.stopTool()},lh.prototype.doMouseMove=function(){this.move()},lh.prototype.doMouseUp=function(){this.move(),this.stopTool()},lh.prototype.move=function(){var t=this.diagram;if(this.isActive&&t)if(this.Pg)t.lastInput.bubbles=!0;else{var e=t.position,o=t.firstInput.documentPoint,a=t.lastInput.documentPoint,h=e.x+o.x-a.x;o=e.y+o.y-a.y,t.allowHorizontalScroll||(h=e.x),t.allowVerticalScroll||(o=e.y),t.position=this.kz.h(h,o)}},B.Object.defineProperties(lh.prototype,{bubbles:{get:function(){return this.Pg},set:function(t){this.Pg=t}},originalPosition:{get:function(){return this.kv}}}),lh.className="PanningTool",b("clickCreatingTool",function(){return this.findTool("ClickCreating")},function(t){this.Ya("ClickCreating",t,this.mouseUpTools)}),b("clickSelectingTool",function(){return this.findTool("ClickSelecting")},function(t){this.Ya("ClickSelecting",t,this.mouseUpTools)}),b("panningTool",function(){return this.findTool("Panning")},function(t){this.Ya("Panning",t,this.mouseMoveTools)}),b("dragSelectingTool",function(){return this.findTool("DragSelecting")},function(t){this.Ya("DragSelecting",t,this.mouseMoveTools)}),b("actionTool",function(){return this.findTool("Action")},function(t){this.Ya("Action",t,this.mouseDownTools)}),B.Object.defineProperties(Mu.prototype,{mainElement:{get:function(){return this.I},set:function(t){this.I=t}},show:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},hide:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},valueFunction:{get:function(){return this.T},set:function(t){this.T=t}}}),Mu.className="HTMLInfo",Wa.className="ContextMenuButtonInfo",z(Ss,ki),Ss.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;return!(this.isBeyondDragSize()||!t.lastInput.right||1<t.lastInput.clickCount||!(t.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu()))},Ss.prototype.doStart=function(){this.Cx.set(this.diagram.firstInput.documentPoint)},Ss.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},Ss.prototype.findObjectWithContextMenu=function(t){void 0===t&&(t=null);var e=this.diagram,a=null;if(t instanceof oe||(a=t instanceof Ge?t:e.Vb(e.lastInput.documentPoint,null,function(h){return!h.layer.isTemporary})),null!==a){for(t=a;null!==t;){if(null!==t.contextMenu)return t;t=t.panel}if(e.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return a.part}else if(null!==e.contextMenu)return e;return null},Ss.prototype.doActivate=function(){},Ss.prototype.doMouseDown=function(){if(ki.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof Ci){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doMouseDown(),t.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&QC(this)},Ss.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof Ci){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.canStart()&&(t.doActivate(),t.doCancel(),t.doDeactivate())}QC(this)},Ss.prototype.doMouseMove=function(){var t=this.diagram.toolManager.findTool("Action");null!==t&&t.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},Ss.prototype.showContextMenu=function(t,e){var o=this.diagram;if(t!==this.currentContextMenu&&this.hideContextMenu(),t instanceof Ci){t.layerName="Tool",t.selectable=!1,t.scale=1/o.scale,t.category=this.name,null!==t.placeholder&&(t.placeholder.scale=o.scale);var a=t.diagram;null!==a&&a!==o&&a.remove(t),o.add(t),null!==e?t.adornedObject=e:t.data=o.model,t.Ta(),this.positionContextMenu(t,e)}else t instanceof Mu&&t.show(e,o,this);this.currentContextMenu=t},Ss.prototype.positionContextMenu=function(t){if(null===t.placeholder){var e=this.diagram,o=e.lastInput.documentPoint.copy(),a=t.measuredBounds,h=e.viewportBounds;e.lastInput.isTouchEvent&&(o.x-=a.width),o.x+a.width>h.right&&(o.x-=a.width+5/e.scale),o.x<h.x&&(o.x=h.x),o.y+a.height>h.bottom&&(o.y-=a.height+5/e.scale),o.y<h.y&&(o.y=h.y),t.position=o}},Ss.prototype.hideContextMenu=function(){var t=this.diagram,e=this.currentContextMenu;null!==e&&(e instanceof Ci?(t.remove(e),null!==this.Cu&&this.Cu.Hf(e.category),e.data=null,e.adornedObject=null):e instanceof Mu&&(null!==e.hide?e.hide(t,this):null!==e.mainElement&&(e.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},Ss.prototype.showDefaultContextMenu=function(){var t=this.diagram;null===this.Du&&(this.Du=function(t){var e=new St;return e.add(new Wa("Copy",function(o){o.commandHandler.copySelection()},function(o){return o.commandHandler.canCopySelection()})),e.add(new Wa("Cut",function(o){o.commandHandler.cutSelection()},function(o){return o.commandHandler.canCutSelection()})),e.add(new Wa("Delete",function(o){o.commandHandler.deleteSelection()},function(o){return o.commandHandler.canDeleteSelection()})),e.add(new Wa("Paste",function(o){o.commandHandler.pasteSelection(t.mouseDownPoint)},function(o){return o.commandHandler.canPasteSelection(t.mouseDownPoint)})),e.add(new Wa("Select All",function(o){o.commandHandler.selectAll()},function(o){return o.commandHandler.canSelectAll()})),e.add(new Wa("Undo",function(o){o.commandHandler.undo()},function(o){return o.commandHandler.canUndo()})),e.add(new Wa("Redo",function(o){o.commandHandler.redo()},function(o){return o.commandHandler.canRedo()})),e.add(new Wa("Scroll To Part",function(o){o.commandHandler.scrollToPart()},function(o){return o.commandHandler.canScrollToPart()})),e.add(new Wa("Zoom To Fit",function(o){o.commandHandler.zoomToFit()},function(o){return o.commandHandler.canZoomToFit()})),e.add(new Wa("Reset Zoom",function(o){o.commandHandler.resetZoom()},function(o){return o.commandHandler.canResetZoom()})),e.add(new Wa("Group Selection",function(o){o.commandHandler.groupSelection()},function(o){return o.commandHandler.canGroupSelection()})),e.add(new Wa("Ungroup Selection",function(o){o.commandHandler.ungroupSelection()},function(o){return o.commandHandler.canUngroupSelection()})),e.add(new Wa("Edit Text",function(o){o.commandHandler.editTextBlock()},function(o){return o.commandHandler.canEditTextBlock()})),e}(this)),Tg.innerHTML="",Ag.addEventListener("click",this.wv,!1);var e=this,o=G("ul");o.className="goCXul",Tg.appendChild(o),o.innerHTML="";for(var a=this.Du.iterator;a.next();){var h=a.value,c=h.visible;if("function"==typeof h.by&&("function"!=typeof c||c(t))){(c=G("li")).className="goCXli";var m=G("a");m.className="goCXa",m.href="#",m.dz=h.by,m.addEventListener("click",function(x){return this.dz(t),e.stopTool(),x.preventDefault(),!1},!1),m.textContent=h.text,c.appendChild(m),o.appendChild(c)}}Tg.style.display="block",Ag.style.display="block"},Ss.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===pf){Tg.style.display="none",Ag.style.display="none";var t=this.diagram;null!==t&&t.removeEventListener(Ag,"click",this.wv,!1),this.currentContextMenu=null}},B.Object.defineProperties(Ss.prototype,{currentContextMenu:{get:function(){return this.l},set:function(t){this.l=t,this.Cu=t instanceof Ci?t.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===x0&&null===pf&&Us&&function(t){var e=new Mu;e.show=function(h,c,m){m.showDefaultContextMenu()},e.hide=function(h,c){c.hideDefaultContextMenu()},pf=e,t.wv=function(){t.stopTool()},e=G("div");var o=G("div");e.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",o.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var a=G("style");T.document.getElementsByTagName("head")[0].appendChild(a),a.sheet.insertRule(".goCXul { list-style: none; }",0),a.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),a.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(a=t.diagram)&&(a.addEventListener(e,"contextmenu",J_,!1),a.addEventListener(e,"selectstart",J_,!1),a.addEventListener(o,"contextmenu",J_,!1)),e.className="goCXforeground",o.className="goCXbackground",T.document.body&&(T.document.body.appendChild(e),T.document.body.appendChild(o)),Tg=e,Ag=o,x0=!0}(this),pf},set:function(t){null===t&&(x0=!0),pf=t}},currentObject:{get:function(){return this.u},set:function(t){this.u=t}},mouseDownPoint:{get:function(){return this.Cx}}});var pf=null,x0=!1,Ag=null,Tg=null;function _n(){ki.call(this),this.name="TextEditing",this.zh=new Gi,this.La=null,this.Ka=Ig,this.Wi=null,this.ia=gf,this.I=1,this.T=!0,this.u=null,this.l=new Mu,this.Hu=null,function(t,e){if(Us){var o=G("textarea");t.Hu=o,o.addEventListener("input",function(){if(null!==t.textBlock){var a=t.Jy(this.value);this.style.width=20+a.measuredBounds.width*this.eB+"px",this.rows=a.lineCount}},!1),o.addEventListener("keydown",function(a){if(null!==t.textBlock){var h=a.key;"Enter"===h?(!1===t.textBlock.isMultiline&&a.preventDefault(),t.acceptText(Pg)):"Tab"===h?(t.acceptText(x1),a.preventDefault()):"Escape"===h&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}},!1),o.addEventListener("focus",function(){if(null!==t.currentTextEditor&&t.state!==gf){var a=t.Hu;t.ia===_0&&(t.ia=ca),"function"==typeof a.select&&t.selectsTextOnActivate&&(a.select(),a.setSelectionRange(0,9999))}},!1),o.addEventListener("blur",function(){if(null!==t.currentTextEditor&&t.state!==gf){var a=t.Hu;"function"==typeof a.focus&&a.focus(),"function"==typeof a.select&&t.selectsTextOnActivate&&(a.select(),a.setSelectionRange(0,9999))}},!1),e.valueFunction=function(){return o.value},e.mainElement=o,e.show=function(a,h,c){if(a instanceof Gi&&c instanceof _n)if(c.state===Bd)o.style.border="3px solid red",o.focus();else{var m=a.da(Xe),x=h.position,S=h.scale,E=a.Af()*S;E<c.minimumEditorScale&&(E=c.minimumEditorScale);var P=a.naturalBounds.width*E+6,N=a.naturalBounds.height*E+2,nt=(m.x-x.x)*S;m=(m.y-x.y)*S,o.value=a.text,h.div.style.font=a.font,o.style.position="absolute",o.style.zIndex="100",o.style.font="inherit",o.style.fontSize=100*E+"%",o.style.lineHeight="normal",o.style.width=P+"px",o.style.left=(nt-P/2|0)-1+"px",o.style.top=(m-N/2|0)-1+"px",o.style.textAlign=a.textAlign,o.style.margin="0",o.style.padding="1px",o.style.border="0",o.style.outline="none",o.style.whiteSpace="pre-wrap",o.style.overflow="hidden",o.rows=a.lineCount,o.eB=E,o.className="goTXarea",h.div.appendChild(o),o.focus(),c.selectsTextOnActivate&&(o.select(),o.setSelectionRange(0,9999))}},e.hide=function(a){a.div.removeChild(o)}}}(this,this.l)}function y1(t){var e=t.textBlock,o=t.diagram,a=t.currentTextEditor;if(null!==e&&null!==a){var h=e.text,c="";null!==a.valueFunction&&(c=a.valueFunction()),t.isValidText(e,h,c)?(t.xa(t.name),t.ia=b0,t.transactionResult=t.name,e.text=c,t.doSuccess(h,c),null!==o&&o.R("TextEdited",e,h),t.Jg(),t.stopTool(),null!==o&&o.doFocus()):(t.ia=Bd,t.doError(h,c))}}Ss.className="ContextMenuTool",b("contextMenuTool",function(){return this.findTool("ContextMenu")},function(t){this.Ya("ContextMenu",t,this.mouseUpTools)}),z(_n,ki),_n.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||t.isReadOnly||vf&&vf!==this&&(vf.acceptText(w0),vf&&vf!==this)||!t.lastInput.left||this.isBeyondDragSize())return!1;var e=t.Vb(t.lastInput.documentPoint);return!!(null!==e&&e instanceof Gi&&e.editable&&e.part.canEdit())&&!(null===(e=e.part)||this.starting===Ig&&!e.isSelected||this.starting===tb&&2>t.lastInput.clickCount)},_n.prototype.doStart=function(){vf=this,null!==this.textBlock&&this.doActivate()},_n.prototype.doActivate=function(){if(!this.isActive){var t=this.diagram;if(null!==t){var e=this.textBlock;if(null===e&&(e=t.Vb(t.lastInput.documentPoint)),null!==e&&e instanceof Gi&&(this.textBlock=e,null!==e.part)){this.isActive=!0,this.ia=_0;var o=this.defaultTextEditor;null!==e.textEditor&&(o=e.textEditor),this.zh=this.textBlock.copy();var a=new Lt(this.textBlock.da(tn),this.textBlock.da(ss));t.Aw(a),o.show(e,t,this),this.currentTextEditor=o}}}},_n.prototype.doCancel=function(){this.stopTool()},_n.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},_n.prototype.doMouseDown=function(){this.isActive&&this.acceptText(w0)},_n.prototype.acceptText=function(t){switch(t){case w0:this.ia===b0?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():(this.ia===_0||this.ia===Bd||this.ia===ca)&&(this.ia=Rg,y1(this));break;case er:case Pg:case x1:(Pg!==t||!0!==this.textBlock.isMultiline)&&(this.ia===_0||this.ia===Bd||this.ia===ca)&&(this.ia=Rg,y1(this))}},_n.prototype.doError=function(t,e){var o=this.textBlock;null!==o.errorFunction&&o.errorFunction(this,t,e),(t=this.currentTextEditor)&&t.show(o,this.diagram,this)},_n.prototype.doSuccess=function(t,e){var o=this.textBlock;null!==o.textEdited&&o.textEdited(o,t,e)},_n.prototype.doDeactivate=function(){var t=this.diagram;null!==t&&(this.ia=gf,this.textBlock=null,null!==this.currentTextEditor&&this.currentTextEditor.hide(t,this),this.isActive=!1)},_n.prototype.doStop=function(){vf=null},_n.prototype.isValidText=function(t,e,o){var a=this.textValidation;return!(null!==a&&!a(t,e,o)||null!==(a=t.textValidation)&&!a(t,e,o))},_n.prototype.Jy=function(t){var e=this.zh;return e.text=t,e.measure(this.textBlock.Ei,1/0),e},B.Object.defineProperties(_n.prototype,{textBlock:{get:function(){return this.La},set:function(t){this.La=t}},currentTextEditor:{get:function(){return this.u},set:function(t){this.u=t}},defaultTextEditor:{get:function(){return this.l},set:function(t){this.l=t}},starting:{get:function(){return this.Ka},set:function(t){this.Ka=t}},textValidation:{get:function(){return this.Wi},set:function(t){this.Wi=t}},minimumEditorScale:{get:function(){return this.I},set:function(t){this.I=t}},selectsTextOnActivate:{get:function(){return this.T},set:function(t){this.T=t}},state:{get:function(){return this.ia},set:function(t){this.ia!==t&&(this.ia=t)}}}),_n.prototype.measureTemporaryTextBlock=_n.prototype.Jy;var er=new ct(_n,"LostFocus",0),w0=new ct(_n,"MouseDown",1),x1=new ct(_n,"Tab",2),Pg=new ct(_n,"Enter",3),Q_=new ct(_n,"SingleClick",0),Ig=new ct(_n,"SingleClickSelected",1),tb=new ct(_n,"DoubleClick",2),gf=new ct(_n,"StateNone",0),_0=new ct(_n,"StateActive",1),ca=new ct(_n,"StateEditing",2),Rg=new ct(_n,"StateValidating",3),Bd=new ct(_n,"StateInvalid",4),b0=new ct(_n,"StateValidated",5),vf=null;function Ao(){C0||(yf(),C0=!0),this.B=Gd,this.zl=this.ef=this.sc=this.ps=this.jc=!1,this.Qx=!0,this.Al=jd,this.tn=!1,this.zi=this.md=!0,this.Yg=600,this.ox=this.Px=!1,this.Re=new At,this.Rd=new zr,this.Rd.Uc=this,this.yj=new At,this.tv=new At,this.ot=new At,this.$l=new At}function dc(t,e){Kr(t,e)&&(t.ef=!0)}function Kr(t,e){return!(!t.md||!t.canStart(e))&&(t.Re.add(e),t.defaultAnimation.isAnimating&&t.Bc(),ro(t.B),t.sc=!0)}function Og(t){if(t.md&&t.sc){var e=t.Rd,o=t.B,a=t.Re.contains("Model");a&&(t.zl=!0,t.Al===jd?(e.isViewportUnconstrained=!0,e.lc.clear(),e.add(o,"position",o.position.copy().offset(0,-200),o.position),e.add(o,"opacity",0,1)):t.Al===Su&&e.lc.clear(),t.Qx=!(t.Al!==nb||!o.Ts.w(o.la)),o.R("InitialAnimationStarting",t)),a&&!t.zi||0===e.lc.count?(t.Re.clear(),t.sc=!1,t.ef=!1,e.lc.clear(),Hd(e,o),t.zl=!1,o.M()):(t.Re.clear(),o.Ee=!1,a=e.lc.get(o),o.autoScale!==oo&&null!==a&&(delete a.start.scale,delete a.end.scale),T.requestAnimationFrame(function(){!1===t.sc||e.jc||(o.Ke("temporaryPixelRatio")&&Yo(o),Fg(o),t.sc=!1,t.ef=!1,e.start(),M0(t),o.Na(),ob(e,0),mr(o,!0),Cu(t),o.R("AnimationStarting",t))}))}}function eb(t,e,o,a){t.isTicking||e instanceof Ce&&(null!==e.fromNode||null!==e.toNode)||t.Rd.add(e,"position",o,a,!1)}function M0(t){if(!t.ps){var e=t.B;t.Px=e.skipsUndoManager,t.ox=e.skipsModelSourceBindings,e.skipsUndoManager=!0,e.skipsModelSourceBindings=!0,t.ps=!0}}function Cu(t){var e=t.B;e.skipsUndoManager=t.Px,e.skipsModelSourceBindings=t.ox,t.ps=!1}function Ya(t,e,o){t.ef&&!e.w(o)&&(t.B.pj||(e=o.copy()),mn(t.Rd,t.B,"position",e,o))}function ib(t,e){for(e=e.findLinksConnected();e.next();){var o=e.value;o.jf=o.points.copy(),t.$l.add(o)}}function Vd(t,e,o,a,h){null===t&&(t=[0,0,0,0]),null===e&&(e=[0,0,0,0]);var c=t[0],m=t[1],x=t[2];t=t[3];var S=e[0],E=e[1],P=e[2];return e=e[3],0===x||100===x?(c=S,m=E):(0===P||100===P)&&(S=c,E=m),180<Math.abs(S-c)&&(S>c?c+=360:S+=360),"hsla("+(c=h(o,c,S-c,a)%360)+", "+(m=h(o,m,E-m,a))+"%, "+(x=h(o,x,P-x,a))+"%, "+(o=h(o,t,e-t,a))+")"}function yf(){function t(o,a,h,c,m,x){o.position=new J(c(m,a.x,h.x-a.x,x),c(m,a.y,h.y-a.y,x))}var e=new ot;e.add("position:diagram",t),e.add("position",t),e.add("position:part",function(o,a,h,c,m,x){m<x?o.er(c(m,a.x,h.x-a.x,x),c(m,a.y,h.y-a.y,x),!1):o.position=new J(c(m,a.x,h.x-a.x,x),c(m,a.y,h.y-a.y,x))}),e.add("location",function(o,a,h,c,m,x){m<x?o.er(c(m,a.x,h.x-a.x,x),c(m,a.y,h.y-a.y,x),!0):o.location=new J(c(m,a.x,h.x-a.x,x),c(m,a.y,h.y-a.y,x))}),e.add("position:placeholder",function(o,a,h,c,m,x){m<x?o.er(c(m,a.x,h.x-a.x,x),c(m,a.y,h.y-a.y,x),!1):o.position=new J(c(m,a.x,h.x-a.x,x),c(m,a.y,h.y-a.y,x))}),e.add("position:nodeCollapse",function(o,a,h,c,m,x){var S=o.actualBounds,E=h.actualBounds;h=E.x+E.width/2-S.width/2,S=E.y+E.height/2-S.height/2,m<x?o.er(c(m,a.x,h-a.x,x),c(m,a.y,S-a.y,x),!1):o.position=new J(c(m,a.x,h-a.x,x),c(m,a.y,S-a.y,x))}),e.add("desiredSize",function(o,a,h,c,m,x){o.desiredSize=new Lt(c(m,a.width,h.width-a.width,x),c(m,a.height,h.height-a.height,x))}),e.add("width",function(o,a,h,c,m,x){o.width=c(m,a,h-a,x)}),e.add("height",function(o,a,h,c,m,x){o.height=c(m,a,h-a,x)}),e.add("fill",function(o,a,h,c,m,x){o.fill=Vd(a,h,m,x,c)}),e.add("stroke",function(o,a,h,c,m,x){o.stroke=Vd(a,h,m,x,c)}),e.add("strokeWidth",function(o,a,h,c,m,x){o.strokeWidth=c(m,a,h-a,x)}),e.add("strokeDashOffset",function(o,a,h,c,m,x){o.strokeDashOffset=c(m,a,h-a,x)}),e.add("background",function(o,a,h,c,m,x){o.background=Vd(a,h,m,x,c)}),e.add("areaBackground",function(o,a,h,c,m,x){o.areaBackground=Vd(a,h,m,x,c)}),e.add("opacity",function(o,a,h,c,m,x){o.opacity=c(m,a,h-a,x)}),e.add("scale",function(o,a,h,c,m,x){o.scale=c(m,a,h-a,x)}),e.add("angle",function(o,a,h,c,m,x){o.angle=c(m,a,h-a,x)}),zs=e}_n.className="TextEditingTool",_n.LostFocus=er,_n.MouseDown=w0,_n.Tab=x1,_n.Enter=Pg,_n.SingleClick=Q_,_n.SingleClickSelected=Ig,_n.DoubleClick=tb,_n.StateNone=gf,_n.StateActive=_0,_n.StateEditing=ca,_n.StateValidating=Rg,_n.StateInvalid=Bd,_n.StateValidated=b0,b("textEditingTool",function(){return this.findTool("TextEditing")},function(t){this.Ya("TextEditing",t,this.mouseUpTools)}),Ao.prototype.ee=function(t){this.B=t},Ao.prototype.canStart=function(){return!0},(q=Ao.prototype).cu=function(t){return this.Rd.cu(t)},q.ew=function(t){return this.Rd.ew(t)},q.Bc=function(t){var e=this.Rd;if(!0===this.sc&&(this.zl=this.ef=this.sc=!1,this.Re.clear(),0<e.lc.count&&this.B.Db()),this.jc){if(e.xm(!0),e.lc.clear(),Hd(e,null),!0===t)for(t=this.yj.ma(),e=0;e<t.length;e++)t[e].xm(!0)}else e.lc.clear(),Hd(e,this.B)},q.xm=function(t){t===this.defaultAnimation&&this.defaultAnimation.lc.clear(),this.yj.remove(t),0===this.yj.count&&(this.jc=!1,this.B.Db()),t===this.defaultAnimation&&(this.defaultAnimation.lc.clear(),this.B.R("AnimationFinished",this))},q.lk=function(t,e){this.ef&&(this.Re.contains("Expand Tree")||this.Re.contains("Expand SubGraph"))&&(this.Rd.lk(t,e),ib(this,t))},q.jk=function(t,e){this.ef&&(this.Re.contains("Collapse Tree")||this.Re.contains("Collapse SubGraph"))&&(this.Rd.jk(t,e),mn(this.Rd,e,"position",e.position,e.position),ib(this,t))},B.Object.defineProperties(Ao.prototype,{animationReasons:{get:function(){return this.Re}},isEnabled:{get:function(){return this.md},set:function(t){(this.md=t)&&this.yj.each(function(e){e.isAnimating||e.runCount!==1/0||e.start()})}},duration:{get:function(){return this.Yg},set:function(t){1>t&&Z(t,">= 1",Ao,"duration"),this.Yg=t}},isAnimating:{get:function(){return this.jc}},isTicking:{get:function(){return this.ps}},isInitial:{get:function(){return this.zi},set:function(t){this.zi=t}},defaultAnimation:{get:function(){return this.Rd}},activeAnimations:{get:function(){return this.yj}},initialAnimationStyle:{get:function(){return this.Al},set:function(t){this.Al=t}}}),Ao.prototype.stopAnimation=Ao.prototype.Bc;var zs=null,C0=!1,jd=new ct(Ao,"Default",1),nb=new ct(Ao,"AnimateLocations",2),Su=new ct(Ao,"None",3);function zr(){this.xv=this.Ox=this.Uc=this.B=null,this.Il=this.jc=this.l=!1,this.Zn=this.Dd=0,this.Ir=this.Ku=sb,this.Hl=this.Fp=!1,this.nv=1,this.mv=0,this.vd=this.Yg=NaN,this.tx=0,this.$n=null,this.u=xe,this.lc=new ot,this.iv=new ot,this.qm=new At,this.jv=new At,this.px=Da}function Hd(t,e){if(t.iv.clear(),t.Hl=!1,t.mv=0,t.vd=NaN,0<t.qm.count&&t.qm.clear(),0<t.jv.count&&t.jv.clear(),null!==e)for(t=e.links;t.next();)t.value.jf=null}function mn(t,e,o,a,h,c){var m=t.lc;if(e instanceof oe&&"position"===o&&(o="position:diagram"),("fill"===o||"stroke"===o||"background"===o||"areaBackground"===o)&&(Gh(a),z1(),a=[Zo.l,Zo.I,Zo.u,Zo.T],Gh(h),z1(),h=[Zo.l,Zo.I,Zo.u,Zo.T]),m.contains(e)){var x=m.G(e),S=x.start,E=x.end;void 0===S[o]&&(S[o]=S0(a)),E[o]=S0(h)}else E={},(S={})[o]=S0(a),E[o]=S0(h),x=S.position,e instanceof Ge&&x instanceof J&&!x.o()&&e.diagram.animationManager.Re.contains("Expand SubGraph")&&x.assign(E.position),x=new ab(S,E,c),m.add(e,x);(m=S[o])instanceof J&&!m.o()&&m.assign(t.u),c&&0===o.indexOf("position:")&&e instanceof Ye?x.Qv.location=S0(e.location):c&&(x.Qv[o]=S0(a))}function S0(t){return t instanceof J||t instanceof fe?t.copy():t}function rb(t,e){if(!t.Il||e){var o=t.Uc;if(!1!==t.jc){var a=+new Date,h=a>t.Zn?t.vd:a-t.Dd;e&&((h=t.tx)<t.vd?(t.Dd=+new Date-h,t.Zn=t.Dd+t.vd):h=t.vd),M0(o),ob(t,h),mr(t.B,!0),Cu(o),a>t.Zn&&(t.Fp&&!t.Hl?(t.Dd=+new Date,t.Zn=t.Dd+t.vd,t.Hl=!0):t.xm(!1))}}}function ob(t,e){for(var o=t.vd,a=t.lc.iterator,h=t.Hl;a.next();){var c=a.key;if(!(c instanceof Ge&&null===c.diagram)){var m=a.value,x=h?m.end:m.start;m=h?m.start:m.end;var E,S=zs;for(E in m)"position"===E&&(m["position:placeholder"]||m["position:nodeCollapse"])||null===S.get(E)||S.get(E)(c,x[E],m[E],t.Ir,e,o,t)}}}function sb(t,e,o,a){return 1>(t/=a/2)?o/2*t*t+e:-o/2*(--t*(t-2)-1)+e}function w1(t,e,o,a){return t===a?e+o:o*(1-Math.pow(2,-10*t/a))+e}function ab(t,e,o){this.start=t,this.end=e,this.Qv={},this.Kv=o,this.sw=!1}function Ml(t,e,o){this.pd=null,this.gf=t,this.cq=o||Jn,this.bl=null,void 0!==e&&(this.bl=e,void 0===o&&(this.cq=Zr))}Ao.className="AnimationManager",Ao.defineAnimationEffect=function(t,e){C0||(yf(),C0=!0),zs.add(t,e)},Ao.Default=jd,Ao.AnimateLocations=nb,Ao.None=Su,zr.prototype.suspend=function(){this.Il=!0},zr.prototype.advanceTo=function(t,e){e&&(this.Il=!1),this.Fp&&t>=this.vd&&(this.Hl=!0,t-=this.vd),this.tx=t,rb(this,!0),M0(this.Uc),mr(this.B),Cu(this.Uc),this.B.redraw()},(q=zr.prototype).start=function(){if(0!==this.lc.count&&!this.jc){for(var t=this.B,e=this.lc.iterator;e.next();){var o=e.value.end,a=e.key;if(o["position:placeholder"]){var h=a.findVisibleNode();if(h instanceof Je&&null!==h.placeholder){var c=h.placeholder;(h=c.da(tn)).x+=(c=c.padding).left,h.y+=c.top,o["position:placeholder"]=h}}null===t&&(a instanceof oe?t=a:a instanceof Ge&&(t=a.diagram))}null!==t&&(this.B=t,!1!==(e=this.Uc=t.animationManager).isEnabled&&(this.vd=isNaN(this.Yg)?e.duration:this.Yg,this.Ir=this.Ku,e.zl&&e.Al===jd&&this===e.defaultAnimation&&(this.Ir=w1,this.vd=isNaN(this.Yg)?600===e.duration?900:e.duration:this.Yg),this.px=t.scrollMode,this.isViewportUnconstrained&&(t.Ti=yc),M0(e),this.qm.each(function(m){m.data=null,t.add(m)}),Cu(e),this.jc=!0,this.Dd=+new Date,this.Zn=this.Dd+this.vd,function(t,e){function o(){if(0<h.ot.count&&(a.addAll(h.ot),h.ot.clear(),h.jc=!0),!1!==h.jc&&0!==a.count){h.tv.addAll(a);for(var c=h.tv.iterator;c.next();){var m=c.value;if(!1!==m.jc){t:if(0<m.qm.count)var x=!0;else{for(x=m.lc.iterator;x.next();){var S=x.key;if(S instanceof Ge&&null!==S.diagram||S instanceof oe){x=!0;break t}}x=!1}x?rb(m,!1):m.Il=!0}}h.tv.clear(),M0(h),mr(h.B),Cu(h),T.requestAnimationFrame(o)}}var a=t.yj,h=t;t.jc?t.ot.add(e):(t.jc=!0,a.add(e),T.requestAnimationFrame(function(){o()}))}(e,this)))}},q.sz=function(t,e){t.Nc()&&(this.qm.add(t),this.B=e)},q.add=function(t,e,o,a,h){if("position"!==e||!o.w(a)){if(null===this.B&&(t instanceof oe?this.B=t:t instanceof Ge&&null!==t.diagram&&(this.B=t.diagram)),t instanceof Ye){if(!t.isAnimated)return;"position"===e&&(e="position:part")}mn(this,t,e,o,a,h)}},q.cu=function(t){return!!this.jc&&null!==(t=this.lc.G(t))&&t.sw},q.ew=function(t){return!!this.jc&&null!==(t=this.lc.G(t))&&(t.start.position||t.start.location)},q.stop=function(){this.jc&&this.xm(!0)},q.xm=function(t){if(null!==this.xv&&this.xv.Mp.remove(this.Ox),this.jc){var e=this.B,o=this.Uc;this.Il=this.jc=o.zl=!1,M0(o);for(var a=this.lc,h=this.qm.iterator;h.next();)e.remove(h.value);for(h=this.jv.iterator;h.next();)h.value.s();h=this.Fp,a=a.iterator;for(var c=zs;a.next();){var N,m=a.key,x=a.value,S=h?x.end:x.start,E=h?x.start:x.end,P=x.Qv;for(N in E)if(null!==c.get(N)){var nt=N;!x.Kv||"position:nodeCollapse"!==nt&&"position:placeholder"!==nt||(nt="position"),c.get(nt)(m,S[N],void 0!==P[N]?P[N]:x.Kv?S[N]:E[N],this.Ir,this.vd,this.vd,this)}x.Kv&&void 0!==P.location&&m instanceof Ye&&(m.location=P.location),x.sw&&m instanceof Ye&&m.Ob(!1)}if(e.Yt.clear(),Cl(e,!1),e.Na(),e.M(),mr(e,!0),o.defaultAnimation===this){for(N=o.$l.iterator;N.next();)null!==(h=N.value).jf&&(h.points=h.jf,h.jf=null);o.$l.clear()}this.isViewportUnconstrained&&(e.scrollMode=this.px),Cu(o),this.mv++,!t&&this.nv>this.mv?(this.Hl=!1,this.start()):(this.$n&&this.$n(this),Hd(this,null),o.xm(this),e.Db())}},q.lk=function(t,e){var o=e.actualBounds,a=null;if(e instanceof Je&&(a=e.placeholder),null!==a?((o=a.da(tn)).x+=(a=a.padding).left,o.y+=a.top,this.add(t,"position",o,t.position,!1)):this.add(t,"position",new J(o.x+o.width/2,o.y+o.height/2),t.position,!1),this.add(t,"scale",.01,t.scale,!1),t instanceof Je)for(t=t.memberParts;t.next();)(a=t.value)instanceof Fe&&this.lk(a,e)},q.jk=function(t,e){if(t.isVisible()){var o=null;if(e instanceof Je&&(o=e.placeholder),null!==o?this.add(t,"position:placeholder",t.position,o,!0):this.add(t,"position:nodeCollapse",t.position,e,!0),this.add(t,"scale",t.scale,.01,!0),(o=this.lc).contains(t)&&(o.G(t).sw=!0),t instanceof Je)for(t=t.memberParts;t.next();)(o=t.value)instanceof Fe&&this.jk(o,e)}},q.pA=function(t){var e=this.iv.get(t);return null===e&&this.iv.add(t,e={}),e},B.Object.defineProperties(zr.prototype,{duration:{get:function(){return this.Yg},set:function(t){1>t&&Z(t,">= 1",zr,"duration"),this.Yg=t}},reversible:{get:function(){return this.Fp},set:function(t){this.Fp=t}},runCount:{get:function(){return this.nv},set:function(t){0<t?this.nv=t:R("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.$n},set:function(t){this.$n!==t&&(this.$n=t)}},easing:{get:function(){return this.Ku},set:function(t){this.Ku=t}},isViewportUnconstrained:{get:function(){return this.l},set:function(t){this.l=t}},isAnimating:{get:function(){return this.jc}}}),zr.prototype.getTemporaryState=zr.prototype.pA,zr.prototype.stop=zr.prototype.stop,zr.prototype.add=zr.prototype.add,zr.prototype.addTemporaryPart=zr.prototype.sz,zr.className="Animation",zr.EaseLinear=function(t,e,o,a){return o*t/a+e},zr.EaseInOutQuad=sb,zr.EaseInQuad=function(t,e,o,a){return o*(t/=a)*t+e},zr.EaseOutQuad=function(t,e,o,a){return-o*(t/=a)*(t-2)+e},zr.EaseInExpo=function(t,e,o,a){return 0===t?e:o*Math.pow(2,10*(t/a-1))+e},zr.EaseOutExpo=w1,ab.className="AnimationState",Ml.prototype.copy=function(){var t=new Ml(this.gf);t.cq=this.cq;var e=this.bl;if(null!==e){var o={};void 0!==e.duration&&(o.ny=e.duration),void 0!==e.finished&&(o.ny=e.finished),void 0!==e.easing&&(o.ny=e.easing),t.bl=o}return t},B.Object.defineProperties(Ml.prototype,{propertyName:{get:function(){return this.gf},set:function(t){this.gf=t}},animationSettings:{get:function(){return this.bl},set:function(t){this.bl=t}},startCondition:{get:function(){return this.cq},set:function(t){this.cq=t}}});var Jn=new ct(Ml,"Default",1),Zr=new ct(Ml,"Immediate",2),Po=new ct(Ml,"Bundled",3);function Ur(){Kt(this),this.B=null,this.Fa=new St,this.oa="",this.hb=1,this.u=!1,this.l=this.Pi=this.I=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.ki=this.bi=this.ji=this.ai=this.$h=!0,this.rp=[]}function Oh(t,e){var o=1;return 1!==t.hb&&(e.globalAlpha=(o=e.globalAlpha)*t.hb),o}function $a(t,e,o){if(e=function(t,e,o){var a=o.zOrder;if(isNaN(a))return e;var h=(t=t.Fa).count;if(1>=h)return e;if(0>e&&(e=t.indexOf(o)),0>e)return-1;for(var c=e-1,m=NaN;0<=c&&(m=t.J(c).zOrder,isNaN(m));)c--;for(var x=e+1,S=NaN;x<h&&(S=t.J(x).zOrder,isNaN(S));)x++;if(!isNaN(m)&&m>a)for(;;){if(-1===c||m<=a){if(++c===e)break;return t.cb(e),t.wb(c,o),c}for(m=NaN;0<=--c&&(m=t.J(c).zOrder,isNaN(m)););}else if(!isNaN(S)&&S<a)for(;;){if(x===h||S>=a){if(--x===e)break;return t.cb(e),t.wb(x,o),x}for(S=NaN;++x<h&&(S=t.J(x).zOrder,isNaN(S)););}return e}(t,e,o),o instanceof Je&&null!==o&&isNaN(o.zOrder)){if(0!==o.memberParts.count){for(var a=-1,h=t.Fa.j,c=h.length,m=0;m<c;m++){var x=h[m];if(x===o&&(e=m,0<=a)||0>a&&x.containingGroup===o&&(a=m,0<=e))break}!(0>a)&&a<e&&((h=t.Fa).cb(e),h.wb(a,o))}null!==(o=o.containingGroup)&&$a(t,-1,o)}}function oe(t){if(1<arguments.length&&R("Diagram constructor can only take one optional argument, the DIV HTML element or its id."),aS||(lS(),aS=!0),Kt(this),Gd=this,this.Sb=!0,this.Uc=new Ao,this.Uc.ee(this),this.rb=17,this.Gl=this.pv=!1,this.Ss="default",this.Da=null,Us){var e=this,o=function(){e.removeEventListener(T.document,"DOMContentLoaded",o,!1),e.setRTL()};null!==T.document.body?this.setRTL():e.addEventListener(T.document,"DOMContentLoaded",o,!1)}this.Ma=new St,this.ua=this.va=0,this.Zl=this.ya=null,this.Kx=new ot,this.hf=this.Gb=null,this.xw(),this.Nj=null,this.ww(),this.hb=1,this.la=new J(NaN,NaN).freeze(),this.Ts=new J(NaN,NaN),this.Qn=this.Aa=1,this.es=new J(NaN,NaN).freeze(),this.fs=NaN,this.xs=1e-4,this.vs=100,this.sb=new di,this.xt=new J(NaN,NaN).freeze(),this.Zr=new Lt(NaN,NaN,NaN,NaN).freeze(),this.Si=new oi(0,0,0,0).freeze(),this.Ti=Da,this.at=!1,this.Us=this.Ns=null,this.Og=oo,this.Dj=eo,this.Yf=oo,this.to=eo,this.gs=this.ds=tn,this.Dc=!0,this.El=!1,this.wd=new At,this.Vg=new ot,this.rl=!0,this.qn=250,this.Bj=-1,this.sn=new oi(16,16,16,16).freeze(),this.Hj=this.Ee=!1,this.Kj=!0,this.Wf=new io,this.Wf.diagram=this,this.od=new io,this.od.diagram=this,this.hh=new io,this.hh.diagram=this,this.we=this.Of=null,this.hk=!1,this.Pr=this.Qr=null,this.zj=T.PointerEvent&&(f||C||K)&&T.navigator&&!1!==T.navigator.msPointerEnabled,I0(this),this.Dh=new At,this.qs=!0,this.rt=Za,this.Uu=!1,this.tt=B0,this.La=null,F0.add("Model",Ri),this.Jr=this.Mr=this.pt=null,this.Pn=this.Hr="auto",this.gg=this.As=this.ig=this.jg=this.lg=this.Qf=this.Uf=this.Pf=null,this.cs=!1,this.Rf=this.wg=this.kg=this.hg=null,this.Bs=!1,this.Ls={},this.bk=[null,null],this.Br=null,this.Nr=this.gt=this.rv=this.vg=!1,this.av=!0,this.yi=this.ac=!1,this.cc=null;var a=this;this.Cc=function(h){var c=a.partManager;if(h.model===c.diagram.model&&c.diagram.Z){c.diagram.Z=!1;try{""===h.modelChange&&h.change===pn&&c.updateDataBindings(h.object,h.propertyName)}finally{c.diagram.Z=!0}}},this.Tc=function(h){a.partManager.doModelChanged(h)},this.zv=!0,this.Xd=-2,this.pg=new ot,this.Wl=new St,this.$f=!1,this.ai=this.$h=this.nr=this.md=!0,this.pr=!1,this.vr=this.tr=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.sr=this.ki=this.bi=this.ji=this.qr=!0,this.Zf=this.Xu=!1,this.ur=this.rr=this.wl=this.vl=!0,this.$s=this.Ws=16,this.Vs=this.Op=!1,this.Pp=this.Ys=null,this.Xs=this.Zs=0,this.ib=new oi(5).freeze(),this.qv=(new At).freeze(),this.ws=999999999,this.Su=(new At).freeze(),this.xi=this.wi=this.vi=!0,this.Ye=this.pe=!1,this.kc=null,this.Ng=!0,this.qe=!1,this.Ax=new At,this.Tu=new At,this.Gc=null,this.Vl=1,this.sv=0,this.Ic={scale:1,position:new J,bounds:new Lt,Gv:new fe,kw:new fe,hw:!1},this.Rx=new Lt(NaN,NaN,NaN,NaN).freeze(),this.sm=new fe(NaN,NaN).freeze(),this.Rn=new Lt(NaN,NaN,NaN,NaN).freeze(),this.rs=!1,this.Lo=this.qo=this.kp=this.Fu=this.Eu=this.Gu=this.bg=this.fh=this.df=this.Tr=null,D0(this),this.Ib=null,this.po=!1,this.Ej=null,this.partManager=new Ri,this.toolManager=new An,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Sr=null,this.kl=new Yd,this.Gs=this.Fs=null,this.fq=!1,this.commandHandler=b1(),this.model=Jv(),this.vg=!0,xf(this),this.layout=new Ai,this.vg=!1,this.ux=this.Ju=null,this.Tb=1,this.yh=null,this.Xo=1,this.cp=0,this.hv=[0,0,0,0,0],this.ep=0,this.xd=1,this.Sj=0,this.Go=new J,this.qt=500,this.rn=new J,this.re=!1,this.Qk=this.Rk=this.Pk=this.Ok=this.Jk=this.Lk=this.Kk=this.Hk=this.Ik=this.Ww=this.Mw=this.Nw=this.Ow=null,this.Yq=function(){},this.preventDefault=null,this.wo=!1,this.ui=new ui,this.gq=!1,void 0!==t&&gb(this,t),this.ao=null,this.bo=Di,this.Sb=!1}function iS(t,e){t.animationManager.Bc(!0),t.qv=(new At).freeze(),t.Su=(new At).freeze();var o=t.skipsUndoManager;null!==t.model&&(t.skipsUndoManager=!0);var a=null;null!==t.Ib&&null!==(a=t.Ib.part)&&t.remove(a);var h=[],c=t.Ma.length;if(e){for(e=0;e<c;e++)for(var m=t.Ma.j[e].parts;m.next();){var x=m.value;x!==a&&null===x.data&&h.push(x)}for(e=0;e<h.length;e++)t.remove(h[e])}for(e=0;e<c;e++)t.Ma.j[e].clear();return t.partManager.clear(),t.wd.clear(),t.Vg.clear(),t.Dh.clear(),t.Ej=null,t.Wl.clear(),hp(),t.pg.clear(),st=[],null!==a&&(t.add(a),t.partManager.parts.remove(a)),null!==t.model&&(t.skipsUndoManager=o),h}function b1(){return null}function D0(t){t.df=new ot;var e=new Fe,o=new Gi;o.bind(new Wn("text","",g)),e.add(o),t.Gu=e,t.df.add("",e),e=new Fe,(o=new Gi).stroke="brown",o.bind(new Wn("text","",g)),e.add(o),t.df.add("Comment",e),(e=new Fe).selectable=!1,e.avoidable=!1,(o=new qe).figure="Ellipse",o.fill="black",o.stroke=null,o.desiredSize=new fe(3,3).ca(),e.add(o),t.df.add("LinkLabel",e),t.fh=new ot,(e=new Je).selectionObjectName="GROUPPANEL",e.type=pe.Vertical,(o=new Gi).font="bold 12pt sans-serif",o.bind(new Wn("text","",g)),e.add(o),(o=new pe(pe.Auto)).name="GROUPPANEL";var a=new qe;a.figure="Rectangle",a.fill="rgba(128,128,128,0.2)",a.stroke="black",o.add(a),(a=new ao).padding=new oi(5,5,5,5).ca(),o.add(a),e.add(o),t.Eu=e,t.fh.add("",e),t.bg=new ot,e=new Ce,(o=new qe).isPanelMain=!0,e.add(o),(o=new qe).toArrow="Standard",o.fill="black",o.stroke=null,o.strokeWidth=0,e.add(o),t.Fu=e,t.bg.add("",e),e=new Ce,(o=new qe).isPanelMain=!0,o.stroke="brown",e.add(o),t.bg.add("Comment",e),(e=new Ci).type=pe.Auto,(o=new qe).fill=null,o.stroke="dodgerblue",o.strokeWidth=3,e.add(o),(o=new ao).margin=new oi(1.5,1.5,1.5,1.5).ca(),e.add(o),t.kp=e,t.qo=e,(e=new Ci).type=pe.Link,(o=new qe).isPanelMain=!0,o.fill=null,o.stroke="dodgerblue",o.strokeWidth=3,e.add(o),t.Lo=e}function Yo(t){30<t.cp&&(t.yh=1)}function Cl(t,e){null!==t.yh&&(t.yh=null,e&&t.Yq(),ut&&ut.my||(t.cp=0,t.hv=[0,0,0,0,0],t.ep=0))}function Fg(t){if(null!==t.ya){var e=t.Da;if(0!==e.clientWidth&&0!==e.clientHeight){t.pv||t.setScrollWidth();var o=t.Ye?t.rb:0,a=t.pe?t.rb:0,h=t.Tb;t.Tb=t.computePixelRatio(),t.Tb!==h&&(t.El=!0,t.Db()),(e.clientWidth!==t.va+o||e.clientHeight!==t.ua+a)&&(t.wi=!0,t.Dc=!0,null!==(e=t.layout)&&e.isViewportSized&&t.autoScale===oo&&(t.Hj=!0,e.C()),t.ac||t.Db())}}}function xf(t){var e=new Ur;e.name="Background",t.um(e),(e=new Ur).name="",t.um(e),(e=new Ur).name="Foreground",t.um(e),(e=new Ur).name="Adornment",e.isTemporary=!0,e.isInDocumentBounds=!1,t.um(e),(e=new Ur).name="Tool",e.isTemporary=!0,e.isInDocumentBounds=!0,t.um(e),(e=new Ur).name="Grid",e.allowSelect=!1,e.pickable=!1,e.isTemporary=!0,e.isInDocumentBounds=!1,t.Ux(e,t.xk("Background"))}function Nh(t){t.Ib=new pe(pe.Grid),t.Ib.name="GRID";var e=new qe;e.figure="LineH",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Ib.add(e),(e=new qe).figure="LineH",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Ib.add(e),(e=new qe).figure="LineH",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Ib.add(e),(e=new qe).figure="LineV",e.stroke="lightgray",e.strokeWidth=.5,e.interval=1,t.Ib.add(e),(e=new qe).figure="LineV",e.stroke="gray",e.strokeWidth=.5,e.interval=5,t.Ib.add(e),(e=new qe).figure="LineV",e.stroke="gray",e.strokeWidth=1,e.interval=10,t.Ib.add(e),(e=new Ye).add(t.Ib),e.layerName="Grid",e.zOrder=0,e.isInDocumentBounds=!1,e.isAnimated=!1,e.pickable=!1,e.locationObjectName="GRID",t.add(e),t.partManager.parts.remove(e),t.Ib.visible=!1}function nS(){this.B.Vs?this.B.Vs=!1:this.B.isEnabled?this.B.iy(this):jg(this.B)}function M1(t){this.B.isEnabled?(this.B.Zs=t.target.scrollTop,this.B.Xs=t.target.scrollLeft):jg(this.B)}function lb(t){if(t.fixedBounds.o()){var e=t.fixedBounds.copy();return e.uq(t.ib),e}for(var o=!0,a=t.Ma.j,h=a.length,c=0;c<h;c++){var m=a[c];if(m.visible&&m.isInDocumentBounds)for(var x=(m=m.Fa.j).length,S=0;S<x;S++){var E=m[S];E.isInDocumentBounds&&E.isVisible()&&(E=E.actualBounds).o()&&(o?(o=!1,e=E.copy()):e.Rc(E))}}return o&&(e=new Lt(0,0,0,0)),e.uq(t.ib),e}function Sa(t,e){if((e||t.qe)&&!t.Sb&&null!==t.ya&&t.documentBounds.o()){if(e){var o=t.initialPosition;if(o.o())return void(t.position=o);(o=J.alloc()).tj(t.documentBounds,t.initialDocumentSpot);var a=t.viewportBounds;a=Lt.allocAt(0,0,a.width,a.height);var h=J.alloc();h.tj(a,t.initialViewportSpot),h.h(o.x-h.x,o.y-h.y),t.position=h,Lt.free(a),J.free(h),J.free(o)}t.Sb=!0,o=t.Og,e&&t.Yf!==oo&&(o=t.Yf),a=o!==oo?pc(t,o):t.scale,o=t.viewportBounds.copy(),h=t.va/a;var c=t.ua/a,m=t.Dj,x=t.to;e&&!m.kb()&&(x.kb()||x.Mb())&&(m=x.Mb()?Xe:x),E0(t,t.documentBounds,h,c,m,e),e=t.scale,t.scale=a,t.Sb=!1,(a=t.viewportBounds).Qa(o)||t.onViewportBoundsChanged(o,a,e,!1),Sl(t),Ka(t,!0,!1)}}function pc(t,e){var o=t.Qn;if(null===t.ya)return o;t.Ta();var a=t.documentBounds;if(!a.o())return o;var h=a.width,c=t.va+(t.Ye?t.rb:0),m=t.ua+(t.pe?t.rb:0),x=c/h,S=m/(a=a.height);return e===Fh?((e=Math.min(S,x))>o&&(e=o),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):e===$g?((e=S>x?(m-t.rb)/a:(c-t.rb)/h)>o&&(e=o),e<t.minScale&&(e=t.minScale),e>t.maxScale&&(e=t.maxScale),e):t.scale}function E0(t,e,o,a,h,c){var m=J.allocAt(t.la.x,t.la.y),x=m.x,S=m.y;if(null!==t.ao){var E=J.alloc();x=(E=t.ao.da(tn,E)).x-t.bo.x/t.scale,S=E.y-t.bo.y/t.scale,h=yi,J.free(E)}(c||t.scrollMode===Da)&&(h.kb()&&(o>e.width&&(x=e.x+(h.x*e.width+h.offsetX)-(h.x*o-h.offsetX)),a>e.height&&(S=e.y+(h.y*e.height+h.offsetY)-(h.y*a-h.offsetY))),c=o-e.width,o<e.width+(h=t.Si).left+h.right?(x=Math.min(x+o/2,e.right+Math.max(c,h.right)-o/2),x=Math.max(x,e.left-Math.max(c,h.left)+o/2),x-=o/2):x>e.left?x=e.left:x<e.right-o&&(x=e.right-o),o=a-e.height,a<e.height+h.top+h.bottom?(S=Math.min(S+a/2,e.bottom+Math.max(o,h.bottom)-a/2),S=Math.max(S,e.top-Math.max(o,h.top)+a/2),S-=a/2):S>e.top?S=e.top:S<e.bottom-a&&(S=e.bottom-a)),m.x=isFinite(x)?x:-t.ib.left,m.y=isFinite(S)?S:-t.ib.top,null!==t.positionComputation&&(e=t.positionComputation(t,m),m.x=e.x,m.y=e.y),t.Uc.sc&&Ya(t.Uc,t.la,m),t.la.h(m.x,m.y),J.free(m)}function Lg(t,e,o,a){for(void 0===o&&(o=null),void 0===a&&(a=null),ro(t),t=t.Ma.iteratorBackwards;t.next();){var h=t.value;if(h.visible&&!h.isTemporary&&null!==(h=h.Vb(e,o,a)))return h}return null}function Xa(t,e,o){var a=t.od;return t.od=t.hh,t.hh=a,a.diagram=t,a.event=e,o?_f(t,e,a):(a.viewPoint=t.od.viewPoint,a.documentPoint=t.od.documentPoint),t=0,e.ctrlKey&&(t+=1),e.altKey&&(t+=2),e.shiftKey&&(t+=4),e.metaKey&&(t+=8),a.modifiers=t,a.button=e.button,void 0===e.buttons||_||(a.buttons=e.buttons),U&&0===e.button&&e.ctrlKey&&(a.button=2),a.down=!1,a.up=!1,a.clickCount=1,a.delta=0,a.handled=!1,a.bubbles=!1,a.timestamp=e.timeStamp,a.isMultiTouch=!1,a.targetDiagram=wf(e),a.targetObject=null,a}function wf(t){var e=t.target.B;if(!e){var o=t.path;o||"function"!=typeof t.composedPath||(o=t.composedPath()),o&&o[0]&&(e=o[0].B)}return e||null}function S1(t,e,o,a){var h=k0(t,e,!0,!1,!0,a);return _f(t,o,h),h.targetDiagram=wf(e),h.targetObject=null,a||h.clone(t.Wf),h}function D1(t,e,o,a){if(a=k0(t,e,!1,!1,!1,a),null!==o){var h=T.document.elementFromPoint(o.clientX,o.clientY);null!==h&&null!=h.shadowRoot&&(h=h.shadowRoot.elementFromPoint(o.clientX,o.clientY)),h&&h.B?(e=o,o=h.B):(e=void 0!==e.targetTouches?e.targetTouches[0]:e,o=t),a.targetDiagram=o,_f(t,e,a)}else null!==t.od?(a.documentPoint=t.od.documentPoint,a.viewPoint=t.od.viewPoint,a.targetDiagram=t.od.targetDiagram):null!==t.Wf&&(a.documentPoint=t.Wf.documentPoint,a.viewPoint=t.Wf.viewPoint,a.targetDiagram=t.Wf.targetDiagram);return a.targetObject=null,a}function k0(t,e,o,a,h,c){var m=t.od;t.od=t.hh,t.hh=m,m.diagram=t,m.clickCount=1;var x=m.delta=0;return e.ctrlKey&&(x+=1),e.altKey&&(x+=2),e.shiftKey&&(x+=4),e.metaKey&&(x+=8),m.modifiers=x,m.button=0,m.buttons=1,m.event=e,m.timestamp=e.timeStamp,t.zj&&e instanceof T.PointerEvent&&"touch"!==e.pointerType&&(m.button=e.button,void 0===e.buttons||_||(m.buttons=e.buttons),U&&0===e.button&&e.ctrlKey&&(m.button=2)),m.down=o,m.up=a,m.handled=!1,m.bubbles=h,m.isMultiTouch=c,m}function Ds(t,e){return!!t.bubbles||(void 0!==e.stopPropagation&&e.stopPropagation(),!1!==e.cancelable&&e.preventDefault(),e.cancelBubble=!0,!1)}function _f(t,e,o){var a=t.ya,h=t.va,c=t.ua,m=0,x=0;null!==a&&(a=a.getBoundingClientRect(),m=e.clientX-h/a.width*a.left,x=e.clientY-c/a.height*a.top),o.viewPoint.h(m,x),null!==t.sb?(e=J.allocAt(m,x),t.sb.Jd(e),o.documentPoint.assign(e),J.free(e)):o.documentPoint.h(m,x)}function ub(t,e,o,a){if(void 0!==e.targetTouches){if(2>e.targetTouches.length)return;e=e.targetTouches[o]}else{if(null===t.bk[0])return;e=t.bk[o]}null!==(o=t.ya)&&(o=o.getBoundingClientRect(),a.h(e.clientX-t.va/o.width*o.left,e.clientY-t.ua/o.height*o.top))}function Ka(t,e,o){t.animationManager.defaultAnimation.isAnimating||t.Sb||!t.wi||jg(t)||(e&&ro(t),o&&Sa(t,!1))}function mr(t,e){if(!t.ac&&(t.Ee=!1,null!==t.Da||t.sm.o())){t.ac=!0;var o=t.animationManager,a=t.Wl;if(!o.isAnimating&&0!==a.length){for(var h=a.j,c=h.length,m=0;m<c;m++){var x=h[m];Xo(x,!1),x.s()}a.clear()}0<(a=t.Tu).count&&(a.each(function(S){S.Vw()}),a.clear()),h=a=!1,o.defaultAnimation.isAnimating&&(h=!0,a=t.skipsUndoManager,t.skipsUndoManager=!0),o.sc||Fg(t),Ka(t,!1,!0),null!==t.Ib&&(t.Ib.visible&&!t.po&&(Du(t),t.po=!0),!t.Ib.visible&&t.po&&(t.po=!1)),ro(t),c=!1,(!t.qe||t.Ng)&&(t.qe?vc(t,!t.Hj):(t.xa("Initial Layout"),!1===o.isEnabled&&o.Bc(),vc(t,!1)),c=!0),t.Hj=!1,ro(t),t.gt||function(t){t.ac||ro(t),t.Ta()}(t),Ka(t,!0,!1),m=!1,c?((o=Lt.alloc()).assign(t.viewportBounds),t.qe||(m=t.qe=!0,t.skipsUndoManager||(t.undoManager.isPendingClear=!0),t.undoManager.isPendingUnmodified=!0,function(t){var e=t.Aa;if(t.Yf!==oo)t.scale=pc(t,t.Yf);else if(t.Og!==oo)t.scale=pc(t,t.Og);else{var o=t.initialScale;isFinite(o)&&0<o&&(t.scale=o)}t.Aa!==e&&(Sl(t),Ka(t,!0,!1)),Sa(t,!0),t.Nd(e=t.Ma.j,e.length,t),t.R("InitialLayoutCompleted"),t.Ts.assign(t.la),Du(t)}(t)),t.R("LayoutCompleted"),o.w(t.viewportBounds)||Ka(t,!0,!1),Lt.free(o)):o.zl&&o.Qx&&(t.Yf!==oo?t.scale=pc(t,t.Yf):t.Og!==oo?t.scale=pc(t,t.Og):(o=t.initialScale,isFinite(o)&&0<o&&(t.scale=o)),Sa(t,!0)),ro(t),c&&m&&t.Xa("Initial Layout"),t.Hv(),e||t.mc(t.Gb),h&&(t.skipsUndoManager=a),t.ac=!1}}function ro(t){if((t.ac||!t.animationManager.isTicking)&&0!==t.wd.count){for(var e=0;23>e;e++){var o=t.wd.iterator;if(null===o||0===t.wd.count)break;t.wd=new At,t.Vw(o,t.wd)}t.nodes.each(function(a){a instanceof Je&&0!=(65536&a.P)&&(a.P=65536^a.P)})}}function zd(t,e){for(var o=u(),a=u(),h=e.memberParts;h.next();){var c=h.value;c.isVisible()&&(c instanceof Je?(Hh(c)||hs(c)||Xh(c))&&zd(t,c):c instanceof Ce?c.fromNode===e||c.toNode===e?a.push(c):o.push(c):(c.measure(1/0,1/0),c.arrange()))}for(t=o.length,h=0;h<t;h++)(c=o[h]).measure(1/0,1/0),c.arrange();for(p(o),e.measure(1/0,1/0),e.arrange(),t=a.length,e=0;e<t;e++)(o=a[e]).measure(1/0,1/0),o.arrange();p(a)}function Bg(t,e,o,a,h,c,m,x,S,E){if(null!==t.Da){null===t.ya&&R("No canvas specified"),void 0===m&&(m=null),void 0===x&&(x=null),void 0===S&&(S=!1),void 0===E&&(E=!1),mc(t),t.Gb.uc(!0),Dl(t),t.yi=!0;var P=t.Aa;t.Aa=h;var N=t.Ma.j,nt=N.length;try{var at=new Lt(c.x,c.y,a.width/h,a.height/h),rt=at.copy();rt.uq(o),Du(t,rt),ro(t),t.Nd(N,nt,t,at),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,a.width,a.height),null!==x&&""!==x&&(e.fillStyle=x,e.fillRect(0,0,a.width,a.height));var _t=t.Tb;e.scale(_t,_t);var It=di.alloc();It.reset(),It.translate(o.left,o.top),It.scale(h),0===c.x&&0===c.y||It.translate(-c.x,-c.y),e.setTransform(It.m11,It.m12,It.m21,It.m22,It.dx,It.dy),di.free(It),E1(t,e),e.globalAlpha=t.hb;var Pt=t.xk("Grid");if(m){var Vt=new At,Ht=m.iterator;for(Ht.reset();Ht.next();){var Wt=Ht.value;Wt instanceof Ye&&(E||Wt.layer!==Pt)&&Vt.add(Wt)}for(E=0;E<nt;E++){var Qt=N[E];Pt=e;var me=t;if(Qt.visible&&0!==Qt.hb&&(S||!Qt.isTemporary)){var Be=Qt.Fa.j,Ee=Be.length;if(0!==Ee){var We=Oh(Qt,Pt),Te=Qt.rp;Te.length=0;var ve=me.scale,xi=Lt.alloc();for(o=0;o<Ee;o++){var ri=Be[o];Vt.contains(ri)&&Qt.dj(Pt,ri,me,Te,ve,xi,!1)}Lt.free(xi),Pt.globalAlpha=We}}}}else for(Vt=0;Vt<nt;Vt++)(me=N[Vt])===Pt?E&&me.mc(e,t,!0):me.mc(e,t,S);t.yi=!1,t.ui&&H0(t.ui,t)&&t.Tr()}finally{t.Aa=P,t.Gb.uc(!0),Dl(t),t.Nd(N,nt,t),Du(t)}}}function E1(t,e){null!==(t=t.hf)&&(void 0!==t.imageSmoothingEnabled&&e.Sy(!!t.imageSmoothingEnabled),null!=(t=t.defaultFont)&&(e.font=t))}function T0(t,e){var h,o=t instanceof pe,a=t instanceof oe;for(h in e){""===h&&R("Setting properties requires non-empty property names");var c=t,m=h;if(o||a){var x=h.indexOf(".");if(0<x){var S=h.substring(0,x);o?c=t.bb(S):null==(c=t[S])&&(c=t.toolManager[S]),ht(c)?m=h.substr(x+1):R("Unable to find object named: "+S+" in "+t.toString()+" when trying to set property: "+h)}}if("_"!==m[0]&&!w(c,m)){if(a&&"ModelChanged"===m){t.Wx(e[m]);continue}if(a&&"Changed"===m){t.Hh(e[m]);continue}if(a&&w(t.toolManager,m))c=t.toolManager;else{if(a&&sS(t,m)){t.kk(m,e[m]);continue}if(t instanceof ze&&"Changed"===m){t.Hh(e[m]);continue}R('Trying to set undefined property "'+m+'" on object: '+c.toString())}}c[m]=e[h],"_"===m[0]&&c instanceof Ge&&c.Tx(m)}}function Sl(t){!1===t.wi&&(t.wi=!0)}function Dl(t){!1===t.xi&&(t.xi=!0)}function mc(t){!1!==t.El&&(t.El=!1,Vg(t,t.va,t.ua))}function Vg(t,e,o){var a=t.Tb;t.ya.resize(e*a,o*a,e,o)&&(t.Dc=!0,t.Gb.uc(!0))}function jg(t){var e=t.ya;if(null===e||t.sm.o())return!0;var o=t.Da,a=t.va,h=t.ua,c=t.viewportBounds.copy();if(!c.o())return!0;var m=!1,x=t.Ye?t.rb:0,S=t.pe?t.rb:0,E=o.clientWidth||a+x,P=o.clientHeight||h+S;if((E!==a+x||P!==h+S)&&(t.Ye=!1,t.pe=!1,S=x=0,t.va=E,t.ua=P,m=t.El=!0),!(m||t.Ye||t.pe||t.vl||t.wl))return!0;t.wi=!1;var N=t.viewportBounds,nt=t.documentBounds,at=0,rt=0,_t=0,It=0;o=N.width;var Pt=N.height,Vt=t.Si;t.contentAlignment.kb()?(nt.width>o&&(at=Vt.left,rt=Vt.right),nt.height>Pt&&(_t=Vt.top,It=Vt.bottom)):(at=Vt.left,rt=Vt.right,_t=Vt.top,It=Vt.bottom),Vt=nt.width+at+rt;var Ht=nt.height+_t+It;at=nt.x-at;var Wt=N.x;rt=nt.right+rt;var Qt=N.right+x;_t=nt.y-_t;var me=N.y;nt=nt.bottom+It,N=N.bottom+S;var Be="1px",Ee="1px";if(E=Vt>E/(It=t.scale),P=Ht>P/It,t.scrollMode===Da&&(E||P)&&(E&&t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(E=1,at+1<Wt&&(E=Math.max((Wt-at)*It+t.va,E)),rt>Qt+1&&(E=Math.max((rt-Qt)*It+t.va,E)),o+x+1<Vt&&(E=Math.max((Vt-o)*It+t.va,E)),Be=E.toString()+"px"),P&&t.hasVerticalScrollbar&&t.allowVerticalScroll&&(E=1,_t+1<me&&(E=Math.max((me-_t)*It+t.ua,E)),nt>N+1&&(E=Math.max((nt-N)*It+t.ua,E)),Pt+S+1<Ht&&(E=Math.max((Ht-Pt)*It+t.ua,E)),Ee=E.toString()+"px")),P="1px"!==Ee,(E="1px"!==Be)&&P||!E&&!P||(P&&(Qt-=t.rb),E&&(N-=t.rb),Vt<o+x||!t.hasHorizontalScrollbar||!t.allowHorizontalScroll||(x=1,at+1<Wt&&(x=Math.max((Wt-at)*It+t.va,x)),rt>Qt+1&&(x=Math.max((rt-Qt)*It+t.va,x)),o+1<Vt&&(x=Math.max((Vt-o)*It+t.va,x)),Be=x.toString()+"px"),x=t.ua,(E="1px"!==Be)!==t.pe&&(x=E?t.ua-t.rb:t.ua+t.rb),Ht<Pt+S||!t.hasVerticalScrollbar||!t.allowVerticalScroll||(S=1,_t+1<me&&(S=Math.max((me-_t)*It+x,S)),nt>N+1&&(S=Math.max((nt-N)*It+x,S)),Pt+1<Ht&&(S=Math.max((Ht-Pt)*It+x,S)),Ee=S.toString()+"px"),P="1px"!==Ee),t.Op&&E===t.pe&&P===t.Ye)return a===t.va&&h===t.ua||t.hd(),!1;if(E!==t.pe&&(t.ua="1px"===Be?t.ua+t.rb:Math.max(t.ua-t.rb,1),m=!0),t.pe=E,t.Pp.style.width=Be,P!==t.Ye&&(t.va="1px"===Ee?t.va+t.rb:Math.max(t.va-t.rb,1),m=!0,t.Gl&&(S=J.alloc(),P?(e.style.left=t.rb+"px",t.position=S.h(t.la.x+t.rb/t.scale,t.la.y)):(e.style.left="0px",t.position=S.h(t.la.x-t.rb/t.scale,t.la.y)),J.free(S))),t.Ye=P,t.Pp.style.height=Ee,t.Vs=!0,m&&(t.El=!0),S=(e=t.Ys).scrollLeft,t.hasHorizontalScrollbar&&t.allowHorizontalScroll&&(o+1<Vt?S=(t.position.x-at)*It:at+1<Wt?S=e.scrollWidth-e.clientWidth:rt>Qt+1&&(S=t.position.x*It)),t.Gl)switch(t.Ss){case"negative":S=-(e.scrollWidth-S-e.clientWidth);break;case"reverse":S=e.scrollWidth-S-e.clientWidth}return e.scrollLeft=S,t.hasVerticalScrollbar&&t.allowVerticalScroll&&(Pt+1<Ht?e.scrollTop=(t.position.y-_t)*It:_t+1<me?e.scrollTop=e.scrollHeight-e.clientHeight:nt>N+1&&(e.scrollTop=t.position.y*It)),P=t.ua,e.style.width=(E=t.va)+(t.Ye?t.rb:0)+"px",e.style.height=P+(t.pe?t.rb:0)+"px",a===E&&h===P&&!t.animationManager.sc||(t.onViewportBoundsChanged(c,t.viewportBounds,It,m),!1)}function k1(t,e,o){var a=e.layer;null!==a&&a.diagram===t&&(e.isSelected=!1,e.isHighlighted=!1,e.C(2),o&&e.uk(),0<=(o=a.Lc(-1,e,!1))&&t.Va(_i,"parts",a,e,null,o,null),null!==(t=e.layerChanged)&&t(e,a,null))}function Es(t,e,o,a,h,c){if(!e.contains(o)&&(void 0===c&&(c=!1),!a||c||o.canMove()||o.canCopy()))if(void 0===h&&(h=A1(t)),o instanceof Fe){if(e.add(o,t.Cd(h,o,o.location)),o instanceof Je&&(null!==o.placeholder||h.dragsMembers))for(c=o.memberParts;c.next();)Es(t,e,c.value,a,h,h.groupsAlwaysMove);for(c=o.linksConnected;c.next();){var m=c.value;if(!e.contains(m)){var x=m.fromNode,S=m.toNode;null!==x&&e.contains(x)&&null!==S&&e.contains(S)&&Es(t,e,m,a,h)}}if(h.dragsTree)for(o=o.Wv();o.next();)Es(t,e,o.value,a,h)}else if(o instanceof Ce)for(e.add(o,t.Cd(h,o)),o=o.labelNodes;o.next();)Es(t,e,o.value,a,h);else o instanceof Ci||e.add(o,t.Cd(h,o,o.location))}function bf(t,e,o,a,h){if(null!==e&&0!==e.count){var c=J.alloc(),m=J.alloc();m.assign(o),isNaN(m.x)&&(m.x=0),isNaN(m.y)&&(m.y=0),(o=t.fq)||gc(t,e);for(var x=u(),S=u(),E=e.iterator,P=J.alloc();E.next();){var N=E.key,nt=E.value;if(N.Nc()){var at=cb(t,N,e);null!==at?x.push(new uS(N,nt,at)):(!h||N.canMove())&&(c.assign(at=nt.point),t.computeMove(N,c.add(m),a,P),N.location=P,void 0===nt.shifted&&(nt.shifted=new J),nt.shifted.assign(P.ge(at)))}else E.key instanceof Ce&&S.push(E.ka)}for(J.free(P),h=x.length,E=0;E<h;E++)c.assign((N=x[E]).info.point),void 0===N.$v.shifted&&(N.$v.shifted=new J),N.node.location=c.add(N.$v.shifted);for(h=J.alloc(),E=J.alloc(),N=S.length,nt=0;nt<N;nt++){var rt=S[nt];if((at=rt.key)instanceof Ce)if(at.suspendsRouting){at.jf=null,P=at.fromNode;var _t=at.toNode;if(null!==t.draggedLink&&a.dragsLink)if(_t=rt.value.point,null===at.dragComputation)e.add(at,t.Cd(a,at,m)),Lo(at,m.x-_t.x,m.y-_t.y);else{rt=J.allocAt(0,0),(P=at.i(0))&&P.o()&&rt.assign(P);var It=P=J.alloc().assign(rt).add(m);a.isGridSnapEnabled&&(a.isGridSnapRealtime||t.lastInput.up)&&T1(t,at,P,It=J.alloc(),a),P.assign(at.dragComputation(at,P,It)).ge(rt),e.add(at,t.Cd(a,at,P)),Lo(at,P.x-_t.x,P.y-_t.y),J.free(rt),J.free(P),It!==P&&J.free(It)}else null!==P&&(h.assign(P.location),null!==(It=e.G(P))&&h.ge(It.point)),null!==_t&&(E.assign(_t.location),null!==(It=e.G(_t))&&E.ge(It.point)),null!==P&&null!==_t?h.Qa(E)?(P=rt.value.point,(_t=c).assign(h),_t.ge(P),e.add(at,t.Cd(a,at,h)),Lo(at,_t.x,_t.y)):(at.suspendsRouting=!1,at.Ua()):(rt=rt.value.point,e.add(at,t.Cd(a,at,P=null!==P?h:null!==_t?E:m)),Lo(at,P.x-rt.x,P.y-rt.y))}else(null===at.fromNode||null===at.toNode)&&(P=rt.value.point,e.add(at,t.Cd(a,at,m)),Lo(at,m.x-P.x,m.y-P.y))}J.free(c),J.free(m),J.free(h),J.free(E),p(x),p(S),o||(ro(t),Mf(t,e))}}function A1(t){var e=t.toolManager.findTool("Dragging");return null!==e?e.dragOptions:t.kl}function T1(t,e,o,a,h){if(void 0===h&&(h=A1(t)),a.assign(o),null!==e){var c=t.grid;t=(e=h.gridSnapCellSize).width,e=e.height;var m=h.gridSnapOrigin,x=m.x;if(m=m.y,h=h.gridSnapCellSpot,null!==c){var S=c.gridCellSize;isNaN(t)&&(t=S.width),isNaN(e)&&(e=S.height),c=c.gridOrigin,isNaN(x)&&(x=c.x),isNaN(m)&&(m=c.y)}(c=J.allocAt(0,0)).Uk(0,0,t,e,h),Zt.Gq(o.x,o.y,x+c.x,m+c.y,t,e,a),J.free(c)}}function gc(t,e){if(null!==e)for(t.fq=!0,t=e.iterator;t.next();)(e=t.key)instanceof Ce&&(e.suspendsRouting=!0)}function Mf(t,e){if(null!==e){for(e=e.iterator;e.next();){var o=e.key;o instanceof Ce&&(o.suspendsRouting=!1,Cx(o)&&o.Ua())}t.fq=!1}}function cb(t,e,o){return null===(e=e.containingGroup)||null===(t=cb(t,e,o))&&null===(t=o.G(e))?null:t}function P1(t,e,o){if(null!==e.diagram&&e.diagram!==t&&R("Cannot share a Layer with another Diagram: "+e+" of "+e.diagram),null===o?null!==e.diagram&&R("Cannot add an existing Layer to this Diagram again: "+e):(o.diagram!==t&&R("Existing Layer must be in this Diagram: "+o+" not in "+o.diagram),e===o&&R("Cannot move a Layer before or after itself: "+e)),e.diagram!==t){e=e.name,o=(t=t.Ma).count;for(var a=0;a<o;a++)t.J(a).name===e&&R("Cannot add Layer with the name '"+e+"'; a Layer with the same name is already present in this Diagram.")}}function oS(t,e,o){var a=t.animationManager;if(t.Sb||t.ac)t.Aa=o,a.ef&&a.Rd.add(a.B,"scale",e,t.Aa);else if(null===t.ya)t.Aa=o;else{t.Sb=!0;var h=t.viewportBounds.copy(),c=t.va,m=t.ua;h.width=t.va/e,h.height=t.ua/e;var x=t.zoomPoint.x,S=t.zoomPoint.y,E=t.contentAlignment;isNaN(x)&&(E.Oc()?E.Ef(fc)?x=0:E.Ef(un)&&(x=c-1):x=E.kb()?E.x*(c-1):c/2),isNaN(S)&&(E.Oc()?E.Ef(c0)?S=0:E.Ef(Eo)&&(S=m-1):S=E.kb()?E.y*(m-1):m/2),null===t.scaleComputation||t.animationManager.defaultAnimation.isAnimating||(o=t.scaleComputation(t,o)),o<t.minScale&&(o=t.minScale),o>t.maxScale&&(o=t.maxScale),c=J.allocAt(t.la.x+x/e-x/o,t.la.y+S/e-S/o),t.position=c,J.free(c),t.Aa=o,t.onViewportBoundsChanged(h,t.viewportBounds,e,!1),t.Sb=!1,Sa(t,!1),a.ef&&a.Rd.add(a.B,"scale",e,t.Aa),t.M(),Sl(t)}}function Du(t,e){void 0===e&&(e=null);var o=t.Ib;if(null!==o&&o.visible){for(var a=fe.alloc(),h=1,c=1,m=o.W.j,x=m.length,S=0;S<x;S++){var E=m[S],P=Math.abs(E.interval);2>P||(lv(E.figure)?c=c*P/Zt.uy(c,P):h=h*P/Zt.uy(h,P))}if(a.h(c*(m=o.gridCellSize).width,h*m.height),null!==e)h=e.width,c=e.height,t=e.x,m=e.y;else{if((e=Lt.alloc()).h((t=t.viewportBounds).x,t.y,t.width,t.height),!e.o())return void Lt.free(e);h=e.width,c=e.height,t=e.x,m=e.y,Lt.free(e)}o.width=h+2*a.width,o.height=c+2*a.height,e=J.alloc(),Zt.Gq(t,m,0,0,a.width,a.height,e),e.offset(-a.width,-a.height),fe.free(a),o.part.location=e,J.free(e)}}function P0(t){var e=t.isModified;t.zv!==e&&(t.zv=e,t.R("Modified"))}function Hg(t,e){for(var o=(e=e.W.j).length,a=0;a<o;a++)Ud(t,e[a])}function Ud(t,e){if(e instanceof go){var o=e.element;if(null!==o&&o instanceof HTMLImageElement){o.Wg instanceof At&&o.Wg.add(t);var a=e.Zg;if(null!==a&&!0===a.ls&&null!==e.diagram&&e.diagram.Wl.add(e),o.io)if(o=o.getAttribute("src"),null===(a=t.pg.G(o)))(a=[]).push(e),t.pg.add(o,a);else{for(t=0;t<a.length;t++)if(a[t]===e)return;a.push(e)}}}}function zg(t,e){if(e instanceof go){var o=e.element;if(null!==o&&o instanceof HTMLImageElement&&(o.Wg instanceof At&&o.Wg.remove(t),Ib(o),o.io)){o=o.getAttribute("src");var a=t.pg.G(o);if(null!==a)for(var h=0;h<a.length;h++)if(a[h]===e){a.splice(h,1),0===a.length&&(t.pg.remove(o),hp(o));break}}}}function Ug(t,e){t.vi=!1;var o=t.Rn;o.w(e)||(e=e.H(),t.Rn=e,Sa(t,!1),t.R("DocumentBoundsChanged",null,o.copy()),Sl(t))}function Eu(t,e){for(var o=t.Dh.iterator;o.next();)db(t,o.value,e);null!==t.layout&&(e?t.layout.isValidLayout=!1:t.layout.C())}function db(t,e,o){if(null!==e){for(var a=e.Sl.iterator;a.next();)db(t,a.value,o);null!==e.layout&&(o?e.layout.isValidLayout=!1:e.layout.C())}}function vc(t,e){if(t.Ng&&!t.Nr){var o=t.Z;t.Z=!0;var a=t.undoManager.transactionLevel,h=t.layout,c=t.animationManager;try{0===a&&(t.undoManager.isInternalTransaction=!0,t.xa("Layout")),1>=a&&!c.defaultAnimation.isAnimating&&!c.sc&&(e||dc(c,"Layout")),t.Ng=!1;for(var m=t.Dh.iterator;m.next();)Gg(t,m.value,e,a);h.isValidLayout||(!e||h.isRealtime||null===h.isRealtime||0===a?(h.doLayout(t),ro(t),h.isValidLayout=!0):t.Ng=!0)}finally{e=t.undoManager.isInternalTransaction,0===a&&(t.Xa("Layout"),t.undoManager.isInternalTransaction=!1),!e||0!==a&&1!==a||Og(c),t.Z=o}}}function Gg(t,e,o,a){if(null!==e){for(var h=e.Sl.iterator;h.next();)Gg(t,h.value,o,a);null===(h=e.layout)||h.isValidLayout||(!o||h.isRealtime||0===a?(e.Rh=!e.location.o(),h.doLayout(e),e.C(32),zd(t,e),h.isValidLayout=!0):t.Ng=!0)}}function I0(t){function e(h){var c=h.toLowerCase(),m=new St;o.add(h,m),o.add(c,m),a.add(h,h),a.add(c,h)}var o=new ot,a=new ot;e("InitialAnimationStarting"),e("AnimationStarting"),e("AnimationFinished"),e("BackgroundSingleClicked"),e("BackgroundDoubleClicked"),e("BackgroundContextClicked"),e("ClipboardChanged"),e("ClipboardPasted"),e("DocumentBoundsChanged"),e("ExternalObjectsDropped"),e("GainedFocus"),e("InitialLayoutCompleted"),e("LayoutCompleted"),e("LinkDrawn"),e("LinkRelinked"),e("LinkReshaped"),e("LostFocus"),e("Modified"),e("ObjectSingleClicked"),e("ObjectDoubleClicked"),e("ObjectContextClicked"),e("PartCreated"),e("PartResized"),e("PartRotated"),e("SelectionMoved"),e("SelectionCopied"),e("SelectionDeleting"),e("SelectionDeleted"),e("SelectionGrouped"),e("SelectionUngrouped"),e("ChangingSelection"),e("ChangedSelection"),e("SubGraphCollapsed"),e("SubGraphExpanded"),e("TextEdited"),e("TreeCollapsed"),e("TreeExpanded"),e("ViewportBoundsChanged"),e("InvalidateDraw"),t.Qr=o,t.Pr=a}function sS(t,e){var o=t.Pr.G(e);return null!==o?o:t.Pr.G(e.toLowerCase())}function Wg(t,e){var o=t.Qr.G(e);if(null!==o||null!==(o=t.Qr.G(e.toLowerCase())))return o;R("Unknown DiagramEvent name: "+e)}function I1(t){if(t.animationManager.isTicking)return!1;var e=t.currentTool;return e!==t.toolManager.findTool("Dragging")||!t.fq||e.isComplexRoutingRealtime}function R1(t,e,o,a){if(null===t.Gc&&(t.Gc=new Fv),t.Gc.Rt||t.Gc.group!==o||t.Gc.Vy!==a){if(null!==o&&(o=pb(t,o)),null===o){(e=t.computeOccupiedArea()).Jc(100,100),t.Gc.initialize(e),e=Lt.alloc();for(var h=t.nodes;h.next();){var c=h.value,m=c.layer;null!==m&&m.visible&&!m.isTemporary&&Cf(t,c,a,e)}Lt.free(e)}else{for(0<o.memberParts.count&&((e=t.computePartsBounds(o.memberParts,!1)).Jc(20,20),t.Gc.initialize(e)),e=Lt.alloc(),h=o.memberParts;h.next();)(c=h.value)instanceof Fe&&Cf(t,c,a,e);Lt.free(e)}t.Gc.group=o,t.Gc.Vy=a,t.Gc.Rt=!1}else e&&MS(t.Gc);return t.Gc}function pb(t,e){return e.avoidable&&!e.isLinkLabel?e:null!==e.containingGroup?pb(t,e.containingGroup):null}function Cf(t,e,o,a){if(e!==o&&e.isVisible())if(e.avoidable&&!e.isLinkLabel){var h=(e=e.getAvoidableRect(a)).x,c=e.y;if(pm(t=t.Gc,h,c))for(o=(c-t.Bd)/t.gc|0,a=Math.min((h+e.width-t.Ad)/t.fc|0,t.Zi),e=Math.min((c+e.height-t.Bd)/t.gc|0,t.$i),h=(h-t.Ad)/t.fc|0;h<=a;h++)if((c=t.Rb[h]).fill)c.fill(Zh,o,e+1);else for(var m=o;m<=e;m++)c[m]=Zh}else if(e instanceof Je)for(e=e.memberParts;e.next();)(h=e.value)instanceof Fe&&Cf(t,h,o,a)}function R0(t,e){null!==t.Gc&&!t.Gc.Rt&&(void 0===e&&(e=null),null===e||e.avoidable&&!e.isLinkLabel)&&(t.Gc.Rt=!0)}function Yg(t){-1===t.Bj&&(t.Bj=V(function(){if(-1!==t.Bj&&(t.Jf(),null!==t.lastInput.event)){var e=t.computeAutoScrollPosition(t.rn);e.Qa(t.position)||(t.position=e,t.lastInput.documentPoint=t.ou(t.rn),t.doMouseMove(),t.vi=!0,Ug(t,t.documentBounds.copy().Rc(t.computeBounds())),t.Dc=!0,t.hd(),Yg(t))}},t.qn))}function O0(t,e,o){function a(){var P=+new Date;for(c=!0,m.reset();m.next();)if(!m.value[0].Ol){c=!1;break}c||P-E>S?e(o,h,x):T.requestAnimationFrame(a)}for(var h=o.callback,c=!0,m=t.pg.iterator;m.next();)if(!m.value[0].Ol){c=!1;break}if("function"!=typeof h||c)return e(o,h,t);var x=t,S=o.callbackTimeout||300,E=+new Date;return T.requestAnimationFrame(function(){a()}),null}function N0(t,e,o,a){if(t.animationManager.Bc(),t.hd(),null===t.ya)return null;"object"!=typeof e&&R("properties argument must be an Object.");var h=e.size||null,c=e.scale||null;void 0!==e.scale&&isNaN(e.scale)&&(c="NaN");var m=e.maxSize;void 0===e.maxSize&&(m="SVG"===o?new fe(1/0,1/0):new fe(2e3,2e3));var x=e.position||null,S=e.parts||null,E=void 0===e.padding?1:e.padding,P=e.background||null,N=e.omitTemporary;void 0===N&&(N=!0);var nt=e.document||document,at=e.elementFinished||null,rt=e.showTemporary;void 0===rt&&(rt=!N),void 0===(e=e.showGrid)&&(e=rt),null!==h&&isNaN(h.width)&&isNaN(h.height)&&(h=null),"number"==typeof E?E=new oi(E):E instanceof oi||R("MakeImage padding must be a Margin or a number."),E.left=Math.max(E.left,0),E.right=Math.max(E.right,0),E.top=Math.max(E.top,0),E.bottom=Math.max(E.bottom,0),t.Gb.uc(!0);var _t=(N=new Ko(null,nt)).context;if(!(h||c||S||x))return N.width=t.va+Math.ceil(E.left+E.right),N.height=t.ua+Math.ceil(E.top+E.bottom),"SVG"===o?null===a?null:(a.resize(N.width,N.height,N.width,N.height),a.ownerDocument=nt,a.Dq=at,Bg(t,a.context,E,new fe(N.width,N.height),t.Aa,t.la,S,P,rt,e),a.context):(t.rl=!1,Bg(t,_t,E,new fe(N.width,N.height),t.Aa,t.la,S,P,rt,e),t.rl=!0,N.context);var It=t.Qn,Pt=t.documentBounds.copy();if(Pt.Jw(t.ib),rt)for(var Vt=t.Ma.j,Ht=Vt.length,Wt=0;Wt<Ht;Wt++){var Qt=Vt[Wt];if(Qt.visible&&Qt.isTemporary)for(var me=(Qt=Qt.Fa.j).length,Be=0;Be<me;Be++){var Ee=Qt[Be];Ee.isInDocumentBounds&&Ee.isVisible()&&(Ee=Ee.actualBounds).o()&&Pt.Rc(Ee)}}if(Vt=new J(Pt.x,Pt.y),null!==S){for(Ht=!0,(Wt=S.iterator).reset();Wt.next();)if((Qt=Wt.value)instanceof Ye&&(null===(me=Qt.layer)||me.visible)&&(null===me||rt||!me.isTemporary)&&Qt.isVisible()&&(Qt=Qt.actualBounds).o())if(Ht){Ht=!1;var We=Qt.copy()}else We.Rc(Qt);Ht&&(We=new Lt(0,0,0,0)),Pt.width=We.width,Pt.height=We.height,Vt.x=We.x,Vt.y=We.y}return null!==x&&x.o()&&(Vt=x,c||(c=It)),We=x=0,null!==E&&(x=E.left+E.right,We=E.top+E.bottom),Ht=Wt=0,null!==h&&(Wt=h.width,Ht=h.height,isFinite(Wt)&&(Wt=Math.max(0,Wt-x)),isFinite(Ht)&&(Ht=Math.max(0,Ht-We))),null!==h&&null!==c?("NaN"===c&&(c=It),h.o()?(h=Wt,Pt=Ht):isNaN(Ht)?(h=Wt,Pt=Pt.height*c):(h=Pt.width*c,Pt=Ht)):null!==h?h.o()?(c=Math.min(Wt/Pt.width,Ht/Pt.height),h=Wt,Pt=Ht):isNaN(Ht)?(h=Wt,Pt=Pt.height*(c=Wt/Pt.width)):(h=Pt.width*(c=Ht/Pt.height),Pt=Ht):null!==c?"NaN"===c&&m.o()?(c=Math.min((m.width-x)/Pt.width,(m.height-We)/Pt.height))>It?(c=It,h=Pt.width,Pt=Pt.height):(h=m.width,Pt=m.height):(h=Pt.width*c,Pt=Pt.height*c):(c=It,h=Pt.width,Pt=Pt.height),null!==E?(h+=x,Pt+=We):E=new oi(0),null!==m&&(It=m.width,m=m.height,isNaN(It)&&(It=2e3),isNaN(m)&&(m=2e3),isFinite(It)&&(h=Math.min(h,It)),isFinite(m)&&(Pt=Math.min(Pt,m))),N.width=Math.ceil(h),N.height=Math.ceil(Pt),"SVG"===o?null===a?null:(a.resize(N.width,N.height,N.width,N.height),a.ownerDocument=nt,a.Dq=at,Bg(t,a.context,E,new fe(Math.ceil(h),Math.ceil(Pt)),c,Vt,S,P,rt,e),a.context):(t.rl=!1,Bg(t,_t,E,new fe(Math.ceil(h),Math.ceil(Pt)),c,Vt,S,P,rt,e),t.rl=!0,N.context)}Ml.className="AnimationTrigger",Ml.Default=Jn,Ml.Immediate=Zr,Ml.Bundled=Po,(q=Ur.prototype).clear=function(){this.Fa.clear(),this.rp.length=0},q.ee=function(t){this.B=t},q.toString=function(t){void 0===t&&(t=0);var e='Layer "'+this.name+'"';if(0>=t)return e;for(var o=0,a=0,h=0,c=0,m=0,x=this.Fa.iterator;x.next();){var S=x.value;S instanceof Je?h++:S instanceof Fe?a++:S instanceof Ce?c++:S instanceof Ci?m++:o++}if(x="",0<o&&(x+=o+" Parts "),0<a&&(x+=a+" Nodes "),0<h&&(x+=h+" Groups "),0<c&&(x+=c+" Links "),0<m&&(x+=m+" Adornments "),1<t)for(t=this.Fa.iterator;t.next();)x+="\n    "+(o=t.value).toString(),null!==(a=o.data)&&Jt(a)&&(x+=" #"+Jt(a)),o instanceof Fe?x+=" "+g(a):o instanceof Ce&&(x+=" "+g(o.fromNode)+" "+g(o.toNode));return e+" "+this.Fa.count+": "+x},q.Vb=function(t,e,o){if(void 0===e&&(e=null),void 0===o&&(o=null),!1===this.Pi)return null;var a=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(a=!0);for(var h=J.alloc(),c=this.Fa.j,m=c.length;m--;){var x=c[m];if((!0!==a||!1!==dh(x))&&x.isVisible()&&(h.assign(t),qt(h,x.Fd),null!==(x=x.Vb(h,e,o))&&(null!==e&&(x=e(x)),null!==x&&(null===o||o(x)))))return J.free(h),x}return J.free(h),null},q.hj=function(t,e,o,a){if(void 0===e&&(e=null),void 0===o&&(o=null),a instanceof St||a instanceof At||(a=new At),!1===this.Pi)return a;var h=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(h=!0);for(var c=J.alloc(),m=this.Fa.j,x=m.length;x--;){var S=m[x];if((!0!==h||!1!==dh(S))&&S.isVisible()){c.assign(t),qt(c,S.Fd);var E=S;S.hj(c,e,o,a)&&(null!==e&&(E=e(E)),null===E||null!==o&&!o(E)||a.add(E))}}return J.free(c),a},q.zf=function(t,e,o,a,h){if(void 0===e&&(e=null),void 0===o&&(o=null),void 0===a&&(a=!1),h instanceof St||h instanceof At||(h=new At),!1===this.Pi)return h;var c=!1;null!==this.diagram&&this.diagram.viewportBounds.Ge(t)&&(c=!0);for(var m=this.Fa.j,x=m.length;x--;){var S=m[x];if((!0!==c||!1!==dh(S))&&S.isVisible()){var E=S;S.zf(t,e,o,a,h)&&(null!==e&&(E=e(E)),null===E||null!==o&&!o(E)||h.add(E))}}return h},q.Vv=function(t,e,o,a,h,c,m){if(!1===this.Pi)return h;for(var x=this.Fa.j,S=x.length;S--;){var E=x[S];if((!0!==m||!1!==dh(E))&&c(E)&&E.isVisible()){var P=E;E.zf(t,e,o,a,h)&&(null!==e&&(P=e(P)),null===P||null!==o&&!o(P)||h.add(P))}}return h},q.Eg=function(t,e,o,a,h,c){if(void 0===o&&(o=null),void 0===a&&(a=null),void 0===h&&(h=!0),!1!==h&&!0!==h&&((h instanceof St||h instanceof At)&&(c=h),h=!0),c instanceof St||c instanceof At||(c=new At),!1===this.Pi)return c;var m=!1;null!==this.diagram&&this.diagram.viewportBounds.$(t)&&(m=!0);for(var x=J.alloc(),S=J.alloc(),E=this.Fa.j,P=E.length;P--;){var N=E[P];if((!0!==m||!1!==dh(N))&&N.isVisible()){x.assign(t),qt(x,N.Fd),S.h(t.x+e,t.y),qt(S,N.Fd);var nt=N;N.Eg(x,S,o,a,h,c)&&(null!==o&&(nt=o(nt)),null===nt||null!==a&&!a(nt)||c.add(nt))}}return J.free(x),J.free(S),c},q.Nd=function(t,e){if(this.visible){var o=this.Fa.j,a=o.length;if(0!==a){t=u();for(var h=u(),c=0;c<a;c++){var m=o[c];if(m.zx=c,m instanceof Ce){if(!1===m.ud)continue}else if(m instanceof Ci&&null!==m.adornedPart)continue;De(m.actualBounds,e)?(m.Nd(!0),t.push(m)):(m.Nd(!1),null!==m.adornments&&0<m.adornments.count&&h.push(m))}for(e=0;e<t.length;e++)for(wv(o=t[e]),o=o.adornments;o.next();)(a=o.value).measure(1/0,1/0),a.arrange(),a.Nd(!0);for(e=0;e<h.length;e++)wv(h[e]);p(t),p(h)}}},q.mc=function(t,e,o){if(this.visible&&0!==this.hb&&(void 0===o&&(o=!0),o||!this.isTemporary)){var a=(o=this.Fa.j).length;if(0!==a){var h=Oh(this,t),c=this.rp;c.length=0;for(var m=e.scale,x=Lt.alloc(),S=0;S<a;S++)this.dj(t,o[S],e,c,m,x,!0);Lt.free(x),t.globalAlpha=h}}},q.dj=function(t,e,o,a,h,c,m){if(!m||dh(e)){if(null!==a&&e instanceof Ce&&(e.isOrthogonal&&a.push(e),!1===e.ud))return;for(m=!1,a=e.containingGroup;null!==a;)m?null!==a.Za&&c.Dy(a.Za):null!==a.Za&&(m=!0,c.assign(a.Za)),a=a.containingGroup;var x=e.actualBounds;if(a=!1,m&&e.isVisible()){if(!c.Mc(x))return;a=!c.Ge(x)}a&&(t.save(),t.beginPath(),t.rect(c.x,c.y,c.width,c.height),t.clip()),x.width*h>o.Xo||x.height*h>o.Xo?e.mc(t,o):(c=e.naturalBounds,0===(h=e.actualBounds).width||0===h.height||isNaN(h.x)||isNaN(h.y)||!e.isVisible()||(o=e.transform,null!==e.areaBackground&&($o(e,t,e.areaBackground,!0,!0,c,h),t.fillRect(h.x,h.y,h.width,h.height)),null===e.areaBackground&&null===e.background&&($o(e,t,"rgba(0,0,0,0.3)",!0,!1,c,h),t.fillRect(h.x,h.y,h.width,h.height)),null!==e.background&&(t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),$o(e,t,e.background,!0,!1,c,h),t.fillRect(0,0,c.width/2,c.height/2),o.Tt()||t.transform(o.m22*(e=1/(o.m11*o.m22-o.m12*o.m21)),-o.m12*e,-o.m21*e,o.m11*e,e*(o.m21*o.dy-o.m22*o.dx),e*(o.m12*o.dx-o.m11*o.dy))))),a&&(t.restore(),t.uc(!0))}},q.g=function(t,e,o,a,h){var c=this.diagram;null!==c&&c.Va(pn,t,this,e,o,a,h)},q.oj=function(t,e,o){var a=this.Fa;if(e.Fi=this,t>=a.count)t=a.count;else if(a.J(t)===e)return-1;return a.wb(t,e),e.Mq(o),null!==(a=this.diagram)&&(o?a.M():a.oj(e)),$a(this,t,e),t},q.Lc=function(t,e,o){if(!o&&e.layer!==this&&null!==e.layer)return e.layer.Lc(t,e,o);var a=this.Fa;if(0>t||t>=a.length){if(0>(t=a.indexOf(e)))return-1}else if(a.J(t)!==e&&0>(t=a.indexOf(e)))return-1;return e.Nq(o),a.cb(t),null!==(a=this.diagram)&&(o?a.M():a.Lc(e)),e.Fi=null,t},B.Object.defineProperties(Ur.prototype,{parts:{get:function(){return this.Fa.iterator}},partsBackwards:{get:function(){return this.Fa.iteratorBackwards}},diagram:{get:function(){return this.B}},name:{get:function(){return this.oa},set:function(t){var e=this.oa;if(e!==t){var o=this.diagram;if(null!==o)for(""===e&&R("Cannot rename default Layer to: "+t),o=o.layers;o.next();)o.value.name===t&&R("Layer.name is already present in this diagram: "+t);for(this.oa=t,this.g("name",e,t),t=this.Fa.iterator;t.next();)t.value.layerName=this.oa}}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&Z(t,"0 <= value <= 1",Ur,"opacity"),this.hb=t,this.g("opacity",e,t),null!==(t=this.diagram)&&t.M())}},isTemporary:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(this.u=t,this.isInDocumentBounds=!1,this.g("isTemporary",e,t))}},visible:{get:function(){return this.I},set:function(t){var e=this.I;if(e!==t){for(this.I=t,this.g("visible",e,t),e=this.Fa.iterator;e.next();)e.value.Ob(t);null!==(t=this.diagram)&&t.M()}}},pickable:{get:function(){return this.Pi},set:function(t){var e=this.Pi;e!==t&&(this.Pi=t,this.g("pickable",e,t))}},isInDocumentBounds:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==this.diagram&&this.diagram.Na())}},allowCopy:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowDelete",e,t))}},allowTextEdit:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.g("allowUngroup",e,t))}},allowLink:{get:function(){return this.ci},set:function(t){var e=this.ci;e!==t&&(this.ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.ei},set:function(t){var e=this.ei;e!==t&&(this.ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.di},set:function(t){var e=this.di;e!==t&&(this.di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.gi},set:function(t){var e=this.gi;e!==t&&(this.gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.hi},set:function(t){var e=this.hi;e!==t&&(this.hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.ii},set:function(t){var e=this.ii;e!==t&&(this.ii=t,this.g("allowSelect",e,t))}}}),Ur.prototype.findObjectsNear=Ur.prototype.Eg,Ur.prototype.findObjectsIn=Ur.prototype.zf,Ur.prototype.findObjectsAt=Ur.prototype.hj,Ur.prototype.findObjectAt=Ur.prototype.Vb,Ur.className="Layer",oe.prototype.clear=function(){this.animationManager.Bc(),this.model.clear(),Wd=null,L0="",iS(this,!1),this.Wl.clear(),hp(),this.pg.clear(),this.Na(),this.Ta(),this.M()},oe.prototype.reset=function(){this.clear(),this.Sb=!0,this.Uc=new Ao,this.Uc.ee(this),this.rb=17,this.Gl=this.pv=!1,this.Ss="default",this.Ma=new St,this.Kx=new ot,this.hf=null,this.xw(),this.Nj=null,this.ww(),this.hb=1,this.la=new J(NaN,NaN).freeze(),this.Ts=new J(NaN,NaN),this.Qn=this.Aa=1,this.es=new J(NaN,NaN).freeze(),this.fs=NaN,this.xs=1e-4,this.vs=100,this.sb=new di,this.xt=new J(NaN,NaN).freeze(),this.Zr=new Lt(NaN,NaN,NaN,NaN).freeze(),this.Si=new oi(0,0,0,0).freeze(),this.Ti=Da,this.at=!1,this.Us=this.Ns=null,this.Og=oo,this.Dj=eo,this.Yf=oo,this.to=eo,this.gs=this.ds=tn,this.Dc=!0,this.El=!1,this.wd=new At,this.Vg=new ot,this.rl=!0,this.qn=250,this.Bj=-1,this.sn=new oi(16,16,16,16).freeze(),this.Hj=this.Ee=!1,this.Kj=!0,this.Wf=new io,this.Wf.diagram=this,this.od=new io,this.od.diagram=this,this.hh=new io,this.hh.diagram=this,this.we=this.Of=null,this.hk=!1,this.Pr=this.Qr=null,this.zj=T.PointerEvent&&(f||C||K)&&T.navigator&&!1!==T.navigator.msPointerEnabled,I0(this),this.Dh=new At,this.qs=!0,this.rt=Za,this.Uu=!1,this.tt=B0,this.Jr=this.Mr=this.pt=null,this.Pn=this.Hr="auto",this.gg=this.As=this.ig=this.jg=this.lg=this.Qf=this.Uf=this.Pf=null,this.cs=!1,this.Rf=this.wg=this.kg=this.hg=null,this.Bs=!1,this.Ls={},this.bk=[null,null],this.Br=null,this.Nr=this.gt=this.rv=this.vg=!1,this.av=!0,this.yi=this.ac=!1,this.zv=!0,this.Xd=-2,this.pg=new ot,this.Wl=new St,this.$f=!1,this.ai=this.$h=this.nr=this.md=!0,this.pr=!1,this.vr=this.tr=this.ii=this.hi=this.gi=this.fi=this.di=this.ei=this.ci=this.sr=this.ki=this.bi=this.ji=this.qr=!0,this.Zf=this.Xu=!1,this.ur=this.rr=this.wl=this.vl=!0,this.$s=this.Ws=16,this.Vs=this.Op=!1,this.Xs=this.Zs=0,this.ib=new oi(5).freeze(),this.qv=(new At).freeze(),this.ws=999999999,this.Su=(new At).freeze(),this.xi=this.wi=this.vi=!0,this.Ye=this.pe=!1,this.kc=null,this.Ng=!0,this.qe=!1,this.Ax=new At,this.Tu=new At,this.Gc=null,this.Vl=1,this.sv=0,this.Ic={scale:1,position:new J,bounds:new Lt,Gv:new fe,kw:new fe,hw:!1},this.Rx=new Lt(NaN,NaN,NaN,NaN).freeze(),this.sm=new fe(NaN,NaN).freeze(),this.Rn=new Lt(NaN,NaN,NaN,NaN).freeze(),this.rs=!1,this.Lo=this.qo=this.kp=this.Fu=this.Eu=this.Gu=this.bg=this.fh=this.df=null,D0(this),this.Ib=null,this.po=!1,this.Ej=null,this.partManager=new Ri,this.toolManager=new An,this.toolManager.initializeStandardTools(),this.currentTool=this.defaultTool=this.toolManager,this.Sr=null,this.kl=new Yd,this.Gs=this.Fs=null,this.fq=!1,this.commandHandler=b1(),this.vg=!0,xf(this),this.layout=new Ai,this.vg=!1,this.model=Jv(),this.model.undoManager=new Hn,this.qe=!1,this.Kj=!0,this.Ee=!1,this.Tb=1,this.yh=null,this.Xo=1,this.cp=0,this.hv=[0,0,0,0,0],this.ep=0,this.xd=1,this.Sj=0,this.Go=new J,this.qt=500,this.rn=new J,this.gq=this.wo=this.re=!1,this.ao=null,this.bo=Di,this.Sb=!1,this.M()},oe.prototype.setRTL=function(t){null===(t=void 0===t?this.div:t)&&(t=T.document.body);var e=G("div");e.dir="rtl",e.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",e.textContent="A",t.appendChild(e);var o="reverse";0<e.scrollLeft?o="default":(e.scrollLeft=1,0===e.scrollLeft&&(o="negative")),t.removeChild(e),this.Ss=o},oe.prototype.setScrollWidth=function(t){null===(t=void 0===t?this.div:t)&&(t=T.document.body);var e=0;if(Us){var o=N1;e=O1,null===o&&((o=N1=G("p")).style.width="100%",o.style.height="200px",o.style.boxSizing="content-box",(e=O1=G("div")).style.position="absolute",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.boxSizing="content-box",e.appendChild(o)),e.style.overflow="hidden",t.appendChild(e);var a=o.offsetWidth;e.style.overflow="scroll",a===(o=o.offsetWidth)&&(o=e.clientWidth),t.removeChild(e),0!=(e=a-o)||W||(e=11)}this.rb=e,this.pv=!0},oe.prototype.jb=function(t){t.classType===oe&&(this.autoScale=t)},oe.prototype.toString=function(t){void 0===t&&(t=0);var e="";if(this.div&&this.div.id&&(e=this.div.id),e='Diagram "'+e+'"',0>=t)return e;for(var o=this.Ma.iterator;o.next();)e+="\n  "+o.value.toString(t-1);return e},oe.prototype.addEventListener=function(t,e,o,a){t.addEventListener(e,o,{capture:a,passive:!1})},oe.prototype.removeEventListener=function(t,e,o,a){t.removeEventListener(e,o,{capture:a})},oe.prototype.computePixelRatio=function(){return null!==this.yh?this.yh:T.devicePixelRatio||1},oe.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},oe.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},oe.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},oe.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},oe.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},oe.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},oe.prototype.doFocus=function(){this.focus()},oe.prototype.focus=function(){if(this.ya)if(this.scrollsPageOnFocus)this.ya.focus();else{var t=T.scrollX||T.pageXOffset,e=T.scrollY||T.pageYOffset;this.ya.focus(),T.scrollTo(t,e)}},oe.prototype.Bz=function(){this.B.R("GainedFocus")},oe.prototype.Az=function(){this.B.R("LostFocus")},oe.prototype.iy=function(t){if(null!==this.ya){this.Op=!0;var e=this.documentBounds,o=this.viewportBounds,a=this.Si,h=e.x-a.left,c=e.y-a.top,m=e.width+a.left+a.right,x=e.height+a.top+a.bottom,S=e.right+a.right;a=e.bottom+a.bottom;var E=o.x;e=o.y;var P=o.width,N=o.height,nt=o.right,at=o.bottom;o=this.scale;var rt=t.scrollLeft;if(this.Gl)switch(this.Ss){case"negative":rt=rt+t.scrollWidth-t.clientWidth;break;case"reverse":rt=t.scrollWidth-rt-t.clientWidth}var _t=rt;P<m||N<x?(rt=J.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.Xs!==_t&&(rt.x=_t/o+h,this.Xs=_t),this.allowVerticalScroll&&this.Zs!==t.scrollTop&&(rt.y=t.scrollTop/o+c,this.Zs=t.scrollTop),this.position=rt,J.free(rt),this.wi=this.Op=!1):(rt=J.alloc(),t.hz&&this.allowHorizontalScroll&&(h<E&&(this.position=rt.h(_t+h,this.position.y)),S>nt&&(this.position=rt.h(-(this.Ys.scrollWidth-this.va)+_t-this.va/o+S,this.position.y))),t.iz&&this.allowVerticalScroll&&(c<e&&(this.position=rt.h(this.position.x,t.scrollTop+c)),a>at&&(this.position=rt.h(this.position.x,-(this.Ys.scrollHeight-this.ua)+t.scrollTop-this.ua/o+a))),J.free(rt),Dl(this),this.wi=this.Op=!1,S=(e=this.documentBounds).right,nt=(o=this.viewportBounds).right,a=e.bottom,at=o.bottom,h=e.x,E=o.x,c=e.y,e=o.y,P>=m&&h>=E&&S<=nt&&(this.Pp.style.width="1px"),N>=x&&c>=e&&a<=at&&(this.Pp.style.height="1px"))}},oe.prototype.computeBounds=function(){return 0<this.wd.count&&ro(this),lb(this)},oe.prototype.computePartsBounds=function(t,e){void 0===e&&(e=!1);var o=null;if(mt(t))for(var a=0;a<t.length;a++){var h=t[a];!e&&h instanceof Ce||(h.Ta(),null===o?o=h.actualBounds.copy():o.Rc(h.actualBounds))}else for(t=t.iterator;t.next();)a=t.value,!e&&a instanceof Ce||(a.Ta(),null===o?o=a.actualBounds.copy():o.Rc(a.actualBounds));return null===o?new Lt(NaN,NaN,0,0):o},oe.prototype.zoomToFit=function(){var t=this.Ti;this.Ti=Da,this.scale=pc(this,Fh),t!==Da&&(Sa(this,!1),E0(this,this.documentBounds,this.va/this.Aa,this.ua/this.Aa,this.Dj,!1)),this.Ti=t},(q=oe.prototype).mB=function(t,e){void 0===e&&(e=Fh);var o=t.width,a=t.height;if(!(0===o||0===a||isNaN(o)&&isNaN(a))){var h=1;if(e===Fh||e===$g)if(isNaN(o))h=this.viewportBounds.height*this.scale/a;else if(isNaN(a))h=this.viewportBounds.width*this.scale/o;else{h=this.va;var c=this.ua;h=e===$g?c/a>h/o?(c-(this.pe?this.rb:0))/a:(h-(this.Ye?this.rb:0))/o:Math.min(c/a,h/o)}this.scale=h,this.position=new J(t.x,t.y)}},q.uz=function(t,e){this.Ta();var o=this.documentBounds,a=this.viewportBounds;this.position=new J(o.x+(t.x*o.width+t.offsetX)-(e.x*a.width-e.offsetX),o.y+(t.y*o.height+t.offsetY)-(e.y*a.height-e.offsetY))},q.kA=function(t){if(t instanceof Ge){this.ao=t;var e=J.alloc();this.bo=this.gr(t.da(tn,e)),J.free(e)}else this.ao=null,this.bo=Di},q.zm=function(t,e){if(void 0===e&&(e=!0),e){if((t=Lg(this,t,function(o){return o.part},function(o){return o.canSelect()}))instanceof Ye)return t}else if((t=Lg(this,t,function(o){return o.part}))instanceof Ye)return t;return null},q.Vb=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null),ro(this);for(var a=this.Ma.iteratorBackwards;a.next();){var h=a.value;if(h.visible&&null!==(h=h.Vb(t,e,o)))return h}return null},q.Zz=function(t,e,o){return void 0===e&&(e=!0),function(t,e,o,a,h){for(void 0===o&&(o=null),void 0===a&&(a=null),h instanceof St||h instanceof At||(h=new At),ro(t),t=t.Ma.iteratorBackwards;t.next();){var c=t.value;c.visible&&!c.isTemporary&&c.hj(e,o,a,h)}return h}(this,t,function(a){return a.part},e?function(a){return a instanceof Ye&&a.canSelect()}:null,o)},q.hj=function(t,e,o,a){void 0===e&&(e=null),void 0===o&&(o=null),a instanceof St||a instanceof At||(a=new At),ro(this);for(var h=this.Ma.iteratorBackwards;h.next();){var c=h.value;c.visible&&c.hj(t,e,o,a)}return a},q.ty=function(t,e,o,a){return void 0===e&&(e=!1),void 0===o&&(o=!0),function(t,e,o,a,h){var c=null;for(void 0===c&&(c=null),void 0===o&&(o=null),void 0===a&&(a=!1),h instanceof St||h instanceof At||(h=new At),ro(t),t=t.Ma.iteratorBackwards;t.next();){var m=t.value;m.visible&&!m.isTemporary&&m.zf(e,c,o,a,h)}return h}(this,t,function(h){return h instanceof Ye&&(!o||h.canSelect())},e,a)},q.zf=function(t,e,o,a,h){void 0===e&&(e=null),void 0===o&&(o=null),void 0===a&&(a=!1),h instanceof St||h instanceof At||(h=new At),ro(this);for(var c=this.Ma.iteratorBackwards;c.next();){var m=c.value;m.visible&&m.zf(t,e,o,a,h)}return h},q.Vv=function(t,e,o,a,h,c){var m=new At;ro(this);for(var x=this.Ma.iteratorBackwards;x.next();){var S=x.value;S.visible&&S.Vv(t,e,o,a,m,h,c)}return m},q.$z=function(t,e,o,a,h){return void 0===o&&(o=!0),void 0===a&&(a=!0),function(t,e,o,a,h,c){var m=null;for(void 0===m&&(m=null),void 0===a&&(a=null),void 0===h&&(h=!0),!1!==h&&!0!==h&&((h instanceof St||h instanceof At)&&(c=h),h=!0),c instanceof St||c instanceof At||(c=new At),ro(t),t=t.Ma.iteratorBackwards;t.next();){var x=t.value;x.visible&&!x.isTemporary&&x.Eg(e,o,m,a,h,c)}return c}(this,t,e,function(c){return c instanceof Ye&&(!a||c.canSelect())},o,h)},q.Eg=function(t,e,o,a,h,c){void 0===o&&(o=null),void 0===a&&(a=null),void 0===h&&(h=!0),!1!==h&&!0!==h&&((h instanceof St||h instanceof At)&&(c=h),h=!0),c instanceof St||c instanceof At||(c=new At),ro(this);for(var m=this.Ma.iteratorBackwards;m.next();){var x=m.value;x.visible&&x.Eg(t,e,o,a,h,c)}return c},oe.prototype.acceptEvent=function(t){return Xa(this,t,t instanceof MouseEvent)},oe.prototype.BA=function(t){var e=this.B;if(!this.B.isEnabled)return!1;var o=Xa(e,t,!1);switch(o.key=String.fromCharCode(t.which),o.down=!0,t.which){case 8:o.key="Backspace";break;case 33:o.key="PageUp";break;case 34:o.key="PageDown";break;case 35:o.key="End";break;case 36:o.key="Home";break;case 37:o.key="Left";break;case 38:o.key="Up";break;case 39:o.key="Right";break;case 40:o.key="Down";break;case 45:o.key="Insert";break;case 46:o.key="Del";break;case 48:o.key="0";break;case 187:case 61:case 107:o.key="Add";break;case 189:case 173:case 109:o.key="Subtract";break;case 27:o.key="Esc"}return e.doKeyDown(),Ds(o,t)},oe.prototype.CA=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=Xa(e,t,!1);switch(o.key=String.fromCharCode(t.which),o.up=!0,t.which){case 8:o.key="Backspace";break;case 33:o.key="PageUp";break;case 34:o.key="PageDown";break;case 35:o.key="End";break;case 36:o.key="Home";break;case 37:o.key="Left";break;case 38:o.key="Up";break;case 39:o.key="Right";break;case 40:o.key="Down";break;case 45:o.key="Insert";break;case 46:o.key="Del"}return e.doKeyUp(),Ds(o,t)},oe.prototype.Oz=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=Xa(e,t,!0);return null!==e.mouseEnter&&e.mouseEnter(o),Ds(o,t)},oe.prototype.Pz=function(t){var e=this.B;if(!e.isEnabled)return!1;var o=Xa(e,t,!0);return null!==e.mouseLeave&&e.mouseLeave(o),Ds(o,t)},oe.prototype.getMouse=function(t){var e=this.ya;if(null===e)return new J(0,0);var o=e.getBoundingClientRect();return e=t.clientX-this.va/o.width*o.left,t=t.clientY-this.ua/o.height*o.top,null!==this.sb?qt(new J(e,t),this.sb):new J(e,t)},oe.prototype.Na=function(){this.vi||(this.vi=!0,this.Db(!0))},oe.prototype.redraw=function(){this.Sb||this.ac||(this.M(),Sl(this),Dl(this),this.Na(),this.hd())},(q=oe.prototype).AA=function(){return this.Ee},q.Jz=function(t){void 0===t&&(t=null);var e=this.animationManager,o=e.isEnabled;e.Bc(),e.isEnabled=!1,mr(this),this.qe=!1,this.Ts=new J(NaN,NaN),e.isEnabled=o,this.ac=!0;var a=this;null!==t&&V(function(){a.ac=!1,dc(e,"Model"),t(a)},1)},q.Db=function(t){if(void 0===t&&(t=!1),!0!==this.Ee&&!(this.Sb||!1===t&&this.ac)){this.Ee=!0;var e=this;T.requestAnimationFrame(function(){e.Ee&&e.hd()})}},q.hd=function(){(!this.Kj||this.Ee)&&(this.Kj&&(this.Kj=!1),mr(this))},q.Vw=function(t,e){for(t.reset();t.next();){var o=t.value;!o.Nc()||o instanceof Je||(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o))}for(t.reset();t.next();)(o=t.value)instanceof Je&&o.isVisible()&&zd(this,o);for(t.reset();t.next();)(o=t.value)instanceof Ce&&o.isVisible()&&(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o));for(t.reset();t.next();)(o=t.value)instanceof Ci&&o.isVisible()&&(o.rj()?(o.measure(1/0,1/0),o.arrange()):e.add(o))},q.Nd=function(t,e,o,a){if(this.xi||this.animationManager.isAnimating){void 0===a&&(a=o.viewportBounds);for(var h=0;h<e;h++)t[h].Nd(o,a)}},q.mc=function(t,e){if(void 0===e&&(e=null),null!==this.Da){null===this.ya&&R("No canvas specified");var o=this.animationManager;if(!o.sc&&(!o.isAnimating||o.isTicking)){var a=new Date;if(mc(this),"0"!==this.Da.style.opacity){var h=t!==this.Gb,c=this.Ma.j,m=c.length,x=this;if(this.Nd(c,m,x),h)t.uc(!0),Dl(this);else if(!this.Dc&&null===e&&!o.isAnimating)return;m=this.la;var S=this.Aa,E=Math.round(m.x*S)/S,P=Math.round(m.y*S)/S;for((o=this.sb).reset(),1!==S&&o.scale(S),0===m.x&&0===m.y||o.translate(-E,-P),S=this.Tb,t.setTransform(1,0,0,1,0,0),t.scale(S,S),t.clearRect(0,0,this.va,this.ua),1!==this.hb&&(t.globalAlpha=this.hb),E1(this,t),E=null!==e?function(N){var nt=e;if(N.visible&&0!==N.hb){var at=N.Fa.j,rt=at.length;if(0!==rt){var _t=Oh(N,t),It=N.rp;It.length=0;for(var Pt=x.scale,Vt=Lt.alloc(),Ht=0;Ht<rt;Ht++){var Wt=at[Ht];nt.contains(Wt)||N.dj(t,Wt,x,It,Pt,Vt,!0)}Lt.free(Vt),t.globalAlpha=_t}}}:function(N){N.mc(t,x)},m=c.length,P=0;P<m;P++)t.setTransform(1,0,0,1,0,0),t.scale(S,S),t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),E(c[P]);if(c=!1,this.ui?H0(this.ui,this)&&(c=this.Tr()):c=!0,c&&(di.prototype.Jd=di.prototype.Zx),h?(this.Gb.uc(!0),Dl(this)):this.Dc=this.xi=!1,c=+new Date-+a,a=this.hv,(h=ut&&ut.my)||null===this.yh){for(a[this.ep]=c,this.ep=(this.ep+1)%a.length,o=c=0;o<a.length;o++)c+=a[o];this.cp=c/a.length}if(1!==this.hb&&(t.globalAlpha=1),h)for(t.setTransform(1,0,0,1,0,0),h=0;h<a.length;h++)t.fillText(a[h].toString(),20,150+20*h)}}}},q.Ke=function(t){return this.hf[t]},q.Ty=function(t,e){"minDrawingLength"===t&&(this.Xo=e),this.hf[t]=e,this.redraw()},q.xw=function(){this.hf=new wt,this.hf.drawShadows=!0,this.hf.textGreeking=!0,this.hf.viewportOptimizations=!(W||f||C),this.hf.temporaryPixelRatio=!0,this.hf.pictureRatioOptimization=!0,this.Xo=this.hf.minDrawingLength=1},q.Bm=function(t){return this.Nj[t]},q.aB=function(t,e){this.Nj[t]=e},q.ww=function(){this.Nj=new wt,this.Nj.extraTouchArea=10,this.Nj.extraTouchThreshold=10,this.Nj.hasGestureZoom=!0},q.Fw=function(t){T0(this,t)},q.Hv=function(){if(0===this.undoManager.transactionLevel&&0!==this.Vg.count){for(;0<this.Vg.count;){var t=this.Vg;for(this.Vg=new ot,t=t.iterator;t.next();){var e=t.key;e.Oq(t.value),e.dc()}}this.M()}},q.M=function(t){if(void 0===t&&(t=null),null===t)this.Dc=!0,this.Db();else{var e=this.viewportBounds;null!==t&&t.o()&&e.Mc(t)&&(this.Dc=!0,this.Db())}this.R("InvalidateDraw")},oe.prototype.invalidateViewport=function(t,e){if(!0!==this.Dc){this.Dc=!0;var o=!0===this.Ke("temporaryPixelRatio");if(!0===this.Ke("viewportOptimizations")&&this.scrollMode!==yc&&this.Si.fj(0,0,0,0)&&e.width===t.width&&e.height===t.height){var a=this.scale,h=Math.max(t.x,e.x),c=Math.max(t.y,e.y);if(a=Lt.allocAt(h,c,Math.max(0,Math.min(t.x+t.width,e.x+e.width)-h)*a,Math.max(0,Math.min(t.y+t.height,e.y+e.height)-c)*a),!this.gq&&0<a.width&&0<a.height){if(!(this.ac||(this.Ee=!1,null===this.Da||(this.ac=!0,this.Hv(),this.documentBounds.o()||Ug(this,this.computeBounds()),h=this.ya,null===h||h instanceof Ws)))){var m=this.Tb;c=this.va*m;var x=this.ua*m,S=this.scale*m,E=Math.round(Math.round(e.x*S)-Math.round(t.x*S));e=Math.round(Math.round(e.y*S)-Math.round(t.y*S)),t=this.ux,(S=this.Ju).width!==c&&(S.width=c),S.height!==x&&(S.height=x),t.clearRect(0,0,c,x),S=190*m;var P=70*m,N=Math.max(E,0),nt=Math.max(e,0),at=Math.floor(c-N),rt=Math.floor(x-nt);t.drawImage(h.Ja,N,nt,at,rt,0,0,at,rt),H0(this.ui,this)&&t.clearRect(0,0,S,P),h=u(),t=u(),rt=Math.abs(E),at=Math.abs(e);var _t=0===N?0:c-rt;N=J.allocAt(_t,0),rt=J.allocAt(rt+_t,x),t.push(new Lt(Math.min(N.x,rt.x),Math.min(N.y,rt.y),Math.abs(N.x-rt.x),Math.abs(N.y-rt.y)));var It=this.sb;if(It.reset(),It.scale(m,m),1!==this.Aa&&It.scale(this.Aa),(0!==(m=this.la).x||0!==m.y)&&isFinite(m.x)&&isFinite(m.y)&&It.translate(-m.x,-m.y),qt(N,It),qt(rt,It),h.push(new Lt(Math.min(N.x,rt.x),Math.min(N.y,rt.y),Math.abs(N.x-rt.x),Math.abs(N.y-rt.y))),N.h(0,_t=0===nt?0:x-at),rt.h(c,at+_t),t.push(new Lt(Math.min(N.x,rt.x),Math.min(N.y,rt.y),Math.abs(N.x-rt.x),Math.abs(N.y-rt.y))),qt(N,It),qt(rt,It),h.push(new Lt(Math.min(N.x,rt.x),Math.min(N.y,rt.y),Math.abs(N.x-rt.x),Math.abs(N.y-rt.y))),H0(this.ui,this)&&(N.h(c=0<E?0:-E,x=0<e?0:-e),rt.h(S+c,P+x),t.push(new Lt(Math.min(N.x,rt.x),Math.min(N.y,rt.y),Math.abs(N.x-rt.x),Math.abs(N.y-rt.y))),qt(N,It),qt(rt,It),h.push(new Lt(Math.min(N.x,rt.x),Math.min(N.y,rt.y),Math.abs(N.x-rt.x),Math.abs(N.y-rt.y)))),J.free(N),J.free(rt),Ka(this,!1,!0),null===this.Da&&R("No div specified"),null===this.ya&&R("No canvas specified"),!this.animationManager.sc&&(c=this.Gb,this.Dc)){for(mc(this),x=this.Tb,c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,this.va*x,this.ua*x),c.drawImage(this.Ju.Ja,0<E?0:Math.round(-E),0<e?0:Math.round(-e)),E=this.la,m=this.Aa,S=Math.round(E.x*m)/m,P=Math.round(E.y*m)/m,(e=this.sb).reset(),1!==m&&e.scale(m),0===E.x&&0===E.y||e.translate(-S,-P),c.save(),c.beginPath(),E=t.length,m=0;m<E;m++)0!==(S=t[m]).width&&0!==S.height&&c.rect(Math.floor(S.x),Math.floor(S.y),Math.ceil(S.width),Math.ceil(S.height));for(c.clip(),c.setTransform(1,0,0,1,0,0),c.scale(x,x),c.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy),this.Nd(e=this.Ma.j,E=e.length,this),E1(this,c),c.globalAlpha=this.hb,x=0;x<E;x++)if(S=h,(m=e[x]).visible&&0!==m.hb){P=Oh(m,c),(nt=m.rp).length=0,N=this.scale,at=Lt.alloc(),It=(rt=m.Fa.j).length,_t=S.length;for(var Pt=0;Pt<It;Pt++){var Vt=rt[Pt],Ht=Dc(Vt,Vt.actualBounds);t:{for(var Wt=2/N,Qt=4/N,me=0;me<_t;me++){var Be=S[me];if(0!==Be.width&&0!==Be.height&&Ht.cw(Be.x-Wt,Be.y-Wt,Be.width+Qt,Be.height+Qt)){Ht=!0;break t}}Ht=!1}Ht&&m.dj(c,Vt,this,nt,N,at,!0)}Lt.free(at),c.globalAlpha=P}c.restore(),c.uc(!0),this.ui&&H0(this.ui,this)&&this.Tr(),this.Dc=this.xi=!1,this.Yq()}p(h),p(t),this.ac=!1}}else this.hd();Lt.free(a),o&&(Yo(this),this.hd(),Cl(this,!0))}else o?(Yo(this),this.hd(),Cl(this,!0)):this.hd()}},(q=oe.prototype).add=function(t){var e=t.diagram;if(e!==this&&(null!==e&&R("Cannot add part "+t.toString()+" to "+this.toString()+". It is already a part of "+e.toString()),null===(e=this.xk(t.layerName))&&(e=this.xk("")),null===e&&R('Cannot add a Part when unable find a Layer named "'+t.layerName+'" and there is no default Layer'),t.layer!==e)){var o=e.oj(99999999,t,t.diagram===this);0<=o&&this.Va(hr,"parts",e,null,t,null,o),e.isTemporary||this.Na(),t.C(1),null!==(o=t.layerChanged)&&o(t,null,e)}},q.oj=function(t){this.partManager.oj(t);var e=this;Pf(t,function(o){Hg(e,o)}),(t instanceof Ci||t instanceof Je&&null!==t.placeholder)&&t.s(),null!==t.data&&Pf(t,function(o){Gx(e.partManager,o)}),!0!==hs(t)&&!0!==Xh(t)||this.wd.add(t),Fb(t,!0,this),gx(t)?(t.actualBounds.o()&&this.M(Dc(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.o()&&this.M(Dc(t,t.actualBounds)),this.Db()},q.Lc=function(t){t.nk(),this.partManager.Lc(t);var e=this;null!==t.data&&Pf(t,function(o){Gv(e.partManager,o,e)}),this.wd.remove(t),gx(t)?(t.actualBounds.o()&&this.M(Dc(t,t.actualBounds)),this.Na()):t.isVisible()&&t.actualBounds.o()&&this.M(Dc(t,t.actualBounds)),this.Db()},q.remove=function(t){k1(this,t,!0)},q.gu=function(t,e){if(void 0===e&&(e=!1),mt(t))for(var o=t.length,a=0;a<o;a++){var h=t[a];e&&!h.canDelete()||this.remove(h)}else for((o=new At).addAll(t),t=o.iterator;t.next();)o=t.value,e&&!o.canDelete()||this.remove(o)},q.tk=function(t,e,o){return void 0===o&&(o=!1),this.partManager.tk(t,e,o)},oe.prototype.moveParts=function(t,e,o,a){if(void 0===o&&(o=!1),void 0===a&&(a=A1(this)),null!==this.toolManager){var h=new ot;if(null!==t)if(mt(t))for(var c=0;c<t.length;c++)Es(this,h,t[c],o,a);else for(t=t.iterator;t.next();)Es(this,h,t.value,o,a);else{for(t=this.parts;t.next();)Es(this,h,t.value,o,a);for(t=this.nodes;t.next();)Es(this,h,t.value,o,a);for(t=this.links;t.next();)Es(this,h,t.value,o,a)}bf(this,h,e,a,o)}},oe.prototype.computeMove=function(t,e,o,a){if(void 0===a&&(a=new J),a.assign(e),null===t)return a;var h=e,c=o.isGridSnapEnabled;c&&(o.isGridSnapRealtime||this.lastInput.up)&&T1(this,t,e,h=J.alloc(),o),o=null!==t.dragComputation?t.dragComputation(t,e,h):h;var m=t.minLocation,x=m.x;isNaN(x)&&(x=c?Math.round(1e3*t.location.x)/1e3:t.location.x),m=m.y,isNaN(m)&&(m=c?Math.round(1e3*t.location.y)/1e3:t.location.y);var S=t.maxLocation,E=S.x;return isNaN(E)&&(E=c?Math.round(1e3*t.location.x)/1e3:t.location.x),S=S.y,isNaN(S)&&(S=c?Math.round(1e3*t.location.y)/1e3:t.location.y),a.h(Math.max(x,Math.min(o.x,E)),Math.max(m,Math.min(o.y,S))),h!==e&&J.free(h),a},(q=oe.prototype).Cd=function(t,e,o){if(void 0===o)return new xc(xe);var a=t.isGridSnapEnabled;return t.groupsSnapMembers||null===e.containingGroup||(a=!1),new xc(a?new J(Math.round(1e3*o.x)/1e3,Math.round(1e3*o.y)/1e3):o.copy())},q.um=function(t){P1(this,t,null),t.ee(this);var e=this.Ma,o=e.count-1;if(!t.isTemporary)for(;0<=o&&e.J(o).isTemporary;)o--;e.wb(o+1,t),null!==this.cc&&this.Va(hr,"layers",this,null,t,null,o+1),this.M(),this.Na()},q.Ux=function(t,e){P1(this,t,e),t.ee(this);var o=this.Ma,a=o.indexOf(t);0<=a&&(o.remove(t),null!==this.cc&&this.Va(_i,"layers",this,t,null,a,null));var c,h=o.count;for(c=0;c<h;c++)if(o.J(c)===e){o.wb(c,t);break}null!==this.cc&&this.Va(hr,"layers",this,null,t,null,c),this.M(),0>a&&this.Na()},q.nz=function(t,e){P1(this,t,e),t.ee(this);var o=this.Ma,a=o.indexOf(t);0<=a&&(o.remove(t),null!==this.cc&&this.Va(_i,"layers",this,t,null,a,null));var c,h=o.count;for(c=0;c<h;c++)if(o.J(c)===e){o.wb(c+1,t);break}null!==this.cc&&this.Va(hr,"layers",this,null,t,null,c+1),this.M(),0>a&&this.Na()},q.TA=function(t){if(t.diagram!==this&&R("Cannot remove a Layer from another Diagram: "+t+" of "+t.diagram),""!==t.name){var e=this.Ma,o=e.indexOf(t);if(e.remove(t)){for(e=t.Fa.copy().iterator;e.next();){var a=e.value,h=a.layerName;a.layerName=h!==t.name?h:""}null!==this.cc&&this.Va(_i,"layers",this,t,null,o,null),this.M(),this.Na()}}},q.xk=function(t){for(var e=this.layers;e.next();){var o=e.value;if(o.name===t)return o}return null},q.Wx=function(t){null===this.we&&(this.we=new St),this.we.add(t),this.model.Hh(t)},q.VA=function(t){null!==this.we&&(this.we.remove(t),0===this.we.count&&(this.we=null)),this.model.Tk(t)},q.Hh=function(t){null===this.Of&&(this.Of=new St),this.Of.add(t)},q.Tk=function(t){null!==this.Of&&(this.Of.remove(t),0===this.Of.count&&(this.Of=null))},q.zt=function(t){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.aw(t),t.change!==no&&(this.isModified=!0),null!==this.Of)for(var e=this.Of,o=e.length,a=0;a<o;a++)e.J(a)(t)},q.Va=function(t,e,o,a,h,c,m){void 0===c&&(c=null),void 0===m&&(m=null);var x=new kn;x.diagram=this,x.change=t,x.propertyName=e,x.object=o,x.oldValue=a,x.oldParam=c,x.newValue=h,x.newParam=m,this.zt(x)},q.g=function(t,e,o,a,h){this.Va(pn,t,this,e,o,a,h)},oe.prototype.changeState=function(t,e){if(null!==t&&t.diagram===this){var o=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var a=t.change;if(a===pn){var h=t.object;if(fn(h,t.propertyName,t.G(e)),h instanceof Ge){var c=h.part;null!==c&&c.Lb()}this.isModified=!0}else if(a===hr){var m=t.object,x=t.newParam,S=t.newValue;if(m instanceof pe)if("number"==typeof x&&S instanceof Ge){e?m.Lc(x):m.wb(x,S);var E=m.part;null!==E&&E.Lb()}else"number"==typeof x&&S instanceof nr&&(S.isRow?bb(m,x,e?void 0:S):Mb(m,x,e?void 0:S));else if(m instanceof Ur){var P=!0===t.oldParam;"number"==typeof x&&S instanceof Ye&&(e?(S.isSelected=!1,S.isHighlighted=!1,S.Lb(),m.Lc(P?x:-1,S,P)):m.oj(x,S,P))}else m instanceof oe?"number"==typeof x&&S instanceof Ur&&(e?this.Ma.cb(x):(S.ee(this),this.Ma.wb(x,S))):R("unknown ChangedEvent.Insert object: "+t.toString());this.isModified=!0}else if(a===_i){var N=t.object,nt=t.oldParam,at=t.oldValue;if(N instanceof pe)"number"==typeof nt&&at instanceof Ge?e?N.wb(nt,at):N.Lc(nt):"number"==typeof nt&&at instanceof nr&&(at.isRow?bb(N,nt,e?at:void 0):Mb(N,nt,e?at:void 0));else if(N instanceof Ur){var rt=!0===t.newParam;"number"==typeof nt&&at instanceof Ye&&(e?0>N.Fa.indexOf(at)&&N.oj(nt,at,rt):(at.isSelected=!1,at.isHighlighted=!1,at.Lb(),N.Lc(rt?nt:-1,at,rt)))}else N instanceof oe?"number"==typeof nt&&at instanceof Ur&&(e?(at.ee(this),this.Ma.wb(nt,at)):this.Ma.cb(nt)):R("unknown ChangedEvent.Remove object: "+t.toString());this.isModified=!0}else a!==no&&R("unknown ChangedEvent: "+t.toString())}finally{this.skipsModelSourceBindings=o}}},oe.prototype.xa=function(t){return this.undoManager.xa(t)},oe.prototype.Xa=function(t){return this.undoManager.Xa(t)},oe.prototype.If=function(){return this.undoManager.If()},oe.prototype.commit=function(t,e){void 0===e&&(e="");var o=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.xa(e);var a=!1;try{t(this),a=!0}finally{a?this.undoManager.Xa(e):this.undoManager.If(),this.skipsUndoManager=o}},oe.prototype.updateAllTargetBindings=function(t){this.partManager.updateAllTargetBindings(t)},oe.prototype.ir=function(){this.partManager.ir()},oe.prototype.onViewportBoundsChanged=function(t,e,o,a){if(!t.w(e)){void 0===a&&(a=!1),a||Sl(this),Dl(this);var h=this.layout;null===h||!h.isViewportSized||this.autoScale!==oo||a||t.width===e.width&&t.height===e.height||h.C(),h=this.currentTool,!0===this.Zf&&h instanceof An&&(this.lastInput.documentPoint=this.ou(this.lastInput.viewPoint),g1(h,this)),this.Sb||this.invalidateViewport(t,e),Du(this),this.Ic.scale=o,this.Ic.position.x=t.x,this.Ic.position.y=t.y,this.Ic.bounds.assign(t),this.Ic.Gv.width=Math.round(t.width*o),this.Ic.Gv.height=Math.round(t.height*o),this.Ic.kw.width=this.va,this.Ic.kw.height=this.ua,this.Ic.hw=a,this.R("ViewportBoundsChanged",this.Ic,t),this.isVirtualized&&this.links.each(function(c){c.isAvoiding&&c.actualBounds.Mc(e)&&c.Ua()})}},oe.prototype.clearSelection=function(t){void 0===t&&(t=!1);var e=this.selection;if(0!==e.count){t||this.R("ChangingSelection",e);for(var o=e.ma(),a=o.length,h=0;h<a;h++)o[h].isSelected=!1;e.ea(),e.clear(),e.freeze(),t||this.R("ChangedSelection",e)}},oe.prototype.select=function(t){null!==t&&t.layer.diagram===this&&(!t.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),t.isSelected=!0,this.R("ChangedSelection",this.selection))},oe.prototype.$A=function(t){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),mt(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];a instanceof Ye||R("Diagram.selectCollection given something that is not a Part: "+a),a.isSelected=!0}else for(t=t.iterator;t.next();)(e=t.value)instanceof Ye||R("Diagram.selectCollection given something that is not a Part: "+e),e.isSelected=!0;this.R("ChangedSelection",this.selection)},oe.prototype.clearHighlighteds=function(){var t=this.highlighteds;if(0<t.count){for(var e=t.ma(),o=e.length,a=0;a<o;a++)e[a].isHighlighted=!1;t.ea(),t.clear(),t.freeze()}},(q=oe.prototype).uA=function(t){null!==t&&t.layer.diagram===this&&(!t.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),t.isHighlighted=!0)},q.vA=function(t){t=(new At).addAll(t);for(var e=this.highlighteds.copy().Zq(t).iterator;e.next();)e.value.isHighlighted=!1;for(t=t.iterator;t.next();)(e=t.value)instanceof Ye||R("Diagram.highlightCollection given something that is not a Part: "+e),e.isHighlighted=!0},q.scroll=function(t,e,o){void 0===o&&(o=1);var a="up"===e||"down"===e,h=0;if("pixel"===t)h=o;else if("line"===t)h=o*(a?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===t)t=a?this.viewportBounds.height:this.viewportBounds.width,0!=(t*=this.scale)&&(h=o*Math.max(t-(a?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===t)return h=this.documentBounds,o=this.viewportBounds,a=J.alloc(),"up"===e?this.position=a.h(o.x,h.y):"left"===e?this.position=a.h(h.x,o.y):"down"===e?this.position=a.h(o.x,h.bottom-o.height):"right"===e&&(this.position=a.h(h.right-o.width,o.y)),void J.free(a);R("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+t)}h/=this.scale,o=this.position.copy(),"up"===e?o.y=this.position.y-h:"down"===e?o.y=this.position.y+h:"left"===e?o.x=this.position.x-h:"right"===e?o.x=this.position.x+h:R("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+e),this.position=o},q.Aw=function(t){var e=this.viewportBounds;e.Ge(t)||((t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t)},q.At=function(t){var e=this.viewportBounds;(t=t.center).x-=e.width/2,t.y-=e.height/2,this.position=t},q.gr=function(t){var e=this.sb;e.reset(),1!==this.Aa&&e.scale(this.Aa);var o=this.la;return(0!==o.x||0!==o.y)&&isFinite(o.x)&&isFinite(o.y)&&e.translate(-o.x,-o.y),t.copy().transform(this.sb)},q.iB=function(t){var e=this.sb,o=t.x,a=t.y,h=o+t.width,c=a+t.height,m=e.m11,x=e.m12,S=e.m21,E=e.m22,P=e.dx,N=e.dy,nt=o*m+a*S+P;e=o*x+a*E+N;var at=h*m+a*S+P;return t=h*x+a*E+N,a=o*m+c*S+P,o=o*x+c*E+N,m=h*m+c*S+P,h=h*x+c*E+N,c=Math.min(nt,at),nt=Math.max(nt,at),at=Math.min(e,t),e=Math.max(e,t),c=Math.min(c,a),nt=Math.max(nt,a),at=Math.min(at,o),e=Math.max(e,o),c=Math.min(c,m),nt=Math.max(nt,m),new Lt(c,at=Math.min(at,h),nt-c,(e=Math.max(e,h))-at)},q.ou=function(t){var e=this.sb;e.reset(),1!==this.Aa&&e.scale(this.Aa);var o=this.la;return(0!==o.x||0!==o.y)&&isFinite(o.x)&&isFinite(o.y)&&e.translate(-o.x,-o.y),qt(t.copy(),this.sb)},oe.prototype.doModelChanged=function(t){var e=this;if(t.model===this.model){var o=t.change,a=t.propertyName;if(o===no&&"S"===a[0])if("StartingFirstTransaction"===a){var h=this;(t=this.toolManager).mouseDownTools.each(function(S){S.diagram=h}),t.mouseMoveTools.each(function(S){S.diagram=h}),t.mouseUpTools.each(function(S){S.diagram=h}),this.ac||this.qe||(this.Hj=!0,this.Kj&&(this.Ee=!0))}else"StartingUndo"===a||"StartingRedo"===a?((t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===a&&(t=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&t.Bc();else if(this.Z){this.Z=!1;try{if(""===t.modelChange&&o===no){("FinishedUndo"===a||"FinishedRedo"===a)&&(this.R("ChangedSelection",this.selection),ro(this));var c=this.animationManager;"RolledBackTransaction"===a&&c.Bc(),this.Hj=!0,this.hd(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||Og(c),"CommittedTransaction"===a&&this.undoManager.isJustDiscarded&&(this.Xd=Math.min(this.Xd,this.undoManager.historyIndex-1)),"CommittedTransaction"!==a&&"RolledBackTransaction"!==a||!this.undoManager.isPendingUnmodified||setTimeout(function(){e.isModified=!1},1);var m=t.isTransactionFinished;if(m&&(P0(this),this.Yt.clear(),function(t){for(t=t.yj.iterator;t.next();)t.value.Il=!1}(this.animationManager)),!this.Bs&&m&&this.lastInput.targetDiagram){this.Bs=!0;var x=this;V(function(){x.currentTool.standardMouseOver(),x.Bs=!1},10)}}}finally{this.Z=!0}}}},oe.prototype.Md=function(){this.partManager.Md()},oe.prototype.jk=function(t,e){this.Uc.jk(t,e)},oe.prototype.lk=function(t,e){this.Uc.lk(t,e)},oe.prototype.findPartForKey=function(t){return this.partManager.findPartForKey(t)},oe.prototype.Cb=function(t){return this.partManager.Cb(t)},oe.prototype.findLinkForKey=function(t){return this.partManager.findLinkForKey(t)},(q=oe.prototype).zc=function(t){return this.partManager.zc(t)},q.gj=function(t){return this.partManager.gj(t)},q.yc=function(t){return this.partManager.yc(t)},q.It=function(t){for(var e=[],o=0;o<arguments.length;++o)e[o]=arguments[o];return this.partManager.It.apply(this.partManager,e instanceof Array?e:xt(yt(e)))},q.Ht=function(t){for(var e=[],o=0;o<arguments.length;++o)e[o]=arguments[o];return this.partManager.Ht.apply(this.partManager,e instanceof Array?e:xt(yt(e)))},q.Ta=function(){this.vi&&Ug(this,this.computeBounds())},q.dA=function(){for(var t=new At,e=this.nodes;e.next();){var o=e.value;o.isTopLevel&&t.add(o)}for(e=this.links;e.next();)(o=e.value).isTopLevel&&t.add(o);return t.iterator},q.cA=function(){return this.Dh.iterator},q.EA=function(t){ro(this),t&&Eu(this,!0),this.ac?vc(this,!1):(this.Hj=!0,mr(this))},q.jA=function(){for(var t=new St,e=this.nodes;e.next();){var o=e.value;o.isTopLevel&&null===o.jj()&&t.add(o)}return t.iterator},q.kk=function(t,e){null!==(t=Wg(this,t))&&t.add(e)},q.Lm=function(t,e){null!==(t=Wg(this,t))&&t.remove(e)},q.R=function(t,e,o){var a=Wg(this,t),h=new xu;if(h.diagram=this,null!==(t=sS(this,t))&&(h.name=t),void 0!==e&&(h.subject=e),void 0!==o&&(h.parameter=o),1===(e=a.length))a.J(0)(h);else if(0!==e)for(a=a.ma(),o=0;o<e;o++)(0,a[o])(h)},q.Ek=function(t,e){return void 0===e&&(e=null),R1(this,!1,null,e).Ek(t.x,t.y,t.width,t.height)},oe.prototype.computeOccupiedArea=function(){return this.isVirtualized?this.viewportBounds.copy():this.vi?lb(this):this.documentBounds.copy()},oe.prototype.Et=function(t){this.rn.assign(t),this.computeAutoScrollPosition(this.rn).Qa(this.position)?this.Jf():Yg(this)},oe.prototype.Jf=function(){-1!==this.Bj&&(T.clearTimeout(this.Bj),this.Bj=-1)},oe.prototype.computeAutoScrollPosition=function(t){var e=this.position,o=this.sn;if(0>=o.top&&0>=o.left&&0>=o.right&&0>=o.bottom)return e;var a=this.viewportBounds,h=this.scale;a=Lt.allocAt(0,0,a.width*h,a.height*h);var c=J.allocAt(0,0);if(t.x>=a.x&&t.x<a.x+o.left&&this.allowHorizontalScroll){var m=Math.max(this.scrollHorizontalLineChange,1);c.x-=m|=0,t.x<a.x+o.left/2&&(c.x-=m),t.x<a.x+o.left/4&&(c.x-=4*m)}else t.x<=a.x+a.width&&t.x>a.x+a.width-o.right&&this.allowHorizontalScroll&&(m=Math.max(this.scrollHorizontalLineChange,1),c.x+=m|=0,t.x>a.x+a.width-o.right/2&&(c.x+=m),t.x>a.x+a.width-o.right/4&&(c.x+=4*m));return t.y>=a.y&&t.y<a.y+o.top&&this.allowVerticalScroll?(m=Math.max(this.scrollVerticalLineChange,1),c.y-=m|=0,t.y<a.y+o.top/2&&(c.y-=m),t.y<a.y+o.top/4&&(c.y-=4*m)):t.y<=a.y+a.height&&t.y>a.y+a.height-o.bottom&&this.allowVerticalScroll&&(m=Math.max(this.scrollVerticalLineChange,1),c.y+=m|=0,t.y>a.y+a.height-o.bottom/2&&(c.y+=m),t.y>a.y+a.height-o.bottom/4&&(c.y+=4*m)),c.Qa(xe)||(e=new J(e.x+c.x/h,e.y+c.y/h)),Lt.free(a),J.free(c),e},(q=oe.prototype).$t=function(){return null},q.iw=function(){return null},q.rz=function(t,e){this.Kx.add(t,e)},q.GA=function(t){return Us?(void 0===t&&(t=new wt),t.returnType="Image",this.Hy(t)):null},q.Hy=function(t){return void 0===t&&(t=new wt),O0(this,this.HA,t)},q.HA=function(t,e,o){var a=N0(o,t,"canvas",null);if(null===a)return null;var h=null;if(null!==(o=a.Y.canvas))switch(h=t.returnType,h=void 0===h?"string":h.toLowerCase(),h){case j0+"data":h=a.getImageData(0,0,o.width,o.height);break;case j0:(a=(t.document||document).createElement("img")).src=o.toDataURL(t.type,t.details),h=a;break;case"blob":return"function"!=typeof e&&R('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"==typeof o.toBlob?(o.toBlob(e,t.type,t.details),"toBlob"):"function"==typeof o.msToBlob?(e(o.msToBlob()),"msToBlob"):(e(null),null);default:h=o.toDataURL(t.type,t.details)}return"function"==typeof e?(e(h),null):h},B.Object.defineProperties(oe.prototype,{div:{get:function(){return this.Da},set:function(t){if(this.Da!==t){var e=this.Da;null!==e?(e.B=void 0,e.goDiagram=void 0,e.innerHTML="",null!==this.ya&&(e=this.ya.Ja,this.zj?(this.removeEventListener(e,"pointermove",this.Pk,!1),this.removeEventListener(e,"pointerdown",this.Ok,!1),this.removeEventListener(e,"pointerup",this.Rk,!1),this.removeEventListener(e,"pointerout",this.Qk,!1)):(this.removeEventListener(e,"touchstart",this.Ow,!1),this.removeEventListener(e,"touchmove",this.Nw,!1),this.removeEventListener(e,"touchend",this.Mw,!1)),this.ya.ky()),this.Zl&&(this.Zl.disconnect(),this.Zl=null),null!==(e=this.toolManager)&&(e.mouseDownTools.each(function(o){o.cancelWaitAfter()}),e.mouseMoveTools.each(function(o){o.cancelWaitAfter()}),e.mouseUpTools.each(function(o){o.cancelWaitAfter()})),e.cancelWaitAfter(),this.currentTool.doCancel(),this.Gb=this.ya=null,this.removeEventListener(T,"resize",this.Ww,!1),this.zj||(this.removeEventListener(T,"mousemove",this.Ik,!0),this.removeEventListener(T,"mousedown",this.Hk,!0),this.removeEventListener(T,"mouseup",this.Kk,!0),this.removeEventListener(T,"mouseout",this.Jk,!0)),this.removeEventListener(T,"wheel",this.Lk,!0),Gd===this&&(Gd=null)):this.qe=!1,this.Da=null,null!==t&&((e=t.B)&&(e.div=null),gb(this,t),this.redraw())}}},Yx:{get:function(){return this.cp}},pj:{get:function(){return this.qe}},draggedLink:{get:function(){return this.Sr},set:function(t){this.Sr!==t&&(this.Sr=t,null!==t&&(this.Fs=t.fromPort,this.Gs=t.toPort))}},Ky:{get:function(){return this.Fs},set:function(t){this.Fs=t}},Ly:{get:function(){return this.Gs},set:function(t){this.Gs=t}},animationManager:{get:function(){return this.Uc}},undoManager:{get:function(){return this.cc.undoManager}},skipsUndoManager:{get:function(){return this.vg},set:function(t){this.vg=t,this.cc.skipsUndoManager=t}},delaysLayout:{get:function(){return this.Nr},set:function(t){this.Nr=t}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&Z(t,"0 <= value <= 1",oe,"opacity"),this.hb=t,this.g("opacity",e,t),this.M())}},validCycle:{get:function(){return this.tt},set:function(t){var e=this.tt;e!==t&&(this.tt=t,this.g("validCycle",e,t))}},layers:{get:function(){return this.Ma.iterator}},isModelReadOnly:{get:function(){var t=this.cc;return null!==t&&t.isReadOnly},set:function(t){var e=this.cc;null!==e&&(e.isReadOnly=t)}},isReadOnly:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("isReadOnly",e,t))}},isEnabled:{get:function(){return this.md},set:function(t){var e=this.md;e!==t&&(this.md=t,this.g("isEnabled",e,t))}},allowClipboard:{get:function(){return this.nr},set:function(t){var e=this.nr;e!==t&&(this.nr=t,this.g("allowClipboard",e,t))}},allowCopy:{get:function(){return this.$h},set:function(t){var e=this.$h;e!==t&&(this.$h=t,this.g("allowCopy",e,t))}},allowDelete:{get:function(){return this.ai},set:function(t){var e=this.ai;e!==t&&(this.ai=t,this.g("allowDelete",e,t))}},allowDragOut:{get:function(){return this.pr},set:function(t){var e=this.pr;e!==t&&(this.pr=t,this.g("allowDragOut",e,t))}},allowDrop:{get:function(){return this.qr},set:function(t){var e=this.qr;e!==t&&(this.qr=t,this.g("allowDrop",e,t))}},allowTextEdit:{get:function(){return this.ji},set:function(t){var e=this.ji;e!==t&&(this.ji=t,this.g("allowTextEdit",e,t))}},allowGroup:{get:function(){return this.bi},set:function(t){var e=this.bi;e!==t&&(this.bi=t,this.g("allowGroup",e,t))}},allowUngroup:{get:function(){return this.ki},set:function(t){var e=this.ki;e!==t&&(this.ki=t,this.g("allowUngroup",e,t))}},allowInsert:{get:function(){return this.sr},set:function(t){var e=this.sr;e!==t&&(this.sr=t,this.g("allowInsert",e,t))}},allowLink:{get:function(){return this.ci},set:function(t){var e=this.ci;e!==t&&(this.ci=t,this.g("allowLink",e,t))}},allowRelink:{get:function(){return this.ei},set:function(t){var e=this.ei;e!==t&&(this.ei=t,this.g("allowRelink",e,t))}},allowMove:{get:function(){return this.di},set:function(t){var e=this.di;e!==t&&(this.di=t,this.g("allowMove",e,t))}},allowReshape:{get:function(){return this.fi},set:function(t){var e=this.fi;e!==t&&(this.fi=t,this.g("allowReshape",e,t))}},allowResize:{get:function(){return this.gi},set:function(t){var e=this.gi;e!==t&&(this.gi=t,this.g("allowResize",e,t))}},allowRotate:{get:function(){return this.hi},set:function(t){var e=this.hi;e!==t&&(this.hi=t,this.g("allowRotate",e,t))}},allowSelect:{get:function(){return this.ii},set:function(t){var e=this.ii;e!==t&&(this.ii=t,this.g("allowSelect",e,t))}},allowUndo:{get:function(){return this.tr},set:function(t){var e=this.tr;e!==t&&(this.tr=t,this.g("allowUndo",e,t))}},allowZoom:{get:function(){return this.vr},set:function(t){var e=this.vr;e!==t&&(this.vr=t,this.g("allowZoom",e,t))}},hasVerticalScrollbar:{get:function(){return this.wl},set:function(t){var e=this.wl;e!==t&&(this.wl=t,Sl(this),this.M(),this.g("hasVerticalScrollbar",e,t),Sa(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.vl},set:function(t){var e=this.vl;e!==t&&(this.vl=t,Sl(this),this.M(),this.g("hasHorizontalScrollbar",e,t),Sa(this,!1))}},allowHorizontalScroll:{get:function(){return this.rr},set:function(t){var e=this.rr;e!==t&&(this.rr=t,this.g("allowHorizontalScroll",e,t),Sa(this,!1))}},allowVerticalScroll:{get:function(){return this.ur},set:function(t){var e=this.ur;e!==t&&(this.ur=t,this.g("allowVerticalScroll",e,t),Sa(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.Ws},set:function(t){var e=this.Ws;e!==t&&(0>t&&Z(t,">= 0",oe,"scrollHorizontalLineChange"),this.Ws=t,this.g("scrollHorizontalLineChange",e,t))}},scrollVerticalLineChange:{get:function(){return this.$s},set:function(t){var e=this.$s;e!==t&&(0>t&&Z(t,">= 0",oe,"scrollVerticalLineChange"),this.$s=t,this.g("scrollVerticalLineChange",e,t))}},lastInput:{get:function(){return this.hh},set:function(t){this.hh=t}},previousInput:{get:function(){return this.od},set:function(t){this.od=t}},firstInput:{get:function(){return this.Wf},set:function(t){this.Wf=t}},currentCursor:{get:function(){return this.Hr},set:function(t){if(""===t&&(t=this.Pn),this.Hr!==t){var e=this.ya,o=this.Da;if(null!==e){this.Hr=t;var a=e.style.cursor;e.style.cursor=t,o.style.cursor=t,e.style.cursor===a&&(e.style.cursor="-webkit-"+t,o.style.cursor="-webkit-"+t,e.style.cursor===a&&(e.style.cursor="-moz-"+t,o.style.cursor="-moz-"+t,e.style.cursor===a&&(e.style.cursor=t,o.style.cursor=t)))}}}},defaultCursor:{get:function(){return this.Pn},set:function(t){""===t&&(t="auto");var e=this.Pn;e!==t&&(this.Pn=t,this.g("defaultCursor",e,t))}},click:{get:function(){return this.Pf},set:function(t){var e=this.Pf;e!==t&&(this.Pf=t,this.g("click",e,t))}},doubleClick:{get:function(){return this.Uf},set:function(t){var e=this.Uf;e!==t&&(this.Uf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return this.Qf},set:function(t){var e=this.Qf;e!==t&&(this.Qf=t,this.g("contextClick",e,t))}},mouseOver:{get:function(){return this.lg},set:function(t){var e=this.lg;e!==t&&(this.lg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return this.jg},set:function(t){var e=this.jg;e!==t&&(this.jg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return this.ig},set:function(t){var e=this.ig;e!==t&&(this.ig=t,this.g("mouseHold",e,t))}},mouseDragOver:{get:function(){return this.As},set:function(t){var e=this.As;e!==t&&(this.As=t,this.g("mouseDragOver",e,t))}},mouseDrop:{get:function(){return this.gg},set:function(t){var e=this.gg;e!==t&&(this.gg=t,this.g("mouseDrop",e,t))}},handlesDragDropForTopLevelParts:{get:function(){return this.cs},set:function(t){var e=this.cs;e!==t&&(this.cs=t,this.g("handlesDragDropForTopLevelParts",e,t))}},mouseEnter:{get:function(){return this.hg},set:function(t){var e=this.hg;e!==t&&(this.hg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return this.kg},set:function(t){var e=this.kg;e!==t&&(this.kg=t,this.g("mouseLeave",e,t))}},toolTip:{get:function(){return this.wg},set:function(t){var e=this.wg;e!==t&&(this.wg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return this.Rf},set:function(t){var e=this.Rf;e!==t&&(this.Rf=t,this.g("contextMenu",e,t))}},commandHandler:{get:function(){return this.Br},set:function(t){this.Br!==t&&(this.Br=t,t.ee(this))}},toolManager:{get:function(){return this.pt},set:function(t){this.pt!==t&&(this.pt=t,t.diagram=this)}},defaultTool:{get:function(){return this.Mr},set:function(t){var e=this.Mr;e!==t&&(this.Mr=t,t.diagram=this,this.currentTool===e&&(this.currentTool=t))}},currentTool:{get:function(){return this.Jr},set:function(t){var e=this.Jr;null!==e&&(e.isActive&&e.doDeactivate(),e.cancelWaitAfter(),e.doStop()),null===t&&(t=this.defaultTool),null!==t&&(this.Jr=t,t.diagram=this,t.doStart())}},selection:{get:function(){return this.qv}},maxSelectionCount:{get:function(){return this.ws},set:function(t){var e=this.ws;if(e!==t)if(0<=t&&!isNaN(t)){if(this.ws=t,this.g("maxSelectionCount",e,t),!this.undoManager.isUndoingRedoing&&0<(t=this.selection.count-t)){this.R("ChangingSelection",this.selection),e=this.selection.ma();for(var o=0;o<t;o++)e[o].isSelected=!1;this.R("ChangedSelection",this.selection)}}else Z(t,">= 0",oe,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.kp},set:function(t){var e=this.kp;e!==t&&(this.kp=t,this.g("nodeSelectionAdornmentTemplate",e,t))}},groupSelectionAdornmentTemplate:{get:function(){return this.qo},set:function(t){var e=this.qo;e!==t&&(this.qo=t,this.g("groupSelectionAdornmentTemplate",e,t))}},linkSelectionAdornmentTemplate:{get:function(){return this.Lo},set:function(t){var e=this.Lo;e!==t&&(this.Lo=t,this.g("linkSelectionAdornmentTemplate",e,t))}},highlighteds:{get:function(){return this.Su}},isModified:{get:function(){var t=this.undoManager;return t.isEnabled?null!==t.currentTransaction||this.wo&&this.Xd!==t.historyIndex:this.wo},set:function(t){if(this.wo!==t){this.wo=t;var e=this.undoManager;!t&&e.isEnabled&&(this.Xd=e.historyIndex),t||P0(this)}}},model:{get:function(){return this.cc},set:function(t){var e=this.cc;if(e!==t){this.currentTool.doCancel(),null!==e&&e.undoManager!==t.undoManager&&e.undoManager.isInTransaction&&R("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.Bc(!0);var o=iS(this,!0);this.qe=!1,this.Kj=!0,this.Xd=-2,this.Ee=!1;var a=this.ac;this.ac=!0,dc(this.animationManager,"Model"),null!==e&&(null!==this.we&&this.we.each(function(c){e.Tk(c)}),e.Tk(this.Tc)),this.cc=t,this.partManager=function(t){return null!==(t=F0.get(t))?new t:new Ri}(this.cc.type);for(var h=0;h<o.length;h++)this.add(o[h]);t.Hh(this.Cc),this.partManager.addAllModeledParts(),t.Tk(this.Cc),t.Hh(this.Tc),null!==this.we&&this.we.each(function(c){t.Hh(c)}),this.ac=a,this.Na(),this.Sb||this.M(),null!==e&&t.undoManager.copyProperties(e.undoManager)}}},Z:{get:function(){return this.av},set:function(t){this.av=t}},Yt:{get:function(){return this.Ax}},skipsModelSourceBindings:{get:function(){return this.rv},set:function(t){this.rv=t}},mu:{get:function(){return this.gt},set:function(t){this.gt=t}},nodeTemplate:{get:function(){return this.df.G("")},set:function(t){var e=this.df.G("");e!==t&&(this.df.add("",t),this.g("nodeTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},nodeTemplateMap:{get:function(){return this.df},set:function(t){var e=this.df;e!==t&&(this.df=t,this.g("nodeTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},groupTemplate:{get:function(){return this.fh.G("")},set:function(t){var e=this.fh.G("");e!==t&&(this.fh.add("",t),this.g("groupTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},groupTemplateMap:{get:function(){return this.fh},set:function(t){var e=this.fh;e!==t&&(this.fh=t,this.g("groupTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},linkTemplate:{get:function(){return this.bg.G("")},set:function(t){var e=this.bg.G("");e!==t&&(this.bg.add("",t),this.g("linkTemplate",e,t),this.undoManager.isUndoingRedoing||this.Md())}},linkTemplateMap:{get:function(){return this.bg},set:function(t){var e=this.bg;e!==t&&(this.bg=t,this.g("linkTemplateMap",e,t),this.undoManager.isUndoingRedoing||this.Md())}},isMouseCaptured:{get:function(){return this.Xu},set:function(t){var e=this.ya;null!==e&&((e=e.Ja)instanceof SVGElement||(t?(this.lastInput.bubbles=!1,this.zj?(this.removeEventListener(e,"pointermove",this.Pk,!1),this.removeEventListener(e,"pointerdown",this.Ok,!1),this.removeEventListener(e,"pointerup",this.Rk,!1),this.removeEventListener(e,"pointerout",this.Qk,!1),this.addEventListener(T,"pointermove",this.Pk,!0),this.addEventListener(T,"pointerdown",this.Ok,!0),this.addEventListener(T,"pointerup",this.Rk,!0),this.addEventListener(T,"pointerout",this.Qk,!0)):(this.removeEventListener(e,"mousemove",this.Ik,!1),this.removeEventListener(e,"mousedown",this.Hk,!1),this.removeEventListener(e,"mouseup",this.Kk,!1),this.removeEventListener(e,"mouseout",this.Jk,!1),this.addEventListener(T,"mousemove",this.Ik,!0),this.addEventListener(T,"mousedown",this.Hk,!0),this.addEventListener(T,"mouseup",this.Kk,!0),this.addEventListener(T,"mouseout",this.Jk,!0)),this.removeEventListener(e,"wheel",this.Lk,!1),this.addEventListener(T,"wheel",this.Lk,!0),this.addEventListener(T,"selectstart",this.preventDefault,!1)):(this.zj?(this.removeEventListener(T,"pointermove",this.Pk,!0),this.removeEventListener(T,"pointerdown",this.Ok,!0),this.removeEventListener(T,"pointerup",this.Rk,!0),this.removeEventListener(T,"pointerout",this.Qk,!0),this.addEventListener(e,"pointermove",this.Pk,!1),this.addEventListener(e,"pointerdown",this.Ok,!1),this.addEventListener(e,"pointerup",this.Rk,!1),this.addEventListener(e,"pointerout",this.Qk,!1)):(this.removeEventListener(T,"mousemove",this.Ik,!0),this.removeEventListener(T,"mousedown",this.Hk,!0),this.removeEventListener(T,"mouseup",this.Kk,!0),this.removeEventListener(T,"mouseout",this.Jk,!0),this.addEventListener(e,"mousemove",this.Ik,!1),this.addEventListener(e,"mousedown",this.Hk,!1),this.addEventListener(e,"mouseup",this.Kk,!1),this.addEventListener(e,"mouseout",this.Jk,!1)),this.removeEventListener(T,"wheel",this.Lk,!0),this.removeEventListener(T,"selectstart",this.preventDefault,!1),this.addEventListener(e,"wheel",this.Lk,!1)),this.Xu=t))}},position:{get:function(){return this.la},set:function(t){var e=J.alloc().assign(this.la);if(!e.w(t)){var o=this.viewportBounds.copy();this.la.assign(t),Ya(this.animationManager,e,this.la),this.Sb||null===this.ya&&!this.sm.o()||(this.Sb=!0,E0(this,this.Rn,this.va/(t=this.scale),this.ua/t,this.Dj,!1),this.Sb=!1),this.Sb||this.onViewportBoundsChanged(o,this.viewportBounds,this.Aa,!1)}J.free(e)}},initialPosition:{get:function(){return this.es},set:function(t){this.es.w(t)||(this.es=t.H())}},initialScale:{get:function(){return this.fs},set:function(t){this.fs!==t&&(this.fs=t)}},grid:{get:function(){return null===this.Ib&&Nh(this),this.Ib},set:function(t){var e=this.Ib;if(e!==t){null===e&&(Nh(this),e=this.Ib),t.type!==pe.Grid&&R("Diagram.grid must be a Panel of type Panel.Grid");var o=e.panel;null!==o&&o.remove(e),this.Ib=t,t.name="GRID",null!==o&&o.add(t),Du(this),this.M(),this.g("grid",e,t)}}},viewportBounds:{get:function(){var t=this.Rx,e=this.la,o=this.Aa;return t.h(e.x,e.y,Math.max(this.va,0)/o,Math.max(this.ua,0)/o),t}},viewSize:{get:function(){return this.sm},set:function(t){var e=this.viewSize;e.w(t)||(this.sm=t=t.H(),this.ua=this.va=0,t.o()?(this.va=t.width,this.ua=t.height):null!==this.Da&&(this.va=this.Da.clientWidth||1,this.ua=this.Da.clientHeight||1),this.Na(),this.g("viewSize",e,t),this.redraw())}},fixedBounds:{get:function(){return this.Zr},set:function(t){var e=this.Zr;e.w(t)||(t.width!==-1/0&&t.height!==1/0&&t.height!==-1/0||R("fixedBounds width/height must not be Infinity"),this.Zr=t=t.H(),this.Na(),this.g("fixedBounds",e,t))}},scrollMargin:{get:function(){return this.Si},set:function(t){"number"==typeof t&&(t=new oi(t));var e=this.Si;e.w(t)||(this.Si=t=t.H(),this.g("scrollMargin",e,t),this.Yq())}},scrollMode:{get:function(){return this.Ti},set:function(t){var e=this.Ti;e!==t&&(this.Ti=t,t===Da&&Sa(this,!1),this.g("scrollMode",e,t),this.M())}},scrollsPageOnFocus:{get:function(){return this.at},set:function(t){var e=this.at;e!==t&&(this.at=t,this.g("scrollsPageOnFocus",e,t))}},positionComputation:{get:function(){return this.Ns},set:function(t){var e=this.Ns;e!==t&&(this.Ns=t,Sa(this,!1),this.g("positionComputation",e,t))}},scaleComputation:{get:function(){return this.Us},set:function(t){var e=this.Us;e!==t&&(this.Us=t,oS(this,this.scale,this.scale),this.g("scaleComputation",e,t))}},documentBounds:{get:function(){return this.Rn}},isVirtualized:{get:function(){return this.rs},set:function(t){var e=this.rs;e!==t&&(this.rs=t,this.g("isVirtualized",e,t))}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&oS(this,e,t)}},defaultScale:{get:function(){return this.Qn},set:function(t){this.Qn=t}},autoScale:{get:function(){return this.Og},set:function(t){var e=this.Og;e!==t&&(this.Og=t,this.g("autoScale",e,t),t!==oo&&Sa(this,!1))}},initialAutoScale:{get:function(){return this.Yf},set:function(t){var e=this.Yf;e!==t&&(this.Yf=t,this.g("initialAutoScale",e,t))}},initialViewportSpot:{get:function(){return this.gs},set:function(t){var e=this.gs;e!==t&&(t.kb()||R("initialViewportSpot must be a specific Spot: "+t),this.gs=t,this.g("initialViewportSpot",e,t))}},initialDocumentSpot:{get:function(){return this.ds},set:function(t){var e=this.ds;e!==t&&(t.kb()||R("initialViewportSpot must be a specific Spot: "+t),this.ds=t,this.g("initialDocumentSpot",e,t))}},minScale:{get:function(){return this.xs},set:function(t){var e=this.xs;e!==t&&(0<t?(this.xs=t,this.g("minScale",e,t),t>this.scale&&(this.scale=t)):Z(t,"> 0",oe,"minScale"))}},maxScale:{get:function(){return this.vs},set:function(t){var e=this.vs;e!==t&&(0<t?(this.vs=t,this.g("maxScale",e,t),t<this.scale&&(this.scale=t)):Z(t,"> 0",oe,"maxScale"))}},zoomPoint:{get:function(){return this.xt},set:function(t){this.xt.w(t)||(this.xt=t=t.H())}},contentAlignment:{get:function(){return this.Dj},set:function(t){var e=this.Dj;e.w(t)||(this.Dj=t=t.H(),this.g("contentAlignment",e,t),Sa(this,!1))}},initialContentAlignment:{get:function(){return this.to},set:function(t){var e=this.to;e.w(t)||(this.to=t=t.H(),this.g("initialContentAlignment",e,t))}},padding:{get:function(){return this.ib},set:function(t){"number"==typeof t&&(t=new oi(t));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.Na(),this.g("padding",e,t))}},partManager:{get:function(){return this.La},set:function(t){var e=this.La;e!==t&&(null!==t.diagram&&R("Cannot share PartManagers between Diagrams: "+t.toString()),null!==e&&e.ee(null),this.La=t,t.ee(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.kc},set:function(t){var e=this.kc;e!==t&&(this.kc=t,t.diagram=this,t.group=null,this.Ng=!0,this.g("layout",e,t),this.Db())}},isTreePathToChildren:{get:function(){return this.qs},set:function(t){var e=this.qs;if(e!==t&&(this.qs=t,this.g("isTreePathToChildren",e,t),!this.undoManager.isUndoingRedoing))for(t=this.nodes;t.next();)kc(t.value)}},treeCollapsePolicy:{get:function(){return this.rt},set:function(t){var e=this.rt;e!==t&&(t!==Za&&t!==Df&&t!==V0&&R("Unknown Diagram.treeCollapsePolicy: "+t),this.rt=t,this.g("treeCollapsePolicy",e,t))}},Le:{get:function(){return this.Uu},set:function(t){this.Uu=t}},autoScrollInterval:{get:function(){return this.qn},set:function(t){var e=this.qn;e!==t&&(this.qn=t,this.g("autoScrollInterval",e,t))}},autoScrollRegion:{get:function(){return this.sn},set:function(t){"number"==typeof t&&(t=new oi(t));var e=this.sn;e.w(t)||(this.sn=t=t.H(),this.Na(),this.g("autoScrollRegion",e,t))}}}),B.Object.defineProperties(oe,{licenseKey:{get:function(){return ku.Xb()},set:function(t){ku.add(t)}},version:{get:function(){return HA}}}),oe.prototype.makeImageData=oe.prototype.Hy,oe.prototype.makeImage=oe.prototype.GA,oe.prototype.addRenderer=oe.prototype.rz,oe.prototype.makeSVG=oe.prototype.iw,oe.prototype.makeSvg=oe.prototype.$t,oe.prototype.stopAutoScroll=oe.prototype.Jf,oe.prototype.doAutoScroll=oe.prototype.Et,oe.prototype.isUnoccupied=oe.prototype.Ek,oe.prototype.raiseDiagramEvent=oe.prototype.R,oe.prototype.removeDiagramListener=oe.prototype.Lm,oe.prototype.addDiagramListener=oe.prototype.kk,oe.prototype.findTreeRoots=oe.prototype.jA,oe.prototype.layoutDiagram=oe.prototype.EA,oe.prototype.findTopLevelGroups=oe.prototype.cA,oe.prototype.findTopLevelNodesAndLinks=oe.prototype.dA,oe.prototype.ensureBounds=oe.prototype.Ta,oe.prototype.findLinksByExample=oe.prototype.Ht,oe.prototype.findNodesByExample=oe.prototype.It,oe.prototype.findLinkForData=oe.prototype.yc,oe.prototype.findNodeForData=oe.prototype.gj,oe.prototype.findPartForData=oe.prototype.zc,oe.prototype.findLinkForKey=oe.prototype.findLinkForKey,oe.prototype.findNodeForKey=oe.prototype.Cb,oe.prototype.findPartForKey=oe.prototype.findPartForKey,oe.prototype.rebuildParts=oe.prototype.Md,oe.prototype.transformViewToDoc=oe.prototype.ou,oe.prototype.transformRectDocToView=oe.prototype.iB,oe.prototype.transformDocToView=oe.prototype.gr,oe.prototype.centerRect=oe.prototype.At,oe.prototype.scrollToRect=oe.prototype.Aw,oe.prototype.scroll=oe.prototype.scroll,oe.prototype.highlightCollection=oe.prototype.vA,oe.prototype.highlight=oe.prototype.uA,oe.prototype.selectCollection=oe.prototype.$A,oe.prototype.select=oe.prototype.select,oe.prototype.updateAllRelationshipsFromData=oe.prototype.ir,oe.prototype.updateAllTargetBindings=oe.prototype.updateAllTargetBindings,oe.prototype.commit=oe.prototype.commit,oe.prototype.rollbackTransaction=oe.prototype.If,oe.prototype.commitTransaction=oe.prototype.Xa,oe.prototype.startTransaction=oe.prototype.xa,oe.prototype.raiseChanged=oe.prototype.g,oe.prototype.raiseChangedEvent=oe.prototype.Va,oe.prototype.removeChangedListener=oe.prototype.Tk,oe.prototype.addChangedListener=oe.prototype.Hh,oe.prototype.removeModelChangedListener=oe.prototype.VA,oe.prototype.addModelChangedListener=oe.prototype.Wx,oe.prototype.findLayer=oe.prototype.xk,oe.prototype.removeLayer=oe.prototype.TA,oe.prototype.addLayerAfter=oe.prototype.nz,oe.prototype.addLayerBefore=oe.prototype.Ux,oe.prototype.addLayer=oe.prototype.um,oe.prototype.moveParts=oe.prototype.moveParts,oe.prototype.copyParts=oe.prototype.tk,oe.prototype.removeParts=oe.prototype.gu,oe.prototype.remove=oe.prototype.remove,oe.prototype.add=oe.prototype.add,oe.prototype.clearDelayedGeometries=oe.prototype.Hv,oe.prototype.setProperties=oe.prototype.Fw,oe.prototype.resetInputOptions=oe.prototype.ww,oe.prototype.setInputOption=oe.prototype.aB,oe.prototype.getInputOption=oe.prototype.Bm,oe.prototype.resetRenderingHints=oe.prototype.xw,oe.prototype.setRenderingHint=oe.prototype.Ty,oe.prototype.getRenderingHint=oe.prototype.Ke,oe.prototype.maybeUpdate=oe.prototype.hd,oe.prototype.requestUpdate=oe.prototype.Db,oe.prototype.delayInitialization=oe.prototype.Jz,oe.prototype.isUpdateRequested=oe.prototype.AA,oe.prototype.invalidateDocumentBounds=oe.prototype.Na,oe.prototype.findObjectsNear=oe.prototype.Eg,oe.prototype.findPartsNear=oe.prototype.$z,oe.prototype.findObjectsIn=oe.prototype.zf,oe.prototype.findPartsIn=oe.prototype.ty,oe.prototype.findObjectsAt=oe.prototype.hj,oe.prototype.findPartsAt=oe.prototype.Zz,oe.prototype.findObjectAt=oe.prototype.Vb,oe.prototype.findPartAt=oe.prototype.zm,oe.prototype.focusObject=oe.prototype.kA,oe.prototype.alignDocument=oe.prototype.uz,oe.prototype.zoomToRect=oe.prototype.mB,oe.prototype.zoomToFit=oe.prototype.zoomToFit,oe.prototype.diagramScroll=oe.prototype.iy,oe.prototype.focus=oe.prototype.focus,oe.useDOM=function(t){Us=!!t&&void 0!==T.document},oe.isUsingDOM=function(){return Us};var Gd=null,F0=new ot,O1=null,N1=null,Us=void 0!==T.document,Wd=null,L0="",oo=new ct(oe,"None",0),Fh=new ct(oe,"Uniform",1),$g=new ct(oe,"UniformToFill",2),B0=new ct(oe,"CycleAll",10),F1=new ct(oe,"CycleNotDirected",11),Sf=new ct(oe,"CycleNotDirectedFast",12),po=new ct(oe,"CycleNotUndirected",13),Xg=new ct(oe,"CycleDestinationTree",14),El=new ct(oe,"CycleSourceTree",15),Da=new ct(oe,"DocumentScroll",1),yc=new ct(oe,"InfiniteScroll",2),Za=new ct(oe,"TreeParentCollapsed",21),Df=new ct(oe,"AllParentsCollapsed",22),V0=new ct(oe,"AnyParentsCollapsed",23),ku=new St,HA="2.1.54",j0="image",mb=null,aS=!1;function lS(){if(Us){var t=T.document.createElement("canvas"),e=t.getContext("2d"),o=D("7ca11abfd022028846");e[o]=D("398c3597c01238");for(var a=["5da73c80a36455d5038e4972187c3cae51fd22",F.Dx+"4ae6247590da4bb21c324ba3a84e385776",di.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",Zt.za],h=1;5>h;h++)e[D("7ca11abfd7330390")](D(a[h-1]),10,15*h);for(e[o]=D("39f046ebb36e4b"),o=1;5>o;o++)e[D("7ca11abfd7330390")](D(a[o-1]),10,15*o);(4!==a.length||"5"!==a[0][0]||"7"!==a[3][0])&&(di.prototype.Jd=di.prototype.Zx),mb=t}}function ui(){this.jz=null,this.l="zz@orderNum",this.Ve="63ad05bbe23a1786468a4c741b6d2"===this._tk?this.l=!0:null}function H0(t,e){if(e.Gb.setTransform(e.Tb,0,0,e.Tb,0,0),null===t.Ve)t:{e="f";var o=T[D("76a715b2f73f148a")][D("72ba13b5")];if(t.Ve=!0,Us){var a=oe[D("76a115b6ed251eaf4692")];if(a)for(var h=ku.iterator;h.next()&&!(6>(a=D(a=h.value).split(D("39e9"))).length);){var c=D(a[1]).split(".");if("7da71ca0"!==a[4])break;var m=D(F[D("6cae19")]).split(".");if(c[0]>m[0]||c[0]===m[0]&&c[1]>=m[1]){for(c=o[D("76ad18b4f73e")],m=o[D("73a612b6fb191d")](D("35e7"))+2;m<c;m++)e+=o[m];if(0>(c=e[D("73a612b6fb191d")](D(a[2])))&&D(a[2])!==D("7da71ca0ad381e90")&&(c=e[D("73a612b6fb191d")](D("76a715b2ef3e149757"))),0>c&&(c=e[D("73a612b6fb191d")](D("76a715b2ef3e149757"))),0>c&&(c=o[D("73a612b6fb191d")](D("7baa19a6f76c1988428554"))),t.Ve=!(0<=c&&c<e[D("73a612b6fb191d")](D("35"))||-1===e[D("73a612b6fb191d")](D("35"))),!t.Ve)break;if("#"===(c=D(a[2]))[0]){m=T.document.createElement("div");for(var x=a[0].replace(/[A-Za-z]/g,"");4>x.length;)x+="9";if(x=x.substr(x.length-4),a="",a+=["gsh","gsf"][parseInt(x.substr(0,1),10)%2],a+=["Header","Background","Display","Feedback"][parseInt(x.substr(0,1),10)%4],m[D("79a417a0f0181a8946")]=a,T.document[D("78a712aa")]){if(T.document[D("78a712aa")][D("7bb806b6ed32388c4a875b")](m),x=T.getComputedStyle(m).getPropertyValue(D("78a704b7e62456904c9b12701b6532a8")),T.document[D("78a712aa")][D("68ad1bbcf533388c4a875b")](m),x){if(-1!==x.indexOf(parseInt(c[1]+c[2],16))&&-1!==x.indexOf(parseInt(c[3]+c[4],16))){t.Ve=!1;break}if(_||f||C||K)for(a="."+a,c=0;c<document.styleSheets.length;c++)for(var S in m=document.styleSheets[c].rules||document.styleSheets[c].cssRules)if(a===m[S].selectorText){t.Ve=!1;break t}}}else t.Ve=null,t.Ve=!1}}}else{for(S=o[D("76ad18b4f73e")],h=o[D("73a612b6fb191d")](D("35e7"))+2;h<S;h++)e+=o[h];o=e[D("73a612b6fb191d")](D("7da71ca0ad381e90")),t.Ve=!(0<=o&&o<e[D("73a612b6fb191d")](D("35")))}}}return 0<t.Ve&&t!==t.jz}function gb(t,e){if(Us){if(null!=e||R("Diagram setup requires an argument DIV."),null!==t.Da&&R("Diagram has already completed setup."),"string"==typeof e?t.Da=T.document.getElementById(e):e instanceof HTMLDivElement?t.Da=e:R("No DIV or DIV id supplied: "+e),null===t.Da&&R("Invalid DIV id; could not get element with id: "+e),void 0!==t.Da.B&&R("Invalid div id; div already has a Diagram associated with it."),!t.Zl&&T.ResizeObserver){var o=O(function(){t.Db()},250);t.Zl=new T.ResizeObserver(function(){o()}),t.Zl.observe(t.Da)}"static"===T.getComputedStyle(t.Da,null).position&&(t.Da.style.position="relative");var a="rgba(2"+(e=5)+"5, 255, 255, 0)";e--,t.Da.style["-webkit-tap-highlight-color"]=a,t.Da.style["-ms-touch-action"]="none",t.Da.innerHTML="",t.Da.B=t,t.Da.goDiagram=t,t.Da.go=T.go;var h=t.gq?new Ws(t):new Ko(t);if(void 0!==h.style&&(h.style.position="absolute",h.style.top="0px",h.style.left="0px","rtl"===T.getComputedStyle(t.Da,null).getPropertyValue("direction")&&(t.Gl=!0),h.style.zIndex="2",h.style.userSelect="none",h.style.MozUserSelect="none"),t.ya=h,t.Gb=h.context,a=t.Gb,t.Tb=t.computePixelRatio(),t.viewSize.o()||(t.va=t.Da.clientWidth||1,t.ua=t.Da.clientHeight||1),Vg(t,t.va,t.ua),t.Da.insertBefore(h.Ja,t.Da.firstChild),(h=new Ko(null)).width=1,h.height=1,t.Ju=h,t.ux=h.context,Us){h=G("div");var c=G("div");h.style.position="absolute",h.style.overflow="auto",h.style.width=t.va+"px",h.style.height=t.ua+"px",h.style.zIndex="1",c.style.position="absolute",c.style.width="1px",c.style.height="1px",t.Da.appendChild(h),h.appendChild(c),h.onscroll=nS,h.addEventListener("mousedown",M1),h.addEventListener("touchstart",M1,{passive:!0}),h.B=t,h.hz=!0,h.iz=!0,t.Ys=h,t.Pp=c}t.Yq=O(function(){t.yh=null,t.M()},300),t.Ww=O(function(){Fg(t)},250),t.preventDefault=function(m){return m.preventDefault(),!1},t.Ik=function(m){if(t.isEnabled){t.Zf=!0;var x=Xa(t,m,!0);t.doMouseMove(),t.currentTool.isBeyondDragSize()&&(t.xd=0),Ds(x,m)}},t.Hk=function(m){if(t.isEnabled)if(t.Zf=!0,t.re)m.preventDefault();else{var x=Xa(t,m,!0);x.down=!0,x.clickCount=m.detail,(f||C)&&(m.timeStamp-t.Sj<t.qt&&!t.currentTool.isBeyondDragSize()?t.xd++:t.xd=1,t.Sj=m.timeStamp,x.clickCount=t.xd),x.clone(t.firstInput),t.doMouseDown(),1===m.button?m.preventDefault():Ds(x,m)}},t.Kk=function(m){if(t.isEnabled)if(t.re&&2===m.button)m.preventDefault();else if(t.re&&0===m.button&&(t.re=!1),t.hk)m.preventDefault();else{t.Zf=!0;var x=Xa(t,m,!0);x.up=!0,x.clickCount=m.detail,(f||C)&&(x.clickCount=t.xd),x.bubbles=m.bubbles,x.targetDiagram=wf(m),t.doMouseUp(),t.Jf(),Ds(x,m)}},t.Lk=function(m){if(t.isEnabled){var x=Xa(t,m,!0);x.bubbles=!0;var S=0,E=0;x.delta=0,void 0!==m.deltaX?(0!==m.deltaX&&(S=0<m.deltaX?1:-1),0!==m.deltaY&&(E=0<m.deltaY?1:-1),x.delta=Math.abs(m.deltaX)>Math.abs(m.deltaY)?-S:-E):void 0!==m.wheelDeltaX?(0!==m.wheelDeltaX&&(S=0<m.wheelDeltaX?-1:1),0!==m.wheelDeltaY&&(E=0<m.wheelDeltaY?-1:1),x.delta=Math.abs(m.wheelDeltaX)>Math.abs(m.wheelDeltaY)?-S:-E):void 0!==m.wheelDelta&&0!==m.wheelDelta&&(x.delta=0<m.wheelDelta?1:-1),t.doMouseWheel(),Ds(x,m)}},t.Jk=function(m){t.isEnabled&&(t.Zf=!1,Xa(t,m,!0),(m=t.currentTool).cancelWaitAfter(),m.standardMouseOver())},t.Ow=function(m){if(t.isEnabled){t.hk=!1,t.re=!0;var x=S1(t,m,m.targetTouches[0],1<m.touches.length),S=null;if(0<m.targetTouches.length?S=m.targetTouches[0]:0<m.changedTouches.length&&(S=m.changedTouches[0]),null!==S){var E=S.screenX;S=S.screenY;var P=t.Go;m.timeStamp-t.Sj<t.qt&&!(25<Math.abs(P.x-E)||25<Math.abs(P.y-S))?t.xd++:t.xd=1,x.clickCount=t.xd,t.Sj=m.timeStamp,t.Go.h(E,S)}t.doMouseDown(),Ds(x,m)}},t.Nw=function(m){if(t.isEnabled){var x=null;0<m.targetTouches.length?x=m.targetTouches[0]:0<m.changedTouches.length&&(x=m.changedTouches[0]),x=D1(t,m,x,1<m.touches.length),t.doMouseMove(),Ds(x,m)}},t.Mw=function(m){if(t.isEnabled)if(t.hk)m.preventDefault();else if(!(1<m.touches.length)){var x=null,S=null;0<m.targetTouches.length?S=m.targetTouches[0]:0<m.changedTouches.length&&(S=m.changedTouches[0]);var E=k0(t,m,!1,!0,!1,!1);null!==S&&(null!==(x=T.document.elementFromPoint(S.clientX,S.clientY))&&void 0!==x.shadowRoot&&null!==x&&null!==x.shadowRoot&&(x=x.shadowRoot.elementFromPoint(S.clientX,S.clientY)),null!==x&&x.B instanceof oe&&x.B!==t&&_f(x.B,S,E),_f(t,S,E),E.clickCount=t.xd),E.targetDiagram=null===x?wf(m):x.B?x.B:null,E.targetObject=null,t.doMouseUp(),Ds(E,m),t.re=!1}},t.Ok=function(m){if(t.isEnabled){t.Zf=!0;var x=t.Ls;void 0===x[m.pointerId]&&(x[m.pointerId]=m);var S=!1;if(null!==(x=t.bk)[0]&&x[0].pointerId===m.pointerId)x[0]=m;else if(null!==x[1]&&x[1].pointerId===m.pointerId)x[1]=m,S=!0;else if(null===x[0])x[0]=m;else{if(null!==x[1])return void m.preventDefault();x[1]=m,S=!0}("touch"===m.pointerType||"pen"===m.pointerType)&&(t.hk=!1,t.re=!0),x=S1(t,m,m,S),S=t.Go;var E="touch"===m.pointerType||"pen"===m.pointerType?25:10;m.timeStamp-t.Sj<t.qt&&!(Math.abs(S.x-m.screenX)>E||Math.abs(S.y-m.screenY)>E)?t.xd++:t.xd=1,x.clickCount=t.xd,t.Sj=m.timeStamp,t.Go.Ig(m.screenX,m.screenY),t.doMouseDown(),1===m.button?m.preventDefault():Ds(x,m)}},t.Pk=function(m){if(t.isEnabled){t.Zf=!0;var x=t.bk;if(null!==x[0]&&x[0].pointerId===m.pointerId)x[0]=m;else{if(null!==x[1]&&x[1].pointerId===m.pointerId)return void(x[1]=m);if(null!==x[0])return;x[0]=m}x[0].pointerId===m.pointerId&&((x=D1(t,m,m,null!==x[1])).targetDiagram=wf(m),t.doMouseMove(),Ds(x,m))}},t.Rk=function(m){if(t.isEnabled){t.Zf=!0;var x="touch"===m.pointerType||"pen"===m.pointerType,S=t.Ls;if(x&&t.hk)delete S[m.pointerId],m.preventDefault();else if(null!==(S=t.bk)[0]&&S[0].pointerId===m.pointerId){S[0]=null,S=k0(t,m,!1,!0,!0,!1);var E=T.document.elementFromPoint(m.clientX,m.clientY);null!==E&&E.B instanceof oe&&E.B!==t&&_f(E.B,m,S),_f(t,m,S),S.clickCount=t.xd,S.targetDiagram=null===E?wf(m):E.B?E.B:null,S.targetObject=null,t.doMouseUp(),Ds(S,m),x&&(t.re=!1)}else null!==S[1]&&S[1].pointerId===m.pointerId&&(S[1]=null)}},t.Qk=function(m){if(t.isEnabled){t.Zf=!1;var x=t.Ls;x[m.pointerId]&&delete x[m.pointerId],null!==(x=t.bk)[0]&&x[0].pointerId===m.pointerId&&(x[0]=null),null!==x[1]&&x[1].pointerId===m.pointerId&&(x[1]=null),"touch"!==m.pointerType&&"pen"!==m.pointerType&&((m=t.currentTool).cancelWaitAfter(),m.standardMouseOver())}},t.Tr=a.Y["d"+hS[1]+hS[2]+"wI"+j0.slice(1,5)]["b"+xm.slice(1,e)](a.Y,mb,e,e),a.uc(!0),function(t){var e=t.ya.Ja;e instanceof HTMLCanvasElement&&(t.zj?(t.addEventListener(e,"pointerdown",t.Ok,!1),t.addEventListener(e,"pointermove",t.Pk,!1),t.addEventListener(e,"pointerup",t.Rk,!1),t.addEventListener(e,"pointerout",t.Qk,!1)):(t.addEventListener(e,"touchstart",t.Ow,!1),t.addEventListener(e,"touchmove",t.Nw,!1),t.addEventListener(e,"touchend",t.Mw,!1),t.addEventListener(e,"mousemove",t.Ik,!1),t.addEventListener(e,"mousedown",t.Hk,!1),t.addEventListener(e,"mouseup",t.Kk,!1),t.addEventListener(e,"mouseout",t.Jk,!1)),t.addEventListener(e,"mouseenter",t.Oz,!1),t.addEventListener(e,"mouseleave",t.Pz,!1),t.addEventListener(e,"wheel",t.Lk,!1),t.addEventListener(e,"keydown",t.BA,!1),t.addEventListener(e,"keyup",t.CA,!1),t.addEventListener(e,"blur",t.Az,!1),t.addEventListener(e,"focus",t.Bz,!1),t.addEventListener(e,"selectstart",function(o){return o.preventDefault(),!1},!1),t.addEventListener(e,"contextmenu",function(o){return o.preventDefault(),!1},!1),t.addEventListener(e,"gesturestart",function(o){t.toolManager.gestureBehavior!==js&&(t.toolManager.gestureBehavior===bl?o.preventDefault():t.re&&t.lastInput.handled||(o.preventDefault(),t.Vl=t.scale,t.currentTool.doCancel()))},!1),t.addEventListener(e,"gesturechange",function(o){if(t.toolManager.gestureBehavior!==js)if(t.toolManager.gestureBehavior===bl)o.preventDefault();else if(!t.re||!t.lastInput.handled){o.preventDefault();var a=o.scale;if(null!==t.Vl){var h=t.ya.getBoundingClientRect();if(o=new J(o.pageX-T.scrollX-t.va/h.width*h.left,o.pageY-T.scrollY-t.ua/h.height*h.top),h=t.commandHandler,(a*=t.Vl)!==t.scale&&h.canResetZoom(a)){var c=t.zoomPoint;t.zoomPoint=o,h.resetZoom(a),t.zoomPoint=c}}}},!1),t.addEventListener(T,"resize",t.Ww,!1))}(t)}}function xc(t){this.l=void 0===t?new J:t,this.u=new J}oe.className="Diagram",oe.fromDiv=function(t){var e=t;return"string"==typeof t&&(e=T.document.getElementById(t)),e instanceof HTMLDivElement&&e.B instanceof oe?e.B:null},oe.inherit=function(t,e){function o(){}if(Object.getPrototypeOf(t).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+t);o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t},oe.None=oo,oe.Uniform=Fh,oe.UniformToFill=$g,oe.CycleAll=B0,oe.CycleNotDirected=F1,oe.CycleNotDirectedFast=Sf,oe.CycleNotUndirected=po,oe.CycleDestinationTree=Xg,oe.CycleSourceTree=El,oe.DocumentScroll=Da,oe.InfiniteScroll=yc,oe.TreeParentCollapsed=Za,oe.AllParentsCollapsed=Df,oe.AnyParentsCollapsed=V0,ui.className="DiagramHelper",B.Object.defineProperties(xc.prototype,{point:{get:function(){return this.l},set:function(t){this.l=t}},shifted:{get:function(){return this.u},set:function(t){this.u=t}}});var zn,Nn,Ro,ka,Lr,Gr,Kg,Zg,Xd,ks,hS="DraggingInfo";function uS(t,e,o){this.node=t,this.info=e,this.$v=o}function Yd(){this.reset()}function L1(t){1<arguments.length&&R("Palette constructor can only take one optional argument, the DIV HTML element or its id."),oe.call(this,t),$d(this)}function $d(t){t.allowDragOut=!0,t.allowMove=!1,t.isReadOnly=!0,t.contentAlignment=wi,t.layout=new xr}function Lh(t){1<arguments.length&&R("Overview constructor can only take one optional argument, the DIV HTML element or its id."),oe.call(this,t);var e=this;this.animationManager.isEnabled=!1,this.Sb=!0,this.Ka=null,this.wl=this.vl=!1,this.I=this.T=!0,this.eb=0,this.u=!1,this.fm=null,this.Ty("drawShadows",!1);var o=new Ye,a=new qe;a.stroke="magenta",a.strokeWidth=2,a.fill="transparent",a.name="BOXSHAPE",o.selectable=!0,o.selectionAdorned=!1,o.selectionObjectName="BOXSHAPE",o.locationObjectName="BOXSHAPE",o.resizeObjectName="BOXSHAPE",o.cursor="move",o.add(a),this.l=o,this.allowDelete=this.allowCopy=!1,this.allowSelect=!0,this.autoScrollRegion=new oi(0,0,0,0),this.la.h(0,0),this.toolManager.Ya("Dragging",new hh,this.toolManager.mouseMoveTools),this.click=function(){var h=e.observed;if(null!==h){var c=h.viewportBounds,m=e.lastInput.documentPoint;h.position=new J(m.x-c.width/2,m.y-c.height/2)}},this.Xh=function(){e.Na(),Ef(e)},this.Wh=function(){null!==e.observed&&(e.Na(),e.M())},this.Sc=function(){1>e.updateDelay?e.M():e.u||(e.u=!0,setTimeout(function(){return e.redraw()},e.updateDelay))},this.Od=function(){null!==e.observed&&Ef(e)},this.autoScale=Fh,this.Sb=!1}function Io(t){var e=t.observed;if(null!==e){var o=t.drawsTemporaryLayers,a=t.drawsGrid&&o,h=e.grid;a&&null!==h&&h.visible&&!isNaN(h.width)&&!isNaN(h.height)&&(Du(e,h=Lt.alloc().assign(t.viewportBounds).Rc(e.viewportBounds)),Lt.free(h),ro(e));var c=t.sb;c.reset(),1!==t.scale&&c.scale(t.scale),0===t.position.x&&0===t.position.y||c.translate(-t.position.x,-t.position.y),(h=t.Gb).scale(t.Tb,t.Tb),h.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy),c=(e=e.Ma.j).length;for(var m=0;m<c;m++){var x=e[m],S=t;if(x.visible&&0!==x.opacity){var E=x.diagram.grid.part;if(!o&&x.isTemporary)a&&E.layer===x&&(x=Oh(x,h),E.mc(h,S),h.globalAlpha=x);else{for(var P=Oh(x,h),N=S.scale,nt=Lt.alloc(),at=x.Fa.j,rt=at.length,_t=0;_t<rt;_t++){var It=at[_t];(a||It!==E)&&x.dj(h,It,S,null,N,nt,!1)}Lt.free(nt),h.globalAlpha=P}}}}}function Ef(t){var e=t.box;if(null!==e){var o=t.observed;if(null!==o){t.Dc=!0,o=o.viewportBounds;var a=e.selectionObject,h=fe.alloc();h.h(o.width,o.height),a.desiredSize=h,fe.free(h),t=2/t.scale,a instanceof qe&&(a.strokeWidth=t),e.location=new J(o.x-t/2,o.y-t/2),e.isSelected=!0}}}function hh(){nn.call(this),this.l=null}function $i(){Kt(this),this.B=Gd,this.eb=this.I=this.u=!0,this.T=this.Ka=this.Sc=this.La=!1,this.Ki=this.l=null,this.Od=1.05,this.bv=NaN,this.yx=null,this.Bv=NaN,this.Av=vn,this.Cc=!0,this.rg=null,this.Tc=200}function kf(t,e,o){if(e.isVisible())return o;if(e instanceof Ci)kf(t,e.adornedPart,o);else if(e instanceof Ce){var a=e.fromNode;null!==a&&kf(t,a,o),null!==(e=e.toNode)&&kf(t,e,o)}else e instanceof Fe&&(null!==(a=e.labeledLink)&&kf(t,a,o),null!==(a=e.Fg())&&(a.isTreeExpanded||a.wasTreeExpanded||o.push(a),kf(t,a,o))),null!==(e=e.containingGroup)&&(e.isSubGraphExpanded||e.wasSubGraphExpanded||o.push(e),kf(t,e,o));return o}function Ea(t){var e=u();for(t=t.iterator;t.next();){var o=t.value;o instanceof Ce||e.push(o)}t=new At,o=e.length;for(var a=0;a<o;a++){for(var h=e[a],c=!0,m=0;m<o;m++)if(h.Kd(e[m])){c=!1;break}c&&t.add(h)}return p(e),t}function Ge(){Kt(this),this.F=4225027,this.hb=1,this.og=null,this.oa="",this.ec=this.mb=null,this.la=new J(NaN,NaN).freeze(),this.Xc=ne,this.fg=si,this.eg=jt,this.sb=new di,this.Zh=new di,this.cg=new di,this.Aa=this.ql=1,this.Yb=0,this.De=ka,this.jh=an,this.qc=new Lt(NaN,NaN,NaN,NaN).freeze(),this.xb=new Lt(NaN,NaN,NaN,NaN).freeze(),this.rc=new Lt(0,0,NaN,NaN).freeze(),this.O=this.xp=this.yp=null,this.$k=this.yb=eo,this.Jp=0,this.Kp=1,this.Rg=0,this.zn=1,this.aq=null,this.Qp=-1/0,this.am=0,this.bm=xe,this.cm=Bo,this.oi="",this.fb=this.N=null,this.dl=-1,this.em=this.Za=this.ni=this.im=null,this.Os=Nn,this.Mp=this.Mg=this.ak=null}function Oo(t){null===t.N&&(t.N=new Jg)}function qa(t,e,o){var a=t.ij();if(null!==a)for(var h=t.fb.iterator;h.next();){var c=h.value,m=null;if(null!==c.sourceName){if(null===(m=$x(c,a,t)))continue;c.jr(t,m,o,null)}else if(c.isToModel){var x=e.diagram;null===x||x.skipsModelSourceBindings||c.jr(t,x.model.modelData,o,a)}else{if(null===(x=a.data))continue;var S=e.diagram;null===S||S.skipsModelSourceBindings||c.jr(t,x,o,a)}m===t&&null!==(x=a.Gt(c.wj))&&c.Tw(x,m,o)}}function Bh(t,e,o,a,h){var c=t.qc,m=t.cg;m.reset(),j1(t,m,e,o,a,h),t.cg=m,c.h(e,o,a,h),m.Tt()||m.Pw(c)}function B1(t,e,o,a){return!1!==t.pickable&&(a.multiply(t.transform),o?t.Mc(e,a):t.Jh(e,a))}function V1(t,e,o,a,h){if(t.xb.h(e,o,a,h),!t.desiredSize.o()){var c=t.qc,m=(o=t.jh).top+o.bottom;switch(o=c.width+(e=o.right+o.left),c=c.height+m,a+=e,h+=m,e=Gs(t,!0),o===a&&c===h&&(e=Nn),e){case Nn:(o>a||c>h)&&(Xo(t,!0),t.measure(o>a?a:o,c>h?h:c,0,0));break;case zn:Xo(t,!0),t.measure(a,h,0,0);break;case Lr:Xo(t,!0),t.measure(a,c,0,0);break;case Gr:Xo(t,!0),t.measure(o,h,0,0)}}}function vb(t,e,o){var a=t.xb,h=t.rc;null!==t.ec&&($o(t,e,t.ec,!0,!0,h,a),t.ec instanceof Ei&&t.ec.type===qo?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.Je(t.ec)):e.fillRect(a.x,a.y,a.width,a.height)),null!==t.mb&&($o(t,e,t.mb,!0,!1,h,a),t.mb instanceof Ei&&t.mb.type===qo?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.Je(t.mb)):e.fillRect(a.x,a.y,a.width,a.height)),t.ej(e,o)}function $o(t,e,o,a,h,c,m){if(null!==o){var x=1,S=1;if("string"==typeof o)a?e.fillStyle=o:e.strokeStyle=o;else if(o.type===Wh)a?e.fillStyle=o.color:e.strokeStyle=o.color;else{var E=0;if(t instanceof qe&&(E=t.strokeWidth),x=c.width,S=c.height,h?(x=m.width,S=m.height):a||(x+=E,S+=E),(c=e instanceof Iu)&&o.ke&&(o.type===tp||o.gl===x&&o.Au===S))var P=o.ke;else{var N=0,nt=0,at=0,rt=0,_t=0,It=0;if(It=_t=0,h?(_t=m.x,It=m.y):a||(_t-=E/2,It-=E/2),N=o.start.x*x+o.start.offsetX,nt=o.start.y*S+o.start.offsetY,at=o.end.x*x+o.end.offsetX,rt=o.end.y*S+o.end.offsetY,N+=_t,at+=_t,nt+=It,rt+=It,o.type===uh)P=e.createLinearGradient(N,nt,at,rt);else if(o.type===qo)It=isNaN(o.endRadius)?Math.max(x,S)/2:o.endRadius,isNaN(o.startRadius)?(_t=0,It=Math.max(x,S)/2):_t=o.startRadius,P=e.createRadialGradient(N,nt,_t,at,rt,It);else if(o.type===tp)try{P=e.createPattern(o.pattern,"repeat")}catch(Vt){P=null}if(o.type!==tp&&null!==(h=o.colorStops))for(h=h.iterator;h.next();)P.addColorStop(h.key,h.value);if(c&&(o.ke=P,null!==P&&(o.gl=x,o.Au=S),null===P&&o.type===tp&&-1!==o.gl)){o.gl=-1;var Pt=t.diagram;null!==Pt&&-1===o.gl&&V(function(){Pt.redraw()},600)}}a?e.fillStyle=P:e.strokeStyle=P}}}function qg(t){if(0!=(2048&t.F)){var e=t.sb;if(e.reset(),!t.xb.o()||!t.qc.o())return void Kd(t,!1);if(e.translate(t.xb.x-t.qc.x,t.xb.y-t.qc.y),1!==t.scale||0!==t.angle){var o=t.naturalBounds;j1(t,e,o.x,o.y,o.width,o.height)}Kd(t,!1),Tu(t,!0)}0!=(4096&t.F)&&(null===(e=t.panel)?(t.Zh.set(t.sb),t.ql=t.scale,Tu(t,!1)):null!==e.Fd&&((o=t.Zh).reset(),e.he()?o.multiply(e.Zh):null!==e.panel&&o.multiply(e.panel.Zh),o.multiply(t.sb),t.ql=t.scale*e.ql,Tu(t,!1)))}function j1(t,e,o,a,h,c){if(1!==t.scale&&e.scale(t.scale),0!==t.Yb){var m=Xe;t.Ff()&&t.locationSpot.kb()&&(m=t.locationSpot);var x=J.alloc();if(t instanceof Ye&&t.locationObject!==t)for(x.Uk((a=(o=t.locationObject).naturalBounds).x,a.y,a.width,a.height,m),o.cg.ta(x),x.offset(-o.measuredBounds.x,-o.measuredBounds.y),m=o.panel;null!==m&&m!==t;)m.cg.ta(x),x.offset(-m.measuredBounds.x,-m.measuredBounds.y),m=m.panel;else x.Uk(o,a,h,c,m);e.rotate(t.Yb,x.x,x.y),J.free(x)}}function Vh(t){if(!hs(t)){var e=t.panel;null!==e?e.s():t.Ff()&&null!==(e=t.diagram)&&(e.wd.add(t),t instanceof Fe&&t.sd(),e.Db()),kl(t,!0)}}function Gs(t,e){var o=t.stretch,a=t.panel;return null!==a&&a.type===pe.Table?wc(t,a.getRowDefinition(t.row),a.getColumnDefinition(t.column),e):null!==a&&a.type===pe.Auto&&a.tb()===t?jh(t,zn,e):o===ka?null!==a?a.type===pe.Spot&&a.tb()===t?jh(t,zn,e):jh(t,(o=a.defaultStretch)===ka?Nn:o,e):jh(t,Nn,e):jh(t,o,e)}function wc(t,e,o,a){var h=t.stretch;if(h!==ka)return jh(t,h,a);var c=h=null;switch(e.stretch){case Gr:case zn:c=!0}switch(o.stretch){case Lr:case zn:h=!0}return e=t.panel.defaultStretch,null===h&&(h=e===Lr||e===zn),null===c&&(c=e===Gr||e===zn),jh(t,!0===h&&!0===c?zn:!0===h?Lr:!0===c?Gr:Nn,a)}function jh(t,e,o){if(o)return e;if(e===Nn||(o=t.desiredSize).o())return Nn;if(t=t.angle,!isNaN(o.width))if(90!==t&&270!==t){if(e===Lr)return Nn;if(e===zn)return Gr}else{if(e===Gr)return Nn;if(e===zn)return Lr}if(!isNaN(o.height))if(90!==t&&270!==t){if(e===Gr)return Nn;if(e===zn)return Lr}else{if(e===Lr)return Nn;if(e===zn)return Gr}return e}function _c(t,e){t.F=e?512|t.F:-513&t.F}function Au(t){return 0!=(1024&t.F)}function bc(t,e){t.F=e?1024|t.F:-1025&t.F}function Kd(t,e){t.F=e?2048|t.F:-2049&t.F}function Tu(t,e){t.F=e?4096|t.F:-4097&t.F}function Hh(t){return 0!=(8192&t.F)}function Xo(t,e){t.F=e?8192|t.F:-8193&t.F}function hs(t){return 0!=(16384&t.F)}function kl(t,e){t.F=e?16384|t.F:-16385&t.F}function Ja(t){var e=t.part;if(e instanceof Fe&&(null!==t.portId||t===e.port)){var o=e.diagram;null===o||o.undoManager.isUndoingRedoing||vx(e,t)}}function yb(t){var e=t.diagram;null===e||e.undoManager.isUndoingRedoing||(t instanceof pe?t instanceof Fe?t.sd():t.an(t,function(o){Ja(o)}):Ja(t))}function Re(t,e){for(var o=1;o<arguments.length;++o);o=arguments;var a=null,h=null;if("function"==typeof t)h=t;else if("string"==typeof t){var c=Pu.G(t);"function"==typeof c?ht(a=c(o=dt(arguments)))||R('GraphObject.make invoked object builder "'+t+'", but it did not return an Object'):h=T.go[t]}if(null===a&&(null!=h&&h.constructor||R("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+t),a=new h),h=1,a instanceof oe&&1<o.length){c=a;var m=o[1];("string"==typeof m||m instanceof HTMLDivElement)&&(gb(c,m),h++)}for(;h<o.length;h++)void 0===(c=o[h])?R("Undefined value at argument "+h+" for object being constructed by GraphObject.make: "+a):H1(a,c);return a}function H1(t,e){if("string"==typeof e)if(t instanceof Gi)t.text=e;else if(t instanceof qe)t.figure=e;else if(t instanceof go)t.source=e;else if(t instanceof pe)null!==(e=Aa.G(e))&&(t.type=e);else if(t instanceof Ei){var o=Ct(Ei,e);null!==o?t.type=o:R("Unknown Brush type as an argument to GraphObject.make: "+e)}else t instanceof pi?null!==(e=Ct(pi,e))&&(t.type=e):t instanceof Bi&&null!==(e=Ct(Bi,e))&&(t.type=e);else if(e instanceof Ge)t instanceof pe||R("A GraphObject can only be added to a Panel, not to: "+t),t.add(e);else if(e instanceof nr){var a;e.isRow&&"function"==typeof t.getRowDefinition?a=t.getRowDefinition(e.index):e.isRow||"function"!=typeof t.getColumnDefinition||(a=t.getColumnDefinition(e.index)),a instanceof nr?a.gy(e):R("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+t)}else if(e instanceof ct)"function"==typeof t.jb&&t.jb(e);else if(e instanceof yr)t.type=e;else if(e instanceof Wn)t instanceof Ge||t instanceof nr?t.bind(e):R("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+t);else if(e instanceof Ml)t instanceof Ge?t.Qw(e):R("An AnimationTrigger can only be applied to a GraphObject, not to: "+t);else if(e instanceof jr)t instanceof pi?t.figures.add(e):R("A PathFigure can only be added to a Geometry, not to: "+t);else if(e instanceof Bi)t instanceof jr?t.segments.add(e):R("A PathSegment can only be added to a PathFigure, not to: "+t);else if(e instanceof Ai)t instanceof oe||t instanceof Je?t.layout=e:R("A Layout can only be assigned to a Diagram or a Group, not to: "+t);else if(Array.isArray(e))for(o=0;o<e.length;o++)H1(t,e[o]);else if("object"==typeof e&&null!==e)if(t instanceof Ei){for(var h in o=new wt,e)a=parseFloat(h),isNaN(a)?o[h]=e[h]:t.addColorStop(a,e[h]);T0(t,o)}else if(t instanceof nr){for(o in void 0!==e.row?((null==(h=e.row)||h===1/0||isNaN(h)||0>h)&&R("Must specify non-negative integer row for RowColumnDefinition "+e+", not: "+h),t.isRow=!0,t.index=h):void 0!==e.column&&((null==(h=e.column)||h===1/0||isNaN(h)||0>h)&&R("Must specify non-negative integer column for RowColumnDefinition "+e+", not: "+h),t.isRow=!1,t.index=h),h=new wt,e)"row"!==o&&"column"!==o&&(h[o]=e[o]);T0(t,h)}else T0(t,e);else R('Unknown initializer "'+e+'" for object being constructed by GraphObject.make: '+t)}function Qa(t,e){Pu.add(t,e)}function zh(t,e,o){void 0===o&&(o=null);var a=t[1];if("function"==typeof o?o(a):"string"==typeof a)return t.splice(1,1),a;if(void 0===e)throw Error("no "+("function"==typeof o?"satisfactory":"string")+" argument for GraphObject builder "+t[0]);return e}xc.className="DraggingInfo",uS.className="DraggingNodeInfoPair",Yd.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new fe(NaN,NaN).freeze(),this.gridSnapCellSpot=tn,this.gridSnapOrigin=new J(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},Yd.className="DraggingOptions",z(L1,oe),L1.prototype.reset=function(){oe.prototype.reset.call(this),$d(this)},L1.className="Palette",z(Lh,oe),Lh.prototype.computePixelRatio=function(){return 1},Lh.prototype.redraw=function(){if(this.u&&1<=this.updateDelay){this.u=!1;var t=this.ya,e=this.Gb;if(null!==t&&null!==e){if(mc(this),null===this.fm){var o=new Ko(null);o.width=t.width,o.height=t.height,this.fm=o}try{this.ya=this.fm,this.Gb=this.ya.context,this.Gb.uc(!0),this.Gb.setTransform(1,0,0,1,0,0),this.Gb.clearRect(0,0,this.ya.width,this.ya.height),Io(this)}finally{this.ya=t,this.Gb=e}}}oe.prototype.redraw.call(this)},Lh.prototype.mc=function(){if(null===this.Da&&R("No div specified"),null===this.ya&&R("No canvas specified"),!(this.ya instanceof Ws)&&(wv(this.box),this.Dc)){var t=this.observed;if(null!==t&&!t.animationManager.defaultAnimation.isAnimating&&t.pj){mc(this);var e=this.ya;(t=this.Gb).uc(!0),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),1>this.updateDelay?Io(this):null!==this.fm&&(t.drawImage(this.fm.Ja,0,0),(e=this.sb).reset(),1!==this.scale&&e.scale(this.scale),0===this.position.x&&0===this.position.y||e.translate(-this.position.x,-this.position.y),t.scale(this.Tb,this.Tb),t.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy));for(var o=(e=this.Ma.j).length,a=0;a<o;a++)e[a].mc(t,this);this.Dc=this.xi=!1}}},Lh.prototype.computeBounds=function(){var t=this.observed;if(null===t)return vn;var e=t.documentBounds.copy();return e.Rc(t.viewportBounds),e},Lh.prototype.invalidateViewport=function(){!0!==this.Dc&&(this.Dc=!0,this.Db())},Lh.prototype.onViewportBoundsChanged=function(t,e,o,a){this.Sb||(Dl(this),this.M(),Sl(this),this.Na(),Ef(this),this.Ic.scale=o,this.Ic.position.x=t.x,this.Ic.position.y=t.y,this.Ic.bounds.assign(t),this.Ic.hw=a,this.R("ViewportBoundsChanged",this.Ic,t))},B.Object.defineProperties(Lh.prototype,{observed:{get:function(){return this.Ka},set:function(t){var e=this.Ka;if(t instanceof Lh&&R("Overview.observed Diagram may not be an Overview itself: "+t),e!==t){if(null!==e&&(this.remove(this.box),e.Lm("ViewportBoundsChanged",this.Xh),e.Lm("DocumentBoundsChanged",this.Wh),e.Lm("InvalidateDraw",this.Sc),e.Lm("AnimationFinished",this.Od)),this.Ka=t,null!==t&&(t.kk("ViewportBoundsChanged",this.Xh),t.kk("DocumentBoundsChanged",this.Wh),t.kk("InvalidateDraw",this.Sc),t.kk("AnimationFinished",this.Od),this.add(this.box)),this.Na(),null===t){this.fm=null;var o=this.ya,a=this.Gb;o&&a&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,o.width,o.height))}else this.Sc(null),Ef(this),this.M();this.g("observed",e,t)}}},box:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.remove(e),this.add(this.l),Ef(this),this.g("box",e,t))}},drawsTemporaryLayers:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t,this.redraw())}},drawsGrid:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t,this.redraw())}},updateDelay:{get:function(){return this.eb},set:function(t){0>t&&(t=0),this.eb!==t&&(this.eb=t)}}}),Lh.className="Overview",z(hh,nn),hh.prototype.canStart=function(){if(!this.isEnabled)return!1;var t=this.diagram;if(null===t||!t.allowMove||!t.allowSelect)return!1;var e=t.observed;if(null===e)return!1;var o=t.lastInput;return!(!o.left||t.currentTool!==this&&(!this.isBeyondDragSize()||o.isTouchEvent&&o.timestamp-t.firstInput.timestamp<this.delay)||(null===this.findDraggablePart()&&(this.l=new J((o=e.viewportBounds).width/2,o.height/2),e.position=new J((t=t.firstInput.documentPoint).x-this.l.x,t.y-this.l.y)),0))},hh.prototype.doActivate=function(){this.l=null,nn.prototype.doActivate.call(this)},hh.prototype.doUpdateCursor=function(){var t=this.diagram,e=t.box;null!==e&&e.cursor&&(t.currentCursor=e.cursor)},hh.prototype.moveParts=function(){var t=this.diagram,e=t.observed;if(null!==e){var o=t.box;if(null!==o){if(null===this.l){var a=t.firstInput.documentPoint;this.l=new J(a.x-(o=o.location).x,a.y-o.y)}e.position=new J((t=t.lastInput.documentPoint).x-this.l.x,t.y-this.l.y)}}},hh.className="OverviewDraggingTool",$i.prototype.toString=function(){return"CommandHandler"},$i.prototype.ee=function(t){this.B=t},$i.prototype.doKeyDown=function(){var t=this.diagram,e=t.lastInput,o=U?e.meta:e.control,a=e.shift,h=e.alt,c=e.key;!o||"C"!==c&&"Insert"!==c?o&&"X"===c||a&&"Del"===c?this.canCutSelection()&&this.cutSelection():o&&"V"===c||a&&"Insert"===c?this.canPasteSelection()&&this.pasteSelection():o&&"Y"===c||h&&a&&"Backspace"===c?this.canRedo()&&this.redo():o&&"Z"===c||h&&"Backspace"===c?this.canUndo()&&this.undo():"Del"===c||"Backspace"===c?this.canDeleteSelection()&&this.deleteSelection():o&&"A"===c?this.canSelectAll()&&this.selectAll():"Esc"===c?this.canStopCommand()&&this.stopCommand():"Up"===c?t.allowVerticalScroll&&t.scroll(o?"pixel":"line","up"):"Down"===c?t.allowVerticalScroll&&t.scroll(o?"pixel":"line","down"):"Left"===c?t.allowHorizontalScroll&&t.scroll(o?"pixel":"line","left"):"Right"===c?t.allowHorizontalScroll&&t.scroll(o?"pixel":"line","right"):"PageUp"===c?a&&t.allowHorizontalScroll?t.scroll("page","left"):t.allowVerticalScroll&&t.scroll("page","up"):"PageDown"===c?a&&t.allowHorizontalScroll?t.scroll("page","right"):t.allowVerticalScroll&&t.scroll("page","down"):"Home"===c?o&&t.allowVerticalScroll?t.scroll("document","up"):!o&&t.allowHorizontalScroll&&t.scroll("document","left"):"End"===c?o&&t.allowVerticalScroll?t.scroll("document","down"):!o&&t.allowHorizontalScroll&&t.scroll("document","right"):" "===c?this.canScrollToPart()&&this.scrollToPart():"Subtract"===c?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===c?this.canIncreaseZoom()&&this.increaseZoom():o&&"0"===c?this.canResetZoom()&&this.resetZoom():a&&"Z"===c?this.canZoomToFit()&&this.zoomToFit():o&&!a&&"G"===c?this.canGroupSelection()&&this.groupSelection():o&&a&&"G"===c?this.canUngroupSelection()&&this.ungroupSelection():"F2"===c||e.event&&"F2"===e.event.key?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===c||e.event&&"ContextMenu"===e.event.key?this.canShowContextMenu()&&this.showContextMenu():e.bubbles=!0:this.canCopySelection()&&this.copySelection()},$i.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},$i.prototype.stopCommand=function(){var t=this.diagram,e=t.currentTool;e instanceof An&&t.allowSelect&&t.clearSelection(),null!==e&&e.doCancel()},$i.prototype.canStopCommand=function(){return!0},$i.prototype.selectAll=function(){var t=this.diagram;t.M();try{t.currentCursor="wait",t.R("ChangingSelection",t.selection);for(var e=t.parts;e.next();)e.value.isSelected=!0;for(var o=t.nodes;o.next();)o.value.isSelected=!0;for(var a=t.links;a.next();)a.value.isSelected=!0}finally{t.R("ChangedSelection",t.selection),t.currentCursor=""}},$i.prototype.canSelectAll=function(){return this.diagram.allowSelect},$i.prototype.deleteSelection=function(){var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.xa("Delete"),t.R("SelectionDeleting",t.selection);for(var e=new At,o=t.selection.iterator;o.next();)Kh(e,o.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,function(a){return a.canDelete()});t.gu(e,!0),t.R("SelectionDeleted",e)}finally{t.Xa("Delete"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},$i.prototype.canDeleteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||0===t.selection.count)},$i.prototype.copySelection=function(){var t=this.diagram,e=new At;for(t=t.selection.iterator;t.next();)Kh(e,t.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,function(o){return o.canCopy()});this.copyToClipboard(e)},$i.prototype.canCopySelection=function(){var t=this.diagram;return!(!t.allowCopy||!t.allowClipboard||0===t.selection.count)},$i.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},$i.prototype.canCutSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowCopy||!t.allowDelete||!t.allowClipboard||0===t.selection.count)},$i.prototype.copyToClipboard=function(t){var e=this.diagram,o=null;if(null===t)Wd=null,L0="";else{o=e.model;var a=!1,h=!1,c=null;try{o.Em()&&(a=o.sk,o.sk=this.copiesParentKey),o.Ck()&&(h=o.rk,o.rk=this.copiesGroupKey),c=e.tk(t,null,!0)}finally{o.Em()&&(o.sk=a),o.Ck()&&(o.rk=h),(o=new St).addAll(c),Wd=o,L0=e.model.dataFormat}}e.R("ClipboardChanged",o)},$i.prototype.pasteFromClipboard=function(){var t=new At,e=Wd;if(null===e)return t;var o=this.diagram;if(L0!==o.model.dataFormat)return t;var a=o.model,h=!1,c=!1,m=null;try{a.Em()&&(h=a.sk,a.sk=this.copiesParentKey),a.Ck()&&(c=a.rk,a.rk=this.copiesGroupKey),m=o.tk(e,o,!1)}finally{for(a.Em()&&(a.sk=h),a.Ck()&&(a.rk=c),e=m.iterator;e.next();)a=e.key,(o=e.value).location.o()||(a.location.o()?o.location=a.location:!o.position.o()&&a.position.o()&&(o.position=a.position)),t.add(o)}return t},$i.prototype.pasteSelection=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.xa("Paste");var o=this.pasteFromClipboard();0<o.count&&e.clearSelection(!0);for(var a=o.iterator;a.next();)a.value.isSelected=!0;if(null!==t){var h=e.computePartsBounds(e.selection);h.o()&&bf(e,this.computeEffectiveCollection(e.selection,e.kl),new J(t.x-h.centerX,t.y-h.centerY),e.kl,!1)}e.R("ClipboardPasted",o)}finally{e.Xa("Paste"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},$i.prototype.canPasteSelection=function(){var t=this.diagram;return!(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowClipboard||null===Wd||0===Wd.count||L0!==t.model.dataFormat)},$i.prototype.undo=function(){this.diagram.undoManager.undo()},$i.prototype.canUndo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canUndo()},$i.prototype.redo=function(){this.diagram.undoManager.redo()},$i.prototype.canRedo=function(){var t=this.diagram;return!t.isReadOnly&&!t.isModelReadOnly&&t.allowUndo&&t.undoManager.canRedo()},$i.prototype.decreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;e.autoScale===oo&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},$i.prototype.canDecreaseZoom=function(t){void 0===t&&(t=1/this.zoomFactor);var e=this.diagram;return e.autoScale===oo&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},$i.prototype.increaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;e.autoScale===oo&&((t*=e.scale)<e.minScale||t>e.maxScale||(e.scale=t))},$i.prototype.canIncreaseZoom=function(t){void 0===t&&(t=this.zoomFactor);var e=this.diagram;return e.autoScale===oo&&!((t*=e.scale)<e.minScale||t>e.maxScale)&&e.allowZoom},$i.prototype.resetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;t<e.minScale||t>e.maxScale||(e.scale=t)},$i.prototype.canResetZoom=function(t){void 0===t&&(t=this.defaultScale);var e=this.diagram;return!(t<e.minScale||t>e.maxScale)&&e.allowZoom},$i.prototype.zoomToFit=function(){var t=this.diagram,e=t.animationManager;e.Bc(),t.redraw();var o=t.position,a=t.scale;dc(e,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&a===this.Bv&&!isNaN(this.bv)&&t.documentBounds.w(this.Av)?(t.scale=this.bv,t.position=this.yx,this.Bv=NaN,this.Av=vn):(this.bv=a,this.yx=o.copy(),t.zoomToFit(),this.Bv=t.scale,this.Av=t.documentBounds.copy()),Og(e)},$i.prototype.canZoomToFit=function(){return this.diagram.allowZoom},$i.prototype.scrollToPart=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.Ta(),null===t){try{null!==this.rg&&(this.rg.next()?t=this.rg.value:this.rg=null)}catch(S){this.rg=null}null===t&&(0<e.highlighteds.count?this.rg=e.highlighteds.iterator:0<e.selection.count&&(this.rg=e.selection.iterator),null!==this.rg&&this.rg.next()&&(t=this.rg.value))}if(null!==t){var o=e.animationManager;dc(o,"Scroll To Part");var a=this.scrollToPartPause;if(0<a){var h=kf(this,t,[t]);if(1===h.length)e.xa(),e.At(t.actualBounds),e.Xa("Scroll To Part");else{var c=function(){e.xa();for(var S=h.pop();0<h.length&&S instanceof Fe&&S.isTreeExpanded&&(!(S instanceof Je)||S.isSubGraphExpanded);)S=h.pop();0<h.length?(S instanceof Ye&&e.Aw(S.actualBounds),S instanceof Fe&&!S.isTreeExpanded&&(S.isTreeExpanded=!0),S instanceof Je&&!S.isSubGraphExpanded&&(S.isSubGraphExpanded=!0)):(S instanceof Ye&&e.At(S.actualBounds),e.Lm("LayoutCompleted",m)),e.Xa("Scroll To Part")},m=function(){V(c,(o.isEnabled?o.duration:0)+a)};e.kk("LayoutCompleted",m),c()}}else{var x=e.position.copy();e.At(t.actualBounds),x.Qa(e.position)&&o.Bc()}}},$i.prototype.canScrollToPart=function(t){return void 0===t&&(t=null),(null===t||t instanceof Ye)&&(0!==(t=this.diagram).selection.count||0!==t.highlighteds.count)&&t.allowHorizontalScroll&&t.allowVerticalScroll},$i.prototype.collapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Collapse Tree"),dc(e.animationManager,"Collapse Tree");var o=new St;if(null!==t&&t.isTreeExpanded)t.collapseTree(),o.add(t);else if(null===t)for(var a=e.selection.iterator;a.next();){var h=a.value;h instanceof Fe&&h.isTreeExpanded&&(h.collapseTree(),o.add(h))}e.R("TreeCollapsed",o)}finally{e.Xa("Collapse Tree")}},$i.prototype.canCollapseTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Fe&&t.isTreeExpanded))return!1;if(0<t.Hq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Fe&&e.isTreeExpanded&&0<e.Hq().count)return!0;return!1},$i.prototype.expandTree=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Expand Tree"),dc(e.animationManager,"Expand Tree");var o=new St;if(null===t||t.isTreeExpanded){if(null===t)for(var a=e.selection.iterator;a.next();){var h=a.value;h instanceof Fe&&!h.isTreeExpanded&&(h.expandTree(),o.add(h))}}else t.expandTree(),o.add(t);e.R("TreeExpanded",o)}finally{e.Xa("Expand Tree")}},$i.prototype.canExpandTree=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t){if(!(t instanceof Fe)||t.isTreeExpanded)return!1;if(0<t.Hq().count)return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Fe&&!e.isTreeExpanded&&0<e.Hq().count)return!0;return!1},$i.prototype.groupSelection=function(){var t=this.diagram,e=t.model;if(e.Dk()){var o=this.archetypeGroupData;if(null!==o){var a=null;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.xa("Group");for(var h=new St,c=t.selection.iterator;c.next();){var m=c.value;m.Nc()&&m.canGroup()&&h.add(m)}for(var x=new St,S=h.iterator;S.next();){var E=S.value;c=!1;for(var P=h.iterator;P.next();)if(E.Kd(P.value)){c=!0;break}c||x.add(E)}if(0<x.count){var N=x.first().containingGroup;if(null!==N)for(;null!==N;){h=!1;for(var nt=x.iterator;nt.next();)if(!nt.value.Kd(N)){h=!0;break}if(!h)break;N=N.containingGroup}if(o instanceof Je)Jo(o),null!==(a=o.copy())&&t.add(a);else if(e.fw(o)){var at=e.copyNodeData(o);ht(at)&&(e.uf(at),a=t.gj(at))}if(null!==a){null!==N&&this.isValidMember(N,a)&&(a.containingGroup=N);for(var rt=x.iterator;rt.next();){var _t=rt.value;this.isValidMember(a,_t)&&(_t.containingGroup=a)}t.clearSelection(!0),a.isSelected=!0}}t.R("SelectionGrouped",a)}finally{t.Xa("Group"),t.R("ChangedSelection",t.selection),t.currentCursor=""}}}},$i.prototype.canGroupSelection=function(){var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowInsert||!t.allowGroup||!t.model.Dk()||null===this.archetypeGroupData)return!1;for(t=t.selection.iterator;t.next();){var e=t.value;if(e.Nc()&&e.canGroup())return!0}return!1},$i.prototype.isValidMember=function(t,e){if(null===e||t===e||e instanceof Ce)return!1;if(null!==t){if(t===e||t.Kd(e))return!1;var o=t.memberValidation;if(null!==o&&!o(t,e)||null===t.data&&null!==e.data||null!==t.data&&null===e.data)return!1}return null===(o=this.memberValidation)||o(t,e)},$i.prototype.ungroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram,o=e.model;if(o.Dk())try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.xa("Ungroup");var a=new St;if(null!==t)a.add(t);else for(var h=e.selection.iterator;h.next();){var c=h.value;c instanceof Je&&c.canUngroup()&&a.add(c)}var m=new St;if(0<a.count){e.clearSelection(!0);for(var x=a.iterator;x.next();){var S=x.value;S.expandSubGraph();var E=S.containingGroup,P=null!==E&&null!==E.data?o.ja(E.data):void 0;m.addAll(S.memberParts);for(var N=m.iterator;N.next();){var nt=N.value;if(nt.isSelected=!0,!(nt instanceof Ce)){var at=nt.data;null!==at?o.dr(at,P):nt.containingGroup=E}}e.remove(S)}}e.R("SelectionUngrouped",a,m)}finally{e.Xa("Ungroup"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},$i.prototype.canUngroupSelection=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||!e.allowUngroup||!e.model.Dk())return!1;if(null!==t){if(!(t instanceof Je))return!1;if(t.canUngroup())return!0}else for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Je&&e.canUngroup())return!0;return!1},$i.prototype.addTopLevelParts=function(t,e){var o=!0;for(t=Ea(t).iterator;t.next();){var a=t.value;null!==a.containingGroup&&(!e||this.isValidMember(null,a)?a.containingGroup=null:o=!1)}return o},$i.prototype.collapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Collapse SubGraph"),dc(e.animationManager,"Collapse SubGraph");var o=new St;if(null!==t&&t.isSubGraphExpanded)t.collapseSubGraph(),o.add(t);else if(null===t)for(var a=e.selection.iterator;a.next();){var h=a.value;h instanceof Je&&h.isSubGraphExpanded&&(h.collapseSubGraph(),o.add(h))}e.R("SubGraphCollapsed",o)}finally{e.Xa("Collapse SubGraph")}},$i.prototype.canCollapseSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return!!(t instanceof Je&&t.isSubGraphExpanded);for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Je&&e.isSubGraphExpanded)return!0;return!1},$i.prototype.expandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;try{e.xa("Expand SubGraph"),dc(e.animationManager,"Expand SubGraph");var o=new St;if(null===t||t.isSubGraphExpanded){if(null===t)for(var a=e.selection.iterator;a.next();){var h=a.value;h instanceof Je&&!h.isSubGraphExpanded&&(h.expandSubGraph(),o.add(h))}}else t.expandSubGraph(),o.add(t);e.R("SubGraphExpanded",o)}finally{e.Xa("Expand SubGraph")}},$i.prototype.canExpandSubGraph=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly)return!1;if(null!==t)return t instanceof Je&&!t.isSubGraphExpanded;for(t=e.selection.iterator;t.next();)if((e=t.value)instanceof Je&&!e.isSubGraphExpanded)return!0;return!1},$i.prototype.editTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram,o=e.toolManager.findTool("TextEditing");if(null!==o){if(null===t){t=null;for(var a=e.selection.iterator;a.next();){var h=a.value;if(h.canEdit()){t=h;break}}if(null===t)return;t=t.ym(function(c){return c instanceof Gi&&c.editable})}null!==t&&(e.currentTool=null,o.textBlock=t,e.currentTool=o)}},$i.prototype.canEditTextBlock=function(t){void 0===t&&(t=null);var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowTextEdit||null===e.toolManager.findTool("TextEditing"))return!1;if(null!==t){if(!(t instanceof Gi))return!1;if(null!==(t=t.part)&&t.canEdit())return!0}else for(e=e.selection.iterator;e.next();)if((t=e.value).canEdit()&&null!==(t=t.ym(function(o){return o instanceof Gi&&o.editable})))return!0;return!1},$i.prototype.showContextMenu=function(t){var e=this.diagram,o=e.toolManager.findTool("ContextMenu");if(null!==o&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==(t=o.findObjectWithContextMenu(t)))){var a=e.lastInput,h=null;t instanceof Ge?h=t.da(Xe):e.viewportBounds.$(a.documentPoint)||(h=new J((h=e.viewportBounds).x+h.width/2,h.y+h.height/2)),null!==h&&(a.viewPoint=e.gr(h),a.documentPoint=h,a.left=!1,a.right=!0,a.up=!0),e.currentTool=o,tS(o,!1,t)}},$i.prototype.canShowContextMenu=function(t){var e=this.diagram,o=e.toolManager.findTool("ContextMenu");return null!==o&&(void 0===t&&(t=0<e.selection.count?e.selection.first():e),null!==o.findObjectWithContextMenu(t))},$i.prototype.computeEffectiveCollection=function(t,e){var o=this.diagram,a=o.toolManager.findTool("Dragging"),h=o.currentTool===a;if(void 0===e&&(e=h?a.dragOptions:o.kl),a=new ot,null===t)return a;for(var c=t.iterator;c.next();)Es(o,a,c.value,h,e);if(null!==o.draggedLink&&e.dragsLink)return a;for(c=t.iterator;c.next();)(t=c.value)instanceof Ce&&((null===(e=t.fromNode)||a.contains(e))&&(null===(e=t.toNode)||a.contains(e))||a.remove(t));return a},B.Object.defineProperties($i.prototype,{diagram:{get:function(){return this.B}},copiesClipboardData:{get:function(){return this.u},set:function(t){this.u=t}},copiesConnectedLinks:{get:function(){return this.I},set:function(t){this.I=t}},deletesConnectedLinks:{get:function(){return this.eb},set:function(t){this.eb=t}},copiesTree:{get:function(){return this.La},set:function(t){this.La=t}},deletesTree:{get:function(){return this.Sc},set:function(t){this.Sc=t}},copiesParentKey:{get:function(){return this.Ka},set:function(t){this.Ka=t}},copiesGroupKey:{get:function(){return this.T},set:function(t){this.T=t}},archetypeGroupData:{get:function(){return this.l},set:function(t){this.l=t}},memberValidation:{get:function(){return this.Ki},set:function(t){this.Ki=t}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(t){this.diagram.defaultScale=t}},zoomFactor:{get:function(){return this.Od},set:function(t){1<t||R("zoomFactor must be larger than 1.0, not: "+t),this.Od=t}},isZoomToFitRestoreEnabled:{get:function(){return this.Cc},set:function(t){this.Cc=t}},scrollToPartPause:{get:function(){return this.Tc},set:function(t){this.Tc=t}}}),$i.className="CommandHandler",b1=function(){return new $i},Ge.prototype.cloneProtected=function(t){t.F=6144|this.F,t.hb=this.hb,t.oa=this.oa,t.mb=this.mb,t.ec=this.ec,t.Mg=this.Mg,t.la.assign(this.la),t.Xc=this.Xc.H(),t.fg=this.fg.H(),t.eg=this.eg.H(),t.cg=this.cg.copy(),t.Aa=this.Aa,t.Yb=this.Yb,t.De=this.De,t.jh=this.jh.H(),t.qc.assign(this.qc),t.xb.assign(this.xb),t.rc.assign(this.rc),t.xp=this.xp,null!==this.O&&(t.O=this.O.copy()),t.yb=this.yb.H(),t.$k=this.$k.H(),t.Jp=this.Jp,t.Kp=this.Kp,t.Rg=this.Rg,t.zn=this.zn,t.aq=this.aq,t.Qp=this.Qp,t.am=this.am,t.bm=this.bm.H(),t.cm=this.cm,t.oi=this.oi,null!==this.N&&(t.N=this.N.copy()),t.fb=this.fb,t.dl=this.dl,null!==this.ni&&(t.ni=dt(this.ni)),null!==this.Za&&(t.Za=this.Za.copy()),t.em=this.em},Ge.prototype.Tx=function(t){var e=this.ni;if(mt(e)){for(var o=0;o<e.length;o++)if(e[o]===t)return}else this.ni=e=[];e.push(t)},Ge.prototype.yf=function(t){t.yp=null,t.ak=null,t.s()},Ge.prototype.clone=function(){var t=new this.constructor;if(this.cloneProtected(t),null!==this.ni)for(var e=0;e<this.ni.length;e++){var o=this.ni[e];t[o]=this[o]}return t},Ge.prototype.copy=function(){return this.clone()},(q=Ge.prototype).jb=function(t){t.classType===Ce?0===t.name.indexOf("Orient")?this.segmentOrientation=t:R("Unknown Link enum value for GraphObject.segmentOrientation property: "+t):t.classType===Ge&&(this.stretch=t)},q.toString=function(){return v(this.constructor)+"#"+Jt(this)},q.Kc=function(){if(null===this.O){var t=new Lf;t.bh=yi,t.Ch=yi,t.$g=10,t.Ah=10,t.ah=0,t.Bh=0,this.O=t}},q.Va=function(t,e,o,a,h,c,m){var x=this.part;if(null!==x&&(x.Sk(t,e,o,a,h,c,m),o===this&&t===pn&&Au(this)&&qa(this,x,e),c=this.diagram,null===this.Mg||null===c||!c.pj||c.undoManager.isUndoingRedoing||c.currentTool!==c.toolManager||c.animationManager.tn||null!==(t=this.Mg.get(e))&&c.animationManager.isEnabled&&!c.animationManager.isTicking&&(null===this.Mp&&(this.Mp=new ot),m=0===c.undoManager.transactionLevel,t.startCondition===Zr?m=!0:t.startCondition===Po&&(m=!1),m?(function(t,e){null!==(t=t.bl)&&(t.duration&&(e.duration=t.duration),t.finished&&(e.finished=t.finished),t.easing&&(e.easing=t.easing))}(t,c=new zr),null!==(m=this.Mp.get(t))&&m.stop(),this.Mp.add(t,c),c.xv=this,c.Ox=t,c.add(this,e,a,h),c.start()):(Kr(c.animationManager,"Trigger"),c.animationManager.defaultAnimation.add(this,e,a,h))),this instanceof pe&&o===x&&0!=(16777216&x.F)&&null!==x.data))for(a=(o=this.W.j).length,h=0;h<a;h++)(x=o[h])instanceof pe&&Pf(x,function(S){null!==S.data&&0!=(16777216&S.F)&&S.Ea(e)})},q.Gt=function(t){return this.dl===t?this:null},q.g=function(t,e,o){this.Va(pn,t,this,e,o)},q.sy=function(t,e,o){if(!1===this.pickable)return!1;var a=this.naturalBounds;return e=t.Ie(e),o?ae(t.x,t.y,0,0,0,a.height)<=e||ae(t.x,t.y,0,a.height,a.width,a.height)<=e||ae(t.x,t.y,a.width,a.height,a.width,0)<=e||ae(t.x,t.y,a.width,0,0,0)<=e:t.qd(0,0)<=e&&t.qd(0,a.height)<=e&&t.qd(a.width,0)<=e&&t.qd(a.width,a.height)<=e},q.he=function(){return!0},q.$=function(t){var e=J.alloc();e.assign(t),this.transform.ta(e);var o=this.actualBounds;if(!o.o())return J.free(e),!1;var a=this.diagram;if(null!==a&&a.re){var h=a.Bm("extraTouchThreshold"),c=a.Bm("extraTouchArea"),m=c/2,x=this.naturalBounds,S=1/(a=this.Af()*a.scale);if(x.width*a<h&&x.height*a<h)return t=hi(o.x-m*S,o.y-m*S,o.width+c*S,o.height+c*S,e.x,e.y),J.free(e),t}return h=!1,(this instanceof Ci||this instanceof qe?hi(o.x-5,o.y-5,o.width+10,o.height+10,e.x,e.y):o.$(e))&&(h=!(this.Za&&!this.Za.$(e))&&(!!(null!==this.ec&&o.$(e)||null!==this.mb&&this.rc.$(t))||this.Kh(t))),J.free(e),h},q.Kh=function(t){var e=this.naturalBounds;return hi(0,0,e.width,e.height,t.x,t.y)},q.Ge=function(t){if(0===this.angle)return this.actualBounds.Ge(t);var e=this.naturalBounds;e=Lt.allocAt(0,0,e.width,e.height);var o=this.transform,a=!1,h=J.allocAt(t.x,t.y);return e.$(o.Jd(h))&&(h.h(t.x,t.bottom),e.$(o.Jd(h))&&(h.h(t.right,t.bottom),e.$(o.Jd(h))&&(h.h(t.right,t.y),e.$(o.Jd(h))&&(a=!0)))),J.free(h),Lt.free(e),a},q.Jh=function(t,e){if(void 0===e)return t.Ge(this.actualBounds);var o=this.naturalBounds,a=!1,h=J.allocAt(0,0);return t.$(e.ta(h))&&(h.h(0,o.height),t.$(e.ta(h))&&(h.h(o.width,o.height),t.$(e.ta(h))&&(h.h(o.width,0),t.$(e.ta(h))&&(a=!0)))),J.free(h),a},q.Mc=function(t,e){if(void 0===e&&(e=this.transform,0===this.angle))return t.Mc(this.actualBounds);var o=this.naturalBounds,a=J.allocAt(0,0),h=J.allocAt(0,o.height),c=J.allocAt(o.width,o.height),m=J.allocAt(o.width,0),x=!1;if(t.$(e.ta(a))||t.$(e.ta(h))||t.$(e.ta(c))||t.$(e.ta(m)))x=!0;else{o=Lt.allocAt(0,0,o.width,o.height);var S=J.allocAt(t.x,t.y);o.$(e.Jd(S))?x=!0:(S.h(t.x,t.bottom),o.$(e.Jd(S))?x=!0:(S.h(t.right,t.bottom),o.$(e.Jd(S))?x=!0:(S.h(t.right,t.y),o.$(e.Jd(S))&&(x=!0)))),J.free(S),Lt.free(o),!x&&(Zt.Qt(t,a,h)||Zt.Qt(t,h,c)||Zt.Qt(t,c,m)||Zt.Qt(t,m,a))&&(x=!0)}return J.free(a),J.free(h),J.free(c),J.free(m),x},q.da=function(t,e){if(void 0===e&&(e=new J),t instanceof He){var o=this.naturalBounds;e.h(t.x*o.width+t.offsetX,t.y*o.height+t.offsetY)}else e.set(t);return this.Fd.ta(e),e},q.mj=function(t){void 0===t&&(t=new Lt);var e=this.naturalBounds,o=this.Fd,a=J.allocAt(0,0).transform(o);return t.h(a.x,a.y,0,0),a.h(e.width,0).transform(o),fi(t,a.x,a.y,0,0),a.h(e.width,e.height).transform(o),fi(t,a.x,a.y,0,0),a.h(0,e.height).transform(o),fi(t,a.x,a.y,0,0),J.free(a),t},q.lj=function(){var t=this.Fd;return 1===t.m11&&0===t.m12?t=0:0>(t=180*Math.atan2(t.m12,t.m11)/Math.PI)&&(t+=360),t},q.Af=function(){if(0==(4096&this.F))return this.ql;var t=this.Aa;return null!==this.panel?t*this.panel.Af():t},q.Mt=function(t,e){return void 0===e&&(e=new J),e.assign(t),this.Fd.Jd(e),e},q.Nt=function(t,e,o){return this.zk(t.x,t.y,e.x,e.y,o)},q.zk=function(t,e,o,a,h){var c=this.transform,m=1/(c.m11*c.m22-c.m12*c.m21),x=c.m22*m,S=-c.m12*m,E=-c.m21*m,P=c.m11*m,N=m*(c.m21*c.dy-c.m22*c.dx),nt=m*(c.m12*c.dx-c.m11*c.dy);return null!==this.areaBackground?Zt.Cf((c=this.actualBounds).left,c.top,c.right,c.bottom,t,e,o,a,h):(m=t*x+e*E+N,t=t*S+e*P+nt,e=o*x+a*E+N,o=o*S+a*P+nt,h.h(0,0),o=Zt.Cf(0,0,(a=this.naturalBounds).width,a.height,m,t,e,o,h),h.transform(c),o)},Ge.prototype.measure=function(t,e,o,a){if(!1!==Hh(this)){var h=this.jh,c=h.right+h.left;h=h.top+h.bottom,t=Math.max(t-c,0),e=Math.max(e-h,0),o=Math.max((o||0)-c,0),a=Math.max((a||0)-h,0),h=this.desiredSize;var m=0;this instanceof qe&&(m=this.strokeWidth),90===(c=this.angle)||270===c?(t=isFinite(h.height)?h.height+m:t,e=isFinite(h.width)?h.width+m:e):(t=isFinite(h.width)?h.width+m:t,e=isFinite(h.height)?h.height+m:e),h=o||0,m=a||0;var x=this instanceof pe;switch(Gs(this,!0)){case Nn:m=h=0,x&&(e=t=1/0);break;case zn:isFinite(t)&&t>o&&(h=t),isFinite(e)&&e>a&&(m=e);break;case Lr:isFinite(t)&&t>o&&(h=t),m=0,x&&(e=1/0);break;case Gr:isFinite(e)&&e>a&&(m=e),h=0,x&&(t=1/0)}var S=this.minSize;h>(x=this.maxSize).width&&S.width<x.width&&(h=x.width),m>x.height&&S.height<x.height&&(m=x.height),o=Math.max(h/this.scale,S.width),a=Math.max(m/this.scale,S.height),x.width<o&&(o=Math.min(S.width,o)),x.height<a&&(a=Math.min(S.height,a)),t=Math.min(x.width,t),e=Math.min(x.height,e),t=Math.max(o,t),e=Math.max(a,e),(90===c||270===c)&&(c=t,t=e,e=c,c=o,o=a,a=c),this.qc.ea(),this.Hm(t,e,o,a),this.qc.freeze(),this.qc.o()||R("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.qc.toString()),Xo(this,!1)}},Ge.prototype.Hm=function(){},Ge.prototype.Ff=function(){return!1},Ge.prototype.arrange=function(t,e,o,a,h){this.Fl();var c=Lt.alloc();c.assign(this.xb),this.xb.ea(),!1===hs(this)?this.xb.h(t,e,o,a):this.Ih(t,e,o,a),this.xb.freeze(),this.Za=void 0===h?null:h,o=!1,void 0!==h?o=!0:(null===(h=this.panel)||h.type!==pe.TableRow&&h.type!==pe.TableColumn||(h=h.panel),null!==h&&(h=h.rc,a=this.measuredBounds,null!==this.areaBackground&&(a=this.xb),o=e+a.height,a=t+a.width,o=!(0<=t+.05&&a<=h.width+.05&&0<=e+.05&&o<=h.height+.05),this instanceof Gi&&(this.us>(t=this.naturalBounds).height||this.vb>t.width))&&(o=!0)),this.F=o?256|this.F:-257&this.F,this.xb.o()||R("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.xb.toString()),this.Im(c,this.xb),kl(this,!1),Lt.free(c)},(q=Ge.prototype).Ih=function(){},q.Im=function(t,e){var o=this.part;null!==o&&null!==o.diagram&&(o.selectionObject!==this&&o.resizeObject!==this&&o.rotateObject!==this||Mv(o,!0),this.M(),Ae(t,e)||(o.Oh(),this.mp(o)))},q.mp=function(t){null!==this.portId&&(Mv(t,!0),t instanceof Fe&&vx(t,this))},q.mc=function(t,e){if(this.visible){var o=this instanceof pe&&(this.type===pe.TableRow||this.type===pe.TableColumn),a=this.xb;if(o||0!==a.width&&0!==a.height&&!isNaN(a.x)&&!isNaN(a.y)){var h=this.opacity;if(0!==h){var c=1;if(1!==h&&(t.globalAlpha=(c=t.globalAlpha)*h),!this.ly(t,e))if(o)vb(this,t,e);else{this instanceof Ce&&this.Gk(!1),o=this.transform;var m=this.panel;0!=(4096&this.F)&&qg(this);var x=this.part,S=!1,E=0;if(x&&e.Ke("drawShadows")&&(S=x.isShadowed)){var P=x.shadowOffset;E=Math.max(P.y,P.x)*e.scale*e.Tb}if(!(P=e.yi||!this.Ff())){var Vt,N=this.naturalBounds,nt=(P=this.Zh).m11,at=P.m21,rt=P.dx,_t=P.m12,It=P.m22,Pt=P.dy,Ht=Vt=0;P=Vt*nt+Ht*at+rt;var Wt=Vt*_t+Ht*It+Pt,Qt=(Vt=N.width+E)*nt+(Ht=0)*at+rt;Vt=Vt*_t+Ht*It+Pt,Ht=Math.min(P,Qt);var me=Math.min(Wt,Vt),Be=Math.max(P+0,Qt)-Ht,Ee=Math.max(Wt+0,Vt)-me;P=Ht,Wt=me,Qt=(Vt=N.width+E)*nt+(Ht=N.height+E)*at+rt,Vt=Vt*_t+Ht*It+Pt,Ht=Math.min(P,Qt),me=Math.min(Wt,Vt),Be=Math.max(P+Be,Qt)-Ht,Ee=Math.max(Wt+Ee,Vt)-me,P=Ht,Wt=me,Qt=(Vt=0)*nt+(Ht=N.height+E)*at+rt,Vt=Vt*_t+Ht*It+Pt,Ht=Math.min(P,Qt),me=Math.min(Wt,Vt),Be=Math.max(P+Be,Qt)-Ht,Ee=Math.max(Wt+Ee,Vt)-me,Wt=me,nt=(E=e.viewportBounds).y,P=!((P=Ht)>E.width+(N=E.x)||N>Be+P||Wt>E.height+nt||nt>Ee+Wt)}if(P){if(P=0!=(256&this.F),t.clipInsteadOfFill&&(P=!1),this instanceof Gi&&(t.font=this.font),P){if(Wt=m.he()?m.naturalBounds:m.actualBounds,null!==this.Za?(Be=(N=this.Za).x,Ee=N.y,E=N.width,N=N.height):(Be=Math.max(a.x,Wt.x),Ee=Math.max(a.y,Wt.y),E=Math.min(a.right,Wt.right)-Be,N=Math.min(a.bottom,Wt.bottom)-Ee),Be>a.width+a.x||a.x>Wt.width+Wt.x)return void(1!==h&&(t.globalAlpha=c));t.save(),t.beginPath(),t.rect(Be,Ee,E,N),t.clip()}if(this.Ff()){if(!x.isVisible())return void(1!==h&&(t.globalAlpha=c));S&&(t.Iw((Wt=x.shadowOffset).x*e.scale*e.Tb,Wt.y*e.scale*e.Tb,x.shadowBlur),Tl(t),t.shadowColor=x.shadowColor)}S&&!0===this.shadowVisible?Tl(t):S&&!1===this.shadowVisible&&Al(t),x=this.naturalBounds,null!==this.ec&&($o(this,t,this.ec,!0,!0,x,a),this.ec instanceof Ei&&this.ec.type===qo?(t.beginPath(),t.rect(a.x,a.y,a.width,a.height),t.Je(this.ec)):t.fillRect(a.x,a.y,a.width,a.height)),t.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),S&&(null!==m&&0!=(512&m.F)||null!==m&&(m.type===pe.Auto||m.type===pe.Spot)&&m.tb()!==this)&&null===this.shadowVisible&&Al(t),null!==this.mb&&(Be=Wt=0,Ee=(E=this.naturalBounds).width,E=E.height,N=0,this instanceof qe&&(Wt=(E=this.na.bounds).x,Be=E.y,Ee=E.width,E=E.height,N=this.strokeWidth),$o(this,t,this.mb,!0,!1,x,a),this.mb instanceof Ei&&this.mb.type===qo?(t.beginPath(),t.rect(Wt-N/2,Be-N/2,Ee+N,E+N),t.Je(this.mb)):t.fillRect(Wt-N/2,Be-N/2,Ee+N,E+N)),S&&(null!==this.mb||null!==this.ec||null!==m&&0!=(512&m.F)||null!==m&&(m.type===pe.Auto||m.type===pe.Spot)&&m.tb()!==this)?(_c(this,!0),null===this.shadowVisible&&Al(t)):_c(this,!1),this.ej(t,e),S&&0!=(512&this.F)&&Tl(t),this.Ff()&&S&&Al(t),P?(t.restore(),t.uc(this instanceof pe)):o.Tt()||t.transform(o.m22*(e=1/(o.m11*o.m22-o.m12*o.m21)),-o.m12*e,-o.m21*e,o.m11*e,e*(o.m21*o.dy-o.m22*o.dx),e*(o.m12*o.dx-o.m11*o.dy))}}1!==h&&(t.globalAlpha=c)}}}},q.ly=function(){return!1},q.ej=function(){},q.Gg=function(t){if(t instanceof pe)t:{if(this!==t&&null!==t)for(var e=this.panel;null!==e;){if(e===t){t=!0;break t}e=e.panel}t=!1}else t=!1;return t},q.Gf=function(){if(!this.visible)return!1;var t=this.panel;return null===t||t.Gf()},q.Hg=function(){for(var t=this instanceof pe?this:this.panel;null!==t&&t.isEnabled;)t=t.panel;return null===t},q.s=function(t){if(!Hh(this)){void 0===t&&(t=!1),Xo(this,!0),kl(this,!0);var e=this.panel;null===e||t||e.s()}},q.Bk=function(){Hh(this)||(Xo(this,!0),kl(this,!0))},q.Fl=function(){0==(2048&this.F)&&(Kd(this,!0),Tu(this,!0))},q.dw=function(){Tu(this,!0)},q.M=function(){var t=this.part;null!==t&&t.M()},q.sj=function(t){this.og=t},q.lu=function(){},q.Ew=function(t){return this.la.assign(t),Vh(this),!0},q.er=function(t,e){(this.la.x!==t||this.la.y!==e)&&(this.la.h(t,e),this.Fl())},q.bind=function(t){t.pd=this;var e=this.ij();null!==e&&Q1(e)&&R("Cannot add a Binding to a template that has already been copied: "+t),null===this.fb&&(this.fb=new St),this.fb.add(t)},q.ij=function(){for(var t=this instanceof pe?this:this.panel;null!==t;){if(null!==t.li)return t;t=t.panel}return null},q.Fw=function(t){T0(this,t)},q.Qw=function(t){t.pd=this,null===this.Mg&&(this.Mg=new ot),this.Mg.add(t.propertyName,t)},B.Object.defineProperties(Ge.prototype,{shadowVisible:{get:function(){return this.em},set:function(t){var e=this.em;e!==t&&(this.em=t,this.M(),this.g("shadowVisible",e,t))}},enabledChanged:{get:function(){return null!==this.N?this.N.Wn:null},set:function(t){Oo(this);var e=this.N.Wn;e!==t&&(this.N.Wn=t,this.g("enabledChanged",e,t))}},segmentOrientation:{get:function(){return this.cm},set:function(t){var e=this.cm;e!==t&&(this.cm=t,this.s(),this.g("segmentOrientation",e,t),t===Bo&&(this.angle=0))}},segmentIndex:{get:function(){return this.Qp},set:function(t){t=Math.round(t);var e=this.Qp;e!==t&&(this.Qp=t,this.s(),this.g("segmentIndex",e,t))}},segmentFraction:{get:function(){return this.am},set:function(t){isNaN(t)||0>t?t=0:1<t&&(t=1);var e=this.am;e!==t&&(this.am=t,this.s(),this.g("segmentFraction",e,t))}},segmentOffset:{get:function(){return this.bm},set:function(t){var e=this.bm;e.w(t)||(this.bm=t=t.H(),this.s(),this.g("segmentOffset",e,t))}},stretch:{get:function(){return this.De},set:function(t){var e=this.De;e!==t&&(this.De=t,this.s(),this.g("stretch",e,t))}},name:{get:function(){return this.oa},set:function(t){var e=this.oa;e!==t&&(this.oa=t,null!==this.part&&(this.part.Xj=null),this.g("name",e,t))}},opacity:{get:function(){return this.hb},set:function(t){var e=this.hb;e!==t&&((0>t||1<t)&&Z(t,"0 <= value <= 1",Ge,"opacity"),this.hb=t,this.g("opacity",e,t),e=this.part,null!==(t=this.diagram)&&null!==e&&t.M(Dc(e,e.actualBounds)))}},visible:{get:function(){return 0!=(1&this.F)},set:function(t){var e=0!=(1&this.F);e!==t&&(this.F^=1,this.g("visible",e,t),null!==(e=this.panel)?e.s():this.Ff()&&this.Ob(t),this.M(),yb(this))}},pickable:{get:function(){return 0!=(2&this.F)},set:function(t){var e=0!=(2&this.F);e!==t&&(this.F^=2,this.g("pickable",e,t))}},fromLinkableDuplicates:{get:function(){return 0!=(4&this.F)},set:function(t){var e=0!=(4&this.F);e!==t&&(this.F^=4,this.g("fromLinkableDuplicates",e,t))}},fromLinkableSelfNode:{get:function(){return 0!=(8&this.F)},set:function(t){var e=0!=(8&this.F);e!==t&&(this.F^=8,this.g("fromLinkableSelfNode",e,t))}},toLinkableDuplicates:{get:function(){return 0!=(16&this.F)},set:function(t){var e=0!=(16&this.F);e!==t&&(this.F^=16,this.g("toLinkableDuplicates",e,t))}},toLinkableSelfNode:{get:function(){return 0!=(32&this.F)},set:function(t){var e=0!=(32&this.F);e!==t&&(this.F^=32,this.g("toLinkableSelfNode",e,t))}},isPanelMain:{get:function(){return 0!=(64&this.F)},set:function(t){var e=0!=(64&this.F);e!==t&&(this.F^=64,this.s(),this.g("isPanelMain",e,t))}},isActionable:{get:function(){return 0!=(128&this.F)},set:function(t){var e=0!=(128&this.F);e!==t&&(this.F^=128,this.g("isActionable",e,t))}},areaBackground:{get:function(){return this.ec},set:function(t){var e=this.ec;e!==t&&(null!==t&&Pl(t,"GraphObject.areaBackground"),t instanceof Ei&&t.freeze(),this.ec=t,this.M(),this.g("areaBackground",e,t))}},background:{get:function(){return this.mb},set:function(t){var e=this.mb;e!==t&&(null!==t&&Pl(t,"GraphObject.background"),t instanceof Ei&&t.freeze(),this.mb=t,this.M(),this.g("background",e,t))}},part:{get:function(){if(this.Ff())return this;if(null!==this.ak)return this.ak;var t;for(t=this.panel;t;){if(t instanceof Ye)return this.ak=t;t=t.panel}return null}},svg:{get:function(){return this.gq},set:function(t){this.gq=t}},panel:{get:function(){return this.og}},layer:{get:function(){var t=this.part;return null!==t?t.layer:null}},diagram:{get:function(){var t=this.part;return null!==t?t.diagram:null}},position:{get:function(){return this.la},set:function(t){var e=t.x,o=t.y,a=this.la,h=a.x,c=a.y;(h===e||isNaN(h)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))?this.lu():(t=t.copy(),this.Ew(t,a)&&this.g("position",a.copy(),t.copy()))}},actualBounds:{get:function(){return this.xb}},scale:{get:function(){return this.Aa},set:function(t){var e=this.Aa;e!==t&&(0>=t&&R("GraphObject.scale for "+this+" must be greater than zero, not: "+t),this.Aa=t,this.s(),this.g("scale",e,t))}},angle:{get:function(){return this.Yb},set:function(t){var e=this.Yb;e!==t&&(0>(t%=360)&&(t+=360),e!==t&&(this.Yb=t,yb(this),this.s(),this.g("angle",e,t)))}},desiredSize:{get:function(){return this.Xc},set:function(t){var e=t.width,o=t.height,a=this.Xc,h=a.width,c=a.height;(h===e||isNaN(h)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))||(this.Xc=t=t.H(),this.s(),this instanceof qe&&this.dc(),this.g("desiredSize",a,t),Au(this)&&null!==(t=this.part)&&(qa(this,t,"width"),qa(this,t,"height")))}},width:{get:function(){return this.Xc.width},set:function(t){var e=this.Xc.width;e===t||isNaN(e)&&isNaN(t)||(e=this.Xc,this.Xc=t=new fe(t,this.Xc.height).freeze(),this.s(),this instanceof qe&&this.dc(),this.g("desiredSize",e,t),Au(this)&&null!==(t=this.part)&&qa(this,t,"width"))}},height:{get:function(){return this.Xc.height},set:function(t){var e=this.Xc.height;e===t||isNaN(e)&&isNaN(t)||(e=this.Xc,this.Xc=t=new fe(this.Xc.width,t).freeze(),this.s(),this instanceof qe&&this.dc(),this.g("desiredSize",e,t),Au(this)&&null!==(t=this.part)&&qa(this,t,"height"))}},minSize:{get:function(){return this.fg},set:function(t){var e=this.fg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=0),isNaN(t.height)&&(t.height=0),t.freeze(),this.fg=t,this.s(),this.g("minSize",e,t))}},maxSize:{get:function(){return this.eg},set:function(t){var e=this.eg;e.w(t)||(t=t.copy(),isNaN(t.width)&&(t.width=1/0),isNaN(t.height)&&(t.height=1/0),t.freeze(),this.eg=t,this.s(),this.g("maxSize",e,t))}},measuredBounds:{get:function(){return this.qc}},naturalBounds:{get:function(){return this.rc}},margin:{get:function(){return this.jh},set:function(t){"number"==typeof t&&(t=new oi(t));var e=this.jh;e.w(t)||(this.jh=t=t.H(),this.s(),this.g("margin",e,t))}},transform:{get:function(){return 0!=(2048&this.F)&&qg(this),this.sb}},Fd:{get:function(){return 0!=(4096&this.F)&&qg(this),this.Zh}},alignment:{get:function(){return this.yb},set:function(t){var e=this.yb;e.w(t)||(t.nc()&&!t.Mb()&&R("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+t),this.yb=t=t.H(),Vh(this),this.g("alignment",e,t))}},column:{get:function(){return this.Rg},set:function(t){t=Math.round(t);var e=this.Rg;e!==t&&(0>t&&Z(t,">= 0",Ge,"column"),this.Rg=t,this.s(),this.g("column",e,t))}},columnSpan:{get:function(){return this.zn},set:function(t){t=Math.round(t);var e=this.zn;e!==t&&(1>t&&Z(t,">= 1",Ge,"columnSpan"),this.zn=t,this.s(),this.g("columnSpan",e,t))}},row:{get:function(){return this.Jp},set:function(t){t=Math.round(t);var e=this.Jp;e!==t&&(0>t&&Z(t,">= 0",Ge,"row"),this.Jp=t,this.s(),this.g("row",e,t))}},rowSpan:{get:function(){return this.Kp},set:function(t){t=Math.round(t);var e=this.Kp;e!==t&&(1>t&&Z(t,">= 1",Ge,"rowSpan"),this.Kp=t,this.s(),this.g("rowSpan",e,t))}},spanAllocation:{get:function(){return this.aq},set:function(t){var e=this.aq;e!==t&&(this.aq=t,this.s(),this.g("spanAllocation",e,t))}},alignmentFocus:{get:function(){return this.$k},set:function(t){var e=this.$k;e.w(t)||(this.$k=t=t.H(),this.s(),this.g("alignmentFocus",e,t))}},portId:{get:function(){return this.xp},set:function(t){var e=this.xp;if(e!==t){var o=this.part;null===o||o instanceof Fe||(R("Cannot set portID on a Link: "+t),o=null),null!==e&&null!==o&&lm(o,this),this.xp=t,null!==t&&null!==o&&(o.Nh=!0,xx(o,this)),this.g("portId",e,t)}}},toSpot:{get:function(){return null!==this.O?this.O.Ch:yi},set:function(t){this.Kc();var e=this.O.Ch;e.w(t)||(t=t.H(),this.O.Ch=t,this.g("toSpot",e,t),Ja(this))}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.Ah:10},set:function(t){this.Kc();var e=this.O.Ah;e!==t&&(0>t&&Z(t,">= 0",Ge,"toEndSegmentLength"),this.O.Ah=t,this.g("toEndSegmentLength",e,t),Ja(this))}},toShortLength:{get:function(){return null!==this.O?this.O.Bh:0},set:function(t){this.Kc();var e=this.O.Bh;e!==t&&(this.O.Bh=t,this.g("toShortLength",e,t),Ja(this))}},toLinkable:{get:function(){return null!==this.O?this.O.kq:null},set:function(t){this.Kc();var e=this.O.kq;e!==t&&(this.O.kq=t,this.g("toLinkable",e,t))}},toMaxLinks:{get:function(){return null!==this.O?this.O.lq:1/0},set:function(t){this.Kc();var e=this.O.lq;e!==t&&(0>t&&Z(t,">= 0",Ge,"toMaxLinks"),this.O.lq=t,this.g("toMaxLinks",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.bh:yi},set:function(t){this.Kc();var e=this.O.bh;e.w(t)||(t=t.H(),this.O.bh=t,this.g("fromSpot",e,t),Ja(this))}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.$g:10},set:function(t){this.Kc();var e=this.O.$g;e!==t&&(0>t&&Z(t,">= 0",Ge,"fromEndSegmentLength"),this.O.$g=t,this.g("fromEndSegmentLength",e,t),Ja(this))}},fromShortLength:{get:function(){return null!==this.O?this.O.ah:0},set:function(t){this.Kc();var e=this.O.ah;e!==t&&(this.O.ah=t,this.g("fromShortLength",e,t),Ja(this))}},fromLinkable:{get:function(){return null!==this.O?this.O.co:null},set:function(t){this.Kc();var e=this.O.co;e!==t&&(this.O.co=t,this.g("fromLinkable",e,t))}},fromMaxLinks:{get:function(){return null!==this.O?this.O.eo:1/0},set:function(t){this.Kc();var e=this.O.eo;e!==t&&(0>t&&Z(t,">= 0",Ge,"fromMaxLinks"),this.O.eo=t,this.g("fromMaxLinks",e,t))}},cursor:{get:function(){return this.oi},set:function(t){var e=this.oi;e!==t&&(this.oi=t,this.g("cursor",e,t))}},click:{get:function(){return null!==this.N?this.N.Pf:null},set:function(t){Oo(this);var e=this.N.Pf;e!==t&&(this.N.Pf=t,this.g("click",e,t))}},doubleClick:{get:function(){return null!==this.N?this.N.Uf:null},set:function(t){Oo(this);var e=this.N.Uf;e!==t&&(this.N.Uf=t,this.g("doubleClick",e,t))}},contextClick:{get:function(){return null!==this.N?this.N.Qf:null},set:function(t){Oo(this);var e=this.N.Qf;e!==t&&(this.N.Qf=t,this.g("contextClick",e,t))}},mouseEnter:{get:function(){return null!==this.N?this.N.hg:null},set:function(t){Oo(this);var e=this.N.hg;e!==t&&(this.N.hg=t,this.g("mouseEnter",e,t))}},mouseLeave:{get:function(){return null!==this.N?this.N.kg:null},set:function(t){Oo(this);var e=this.N.kg;e!==t&&(this.N.kg=t,this.g("mouseLeave",e,t))}},mouseOver:{get:function(){return null!==this.N?this.N.lg:null},set:function(t){Oo(this);var e=this.N.lg;e!==t&&(this.N.lg=t,this.g("mouseOver",e,t))}},mouseHover:{get:function(){return null!==this.N?this.N.jg:null},set:function(t){Oo(this);var e=this.N.jg;e!==t&&(this.N.jg=t,this.g("mouseHover",e,t))}},mouseHold:{get:function(){return null!==this.N?this.N.ig:null},set:function(t){Oo(this);var e=this.N.ig;e!==t&&(this.N.ig=t,this.g("mouseHold",e,t))}},mouseDragEnter:{get:function(){return null!==this.N?this.N.$o:null},set:function(t){Oo(this);var e=this.N.$o;e!==t&&(this.N.$o=t,this.g("mouseDragEnter",e,t))}},mouseDragLeave:{get:function(){return null!==this.N?this.N.ap:null},set:function(t){Oo(this);var e=this.N.ap;e!==t&&(this.N.ap=t,this.g("mouseDragLeave",e,t))}},mouseDrop:{get:function(){return null!==this.N?this.N.gg:null},set:function(t){Oo(this);var e=this.N.gg;e!==t&&(this.N.gg=t,this.g("mouseDrop",e,t))}},actionDown:{get:function(){return null!==this.N?this.N.gn:null},set:function(t){Oo(this);var e=this.N.gn;e!==t&&(this.N.gn=t,this.g("actionDown",e,t))}},actionMove:{get:function(){return null!==this.N?this.N.hn:null},set:function(t){Oo(this);var e=this.N.hn;e!==t&&(this.N.hn=t,this.g("actionMove",e,t))}},actionUp:{get:function(){return null!==this.N?this.N.jn:null},set:function(t){Oo(this);var e=this.N.jn;e!==t&&(this.N.jn=t,this.g("actionUp",e,t))}},actionCancel:{get:function(){return null!==this.N?this.N.fn:null},set:function(t){Oo(this);var e=this.N.fn;e!==t&&(this.N.fn=t,this.g("actionCancel",e,t))}},toolTip:{get:function(){return null!==this.N?this.N.wg:null},set:function(t){Oo(this);var e=this.N.wg;e!==t&&(this.N.wg=t,this.g("toolTip",e,t))}},contextMenu:{get:function(){return null!==this.N?this.N.Rf:null},set:function(t){Oo(this);var e=this.N.Rf;e!==t&&(this.N.Rf=t,this.g("contextMenu",e,t))}}}),Ge.prototype.trigger=Ge.prototype.Qw,Ge.prototype.setProperties=Ge.prototype.Fw,Ge.prototype.findTemplateBinder=Ge.prototype.ij,Ge.prototype.bind=Ge.prototype.bind,Ge.prototype.isEnabledObject=Ge.prototype.Hg,Ge.prototype.isVisibleObject=Ge.prototype.Gf,Ge.prototype.isContainedBy=Ge.prototype.Gg,Ge.prototype.getNearestIntersectionPoint=Ge.prototype.Nt,Ge.prototype.getLocalPoint=Ge.prototype.Mt,Ge.prototype.getDocumentScale=Ge.prototype.Af,Ge.prototype.getDocumentAngle=Ge.prototype.lj,Ge.prototype.getDocumentBounds=Ge.prototype.mj,Ge.prototype.getDocumentPoint=Ge.prototype.da,Ge.prototype.intersectsRect=Ge.prototype.Mc,Ge.prototype.containedInRect=Ge.prototype.Jh,Ge.prototype.containsRect=Ge.prototype.Ge,Ge.prototype.containsPoint=Ge.prototype.$,Ge.prototype.raiseChanged=Ge.prototype.g,Ge.prototype.raiseChangedEvent=Ge.prototype.Va,Ge.prototype.addCopyProperty=Ge.prototype.Tx;var Pu=null;function Jg(){this.Wn=this.Rf=this.wg=this.fn=this.jn=this.hn=this.gn=this.gg=this.ap=this.$o=this.ig=this.jg=this.lg=this.kg=this.hg=this.Qf=this.Uf=this.Pf=null}function Mc(){this.Oa=[1,0,0,1,0,0]}function Af(t){this.type=t,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.ay=[],this.pattern=null}function Ws(t,e){this.ownerDocument=t=void 0===e?T.document:e,this.LA="http://www.w3.org/2000/svg",void 0!==t&&(this.Ja=this.Pb("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.Ja.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.Ja.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.Dq=null,this.context=new kr(this)}function kr(t){this.nu=t,this.svg=t.Ja,this.stack=[],this.gd=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.ug=this.ft=this.et=0,this.Wt=null,this.path=[],this.Vu=!1,this.uh=null,this.vh=0,this.He=new Mc,Uh(this,1,0,0,1,0,0);var e=$t++,o=this.Pb("clipPath",{id:"mainClip"+e});o.appendChild(this.Pb("rect",{x:0,y:0,width:t.width,height:t.height})),this.Bx=o,this.nu.Ja.appendChild(o),this.gd[0].setAttributeNS(null,"clip-path","url(#mainClip"+e+")"),this.NA={}}function Cc(t,e,o,a,h){1!==t.globalAlpha&&(o.opacity=t.globalAlpha),"fill"===e?(t.fillStyle instanceof Af?o.fill=tl(t,t.fillStyle):/^rgba\(/.test(t.fillStyle)?(t=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.fillStyle),o.fill="rgb("+t[1]+","+t[2]+","+t[3]+")",o["fill-opacity"]=t[4]):o.fill=t.fillStyle,o.stroke="none"):"stroke"===e&&(o.fill="none",t.strokeStyle instanceof Af?o.stroke=tl(t,t.strokeStyle):/^rgba\(/.test(t.strokeStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(t.strokeStyle),o.stroke="rgb("+e[1]+","+e[2]+","+e[3]+")",o["stroke-opacity"]=e[4]):o.stroke=t.strokeStyle,o["stroke-width"]=t.lineWidth,o["stroke-linecap"]=t.lineCap,o["stroke-linejoin"]=t.lineJoin,o["stroke-miterlimit"]=t.miterLimit),a="matrix("+(a=a.Oa)[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")",void 0!==h&&(a+=h),o.transform=a}function tl(t,e){var o="GRAD"+$t++;if("linear"===e.type)var a=t.Pb("linearGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,id:o,gradientUnits:"userSpaceOnUse"});else{if("radial"!==e.type)throw Error("invalid gradient");a=t.Pb("radialGradient",{x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2,r1:e.r1,r2:e.r2,id:o})}var h=e.ay;e=h.length;for(var c=[],m=0;m<e;m++){var x=h[m],S=x.color;x={offset:x.offset,"stop-color":S},/^rgba\(/.test(S)&&(S=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(S),x["stop-color"]="rgb("+S[1]+","+S[2]+","+S[3]+")",x["stop-opacity"]=S[4]),c.push(x)}for(c.sort(function(E,P){return E.offset>P.offset?1:-1}),h=0;h<e;h++)a.appendChild(t.Pb("stop",c[h]));return t.svg.appendChild(a),"url(#"+o+")"}function Uh(t,e,o,a,h,c,m){var x=new Mc;x.Oa=[e,o,a,h,c,m],Cc(t,"g",e={},x),x=t.addElement("g",e),t.gd.push(x)}function Al(t){t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0}function Tl(t){t.shadowOffsetX=t.et,t.shadowOffsetY=t.ft,t.shadowBlur=t.ug}function Ko(t,e){this.ownerDocument=e=void 0===e?T.document:e,this.Dq=null,(e=e.createElement("canvas")).tabIndex=0,this.Ja=e,this.Ja.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new Iu(e),e.B=t}function Iu(t){t.getContext&&t.getContext("2d")||R("Browser does not support HTML Canvas Element"),this.Y=t.getContext("2d"),this.xu=this.zu=this.yu="",this.yn=!1,this.ug=this.ft=this.et=0}Ge.className="GraphObject",Pu=new ot,Qa("Button",function(){function t(o,a){return null!==o.diagram.Vb(o.documentPoint,function(h){for(;null!==h.panel&&!h.isActionable;)h=h.panel;return h},function(h){return h===a})}var e=Re(pe,pe.Auto,{isActionable:!0,enabledChanged:function(o,a){if(o instanceof pe){var h=o.bb("ButtonBorder");null!==h&&(h.fill=a?o._buttonFillNormal:o._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},Re(qe,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new He(0,0,2.76142374915397,2.761423749153969),spot2:new He(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return e.mouseEnter=function(o,a){if(a.Hg()&&a instanceof pe&&(o=a.bb("ButtonBorder"))instanceof qe){var h=a._buttonFillOver;a._buttonFillNormal=o.fill,o.fill=h,h=a._buttonStrokeOver,a._buttonStrokeNormal=o.stroke,o.stroke=h}},e.mouseLeave=function(o,a){a.Hg()&&a instanceof pe&&(o=a.bb("ButtonBorder"))instanceof qe&&(o.fill=a._buttonFillNormal,o.stroke=a._buttonStrokeNormal)},e.actionDown=function(o,a){if(a.Hg()&&a instanceof pe&&null!==a._buttonFillPressed&&0===o.button){var h=a.bb("ButtonBorder");if(h instanceof qe){var c=(o=o.diagram).skipsUndoManager;o.skipsUndoManager=!0;var m=a._buttonFillPressed;a._buttonFillOver=h.fill,h.fill=m,m=a._buttonStrokePressed,a._buttonStrokeOver=h.stroke,h.stroke=m,o.skipsUndoManager=c}}},e.actionUp=function(o,a){if(a.Hg()&&a instanceof pe&&null!==a._buttonFillPressed&&0===o.button){var h=a.bb("ButtonBorder");if(h instanceof qe){var c=o.diagram,m=c.skipsUndoManager;c.skipsUndoManager=!0,t(o,a)?(h.fill=a._buttonFillOver,h.stroke=a._buttonStrokeOver):(h.fill=a._buttonFillNormal,h.stroke=a._buttonStrokeNormal),c.skipsUndoManager=m}}},e.actionCancel=function(o,a){if(a.Hg()&&a instanceof pe&&null!==a._buttonFillPressed){var h=a.bb("ButtonBorder");if(h instanceof qe){var c=o.diagram,m=c.skipsUndoManager;c.skipsUndoManager=!0,t(o,a)?(h.fill=a._buttonFillOver,h.stroke=a._buttonStrokeOver):(h.fill=a._buttonFillNormal,h.stroke=a._buttonStrokeNormal),c.skipsUndoManager=m}}},e.actionMove=function(o,a){if(a.Hg()&&a instanceof pe&&null!==a._buttonFillPressed){var h=o.diagram;if(0===h.firstInput.button&&(h.currentTool.standardMouseOver(),t(o,a)&&(o=a.bb("ButtonBorder"))instanceof qe)){var c=h.skipsUndoManager;h.skipsUndoManager=!0;var m=a._buttonFillPressed;o.fill!==m&&(o.fill=m),o.stroke!==(m=a._buttonStrokePressed)&&(o.stroke=m),h.skipsUndoManager=c}}},e}),Qa("TreeExpanderButton",function(){var t=Re("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},Re(qe,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Se},new Wn("figure","isTreeExpanded",function(e,o){return o=o.panel,e?o._treeExpandedFigure:o._treeCollapsedFigure}).Uq()),{visible:!1},new Wn("visible","isTreeLeaf",function(e){return!e}).Uq());return t.click=function(e,o){if((o=o.part)instanceof Ci&&(o=o.adornedPart),o instanceof Fe){var a=o.diagram;if(null!==a){if(a=a.commandHandler,o.isTreeExpanded){if(!a.canCollapseTree(o))return}else if(!a.canExpandTree(o))return;e.handled=!0,o.isTreeExpanded?a.collapseTree(o):a.expandTree(o)}}},t}),Qa("SubGraphExpanderButton",function(){var t=Re("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},Re(qe,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:Se},new Wn("figure","isSubGraphExpanded",function(e,o){return o=o.panel,e?o._subGraphExpandedFigure:o._subGraphCollapsedFigure}).Uq()));return t.click=function(e,o){if((o=o.part)instanceof Ci&&(o=o.adornedPart),o instanceof Je){var a=o.diagram;if(null!==a){if(a=a.commandHandler,o.isSubGraphExpanded){if(!a.canCollapseSubGraph(o))return}else if(!a.canExpandSubGraph(o))return;e.handled=!0,o.isSubGraphExpanded?a.collapseSubGraph(o):a.expandSubGraph(o)}}},t}),Qa("ToolTip",function(){return Re(Ci,pe.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new J(0,3),shadowBlur:5},Re(qe,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new He(0,0,4,6),spot2:new He(1,1,-4,-4)}))}),Qa("ContextMenu",function(){return Re(Ci,pe.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new J(0,3),shadowBlur:5},new Wn("background","",function(t){return null!==t.adornedPart&&null!==t.placeholder?null:"#F5F5F5"}))}),Qa("ContextMenuButton",function(){var t=Re("Button");t.stretch=Lr;var e=t.bb("ButtonBorder");return e instanceof qe&&(e.figure="Rectangle",e.strokeWidth=0,e.spot1=new He(0,0,2,3),e.spot2=new He(1,1,-2,-2)),t}),Qa("PanelExpanderButton",function(t){var e=zh(t,"COLLAPSIBLE"),o=Re("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},Re(qe,{name:"ButtonIcon",strokeWidth:2},new Wn("geometryString","visible",function(a){return a?o._buttonExpandedFigure:o._buttonCollapsedFigure}).Uq(e)));return(t=o.bb("ButtonBorder"))instanceof qe&&(t.stroke=null,t.fill="rgba(0, 0, 0, 0)"),o.click=function(a,h){var c=h.diagram;if(null!==c&&!c.isReadOnly){var m=h.ij();null===m&&(m=h.part),null!==m&&null!==(h=m.bb(e))&&(a.handled=!0,c.xa("Collapse/Expand Panel"),h.visible=!h.visible,c.Xa("Collapse/Expand Panel"))}},o}),Qa("CheckBoxButton",function(t){var e=zh(t);return(t=Re("Button",{desiredSize:new fe(14,14)},Re(qe,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:zn,geometryStretch:Ro,visible:!1},""!==e?new Wn("visible",e).Iy():[]))).click=function(o,a){if(a instanceof pe){var h=o.diagram;if(!(null===h||h.isReadOnly||""!==e&&h.model.isReadOnly)){o.handled=!0;var c=a.bb("ButtonIcon");h.xa("checkbox"),c.visible=!c.visible,"function"==typeof a._doClick&&a._doClick(o,a),h.Xa("checkbox")}}},t}),Qa("CheckBox",function(t){t=Re("CheckBoxButton",t=zh(t),{name:"Button",isActionable:!1,margin:new oi(0,1,0,0)});var e=Re(pe,"Horizontal",t,{isActionable:!0,cursor:t.cursor,margin:1,_buttonFillNormal:t._buttonFillNormal,_buttonStrokeNormal:t._buttonStrokeNormal,_buttonFillOver:t._buttonFillOver,_buttonStrokeOver:t._buttonStrokeOver,_buttonFillPressed:t._buttonFillPressed,_buttonStrokePressed:t._buttonStrokePressed,_buttonFillDisabled:t._buttonFillDisabled,mouseEnter:t.mouseEnter,mouseLeave:t.mouseLeave,actionDown:t.actionDown,actionUp:t.actionUp,actionCancel:t.actionCancel,actionMove:t.actionMove,click:t.click,_buttonClick:t.click});return t.mouseEnter=null,t.mouseLeave=null,t.actionDown=null,t.actionUp=null,t.actionCancel=null,t.actionMove=null,t.click=null,e}),Ge.None=Nn=new ct(Ge,"None",0),Ge.Default=ka=new ct(Ge,"Default",0),Ge.Vertical=Gr=new ct(Ge,"Vertical",4),Ge.Horizontal=Lr=new ct(Ge,"Horizontal",5),Ge.Fill=zn=new ct(Ge,"Fill",3),Ge.Uniform=Ro=new ct(Ge,"Uniform",1),Ge.UniformToFill=Kg=new ct(Ge,"UniformToFill",2),Ge.FlipVertical=Zg=new ct(Ge,"FlipVertical",1),Ge.FlipHorizontal=Xd=new ct(Ge,"FlipHorizontal",2),Ge.FlipBoth=ks=new ct(Ge,"FlipBoth",3),Ge.make=Re,Ge.getBuilders=function(){var e,t=new ot;for(e in Pu)if(e!==e.toLowerCase()){var o=Pu.G(e);"function"==typeof o&&t.add(e,o)}return t.freeze(),t},Ge.defineBuilder=Qa,Ge.takeBuilderArgument=zh,Jg.prototype.copy=function(){var t=new Jg;return t.Pf=this.Pf,t.Uf=this.Uf,t.Qf=this.Qf,t.hg=this.hg,t.kg=this.kg,t.lg=this.lg,t.jg=this.jg,t.ig=this.ig,t.$o=this.$o,t.ap=this.ap,t.gg=this.gg,t.gn=this.gn,t.hn=this.hn,t.jn=this.jn,t.fn=this.fn,t.wg=this.wg,t.Rf=this.Rf,t.Wn=this.Wn,t},Jg.className="GraphObjectEventHandlers",Mc.prototype.copy=function(){var t=new Mc;return t.Oa[0]=this.Oa[0],t.Oa[1]=this.Oa[1],t.Oa[2]=this.Oa[2],t.Oa[3]=this.Oa[3],t.Oa[4]=this.Oa[4],t.Oa[5]=this.Oa[5],t},Mc.prototype.translate=function(t,e){this.Oa[4]+=this.Oa[0]*t+this.Oa[2]*e,this.Oa[5]+=this.Oa[1]*t+this.Oa[3]*e},Mc.prototype.scale=function(t,e){this.Oa[0]*=t,this.Oa[1]*=t,this.Oa[2]*=e,this.Oa[3]*=e},Mc.className="STransform",Af.prototype.addColorStop=function(t,e){this.ay.push({offset:t,color:e})},Af.className="SGradient",Ws.prototype.resize=function(t,e,o,a){return(this.width!==t||this.height!==e)&&(this.style.width=o+"px",this.style.height=a+"px",this.Ja.setAttributeNS(null,"width",o+"px"),this.Ja.setAttributeNS(null,"height",a+"px"),this.Ja.setAttributeNS(null,"viewBox","0 0 "+o+" "+a),this.context.Bx.firstElementChild.setAttributeNS(null,"width",o+"px"),this.context.Bx.firstElementChild.setAttributeNS(null,"height",a+"px"),!0)},Ws.prototype.Pb=function(t,e,o){if(t=this.ownerDocument.createElementNS(this.LA,t),ht(e))for(var a in e)t.setAttributeNS("href"===a?"http://www.w3.org/1999/xlink":"",a,e[a]);return void 0!==o&&(t.textContent=o),t},Ws.prototype.getBoundingClientRect=function(){return this.Ja.getBoundingClientRect()},Ws.prototype.focus=function(){this.Ja.focus()},Ws.prototype.ky=function(){this.ownerDocument=null},B.Object.defineProperties(Ws.prototype,{width:{get:function(){return this.Ja.width.baseVal.value},set:function(t){this.Ja.width=t}},height:{get:function(){return this.Ja.height.baseVal.value},set:function(t){this.Ja.height=t}},style:{get:function(){return this.Ja.style}}}),Ws.className="SVGSurface",(q=kr.prototype).arc=function(t,e,o,a,h,c,m,x){var S=2*Math.PI,E=S-1e-6,P=o*Math.cos(a),N=o*Math.sin(a),nt=t+P,at=e+N,rt=c?0:1;a=c?a-h:h-a,(1e-6<Math.abs(m-nt)||1e-6<Math.abs(x-at))&&this.path.push(["L",nt,+at]),0>a&&(a=a%S+S),a>E?(this.path.push(["A",o,o,0,1,rt,t-P,e-N]),this.path.push(["A",o,o,0,1,rt,nt,at])):1e-6<a&&this.path.push(["A",o,o,0,+(a>=Math.PI),rt,t+o*Math.cos(h),e+o*Math.sin(h)])},q.beginPath=function(){this.path=[]},q.bezierCurveTo=function(t,e,o,a,h,c){this.path.push(["C",t,e,o,a,h,c])},q.clearRect=function(){},q.clip=function(){this.addPath("clipPath",this.path,this.He)},q.closePath=function(){this.path.push(["z"])},q.createLinearGradient=function(t,e,o,a){var h=new Af("linear");return h.x1=t,h.y1=e,h.x2=o,h.y2=a,h},q.createPattern=function(t){var e="";t instanceof HTMLCanvasElement&&(e=t.toDataURL()),t instanceof HTMLImageElement&&(e=t.getAttribute("src"));var o=this.NA;if(o[e])return"url(#"+o[e]+")";var a="PATTERN"+$t++,h={x:0,y:0,width:t.width,height:t.height,href:e};return(t=this.Pb("pattern",{width:t.width,height:t.height,id:a,patternUnits:"userSpaceOnUse"})).appendChild(this.Pb(j0,h)),this.svg.appendChild(t),o[e]=a,"url(#"+a+")"},q.createRadialGradient=function(t,e,o,a,h,c){var m=new Af("radial");return m.x1=t,m.y1=e,m.r1=o,m.x2=a,m.y2=h,m.r2=c,m},q.drawImage=function(t,e,o,a,h,c,m,x,S){var E="";t instanceof HTMLCanvasElement&&(E=t.toDataURL()),t instanceof HTMLImageElement&&(E=t.getAttribute("src"));var P=t instanceof HTMLImageElement?t.naturalWidth:t.width,N=t instanceof HTMLImageElement?t.naturalHeight:t.height;void 0===a&&(c=e,m=o,x=a=P,S=h=N),a=a||0,h=h||0,c=c||0,m=m||0,S=S||0,t={x:0,y:0,width:P||a,height:N||h,href:E},Zt.aa(a,x=x||0)&&Zt.aa(h,S)?-1===E.toLowerCase().indexOf(".svg")&&-1===E.toLowerCase().indexOf("data:image/svg")&&(t.preserveAspectRatio="xMidYMid slice"):t.preserveAspectRatio="none",E="",S/=h,(0!==c||0!==m)&&(E+=" translate("+c+", "+m+")"),(1!=(x/=a)||1!==S)&&(E+=" scale("+x+", "+S+")"),(0!==e||0!==o)&&(E+=" translate("+-e+", "+-o+")"),(0!==e||0!==o||a!==P||h!==N)&&(c="CLIP"+$t++,(m=this.Pb("clipPath",{id:c})).appendChild(this.Pb("rect",{x:e,y:o,width:a,height:h})),this.svg.appendChild(m),t["clip-path"]="url(#"+c+")"),Cc(this,j0,t,this.He,E),this.addElement(j0,t)},q.fill=function(){this.addPath("fill",this.path,this.He)},q.Je=function(){this.clipInsteadOfFill?this.clip():this.fill()},q.fillRect=function(t,e,o,a){Cc(this,"fill",t={x:(t=[t,e,o,a])[0],y:t[1],width:t[2],height:t[3]},this.He),this.addElement("rect",t)},q.fillText=function(t,e,o){t=[t,e,o],"left"===(e=this.textAlign)?e="start":"right"===e?e="end":"center"===e&&(e="middle"),Cc(this,"fill",e={x:t[1],y:t[2],style:"font: "+this.font,"text-anchor":e},this.He),this.addElement("text",e,t[0])},q.lineTo=function(t,e){this.path.push(["L",t,e])},q.moveTo=function(t,e){this.path.push(["M",t,e])},q.quadraticCurveTo=function(t,e,o,a){this.path.push(["Q",t,e,o,a])},q.rect=function(t,e,o,a){this.path.push(["M",t,e],["L",t+o,e],["L",t+o,e+a],["L",t,e+a],["z"])},q.restore=function(){this.He=this.stack.pop(),this.path=this.stack.pop();var t=this.stack.pop();this.fillStyle=t.fillStyle,this.font=t.font,this.globalAlpha=t.globalAlpha,this.lineCap=t.lineCap,this.lineDashOffset=t.lineDashOffset,this.lineJoin=t.lineJoin,this.lineWidth=t.lineWidth,this.miterLimit=t.miterLimit,this.shadowBlur=t.shadowBlur,this.shadowColor=t.shadowColor,this.shadowOffsetX=t.shadowOffsetX,this.shadowOffsetY=t.shadowOffsetY,this.strokeStyle=t.strokeStyle,this.textAlign=t.textAlign},q.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var t=[],e=0;e<this.path.length;e++)t.push(this.path[e]);this.stack.push(t),this.stack.push(this.He.copy())},q.setTransform=function(t,e,o,a,h,c){1===t&&0===e&&0===o&&1===a&&0===h&&0===c||Uh(this,t,e,o,a,h,c)},q.scale=function(t,e){this.He.scale(t,e)},q.translate=function(t,e){this.He.translate(t,e)},q.transform=function(){},q.stroke=function(){this.addPath("stroke",this.path,this.He)},q.vj=function(){this.clipInsteadOfFill||this.stroke()},q.Pb=function(t,e,o){return this.nu.Pb(t,e,o)},q.addElement=function(t,e,o){return t=this.Pb(t,e,o),0<this.gd.length?this.gd[this.gd.length-1].appendChild(t):this.svg.appendChild(t),this.Wt=t},q.addPath=function(t,e,o){for(var a=[],h=0;h<e.length;h++){var c=dt(e[h]),m=[c.shift()];if("A"===m[0])m.push(c.shift()+","+c.shift(),c.shift(),c.shift()+","+c.shift(),c.shift()+","+c.shift());else for(;c.length;)m.push(c.shift()+","+c.shift());a.push(m.join(" "))}e={d:a.join(" ")},"stroke"===t&&this.Vu&&(e["stroke-dasharray"]=this.uh.toString(),e["stroke-dashoffset"]=this.vh),Cc(this,t,e,o),"clipPath"===t?(t="CLIP"+$t++,(o=this.Pb("clipPath",{id:t})).appendChild(this.Pb("path",e)),this.svg.appendChild(o),0<this.gd.length&&this.gd[this.gd.length-1].setAttributeNS(null,"clip-path","url(#"+t+")")):this.addElement("path",e)},q.Ym=function(t){if(0!==this.shadowOffsetX||0!==this.shadowOffsetY||0!==this.shadowBlur){var e="SHADOW"+$t++,o=this.addElement("filter",{id:e,x:"-100%",y:"-100%",width:"300%",height:"300%"},null),a=t.computePixelRatio();t=this.Pb("feGaussianBlur",{in:"SourceAlpha",result:"blur",stdDeviation:this.shadowBlur/2/a});var h=this.Pb("feFlood",{in:"blur",result:"flood","flood-color":this.shadowColor}),c=this.Pb("feComposite",{in:"flood",in2:"blur",operator:"in",result:"comp"});a=this.Pb("feOffset",{in:"comp",result:"offsetBlur",dx:this.shadowOffsetX/a,dy:this.shadowOffsetY/a});var m=this.Pb("feMerge",{});m.appendChild(this.Pb("feMergeNode",{in:"offsetBlur"})),m.appendChild(this.Pb("feMergeNode",{in:"SourceGraphic"})),o.appendChild(t),o.appendChild(h),o.appendChild(c),o.appendChild(a),o.appendChild(m),0<this.gd.length&&this.gd[this.gd.length-1].setAttributeNS(null,"filter","url(#"+e+")")}},q.Iw=function(t,e,o){this.et=t,this.ft=e,this.ug=o},q.Ft=function(t,e){this.Vu=!0,this.uh=t,this.vh=e},q.Dt=function(){this.Vu=!1},q.uc=function(){},q.Sy=function(){},kr.prototype.rotate=function(){},kr.prototype.getImageData=function(){return null},kr.prototype.measureText=function(){return null},kr.className="SVGContext",oe.prototype.makeSvg=oe.prototype.$t=function(t){var e=new Ws(this,T.document);void 0===t&&(t=new wt);var o=this;return O0(this,function(a,h){return a=null!==(a=N0(o,a,"SVG",e))?a.svg:null,"function"==typeof h?(h(a),null):a},t)},oe.prototype.makeSVG=oe.prototype.iw=function(t){return this.$t(t)},Ge.prototype.ly=function(t,e){if(!(t instanceof kr))return!1;if(!this.visible)return!0;var o=null,a=t.Wt;if(this instanceof pe&&(this.type===pe.TableRow||this.type===pe.TableColumn))return vb(this,t,e),!0;var h=this.xb;if(0===h.width||0===h.height||isNaN(h.x)||isNaN(h.y))return!0;var c=this.transform,m=this.panel;0!=(4096&this.F)&&qg(this);var x=0!=(256&this.F);t.clipInsteadOfFill&&(x=!1);var S=!1;if(this instanceof Gi&&(t.font=this.font),x){if(S=m.he()?m.naturalBounds:m.actualBounds,null!==this.Za){var E=this.Za,P=E.x,N=E.y,nt=E.width;E=E.height}else P=Math.max(h.x,S.x),N=Math.max(h.y,S.y),nt=Math.min(h.right,S.right)-P,E=Math.min(h.bottom,S.bottom)-N;if(P>h.width+h.x||h.x>S.width+S.x||N>h.height+h.y||h.y>S.height+S.y)return!0;S=!0,Uh(t,1,0,0,1,0,0),t.save(),t.beginPath(),t.rect(P,N,nt,E),t.clip()}if(this.Ff()&&!this.isVisible())return!0;if(t.He.Oa=[1,0,0,1,0,0],(this instanceof Gi&&1<this.lineCount||this instanceof qe&&1<this.geometry.figures.length)&&Uh(t,1,0,0,1,0,0),P=!1,this.Ff()&&this.isShadowed&&e.Ke("drawShadows")&&(t.Iw((N=this.shadowOffset).x*e.scale*e.Tb,N.y*e.scale*e.Tb,this.shadowBlur),Tl(t),t.shadowColor=this.shadowColor),N=!1,this.part&&e.Ke("drawShadows")&&(N=this.part.isShadowed),t.clipInsteadOfFill&&(N=!1),!0===this.shadowVisible?(Tl(t),!1===P&&N&&(Uh(t,1,0,0,1,0,0),t.Ym(e),P=!0)):!1===this.shadowVisible&&Al(t),nt=this.naturalBounds,null!==this.areaBackground&&($o(this,t,this.areaBackground,!0,!0,nt,h),!1===P&&N&&(Uh(t,1,0,0,1,0,0),t.Ym(e),P=!0),this.areaBackground instanceof Ei&&this.areaBackground.type===qo?(t.beginPath(),t.rect(h.x,h.y,h.width,h.height),t.Je(this.areaBackground)):t.fillRect(h.x,h.y,h.width,h.height)),this instanceof pe?Uh(t,c.m11,c.m12,c.m21,c.m22,c.dx,c.dy):(t.He.Oa=[c.m11,c.m12,c.m21,c.m22,c.dx,c.dy],!1===P&&N&&(Uh(t,1,0,0,1,0,0),t.Ym(e),P=!0)),null!==this.background){!1===P&&N&&(Uh(t,1,0,0,1,0,0),t.Ym(e),P=!0);var at=this.naturalBounds;E=c=0;var rt=at.width;at=at.height;var _t=0;this instanceof qe&&(c=(at=this.geometry.bounds).x,E=at.y,rt=at.width,at=at.height,_t=this.strokeWidth),$o(this,t,this.background,!0,!1,nt,h),this.background instanceof Ei&&this.background.type===qo?(t.beginPath(),t.rect(c-_t/2,E-_t/2,rt+_t,at+_t),t.Je(this.background)):t.fillRect(c-_t/2,E-_t/2,rt+_t,at+_t)}return N&&(null!==this.background||null!==this.areaBackground||null!==m&&0!=(512&m.F)||null!==m&&(m.type===pe.Auto||m.type===pe.Spot)&&m.tb()!==this)?(_c(this,!0),null===this.shadowVisible&&Al(t)):_c(this,!1),this.ej(t,e),N&&0!=(512&this.F)&&Tl(t),this.Ff()&&N&&Al(t),x&&(t.restore(),S&&t.gd.pop()),this instanceof pe&&(o=t.gd.pop()),!0===P&&t.gd.pop(),(this instanceof Gi&&1<this.lineCount||this instanceof qe&&1<this.geometry.figures.length)&&(o=t.gd.pop()),null!==t.nu.Dq&&(null===o&&(a===t.Wt?(Uh(t,1,0,0,1,0,0),o=t.gd.pop()):o=t.Wt),t.nu.Dq(this,o)),this.svg=o,!0},Ko.prototype.resize=function(t,e,o,a){return(this.width!==t||this.height!==e)&&(this.width=t,this.height=e,this.style.width=o+"px",this.style.height=a+"px",!0)},Ko.prototype.toDataURL=function(t,e){return this.Ja.toDataURL(t,e)},Ko.prototype.getBoundingClientRect=function(){return this.Ja.getBoundingClientRect()},Ko.prototype.focus=function(){this.Ja.focus()},Ko.prototype.ky=function(){this.ownerDocument=this.Ja.B=null},B.Object.defineProperties(Ko.prototype,{width:{get:function(){return this.Ja.width},set:function(t){this.Ja.width=t}},height:{get:function(){return this.Ja.height},set:function(t){this.Ja.height=t}},style:{get:function(){return this.Ja.style}}}),Ko.className="CanvasSurface",(q=Iu.prototype).Sy=function(t){this.Y.imageSmoothingEnabled=t},q.arc=function(t,e,o,a,h,c){this.Y.arc(t,e,o,a,h,c)},q.beginPath=function(){this.Y.beginPath()},q.bezierCurveTo=function(t,e,o,a,h,c){this.Y.bezierCurveTo(t,e,o,a,h,c)},q.clearRect=function(t,e,o,a){this.Y.clearRect(t,e,o,a)},q.clip=function(){this.Y.clip()},q.closePath=function(){this.Y.closePath()},q.createLinearGradient=function(t,e,o,a){return this.Y.createLinearGradient(t,e,o,a)},q.createPattern=function(t,e){return this.Y.createPattern(t,e)},q.createRadialGradient=function(t,e,o,a,h,c){return this.Y.createRadialGradient(t,e,o,a,h,c)},q.drawImage=function(t,e,o,a,h,c,m,x,S){void 0===a?this.Y.drawImage(t,e,o):this.Y.drawImage(t,e,o,a,h,c,m,x,S)},q.fill=function(){this.Y.fill()},q.fillRect=function(t,e,o,a){this.Y.fillRect(t,e,o,a)},q.fillText=function(t,e,o){this.Y.fillText(t,e,o)},q.getImageData=function(t,e,o,a){return this.Y.getImageData(t,e,o,a)},q.lineTo=function(t,e){this.Y.lineTo(t,e)},q.measureText=function(t){return this.Y.measureText(t)},q.moveTo=function(t,e){this.Y.moveTo(t,e)},q.quadraticCurveTo=function(t,e,o,a){this.Y.quadraticCurveTo(t,e,o,a)},q.rect=function(t,e,o,a){this.Y.rect(t,e,o,a)},q.restore=function(){this.Y.restore()},Iu.prototype.rotate=function(t){this.Y.rotate(t)},(q=Iu.prototype).save=function(){this.Y.save()},q.setTransform=function(t,e,o,a,h,c){this.Y.setTransform(t,e,o,a,h,c)},q.scale=function(t,e){this.Y.scale(t,e)},q.stroke=function(){this.Y.stroke()},q.transform=function(t,e,o,a,h,c){1===t&&0===e&&0===o&&1===a&&0===h&&0===c||this.Y.transform(t,e,o,a,h,c)},q.translate=function(t,e){this.Y.translate(t,e)},q.Je=function(t){if(t instanceof Ei&&t.type===qo){var e=t.gl;(t=t.Au)>e?(this.scale(e/t,1),this.translate((t-e)/2,0)):e>t&&(this.scale(1,t/e),this.translate(0,(e-t)/2)),this.yn?this.clip():this.fill(),t>e?(this.translate(-(t-e)/2,0),this.scale(1/(e/t),1)):e>t&&(this.translate(0,-(e-t)/2),this.scale(1,1/(t/e)))}else this.yn?this.clip():this.fill()},q.vj=function(){this.yn||this.stroke()},q.Iw=function(t,e,o){this.et=t,this.ft=e,this.ug=o},q.Ft=function(t,e){var o=this.Y;void 0!==o.setLineDash&&(o.setLineDash(t),o.lineDashOffset=e)},q.Dt=function(){var t=this.Y;void 0!==t.setLineDash&&(t.setLineDash(cS),t.lineDashOffset=0)},q.uc=function(t){t&&(this.yu=""),this.xu=this.zu=""},B.Object.defineProperties(Iu.prototype,{fillStyle:{get:function(){return this.Y.fillStyle},set:function(t){this.xu!==t&&(this.xu=this.Y.fillStyle=t)}},font:{get:function(){return this.Y.font},set:function(t){this.yu!==t&&(this.yu=this.Y.font=t)}},globalAlpha:{get:function(){return this.Y.globalAlpha},set:function(t){this.Y.globalAlpha=t}},lineCap:{get:function(){return this.Y.lineCap},set:function(t){this.Y.lineCap=t}},lineDashOffset:{get:function(){return this.Y.lineDashOffset},set:function(t){this.Y.lineDashOffset=t}},lineJoin:{get:function(){return this.Y.lineJoin},set:function(t){this.Y.lineJoin=t}},lineWidth:{get:function(){return this.Y.lineWidth},set:function(t){this.Y.lineWidth=t}},miterLimit:{get:function(){return this.Y.miterLimit},set:function(t){this.Y.miterLimit=t}},shadowBlur:{get:function(){return this.Y.shadowBlur},set:function(t){this.Y.shadowBlur=t}},shadowColor:{get:function(){return this.Y.shadowColor},set:function(t){this.Y.shadowColor=t}},shadowOffsetX:{get:function(){return this.Y.shadowOffsetX},set:function(t){this.Y.shadowOffsetX=t}},shadowOffsetY:{get:function(){return this.Y.shadowOffsetY},set:function(t){this.Y.shadowOffsetY=t}},strokeStyle:{get:function(){return this.Y.strokeStyle},set:function(t){this.zu!==t&&(this.zu=this.Y.strokeStyle=t)}},textAlign:{get:function(){return this.Y.textAlign},set:function(t){this.Y.textAlign=t}},imageSmoothingEnabled:{get:function(){return this.Y.imageSmoothingEnabled},set:function(t){this.Y.imageSmoothingEnabled=t}},clipInsteadOfFill:{get:function(){return this.yn},set:function(t){this.yn=t}}});var cS=Object.freeze([]);function z0(){this.T=this.u=this.I=this.l=0}function Ei(t){Qd||(W1(),Qd=!0),Kt(this),this.v=!1,void 0===t?(this.qa=Wh,this.fl="black"):"string"==typeof t?(this.qa=Wh,this.fl=t):(this.qa=t,this.fl="black"),(t=this.qa)===uh?(this.Dd=wi,this.sl=Ih):this.sl=this.Dd=t===qo?Xe:yi,this.jt=0,this.Vr=NaN,this.ke=this.Ks=this.je=null,this.Au=this.gl=0}function Zd(t,e,o){return e=void 0===e||"number"!=typeof e?.2:e,o=void 0===o?cs:o,Gh(t),qd(e,o)}function xb(t,e,o){return e=void 0===e||"number"!=typeof e?.2:e,o=void 0===o?cs:o,Gh(t),qd(-e,o)}function wb(t,e,o){Gh(t),t=Xi.l;var a=Xi.I,h=Xi.u,c=Xi.T;return Gh(e),void 0===o&&(o=.5),"rgba("+Math.round((Xi.l-t)*o+t)+", "+Math.round((Xi.I-a)*o+a)+", "+Math.round((Xi.u-h)*o+h)+", "+Math.round((Xi.T-c)*o+c)+")"}function Tf(t){return!!t&&(t instanceof Ei?t.Fy():(Gh(t),128>(299*Xi.l+587*Xi.I+114*Xi.u)/1e3))}function qd(t,e){switch(e){case cs:e=100*U1(Xi.l);var o=100*U1(Xi.I),a=100*U1(Xi.u);return qr.l=.4124564*e+.3575761*o+.1804375*a,qr.I=.2126729*e+.7151522*o+.072175*a,qr.u=.0193339*e+.119192*o+.9503041*a,qr.T=Xi.T,e=Jd(qr.l/Ru[0]),o=Jd(qr.I/Ru[1]),a=Jd(qr.u/Ru[2]),us.l=116*o-16,us.I=500*(e-o),us.u=200*(o-a),us.T=qr.T,us.l=Math.min(100,Math.max(0,us.l+100*t)),e=(t=(us.l+16)/116)-us.u/200,qr.l=Ru[0]*Qg(us.I/500+t),qr.I=Ru[1]*(us.l>$1*Y1?Math.pow(t,3):us.l/$1),qr.u=Ru[2]*Qg(e),qr.T=us.T,t=-.969266*qr.l+1.8760108*qr.I+.041556*qr.u,e=.0556434*qr.l+-.2040259*qr.I+1.0572252*qr.u,Xi.l=255*G1((3.2404542*qr.l+-1.5371385*qr.I+-.4985314*qr.u)/100),Xi.I=255*G1(t/100),Xi.u=255*G1(e/100),Xi.T=qr.T,Xi.l=Math.round(Xi.l),255<Xi.l?Xi.l=255:0>Xi.l&&(Xi.l=0),Xi.I=Math.round(Xi.I),255<Xi.I?Xi.I=255:0>Xi.I&&(Xi.I=0),Xi.u=Math.round(Xi.u),255<Xi.u?Xi.u=255:0>Xi.u&&(Xi.u=0),"rgba("+Xi.l+", "+Xi.I+", "+Xi.u+", "+Xi.T+")";case ch:return z1(),Zo.u=Math.min(100,Math.max(0,Zo.u+100*t)),"hsla("+Zo.l+", "+Zo.I+"%, "+Zo.u+"%, "+Zo.T+")";default:return R("Unknown color space: "+e),"rgba(0, 0, 0, 1)"}}function Gh(t){Qd||(W1(),Qd=!0);var e=U0;if(null!==e){e.clearRect(0,0,1,1),e.fillStyle="#000000";var o=e.fillStyle;e.fillStyle=t,e.fillStyle!==o?(e.fillRect(0,0,1,1),t=e.getImageData(0,0,1,1).data,Xi.l=t[0],Xi.I=t[1],Xi.u=t[2],Xi.T=t[3]/255):(e.fillStyle="#FFFFFF",e.fillStyle=t,Xi.l=0,Xi.I=0,Xi.u=0,Xi.T=1)}}function z1(){var t=Xi.l/255,e=Xi.I/255,o=Xi.u/255,a=Math.max(t,e,o),h=Math.min(t,e,o),c=a-h;if(h=(a+h)/2,0===c)var m=t=0;else{switch(a){case t:m=(e-o)/c%6;break;case e:m=(o-t)/c+2;break;case o:m=(t-e)/c+4}0>(m*=60)&&(m+=360),t=c/(1-Math.abs(2*h-1))}Zo.l=Math.round(m),Zo.I=Math.round(100*t),Zo.u=Math.round(100*h),Zo.T=Xi.T}function U1(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function G1(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055}function Jd(t){return t>Y1?Math.pow(t,1/3):($1*t+16)/116}function Qg(t){var e=t*t*t;return e>Y1?e:(116*t-16)/$1}function Pl(t,e){"string"!=typeof t&&(t instanceof Ei||R("Value for "+e+" must be a color string or a Brush, not "+t))}function W1(){U0=Us?new Ko(null).context:null}Iu.className="CanvasSurfaceContext",z0.className="ColorNumbers",Ei.prototype.copy=function(){var t=new Ei;return t.qa=this.qa,t.fl=this.fl,t.Dd=this.Dd.H(),t.sl=this.sl.H(),t.jt=this.jt,t.Vr=this.Vr,null!==this.je&&(t.je=this.je.copy()),t.Ks=this.Ks,t},(q=Ei.prototype).freeze=function(){return this.v=!0,null!==this.je&&this.je.freeze(),this},q.ea=function(){return Object.isFrozen(this)&&R("cannot thaw constant: "+this),this.v=!1,null!==this.je&&this.je.ea(),this},q.jb=function(t){t.classType===Ei&&(this.type=t)},q.toString=function(){var t="Brush(";if(this.type===Wh)t+=this.color;else if(t=this.type===uh?t+"Linear ":this.type===qo?t+"Radial ":this.type===tp?t+"Pattern ":t+"(unknown) ",t+=this.start+" "+this.end,null!==this.colorStops)for(var e=this.colorStops.iterator;e.next();)t+=" "+e.key+":"+e.value;return t+")"},q.addColorStop=function(t,e){return this.v&&$(this),("number"!=typeof t||!isFinite(t)||1<t||0>t)&&Z(t,"0 <= loc <= 1",Ei,"addColorStop:loc"),null===this.je&&(this.je=new ot),this.je.add(t,e),this.qa===Wh&&(this.type=uh),this.ke=null,this},q.FA=function(t,e){if(this.v&&$(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?cs:e,this.type===Wh)Gh(this.color),this.color=qd(t,e);else if((this.type===uh||this.type===qo)&&null!==this.colorStops)for(var o=this.colorStops.iterator;o.next();)Gh(o.value),this.addColorStop(o.key,qd(t,e));return this},q.Iz=function(t,e){if(this.v&&$(this),t=void 0===t||"number"!=typeof t?.2:t,e=void 0===e?cs:e,this.type===Wh)Gh(this.color),this.color=qd(-t,e);else if((this.type===uh||this.type===qo)&&null!==this.colorStops)for(var o=this.colorStops.iterator;o.next();)Gh(o.value),this.addColorStop(o.key,qd(-t,e));return this},q.Fy=function(){if(this.type===Wh)return Tf(this.color);if((this.type===uh||this.type===qo)&&null!==this.colorStops){var t=this.colorStops;if(this.type===qo)return Tf(t.first().value);if(null!==t.get(.5))return Tf(t.get(.5));if(2===t.count)return Tf(wb((t=t.ma())[0].value,t[1].value));for(var e=t.iterator,o=-1,a=-1,h=1,c=1;e.next();){var m=e.key,x=Math.abs(.5-e.key);h>c&&x<h?(o=m,h=x):c>=h&&x<c&&(a=m,c=x)}return o>a&&(c=o,o=a,a=c,c=h),h=a-o,Tf(wb(t.get(o),t.get(a),1-c/h))}return!1},B.Object.defineProperties(Ei.prototype,{type:{get:function(){return this.qa},set:function(t){this.v&&$(this,t),this.qa=t,this.start.nc()&&(t===uh?this.start=wi:t===qo&&(this.start=Xe)),this.end.nc()&&(t===uh?this.end=Ih:t===qo&&(this.end=Xe)),this.ke=null}},color:{get:function(){return this.fl},set:function(t){this.v&&$(this,t),this.fl=t,this.ke=null}},start:{get:function(){return this.Dd},set:function(t){this.v&&$(this,t),this.Dd=t.H(),this.ke=null}},end:{get:function(){return this.sl},set:function(t){this.v&&$(this,t),this.sl=t.H(),this.ke=null}},startRadius:{get:function(){return this.jt},set:function(t){this.v&&$(this,t),0>t&&Z(t,">= zero",Ei,"startRadius"),this.jt=t,this.ke=null}},endRadius:{get:function(){return this.Vr},set:function(t){this.v&&$(this,t),0>t&&Z(t,">= zero",Ei,"endRadius"),this.Vr=t,this.ke=null}},colorStops:{get:function(){return this.je},set:function(t){this.v&&$(this,t),this.je=t,this.ke=null}},pattern:{get:function(){return this.Ks},set:function(t){this.v&&$(this,t),this.Ks=t,this.ke=null}}}),Ei.prototype.isDark=Ei.prototype.Fy,Ei.prototype.darkenBy=Ei.prototype.Iz,Ei.prototype.lightenBy=Ei.prototype.FA,Ei.prototype.addColorStop=Ei.prototype.addColorStop;var Wh,uh,qo,tp,cs,ch,Y1=216/24389,$1=24389/27,Ru=[95.047,100,108.883],U0=null,Xi=new z0,Zo=new z0,qr=new z0,us=new z0,Qd=!1;function yr(){this.oa="Base"}function tv(){this.oa="Base"}function ev(){this.oa="Base"}function iv(){this.oa="Base"}function nv(){this.oa="Base"}function rv(){this.oa="Base"}function G0(){this.oa="Base",this.name="Table"}function ov(){this.oa="Base"}function sv(){this.oa="Base"}function av(){this.oa="Base"}function W0(){this.oa="Base"}function X1(t,e,o,a){if(0>e)return t%e===o;if(t%e!==o)return!1;e=a.length;for(var h=0;h<e;h++)if(t%a[h]===o)return!1;return!0}function Y0(){this.oa="Base"}function ep(t,e,o,a){if(!1!==Hh(a)){var h=a.strokeWidth;0===h&&t instanceof Ci&&t.type===pe.Link&&t.adornedObject instanceof qe&&(h=t.adornedObject.strokeWidth),h*=a.Aa,t instanceof Ce&&null!==t.na?Bh(a,(t=t.na.bounds).x-h/2,t.y-h/2,t.width+h,t.height+h):t instanceof Ci&&null!==t.adornedPart.na?Bh(a,(t=t.adornedPart.na.bounds).x-h/2,t.y-h/2,t.width+h,t.height+h):Bh(a,-h/2,-h/2,e+h,o+h),Xo(a,!1)}}function ip(){this.oa="Base"}function pe(t){Ge.call(this),this.qa=void 0===t?pe.Position:t,null===this.qa&&R("Panel type not specified or PanelLayout not loaded: "+t),this.W=new St,this.ib=an,this.qa===pe.Grid&&(this.isAtomic=!0),this.Mn=eo,this.Sf=ka,this.qa===pe.Table&&np(this),this.pq=Ro,this.no=re,this.oo=xe,this.ko=0,this.jo=100,this.mo=10,this.lo=0,this.li=this.ob=this.eh=this.dh=this.Mj=null,this.Do=NaN,this.te=this.Ci=null,this.Jl="category",this.Zd=null,this.xg=new Lt(NaN,NaN,NaN,NaN),this.zh=this.Lp=this.Ui=null,this.Lg=""}function np(t){t.Fj=an,t.Ug=1,t.si=null,t.ri=null,t.Tg=1,t.Sg=null,t.pi=null,t.qb=[],t.nb=[],t.dk=pv,t.Cj=pv,t.Xi=0,t.Gi=0}function K1(t,e,o,a){for(var h=a.length,c=t.actualBounds,m=t.naturalBounds,x=!0,S=0;S<h;S++){var E=a[S];if(void 0!==E)if(x)x=!1;else if(0!==E.actual){if(o){if(E.position>c.height)continue}else if(E.position>c.width)continue;var P=E.separatorStrokeWidth;isNaN(P)&&(P=o?t.Ug:t.Tg);var N=E.separatorStroke;if(null===N&&(N=o?t.si:t.Sg),0!==P&&null!==N){$o(t,e,N,!1,!1,m,c),N=!1;var nt=E.separatorDashArray;null===nt&&(nt=o?t.ri:t.pi),null!==nt&&(N=!0,e.Ft(nt,0)),e.beginPath(),nt=E.position+P,o?nt>c.height&&(P-=nt-c.height):nt>c.width&&(P-=nt-c.width),E=E.position+P/2,e.lineWidth=P,P=t.ib,o?(nt=c.width-P.right,e.moveTo(P.left,E+=P.top),e.lineTo(nt,E)):(nt=c.height-P.bottom,e.moveTo(E+=P.left,P.top),e.lineTo(E,nt)),e.stroke(),N&&e.Dt()}}}}function $0(t,e,o,a,h){for(var c=a.length,m=t.actualBounds,x=t.naturalBounds,S=0;S<c;S++){var E=a[S];if(void 0!==E&&null!==E.background&&E.coversSeparators!==h&&0!==E.actual){var P=o?m.height:m.width;if(!(E.position>P)){var N=E.wc(),nt=E.separatorStrokeWidth;isNaN(nt)&&(nt=o?t.Ug:t.Tg);var at=E.separatorStroke;null===at&&(at=o?t.si:t.Sg),null===at&&(nt=0),N-=nt,(nt=E.position+nt)+(N+=E.actual)>P&&(N=P-nt),0>=N||(P=t.ib,$o(t,e,E.background,!0,!1,x,m),o?e.fillRect(P.left,nt+P.top,m.width-(P.left+P.right),N):e.fillRect(nt+P.left,P.top,N,m.height-(P.top+P.bottom)))}}}}function lv(t){return"LineV"===t||"BarV"===t}function Yh(t){return null!==t.part?t.part.locationObject:null}function Pf(t,e){fS(t,t,e)}function fS(t,e,o){o(e);for(var a=(e=e.W.j).length,h=0;h<a;h++){var c=e[h];c instanceof pe&&fS(t,c,o)}}function Z1(t,e){hv(t,t,e)}function hv(t,e,o){if(o(e),e instanceof pe)for(var a=(e=e.W.j).length,h=0;h<a;h++)hv(t,e[h],o)}function uv(t,e,o){if(o(e))return e;if(e instanceof pe)for(var a=(e=e.W.j).length,h=0;h<a;h++){var c=uv(t,e[h],o);if(null!==c)return c}return null}function dS(t){for(var e=(t=t.W.j).length,o=0,a=0;a<e;a++){var h=t[a];h instanceof pe?o=Math.max(o,dS(h)):h instanceof qe&&(o=Math.max(o,h.wh/2*h.gk*h.Af()))}return o}function _b(t,e,o,a){for(var h=t.W.j,c=h.length;c--;){var m=h[c];if(m.visible){var x=m.actualBounds,S=t.naturalBounds;x.x>S.width||x.y>S.height||0>x.x+x.width||0>x.y+x.height||(m instanceof pe&&_b(m,e,o,a),null!==e&&(m=e(m)),null===m||null!==o&&!o(m)||a.add(m))}}}function cv(t){var e=null;return t instanceof qe&&((e=t.spot1)===eo&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot1)),null===e&&(e=tn),e}function q1(t){var e=null;return t instanceof qe&&((e=t.spot2)===eo&&(e=null),null!==(t=t.geometry)&&null===e&&(e=t.spot2)),null===e&&(e=ss),e}function J1(t,e){t.F=e?16777216|t.F:-16777217&t.F}function bb(t,e,o){var a=t.qb;if(a&&!(0>e)){if(a[e]=o instanceof nr?o:void 0,!o)for(e=a.length-1;0<=e&&void 0===a[e--];)a.length--;t.s()}}function Mb(t,e,o){var a=t.nb;if(a&&!(0>e)){if(a[e]=o instanceof nr?o:void 0,!o)for(e=a.length-1;0<=e&&void 0===a[e--];)a.length--;t.s()}}function Q1(t){return null!==(t=t.li)&&t.v}function Jo(t){var e=t.li;if(null===e)null!==t.data&&R("Template cannot have .data be non-null: "+t),t.li=e=new St;else if(e.v)return;var o=new St;J1(t,!1),t.an(t,function(E,P){var N=P.fb;if(null!==N)for(bc(P,!1),N=N.iterator;N.next();){var nt=N.value;nt.mode===Qv&&bc(P,!0);var at=nt.sourceName;null!==at&&("/"===at&&J1(E,!0),null!==(at=$x(nt,E,P))&&(o.add(at),null===at.im&&(at.im=new St),at.im.add(nt))),e.add(nt)}if(P instanceof pe&&P.type===pe.Table){if(0<P.qb.length)for(N=(E=P.qb).length,nt=0;nt<N;nt++)if(void 0!==(at=E[nt])&&null!==at.fb)for(var rt=at.fb.iterator;rt.next();){var _t=rt.value;_t.pd=at,_t.hq=2,_t.om=at.index,e.add(_t)}if(0<P.nb.length)for(E=(P=P.nb).length,N=0;N<E;N++)if(void 0!==(nt=P[N])&&null!==nt.fb)for(at=nt.fb.iterator;at.next();)(rt=at.value).pd=nt,rt.hq=1,rt.om=nt.index,e.add(rt)}});for(var a=o.iterator;a.next();){var h=a.value;if(null!==h.im){bc(h,!0);for(var c=h.im.iterator;c.next();){var m=c.value;null===h.fb&&(h.fb=new St),h.fb.add(m)}}h.im=null}for(a=e.iterator;a.next();)if(null!==(c=(h=a.value).pd)){h.pd=null;var x=h.targetProperty,S=x.indexOf(".");0<S&&c instanceof pe&&(m=x.substring(0,S),x=x.substr(S+1),null!==(S=c.bb(m))?(c=S,h.targetProperty=x):Q('Warning: unable to find GraphObject named "'+m+'" for Binding: '+h.toString())),c instanceof nr?(m=Jt(c.panel),h.wj=void 0===m?-1:m,c.panel.dl=h.wj):c instanceof Ge?(m=Jt(c),h.wj=void 0===m?-1:m,c.dl=h.wj):R("Unknown type of binding target: "+c)}e.freeze(),t instanceof Ye&&t.Nc()&&t.Ta()}function rp(t){if(t.type===pe.Spot||t.type===pe.Auto)return Math.min(t.W.length,1);if(t.type===pe.Link){for(var e=(t=t.W).length,o=0;o<e;o++){var a=t.J(o);if(!(a instanceof qe&&a.isPanelMain))break}return o}return t.type===pe.Table&&0<t.W.length&&(t=t.W.J(0)).isPanelMain&&t instanceof pe&&(t.type===pe.TableRow||t.type===pe.TableColumn)?1:0}function Sb(t,e,o){if(!(null==e||0>o)){var a=function(t,e){if(null===e)return"";if("function"==typeof(t=t.Jl))t=t(e);else{if("string"!=typeof t||"object"!=typeof e)return"";if(""===t)return"";t=Vn(e,t)}return void 0===t?"":"string"==typeof t?t:(R("Panel.getCategoryForItemData found a non-string category for "+e+": "+t),"")}(t,e),h=t.itemTemplateMap,c=null;null!==h&&(c=h.G(a)),null===c&&(null!==h&&(c=h.G("")),null===c&&(ex||(ex=!0,Q('No item template Panel found for category "'+a+'" on '+t),Q("  Using default item template."),a=new pe,(h=new Gi).bind(new Wn("text","",g)),a.add(h),Db=a),c=Db)),null!==(a=c)&&(Jo(a),0!=(16777216&(a=a.copy()).F)&&null!==(h=t.ij())&&J1(h,!0),"object"==typeof e&&(null===t.Zd&&(t.Zd=new ot),t.Zd.add(e,a)),h=o+rp(t),t.wb(h,a),a.ob=e,ir(t,h,o),a.ob=null,a.data=e)}}function ir(t,e,o){for(t=t.W;e<t.length;){var a=t.J(e);if(a instanceof pe){var h=e,c=o;a.type===pe.TableRow?a.row=h:a.type===pe.TableColumn&&(a.column=h),a.itemIndex=c}e++,o++}}function tx(t,e,o){var a=e.enabledChanged;if(null!==a&&a(e,o),e instanceof pe){a=(e=e.W.j).length;for(var h=0;h<a;h++){var c=e[h];o&&c instanceof pe&&!c.isEnabled||tx(t,c,o)}}}function da(t,e){e.name=t,Aa.add(t,e)}Ei.className="Brush",Ei.Solid=Wh=new ct(Ei,"Solid",0),Ei.Linear=uh=new ct(Ei,"Linear",1),Ei.Radial=qo=new ct(Ei,"Radial",2),Ei.Pattern=tp=new ct(Ei,"Pattern",4),Ei.Lab=cs=new ct(Ei,"Lab",5),Ei.HSL=ch=new ct(Ei,"HSL",6),Ei.randomColor=function(t,e){void 0===t&&(t=128),void 0===e&&(e=Math.max(t,255));var o=Math.abs(e-t);e=Math.floor(t+Math.random()*o).toString(16);var a=Math.floor(t+Math.random()*o).toString(16);return t=Math.floor(t+Math.random()*o).toString(16),2>e.length&&(e="0"+e),2>a.length&&(a="0"+a),2>t.length&&(t="0"+t),"#"+e+a+t},Ei.isValidColor=function(t){if("black"===t)return!0;if(""===t)return!1;Qd||(W1(),Qd=!0);var e=U0;if(null===e)return!0;e.fillStyle="#000000";var o=e.fillStyle;return e.fillStyle=t,e.fillStyle!==o||(e.fillStyle="#FFFFFF",o=e.fillStyle,e.fillStyle=t,e.fillStyle!==o)},Ei.lighten=function(t){return Zd(t)},Ei.lightenBy=Zd,Ei.darken=function(t){return xb(t)},Ei.darkenBy=xb,Ei.mix=wb,Ei.isDark=Tf,yr.prototype.measure=function(){},yr.prototype.IA=function(t,e,o,a,h){t.measure(e,o,a,h)},yr.prototype.arrange=function(){},yr.prototype.wz=function(t,e,o,a,h,c){t.arrange(e,o,a,h,c)},yr.prototype.RA=function(t){t.Bk()},yr.prototype.mc=function(){},B.Object.defineProperties(yr.prototype,{name:{get:function(){return this.oa},set:function(t){this.oa=t}},classType:{get:function(){return pe}}}),yr.prototype.remeasureObject=yr.prototype.RA,yr.prototype.arrangeElement=yr.prototype.wz,yr.prototype.measureElement=yr.prototype.IA,yr.className="PanelLayout",z(tv,yr),tv.prototype.measure=function(t,e,o,a,h,c,m){var x=a.length;t=Yh(t);for(var S=0;S<x;S++){var E=a[S];if(E.visible||E===t){var P=E.margin,N=P.right+P.left;P=P.top+P.bottom,E.measure(e,o,c,m);var nt=E.measuredBounds;N=Math.max(nt.width+N,0),P=Math.max(nt.height+P,0),nt=E.position.x;var at=E.position.y;isFinite(nt)||(nt=0),isFinite(at)||(at=0),E instanceof qe&&E.isGeometryPositioned&&(nt-=E=E.strokeWidth/2,at-=E),fi(h,nt,at,N,P)}}},tv.prototype.arrange=function(t,e,o){var a=e.length,h=t.padding;for(t=o.x-h.left,o=o.y-h.top,h=0;h<a;h++){var c=e[h],m=c.measuredBounds,x=c.margin,S=c.position.x,E=c.position.y;if(S=isNaN(S)?-t:S-t,E=isNaN(E)?-o:E-o,c instanceof qe&&c.isGeometryPositioned){var P=c.strokeWidth/2;S-=P,E-=P}c.visible&&c.arrange(S+x.left,E+x.top,m.width,m.height)}},z(ev,yr),ev.prototype.measure=function(t,e,o,a,h,c,m){var x=a.length;e=u(),c=Yh(t);for(var S=0;S<x;S++){var E=a[S];if(E.visible||E===c){var P=Gs(E,!1);if(P!==Nn&&P!==Lr)e.push(E);else{E.measure(1/0,o,0,m),P=E.margin,E=E.measuredBounds;var N=Math.max(E.height+P.top+P.bottom,0);h.width+=Math.max(E.width+P.right+P.left,0),h.height=Math.max(h.height,N)}}}for(a=e.length,t.desiredSize.height?o=Math.min(t.desiredSize.height,t.maxSize.height):0!==h.height&&(o=Math.min(h.height,t.maxSize.height)),t=0;t<a;t++)((S=e[t]).visible||S===c)&&(x=(P=S.margin).right+P.left,P=P.top+P.bottom,S.measure(1/0,o,0,m),S=S.measuredBounds,P=Math.max(S.height+P,0),h.width+=Math.max(S.width+x,0),h.height=Math.max(h.height,P));p(e)},ev.prototype.arrange=function(t,e,o){for(var a=e.length,h=t.padding,c=h.top,m=t.isOpposite,x=m?o.width:h.left,S=0;S<a;S++){var E=c,P=e[S];if(P.visible){var N=P.measuredBounds,nt=P.margin,at=nt.top+nt.bottom,rt=c+h.bottom,_t=N.height,It=Gs(P,!1);(isNaN(P.desiredSize.height)&&It===zn||It===Gr)&&(_t=Math.max(o.height-at-rt,0)),at=_t+at+rt,(rt=P.alignment).Mb()&&(rt=t.defaultAlignment),rt.kb()||(rt=Xe),m&&(x-=N.width+nt.left+nt.right),P.arrange(x+rt.offsetX+nt.left,E+rt.offsetY+nt.top+(o.height*rt.y-at*rt.y),N.width,_t),m||(x+=N.width+nt.left+nt.right)}}},z(iv,yr),iv.prototype.measure=function(t,e,o,a,h,c){var m=a.length;o=u();for(var x=Yh(t),S=0;S<m;S++){var E=a[S];if(E.visible||E===x){var P=Gs(E,!1);if(P!==Nn&&P!==Gr)o.push(E);else{var N=E.margin;P=N.right+N.left,N=N.top+N.bottom,E.measure(e,1/0,c,0),E=E.measuredBounds,ue(h,Math.max(h.width,Math.max(E.width+P,0)),h.height+Math.max(E.height+N,0))}}}if(0!==(a=o.length)){for(t.desiredSize.width?e=Math.min(t.desiredSize.width,t.maxSize.width):0!==h.width&&(e=Math.min(h.width,t.maxSize.width)),t=0;t<a;t++)((S=o[t]).visible||S===x)&&(m=(E=S.margin).right+E.left,E=E.top+E.bottom,S.measure(e,1/0,c,0),S=S.measuredBounds,E=Math.max(S.height+E,0),h.width=Math.max(h.width,Math.max(S.width+m,0)),h.height+=E);p(o)}},iv.prototype.arrange=function(t,e,o){for(var a=e.length,h=t.padding,c=h.left,m=t.isOpposite,x=m?o.height:h.top,S=0;S<a;S++){var E=c,P=e[S];if(P.visible){var N=P.measuredBounds,nt=P.margin,at=nt.left+nt.right,rt=c+h.right,_t=N.width,It=Gs(P,!1);(isNaN(P.desiredSize.width)&&It===zn||It===Lr)&&(_t=Math.max(o.width-at-rt,0)),at=_t+at+rt,(rt=P.alignment).Mb()&&(rt=t.defaultAlignment),rt.kb()||(rt=Xe),m&&(x-=N.height+nt.bottom+nt.top),P.arrange(E+rt.offsetX+nt.left+(o.width*rt.x-at*rt.x),x+rt.offsetY+nt.top,_t,N.height),m||(x+=N.height+nt.bottom+nt.top)}}},z(nv,yr),nv.prototype.measure=function(t,e,o,a,h,c,m){var x=a.length,S=t.tb(),E=S.margin,P=E.right+E.left,N=E.top+E.bottom;S.measure(e,o,c,m);var nt=S.measuredBounds;c=nt.width,m=nt.height;for(var at=Math.max(c+P,0),rt=Math.max(m+N,0),_t=t.isClipping,It=Lt.allocAt(-E.left,-E.top,at,rt),Pt=!0,Vt=Yh(t),Ht=0;Ht<x;Ht++){var Wt=a[Ht];if(Wt!==S&&(Wt.visible||Wt===Vt)){switch(at=(E=Wt.margin).right+E.left,rt=E.top+E.bottom,nt=Gs(Wt,!1)){case zn:e=c,o=m;break;case Lr:e=c;break;case Gr:o=m}Wt.measure(e,o,0,0),nt=Wt.measuredBounds,at=Math.max(nt.width+at,0),rt=Math.max(nt.height+rt,0);var Qt=Wt.alignment;Qt.Mb()&&(Qt=t.defaultAlignment),Qt.kb()||(Qt=Xe);var me=Wt.alignmentFocus;me.Mb()&&(me=Xe);var Be=null;if(Wt instanceof pe&&""!==Wt.Lg&&(Wt.arrange(0,0,nt.width,nt.height),(Be=Wt.bb(Wt.Lg))===Wt&&(Be=null)),null!==Be){for(E=J.allocAt(me.x*(E=Be.naturalBounds).width-me.offsetX-(nt=Be.margin).left,me.y*E.height-me.offsetY-nt.top);Be!==Wt;)Be.transform.ta(E),Be=Be.panel;Wt=Qt.x*c+Qt.offsetX-E.x,nt=Qt.y*m+Qt.offsetY-E.y,J.free(E)}else Wt=Qt.x*c+Qt.offsetX-(me.x*nt.width+me.offsetX)-E.left,nt=Qt.y*m+Qt.offsetY-(me.y*nt.height+me.offsetY)-E.top;Pt?(Pt=!1,h.h(Wt,nt,at,rt)):fi(h,Wt,nt,at,rt)}}switch(Pt?h.assign(It):_t?h.bw(It.x,It.y,It.width,It.height):fi(h,It.x,It.y,It.width,It.height),Lt.free(It),(nt=S.stretch)===ka&&(nt=Gs(S,!1)),nt){case Nn:return;case zn:if(!isFinite(e)&&!isFinite(o))return;break;case Lr:if(!isFinite(e))return;break;case Gr:if(!isFinite(o))return}for(c=(nt=S.measuredBounds).width,m=nt.height,at=Math.max(c+P,0),rt=Math.max(m+N,0),It=Lt.allocAt(-(E=S.margin).left,-E.top,at,rt),e=0;e<x;e++)(o=a[e])===S||!o.visible&&o!==Vt||(at=(E=o.margin).right+E.left,rt=E.top+E.bottom,nt=o.measuredBounds,at=Math.max(nt.width+at,0),rt=Math.max(nt.height+rt,0),(P=o.alignment).Mb()&&(P=t.defaultAlignment),P.kb()||(P=Xe),(o=o.alignmentFocus).Mb()&&(o=Xe),Pt?(Pt=!1,h.h(P.x*c+P.offsetX-(o.x*nt.width+o.offsetX)-E.left,P.y*m+P.offsetY-(o.y*nt.height+o.offsetY)-E.top,at,rt)):fi(h,P.x*c+P.offsetX-(o.x*nt.width+o.offsetX)-E.left,P.y*m+P.offsetY-(o.y*nt.height+o.offsetY)-E.top,at,rt));Pt?h.assign(It):_t?h.bw(It.x,It.y,It.width,It.height):fi(h,It.x,It.y,It.width,It.height),Lt.free(It)},nv.prototype.arrange=function(t,e,o){var a=e.length,h=t.tb(),c=h.measuredBounds,m=c.width,x=t.padding,S=x.left,E=S-o.x,P=(x=x.top)-o.y;h.arrange(E,P,m,c=c.height);for(var N=0;N<a;N++){var nt=e[N];if(nt!==h){var at=nt.measuredBounds,rt=at.width;at=at.height,(P=nt.alignment).Mb()&&(P=t.defaultAlignment),P.kb()||(P=Xe);var _t=nt.alignmentFocus;if(_t.Mb()&&(_t=Xe),E=null,nt instanceof pe&&""!==nt.Lg&&(E=nt.bb(nt.Lg))===nt&&(E=null),null!==E){var It=E.naturalBounds;for(_t=J.allocAt(_t.x*It.width-_t.offsetX,_t.y*It.height-_t.offsetY);E!==nt;)E.transform.ta(_t),E=E.panel;E=P.x*m+P.offsetX-_t.x,P=P.y*c+P.offsetY-_t.y,J.free(_t)}else E=P.x*m+P.offsetX-(_t.x*rt+_t.offsetX),P=P.y*c+P.offsetY-(_t.y*at+_t.offsetY);E-=o.x,P-=o.y,nt.visible&&nt.arrange(S+E,x+P,rt,at)}}},z(rv,yr),rv.prototype.measure=function(t,e,o,a,h,c,m){var x=a.length,S=t.tb(),E=S.margin,P=e,N=o,nt=E.right+E.left,at=E.top+E.bottom;S.measure(e,o,c,m),E=S.measuredBounds;var rt=0,_t=null;S instanceof qe&&(rt=(_t=S).strokeWidth*_t.scale);var It=Math.max(E.width+nt,0);E=Math.max(E.height+at,0);var Pt=cv(S),Vt=Pt.x*It+Pt.offsetX;Pt=Pt.y*E+Pt.offsetY;var Ht=q1(S),Wt=Ht.x*It+Ht.offsetX;for(Ht=Ht.y*E+Ht.offsetY,isFinite(e)&&(P=Math.max(Math.abs(Vt-Wt)-rt,0)),isFinite(o)&&(N=Math.max(Math.abs(Pt-Ht)-rt,0)),(rt=fe.alloc()).h(0,0),t=Yh(t),Ht=0;Ht<x;Ht++)(Pt=a[Ht])===S||!Pt.visible&&Pt!==t||(It=(E=Pt.margin).right+E.left,Vt=E.top+E.bottom,Pt.measure(P,N,0,0),E=Pt.measuredBounds,It=Math.max(E.width+It,0),E=Math.max(E.height+Vt,0),rt.h(Math.max(It,rt.width),Math.max(E,rt.height)));if(1===x)h.width=It,h.height=E,fe.free(rt);else{switch(Pt=cv(S),x=a=0,(Ht=q1(S)).x!==Pt.x&&Ht.y!==Pt.y&&(a=rt.width/Math.abs(Ht.x-Pt.x),x=rt.height/Math.abs(Ht.y-Pt.y)),fe.free(rt),rt=0,null!==_t&&(rt=_t.strokeWidth*_t.scale,X0(_t)===Ro&&(a=x=Math.max(a,x))),a+=Math.abs(Pt.offsetX)+Math.abs(Ht.offsetX)+rt,x+=Math.abs(Pt.offsetY)+Math.abs(Ht.offsetY)+rt,(_t=S.stretch)===ka&&(_t=Gs(S,!1)),_t){case Nn:m=c=0;break;case zn:isFinite(e)&&(a=e),isFinite(o)&&(x=o);break;case Lr:isFinite(e)&&(a=e),m=0;break;case Gr:c=0,isFinite(o)&&(x=o)}S.Bk(),S.measure(a,x,c,m),h.width=S.measuredBounds.width+nt,h.height=S.measuredBounds.height+at}},rv.prototype.arrange=function(t,e){var o=e.length,a=t.tb(),h=a.measuredBounds,c=Lt.alloc();c.h(0,0,1,1);var m=a.margin,x=m.left,S=t.padding,E=S.left;a.arrange(E+x,(S=S.top)+(m=m.top),h.width,h.height);var P=cv(a),N=q1(a),nt=P.y*h.height+P.offsetY,at=N.x*h.width+N.offsetX;for(N=N.y*h.height+N.offsetY,c.x=P.x*h.width+P.offsetX,c.y=nt,fi(c,at,N,0,0),c.x+=x+E,c.y+=m+S,h=0;h<o;h++)(x=e[h])!==a&&(E=x.measuredBounds,m=x.margin,S=Math.max(E.width+m.right+m.left,0),P=Math.max(E.height+m.top+m.bottom,0),(nt=x.alignment).Mb()&&(nt=t.defaultAlignment),nt.kb()||(nt=Xe),S=c.width*nt.x+nt.offsetX-S*nt.x+m.left+c.x,m=c.height*nt.y+nt.offsetY-P*nt.y+m.top+c.y,x.visible&&(hi(c.x,c.y,c.width,c.height,S,m,E.width,E.height)?x.arrange(S,m,E.width,E.height):x.arrange(S,m,E.width,E.height,new Lt(c.x,c.y,c.width,c.height))));Lt.free(c)},z(G0,yr),G0.prototype.measure=function(t,e,o,a,h){for(var c=a.length,m=u(),x=u(),S=0;S<c;S++){var E=a[S],P=E instanceof pe?E:null;if(null===P||P.type!==pe.TableRow&&P.type!==pe.TableColumn||!E.visible)m.push(E);else{x.push(P);for(var N=P.W.j,nt=N.length,at=0;at<nt;at++){var rt=N[at];P.type===pe.TableRow?rt.row=E.row:P.type===pe.TableColumn&&(rt.column=E.column),m.push(rt)}}}0===(c=m.length)&&(t.getRowDefinition(0),t.getColumnDefinition(0));for(var _t=[],It=0;It<c;It++){var Pt=m[It];Xo(Pt,!0),kl(Pt,!0),_t[Pt.row]||(_t[Pt.row]=[]),_t[Pt.row][Pt.column]||(_t[Pt.row][Pt.column]=[]),_t[Pt.row][Pt.column].push(Pt)}p(m);var Vt=u(),Ht=u(),Wt=u(),Qt={count:0},me={count:0},Be=e,Ee=o,We=t.qb;c=We.length;for(var Te=0;Te<c;Te++){var ve=We[Te];void 0!==ve&&(ve.actual=0)}c=(We=t.nb).length;for(var xi=0;xi<c;xi++)void 0!==(ve=We[xi])&&(ve.actual=0);for(var ri=_t.length,Ni=0,Rn=0;Rn<ri;Rn++)_t[Rn]&&(Ni=Math.max(Ni,_t[Rn].length));var dr=Math.min(t.topIndex,ri-1),bn=Math.min(t.leftIndex,Ni-1),hn=0;ri=_t.length;for(var ul=Yh(t),xo=0;xo<ri;xo++)if(_t[xo]){Ni=_t[xo].length;var uo=t.getRowDefinition(xo);uo.actual=0;for(var gr=uo.bc=0;gr<Ni;gr++)if(_t[xo][gr]){var Na=t.getColumnDefinition(gr);void 0===Vt[gr]&&(Na.actual=0,Na.bc=0,Vt[gr]=!0);for(var Lp=_t[xo][gr],ya=Lp.length,gn=0;gn<ya;gn++){var ur=Lp[gn];if(ur.visible||ur===ul){var Bp=1<ur.rowSpan||1<ur.columnSpan;Bp&&(xo<dr||gr<bn||Ht.push(ur));var ed=ur.margin,xa=ed.right+ed.left,Zs=ed.top+ed.bottom,Fn=wc(ur,uo,Na,!1),Vp=ur.desiredSize,jm=!isNaN(Vp.height),id=!isNaN(Vp.width)&&jm;if(Bp||Fn===Nn||id||xo<dr||gr<bn||(void 0!==Qt[gr]||Fn!==zn&&Fn!==Lr||(Qt[gr]=-1,Qt.count++),void 0!==me[xo]||Fn!==zn&&Fn!==Gr||(me[xo]=-1,me.count++),Wt.push(ur)),ur.measure(1/0,1/0,0,0),!(xo<dr||gr<bn)){var Fa=ur.measuredBounds,is=Math.max(Fa.width+xa,0),Vc=Math.max(Fa.height+Zs,0);if(1===ur.rowSpan&&(Fn===Nn||Fn===Lr)){var zo=(ve=t.getRowDefinition(xo)).wc();(hn=Math.max(Vc-ve.actual,0))+zo>Ee&&(hn=Math.max(Ee-zo,0));var bh=0===ve.ha;ve.bc=ve.bc+hn,ve.actual=ve.ha+hn,Ee=Math.max(Ee-(hn+(bh?zo:0)),0)}if(1===ur.columnSpan&&(Fn===Nn||Fn===Gr)){var jp=(ve=t.getColumnDefinition(gr)).wc();(hn=Math.max(is-ve.actual,0))+jp>Be&&(hn=Math.max(Be-jp,0));var vy=0===ve.ha;ve.bc=ve.bc+hn,ve.actual=ve.ha+hn,Be=Math.max(Be-(hn+(vy?jp:0)),0)}Bp&&ur.Bk()}}}}}p(Vt);var Bl=0,Vl=0;c=t.columnCount;for(var jc=0;jc<c;jc++){var nu=t.nb[jc];void 0!==nu&&(Bl+=nu.bc,0!==nu.bc&&(Bl+=nu.wc()))}c=t.rowCount;for(var wa=0;wa<c;wa++){var jl=t.qb[wa];void 0!==jl&&(Vl+=jl.bc,0!==jl.bc&&(Vl+=jl.wc()))}Be=Math.max(e-Bl,0);var ii=Ee=Math.max(o-Vl,0),Vr=Be;c=Wt.length;for(var to=0;to<c;to++){var qs=Wt[to],Hp=t.getRowDefinition(qs.row),Hl=t.getColumnDefinition(qs.column),ru=qs.measuredBounds,La=qs.margin,yy=La.top+La.bottom;Qt[qs.column]=0===Hl.bc&&void 0!==Qt[qs.column]?Math.max(ru.width+(La.right+La.left),Qt[qs.column]):null,me[qs.row]=0===Hp.bc&&void 0!==me[qs.row]?Math.max(ru.height+yy,me[qs.row]):null}var zl,Ku=0,Yr=0;for(zl in me)"count"!==zl&&(Ku+=me[zl]);for(zl in Qt)"count"!==zl&&(Yr+=Qt[zl]);for(var Mr=fe.alloc(),zm=0;zm<c;zm++){var wo=Wt[zm];if(wo.visible||wo===ul){var ps=t.getRowDefinition(wo.row),ns=t.getColumnDefinition(wo.column),Ul=0;isFinite(ns.width)?Ul=ns.width:(Ul=isFinite(Be)&&null!==Qt[wo.column]?0===Yr?ns.actual+Be:Qt[wo.column]/Yr*Vr:null!==Qt[wo.column]?Be:ns.actual||Be,Ul=Math.max(0,Ul-ns.wc()));var Gl=0;switch(isFinite(ps.height)?Gl=ps.height:(Gl=isFinite(Ee)&&null!==me[wo.row]?0===Ku?ps.actual+Ee:me[wo.row]/Ku*ii:null!==me[wo.row]?Ee:ps.actual||Ee,Gl=Math.max(0,Gl-ps.wc())),Mr.h(Math.max(ns.minimum,Math.min(Ul,ns.maximum)),Math.max(ps.minimum,Math.min(Gl,ps.maximum))),Fn=wc(wo,ps,ns,!1)){case Lr:Mr.height=Math.max(Mr.height,ps.actual+Ee);break;case Gr:Mr.width=Math.max(Mr.width,ns.actual+Be)}var nd=wo.margin,Is=nd.right+nd.left,zp=nd.top+nd.bottom;wo.Bk(),wo.measure(Mr.width,Mr.height,ns.minimum,ps.minimum);var rd=wo.measuredBounds,Wl=Math.max(rd.width+Is,0),Up=Math.max(rd.height+zp,0);isFinite(Be)&&(Wl=Math.min(Wl,Mr.width)),isFinite(Ee)&&(Up=Math.min(Up,Mr.height));var Zu=0;Zu=ps.actual,ps.actual=Math.max(ps.actual,Up),ps.bc=Math.max(ps.bc,Up),hn=ps.actual-Zu,Ee=Math.max(Ee-hn,0),null===me[wo.row]&&(ii=Math.max(ii-hn,0)),Zu=ns.actual,ns.actual=Math.max(ns.actual,Wl),ns.bc=Math.max(ns.bc,Wl),hn=ns.actual-Zu,Be=Math.max(Be-hn,0),null===Qt[wo.column]&&(Vr=Math.max(Vr-hn,0))}}p(Wt);var ou=fe.alloc(),Yl=u(),cl=u();if(0!==(c=Ht.length))for(var Mh=0;Mh<ri;Mh++)if(_t[Mh]){Ni=_t[Mh].length;var od=t.getRowDefinition(Mh);Yl[Mh]=od.actual;for(var $l=0;$l<Ni;$l++)if(_t[Mh][$l]){var xy=t.getColumnDefinition($l);cl[$l]=xy.actual}}for(var _o=0;_o<c;_o++){var Ln=Ht[_o];if(Ln.visible||Ln===ul){var bo=t.getRowDefinition(Ln.row),fl=t.getColumnDefinition(Ln.column);switch(Mr.h(Math.max(fl.minimum,Math.min(e,fl.maximum)),Math.max(bo.minimum,Math.min(o,bo.maximum))),Fn=wc(Ln,bo,fl,!1)){case zn:0!==cl[fl.index]&&(Mr.width=Math.min(Mr.width,cl[fl.index])),0!==Yl[bo.index]&&(Mr.height=Math.min(Mr.height,Yl[bo.index]));break;case Lr:0!==cl[fl.index]&&(Mr.width=Math.min(Mr.width,cl[fl.index]));break;case Gr:0!==Yl[bo.index]&&(Mr.height=Math.min(Mr.height,Yl[bo.index]))}isFinite(fl.width)&&(Mr.width=fl.width),isFinite(bo.height)&&(Mr.height=bo.height),ou.h(0,0);for(var _a=fl.minimum,su=bo.minimum,Js=1;Js<Ln.rowSpan&&!(Ln.row+Js>=t.rowCount);Js++)ve=t.getRowDefinition(Ln.row+Js),hn=0,hn=Fn===zn||Fn===Gr?Math.max(ve.minimum,0===Yl[Ln.row+Js]?ve.maximum:Math.min(Yl[Ln.row+Js],ve.maximum)):Math.max(ve.minimum,isNaN(ve.ad)?ve.maximum:Math.min(ve.ad,ve.maximum)),ou.height+=hn,su+=ve.minimum;for(var Qs=1;Qs<Ln.columnSpan&&!(Ln.column+Qs>=t.columnCount);Qs++)ve=t.getColumnDefinition(Ln.column+Qs),hn=0,hn=Fn===zn||Fn===Lr?Math.max(ve.minimum,0===cl[Ln.column+Qs]?ve.maximum:Math.min(cl[Ln.column+Qs],ve.maximum)):Math.max(ve.minimum,isNaN(ve.ad)?ve.maximum:Math.min(ve.ad,ve.maximum)),ou.width+=hn,_a+=ve.minimum;Mr.width+=ou.width,Mr.height+=ou.height;var qu=Ln.margin,Ch=qu.right+qu.left,CM=qu.top+qu.bottom;Ln.measure(Mr.width,Mr.height,_a,su);for(var Mo=Ln.measuredBounds,dl=Math.max(Mo.width+Ch,0),pl=Math.max(Mo.height+CM,0),Xl=0,au=0;au<Ln.rowSpan&&!(Ln.row+au>=t.rowCount);au++)Xl+=(ve=t.getRowDefinition(Ln.row+au)).total||0;if(Xl<pl){var ci=pl-Xl,Sh=pl-Xl;if(null!==Ln.spanAllocation)for(var wy=Ln.spanAllocation,lu=0;lu<Ln.rowSpan&&!(0>=ci)&&!(Ln.row+lu>=t.rowCount);lu++){var Hc=(ve=t.getRowDefinition(Ln.row+lu)).ha||0,cw=wy(Ln,ve,Sh);ve.actual=Math.min(ve.maximum,Hc+cw),ve.ha!==Hc&&(ci-=ve.ha-Hc)}for(;0<ci;){var Rs=ve.ha||0;if(isNaN(ve.height)&&ve.maximum>Rs&&(ve.actual=Math.min(ve.maximum,Rs+ci),ve.ha!==Rs&&(ci-=ve.ha-Rs)),0===ve.index)break;ve=t.getRowDefinition(ve.index-1)}}for(var Dh=0,Ar=0;Ar<Ln.columnSpan&&!(Ln.column+Ar>=t.columnCount);Ar++)Dh+=(ve=t.getColumnDefinition(Ln.column+Ar)).total||0;if(Dh<dl){var Gp=dl-Dh,SM=dl-Dh;if(null!==Ln.spanAllocation)for(var OS=Ln.spanAllocation,_y=0;_y<Ln.columnSpan&&!(0>=Gp)&&!(Ln.column+_y>=t.columnCount);_y++){var by=(ve=t.getColumnDefinition(Ln.column+_y)).ha||0,DM=OS(Ln,ve,SM);ve.actual=Math.min(ve.maximum,by+DM),ve.ha!==by&&(Gp-=ve.ha-by)}for(;0<Gp;){var Um=ve.ha||0;if(isNaN(ve.width)&&ve.maximum>Um&&(ve.actual=Math.min(ve.maximum,Um+Gp),ve.ha!==Um&&(Gp-=ve.ha-Um)),0===ve.index)break;ve=t.getColumnDefinition(ve.index-1)}}}}p(Ht),fe.free(ou),fe.free(Mr),void 0!==Yl&&p(Yl),void 0!==cl&&p(cl);var zc=0,sd=0,My=t.desiredSize,EM=t.maxSize;Fn=Gs(t,!0);var Ju=Vl=Bl=0,Gm=0;c=t.columnCount;for(var Cy=0;Cy<c;Cy++)void 0!==t.nb[Cy]&&(ve=t.getColumnDefinition(Cy),isFinite(ve.width)?(Ju+=ve.width,Ju+=ve.wc()):fv(ve)===dv?(Ju+=ve.ha,Ju+=ve.wc()):0!==ve.ha&&(Bl+=ve.ha,Bl+=ve.wc()));zc=isFinite(My.width)?Math.min(My.width,EM.width):Fn!==Nn&&isFinite(e)?e:Bl,zc=Math.max(zc,t.minSize.width),zc=Math.max(zc-Ju,0);for(var NS=0===Bl?1:Math.max(zc/Bl,1),ad=0;ad<c;ad++)void 0!==t.nb[ad]&&(ve=t.getColumnDefinition(ad),isFinite(ve.width)||fv(ve)===dv||(ve.actual=ve.ha*NS),ve.position=h.width,0!==ve.ha&&(h.width+=ve.ha,h.width+=ve.wc()));c=t.rowCount;for(var Wm=0;Wm<c;Wm++)void 0!==t.qb[Wm]&&(ve=t.getRowDefinition(Wm),isFinite(ve.height)?(Gm+=ve.height,Gm+=ve.wc()):fv(ve)===dv?(Gm+=ve.ha,Gm+=ve.wc()):0!==ve.ha&&(Vl+=ve.ha,0!==ve.ha&&(Vl+=ve.wc())));sd=isFinite(My.height)?Math.min(My.height,EM.height):Fn!==Nn&&isFinite(o)?o:Vl,sd=Math.max(sd,t.minSize.height),sd=Math.max(sd-Gm,0);for(var kM=0===Vl?1:Math.max(sd/Vl,1),Ym=0;Ym<c;Ym++)void 0!==t.qb[Ym]&&(ve=t.getRowDefinition(Ym),isFinite(ve.height)||fv(ve)===dv||(ve.actual=ve.ha*kM),ve.position=h.height,0!==ve.ha&&(h.height+=ve.ha,0!==ve.ha&&(h.height+=ve.wc())));c=x.length;for(var fw=0;fw<c;fw++){var ms=x[fw],ld=0,dw=0;ms.type===pe.TableRow?(ld=h.width,dw=(ve=t.getRowDefinition(ms.row)).actual):(ld=(ve=t.getColumnDefinition(ms.column)).actual,dw=h.height),ms.measuredBounds.h(0,0,ld,dw),Xo(ms,!1),_t[ms.row]||(_t[ms.row]=[]),_t[ms.row][ms.column]||(_t[ms.row][ms.column]=[]),_t[ms.row][ms.column].push(ms)}p(x),t.Lp=_t},G0.prototype.arrange=function(t,e,o){var a=e.length,h=t.padding,c=h.left;h=h.top;for(var x,S,m=t.Lp,E=m.length,P=0,N=0;N<E;N++)m[N]&&(P=Math.max(P,m[N].length));for(N=Math.min(t.topIndex,E-1);N!==E&&(void 0===t.qb[N]||0===t.qb[N].ha);)N++;for(N=Math.min(N,E-1),N=-t.qb[N].position,x=Math.min(t.leftIndex,P-1);x!==P&&(void 0===t.nb[x]||0===t.nb[x].ha);)x++;x=Math.min(x,P-1);for(var nt=-t.nb[x].position,at=fe.alloc(),rt=0;rt<E;rt++)if(m[rt]){P=m[rt].length;var _t=t.getRowDefinition(rt);S=_t.position+N+h,0!==_t.ha&&(S+=_t.Jv());for(var It=0;It<P;It++)if(m[rt][It]){var Pt=t.getColumnDefinition(It);x=Pt.position+nt+c,0!==Pt.ha&&(x+=Pt.Jv());for(var Vt=m[rt][It],Ht=Vt.length,Wt=0;Wt<Ht;Wt++){var Qt=Vt[Wt],me=Qt.measuredBounds,Be=Qt instanceof pe?Qt:null;if(null===Be||Be.type!==pe.TableRow&&Be.type!==pe.TableColumn){at.h(0,0);for(var Ee=1;Ee<Qt.rowSpan&&!(rt+Ee>=t.rowCount);Ee++)Be=t.getRowDefinition(rt+Ee),at.height+=Be.total;for(Ee=1;Ee<Qt.columnSpan&&!(It+Ee>=t.columnCount);Ee++)Be=t.getColumnDefinition(It+Ee),at.width+=Be.total;var We=Pt.ha+at.width,Te=_t.ha+at.height;Ee=x,Be=S;var ve=We,xi=Te,ri=x,Ni=S,Rn=We,dr=Te;x+We>o.width&&(Rn=Math.max(o.width-x,0)),S+Te>o.height&&(dr=Math.max(o.height-S,0));var bn=Qt.alignment;if(bn.Mb()){(bn=t.defaultAlignment).kb()||(bn=Xe);var hn=bn.x,ul=bn.y,xo=bn.offsetX;bn=bn.offsetY;var uo=Pt.alignment,gr=_t.alignment;uo.kb()&&(hn=uo.x,xo=uo.offsetX),gr.kb()&&(ul=gr.y,bn=gr.offsetY)}else hn=bn.x,ul=bn.y,xo=bn.offsetX,bn=bn.offsetY;(isNaN(hn)||isNaN(ul))&&(ul=hn=.5,bn=xo=0),uo=me.width,gr=me.height;var Na=Qt.margin,Lp=Na.left+Na.right,ya=Na.top+Na.bottom,gn=wc(Qt,_t,Pt,!1);!isNaN(Qt.desiredSize.width)||gn!==zn&&gn!==Lr||(uo=Math.max(We-Lp,0)),!isNaN(Qt.desiredSize.height)||gn!==zn&&gn!==Gr||(gr=Math.max(Te-ya,0)),We=Qt.maxSize,Te=Qt.minSize,uo=Math.min(We.width,uo),gr=Math.min(We.height,gr),uo=Math.max(Te.width,uo),gr=Math.max(Te.height,gr),Ee+=ve*hn-(uo+Lp)*hn+xo+Na.left,Be+=xi*ul-(We=gr+ya)*ul+bn+Na.top,Qt.visible&&(hi(ri,Ni,Rn,dr,Ee,Be,me.width,me.height)?Qt.arrange(Ee,Be,uo,gr):Qt.arrange(Ee,Be,uo,gr,new Lt(ri,Ni,Rn,dr)))}else Qt.Fl(),Qt.actualBounds.ea(),Ee=Lt.allocAt((ve=Qt.actualBounds).x,ve.y,ve.width,ve.height),ve.x=Be.type===pe.TableRow?c:x,ve.y=Be.type===pe.TableColumn?h:S,ve.width=me.width,ve.height=me.height,Qt.actualBounds.freeze(),kl(Qt,!1),Ae(Ee,ve)||null!==(me=Qt.part)&&(me.Oh(),Qt.mp(me)),Lt.free(Ee)}}}for(fe.free(at),t=0;t<a;t++)null===(c=(o=e[t])instanceof pe?o:null)||c.type!==pe.TableRow&&c.type!==pe.TableColumn||(c=o.actualBounds,o.naturalBounds.ea(),o.naturalBounds.h(0,0,c.width,c.height),o.naturalBounds.freeze())},z(ov,yr),ov.prototype.measure=function(){},ov.prototype.arrange=function(){},z(sv,yr),sv.prototype.measure=function(){},sv.prototype.arrange=function(){},z(av,yr),av.prototype.measure=function(t,e,o,a,h,c,m){1<a.length&&R("Viewbox Panel cannot contain more than one GraphObject."),(a=a[0]).Aa=1,a.Bk(),a.measure(1/0,1/0,c,m);var x=a.measuredBounds,S=a.margin,E=S.right+S.left;if(S=S.top+S.bottom,isFinite(e)||isFinite(o)){var P=a.scale,N=x.width;x=x.height;var nt=Math.max(e-E,0),at=Math.max(o-S,0),rt=1;t.viewboxStretch===Ro?0!==N&&0!==x&&(rt=Math.min(nt/N,at/x)):0!==N&&0!==x&&(rt=Math.max(nt/N,at/x)),0===rt&&(rt=1e-4),a.Aa*=rt,P!==a.scale&&(Xo(a,!0),a.measure(1/0,1/0,c,m))}x=a.measuredBounds,h.width=isFinite(e)?e:Math.max(x.width+E,0),h.height=isFinite(o)?o:Math.max(x.height+S,0)},av.prototype.arrange=function(t,e,o){var a=(e=e[0]).measuredBounds,h=e.margin,c=Math.max(a.width+(h.right+h.left),0);h=Math.max(a.height+(h.top+h.bottom),0);var m=e.alignment;m.Mb()&&(m=t.defaultAlignment),m.kb()||(m=Xe),e.arrange(o.width*m.x-c*m.x+m.offsetX,o.height*m.y-h*m.y+m.offsetY,a.width,a.height)},z(W0,yr),W0.prototype.measure=function(){},W0.prototype.arrange=function(){},W0.prototype.mc=function(t,e,o){0>=(o=t.Af()*o.scale)&&(o=1);var a=t.gridCellSize,h=a.width;a=a.height;var c=t.naturalBounds,m=t.actualBounds,x=c.width,S=c.height,E=Math.ceil(x/h),P=Math.ceil(S/a),N=t.gridOrigin,nt=N.x;N=N.y,e.save(),e.beginPath(),e.rect(0,0,x,S),e.clip();for(var at=[],rt=t.W.j,_t=rt.length,It=0;It<_t;It++){var Pt=rt[It],Vt=[];if(at.push(Vt),Pt.visible){var Ht=Pt.interval;if(!(0>Ht)){Pt=lv(Pt.figure);for(var Wt=0;Wt<_t;Wt++)if(Wt!==It){var Qt=rt[Wt];Qt.visible&&lv(Qt.figure)===Pt&&(Qt=Qt.interval)>Ht&&Vt.push(Qt)}}}}for(_t=(rt=t.W.j).length,It=0;It<_t;It++){var me=rt[It];if(me.visible&&(Vt=me.interval||1,!(2>h*(Pt=Math.abs(Vt))*o))){if(Ht=me.segmentIndex,(!isFinite(Ht)||isNaN(Ht))&&(Ht=0),0>Ht&&(Ht=Pt-Math.min(-Ht,Pt)),Ht=Math.round(Ht%Pt),Wt=1,1!==(Pt=me.opacity)){if(0===Pt)continue;e.globalAlpha=(Wt=e.globalAlpha)*Pt}Qt=at[It];var Be=!1,Ee=me.strokeDashArray;if(null!==Ee&&(Be=!0,e.Ft(Ee,me.strokeDashOffset)),"LineV"===me.figure&&null!==me.stroke&&0<me.strokeWidth){for(e.lineWidth=me.strokeWidth,$o(t,e,me.stroke,!1,!1,c,m),e.beginPath(),Ee=me=Math.floor((nt-h)/h);Ee<=me+E;Ee++){var We=Ee*h+nt;0<=We&&We<=x&&X1(Ee,Vt,Ht,Qt)&&(e.moveTo(We,0),e.lineTo(We,S))}e.stroke()}else if("LineH"===me.figure&&null!==me.stroke&&0<me.strokeWidth){for(e.lineWidth=me.strokeWidth,$o(t,e,me.stroke,!1,!1,c,m),e.beginPath(),Ee=me=Math.floor((N-a)/a);Ee<=me+P;Ee++)0<=(We=Ee*a+N)&&We<=S&&X1(Ee,Vt,Ht,Qt)&&(e.moveTo(0,We),e.lineTo(x,We));e.stroke()}else if("BarV"===me.figure&&null!==me.fill)for($o(t,e,me.fill,!0,!1,c,m),me=me.width,isNaN(me)&&(me=h),We=Ee=Math.floor((nt-h)/h);We<=Ee+E;We++){var Te=We*h+nt;0<=Te+me&&Te<=x&&X1(We,Vt,Ht,Qt)&&e.fillRect(Te,0,me,S)}else if("BarH"===me.figure&&null!==me.fill)for($o(t,e,me.fill,!0,!1,c,m),me=me.height,isNaN(me)&&(me=a),We=Ee=Math.floor((N-a)/a);We<=Ee+P;We++)0<=(Te=We*a+N)+me&&Te<=S&&X1(We,Vt,Ht,Qt)&&e.fillRect(0,Te,x,me);Be&&e.Dt(),1!==Pt&&(e.globalAlpha=Wt)}}e.restore(),e.uc(!1)},z(Y0,yr),Y0.prototype.measure=function(t,e,o,a,h){if(o=a.length,t instanceof Ci||t instanceof Ce){var c=null,m=null,x=null;if(t instanceof Ce&&(m=c=t),t instanceof Ci&&(c=(x=t).adornedPart),c instanceof Ce){var S=c;if(0===o)ue(t.naturalBounds,0,0),t.measuredBounds.h(0,0,0,0);else{var E=t instanceof Ci?null:c.path,P=c.routeBounds;(e=t.xg).h(0,0,P.width,P.height);var N=S.points;c=c.pointsCount,null!==x?x.Gk(!1):null!==m&&m.Gk(!1);var nt=P.width,at=P.height;t.location.h(P.x,P.y),t.l.length=0,null!==E&&(ep(t,nt,at,E),e.Rc(x=E.measuredBounds),t.l.push(x)),x=di.alloc();for(var rt=J.alloc(),_t=J.alloc(),It=0;It<o;It++){var Pt=a[It];if(Pt!==E)if(Pt.isPanelMain&&Pt instanceof qe){ep(t,nt,at,Pt);var Vt=Pt.measuredBounds;e.Rc(Vt),t.l.push(Vt)}else if(2>c)Pt.measure(1/0,1/0,0,0),e.Rc(Vt=Pt.measuredBounds),t.l.push(Vt);else{var Ht=Pt.segmentIndex,Wt=Pt.segmentFraction,Qt=Pt.alignmentFocus;Qt.nc()&&(Qt=Xe);var me=Pt.segmentOrientation,Be=Pt.segmentOffset;if(isNaN(Ht)){var Ee=S.na;Vt=u(),Ee.Yv(Wt,Vt);var We=J.allocAt(Vt[0],Vt[1]);if(We.add(S.i(0)),Ee.type===ar||(Ee=Ee.figures.first()),We.offset(-Ee.startX,-Ee.startY),Ee=Vt[2],me!==Bo){var Te=S.computeAngle(Pt,me,Ee);Pt.Yb=Te}Te=We.x-P.x;var ve=We.y-P.y;J.free(We),p(Vt)}else if(Ht<-c||Ht>=c)ve=S.midPoint,Ee=S.midAngle,me!==Bo&&(Te=S.computeAngle(Pt,me,Ee),Pt.Yb=Te),Te=ve.x-P.x,ve=ve.y-P.y;else{if(Te=0,0<=Ht?(ve=N.J(Ht),Vt=Ht<c-1?N.J(Ht+1):ve):(ve=N.J(Te=c+Ht),Vt=0<Te?N.J(Te-1):ve),ve.Qa(Vt)){0<=Ht?(Ee=0<Ht?N.J(Ht-1):ve,Te=Ht<c-2?N.J(Ht+2):Vt):(Ee=Te<c-1?N.J(Te+1):ve,Te=1<Te?N.J(Te-2):Vt),We=Ee.Ie(ve);var xi=Vt.Ie(Te);Ee=We>xi+10?0<=Ht?Ee.Pa(ve):ve.Pa(Ee):xi>We+10?0<=Ht?Vt.Pa(Te):Te.Pa(Vt):0<=Ht?Ee.Pa(Te):Te.Pa(Ee)}else Ee=0<=Ht?ve.Pa(Vt):Vt.Pa(ve);me!==Bo&&(Te=S.computeAngle(Pt,me,Ee),Pt.Yb=Te),Te=ve.x+(Vt.x-ve.x)*Wt-P.x,ve=ve.y+(Vt.y-ve.y)*Wt-P.y}Pt.measure(1/0,1/0,0,0),Vt=Pt.measuredBounds;var ri=0;Pt instanceof qe&&(ri=Pt.strokeWidth),xi=(We=Pt.naturalBounds).width+ri;var Ni=We.height+ri;x.reset(),x.translate(-Vt.x,-Vt.y),x.scale(Pt.scale,Pt.scale),x.rotate(me===Bo?Pt.angle:Ee,xi/2,Ni/2),me!==Ov&&me!==mp||x.rotate(90,xi/2,Ni/2),me!==cm&&me!==dm||x.rotate(-90,xi/2,Ni/2),me===gp&&(45<Ee&&135>Ee||225<Ee&&315>Ee)&&x.rotate(-Ee,xi/2,Ni/2),We=new Lt(0,0,xi,Ni),rt.tj(We,Qt),x.ta(rt),Qt=ri/2*Pt.scale-rt.x,Pt=ri/2*Pt.scale-rt.y,_t.assign(Be),ri=isNaN(Be.x);var Rn=isNaN(Be.y);if(ri||Rn){xi=xi/2+3,Ni=Ni/2+3;var dr=45<=Ee&&135>=Ee,bn=225<=Ee&&315>=Ee;me===Bo&&(dr||bn)?(_t.x=Rn?xi:Be.y,_t.y=ri?Ni:Be.x,dr?0<=Ht||isNaN(Ht)&&.5>Wt||!ri||(_t.y=-Ni):bn&&((0<=Ht||isNaN(Ht)&&.5>Wt)&&ri&&(_t.y=-Ni),Rn&&(_t.x=-xi))):(ri&&(_t.x=0<=Ht||isNaN(Ht)&&.5>Wt?xi:-xi),Rn&&(_t.y=-Ni),_t.rotate(Ee))}else _t.rotate(Ee);Te+=_t.x,ve+=_t.y,We.set(Vt),We.h(Te+Qt,ve+Pt,Vt.width,Vt.height),t.l.push(We),e.Rc(We)}}if(null!==m)for(a=m.labelNodes;a.next();)a.value.measure(1/0,1/0);t.xg=e,(t=t.location).h(t.x+e.x,t.y+e.y),ue(h,e.width||0,e.height||0),di.free(x),J.free(rt),J.free(_t)}}}},Y0.prototype.arrange=function(t,e){var o=e.length;if(t instanceof Ci||t instanceof Ce){var a=null,h=null,c=null;t instanceof Ce&&(h=a=t),t instanceof Ci&&(a=(c=t).adornedPart);var m=t instanceof Ci?null:a.path;if(0!==t.l.length){var x=t.l,S=0;if(null!==m&&S<t.l.length){var E=x[S];S++,m.arrange(E.x-t.xg.x,E.y-t.xg.y,E.width,E.height)}for(E=0;E<o;E++){var P=e[E];if(P!==m&&S<t.l.length){var N=x[S];S++,P.arrange(N.x-t.xg.x,N.y-t.xg.y,N.width,N.height)}}}if(2<=(o=(e=a.points).count)&&t instanceof Ce)for(a=t.labelNodes;a.next();){var nt=t;x=(m=a.value).segmentIndex,S=m.segmentFraction;var at=m.alignmentFocus;if(E=m.segmentOrientation,P=m.segmentOffset,isNaN(x)){N=nt.na;var rt=u();N.Yv(S,rt);var _t=J.allocAt(rt[0],rt[1]);_t.add(nt.i(0)),N.type===ar||(N=N.figures.first()),_t.offset(-N.startX,-N.startY),N=rt[2],E!==Bo&&(nt=nt.computeAngle(m,E,N),m.angle=nt),nt=_t.x;var It=_t.y;J.free(_t),p(rt)}else if(x<-o||x>=o)It=nt.midPoint,N=nt.midAngle,E!==Bo&&(nt=nt.computeAngle(m,E,N),m.angle=nt),nt=It.x,It=It.y;else{if(_t=0,0<=x?(rt=e.j[x],It=x<o-1?e.j[x+1]:rt):(rt=e.j[_t=o+x],It=0<_t?e.j[_t-1]:rt),rt.Qa(It)){0<=x?(N=0<x?e.j[x-1]:rt,_t=x<o-2?e.j[x+2]:It):(N=_t<o-1?e.j[_t+1]:rt,_t=1<_t?e.j[_t-2]:It);var Pt=N.Ie(rt),Vt=It.Ie(_t);N=Pt>Vt+10?0<=x?N.Pa(rt):rt.Pa(N):Vt>Pt+10?0<=x?It.Pa(_t):_t.Pa(It):0<=x?N.Pa(_t):_t.Pa(N)}else N=0<=x?rt.Pa(It):It.Pa(rt);E!==Bo&&(nt=nt.computeAngle(m,E,N),m.angle=nt),nt=rt.x+(It.x-rt.x)*S,It=rt.y+(It.y-rt.y)*S}if(at.Vt())m.location=new J(nt,It);else{at.nc()&&(at=Xe),(rt=di.alloc()).reset(),rt.scale(m.scale,m.scale),rt.rotate(m.angle,0,0);var Ht=m.naturalBounds;_t=Lt.allocAt(0,0,Ht.width,Ht.height),(Pt=J.alloc()).tj(_t,at),rt.ta(Pt),at=-Pt.x,Vt=-Pt.y;var Wt=Ht.width,Qt=Ht.height;(Ht=J.alloc()).assign(P);var me=isNaN(P.x),Be=isNaN(P.y);if(me||Be){Wt=Wt/2+3,Qt=Qt/2+3;var Ee=45<=N&&135>=N,We=225<=N&&315>=N;E===Bo&&(Ee||We)?(Ht.x=Be?Wt:P.y,Ht.y=me?Qt:P.x,Ee?0<=x||isNaN(x)&&.5>S||!me||(Ht.y=-Qt):We&&((0<=x||isNaN(x)&&.5>S)&&me&&(Ht.y=-Qt),Be&&(Ht.x=-Wt))):(me&&(Ht.x=0<=x||isNaN(x)&&.5>S?Wt:-Wt),Be&&(Ht.y=-Qt),Ht.rotate(N))}else Ht.rotate(N);nt+=Ht.x,It+=Ht.y,rt.Pw(_t),x=J.allocAt(nt+(at+=_t.x),It+(Vt+=_t.y)),m.move(x),J.free(x),J.free(Ht),J.free(Pt),Lt.free(_t),di.free(rt)}}null!==c?c.Gk(!1):null!==h&&h.Gk(!1)}},z(ip,yr),ip.prototype.measure=function(t,e,o,a,h,c,m){var x=t.tb();t.dh=[];var S=x.margin,E=S.right+S.left,P=S.top+S.bottom;x.measure(e,o,c,m);var N=x.measuredBounds,nt=new Lt(-S.left,-S.top,Math.max(N.width+E,0),Math.max(N.height+P,0));t.dh.push(nt),h.assign(nt);for(var at=x.geometry,rt=x.strokeWidth,_t=at.flattenedSegments,It=at.flattenedLengths,Pt=at.flattenedTotalLength,Vt=_t.length,Ht=0,Wt=0,Qt=u(),me=0;me<Vt;me++){var Be=_t[me],Ee=[];Wt=Ht=0;for(var We=Be.length,Te=0;Te<We;Te+=2){var ve=Be[Te],xi=Be[Te+1];if(0!==Te){var ri=180*Math.atan2(xi-Wt,ve-Ht)/Math.PI;0>ri&&(ri+=360),Ee.push(ri)}Ht=ve,Wt=xi}Qt.push(Ee)}if(null===t.eh){for(var Ni=[],Rn=t.W.j,dr=Rn.length,bn=0;bn<dr;bn++){var hn=Rn[bn],ul=[];if(Ni.push(ul),hn.visible){var xo=hn.interval;if(!(0>xo))for(var uo=0;uo<dr;uo++)if(uo!==bn){var gr=Rn[uo];if(gr.visible&&hn.constructor===gr.constructor){var Na=gr.interval;Na>xo&&ul.push(Na)}}}}t.eh=Ni}var Lp=t.eh,ya=t.W.j,gn=ya.length,ur=0,Bp=0,ed=Pt;t.Mj=[];for(var xa,Zs=0;Zs<gn;Zs++){var Fn=ya[Zs];if(xa=[],Fn.visible&&Fn!==x){var Vp=Math.abs(Fn.interval),jm=t.graduatedTickUnit;if(!(2>jm*Vp*Pt/t.graduatedRange)){var id=It[0][0],Fa=0,is=0;Bp=Pt*Fn.graduatedStart-1e-4,ed=Pt*Fn.graduatedEnd+1e-4;var Vc=jm*Vp,zo=t.graduatedTickBase;if(zo<t.graduatedMin){var bh=(t.graduatedMin-zo)/Vc;zo+=(bh=bh%1==0?bh:Math.floor(bh+1))*Vc}else zo>t.graduatedMin+Vc&&(zo-=Math.floor((zo-t.graduatedMin)/Vc)*Vc);for(var jp=Lp[Zs],vy=zo,Bl=1;zo<t.graduatedMax+5e-8;Bl++){t:{for(var Vl=jp.length,jc=0;jc<Vl;jc++)if(Zt.aa((zo-t.graduatedTickBase)%(jp[jc]*t.graduatedTickUnit),0)){var nu=!1;break t}nu=!0}if(nu&&(null===Fn.graduatedSkip||!Fn.graduatedSkip(zo))&&((ur=(zo-t.graduatedMin)*Pt/t.graduatedRange)>Pt&&(ur=Pt),Bp<=ur&&ur<=ed)){for(var wa=Qt[Fa][is],jl=It[Fa][is];Fa<It.length;){for(;ur>id&&is<It[Fa].length-1;)is++,wa=Qt[Fa][is],id+=jl=It[Fa][is];if(ur<=id)break;wa=Qt[++Fa][is=0],id+=jl=It[Fa][is]}var ii=_t[Fa],Vr=ii[2*is],to=ii[2*is+1],qs=(ur-(id-jl))/jl,Hp=new J(Vr+(ii[2*is+2]-Vr)*qs+rt/2-at.bounds.x,to+(ii[2*is+3]-to)*qs+rt/2-at.bounds.y);Hp.scale(x.scale,x.scale);var Hl=wa,ru=Qt[Fa];if(1e-4>qs?0<is?Hl=ru[is-1]:Zt.aa(ii[0],ii[ii.length-2])&&Zt.aa(ii[1],ii[ii.length-1])&&(Hl=ru[ru.length-1]):.9999<qs&&(is+1<ru.length?Hl=ru[is+1]:Zt.aa(ii[0],ii[ii.length-2])&&Zt.aa(ii[1],ii[ii.length-1])&&(Hl=ru[0])),wa!==Hl&&(180<Math.abs(wa-Hl)&&(wa<Hl?wa+=360:Hl+=360),wa=(wa+Hl)/2%360),Fn instanceof Gi){var La="";""!==(La=null!==Fn.graduatedFunction?null!=(La=Fn.graduatedFunction(zo))?La.toString():"":(+zo.toFixed(2)).toString())&&xa.push({Km:Hp,angle:wa,text:La})}else xa.push({Km:Hp,angle:wa})}zo=vy+Bl*Vc}}}t.Mj.push(xa)}p(Qt);var Hm=t.Mj;if(null!==Hm)for(var yy=a.length,Ku=0;Ku<yy;Ku++){var Yr=a[Ku],zl=Hm[Ku];if(Yr.visible&&Yr!==x&&0!==zl.length){if(Yr instanceof qe){var Mr=t,zm=h,wo=Yr.alignmentFocus;wo.nc()&&(wo=wi);var ps=Yr.angle;Yr.Yb=0,Yr.measure(1/0,1/0,0,0),Yr.Yb=ps;var ns=Yr.measuredBounds,Ul=ns.width,Gl=ns.height,nd=Lt.allocAt(0,0,Ul,Gl),Is=J.alloc();Is.tj(nd,wo),Lt.free(nd);for(var zp=-Is.x,rd=-Is.y,Wl=new Lt,Up=zl.length,Zu=0;Zu<Up;Zu++)for(var ou=zl[Zu],Yl=ou.Km.x,cl=ou.Km.y,Mh=ou.angle,od=0;4>od;od++){switch(od){case 0:Is.h(zp,rd);break;case 1:Is.h(zp+Ul,rd);break;case 2:Is.h(zp,rd+Gl);break;case 3:Is.h(zp+Ul,rd+Gl)}Is.rotate(Mh+Yr.angle),Is.offset(Yl,cl),0===Zu&&0===od?Wl.h(Is.x,Is.y,0,0):Wl.Oe(Is),Is.offset(-Yl,-cl),Is.rotate(-Mh-Yr.angle)}J.free(Is),null!==Mr.dh&&Mr.dh.push(Wl),fi(zm,Wl.x,Wl.y,Wl.width,Wl.height)}else if(Yr instanceof Gi){var $l=t,xy=h;null===$l.zh&&($l.zh=new Gi);var _o=$l.zh;Eb(_o,Yr);var Ln=Yr.alignmentFocus;Ln.nc()&&(Ln=wi);for(var bo=Yr.segmentOrientation,fl=Yr.segmentOffset,_a=new Lt,su=0,Js=0,Qs=0,qu=0,Ch=0,CM=zl.length,Mo=0;Mo<CM;Mo++){var dl=zl[Mo];su=dl.Km.x,Js=dl.Km.y,Qs=dl.angle,Ch=qu=Yr.angle,bo!==Bo&&(qu=Ce.computeAngle(bo,Ch=bo===pp||bo===fm?Qs+Yr.angle:Qs)),_o.Yb=qu,_o.text=dl.text||"",_o.measure(1/0,1/0,0,0);var pl=_o.measuredBounds,Xl=_o.naturalBounds,au=Xl.width,ci=Xl.height,Sh=di.alloc();Sh.reset(),Sh.translate(-pl.x,-pl.y),Sh.scale(_o.scale,_o.scale),Sh.rotate(Ch,au/2,ci/2),bo!==Ov&&bo!==mp||Sh.rotate(90,au/2,ci/2),bo!==cm&&bo!==dm||Sh.rotate(-90,au/2,ci/2),bo===gp&&(45<Qs&&135>Qs||225<Qs&&315>Qs)&&Sh.rotate(-Qs,au/2,ci/2);var wy=Lt.allocAt(0,0,au,ci),lu=J.alloc();lu.tj(wy,Ln),Sh.ta(lu);var Hc=-lu.x,cw=-lu.y,Rs=J.alloc();Rs.assign(fl),isNaN(Rs.x)&&(Rs.x=au/2+3),isNaN(Rs.y)&&(Rs.y=-(ci/2+3)),Rs.rotate(Qs);var Dh=new Lt(su+=Rs.x+Hc,Js+=Rs.y+cw,pl.width,pl.height),Ar=new Lt(pl.x,pl.y,pl.width,pl.height),Gp=new Lt(Xl.x,Xl.y,Xl.width,Xl.height);dl.DA=qu,dl.lineCount=_o.lineCount,dl.lines=[_o.vb,_o.Ei,_o.oe,_o.Be,_o.Qb,_o.lb,_o.me],dl.actualBounds=Dh,dl.measuredBounds=Ar,dl.naturalBounds=Gp,0===Mo?_a.assign(Dh):_a.Rc(Dh),J.free(Rs),J.free(lu),Lt.free(wy),di.free(Sh)}null!==$l.dh&&$l.dh.push(_a),fi(xy,_a.x,_a.y,_a.width,_a.height)}Xo(Yr,!1)}}},ip.prototype.arrange=function(t,e,o){if(null!==t.dh){var a=t.tb(),h=t.Mj;if(null!==h){var c=t.dh,m=0,x=c[m];m++,null!==a&&a.arrange(x.x-o.x,x.y-o.y,x.width,x.height);for(var S=e.length,E=0;E<S;E++){var P=e[E];x=h[E],P.visible&&P!==a&&0!==x.length&&(x=c[m],m++,P.arrange(x.x-o.x,x.y-o.y,x.width,x.height))}t.dh=null}}},ip.prototype.mc=function(t,e,o){var a=o.yi;o.yi=!0;var h=t.naturalBounds,c=h.width;h=h.height,e.save(),e.beginPath(),e.rect(-1,-1,c+1,h+1),e.clip(),(c=t.tb()).mc(e,o),0>=(h=t.Af()*o.scale)&&(h=1);for(var m=c.actualBounds,x=t.W.j,S=t.Mj,E=x.length,P=0;P<E;P++){var N=x[P],nt=S[P],at=nt.length;if(N.visible&&N!==c&&0!==nt.length)if(N instanceof qe){if(!(2>t.graduatedTickUnit*N.interval*c.geometry.flattenedTotalLength/t.graduatedRange*h)){var rt=N.measuredBounds,_t=N.strokeWidth*N.scale,It=N.alignmentFocus;It.nc()&&(It=wi);for(var Pt=0;Pt<at;Pt++){var Vt=nt[Pt].Km,Ht=nt[Pt].angle,Wt=It,Qt=N.sb;Qt.reset(),Qt.translate(Vt.x+m.x,Vt.y+m.y),Qt.rotate(Ht+N.angle,0,0),Qt.translate(-rt.width*Wt.x+Wt.offsetX+_t/2,-rt.height*Wt.y+Wt.offsetY+_t/2),Qt.scale(N.scale,N.scale),Kd(N,!1),N.Zh.set(N.sb),N.ql=N.scale,Tu(N,!1),N.mc(e,o),N.sb.reset()}}}else if(N instanceof Gi)for(null===t.zh&&(t.zh=new Gi),Eb(rt=t.zh,N),N=0;N<at;N++)(_t=nt[N]).actualBounds&&_t.measuredBounds&&_t.naturalBounds&&(rt.Ub=_t.text||"",rt.Yb=_t.DA||0,rt.Zc=_t.lineCount||0,void 0!==(It=_t.lines)&&(rt.vb=It[0],rt.Ei=It[1],rt.oe=It[2],rt.Be=It[3],rt.Qb=It[4],rt.lb=It[5],rt.me=It[6]),_t.naturalBounds&&(rt.rc=_t.naturalBounds),_t.actualBounds&&rt.arrange((It=_t.actualBounds).x,It.y,It.width,It.height),rt.arrange((It=_t.actualBounds).x,It.y,It.width,It.height),Pt=_t.measuredBounds,_t=_t.naturalBounds,(Vt=rt.sb).reset(),Vt.translate(It.x+m.x,It.y+m.y),Vt.translate(-Pt.x,-Pt.y),j1(rt,Vt,_t.x,_t.y,_t.width,_t.height),Kd(rt,!1),rt.Zh.set(rt.sb),rt.ql=rt.scale,Tu(rt,!1),rt.mc(e,o))}o.yi=a,e.restore(),e.uc(!0)},z(pe,Ge),pe.prototype.cloneProtected=function(t){if(Ge.prototype.cloneProtected.call(this,t),t.qa=this.qa,t.ib=this.ib.H(),t.Mn=this.Mn.H(),t.Sf=this.Sf,t.qa===pe.Table){t.Fj=this.Fj.H(),t.Ug=this.Ug,t.si=this.si,t.ri=this.ri,t.Tg=this.Tg,t.Sg=this.Sg,t.pi=this.pi;var e=[];if(0<this.qb.length)for(var o=this.qb,a=o.length,h=0;h<a;h++)if(void 0!==o[h]){var c=o[h].copy();c.sj(t),e[h]=c}if(t.qb=e,e=[],0<this.nb.length)for(a=(o=this.nb).length,h=0;h<a;h++)void 0!==o[h]&&((c=o[h].copy()).sj(t),e[h]=c);t.nb=e,t.dk=this.dk,t.Cj=this.Cj,t.Xi=this.Xi,t.Gi=this.Gi}t.pq=this.pq,t.no=this.no.H(),t.oo=this.oo.H(),t.ko=this.ko,t.jo=this.jo,t.mo=this.mo,t.lo=this.lo,t.Mj=this.Mj,t.eh=this.eh,t.ob=this.ob,t.li=this.li,t.Do=this.Do,t.Ci=this.Ci,t.te=this.te,t.Jl=this.Jl,t.xg.assign(this.xg),t.Lg=this.Lg,null!==this.Lp&&(t.Lp=this.Lp)},pe.prototype.yf=function(t){Ge.prototype.yf.call(this,t),t.W=this.W;for(var e=t.W.j,o=e.length,a=0;a<o;a++)e[a].og=t;t.Ui=null},pe.prototype.copy=function(){var t=Ge.prototype.copy.call(this);if(null!==t){for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a].copy();h.sj(t),h.ak=null;var c=t.W,m=c.count;if(c.wb(m,h),null!==(c=t.part)){c.Xj=null,null!==h.portId&&c instanceof Fe&&(c.Nh=!0);var x=t.diagram;null!==x&&x.undoManager.isUndoingRedoing||c.Va(hr,"elements",t,null,h,null,m)}}return t}return null},(q=pe.prototype).toString=function(){return"Panel("+this.type.name+")#"+Jt(this)},q.mp=function(t){Ge.prototype.mp.call(this,t);for(var e=this.W.j,o=e.length,a=0;a<o;a++)e[a].mp(t)},q.ej=function(t,e){if(this.qa===pe.Grid)this.qa.mc(this,t,e);else if(this.qa===pe.Graduated)this.qa.mc(this,t,e);else{this.qa===pe.Table&&(t.lineCap="butt",$0(this,t,!0,this.qb,!0),$0(this,t,!1,this.nb,!0),K1(this,t,!0,this.qb),K1(this,t,!1,this.nb),$0(this,t,!0,this.qb,!1),$0(this,t,!1,this.nb,!1));var o=this.isClipping&&this.qa===pe.Spot;o&&t.save();for(var a=this.tb(),h=this.W.j,c=h.length,m=0;m<c;m++){var x=h[m];o&&x===a&&(t.clipInsteadOfFill=!0),x.mc(t,e),o&&x===a&&(t.clipInsteadOfFill=!1)}o&&(t.restore(),t.uc(!0))}},q.zk=function(t,e,o,a,h){var c=this.he(),m=this.transform,x=1/(m.m11*m.m22-m.m12*m.m21),S=m.m22*x,E=-m.m12*x,P=-m.m21*x,N=m.m11*x,nt=x*(m.m21*m.dy-m.m22*m.dx),at=x*(m.m12*m.dx-m.m11*m.dy);if(null!==this.areaBackground)return Zt.Cf((m=this.actualBounds).left,m.top,m.right,m.bottom,t,e,o,a,h);if(null!==this.background)return c=t*S+e*P+nt,x=t*E+e*N+at,t=o*S+a*P+nt,S=o*E+a*N+at,h.h(0,0),c=Zt.Cf(0,0,(o=this.naturalBounds).width,o.height,c,x,t,S,h),h.transform(m),c;c||(S=1,P=E=0,N=1,at=nt=0),x=t*S+e*P+nt,t=t*E+e*N+at,h.h(S=o*S+a*P+nt,o=o*E+a*N+at),a=(S-x)*(S-x)+(o-t)*(o-t),E=!1,at=(N=this.W.j).length,P=J.alloc(),nt=null,e=1/0;var rt=null,_t=this.isClipping&&this.qa===pe.Spot;_t&&(rt=J.alloc(),(E=(nt=this.tb()).zk(x,t,S,o,rt))&&(e=(x-rt.x)*(x-rt.x)+(t-rt.y)*(t-rt.y)));for(var It=0;It<at;It++){var Pt=N[It];Pt.visible&&Pt!==nt&&Pt.zk(x,t,S,o,P)&&(E=!0,(Pt=(x-P.x)*(x-P.x)+(t-P.y)*(t-P.y))<a&&(a=Pt,h.set(P)))}return _t&&(e>a&&h.set(rt),J.free(rt)),J.free(P),c&&h.transform(m),E},q.s=function(t){if(!Hh(this)){Ge.prototype.s.call(this,t),t=null,(this.qa===pe.Auto||this.qa===pe.Link)&&(t=this.tb());for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a];if((h===t||h.isPanelMain)&&h.s(!0),!h.desiredSize.o()){var c=Gs(h,!1);(h instanceof ao||h instanceof pe||h instanceof Gi||c!==Nn)&&h.s(!0)}}}},q.Bk=function(){if(!Hh(this)){Xo(this,!0),kl(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].Bk()}},q.Fl=function(){if(0==(2048&this.F)){Kd(this,!0),Tu(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].dw()}},q.dw=function(){Tu(this,!0);for(var t=this.W.j,e=t.length,o=0;o<e;o++)t[o].dw()},q.Hm=function(t,e,o,a){var h=this.xg;h.h(0,0,0,0);var c=this.desiredSize,m=this.minSize;void 0===o&&(o=m.width,a=m.height),o=Math.max(o,m.width),a=Math.max(a,m.height);var x=this.maxSize;isNaN(c.width)||(t=Math.min(c.width,x.width)),isNaN(c.height)||(e=Math.min(c.height,x.height)),t=Math.max(o,t),e=Math.max(a,e);var S=this.ib;t=Math.max(t-S.left-S.right,0),e=Math.max(e-S.top-S.bottom,0);var E=this.W.j;0!==E.length&&this.qa.measure(this,t,e,E,h,o,a),t=h.width+S.left+S.right,S=h.height+S.top+S.bottom,isFinite(c.width)&&(t=c.width),isFinite(c.height)&&(S=c.height),t=Math.min(x.width,t),S=Math.min(x.height,S),t=Math.max(m.width,t),S=Math.max(m.height,S),ue(h,t=Math.max(o,t),S=Math.max(a,S)),ue(this.naturalBounds,t,S),Bh(this,0,0,t,S)},q.tb=function(){if(null===this.Ui){var t=this.W.j,e=t.length;if(0===e)return null;for(var o=0;o<e;o++){var a=t[o];if(!0===a.isPanelMain)return this.Ui=a}this.Ui=t[0]}return this.Ui},q.Ih=function(t,e,o,a){var h=this.W.j;if(this.actualBounds.h(t,e,o,a),0!==h.length){if(!this.desiredSize.o()){t=Gs(this,!0);var c=this.measuredBounds;e=c.width,c=c.height;var m=this.jh,x=m.left+m.right;switch(m=m.top+m.bottom,e===o&&c===a&&(t=Nn),t){case Nn:(e>o||c>a)&&(this.s(),this.measure(e>o?o:e,c>a?a:c,0,0));break;case zn:this.s(!0),this.measure(o+x,a+m,0,0);break;case Lr:this.s(!0),this.measure(o+x,c+m,0,0);break;case Gr:this.s(!0),this.measure(e+x,a+m,0,0)}}this.qa.arrange(this,h,this.xg)}},q.Kh=function(t){var e=this.naturalBounds,o=Yh(this);if(hi(0,0,e.width,e.height,t.x,t.y)){for(var a=(e=this.W.j).length,h=J.allocAt(0,0);a--;){var c=e[a];if((c.visible||c===o)&&(qt(h.set(t),c.transform),c.$(h)))return J.free(h),!0}return J.free(h),!(null===this.mb&&null===this.ec)}return!1},q.Gt=function(t){if(this.dl===t)return this;for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a].Gt(t);if(null!==h)return h}return null},q.an=function(t,e){if(e(this,t),t instanceof pe)for(var o=(t=t.W.j).length,a=0;a<o;a++)this.an(t[a],e)},q.ym=function(t){return uv(this,this,t)},q.bb=function(t){if(this.name===t)return this;var e=this.W.j,o=e.length;null===this.Ci&&null===this.te||(o=rp(this));for(var a=0;a<o;a++){var h=e[a];if(h instanceof pe){var c=h.bb(t);if(null!==c)return c}if(h.name===t)return h}return null},q.he=function(){return!(this.type===pe.TableRow||this.type===pe.TableColumn)},q.Vb=function(t,e,o){if(!1===this.pickable||(void 0===e&&(e=null),void 0===o&&(o=null),hs(this)))return null;var a=this.naturalBounds,h=1/this.Af(),c=this.he(),m=c?t:qt(J.allocAt(t.x,t.y),this.transform),x=this.diagram,S=10,E=5;if(null!==x&&(E=(S=x.Bm("extraTouchArea"))/2),hi(-E*h,-E*h,a.width+S*h,a.height+S*h,m.x,m.y)){if(!this.isAtomic){var P=(h=this.W.j).length;if(x=J.alloc(),E=(S=this.isClipping&&this.qa===pe.Spot)?this.tb():null,S&&(E.he()?qt(x.set(t),E.transform):x.set(t),!E.$(x)))return J.free(x),c||J.free(m),null;for(var N=Yh(this);P--;){var nt=h[P];if((nt.visible||nt===N)&&(nt.he()?qt(x.set(t),nt.transform):x.set(t),!S||nt!==E)){var at=null;if(nt instanceof pe?at=nt.Vb(x,e,o):!0===nt.pickable&&nt.$(x)&&(at=nt),null!==at&&(null!==e&&(at=e(at)),null!==at&&(null===o||o(at))))return J.free(x),c||J.free(m),at}}J.free(x)}return null===this.background&&null===this.areaBackground?(c||J.free(m),null):(t=hi(0,0,a.width,a.height,m.x,m.y)?this:null,c||J.free(m),t)}return c||J.free(m),null},q.hj=function(t,e,o,a){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var h=this.naturalBounds,c=this.he(),m=c?t:qt(J.allocAt(t.x,t.y),this.transform);if(h=hi(0,0,h.width,h.height,m.x,m.y),this.type===pe.TableRow||this.type===pe.TableColumn||h){if(!this.isAtomic){for(var x=this.W.j,S=x.length,E=J.alloc(),P=Yh(this);S--;){var N=x[S];if(N.visible||N===P){N.he()?qt(E.set(t),N.transform):E.set(t);var nt=N;(null!==(N=N instanceof pe?N:null)?N.hj(E,e,o,a):nt.$(E))&&!1!==nt.pickable&&(null!==e&&(nt=e(nt)),null===nt||null!==o&&!o(nt)||a.add(nt))}}J.free(E)}return c||J.free(m),h&&(null!==this.background||null!==this.areaBackground)}return c||J.free(m),!1},q.zf=function(t,e,o,a,h,c){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var m=c;if(void 0===c&&(m=di.alloc()).reset(),m.multiply(this.transform),this.Jh(t,m))return _b(this,e,o,h),void 0===c&&di.free(m),!0;if(this.Mc(t,m)){if(!this.isAtomic)for(var x=Yh(this),S=this.W.j,E=S.length;E--;){var P=S[E];if(P.visible||P===x){var N=P.actualBounds,nt=this.naturalBounds;N.x>nt.width||N.y>nt.height||0>N.x+N.width||0>N.y+N.height||(N=P,P=P instanceof pe?P:null,(nt=di.alloc()).set(m),(null!==P?P.zf(t,e,o,a,h,nt):B1(N,t,a,nt))&&(null!==e&&(N=e(N)),null===N||null!==o&&!o(N)||h.add(N)),di.free(nt))}}return void 0===c&&di.free(m),a}return void 0===c&&di.free(m),!1},q.Eg=function(t,e,o,a,h,c){if(!1===this.pickable)return!1;void 0===o&&(o=null),void 0===a&&(a=null);var m=this.naturalBounds,x=this.he(),S=x?t:qt(J.allocAt(t.x,t.y),this.transform),E=x?e:qt(J.allocAt(e.x,e.y),this.transform),P=S.Ie(E),N=0<S.x&&S.x<m.width&&0<S.y&&S.y<m.height||ae(S.x,S.y,0,0,0,m.height)<=P||ae(S.x,S.y,0,m.height,m.width,m.height)<=P||ae(S.x,S.y,m.width,m.height,m.width,0)<=P||ae(S.x,S.y,m.width,0,0,0)<=P;if(m=S.qd(0,0)<=P&&S.qd(0,m.height)<=P&&S.qd(m.width,0)<=P&&S.qd(m.width,m.height)<=P,x||(J.free(S),J.free(E)),N){if(!this.isAtomic){S=J.alloc(),E=J.alloc(),P=Yh(this);for(var nt=this.W.j,at=nt.length;at--;){var rt=nt[at];if(rt.visible||rt===P){var _t=rt.actualBounds,It=this.naturalBounds;(!x||!(_t.x>It.width||_t.y>It.height||0>_t.x+_t.width||0>_t.y+_t.height))&&(rt.he()?(_t=rt.transform,qt(S.set(t),_t),qt(E.set(e),_t)):(S.set(t),E.set(e)),_t=rt,(null!==(rt=rt instanceof pe?rt:null)?rt.Eg(S,E,o,a,h,c):_t.sy(S,E,h))&&(null!==o&&(_t=o(_t)),null===_t||null!==a&&!a(_t)||c.add(_t)))}}J.free(S),J.free(E)}return h?N:m}return!1},q.add=function(t){this.wb(this.W.count,t)},q.J=function(t){return this.W.J(t)},q.wb=function(t,e){e instanceof Ye&&R("Cannot add a Part to a Panel: "+e+"; use a Panel instead"),(this===e||this.Gg(e))&&(this===e&&R("Cannot make a Panel contain itself: "+this.toString()),R("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+e.toString()));var o=e.panel;if(null!==o&&o!==this&&R("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+e.toString()+", already contained by "+o.toString()+", cannot be shared by this Panel: "+this.toString()),this.qa!==pe.Grid||e instanceof qe||R("Can only add Shapes to a Grid Panel, not: "+e),this.qa!==pe.Graduated||e instanceof qe||e instanceof Gi||R("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+e),e.sj(this),e.ak=null,null!==this.itemArray){var a=e.data;null!==a&&"object"==typeof a&&(null===this.Zd&&(this.Zd=new ot),this.Zd.add(a,e))}var h=this.W;if(a=-1,o===this){for(var c=-1,m=this.W.j,x=m.length,S=0;S<x;S++)if(m[S]===e){c=S;break}if(-1!==c){if(c===t||c+1>=h.count&&t>=h.count)return;h.cb(c),a=c}else R("element "+e.toString()+" has panel "+o.toString()+" but is not contained by it.")}(0>t||t>h.count)&&(t=h.count),h.wb(t,e),(0===t||e.isPanelMain)&&(this.Ui=null),Hh(this)||this.s(),e.s(!1),(null!==e.portId||e instanceof pe&&!0===e.Nh)&&(this.Nh=!0),this.eh=null,null!==(o=this.part)&&(o.Xj=null,o.kh=NaN,this.Nh&&o instanceof Fe&&(o.Nh=!0),o.Nh&&o instanceof Fe&&(o.tc=null),null!==(h=this.diagram)&&h.undoManager.isUndoingRedoing||(-1!==a&&o.Va(_i,"elements",this,e,null,a,null),o.Va(hr,"elements",this,null,e,null,t),this.Hg()||tx(this,e,!1)))},q.remove=function(t){for(var e=this.W.j,o=e.length,a=-1,h=0;h<o;h++)if(e[h]===t){a=h;break}-1!==a&&this.Lc(a,!0)},q.cb=function(t){0<=t&&this.Lc(t,!0)},q.Lc=function(t,e){var o=this.W,a=o.J(t);if(a.ak=null,a.sj(null),null!==this.Zd){var h=a.data;"object"==typeof h&&this.Zd.remove(h)}o.cb(t),Xo(this,!1),this.s(),this.Ui===a&&(this.Ui=null),this.eh=null;var c=this.part;null!==c&&(c.Xj=null,c.kh=NaN,c.Lb(),c instanceof Fe&&(a instanceof pe?a.an(a,function(m,x){lm(c,x,e)}):lm(c,a,e)),null!==(o=this.diagram)&&o.undoManager.isUndoingRedoing||c.Va(_i,"elements",this,a,null,t,null))},pe.prototype.getRowDefinition=function(t){0>t&&Z(t,">= 0",pe,"getRowDefinition:idx"),t=Math.round(t);var e=this.qb;if(void 0===e)return null;if(void 0===e[t]){var o=new nr;o.sj(this),o.isRow=!0,o.index=t,e[t]=o,this.Va(hr,"rowdefs",this,null,o,null,t)}return e[t]},pe.prototype.XA=function(t){0>t&&Z(t,">= 0",pe,"removeRowDefinition:idx"),t=Math.round(t);var e=this.qb;if(void 0!==e){var o=e[t];if(o){e[t]=void 0;for(var a=e.length-1;0<=a&&void 0===e[a--];)e.length--;this.Va(_i,"rowdefs",this,o,null,t,null),this.s()}}},pe.prototype.getColumnDefinition=function(t){0>t&&Z(t,">= 0",pe,"getColumnDefinition:idx"),t=Math.round(t);var e=this.nb;if(void 0===e)return null;if(void 0===e[t]){var o=new nr;o.sj(this),o.isRow=!1,o.index=t,e[t]=o,this.Va(hr,"coldefs",this,null,o,null,t)}return e[t]},(q=pe.prototype).SA=function(t){0>t&&Z(t,">= 0",pe,"removeColumnDefinition:idx"),t=Math.round(t);var e=this.nb;if(void 0!==e){var o=e[t];if(o){e[t]=void 0;for(var a=e.length-1;0<=a&&void 0===e[a--];)e.length--;this.Va(_i,"coldefs",this,o,null,t,null),this.s()}}},q.aA=function(t){if(0>t||this.type!==pe.Table)return-1;for(var e=0,o=this.qb,a=o.length,h=this.Xi;h<a;h++){var c=o[h];if(void 0!==c&&t<(e+=c.total))break}return h},q.Tz=function(t){if(0>t||this.type!==pe.Table)return-1;for(var e=0,o=this.nb,a=o.length,h=this.Gi;h<a;h++){var c=o[h];if(void 0!==c&&t<(e+=c.total))break}return h},q.qA=function(t,e){if(void 0===e&&(e=new J(NaN,NaN)),this.type!==pe.Graduated)return e.h(NaN,NaN),e;t=Math.min(Math.max(t,this.graduatedMin),this.graduatedMax);var o=this.tb();return o.geometry.Xv((t-this.graduatedMin)/this.graduatedRange,e),o.transform.ta(e)},q.rA=function(t){if(this.type!==pe.Graduated)return NaN;var e=this.tb();return e.transform.Jd(t),e.geometry.wy(t)*this.graduatedRange+this.graduatedMin},q.Gz=function(t){void 0===t&&(t=!1);var e=this.copy();return Z1(e,function(o){o instanceof pe&&(o.li=null,o.ob=null);var a=o.fb;null!==a&&(o.fb=null,a.each(function(h){o.bind(h.copy())})),null!==(a=o.Mg)&&(o.Mg=null,a.each(function(h){o.Qw(h.value.copy())}))}),t&&Jo(e),e},q.Ea=function(t){var e=this.li;if(null!==e)for(void 0===t&&(t=""),e=e.iterator;e.next();){var o=e.value,a=o.sourceProperty;if((""===t||""===a||a===t)&&(a=o.targetProperty,null!==o.converter||""!==a)){a=this.data;var h=o.sourceName;if(null!==h){if(""===h)a=this;else if("/"===h)a=this;else if("."===h)a=this;else if(".."===h)a=this;else if(null===(a=this.bb(h)))continue}else if(o.isToModel){if(null===(a=this.diagram))continue;a=a.model.modelData}var c=this,m=o.wj;if(-1!==m){if(null===(c=this.Gt(m)))continue}else null!==o.pd&&(c=o.pd);if("/"===h?a=c.part:"."===h?a=c:".."===h&&(a=c.panel),0!==(h=o.hq)){if(!(c instanceof pe))continue;1===h?c=c.getColumnDefinition(o.om):2===h&&(c=c.getRowDefinition(o.om))}void 0!==c&&o.Tw(c,a)}}},q.eu=function(){for(var t=rp(this);this.W.length>t;)this.Lc(this.W.length-1,!1);if(null!==(t=this.itemArray))for(var e=t.length,o=0;o<e;o++)Sb(this,t[o],o)},q.qy=function(t){return null==t||null===this.Zd?null:this.Zd.G(t)},B.Object.defineProperties(pe.prototype,{type:{get:function(){return this.qa},set:function(t){var e=this.qa;e!==t&&(this.qa=t,this.qa===pe.Grid?this.isAtomic=!0:this.qa===pe.Table&&np(this),this.s(),this.g("type",e,t))}},elements:{get:function(){return this.W.iterator}},naturalBounds:{get:function(){return this.rc}},padding:{get:function(){return this.ib},set:function(t){"number"==typeof t?(0>t&&Z(t,">= 0",pe,"padding"),t=new oi(t)):(0>t.left&&Z(t.left,">= 0",pe,"padding:value.left"),0>t.right&&Z(t.right,">= 0",pe,"padding:value.right"),0>t.top&&Z(t.top,">= 0",pe,"padding:value.top"),0>t.bottom&&Z(t.bottom,">= 0",pe,"padding:value.bottom"));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.s(),this.g("padding",e,t))}},defaultAlignment:{get:function(){return this.Mn},set:function(t){var e=this.Mn;e.w(t)||(this.Mn=t=t.H(),this.s(),this.g("defaultAlignment",e,t))}},defaultStretch:{get:function(){return this.Sf},set:function(t){var e=this.Sf;e!==t&&(this.Sf=t,this.s(),this.g("defaultStretch",e,t))}},defaultSeparatorPadding:{get:function(){return void 0===this.Fj?an:this.Fj},set:function(t){if(void 0!==this.Fj){"number"==typeof t&&(t=new oi(t));var e=this.Fj;e.w(t)||(this.Fj=t=t.H(),this.s(),this.g("defaultSeparatorPadding",e,t))}}},defaultRowSeparatorStroke:{get:function(){return void 0===this.si?null:this.si},set:function(t){var e=this.si;e!==t&&(null===t||"string"==typeof t||t instanceof Ei)&&(t instanceof Ei&&t.freeze(),this.si=t,this.M(),this.g("defaultRowSeparatorStroke",e,t))}},defaultRowSeparatorStrokeWidth:{get:function(){return void 0===this.Ug?1:this.Ug},set:function(t){if(void 0!==this.Ug){var e=this.Ug;e!==t&&isFinite(t)&&0<=t&&(this.Ug=t,this.s(),this.g("defaultRowSeparatorStrokeWidth",e,t))}}},defaultRowSeparatorDashArray:{get:function(){return void 0===this.ri?null:this.ri},set:function(t){if(void 0!==this.ri){var e=this.ri;if(e!==t){if(null!==t){for(var o=t.length,a=0,h=0;h<o;h++){var c=t[h];"number"==typeof c&&0<=c&&isFinite(c)||R("defaultRowSeparatorDashArray value "+c+" at index "+h+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.ri=t,this.M(),this.g("defaultRowSeparatorDashArray",e,t)}}}},defaultColumnSeparatorStroke:{get:function(){return void 0===this.Sg?null:this.Sg},set:function(t){if(void 0!==this.Sg){var e=this.Sg;e!==t&&(null===t||"string"==typeof t||t instanceof Ei)&&(t instanceof Ei&&t.freeze(),this.Sg=t,this.M(),this.g("defaultColumnSeparatorStroke",e,t))}}},defaultColumnSeparatorStrokeWidth:{get:function(){return void 0===this.Tg?1:this.Tg},set:function(t){if(void 0!==this.Tg){var e=this.Tg;e!==t&&isFinite(t)&&0<=t&&(this.Tg=t,this.s(),this.g("defaultColumnSeparatorStrokeWidth",e,t))}}},defaultColumnSeparatorDashArray:{get:function(){return void 0===this.pi?null:this.pi},set:function(t){if(void 0!==this.pi){var e=this.pi;if(e!==t){if(null!==t){for(var o=t.length,a=0,h=0;h<o;h++){var c=t[h];"number"==typeof c&&0<=c&&isFinite(c)||R("defaultColumnSeparatorDashArray value "+c+" at index "+h+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.pi=t,this.M(),this.g("defaultColumnSeparatorDashArray",e,t)}}}},viewboxStretch:{get:function(){return this.pq},set:function(t){var e=this.pq;e!==t&&(this.pq=t,this.s(),this.g("viewboxStretch",e,t))}},gridCellSize:{get:function(){return this.no},set:function(t){var e=this.no;if(!e.w(t)){t.o()&&0!==t.width&&0!==t.height||R("Invalid Panel.gridCellSize: "+t),this.no=t.H();var o=this.diagram;null!==o&&this===o.grid&&Du(o),this.M(),this.g("gridCellSize",e,t)}}},gridOrigin:{get:function(){return this.oo},set:function(t){var e=this.oo;if(!e.w(t)){t.o()||R("Invalid Panel.gridOrigin: "+t),this.oo=t.H();var o=this.diagram;null!==o&&this===o.grid&&Du(o),this.M(),this.g("gridOrigin",e,t)}}},graduatedMin:{get:function(){return this.ko},set:function(t){var e=this.ko;e!==t&&(this.ko=t,this.s(),this.g("graduatedMin",e,t),Au(this)&&null!==(t=this.part)&&qa(this,t,"graduatedRange"))}},graduatedMax:{get:function(){return this.jo},set:function(t){var e=this.jo;e!==t&&(this.jo=t,this.s(),this.g("graduatedMax",e,t),Au(this)&&null!==(t=this.part)&&qa(this,t,"graduatedRange"))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return this.mo},set:function(t){var e=this.mo;e!==t&&0<t&&(this.mo=t,this.s(),this.g("graduatedTickUnit",e,t))}},graduatedTickBase:{get:function(){return this.lo},set:function(t){var e=this.lo;e!==t&&(this.lo=t,this.s(),this.g("graduatedTickBase",e,t))}},Nh:{get:function(){return 0!=(8388608&this.F)},set:function(t){0!=(8388608&this.F)!==t&&(this.F^=8388608)}},rowCount:{get:function(){return void 0===this.qb?0:this.qb.length}},columnCount:{get:function(){return void 0===this.nb?0:this.nb.length}},rowSizing:{get:function(){return void 0===this.dk?pv:this.dk},set:function(t){if(void 0!==this.dk){var e=this.dk;e!==t&&(this.dk=t,this.s(),this.g("rowSizing",e,t))}}},columnSizing:{get:function(){return void 0===this.Cj?pv:this.Cj},set:function(t){if(void 0!==this.Cj){var e=this.Cj;e!==t&&(this.Cj=t,this.s(),this.g("columnSizing",e,t))}}},topIndex:{get:function(){return void 0===this.Xi?0:this.Xi},set:function(t){if(void 0!==this.Xi){var e=this.Xi;e!==t&&((!isFinite(t)||0>t)&&R("Panel.topIndex must be greater than zero and a real number, not: "+t),this.Xi=t,this.s(),this.g("topIndex",e,t))}}},leftIndex:{get:function(){return void 0===this.Gi?0:this.Gi},set:function(t){if(void 0!==this.Gi){var e=this.Gi;e!==t&&((!isFinite(t)||0>t)&&R("Panel.leftIndex must be greater than zero and a real number, not: "+t),this.Gi=t,this.s(),this.g("leftIndex",e,t))}}},data:{get:function(){return this.ob},set:function(t){var e=this.ob;if(e!==t){var o=this instanceof Ye&&!(this instanceof Ci);Jo(this),this.ob=t;var a=this.diagram;null!==a&&(o?(o=a.partManager,this instanceof Ce?(null!==e&&o.Te.remove(e),null!==t&&o.Te.add(t,this)):this instanceof Ye&&(null!==e&&o.Ue.remove(e),null!==t&&o.Ue.add(t,this))):null!==(o=this.panel)&&null!==o.Zd&&(null!==e&&o.Zd.remove(e),null!==t&&o.Zd.add(t,this))),this.g("data",e,t),null!==a&&a.undoManager.isUndoingRedoing||null!==t&&this.Ea()}}},itemIndex:{get:function(){return this.Do},set:function(t){var e=this.Do;e!==t&&(this.Do=t,this.g("itemIndex",e,t))}},itemArray:{get:function(){return this.Ci},set:function(t){var e=this.Ci;if(e!==t||null!==t&&function(t,e){for(var o=(t=t.W.j).length,a=e.length,h=0,c=null;h<o&&!((c=t[h])instanceof pe&&null!==c.data);)c=t[++h];if(o-h!==a)return!0;if(null===c)return 0<a;for(var m=0;h<o&&m<a;){if(!((c=t[h])instanceof pe)||c.data!==e[m])return!0;h++,m++}return!1}(this,t)){var o=this.diagram;e!==t&&(null!==o&&null!==e&&Gv(o.partManager,this,o),this.Ci=t,null!==o&&null!==t&&Gx(o.partManager,this)),this.g("itemArray",e,t),null!==o&&o.undoManager.isUndoingRedoing||this.eu()}}},itemTemplate:{get:function(){return null===this.te?null:this.te.G("")},set:function(t){if(null===this.te){if(null===t)return;this.te=new ot}var e=this.te.G("");e!==t&&((t instanceof Ye||t.isPanelMain)&&R("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+t),this.te.add("",t),this.g("itemTemplate",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.eu())}},itemTemplateMap:{get:function(){return this.te},set:function(t){var e=this.te;if(e!==t){for(var o=t.iterator;o.next(););this.te=t,this.g("itemTemplateMap",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.eu()}}},itemCategoryProperty:{get:function(){return this.Jl},set:function(t){var e=this.Jl;e!==t&&(this.Jl=t,this.g("itemCategoryProperty",e,t))}},isAtomic:{get:function(){return 0!=(1048576&this.F)},set:function(t){var e=0!=(1048576&this.F);e!==t&&(this.F^=1048576,this.g("isAtomic",e,t))}},isClipping:{get:function(){return 0!=(2097152&this.F)},set:function(t){var e=0!=(2097152&this.F);e!==t&&(!t||this.type===pe.Spot||this instanceof Je||Q("Warning: Panel.isClipping set on non-Spot Panel: "+this.toString()),this.F^=2097152,this instanceof Je&&(this.Za=null),this.s(),this.g("isClipping",e,t))}},isOpposite:{get:function(){return 0!=(33554432&this.F)},set:function(t){var e=0!=(33554432&this.F);e!==t&&(this.F^=33554432,this.s(),this.g("isOpposite",e,t))}},isEnabled:{get:function(){return 0!=(4194304&this.F)},set:function(t){var e=0!=(4194304&this.F);if(e!==t){var o=null===this.panel||this.panel.Hg();this.F^=4194304,this.g("isEnabled",e,t),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||o&&tx(this,this,t)}}},alignmentFocusName:{get:function(){return this.Lg},set:function(t){var e=this.Lg;e!==t&&(this.Lg=t,this.s(),this.g("alignmentFocusName",e,t))}}}),B.Object.defineProperties(pe,{Position:{get:function(){return Aa.G("Position")}},Horizontal:{get:function(){return Aa.G("Horizontal")}},Vertical:{get:function(){return Aa.G("Vertical")}},Spot:{get:function(){return Aa.G("Spot")}},Auto:{get:function(){return Aa.G("Auto")}},Table:{get:function(){return Aa.G("Table")}},Viewbox:{get:function(){return Aa.G("Viewbox")}},TableRow:{get:function(){return Aa.G("TableRow")}},TableColumn:{get:function(){return Aa.G("TableColumn")}},Link:{get:function(){return Aa.G("Link")}},Grid:{get:function(){return Aa.G("Grid")}},Graduated:{get:function(){return Aa.G("Graduated")}}}),pe.prototype.findItemPanelForData=pe.prototype.qy,pe.prototype.rebuildItemElements=pe.prototype.eu,pe.prototype.updateTargetBindings=pe.prototype.Ea,pe.prototype.copyTemplate=pe.prototype.Gz,pe.prototype.graduatedValueForPoint=pe.prototype.rA,pe.prototype.graduatedPointForValue=pe.prototype.qA,pe.prototype.findColumnForLocalX=pe.prototype.Tz,pe.prototype.findRowForLocalY=pe.prototype.aA,pe.prototype.removeColumnDefinition=pe.prototype.SA,pe.prototype.removeRowDefinition=pe.prototype.XA,pe.prototype.removeAt=pe.prototype.cb,pe.prototype.remove=pe.prototype.remove,pe.prototype.insertAt=pe.prototype.wb,pe.prototype.elt=pe.prototype.J,pe.prototype.add=pe.prototype.add,pe.prototype.findObject=pe.prototype.bb,pe.prototype.findInVisualTree=pe.prototype.ym,pe.prototype.walkVisualTreeFrom=pe.prototype.an,pe.prototype.findMainElement=pe.prototype.tb;var ex=!1,Db=null,Aa=new ot;function nr(){Kt(this),this.og=null,this.ns=!0,this.Ra=0,this.ad=NaN,this.nh=0,this.lh=1/0,this.yb=eo,this.la=this.bc=this.ha=0,this.fb=null,this.Yp=ix,this.De=ka,this.Up=this.sg=null,this.Vp=NaN,this.mb=this.fk=null,this.In=!1}function fv(t){if(t.sizing===ix){var e=t.og;return t.isRow?e.rowSizing:e.columnSizing}return t.sizing}pe.className="Panel",pe.definePanelLayout=da,da("Position",new tv),da("Vertical",new iv),da("Auto",new rv),da("Link",new Y0),nr.prototype.copy=function(){var t=new nr;return t.ns=this.ns,t.Ra=this.Ra,t.ad=this.ad,t.nh=this.nh,t.lh=this.lh,t.yb=this.yb,t.ha=this.ha,t.bc=this.bc,t.la=this.la,t.De=this.De,t.Yp=this.Yp,t.sg=null===this.sg?null:this.sg.H(),t.Up=this.Up,t.Vp=this.Vp,t.fk=null,null!==this.fk&&(t.separatorDashArray=dt(this.separatorDashArray)),t.mb=this.mb,t.In=this.In,t.fb=this.fb,t},(q=nr.prototype).gy=function(t){t.isRow?this.height=t.height:this.width=t.width,this.minimum=t.minimum,this.maximum=t.maximum,this.alignment=t.alignment,this.stretch=t.stretch,this.sizing=t.sizing,this.sg=null===t.separatorPadding?null:t.separatorPadding.H(),this.separatorStroke=t.separatorStroke,this.separatorStrokeWidth=t.separatorStrokeWidth,this.fk=null,t.separatorDashArray&&(this.fk=dt(t.separatorDashArray)),this.background=t.background,this.coversSeparators=t.coversSeparators,this.fb=t.fb},q.jb=function(t){t.classType===nr&&(this.sizing=t)},q.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+Jt(this)},q.sj=function(t){this.og=t},q.Jv=function(){var t=0,e=0,o=this.og,a=this.isRow;if(null!==o&&o.type===pe.Table)for(var h=a?o.qb.length:o.nb.length,c=0;c<h;c++){var m=a?o.qb[c]:o.nb[c];if(void 0!==m){e=m.index;break}}if(this.index!==e&&(null===(e=this.separatorStroke)&&null!==o&&(e=this.isRow?o.defaultRowSeparatorStroke:o.defaultColumnSeparatorStroke),null!==e&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==o?this.isRow?o.defaultRowSeparatorStrokeWidth:o.defaultColumnSeparatorStrokeWidth:0))),null===(e=this.sg)){if(null===o)return t;e=o.defaultSeparatorPadding}return t+(this.isRow?e.top:e.left)},q.wc=function(){var t=0,e=this.og,o=0,a=this.isRow;if(null!==e&&e.type===pe.Table)for(var h=a?e.qb.length:e.nb.length,c=0;c<h;c++){var m=a?e.qb[c]:e.nb[c];if(void 0!==m){o=m.index;break}}if(this.index!==o&&(null===(o=this.separatorStroke)&&null!==e&&(o=a?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==o&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==e?a?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth:0))),null===(a=this.sg)){if(null===e)return t;a=e.defaultSeparatorPadding}return t+(this.isRow?a.top+a.bottom:a.left+a.right)},q.Bb=function(t,e,o){var a=this.og;if(null!==a&&(a.Va(pn,t,this,e,o,void 0,void 0),null!==this.fb&&null!==(e=a.diagram)&&!e.skipsModelSourceBindings&&null!==(a=a.ij())&&null!==(e=a.data)))for(o=this.fb.iterator;o.next();)o.value.jr(this,e,t,a)},q.bind=function(t){t.pd=this;var e=this.panel;if(null!==e){var o=e.ij();null!==o&&Q1(o)&&R("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+t+" on "+e)}null===this.fb&&(this.fb=new St),this.fb.add(t)},B.Object.defineProperties(nr.prototype,{panel:{get:function(){return this.og}},isRow:{get:function(){return this.ns},set:function(t){this.ns=t}},index:{get:function(){return this.Ra},set:function(t){this.Ra=t}},height:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(0>t&&Z(t,">= 0",nr,"height"),this.ad=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("height",e,t))}},width:{get:function(){return this.ad},set:function(t){var e=this.ad;e!==t&&(0>t&&Z(t,">= 0",nr,"width"),this.ad=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("width",e,t))}},minimum:{get:function(){return this.nh},set:function(t){var e=this.nh;e!==t&&((0>t||!isFinite(t))&&Z(t,">= 0",nr,"minimum"),this.nh=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("minimum",e,t))}},maximum:{get:function(){return this.lh},set:function(t){var e=this.lh;e!==t&&(0>t&&Z(t,">= 0",nr,"maximum"),this.lh=t,this.actual=this.ha,null!==this.panel&&this.panel.s(),this.Bb("maximum",e,t))}},alignment:{get:function(){return this.yb},set:function(t){var e=this.yb;e.w(t)||(this.yb=t.H(),null!==this.panel&&this.panel.s(),this.Bb("alignment",e,t))}},stretch:{get:function(){return this.De},set:function(t){var e=this.De;e!==t&&(this.De=t,null!==this.panel&&this.panel.s(),this.Bb("stretch",e,t))}},separatorPadding:{get:function(){return this.sg},set:function(t){"number"==typeof t&&(t=new oi(t));var e=this.sg;null!==t&&null!==e&&e.w(t)||(null!==t&&(t=t.H()),this.sg=t,null!==this.panel&&this.panel.s(),this.Bb("separatorPadding",e,t))}},separatorStroke:{get:function(){return this.Up},set:function(t){var e=this.Up;e!==t&&(null!==t&&Pl(t,"RowColumnDefinition.separatorStroke"),t instanceof Ei&&t.freeze(),this.Up=t,null!==this.panel&&this.panel.s(),this.Bb("separatorStroke",e,t))}},separatorStrokeWidth:{get:function(){return this.Vp},set:function(t){var e=this.Vp;e!==t&&(this.Vp=t,null!==this.panel&&this.panel.s(),this.Bb("separatorStrokeWidth",e,t))}},separatorDashArray:{get:function(){return this.fk},set:function(t){var e=this.fk;if(e!==t){if(null!==t){for(var o=t.length,a=0,h=0;h<o;h++){var c=t[h];"number"==typeof c&&0<=c&&isFinite(c)||R("separatorDashArray value "+c+" at index "+h+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.fk=t,null!==this.panel&&this.panel.M(),this.Bb("separatorDashArray",e,t)}}},background:{get:function(){return this.mb},set:function(t){var e=this.mb;e!==t&&(null!==t&&Pl(t,"RowColumnDefinition.background"),t instanceof Ei&&t.freeze(),this.mb=t,null!==this.panel&&this.panel.M(),this.Bb("background",e,t))}},coversSeparators:{get:function(){return this.In},set:function(t){var e=this.In;e!==t&&(this.In=t,null!==this.panel&&this.panel.M(),this.Bb("coversSeparators",e,t))}},sizing:{get:function(){return this.Yp},set:function(t){var e=this.Yp;e!==t&&(this.Yp=t,null!==this.panel&&this.panel.s(),this.Bb("sizing",e,t))}},actual:{get:function(){return this.ha},set:function(t){this.ha=isNaN(this.ad)?Math.max(Math.min(this.lh,t),this.nh):Math.max(Math.min(this.lh,this.ad),this.nh)}},measured:{get:function(){return this.bc},set:function(t){this.bc=t}},total:{get:function(){return this.ha+this.wc()},set:function(t){this.ha=isNaN(this.ad)?Math.max(Math.min(this.lh,t),this.nh):Math.max(Math.min(this.lh,this.ad),this.nh),this.ha=Math.max(0,this.ha-this.wc())}},position:{get:function(){return this.la},set:function(t){this.la=t}}}),nr.prototype.bind=nr.prototype.bind,nr.prototype.computeEffectiveSpacing=nr.prototype.wc,nr.prototype.computeEffectiveSpacingTop=nr.prototype.Jv;var ix=new ct(nr,"Default",0),dv=new ct(nr,"None",1),pv=new ct(nr,"ProportionalExtra",2);function qe(){Ge.call(this),this.Ed=this.na=null,this.Yn="None",this.ho=ka,this.Hc=this.tl="black",this.wh=1,this.km="butt",this.lm="miter",this.gk=10,this.uh=null,this.vh=0,this.qf=this.pf=eo,this.tp=this.sp=NaN,this.vo=!1,this.wp=null,this.ul=this.rm="None",this.Yd=1,this.Wd=0,this.Ud=1,this.Vd=null}function No(t,e,o,a){var h=o.length;if(!(4>h)){var c=a.measuredBounds,m=Math.max(1,c.width);c=c.height;for(var E,P,N,nt,at,rt,x=o[0],S=o[1],_t=0,It=u(),Pt=2;Pt<h;Pt+=2)0==(N=(E=o[Pt])-x)&&(N=.001),nt=(x=(P=o[Pt+1])-S)/N,at=Math.atan2(x,N),rt=Math.sqrt(N*N+x*x),It.push([N,at,nt,rt]),_t+=rt,x=E,S=P;x=o[0],S=o[1],N=a.measuredBounds.width,a instanceof qe&&(N-=a.strokeWidth),1>N&&(N=1),h=o=N,P=0!=(E=m/2),N=(rt=It[Pt=0])[0],at=rt[1],nt=rt[2],rt=rt[3];for(var Vt=0;.1<=_t;){if(0===Vt&&(P?(h=o,h-=E,_t-=E,P=!1):h=o,0===h&&(h=1)),h>_t)return void p(It);h>rt?(Vt=h-rt,h=rt):Vt=0;var Ht=Math.sqrt(h*h/(1+nt*nt));if(0>N&&(Ht=-Ht),t.translate(x+=Ht,S+=nt*Ht),t.rotate(at),t.translate(-m/2,-c/2),0===Vt&&a.ej(t,e),t.translate(m/2,c/2),t.rotate(-at),t.translate(-x,-S),_t-=h,rt-=h,0!==Vt){if(++Pt===It.length)return void p(It);N=(rt=It[Pt])[0],at=rt[1],nt=rt[2],rt=rt[3],h=Vt}}p(It)}}function X0(t){var e=t.geometryStretch;return null!==t.Ed?e===ka?zn:e:e===ka?nx[t.figure].defaultStretch:e}function K0(t,e,o,a,h){return(e=(t=o.x-t)*t+(e=o.y-e)*e)<a?(h.x=o.x,h.y=o.y,e):a}function Z0(t,e,o,a,h,c,m,x,S){var E=!1,P=(h-m)*(e-a)-(c-x)*(t-o);return 0!==P&&(S.x=((h*x-c*m)*(t-o)-(h-m)*(t*a-e*o))/P,S.y=((h*x-c*m)*(e-a)-(c-x)*(t*a-e*o))/P,(t>o?t-o:o-t)<(e>a?e-a:a-e)?(t=e<a?e:a,e=e<a?a:e,(S.y>t||Zt.aa(S.y,t))&&(S.y<e||Zt.aa(S.y,e))&&(E=!0)):(e=t<o?t:o,t=t<o?o:t,(S.x>e||Zt.aa(S.x,e))&&(S.x<t||Zt.aa(S.x,t))&&(E=!0)),E)}function Jr(t,e,o,a){if(!t.Nt(e,o,a))return!1;t=e.x,e=e.y;var h=o.x,c=o.y;return o=a.x,a=a.y,t===h?(e<c?(t=e,e=c):t=c,a>=t&&a<=e):(t<h?(a=t,t=h):a=h,o>=a&&o<=t)}function op(t){var e=t.diagram;null!==e&&e.undoManager.isUndoingRedoing||(t.segmentOrientation=pp,"None"!==t.rm?(t.segmentIndex=-1,t.alignmentFocus=En):"None"!==t.ul&&(t.segmentIndex=0,t.alignmentFocus=new He(1-En.x,En.y)))}function mv(t){var e=Il[t];if(void 0===e){var o=t.toLowerCase();if("none"===o)return"None";if(void 0===(e=Il[o])){var h,a=null;for(h in Zt.dn)if(h.toLowerCase()===o){a=h;break}if(null!==a)return t=sf(Zt.dn[a],!1),Il[a]=t,o!==a&&(Il[o]=a),a}}return"string"==typeof e?e:e instanceof pi?t:null}nr.className="RowColumnDefinition",nr.Default=ix,nr.None=dv,nr.ProportionalExtra=pv,z(qe,Ge),qe.prototype.cloneProtected=function(t){Ge.prototype.cloneProtected.call(this,t),t.na=this.na,t.Yn=this.Yn,t.ho=this.ho,t.Ed=this.Ed,t.tl=this.tl,t.Hc=this.Hc,t.wh=this.wh,t.km=this.km,t.lm=this.lm,t.gk=this.gk,null!==this.uh&&(t.uh=dt(this.uh)),t.vh=this.vh,t.pf=this.pf.H(),t.qf=this.qf.H(),t.sp=this.sp,t.tp=this.tp,t.vo=this.vo,t.wp=this.wp,t.rm=this.rm,t.ul=this.ul,t.Yd=this.Yd,t.Wd=this.Wd,t.Ud=this.Ud,t.Vd=this.Vd},(q=qe.prototype).jb=function(t){t===Nn||t===Ro||t===Kg||t===ka?this.geometryStretch=t:Ge.prototype.jb.call(this,t)},q.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+Jt(this)},q.ej=function(t,e){var o=this.Hc,a=this.tl;if(null!==o||null!==a){var h=this.actualBounds,c=this.naturalBounds;null!==a&&$o(this,t,a,!0,!1,c,h);var m=this.part,x=this.wh;null===o||0!==x||null===m||!this.isPanelMain&&m.tb()!==this||(x=m.type===pe.Link&&m instanceof Ci&&"Selection"===m.category&&m.adornedObject instanceof qe&&m.adornedPart.tb()===m.adornedObject?m.adornedObject.strokeWidth:0),0===x&&(o=null),null!==o&&0!==x&&($o(this,t,o,!1,!1,c,h),t.lineWidth=x,t.lineJoin=this.lm,t.lineCap=this.km,t.miterLimit=this.gk),h=!1,m&&e.Ke("drawShadows")&&(h=m.isShadowed),m=!0,null===o||null!==a&&"transparent"!==a||(m=!1),c=!1,null!==(x=this.strokeDashArray)&&(c=!0,t.Ft(x,this.vh));var S=this.na;if(null!==S){if(S.type===ar)t.beginPath(),t.moveTo(S.startX,S.startY),t.lineTo(S.endX,S.endY),null!==o&&t.vj();else if(S.type===Tr){var E=S.startX;x=S.startY;var P=S.endX,N=S.endY;S=Math.min(E,P);var nt=Math.min(x,N);E=Math.abs(P-E),x=Math.abs(N-x),t.beginPath(),t.rect(S,nt,E,x),null!==a&&t.Je(a),null!==o&&(m&&h&&Al(t),(0===E||0===x)&&(t.beginPath(),t.rect(S,nt,Math.max(E,.1),Math.max(x,.1))),t.vj(),m&&h&&Tl(t))}else if(S.type===_l)E=S.startX,x=S.startY,P=S.endX,N=S.endY,S=Math.abs(P-E)/2,nt=Math.abs(N-x)/2,E=Math.min(E,P)+S,x=Math.min(x,N)+nt,t.beginPath(),t.moveTo(E,x-nt),t.bezierCurveTo(E+Zt.Kg*S,x-nt,E+S,x-Zt.Kg*nt,E+S,x),t.bezierCurveTo(E+S,x+Zt.Kg*nt,E+Zt.Kg*S,x+nt,E,x+nt),t.bezierCurveTo(E-Zt.Kg*S,x+nt,E-S,x+Zt.Kg*nt,E-S,x),t.bezierCurveTo(E-S,x-Zt.Kg*nt,E-Zt.Kg*S,x-nt,E,x-nt),t.closePath(),null!==a&&t.Je(a),null!==o&&(m&&h?(Al(t),t.vj(),Tl(t)):t.vj());else if(S.type===Ls)for(S=(x=S.figures).length,nt=0;nt<S;nt++){E=x.j[nt],t.beginPath(),t.moveTo(E.startX,E.startY),N=(P=E.segments.j).length;for(var at=null,rt=0;rt<N;rt++){var _t=P[rt];switch(_t.type){case Cn:t.moveTo(_t.endX,_t.endY);break;case tr:t.lineTo(_t.endX,_t.endY);break;case Bs:t.bezierCurveTo(_t.point1X,_t.point1Y,_t.point2X,_t.point2Y,_t.endX,_t.endY);break;case ls:t.quadraticCurveTo(_t.point1X,_t.point1Y,_t.endX,_t.endY);break;case Vi:if(_t.radiusX===_t.radiusY){var It=Math.PI/180;t.arc(_t.point1X,_t.point1Y,_t.radiusX,_t.startAngle*It,(_t.startAngle+_t.sweepAngle)*It,0>_t.sweepAngle,null!==at?at.endX:E.startX,null!==at?at.endY:E.startY)}else if(0===(It=(at=oh(_t,E)).length))t.lineTo(_t.centerX,_t.centerY);else for(var Pt=0;Pt<It;Pt++){var Vt=at[Pt];0===Pt&&t.lineTo(Vt[0],Vt[1]),t.bezierCurveTo(Vt[2],Vt[3],Vt[4],Vt[5],Vt[6],Vt[7])}break;case Ms:if(Pt=It=0,null!==at&&at.type===Vi){if(0===(Vt=(at=oh(at,E)).length)){t.lineTo(_t.endX,_t.endY);break}null!==(at=at[Vt-1]||null)&&(It=at[6],Pt=at[7])}else It=null!==at?at.endX:E.startX,Pt=null!==at?at.endY:E.startY;if(0===(It=(at=af(_t,E,It,Pt)).length)){t.lineTo(_t.endX,_t.endY);break}for(Pt=0;Pt<It;Pt++)t.bezierCurveTo((Vt=at[Pt])[2],Vt[3],Vt[4],Vt[5],Vt[6],Vt[7]);break;default:R("Segment not of valid type: "+_t.type)}_t.isClosed&&t.closePath(),at=_t}P=E.isFilled,h?E.isShadowed?(!0===P&&"transparent"!==a&&null!==a&&t.Je(a),null!==o&&(P&&m&&Al(t),t.vj(),P&&m&&Tl(t))):(Al(t),P&&"transparent"!==a&&null!==a&&t.Je(a),null!==o&&t.vj(),Tl(t)):(P&&null!==a&&t.Je(a),null!==o&&t.vj())}if(c&&t.Dt(),null!==this.pathPattern){if((o=this.pathPattern).measure(1/0,1/0),o.arrange(0,0,(a=o.measuredBounds).width,a.height),h=this.geometry,t.save(),t.beginPath(),a=u(),h.type===ar)a.push(h.startX),a.push(h.startY),a.push(h.endX),a.push(h.endY),No(t,e,a,o);else if(h.type===Ls)for(h=h.figures.iterator;h.next();){for(m=h.value,a.length=0,a.push(m.startX),a.push(m.startY),S=c=m.startX,nt=x=m.startY,P=(E=m.segments.j).length,N=0;N<P;N++){switch((rt=E[N]).type){case Cn:No(t,e,a,o),a.length=0,a.push(rt.endX),a.push(rt.endY),S=c=rt.endX,nt=x=rt.endY;break;case tr:a.push(rt.endX),a.push(rt.endY),c=rt.endX,x=rt.endY;break;case Bs:Zt.Fe(c,x,rt.point1X,rt.point1Y,rt.point2X,rt.point2Y,rt.endX,rt.endY,.5,a),c=rt.endX,x=rt.endY;break;case ls:Zt.Vq(c,x,rt.point1X,rt.point1Y,rt.endX,rt.endY,.5,a),c=rt.endX,x=rt.endY;break;case Vi:if(0===(at=(_t=oh(rt,m)).length)){a.push(rt.centerX),a.push(rt.centerY),c=rt.centerX,x=rt.centerY;break}for(It=0;It<at;It++)Zt.Fe(c,x,(Pt=_t[It])[2],Pt[3],Pt[4],Pt[5],Pt[6],Pt[7],.5,a),c=Pt[6],x=Pt[7];break;case Ms:if(0===(at=(_t=af(rt,m,c,x)).length)){a.push(rt.endX),a.push(rt.endY),c=rt.endX,x=rt.endY;break}for(It=0;It<at;It++)Zt.Fe(c,x,(Pt=_t[It])[2],Pt[3],Pt[4],Pt[5],Pt[6],Pt[7],.5,a),c=Pt[6],x=Pt[7];break;default:R("Segment not of valid type: "+rt.type)}rt.isClosed&&(a.push(S),a.push(nt),No(t,e,a,o))}No(t,e,a,o)}else if(h.type===Tr)a.push(h.startX),a.push(h.startY),a.push(h.endX),a.push(h.startY),a.push(h.endX),a.push(h.endY),a.push(h.startX),a.push(h.endY),a.push(h.startX),a.push(h.startY),No(t,e,a,o);else if(h.type===_l){if((x=new jr).startX=h.endX,x.startY=(h.startY+h.endY)/2,(c=new Bi(Vi)).startAngle=0,c.sweepAngle=360,c.centerX=(h.startX+h.endX)/2,c.centerY=(h.startY+h.endY)/2,c.radiusX=Math.abs(h.startX-h.endX)/2,c.radiusY=Math.abs(h.startY-h.endY)/2,x.add(c),0===(m=(h=oh(c,x)).length))a.push(c.centerX),a.push(c.centerY);else for(c=x.startX,x=x.startY,S=0;S<m;S++)Zt.Fe(c,x,(nt=h[S])[2],nt[3],nt[4],nt[5],nt[6],nt[7],.5,a),c=nt[6],x=nt[7];No(t,e,a,o)}p(a),t.restore(),t.uc(!1)}}}},q.da=function(t,e){if(void 0===e&&(e=new J),t instanceof He){t.nc()&&R("getDocumentPoint Spot must be a real, specific Spot, not: "+t.toString());var o=this.naturalBounds,a=this.strokeWidth;e.h(t.x*(o.width+a)-a/2+o.x+t.offsetX,t.y*(o.height+a)-a/2+o.y+t.offsetY)}else e.set(t);return this.Fd.ta(e),e},q.mj=function(t){void 0===t&&(t=new Lt);var e=this.naturalBounds,o=this.Fd;e=Lt.allocAt(e.x,e.y,e.width,e.height);var a=this.strokeWidth;return e.Jc(a/2,a/2),a=J.allocAt(e.x,e.y).transform(o),t.h(a.x,a.y,0,0),a.h(e.right,e.y).transform(o),fi(t,a.x,a.y,0,0),a.h(e.right,e.bottom).transform(o),fi(t,a.x,a.y,0,0),a.h(e.x,e.bottom).transform(o),fi(t,a.x,a.y,0,0),Lt.free(e),J.free(a),t},q.Kh=function(t,e){var o=this.geometry;if(null===o||null===this.fill&&null===this.stroke)return!1;var a=o.bounds,h=this.strokeWidth/2;o.type!==ar||e||(h+=2);var c=Lt.alloc();if(c.assign(a),c.Jc(h+2,h+2),!c.$(t))return Lt.free(c),!1;if(a=h+1e-4,o.type===ar)return!(null===this.stroke||(a=(o.endX-o.startX)*(t.x-o.startX)+(o.endY-o.startY)*(t.y-o.startY),0>(o.startX-o.endX)*(t.x-o.endX)+(o.startY-o.endY)*(t.y-o.endY)||0>a))&&(Lt.free(c),Zt.Nb(o.startX,o.startY,o.endX,o.endY,h,t.x,t.y));if(o.type===Tr){e=o.startX;var m=o.startY,x=o.endX;if(o=o.endY,c.x=Math.min(e,x),c.y=Math.min(m,o),c.width=Math.abs(x-e),c.height=Math.abs(o-m),null===this.fill){if(c.Jc(-a,-a),c.$(t))return Lt.free(c),!1;c.Jc(a,a)}return null!==this.stroke&&c.Jc(h,h),t=c.$(t),Lt.free(c),t}if(o.type===_l){m=o.startX,h=o.startY,x=o.endX;var S=o.endY;if(o=Math.min(m,x),e=Math.min(h,S),m=Math.abs(x-m)/2,h=Math.abs(S-h)/2,o=t.x-(o+m),e=t.y-(e+h),null===this.fill){if(h-=a,0>=(m-=a)||0>=h||1>=o*o/(m*m)+e*e/(h*h))return Lt.free(c),!1;m+=a,h+=a}return null!==this.stroke&&(m+=a,h+=a),Lt.free(c),!(0>=m||0>=h)&&1>=o*o/(m*m)+e*e/(h*h)}return o.type===Ls?(Lt.free(c),null===this.fill?yu(o,t.x,t.y,h):d0(o,t,h,1<this.strokeWidth,e)):(R("Unknown Geometry type: "+o.type),!1)},q.Hm=function(t,e,o,a){var h=this.desiredSize,c=this.wh;if(t=Math.max(t,0),e=Math.max(e,0),null!==this.Ed)var m=this.geometry.bounds;else{var x=this.figure,S=nx[x];if(void 0===S){var E=Zt.Qe[x];"string"==typeof E&&(E=Zt.Qe[E]),"function"==typeof E?(S=E(null,100,100),nx[x]=S):R("Unsupported Figure: "+x)}m=S.bounds}x=m.width,S=m.height,E=m.width;var P=m.height;switch(Gs(this,!0)){case Nn:a=o=0;break;case zn:E=Math.max(t-c,0),P=Math.max(e-c,0);break;case Lr:E=Math.max(t-c,0),a=0;break;case Gr:o=0,P=Math.max(e-c,0)}switch(isFinite(h.width)&&(E=h.width),isFinite(h.height)&&(P=h.height),h=this.maxSize,m=this.minSize,o=Math.max(o-c,m.width),a=Math.max(a-c,m.height),E=Math.min(h.width,E),P=Math.min(h.height,P),E=isFinite(E)?Math.max(o,E):Math.max(x,o),P=isFinite(P)?Math.max(a,P):Math.max(S,a),o=X0(this)){case Nn:break;case zn:x=E,S=P;break;case Ro:o=Math.min(E/x,P/S),isFinite(o)||(o=1),x*=o,S*=o;break;default:R(o+" is not a valid geometryStretch.")}null!==this.Ed?(0===x&&(x=.001),0===S&&(S=.001),a=x/(h=(o=null!==this.Ed?this.Ed:this.na).bounds).width,h=S/h.height,isFinite(a)||(a=1),isFinite(h)||(h=1),this.na=1===a&&1===h?o:o.copy().scale(a,h)):null!==this.na&&Zt.aa(this.na.Dl,t-c)&&Zt.aa(this.na.Cl,e-c)||(this.na=qe.makeGeometry(this,x,S)),m=this.na.bounds,t===1/0||e===1/0?Bh(this,m.x-c/2,m.y-c/2,0===t&&0===x?0:m.width+c,0===e&&0===S?0:m.height+c):Bh(this,-c/2,-c/2,E+c,P+c)},q.Ih=function(t,e,o,a){V1(this,t,e,o,a)},q.Nt=function(t,e,o){return this.zk(t.x,t.y,e.x,e.y,o)},q.zk=function(t,e,o,a,h){var c=this.transform,m=1/(c.m11*c.m22-c.m12*c.m21),x=c.m22*m,S=-c.m12*m,E=-c.m21*m,P=c.m11*m,N=m*(c.m21*c.dy-c.m22*c.dx),nt=m*(c.m12*c.dx-c.m11*c.dy);c=t*x+e*E+N,m=t*S+e*P+nt,x=o*x+a*E+N,S=o*S+a*P+nt,N=this.wh/2,null===(E=this.na)&&(this.measure(1/0,1/0),E=this.na);var at=E.bounds;if(P=!1,E.type===ar)if(1.5>=this.strokeWidth)P=Zt.Me(E.startX,E.startY,E.endX,E.endY,c,m,x,S,h);else{if(E.startX===E.endX?(a=N,P=0):(e=(E.endY-E.startY)/(E.endX-E.startX),a=(P=N/Math.sqrt(1+e*e))*e),e=u(),t=new J,Zt.Me(E.startX+a,E.startY+P,E.endX+a,E.endY+P,c,m,x,S,t)&&e.push(t),t=new J,Zt.Me(E.startX-a,E.startY-P,E.endX-a,E.endY-P,c,m,x,S,t)&&e.push(t),t=new J,Zt.Me(E.startX+a,E.startY+P,E.startX-a,E.startY-P,c,m,x,S,t)&&e.push(t),t=new J,Zt.Me(E.endX+a,E.endY+P,E.endX-a,E.endY-P,c,m,x,S,t)&&e.push(t),0===(x=e.length))return p(e),!1;for(P=!0,S=1/0,a=0;a<x;a++)(o=((t=e[a]).x-c)*(t.x-c)+(t.y-m)*(t.y-m))<S&&(S=o,h.x=t.x,h.y=t.y);p(e)}else if(E.type===Tr)P=Zt.Cf(at.x-N,at.y-N,at.x+at.width+N,at.y+at.height+N,c,m,x,S,h);else if(E.type===_l){t:if(0===(e=Lt.allocAt(at.x,at.y,at.width,at.height).Jc(N,N)).width)P=Zt.Me(e.x,e.y,e.x,e.y+e.height,c,m,x,S,h);else if(0===e.height)P=Zt.Me(e.x,e.y,e.x+e.width,e.y,c,m,x,S,h);else{if(a=e.x+(t=e.width/2),P=e.y+(E=e.height/2),o=9999,c!==x&&(o=(m-S)/(c-x)),9999>Math.abs(o)){if(0>t*t*o*o+E*E-(S=m-P-o*(c-a))*S){h.x=NaN,h.y=NaN,P=!1;break t}x=(-t*t*o*S+t*E*(N=Math.sqrt(t*t*o*o+E*E-S*S)))/(E*E+t*t*o*o)+a,t=(-t*t*o*S-t*E*N)/(E*E+t*t*o*o)+a,E=o*(x-a)+S+P,S=o*(t-a)+S+P,Math.abs((c-x)*(c-x))+Math.abs((m-E)*(m-E))<Math.abs((c-t)*(c-t))+Math.abs((m-S)*(m-S))?(h.x=x,h.y=E):(h.x=t,h.y=S)}else{if(x=E*E,0>(x-=x/(t*t)*(S=c-a)*S)){h.x=NaN,h.y=NaN,P=!1;break t}x=P+(S=Math.sqrt(x)),S=P-S,Math.abs(x-m)<Math.abs(S-m)?(h.x=c,h.y=x):(h.x=c,h.y=S)}P=!0}Lt.free(e)}else if(E.type===Ls){nt=J.alloc();var rt=x-c,_t=S-m,It=rt*rt+_t*_t,Pt=c,Vt=m;if(0<It&&at.contains(Pt,Vt)&&(nt.x=Pt,nt.y=Vt,this.$(nt)))for(0!==rt&&.5>Math.abs(rt)?(_t*=.5/rt,rt=.5):0!==_t&&.5>Math.abs(_t)&&(rt*=.5/_t,_t=.5),Pt-=rt,Vt-=_t;at.contains(Pt,Vt);)Pt-=rt,Vt-=_t;for(h.x=x,h.y=S,_t=0;_t<E.figures.count;_t++)for(var Ht=E.figures.j[_t],Wt=Ht.isFilled?Pt:c,Qt=Ht.isFilled?Vt:m,me=Ht.segments,Be=at=Ht.startX,Ee=rt=Ht.startY,We=0;We<me.count;We++){var Te=me.j[We],ve=Te.type,xi=Te.endX,ri=Te.endY,Ni=!1;switch(ve){case Cn:Be=xi,Ee=ri;break;case tr:Ni=Z0(at,rt,xi,ri,Wt,Qt,x,S,nt);break;case Bs:Ni=Zt.wq(at,rt,Te.point1X,Te.point1Y,Te.point2X,Te.point2Y,xi,ri,Wt,Qt,x,S,.6,nt);break;case ls:Ni=Zt.wq(at,rt,at+2/3*(Te.point1X-at),rt+2/3*(Te.point1Y-rt),xi+2/3*(Te.point1X-xi),ri+2/3*(Te.point1Y-ri),xi,ri,Wt,Qt,x,S,.6,nt);break;case Vi:case Ms:var Rn=(ve=Te.type===Vi?oh(Te,Ht):af(Te,Ht,at,rt)).length;if(0===Rn){Ni=Z0(at,rt,Te.type===Vi?Te.centerX:Te.endX,Te.type===Vi?Te.centerY:Te.endY,Wt,Qt,x,S,nt);break}for(ri=null,xi=0;xi<Rn;xi++){if(ri=ve[xi],0===xi&&Z0(at,rt,ri[0],ri[1],Wt,Qt,x,S,nt)){var dr=K0(Wt,Qt,nt,It,h);dr<It&&(It=dr,P=!0)}Zt.wq(ri[0],ri[1],ri[2],ri[3],ri[4],ri[5],ri[6],ri[7],Wt,Qt,x,S,.6,nt)&&(dr=K0(Wt,Qt,nt,It,h))<It&&(It=dr,P=!0)}xi=ri[6],ri=ri[7];break;default:R("Unknown Segment type: "+ve)}at=xi,rt=ri,Ni&&(Ni=K0(Wt,Qt,nt,It,h))<It&&(It=Ni,P=!0),Te.isClosed&&Z0(at,rt,xi=Be,ri=Ee,Wt,Qt,x,S,nt)&&(Te=K0(Wt,Qt,nt,It,h))<It&&(It=Te,P=!0)}c=o-t,m=a-e,0!==(x=Math.sqrt(c*c+m*m))&&(c/=x,m/=x),h.x-=c*N,h.y-=m*N,J.free(nt)}else R("Unknown Geometry type: "+E.type);return!!P&&(this.transform.ta(h),!0)},q.Jh=function(t,e){if(void 0===e)return t.Ge(this.actualBounds);var o=this.na;null===o&&(this.measure(1/0,1/0),o=this.na),o=o.bounds;var a=this.strokeWidth/2,h=!1,c=J.alloc();return c.h(o.x-a,o.y-a),t.$(e.ta(c))&&(c.h(o.x-a,o.bottom+a),t.$(e.ta(c))&&(c.h(o.right+a,o.bottom+a),t.$(e.ta(c))&&(c.h(o.right+a,o.y-a),t.$(e.ta(c))&&(h=!0)))),J.free(c),h},q.Mc=function(t,e){if(this.Jh(t,e)||void 0===e&&(e=this.transform,t.Ge(this.actualBounds)))return!0;var o=di.alloc();o.set(e),o.St();var a=t.left,h=t.right,c=t.top;t=t.bottom;var m=J.alloc();if(m.h(a,c),o.ta(m),this.Kh(m,!0)||(m.h(h,c),o.ta(m),this.Kh(m,!0))||(m.h(a,t),o.ta(m),this.Kh(m,!0))||(m.h(h,t),o.ta(m),this.Kh(m,!0)))return J.free(m),!0;var x=J.alloc(),S=J.alloc();return o.set(e),o.jw(this.transform),o.St(),x.x=h,x.y=c,x.transform(o),m.x=a,m.y=c,m.transform(o),e=!1,Jr(this,m,x,S)?e=!0:(m.x=h,m.y=t,m.transform(o),Jr(this,m,x,S)?e=!0:(x.x=a,x.y=t,x.transform(o),Jr(this,m,x,S)?e=!0:(m.x=a,m.y=c,m.transform(o),Jr(this,m,x,S)&&(e=!0)))),J.free(m),di.free(o),J.free(x),J.free(S),e},q.sy=function(t,e,o){function a(It,Pt){for(var Vt=It.length,Ht=0;Ht<Vt;Ht+=2)if(Pt.qd(It[Ht],It[Ht+1])>h)return!0;return!1}if(o&&null!==this.fill&&this.Kh(t,!0))return!0;var h=t.Ie(e),c=h;if(1.5<this.strokeWidth&&(h=this.strokeWidth/2+Math.sqrt(h),h*=h),null===(e=this.na)&&(this.measure(1/0,1/0),null===(e=this.na)))return!1;if(!o){var m=e.bounds,x=m.x,S=m.y,E=m.x+m.width;if(m=m.y+m.height,ei(t.x,t.y,x,S)<=h&&ei(t.x,t.y,E,S)<=h&&ei(t.x,t.y,x,m)<=h&&ei(t.x,t.y,E,m)<=h)return!0}if(x=e.startX,S=e.startY,E=e.endX,m=e.endY,e.type===ar){if(o=(x-E)*(t.x-E)+(S-m)*(t.y-m),ae(t.x,t.y,x,S,E,m)<=(0<=(E-x)*(t.x-x)+(m-S)*(t.y-S)&&0<=o?h:c))return!0}else{if(e.type===Tr)return e=!1,o&&(e=ae(t.x,t.y,x,S,x,m)<=h||ae(t.x,t.y,x,S,E,S)<=h||ae(t.x,t.y,E,S,E,m)<=h||ae(t.x,t.y,x,m,E,m)<=h),e;if(e.type===_l){e=t.x-(x+E)/2,c=t.y-(S+m)/2;var P=Math.abs(E-x)/2,N=Math.abs(m-S)/2;if(0===P||0===N)return ae(t.x,t.y,x,S,E,m)<=h;if(!o)return!(ei(e,c,-P,0)>=h||ei(e,c,0,-N)>=h||ei(e,c,0,N)>=h||ei(e,c,P,0)>=h);if((t=Zt.Mz(P,N,e,c))*t<=h)return!0}else if(e.type===Ls){if(c=(E=e.bounds).x,x=E.y,S=E.x+E.width,E=E.y+E.height,t.x>S&&t.x<c&&t.y>E&&t.y<x&&ae(t.x,t.y,c,x,c,E)>h&&ae(t.x,t.y,c,x,S,x)>h&&ae(t.x,t.y,S,E,c,E)>h&&ae(t.x,t.y,S,E,S,x)>h)return!1;if(c=Math.sqrt(h),!o){for(o=e.figures,e=0;e<o.count;e++){if(t.qd(m=(c=o.j[e]).startX,P=c.startY)>h)return!1;for(S=(x=c.segments.j).length,E=0;E<S;E++)switch(N=x[E],N.type){case Cn:case tr:if(t.qd(m=N.endX,P=N.endY)>h)return!1;break;case Bs:var nt=u();if(Zt.Fe(m,P,N.point1X,N.point1Y,N.point2X,N.point2Y,N.endX,N.endY,.8,nt),m=a(nt,t),p(nt),m||t.qd(m=N.endX,P=N.endY)>h)return!1;break;case ls:if(nt=u(),Zt.Vq(m,P,N.point1X,N.point1Y,N.endX,N.endY,.8,nt),m=a(nt,t),p(nt),m||t.qd(m=N.endX,P=N.endY)>h)return!1;break;case Vi:case Ms:var at=(nt=N.type===Vi?oh(N,c):af(N,c,m,P)).length;if(0===at){if(t.qd(m=N.type===Vi?N.centerX:N.endX,P=N.type===Vi?N.centerY:N.endY)>h)return!1;break}N=null;for(var rt=u(),_t=0;_t<at;_t++)if(N=nt[_t],rt.length=0,Zt.Fe(N[0],N[1],N[2],N[3],N[4],N[5],N[6],N[7],.8,rt),a(rt,t))return p(rt),!1;p(rt),null!==N&&(m=N[6],P=N[7]);break;default:R("Unknown Segment type: "+N.type)}}return!0}if(null===this.fill?yu(e,t.x,t.y,c):d0(e,t,c,!0,!1))return!0}}return!1},q.dc=function(){this.na=null},qe.makeGeometry=function(t,e,o){if("None"!==t.toArrow)var a=Il[t.toArrow];else"None"!==t.fromArrow?a=Il[t.fromArrow]:("string"==typeof(a=Zt.Qe[t.figure])&&(a=Zt.Qe[a]),void 0===a&&R("Unknown Shape.figure: "+t.figure),(a=a(t,e,o)).Dl=e,a.Cl=o);if(null===a){var h=Zt.Qe.Rectangle;"function"==typeof h&&(a=h(t,e,o))}return a},B.Object.defineProperties(qe.prototype,{geometry:{get:function(){return null!==this.na?this.na:this.Ed},set:function(t){var e=this.na,o=this.Ed;if(e!==t){this.Ed=this.na=null!==t?t.freeze():null;var a=this.part;null!==a&&(a.kh=NaN),this.s(),this.g("geometry",e||o,t),Au(this)&&null!==(t=this.part)&&qa(this,t,"geometryString")}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(t){var e=(t=sf(t)).normalize();this.geometry=t,this.position=t=J.allocAt(-e.x,-e.y),J.free(t)}},isGeometryPositioned:{get:function(){return this.vo},set:function(t){var e=this.vo;e!==t&&(this.vo=t,this.s(),this.g("isGeometryPositioned",e,t))}},fill:{get:function(){return this.tl},set:function(t){var e=this.tl;e!==t&&(null!==t&&Pl(t,"Shape.fill"),t instanceof Ei&&t.freeze(),this.tl=t,this.M(),this.g("fill",e,t))}},stroke:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(null!==t&&Pl(t,"Shape.stroke"),t instanceof Ei&&t.freeze(),this.Hc=t,this.M(),this.g("stroke",e,t))}},strokeWidth:{get:function(){return this.wh},set:function(t){var e=this.wh;if(e!==t)if(0<=t){this.wh=t,this.s();var o=this.part;null!==o&&(o.kh=NaN),this.g("strokeWidth",e,t)}else Z(t,"value >= 0",qe,"strokeWidth:value")}},strokeCap:{get:function(){return this.km},set:function(t){var e=this.km;e!==t&&("string"!=typeof t||"butt"!==t&&"round"!==t&&"square"!==t?Z(t,'"butt", "round", or "square"',qe,"strokeCap"):(this.km=t,this.M(),this.g("strokeCap",e,t)))}},strokeJoin:{get:function(){return this.lm},set:function(t){var e=this.lm;e!==t&&("string"!=typeof t||"miter"!==t&&"bevel"!==t&&"round"!==t?Z(t,'"miter", "bevel", or "round"',qe,"strokeJoin"):(this.lm=t,this.M(),this.g("strokeJoin",e,t)))}},strokeMiterLimit:{get:function(){return this.gk},set:function(t){var e=this.gk;if(e!==t&&1<=t){this.gk=t,this.M();var o=this.part;null!==o&&(o.kh=NaN),this.g("strokeMiterLimit",e,t)}}},strokeDashArray:{get:function(){return this.uh},set:function(t){var e=this.uh;if(e!==t){if(null!==t){for(var o=t.length,a=0,h=0;h<o;h++){var c=t[h];0<=c&&isFinite(c)||R("strokeDashArray:value "+c+" at index "+h+" must be a positive number or zero."),a+=c}if(0===a){if(null===e)return;t=null}}this.uh=t,this.M(),this.g("strokeDashArray",e,t)}}},strokeDashOffset:{get:function(){return this.vh},set:function(t){var e=this.vh;e!==t&&0<=t&&(this.vh=t,this.M(),this.g("strokeDashOffset",e,t))}},figure:{get:function(){return this.Yn},set:function(t){var e=this.Yn;if(e!==t){var o=Zt.Qe[t];"function"==typeof o?o=t:(o=Zt.Qe[t.toLowerCase()])||R("Unknown Shape.figure: "+t),e!==o&&(null!==(t=this.part)&&(t.kh=NaN),this.Yn=o,this.Ed=null,this.dc(),this.s(),this.g("figure",e,o))}}},toArrow:{get:function(){return this.rm},set:function(t){var e=this.rm;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var o=mv(t);null===o?R("Unknown Shape.toArrow: "+t):e!==o&&(this.rm=o,this.Ed=null,this.dc(),this.s(),op(this),this.g("toArrow",e,o))}}},fromArrow:{get:function(){return this.ul},set:function(t){var e=this.ul;if(!0===t?t="Standard":!1===t&&(t=""),e!==t){var o=mv(t);null===o?R("Unknown Shape.fromArrow: "+t):e!==o&&(this.ul=o,this.Ed=null,this.dc(),this.s(),op(this),this.g("fromArrow",e,o))}}},spot1:{get:function(){return this.pf},set:function(t){var e=this.pf;e.w(t)||(this.pf=t=t.H(),this.s(),this.g("spot1",e,t))}},spot2:{get:function(){return this.qf},set:function(t){var e=this.qf;e.w(t)||(this.qf=t=t.H(),this.s(),this.g("spot2",e,t))}},parameter1:{get:function(){return this.sp},set:function(t){var e=this.sp;e!==t&&(this.sp=t,this.dc(),this.s(),this.g("parameter1",e,t))}},parameter2:{get:function(){return this.tp},set:function(t){var e=this.tp;e!==t&&(this.tp=t,this.dc(),this.s(),this.g("parameter2",e,t))}},naturalBounds:{get:function(){var t=this.desiredSize;return t.o()||null===this.na?new Lt(0,0,t.width,t.height):(this.rc.assign(this.na.bounds),this.rc)}},pathPattern:{get:function(){return this.wp},set:function(t){var e=this.wp;e!==t&&(this.wp=t,this.M(),this.g("pathPattern",e,t))}},geometryStretch:{get:function(){return this.ho},set:function(t){var e=this.ho;e!==t&&(this.ho=t,this.s(),this.g("geometryStretch",e,t))}},interval:{get:function(){return this.Yd},set:function(t){var e=this.Yd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Yd=t;var o=this.diagram;null!==o&&this.panel===o.grid&&Du(o),this.s(),null!==(o=this.panel)&&(o.eh=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Wd},set:function(t){var e=this.Wd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Wd=t,this.s(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Ud},set:function(t){var e=this.Ud;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ud=t,this.s(),this.g("graduatedEnd",e,t))}},graduatedSkip:{get:function(){return this.Vd},set:function(t){var e=this.Vd;e!==t&&(this.Vd=t,this.s(),this.g("graduatedSkip",e,t))}}}),qe.prototype.intersectsRect=qe.prototype.Mc,qe.prototype.containedInRect=qe.prototype.Jh,qe.prototype.getNearestIntersectionPoint=qe.prototype.Nt,qe.prototype.getDocumentBounds=qe.prototype.mj,qe.prototype.getDocumentPoint=qe.prototype.da;var Il=new wt,nx=new wt;function Gi(){Ge.call(this),xv||(mo=Us?new Ko(null).context:null,xv=!0),this.Jx=this.Ub="",this.Hc="black",this.ne="13px sans-serif",this.Vi="start",this.Td=Nn,this.aj=U_,this.Pj=!0,this.Ai=this.Bi=!1,this.mg=Ab,this.zg=ax,this.us=this.vb=this.Zc=0,this.ev=this.fv=null,this.Vn=!1,this.ld=this.xn=this.iq=this.Wi=this.jq=null,this.nf=this.mf=0,this.ti=Rl,this.ve=1/0,this.Ei=0,this.oe=null,this.Be=0,this.me=this.lb=this.Qb=null,this.Yd=1,this.Wd=0,this.Ud=1,this.Vd=this.Lj=null}function Eb(t,e){t.F=6144|e.F,t.hb=e.opacity,t.mb=e.background,t.ec=e.areaBackground,t.Xc=e.desiredSize.H(),t.fg=e.minSize.H(),t.eg=e.maxSize.H(),t.cg=e.cg.copy(),t.Aa=e.scale,t.Yb=e.angle,t.De=e.stretch,t.jh=e.margin.H(),t.yb=e.alignment.H(),t.$k=e.alignmentFocus.H(),t.am=e.segmentFraction,t.bm=e.segmentOffset.H(),t.cm=e.segmentOrientation,null!==e.Za&&(t.Za=e.Za.copy()),t.em=e.shadowVisible,e instanceof Gi&&(t.Ub=e.Ub,t.Hc=e.Hc,t.ne=e.ne,t.Vi=e.Vi,t.Td=e.Td,t.aj=e.aj,t.Pj=e.Pj,t.Bi=e.Bi,t.Ai=e.Ai,t.mg=e.mg,t.zg=e.zg,t.oe=null,t.mf=e.mf,t.nf=e.nf,t.ve=e.ve,t.Ei=e.Ei,t.Yd=e.Yd,t.Wd=e.Wd,t.Ud=e.Ud,t.Lj=e.Lj,t.Vd=e.Vd)}function sp(t,e,o){null===t.me?(t.me=e,t.vb=o):((null===t.lb||null===t.Qb)&&(t.lb=[],t.Qb=[],t.lb.push(t.me),t.Qb.push(t.vb)),t.lb.push(e),t.Qb.push(o))}function rx(t,e,o,a){var h=t.ti===Rl;h&&(e=e.trim());var c=0,m=t.ne,x=t.mf+t.nf;x=Math.max(0,gv(t)+x);var S=t.mg===vv?kb(m):0;if(t.Zc>=t.ve)null!==a&&a.h(0,x);else if(m=e,t.zg===sx){t.Be=1;var E=pa(e);if(0===S||E<=o)t.vb=Math.max(t.vb,E),sp(t,e,t.vb),null!==a&&a.h(E,x);else{for(E=pa((c=If(t,m))+(e=If(t,m=m.substr(c.length))));0<e.length&&E<=o;)E=(c+=e)+(e=If(t,m=m.substr(e.length))),h&&(E=E.trim()),E=pa(E);for(h&&(e=e.trim()),c+=e,o=Math.max(1,o-S);pa(c)>o&&1<c.length;)c=c.substr(0,c.length-1);var P=pa(c+=Ys);t.vb=P,sp(t,c,P),null!==a&&a.h(P,x)}}else{for(S=0,0===m.length&&(S=1,sp(t,m,0));0<m.length;){for(e=If(t,m),m=m.substr(e.length);pa(e)>o;){var N=1;for(E=pa(e.substr(0,N)),P=0;E<=o;)N++,P=E,E=pa(e.substr(0,N));if(1===N){var nt=E;c=Math.max(c,E)}else nt=P,c=Math.max(c,P);if(1>--N&&(N=1),sp(t,e.substr(0,N),nt),S++,e=e.substr(N),t.Zc+S>t.ve)break}for(E=pa(e+(P=If(t,m)));0<P.length&&E<=o;)E=(e+=P)+(P=If(t,m=m.substr(P.length))),h&&(E=E.trim()),E=pa(E);if(h&&(e=e.trim()),""!==e&&("\xad"===e[e.length-1]&&(e=e.substring(0,e.length-1)+"\u2010"),0===P.length?(N=E,c=Math.max(c,E)):(N=P=pa(e),c=Math.max(c,P)),sp(t,e,N),S++,t.Zc+S>t.ve))break}t.Be=Math.min(t.ve,S),t.vb=Math.max(t.vb,c),null!==a&&a.h(t.vb,x*t.Be)}}function If(t,e){if(t.zg===J0)return e.substr(0,1);for(var o=e.length,a=0,h=vS;a<o&&!h.test(e.charAt(a));)a++;for(t.ti===gS&&(o=Math.min(o,a+1));a<o&&h.test(e.charAt(a));)a++;return a>=e.length?e:e.substr(0,a)}function pa(t){return null===mo?8*t.length:mo.measureText(t).width}function gv(t){if(null!==t.oe)return t.oe;var e=t.ne;if(null===mo){var o=16;return t.oe=o}return void 0!==lx[e]&&5e3>Tb?o=lx[e]:(o=1.3*mo.measureText("M").width,lx[e]=o,Tb++),t.oe=o}function kb(t){if(null===mo)return 6;if(void 0!==yv[t]&&5e3>lp)var e=yv[t];else e=mo.measureText(Ys).width,yv[t]=e,lp++;return e}function ox(t,e){var o=t.Ub.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),a=t.mf+t.nf;if(a=Math.max(0,gv(t)+a),0===o.length)return t.vb=0,t.Zc=1,a;if(!t.isMultiline){var h=o.indexOf("\n",0);0<=h&&(o=o.substr(0,h))}h=0;for(var m,c=t.Zc=0,x=!1;!x;){if(-1===(m=o.indexOf("\n",c))&&(m=o.length,x=!0),c<=m){if(c=o.substr(c,m-c),t.zg!==sx){t.Be=0;var S=fe.alloc();rx(t,c,e,S),h+=S.height,fe.free(S),t.Zc+=t.Be}else rx(t,c,e,null),h+=a,t.Zc++;t.Zc===t.ve&&(x=!0)}c=m+1}return t.us=h}qe.className="Shape",qe.getFigureGenerators=function(){var e,t=new ot;for(e in Zt.Qe)e!==e.toLowerCase()&&t.add(e,Zt.Qe[e]);return t.freeze(),t},qe.defineFigureGenerator=function(t,e){var o=t.toLowerCase(),a=Zt.Qe;a[t]=e,a[o]=t},qe.getArrowheadGeometries=function(){var t=new ot;for(a in Zt.dn)if(void 0===Il[a]){var e=sf(Zt.dn[a],!1);Il[a]=e,(e=a.toLowerCase())!==a&&(Il[e]=a)}for(var o in Il)if(o!==o.toLowerCase()){var a=Il[o];a instanceof pi&&t.add(o,a)}return t.freeze(),t},qe.defineArrowheadGeometry=function(t,e){var o;o="string"==typeof e?sf(e,!1):e,"none"!==(e=t.toLowerCase())&&t!==e||R("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+t);var a=Il;a[t]=o,a[e]=t},z(Gi,Ge),Gi.prototype.cloneProtected=function(t){Ge.prototype.cloneProtected.call(this,t),t.Ub=this.Ub,t.Jx=this.Jx,t.Hc=this.Hc,t.ne=this.ne,t.Vi=this.Vi,t.Td=this.Td,t.aj=this.aj,t.Pj=this.Pj,t.Bi=this.Bi,t.Ai=this.Ai,t.mg=this.mg,t.zg=this.zg,t.Zc=this.Zc,t.us=this.us,t.vb=this.vb,t.fv=this.fv,t.ev=this.ev,t.Vn=this.Vn,t.jq=this.jq,t.Wi=this.Wi,t.iq=this.iq,t.xn=this.xn,t.ld=this.ld,t.mf=this.mf,t.nf=this.nf,t.ti=this.ti,t.ve=this.ve,t.oe=this.oe,t.Be=this.Be,t.Qb=this.Qb,t.lb=this.lb,t.me=this.me,t.Ei=this.Ei,t.Yd=this.Yd,t.Wd=this.Wd,t.Ud=this.Ud,t.Lj=this.Lj,t.Vd=this.Vd},(q=Gi.prototype).jb=function(t){t.classType===Gi?this.wrap=t:Ge.prototype.jb.call(this,t)},q.toString=function(){return 22<this.Ub.length?'TextBlock("'+this.Ub.substring(0,20)+'"...)':'TextBlock("'+this.Ub+'")'},q.s=function(){Ge.prototype.s.call(this),this.ev=this.fv=null},q.ej=function(t,e){if(null!==this.Hc&&0!==this.Ub.length&&null!==this.ne){var o=this.naturalBounds,a=this.actualBounds,h=o.width,c=o.height,m=gv(this),x=t.textAlign=this.Vi,S=e.Gl;"start"===x?x=S?"right":"left":"end"===x&&(x=S?"left":"right"),S=this.Bi;var E=this.Ai;$o(this,t,this.Hc,!0,!1,o,a),(S||E)&&$o(this,t,this.Hc,!1,!1,o,a),a=0,o=!1;var P=J.allocAt(0,0);this.Fd.ta(P);var N=J.allocAt(0,m);this.Fd.ta(N);var nt=P.Ie(N);switch(J.free(P),J.free(N),8>nt*(P=e.scale)*P&&(o=!0),e.Gb!==t&&(o=!1),!1===e.Ke("textGreeking")&&(o=!1),e=this.mf,nt=this.nf,this.flip){case Xd:t.translate(h,0),t.scale(-1,1);break;case Zg:t.translate(0,c),t.scale(1,-1);break;case ks:t.translate(h,c),t.scale(-1,-1)}if(c>(N=(e+m+nt)*(P=this.Zc))&&(a=(a=this.aj).y*c-a.y*N+a.offsetY),1===P&&null!==this.me)(nt=this.vb)>h&&(nt=h),this.dj(this.me,t,0,a+e,h,m,nt,o,x,S,E);else if(null!==this.Qb&&null!==this.lb)for(N=0;N<P;N++){var at=this.Qb[N];at>h&&(at=h),this.dj(this.lb[N],t,0,a+=e,h,m,at,o,x,S,E),a+=m+nt}switch(this.flip){case Xd:t.scale(-1,1),t.translate(-h,0);break;case Zg:t.scale(1,-1),t.translate(0,-c);break;case ks:t.scale(-1,-1),t.translate(-h,-c)}}},q.dj=function(t,e,o,a,h,c,m,x,S,E,P){var N=0;x?("left"===S?N=0:"right"===S?N=h-m:"center"===S&&(N=(h-m)/2),e.fillRect(o+N,a+.25*c,m,1)):("left"===S?N=0:"right"===S?N=h:"center"===S&&(N=h/2),h=null!==ap?ap(this,c):.75*c,e.fillText(t,o+N,a+h),0==(t=c/20|0)&&(t=1),"right"===S?N-=m:"center"===S&&(N-=m/2),E&&(S=null!==q0?q0(this,c):.8*c,e.beginPath(),e.lineWidth=t,e.moveTo(o+N,a+S),e.lineTo(o+N+m,a+S),e.stroke()),P&&(e.beginPath(),e.lineWidth=t,a=a+c-c/2.2|0,t%2!=0&&(a+=.5),e.moveTo(o+N,a),e.lineTo(o+N+m,a),e.stroke()))},q.Hm=function(t,e,o,a){this.Ei=t;var c,h=this.ne;if(null!==mo&&hx!==h&&(hx=mo.font=h),this.vb=this.Be=0,this.me=this.lb=this.Qb=this.oe=null,isNaN(this.desiredSize.width)){if(0===(h=this.Ub.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)h=0;else if(this.isMultiline){for(var m=c=0,x=!1;!x;){var S=h.indexOf("\n",m);-1===S&&(S=h.length,x=!0),m=h.substr(m,S-m),this.ti===Rl&&(m=m.trim()),c=Math.max(c,pa(m)),m=S+1}h=c}else 0<=(c=h.indexOf("\n",0))&&(h=h.substr(0,c)),h=pa(h);h=Math.min(h,t/this.scale),h=Math.max(8,h)}else h=this.desiredSize.width;if(null!==this.panel&&(h=Math.min(h,this.panel.maxSize.width)),c=ox(this,h),x=c=isNaN(this.desiredSize.height)?Math.min(c,e/this.scale):this.desiredSize.height,0!==this.vb&&null!==this.Qb&&null!==this.lb&&this.mg===vv&&(e=this.ne,e=this.mg===vv?kb(e):0,S=this.mf+this.nf,S=Math.max(0,gv(this)+S),!((x=Math.min(this.maxLines-1,Math.max(Math.floor(x/S+.01)-1,0)))+1>=this.lb.length))){for(S=this.lb[x],e=Math.max(1,t-e);pa(S)>e&&1<S.length;)S=S.substr(0,S.length-1);e=pa(S+=Ys),this.lb[x]=S,this.lb=this.lb.slice(0,x+1),this.Qb[x]=e,this.Qb=this.Qb.slice(0,x+1),this.Be=this.lb.length,this.vb=Math.max(this.vb,e),this.Zc=this.Be,1===this.Zc&&(this.me=this.lb[0])}(this.wrap===mS||isNaN(this.desiredSize.width))&&(h=isNaN(t)?this.vb:Math.min(t,this.vb),isNaN(this.desiredSize.width)&&(h=Math.max(8,h))),h=Math.max(o,h),c=Math.max(a,c),ue(this.rc,h,c),Bh(this,0,0,h,c)},q.Ih=function(t,e,o,a){V1(this,t,e,o,a)},B.Object.defineProperties(Gi.prototype,{font:{get:function(){return this.ne},set:function(t){var e=this.ne;e!==t&&(this.ne=t,this.oe=null,this.s(),this.g("font",e,t))}},text:{get:function(){return this.Ub},set:function(t){var e=this.Ub;e!==(t=null!=t?t.toString():"")&&(this.Ub=t,this.s(),this.g("text",e,t))}},textAlign:{get:function(){return this.Vi},set:function(t){var e=this.Vi;e===t||"start"!==t&&"end"!==t&&"left"!==t&&"right"!==t&&"center"!==t||(this.Vi=t,this.M(),this.g("textAlign",e,t))}},flip:{get:function(){return this.Td},set:function(t){var e=this.Td;e!==t&&(this.Td=t,this.M(),this.g("flip",e,t))}},verticalAlignment:{get:function(){return this.aj},set:function(t){var e=this.aj;e.w(t)||(this.aj=t=t.H(),Vh(this),this.g("verticalAlignment",e,t))}},naturalBounds:{get:function(){if(!this.rc.o()){var t=fe.alloc();rx(this,this.Ub,999999,t);var e=t.width;fe.free(t),t=ox(this,e);var o=this.desiredSize;isNaN(o.width)||(e=o.width),isNaN(o.height)||(t=o.height),ue(this.rc,e,t)}return this.rc}},isMultiline:{get:function(){return this.Pj},set:function(t){var e=this.Pj;e!==t&&(this.Pj=t,this.s(),this.g("isMultiline",e,t))}},isUnderline:{get:function(){return this.Bi},set:function(t){var e=this.Bi;e!==t&&(this.Bi=t,this.M(),this.g("isUnderline",e,t))}},isStrikethrough:{get:function(){return this.Ai},set:function(t){var e=this.Ai;e!==t&&(this.Ai=t,this.M(),this.g("isStrikethrough",e,t))}},wrap:{get:function(){return this.zg},set:function(t){var e=this.zg;e!==t&&(this.zg=t,this.s(),this.g("wrap",e,t))}},overflow:{get:function(){return this.mg},set:function(t){var e=this.mg;e!==t&&(this.mg=t,this.s(),this.g("overflow",e,t))}},stroke:{get:function(){return this.Hc},set:function(t){var e=this.Hc;e!==t&&(null!==t&&Pl(t,"TextBlock.stroke"),t instanceof Ei&&t.freeze(),this.Hc=t,this.M(),this.g("stroke",e,t))}},lineCount:{get:function(){return this.Zc}},editable:{get:function(){return this.Vn},set:function(t){var e=this.Vn;e!==t&&(this.Vn=t,this.g("editable",e,t))}},textEditor:{get:function(){return this.jq},set:function(t){var e=this.jq;e!==t&&(this.jq=t,this.g("textEditor",e,t))}},errorFunction:{get:function(){return this.ld},set:function(t){var e=this.ld;e!==t&&(this.ld=t,this.g("errorFunction",e,t))}},interval:{get:function(){return this.Yd},set:function(t){var e=this.Yd;if(e!==(t=Math.round(t))&&0!==t&&isFinite(t)){this.Yd=t,this.s();var o=this.panel;null!==o&&(o.eh=null),this.g("interval",e,t)}}},graduatedStart:{get:function(){return this.Wd},set:function(t){var e=this.Wd;e!==t&&(0>t?t=0:1<t&&(t=1),this.Wd=t,this.s(),this.g("graduatedStart",e,t))}},graduatedEnd:{get:function(){return this.Ud},set:function(t){var e=this.Ud;e!==t&&(0>t?t=0:1<t&&(t=1),this.Ud=t,this.s(),this.g("graduatedEnd",e,t))}},graduatedFunction:{get:function(){return this.Lj},set:function(t){var e=this.Lj;e!==t&&(this.Lj=t,this.s(),this.g("graduatedFunction",e,t))}},graduatedSkip:{get:function(){return this.Vd},set:function(t){var e=this.Vd;e!==t&&(this.Vd=t,this.s(),this.g("graduatedSkip",e,t))}},textValidation:{get:function(){return this.Wi},set:function(t){var e=this.Wi;e!==t&&(this.Wi=t,this.g("textValidation",e,t))}},textEdited:{get:function(){return this.iq},set:function(t){var e=this.iq;e!==t&&(this.iq=t,this.g("textEdited",e,t))}},spacingAbove:{get:function(){return this.mf},set:function(t){var e=this.mf;e!==t&&(this.mf=t,this.s(),this.g("spacingAbove",e,t))}},spacingBelow:{get:function(){return this.nf},set:function(t){var e=this.nf;e!==t&&(this.nf=t,this.s(),this.g("spacingBelow",e,t))}},formatting:{get:function(){return this.ti},set:function(t){var e=this.ti;e!==t&&(this.ti=t,this.s(),this.g("formatting",e,t))}},maxLines:{get:function(){return this.ve},set:function(t){var e=this.ve;e!==t&&(0>=(t=Math.floor(t))&&Z(t,"> 0",Gi,"maxLines"),this.ve=t,this.s(),this.g("maxLines",e,t))}},metrics:{get:function(){return{arrSize:null!==this.Qb?this.Qb:[this.vb],arrText:null!==this.lb?this.lb:[this.me],maxLineWidth:this.vb,fontHeight:this.oe}}},choices:{get:function(){return this.xn},set:function(t){var e=this.xn;e!==t&&(this.xn=t,this.g("choices",e,t))}}});var ap=null,q0=null,sx=new ct(Gi,"None",0),mS=new ct(Gi,"WrapFit",1),ax=new ct(Gi,"WrapDesiredSize",2),J0=new ct(Gi,"WrapBreakAll",3),Ab=new ct(Gi,"OverflowClip",0),vv=new ct(Gi,"OverflowEllipsis",1),Rl=new ct(Gi,"FormatTrim",0),gS=new ct(Gi,"FormatNone",0),vS=/[ \u200b\u00ad]/,lx=new wt,Tb=0,yv=new wt,lp=0,Ys="...",hx="",mo=null,xv=!1;function Q0(){this.Qb=[],this.lb=[]}function go(){Ge.call(this),this.Zg=null,this.$p="",this.th=ji,this.yl=zn,this.xh=this.ld=null,this.xl=Xe,this.Td=Nn,this.nm=null,this.uo=!1,this.Yr=!0,this.Ol=!1,this.gm=null}function hp(t){void 0===t&&(t=""),""!==t?fh[t]&&(delete fh[t],el--):(fh=new wt,el=0)}function Pb(t,e){e.fz||(e.dv=function(o){e.ls=!0,e.ro=!1;var a=e.Wg.copy();if(null!=a){for(a=a.iterator;a.next();){var h=a.value,c=e.getAttribute("src"),m=h.pg.G(c);if(null!==m)for(var x=m.length,S=0;S<x;S++)h.Wl.add(c=m[S]),h.Db(),e.io&&(void 0===e.ov&&(e.ov=o),null!==c.xh&&c.xh(c,o))}e.Wg=null}t.desiredSize.o()||(Xo(t,!1),t.s())},e.Pu=function(o){e.ro=o;var a=e.Wg.copy();if(null!=a){for(a=a.iterator;a.next();){var h=a.value,c=e.getAttribute("src"),m=h.pg.G(c);if(null!==m){h=m.length,c=u();for(var x=0;x<h;x++)c.push(m[x]);if(e.io)for(x=0;x<h;x++)null!==(m=c[x]).ld&&m.ld(m,o);p(c)}}e.Wg=null}},e.addEventListener("load",e.dv),e.addEventListener("error",e.Pu),e.fz=!0)}function Ib(t){t.removeEventListener("load",t.dv),t.removeEventListener("error",t.Pu),delete t.dv,delete t.Pu}Gi.className="TextBlock",Gi.getEllipsis=function(){return Ys},Gi.setEllipsis=function(t){Ys=t,yv=new wt,lp=0},Gi.getBaseline=function(){return ap},Gi.setBaseline=function(t){ap=t},Gi.getUnderline=function(){return q0},Gi.setUnderline=function(t){q0=t},Gi.isValidFont=function(t){if(xv||(mo=Us?new Ko(null).context:null,xv=!0),null===mo)return!0;var e=mo.font;if(t===e||"10px sans-serif"===t)return!0;mo.font="10px sans-serif",mo.font=t;var o=mo.font;if("10px sans-serif"!==o)return mo.font=e,!0;mo.font="19px serif";var a=mo.font;return mo.font=t,o=mo.font,mo.font=e,o!==a},Gi.None=sx,Gi.WrapFit=mS,Gi.WrapDesiredSize=ax,Gi.WrapBreakAll=J0,Gi.OverflowClip=Ab,Gi.OverflowEllipsis=vv,Q0.prototype.reset=function(){this.Qb=[],this.lb=[]},Q0.prototype.gy=function(t){this.Qb=dt(t.Qb),this.lb=dt(t.lb)},Q0.className="TextBlockMetrics",z(go,Ge),go.prototype.cloneProtected=function(t){Ge.prototype.cloneProtected.call(this,t),t.element=this.Zg,t.$p=this.$p,t.th=this.th.H(),t.yl=this.yl,t.Td=this.Td,t.ld=this.ld,t.xh=this.xh,t.xl=this.xl.H(),t.Yr=this.Yr,t.gm=this.gm},go.prototype.jb=function(t){t===Nn||t===Ro||t===Kg?this.imageStretch=t:Ge.prototype.jb.call(this,t)},go.prototype.toString=function(){return"Picture("+this.source+")#"+Jt(this)},go.prototype.QA=function(){if(""!==this.source){hp(this.source);var t=this.source;this.source="",this.source=t}},go.prototype.redraw=function(){this.M()},go.prototype.ej=function(t,e){var o=this.Zg;if(null!==o){var a=o.getAttribute("src");if(!(o instanceof HTMLImageElement&&(null===a||""===a)||o.ro instanceof Event&&t instanceof Iu)){a=this.naturalBounds;var h=0,c=0,m=this.uo,x=m?+o.width:o.naturalWidth;if(void 0===x&&o.videoWidth&&(x=o.videoWidth),void 0===(m=m?+o.height:o.naturalHeight)&&o.videoHeight&&(m=o.videoHeight),m=m||a.height,0!==(x=x||a.width)&&0!==m){var S=x,E=m;this.sourceRect.o()&&(h=this.th.x,c=this.th.y,x=this.th.width,m=this.th.height);var P=x,N=m,nt=this.yl,at=this.xl;switch(nt){case Nn:if(this.sourceRect.o())break;P>=a.width&&(h=h+at.offsetX+(P*at.x-a.width*at.x)),N>=a.height&&(c=c+at.offsetY+(N*at.y-a.height*at.y)),x=Math.min(a.width,P),m=Math.min(a.height,N);break;case zn:P=a.width,N=a.height;break;case Ro:case Kg:nt===Ro?(P*=nt=Math.min(a.height/N,a.width/P),N*=nt):nt===Kg&&((P*=nt=Math.max(a.height/N,a.width/P))>=a.width&&(h=(h+at.offsetX+(P*at.x-a.width*at.x)/P)*x),(N*=nt)>=a.height&&(c=(c+at.offsetY+(N*at.y-a.height*at.y)/N)*m),x*=1/(P/a.width),m*=1/(N/a.height),P=a.width,N=a.height)}var rt=P*(nt=this.Af()*e.scale)*N*nt,_t=x*m/rt,It=o.__goCache;if(nt=null,o.ls&&void 0!==It&&4<rt&&_t>zA*zA)for(null===It.cj&&(ux(It,4,S,E,o),ux(It,16,S,E,o)),E=(S=It.cj).length,rt=0;rt<E&&S[rt].ratio*S[rt].ratio<_t;rt++)nt=S[rt];if(!e.rl){if(null===this.nm)if(null===this.Zg)this.nm=!1;else{(S=new Ko(null).context).drawImage(this.Zg,0,0);try{S.getImageData(0,0,1,1).data[3]&&(this.nm=!1),this.nm=!1}catch(Vt){this.nm=!0}}if(this.nm)return}switch(S=0,P<a.width&&(S=at.offsetX+(a.width*at.x-P*at.x)),E=0,N<a.height&&(E=at.offsetY+(a.height*at.y-N*at.y)),this.flip){case Xd:t.translate(Math.min(a.width,P),0),t.scale(-1,1);break;case Zg:t.translate(0,Math.min(a.height,N)),t.scale(1,-1);break;case ks:t.translate(Math.min(a.width,P),Math.min(a.height,N)),t.scale(-1,-1)}if(e.Ke("pictureRatioOptimization")&&!e.yi&&void 0!==It&&null!==nt&&1!==nt.ratio){t.save(),e=nt.ratio;try{t.drawImage(nt.source,h/e,c/e,Math.min(nt.source.width,x/e),Math.min(nt.source.height,m/e),S,E,Math.min(a.width,P),Math.min(a.height,N))}catch(Vt){this.Yr=!1}t.restore()}else try{t.drawImage(o,h,c,x,m,S,E,Math.min(a.width,P),Math.min(a.height,N))}catch(Vt){this.Yr=!1}switch(this.flip){case Xd:t.scale(-1,1),t.translate(-Math.min(a.width,P),0);break;case Zg:t.scale(1,-1),t.translate(0,-Math.min(a.height,N));break;case ks:t.scale(-1,-1),t.translate(-Math.min(a.width,P),-Math.min(a.height,N))}}}}},go.prototype.Hm=function(t,e,o,a){var h=this.desiredSize,c=Gs(this,!0),m=this.Zg,x=this.uo;(x||!this.Ol&&m&&m.complete)&&(this.Ol=!0),null===m&&(isFinite(h.width)||(t=0),isFinite(h.height)||(e=0)),isFinite(h.width)||c===zn||c===Lr?(isFinite(t)||(t=this.sourceRect.o()?this.sourceRect.width:x?+m.width:m.naturalWidth),o=0):null!==m&&!1!==this.Ol&&(t=this.sourceRect.o()?this.sourceRect.width:x?+m.width:m.naturalWidth),isFinite(h.height)||c===zn||c===Gr?(isFinite(e)||(e=this.sourceRect.o()?this.sourceRect.height:x?+m.height:m.naturalHeight),a=0):null!==m&&!1!==this.Ol&&(e=this.sourceRect.o()?this.sourceRect.height:x?+m.height:m.naturalHeight),isFinite(h.width)&&(t=h.width),isFinite(h.height)&&(e=h.height),h=this.maxSize,c=this.minSize,o=Math.max(o,c.width),a=Math.max(a,c.height),t=Math.min(h.width,t),e=Math.min(h.height,e),t=Math.max(o,t),e=Math.max(a,e),null===m||m.complete||(isFinite(t)||(t=0),isFinite(e)||(e=0)),ue(this.rc,t,e),Bh(this,0,0,t,e)},go.prototype.Ih=function(t,e,o,a){V1(this,t,e,o,a)},B.Object.defineProperties(go.prototype,{element:{get:function(){return this.Zg},set:function(t){var e=this.Zg;if(e!==t){this.uo=t instanceof HTMLCanvasElement;var o=t instanceof HTMLImageElement;e instanceof HTMLImageElement&&Ib(e),null===t||o||t instanceof HTMLVideoElement||this.uo||R("Picture.element must be an instance of Image, Canvas, or Video, not: "+t);var a=this.diagram;null!==a&&zg(a,this),this.Zg=t,null!==t&&o&&void 0===t.Wg&&(t.Wg=new At),null!==a&&o&&Ud(a,this),null!==t&&(this.uo||!0===t.complete?(t.io&&(t.ro instanceof Event&&null!==this.ld?this.ld(this,t.ro):!0===t.ls&&!t.ro&&null!==this.xh&&t.ov&&this.xh(this,t.ov)),t.ls=!0,this.desiredSize.o()||(Xo(this,!1),this.s())):o&&Pb(this,t)),this.g("element",e,t),this.M()}}},source:{get:function(){return this.$p},set:function(t){var e=this.$p;if(e!==t){this.$p=t;var o=fh;if(Us){var a=null;if(void 0!==o[t])a=o[t];else if(""!==t){30<el&&(hp(),o=fh),(a=G("img")).io=!0,Pb(this,a);var h=this.gm;null!==h&&(a.crossOrigin=h(this)),a.src=t,o[t]=a,el++}this.element=a,null!==a&&void 0===a.__goCache&&(a.__goCache=new yS),this.s(),this.M()}this.g("source",e,t)}}},sourceCrossOrigin:{get:function(){return this.gm},set:function(t){if(this.gm!==t&&(this.gm=t,null!==this.element)){var e=this.element.getAttribute("src");null===t&&"string"==typeof e?this.element.crossOrigin=null:null!==t&&(this.element.crossOrigin=t(this)),this.element.src=e}}},sourceRect:{get:function(){return this.th},set:function(t){var e=this.th;e.w(t)||(this.th=t=t.H(),this.M(),this.g("sourceRect",e,t))}},imageStretch:{get:function(){return this.yl},set:function(t){var e=this.yl;e!==t&&(this.yl=t,this.M(),this.g("imageStretch",e,t))}},flip:{get:function(){return this.Td},set:function(t){var e=this.Td;e!==t&&(this.Td=t,this.M(),this.g("flip",e,t))}},imageAlignment:{get:function(){return this.xl},set:function(t){var e=this.xl;e.w(t)||(this.xl=t=t.H(),this.M(),this.g("imageAlignment",e,t))}},errorFunction:{get:function(){return this.ld},set:function(t){var e=this.ld;e!==t&&(this.ld=t,this.g("errorFunction",e,t))}},successFunction:{get:function(){return this.xh},set:function(t){var e=this.xh;e!==t&&(this.xh=t,this.g("successFunction",e,t))}},naturalBounds:{get:function(){return this.rc}}}),go.prototype.redraw=go.prototype.redraw,go.prototype.reloadSource=go.prototype.QA;var fh=null,el=0,zA=4;function yS(){this.cj=null}function ux(t,e,o,a,h){null===t.cj&&(t.cj=[]);var c=new Ko(null),m=c.context,x=1/e;c.width=o/e,c.height=a/e,0!==c.width&&0!==c.height&&(e=new xS(c.Ja,e),o=1,0<t.cj.length&&(h=(o=t.cj[t.cj.length-1]).source,o=o.ratio),m.setTransform(x*o,0,0,x*o,0,0),m.drawImage(h,0,0),t.cj.push(e))}function xS(t,e){this.source=t,this.ratio=e}function Qo(){this.Kt=new pi,this.ic=null}function Sc(t,e,o,a,h){t.ic=new jr,t.ic.startX=e,t.ic.startY=o,t.ic.isFilled=a,t.Kt.figures.add(t.ic),void 0!==h&&(t.ic.isShadowed=h)}function cx(t){var e=t.ic.segments.length;0<e&&t.ic.segments.J(e-1).close()}function $h(t,e,o,a,h,c,m){var x;void 0===x&&(x=!1);var S=new Bi(Bs);S.point1X=e,S.point1Y=o,S.point2X=a,S.point2Y=h,S.endX=c,S.endY=m,x&&S.close(),t.ic.segments.add(S)}function tm(t,e,o,a,h){var c;void 0===c&&(c=!1);var m=new Bi(ls);m.point1X=e,m.point1Y=o,m.endX=a,m.endY=h,c&&m.close(),t.ic.segments.add(m)}function em(t,e,o,a,h,c,m,x){var S;void 0===S&&(S=!1),e=new Bi(Ms,m,x,e,o,a,h,c),S&&e.close(),t.ic.segments.add(e)}function fx(t){var e=im;return null!==e?(im=null,e.reset(t),e):((e=new Qo).reset(t),e)}go.className="Picture",fh=new wt,go.clearCache=hp,yS.className="PictureCacheArray",xS.className="PictureCacheInstance",Qo.prototype.reset=function(t){null!==t?(t.ea(),this.Kt=t,t.figures.clear()):this.Kt=new pi,this.ic=null},Qo.prototype.Ym=function(t){this.ic.isShadowed=t},Qo.prototype.moveTo=function(t,e,o){void 0===o&&(o=!1);var a=new Bi(Cn);a.endX=t,a.endY=e,o&&a.close(),this.ic.segments.add(a)},Qo.prototype.lineTo=function(t,e,o){void 0===o&&(o=!1);var a=new Bi(tr);a.endX=t,a.endY=e,o&&a.close(),this.ic.segments.add(a)},Qo.prototype.arcTo=function(t,e,o,a,h,c,m){void 0===c&&(c=0),void 0===m&&(m=!1);var x=new Bi(Vi);x.startAngle=t,x.sweepAngle=e,x.centerX=o,x.centerY=a,x.radiusX=h,x.radiusY=0!==c?c:h,m&&x.close(),this.ic.segments.add(x)};var im=null;function so(t,e){var o=t.toLowerCase(),a=Zt.Qe;a[t]=e,a[o]=t}function Ye(t){pe.call(this,t),this.D=2408959,this.ih=this.Nf="",this.Gp=this.Cp=this.Rp=this.Ho=null,this.Tp="",this.Lf=this.so=this.Sp=this.sh=null,this.Ep="",this.Dp=ne,this.Ub=this.Hp="",this.Fi=this.An=this.mi=null,this.dg=new J(NaN,NaN).freeze(),this.Oo="",this.cf=null,this.Po=tn,this.Ip=eo,this.Yo=Ke,this.Qo=Ne,this.Sn=null,this.Io=127,this.Xp=Le,this.Wp="gray",this.ug=4,this.zx=-1,this.tq=NaN,this.ez=new Lt,this.Xj=null,this.kh=NaN}function wv(t){0!=(16384&t.D)&&(t.updateAdornments(),t.D&=-16385)}function Ou(t){if(!1===Xh(t)){px(t,!0),t.Fl();var e=t.diagram;null!==e&&(e.wd.add(t),e.Db())}}function _v(t){if(t.D|=2097152,!1!==Xh(t)){var e=t.position,o=t.location;o.o()&&e.o()||bv(t,e,o),o=t.xb;var a=Lt.alloc().assign(o);o.ea(),o.x=e.x,o.y=e.y,o.freeze(),t.Im(a,o),Lt.free(a),px(t,!1)}}function Dc(t,e){var o=t.ez;isNaN(t.kh)&&(t.kh=dS(t));var a=t.kh,h=2*a;if(!t.isShadowed)return o.h(e.x-1-a,e.y-1-a,e.width+2+h,e.height+2+h),o;a=e.x,h=e.y;var c=e.width;e=e.height;var m=t.shadowBlur;return c+=m,e+=m,a-=m/2,h-=m/2,0<(t=t.shadowOffset).x?c+=t.x:(a+=t.x,c-=t.x),0<t.y?e+=t.y:(h+=t.y,e-=t.y),o.h(a-1,h-1,c+2,e+2),o}function Rb(t,e,o,a){null===e||t instanceof Ci||(e=e.animationManager).ef&&eb(e,t,a.copy(),o.copy())}function bv(t,e,o){var a=J.alloc(),h=t.locationSpot,c=t.locationObject;h.nc()&&R("determineOffset: Part's locationSpot must be real: "+h.toString());var m=c.naturalBounds,x=c instanceof qe?c.strokeWidth:0;if(a.Uk(0,0,m.width+x,m.height+x,h),c!==t)for(a.offset(-x/2,-x/2),c.transform.ta(a),h=c.panel;null!==h&&h!==t;)h.transform.ta(a),h=h.panel;t.cg.ta(a),a.offset(-t.qc.x,-t.qc.y),h=t.diagram,c=o.o(),m=e.o(),c&&m?0!=(2097152&t.D)?Ob(t,e,o,h,a):Nb(t,e,o,h,a):c?Ob(t,e,o,h,a):m&&Nb(t,e,o,h,a),t.D|=2097152,J.free(a),t.Fl()}function Ob(t,e,o,a,h){var c=e.x,m=e.y;e.h(o.x-h.x,o.y-h.y),null!==a&&((a=(o=a.animationManager).defaultAnimation.isAnimating)||!o.ef||t instanceof Ci||eb(o,t,new J(c,m),e),a||e.x===c&&e.y===m||t.g("position",new J(c,m),e.copy()))}function Nb(t,e,o,a,h){var c=o.copy();o.h(e.x+h.x,e.y+h.y),o.w(c)||null===a||t.g("location",c,o.copy())}function Fb(t,e,o){Mv(t,!1),t instanceof Fe&&R0(o,t),t.layer.isTemporary||e||o.Na(),e=t.xb;var a=o.viewportBounds;a.o()?dh(t)?(De(e,a)||t.Nd(!1),t.updateAdornments()):e.Mc(a)?(t.Nd(!0),t.updateAdornments()):t.Lb():o.xi=!0}function dx(t,e,o,a){e.constructor===t.constructor||Ec||(Ec=!0,Q('Should not change the class of the Part when changing category from "'+o+'" to "'+a+'"'),Q("  Old class: "+v(t.constructor)+", new class: "+v(e.constructor)+", part: "+t.toString())),t.nk();var h=t.data;o=t.layerName;var c=t.isSelected,m=t.isHighlighted,x=!0,S=!0,E=!1;t instanceof Fe&&(x=t.isTreeLeaf,S=t.isTreeExpanded,E=t.wasTreeExpanded),e.yf(t),e.cloneProtected(t),t.Nf=a,t.s(),t.M(),a=!0,null!==(e=t.diagram)&&(a=e.skipsUndoManager,e.skipsUndoManager=!0),t.ob=h,t.D=c?4096|t.D:-4097&t.D,t.D=m?524288|t.D:-524289&t.D,t instanceof Fe&&(t.P=x?4|t.P:-5&t.P,t.P=S?1|t.P:-2&t.P,t.P=E?2|t.P:-3&t.P),null!==h&&t.Ea(),(h=t.layerName)!==o&&(t.ih=o,t.layerName=h),null!==e&&(e.skipsUndoManager=a),t.Nc()&&t.C(64)}function Xh(t){return 0!=(32768&t.D)}function px(t,e){t.D=e?32768|t.D:-32769&t.D}function Mv(t,e){t.D=e?65536|t.D:-65537&t.D}function dh(t){return 0!=(131072&t.D)}function nm(t,e){t.D=e?1048576|t.D:-1048577&t.D}function rm(t,e){var o=e.containingGroup;return null!==o?1+rm(t,o):e instanceof Fe&&null!==(e=e.labeledLink)?rm(t,e):0}function Lb(t,e){var o=e.containingGroup;return null!==o||e instanceof Fe&&null!==(o=e.labeledLink)?Lb(t,o):e}function mx(t,e,o){if(e===o||null===o)return!1;var a=e.containingGroup;return!(null===a||a!==o&&!mx(t,a,o))||e instanceof Fe&&null!==(e=e.labeledLink)&&mx(t,e,o)}function gx(t){return!(!t.isVisible()||null!==(t=t.layer)&&t.isTemporary)}function Kh(t,e,o,a,h,c){if(void 0===c&&(c=null),!(t.contains(e)||null!==c&&!c(e)||e instanceof Ci))if(t.add(e),e instanceof Fe){if(o&&e instanceof Je)for(var m=e.memberParts;m.next();)Kh(t,m.value,o,a,h,c);if(!1!==h)for(m=e.linksConnected;m.next();){var x=m.value;if(!t.contains(x)){var S=x.fromNode,E=x.toNode;S=null===S||t.contains(S),E=null===E||t.contains(E),(h?S&&E:S||E)&&Kh(t,x,o,a,h,c)}}if(1<a)for(e=e.Wv();e.next();)Kh(t,e.value,o,a-1,h,c)}else if(e instanceof Ce)for(e=e.labelNodes;e.next();)Kh(t,e.value,o,a,h,c)}Qo.className="StreamGeometryContext",so("Rectangle",function(t,e,o){var a=Zt.Uh[t="r"+e+","+o];return void 0!==a||((a=new pi(Tr)).endX=e,a.endY=o,50>Zt.Vh&&(Zt.Uh[t]=a,Zt.Vh++)),a}),so("Square",function(t,e,o){var a=Zt.Uh[t="s"+e+","+o];return void 0!==a||((a=new pi(Tr)).endX=e,a.endY=o,a.defaultStretch=Ro,50>Zt.Vh&&(Zt.Uh[t]=a,Zt.Vh++)),a}),so("RoundedRectangle",function(t,e,o){var a=t?t.parameter1:NaN;return(isNaN(a)||0>a)&&(a=5),a=Math.min(a,e/3),t=(a=Math.min(a,o/3))*Zt.Kg,e=(new pi).add(new jr(a,0,!0).add(new Bi(tr,e-a,0)).add(new Bi(Bs,e,a,e-t,0,e,t)).add(new Bi(tr,e,o-a)).add(new Bi(Bs,e-a,o,e,o-t,e-t,o)).add(new Bi(tr,a,o)).add(new Bi(Bs,0,o-a,t,o,0,o-t)).add(new Bi(tr,0,a)).add(new Bi(Bs,a,0,0,t,t,0).close())),1<t&&(e.spot1=new He(0,0,t,t),e.spot2=new He(1,1,-t,-t)),e}),so("Border","RoundedRectangle"),so("Ellipse",function(t,e,o){var a=Zt.Uh[t="e"+e+","+o];return void 0!==a||((a=new pi(_l)).endX=e,a.endY=o,a.spot1=W_,a.spot2=Y_,50>Zt.Vh&&(Zt.Uh[t]=a,Zt.Vh++)),a}),so("Circle",function(t,e,o){var a=Zt.Uh[t="c"+e+","+o];return void 0!==a||((a=new pi(_l)).endX=e,a.endY=o,a.spot1=W_,a.spot2=Y_,a.defaultStretch=Ro,50>Zt.Vh&&(Zt.Uh[t]=a,Zt.Vh++)),a}),so("TriangleRight",function(t,e,o){return(new pi).add(new jr(0,0).add(new Bi(tr,e,.5*o)).add(new Bi(tr,0,o).close())).Zm(0,.25,.5,.75)}),so("TriangleDown",function(t,e,o){return(new pi).add(new jr(0,0).add(new Bi(tr,e,0)).add(new Bi(tr,.5*e,o).close())).Zm(.25,0,.75,.5)}),so("TriangleLeft",function(t,e,o){return(new pi).add(new jr(e,o).add(new Bi(tr,0,.5*o)).add(new Bi(tr,e,0).close())).Zm(.5,.25,1,.75)}),so("TriangleUp",function(t,e,o){return(new pi).add(new jr(e,o).add(new Bi(tr,0,o)).add(new Bi(tr,.5*e,0).close())).Zm(.25,.5,.75,1)}),so("Triangle","TriangleUp"),so("Diamond",function(t,e,o){return(new pi).add(new jr(.5*e,0).add(new Bi(tr,0,.5*o)).add(new Bi(tr,.5*e,o)).add(new Bi(tr,e,.5*o).close())).Zm(.25,.25,.75,.75)}),so("LineH",function(t,e,o){return(t=new pi(ar)).startX=0,t.startY=o/2,t.endX=e,t.endY=o/2,t}),so("LineV",function(t,e,o){return(t=new pi(ar)).startX=e/2,t.startY=0,t.endX=e/2,t.endY=o,t}),so("None","Rectangle"),so("BarH","Rectangle"),so("BarV","Rectangle"),so("MinusLine","LineH"),so("PlusLine",function(t,e,o){return(new pi).add(new jr(0,o/2,!1).add(new Bi(tr,e,o/2)).add(new Bi(Cn,e/2,0)).add(new Bi(tr,e/2,o)))}),so("XLine",function(t,e,o){return(new pi).add(new jr(0,o,!1).add(new Bi(tr,e,0)).add(new Bi(Cn,0,0)).add(new Bi(tr,e,o)))}),Zt.dn={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},z(Ye,pe),Ye.prototype.cloneProtected=function(t){pe.prototype.cloneProtected.call(this,t),t.D=-4097&this.D|49152,t.Nf=this.Nf,t.ih=this.ih,t.Ho=this.Ho,t.Rp=this.Rp,t.Cp=this.Cp,t.Gp=this.Gp,t.Tp=this.Tp,t.Sp=this.Sp,t.so=this.so,t.Lf=null,t.Ep=this.Ep,t.Dp=this.Dp.H(),t.Hp=this.Hp,t.Ip=this.Ip.H(),t.Ub=this.Ub,t.An=this.An,t.dg.assign(this.dg),t.Oo=this.Oo,t.Po=this.Po.H(),t.Yo=this.Yo.H(),t.Qo=this.Qo.H(),t.Sn=this.Sn,t.Io=this.Io,t.Xp=this.Xp.H(),t.Wp=this.Wp,t.ug=this.ug,t.tq=this.tq},Ye.prototype.yf=function(t){pe.prototype.yf.call(this,t),t.Oh(),t.sh=null,t.cf=null,t.Xj=null},Ye.prototype.toString=function(){var t=v(this.constructor)+"#"+Jt(this);return null!==this.data&&(t+="("+g(this.data)+")"),t},Ye.prototype.Sk=function(t,e,o,a,h,c,m){var x=this.diagram;null!==x&&(t===hr&&"elements"===e?h instanceof pe?Pf(h,function(S){Gx(x.partManager,S),Hg(x,S)}):Ud(x,h):t===_i&&"elements"===e&&(h instanceof pe?Pf(h,function(S){Gv(x.partManager,S,x)}):zg(x,h)),x.Va(t,e,o,a,h,c,m))},Ye.prototype.Ea=function(t){if(pe.prototype.Ea.call(this,t),null!==this.data){for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a];h instanceof pe&&Pf(h,function(c){null!==c.data&&c.Ea()})}for(e=this.adornments;e.next();)e.value.Ea(t)}},Ye.prototype.updateRelationshipsFromData=function(){null!==this.data&&this.diagram.partManager.updateRelationshipsFromData(this)},Ye.prototype.wk=function(t){var e=this.Lf;return null===e?null:e.G(t)},Ye.prototype.Gh=function(t,e){if(null!==e){var o=null,a=this.Lf;if(null!==a&&(o=a.G(t)),o!==e){if(null!==o){var h=o.diagram;null!==h&&h.remove(o)}null===a&&(this.Lf=a=new ot),e.Nf!==t&&(e.category=t),a.add(t,e),null!==(t=this.diagram)&&(t.add(e),null!==(t=e.adornedObject)&&null!==(t=t.ij())&&(e.data=t.data))}}},Ye.prototype.Hf=function(t){var e=this.Lf;if(null!==e){var o=e.G(t);if(null!==o){var a=o.diagram;null!==a&&a.remove(o)}e.remove(t),0===e.count&&(this.Lf=null)}},Ye.prototype.nk=function(){var t=this.Lf;if(null!==t){var e=u();for(t=t.iterator;t.next();)e.push(t.key);t=e.length;for(var o=0;o<t;o++)this.Hf(e[o]);p(e)}},Ye.prototype.updateAdornments=function(){var t=this.diagram;if(null!==t){for(var e=this.adornments;e.next();){var o=e.value;o.s(),o.placeholder&&o.placeholder.s()}t:{if(this.isSelected&&this.selectionAdorned&&null!==(e=this.selectionObject)&&this.actualBounds.o()&&this.isVisible()&&e.Gf()&&e.actualBounds.o()){if(null===(o=this.wk("Selection"))){if(null===(o=this.selectionAdornmentTemplate)&&(o=this.Ph()?t.linkSelectionAdornmentTemplate:this instanceof Je?t.groupSelectionAdornmentTemplate:t.nodeSelectionAdornmentTemplate),!(o instanceof Ci))break t;Jo(o),null!==(o=o.copy())&&(this.Ph()&&this.selectionObject===this.path&&(o.type=pe.Link),o.adornedObject=e)}if(null!==o){o.type===pe.Link&&o.s(),this.Gh("Selection",o);break t}}this.Hf("Selection")}for(function(t,e){e.toolManager.mouseDownTools.each(function(o){o.isEnabled&&o.updateAdornments(t)}),e.toolManager.updateAdornments(t)}(this,t),e=this.adornments;e.next();)e.value.Ea()}},Ye.prototype.Lb=function(){var t=this.diagram;null!==t&&(Dl(t),0==(16384&this.D)&&(this.D|=16384,t.Db()))},Ye.prototype.move=function(t,e){!0===e?this.location=t:this.position=t},Ye.prototype.moveTo=function(t,e,o){t=J.allocAt(t,e),this.move(t,o),J.free(t)},Ye.prototype.isVisible=function(){if(!this.visible)return!1;var t=this.layer;if(null!==t){if(!t.visible)return!1;if(null!==(t=t.diagram)&&t.animationManager.cu(this))return!0}return!!(null===(t=this.containingGroup)||t.isSubGraphExpanded&&t.isVisible())},(q=Ye.prototype).Ob=function(t){var e=this.diagram;t?(this.C(4),this.Lb(),null!==e&&e.wd.add(this)):(this.C(8),this.nk()),this.Oh(),null!==e&&(e.Na(),e.M())},q.bb=function(t){if(this.name===t)return this;var e=this.Xj;if(null===e&&(this.Xj=e=new ot),null!==e.G(t))return e.G(t);var o=pe.prototype.bb.call(this,t);return null!==o?(e.set(t,o),o):(e.set(t,null),null)},q.Df=function(t,e,o){void 0===o&&(o=new J),e=e.nc()?Xe:e;var a=t.naturalBounds;if(o.h(a.width*e.x+e.offsetX,a.height*e.y+e.offsetY),null===t||t===this)return o;for(t.transform.ta(o),t=t.panel;null!==t&&t!==this;)t.transform.ta(o),t=t.panel;return this.cg.ta(o),o.offset(-this.qc.x,-this.qc.y),o},q.mj=function(t){return void 0===t&&(t=new Lt),t.assign(this.actualBounds)},q.Ta=function(){!0===Hh(this)&&this.measure(1/0,1/0),this.arrange()},Ye.prototype.arrange=function(){if(!1===hs(this))_v(this);else{kl(this,!1);var t=this.xb,e=Lt.alloc();e.assign(t);var o=dh(this);this.Ih(0,0,this.qc.width,this.qc.height);var a=this.position;bv(this,a,this.location),t.ea(),t.x=a.x,t.y=a.y,t.freeze(),this.Im(e,t),e.w(t)?this.Nd(o):!this.Nc()||Zt.A(e.width,t.width)&&Zt.A(e.height,t.height)||0<=this.zx&&this.C(16),Lt.free(e),px(this,!1)}},(q=Ye.prototype).Im=function(t,e){var o=this.diagram;if(null!==o){var a=!1;if(!1===o.vi&&t.o()){var h=Lt.alloc();h.assign(o.documentBounds),h.Jw(o.padding),t.x>h.x&&t.y>h.y&&t.right<h.right&&t.bottom<h.bottom&&e.x>h.x&&e.y>h.y&&e.right<h.right&&e.bottom<h.bottom&&(a=!0),Lt.free(h)}0==(65536&this.D)&&t.w(e)||Fb(this,a,o),o.M(),!t.o()&&!e.o()||Ae(t,e)||(this instanceof Fe&&!o.undoManager.isUndoingRedoing&&this.sd(),this.Oh())}},q.Ew=function(t,e){if(this.Ph()||!t.o())return!1;var o=this.diagram;null!==o&&Rb(this,o,t,e),this.la=t,this.D&=-2097153;var a=this.dg;return!a.o()||null!==o&&!o.animationManager.isTicking&&o.undoManager.isUndoingRedoing||(o=a.copy(),a.h(a.x+(t.x-e.x),a.y+(t.y-e.y)),this.g("location",o,a.copy())),!1===Xh(this)&&!1===hs(this)&&(Ou(this),_v(this)),!0},q.er=function(t,e,o){var a=this.dg,h=this.la;if(o){if(a.x===t&&a.y===e)return;Xh(this)||hs(this)?h.h(NaN,NaN):h.h(h.x+t-a.x,h.y+e-a.y),a.h(t,e)}else{if(h.x===t&&h.y===e)return;Xh(this)||hs(this)?this.lu():a.h(a.x+t-h.x,a.y+e-h.y),h.h(t,e)}Ou(this)},q.lu=function(){this.D&=-2097153,Ou(this)},q.rj=function(){return!0},q.Nc=function(){return!0},q.Ph=function(){return!1},q.Ff=function(){return!0},Ye.prototype.canCopy=function(){if(!this.copyable)return!1;var t=this.layer;return null===t||!!t.allowCopy&&(null===(t=t.diagram)||!!t.allowCopy)},Ye.prototype.canDelete=function(){if(!this.deletable)return!1;var t=this.layer;return null===t||!!t.allowDelete&&(null===(t=t.diagram)||!!t.allowDelete)},Ye.prototype.canEdit=function(){if(!this.textEditable)return!1;var t=this.layer;return null===t||!!t.allowTextEdit&&(null===(t=t.diagram)||!!t.allowTextEdit)},Ye.prototype.canGroup=function(){if(!this.groupable)return!1;var t=this.layer;return null===t||!!t.allowGroup&&(null===(t=t.diagram)||!!t.allowGroup)},Ye.prototype.canMove=function(){if(!this.movable)return!1;var t=this.layer;return null===t||!!t.allowMove&&(null===(t=t.diagram)||!!t.allowMove)},Ye.prototype.canReshape=function(){if(!this.reshapable)return!1;var t=this.layer;return null===t||!!t.allowReshape&&(null===(t=t.diagram)||!!t.allowReshape)},Ye.prototype.canResize=function(){if(!this.resizable)return!1;var t=this.layer;return null===t||!!t.allowResize&&(null===(t=t.diagram)||!!t.allowResize)},Ye.prototype.canRotate=function(){if(!this.rotatable)return!1;var t=this.layer;return null===t||!!t.allowRotate&&(null===(t=t.diagram)||!!t.allowRotate)},Ye.prototype.canSelect=function(){if(!this.selectable)return!1;var t=this.layer;return null===t||!!t.allowSelect&&(null===(t=t.diagram)||!!t.allowSelect)},(q=Ye.prototype).Nd=function(t){this.D=t?131072|this.D:-131073&this.D},q.Oh=function(){var t=this.containingGroup;null!==t&&(t.s(),null!==t.placeholder&&t.placeholder.s(),t.sd())},q.M=function(){var t=this.diagram;null!==t&&!hs(this)&&!Xh(this)&&this.isVisible()&&this.xb.o()&&t.M(Dc(this,this.xb))},q.s=function(){pe.prototype.s.call(this);var t=this.diagram;null!==t&&(t.wd.add(this),this instanceof Fe&&null!==this.labeledLink&&Vh(this.labeledLink),t.Db(!0))},q.Mq=function(t){t||null!==(t=this.mi)&&hm(t,this)},q.Nq=function(t){t||null!==(t=this.mi)&&Sv(t,this)},q.uk=function(){var t=this.data;if(null!==t){var e=this.diagram;null!==e&&null!==(e=e.model)&&e.Nm(t)}},q.bA=function(){return rm(this,this)},q.eA=function(){return Lb(this,this)},q.Kd=function(t){return t instanceof Je&&mx(this,this,t)},q.oy=function(t){if(null===t)return null;if(this===t)return this.containingGroup;for(var e=this;null!==e;){if(e instanceof Je&&nm(e,!0),e instanceof Fe){var o=e.labeledLink;null!==o&&(e=o)}e=e.containingGroup}for(o=null,e=t;null!==e;){if(0!=(1048576&e.D)){o=e;break}e instanceof Fe&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup}for(e=this;null!==e;)e instanceof Je&&nm(e,!1),e instanceof Fe&&null!==(t=e.labeledLink)&&(e=t),e=e.containingGroup;return o},Ye.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var t=this.layer;return!(null!==t&&t.isTemporary||this instanceof Fe&&this.isLinkLabel)},Ye.prototype.C=function(t){if(void 0===t&&(t=16777215),this.isLayoutPositioned&&0!=(t&this.layoutConditions)){var e=this.layer;e=!(null!==e&&e.isTemporary||this instanceof Fe&&this.isLinkLabel)&&!(null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing)}else e=!1;if(e)if(null!==(e=this.mi)){var o=e.layout;null!==o?o.C():e.C(t)}else null!==(t=this.diagram)&&null!==(t=t.layout)&&t.C()},B.Object.defineProperties(Ye.prototype,{key:{get:function(){var t=this.diagram;if(null!==t)return t.model.ja(this.data)}},adornments:{get:function(){return null===this.Lf?bt:this.Lf.iteratorValues}},layer:{get:function(){return this.Fi}},diagram:{get:function(){var t=this.Fi;return null!==t?t.diagram:null}},layerName:{get:function(){return this.ih},set:function(t){var e=this.ih;if(e!==t){var o=this.diagram;if((null===o||null!==o.xk(t)&&!o.partManager.addsToTemporaryLayer)&&(this.ih=t,null!==o&&o.Na(),this.g("layerName",e,t),null!==(e=this.layer)&&e.name!==t&&null!==(o=e.diagram)&&null!==(t=o.xk(t))&&t!==e)){var a=e.Lc(-1,this,!0);if(0<=a&&o.Va(_i,"parts",e,this,null,a,!0),a=t.oj(99999999,this,!0),e.visible!==t.visible&&this.Ob(t.visible),0<=a&&o.Va(hr,"parts",t,null,this,!0,a),null!==(a=this.layerChanged)){var h=o.Z;o.Z=!0,a(this,e,t),o.Z=h}}}}},layerChanged:{get:function(){return this.Ho},set:function(t){var e=this.Ho;e!==t&&(this.Ho=t,this.g("layerChanged",e,t))}},zOrder:{get:function(){return this.tq},set:function(t){var e=this.tq;if(e!==t){this.tq=t;var o=this.layer;null!==o&&$a(o,-1,this),this.g("zOrder",e,t),null!==(t=this.diagram)&&t.M()}}},locationObject:{get:function(){if(null===this.cf){var t=this.locationObjectName;""!==t?(t=this.bb(t),this.cf=null!==t?t:this):this.cf=this instanceof Ci&&this.type!==pe.Link&&null!==this.placeholder?this.placeholder:this}return this.cf.visible?this.cf:this}},minLocation:{get:function(){return this.Yo},set:function(t){var e=this.Yo;e.w(t)||(this.Yo=t=t.H(),this.g("minLocation",e,t))}},maxLocation:{get:function(){return this.Qo},set:function(t){var e=this.Qo;e.w(t)||(this.Qo=t=t.H(),this.g("maxLocation",e,t))}},locationObjectName:{get:function(){return this.Oo},set:function(t){var e=this.Oo;e!==t&&(this.Oo=t,this.cf=null,this.s(),this.g("locationObjectName",e,t))}},locationSpot:{get:function(){return this.Po},set:function(t){var e=this.Po;e.w(t)||(this.Po=t=t.H(),this.s(),this.g("locationSpot",e,t))}},location:{get:function(){return this.dg},set:function(t){var e=t.x,o=t.y,a=this.dg,h=a.x,c=a.y;(h===e||isNaN(h)&&isNaN(e))&&(c===o||isNaN(c)&&isNaN(o))||(e=t=t.copy(),this.Ph()?e=!1:(this.dg=e,this.D|=2097152,!1===hs(this)&&(Ou(this),(o=this.la).o()&&(null===(h=this.diagram)||h.animationManager.isTicking||!h.undoManager.isUndoingRedoing))&&(c=o.copy(),o.h(o.x+(e.x-a.x),o.y+(e.y-a.y)),Rb(this,h,o,c),this.g("position",c,o.copy())),e=!0),e&&this.g("location",a.copy(),t.copy()))}},category:{get:function(){return this.Nf},set:function(t){var e=this.Nf;if(e!==t){var o=this.diagram,a=this.data,h=null;if(null!==o&&null!==a&&!(this instanceof Ci)){var c=o.model.undoManager;c.isEnabled&&!c.isUndoingRedoing&&(h=this.clone()).W.addAll(this.W)}this.Nf=t,this.g("category",e,t),null===o||null===a||this instanceof Ci?this instanceof Ci&&null!==(h=this.adornedPart)&&(null!==(t=h.Lf)&&t.remove(e),h.Gh(this.category,this)):(c=o.model).undoManager.isUndoingRedoing||(this.Ph()?(o.partManager.setLinkCategoryForData(a,t),null!==(o=o.partManager.findLinkTemplateForCategory(t))&&(Jo(o),null!==(o=o.copy())&&dx(this,o,e,t))):(null!==c&&c.Um(a,t),null!==(o=zx(o.partManager,a,t))&&(Jo(o),null===(o=o.copy())||o instanceof Ce||(a=this.location.copy(),dx(this,o,e,t),this.location.o()||(this.location=a)))),null!==h&&((e=this.clone()).W.addAll(this.W),this.g("self",h,e)))}}},self:{get:function(){return this},set:function(t){dx(this,t,this.category,t.category)}},copyable:{get:function(){return 0!=(1&this.D)},set:function(t){var e=0!=(1&this.D);e!==t&&(this.D^=1,this.g("copyable",e,t))}},deletable:{get:function(){return 0!=(2&this.D)},set:function(t){var e=0!=(2&this.D);e!==t&&(this.D^=2,this.g("deletable",e,t))}},textEditable:{get:function(){return 0!=(4&this.D)},set:function(t){var e=0!=(4&this.D);e!==t&&(this.D^=4,this.g("textEditable",e,t),this.Lb())}},groupable:{get:function(){return 0!=(8&this.D)},set:function(t){var e=0!=(8&this.D);e!==t&&(this.D^=8,this.g("groupable",e,t))}},movable:{get:function(){return 0!=(16&this.D)},set:function(t){var e=0!=(16&this.D);e!==t&&(this.D^=16,this.g("movable",e,t))}},selectionAdorned:{get:function(){return 0!=(32&this.D)},set:function(t){var e=0!=(32&this.D);e!==t&&(this.D^=32,this.g("selectionAdorned",e,t),this.Lb())}},isInDocumentBounds:{get:function(){return 0!=(64&this.D)},set:function(t){var e=0!=(64&this.D);if(e!==t){this.D^=64;var o=this.diagram;null!==o&&o.Na(),this.g("isInDocumentBounds",e,t)}}},isLayoutPositioned:{get:function(){return 0!=(128&this.D)},set:function(t){var e=0!=(128&this.D);e!==t&&(this.D^=128,this.g("isLayoutPositioned",e,t),this.C(t?4:8))}},selectable:{get:function(){return 0!=(256&this.D)},set:function(t){var e=0!=(256&this.D);e!==t&&(this.D^=256,this.g("selectable",e,t),this.Lb())}},reshapable:{get:function(){return 0!=(512&this.D)},set:function(t){var e=0!=(512&this.D);e!==t&&(this.D^=512,this.g("reshapable",e,t),this.Lb())}},resizable:{get:function(){return 0!=(1024&this.D)},set:function(t){var e=0!=(1024&this.D);e!==t&&(this.D^=1024,this.g("resizable",e,t),this.Lb())}},rotatable:{get:function(){return 0!=(2048&this.D)},set:function(t){var e=0!=(2048&this.D);e!==t&&(this.D^=2048,this.g("rotatable",e,t),this.Lb())}},isSelected:{get:function(){return 0!=(4096&this.D)},set:function(t){var e=0!=(4096&this.D);if(e!==t){var o=this.diagram;if(!t||this.canSelect()&&!(null!==o&&o.selection.count>=o.maxSelectionCount)){this.D^=4096;var a=!1;if(null!==o){a=o.skipsUndoManager,o.skipsUndoManager=!0;var h=o.selection;h.ea(),t?h.add(this):h.remove(this),h.freeze()}this.g("isSelected",e,t),this.Lb(),null!==(t=this.selectionChanged)&&t(this),null!==o&&(o.Db(),o.skipsUndoManager=a)}}}},isHighlighted:{get:function(){return 0!=(524288&this.D)},set:function(t){var e=0!=(524288&this.D);if(e!==t){this.D^=524288;var o=this.diagram;null!==o&&((o=o.highlighteds).ea(),t?o.add(this):o.remove(this),o.freeze()),this.g("isHighlighted",e,t),this.M(),null!==(t=this.highlightedChanged)&&t(this)}}},isShadowed:{get:function(){return 0!=(8192&this.D)},set:function(t){var e=0!=(8192&this.D);e!==t&&(this.D^=8192,this.g("isShadowed",e,t),this.M())}},isAnimated:{get:function(){return 0!=(262144&this.D)},set:function(t){var e=0!=(262144&this.D);e!==t&&(this.D^=262144,this.g("isAnimated",e,t))}},highlightedChanged:{get:function(){return this.so},set:function(t){var e=this.so;e!==t&&(this.so=t,this.g("highlightedChanged",e,t))}},selectionObjectName:{get:function(){return this.Tp},set:function(t){var e=this.Tp;e!==t&&(this.Tp=t,this.sh=null,this.g("selectionObjectName",e,t))}},selectionAdornmentTemplate:{get:function(){return this.Rp},set:function(t){var e=this.Rp;e!==t&&(this.Rp=t,this.g("selectionAdornmentTemplate",e,t))}},selectionObject:{get:function(){if(null===this.sh){var t=this.selectionObjectName;null!==t&&""!==t?(t=this.bb(t),this.sh=null!==t?t:this):this.sh=this instanceof Ce&&null!==(t=this.path)?t:this}return this.sh}},selectionChanged:{get:function(){return this.Sp},set:function(t){var e=this.Sp;e!==t&&(this.Sp=t,this.g("selectionChanged",e,t))}},resizeAdornmentTemplate:{get:function(){return this.Cp},set:function(t){var e=this.Cp;e!==t&&(this.Cp=t,this.g("resizeAdornmentTemplate",e,t))}},resizeObjectName:{get:function(){return this.Ep},set:function(t){var e=this.Ep;e!==t&&(this.Ep=t,this.g("resizeObjectName",e,t))}},resizeObject:{get:function(){var t=this.resizeObjectName;return""!==t&&null!==(t=this.bb(t))?t:this}},resizeCellSize:{get:function(){return this.Dp},set:function(t){var e=this.Dp;e.w(t)||(this.Dp=t=t.H(),this.g("resizeCellSize",e,t))}},rotateAdornmentTemplate:{get:function(){return this.Gp},set:function(t){var e=this.Gp;e!==t&&(this.Gp=t,this.g("rotateAdornmentTemplate",e,t))}},rotateObjectName:{get:function(){return this.Hp},set:function(t){var e=this.Hp;e!==t&&(this.Hp=t,this.g("rotateObjectName",e,t))}},rotateObject:{get:function(){var t=this.rotateObjectName;return""!==t&&null!==(t=this.bb(t))?t:this}},rotationSpot:{get:function(){return this.Ip},set:function(t){var e=this.Ip;e.w(t)||(this.Ip=t=t.H(),this.g("rotationSpot",e,t))}},text:{get:function(){return this.Ub},set:function(t){var e=this.Ub;e!==t&&(this.Ub=t,this.g("text",e,t))}},containingGroup:{get:function(){return this.mi},set:function(t){if(this.Nc()){var e=this.mi;if(e!==t){null===t||this!==t&&!t.Kd(this)||(this===t&&R("Cannot make a Group a member of itself: "+this.toString()),R("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+t.toString())),this.C(2);var o=this.diagram;if(null!==e?Sv(e,this):this instanceof Je&&null!==o&&o.Dh.remove(this),this.mi=t,null!==t?hm(t,this):this instanceof Je&&null!==o&&o.Dh.add(this),this.C(1),null!==o&&o.Z){var a=this.data,h=o.model;if(null!==a&&h.Dk()){var c=h.ja(null!==t?t.data:null);h.dr(a,c)}}if(null!==(a=this.containingGroupChanged)&&(h=!0,null!==o&&(h=o.Z,o.Z=!0),a(this,e,t),null!==o&&(o.Z=h)),this instanceof Je)for(Kh(o=new At,this,!0,0,!0),o=o.iterator;o.next();)if((a=o.value)instanceof Fe)for(a=a.linksConnected;a.next();)fp(a.value);if(this instanceof Fe){for(o=this.linksConnected;o.next();)fp(o.value);null!==(o=this.labeledLink)&&fp(o)}this.g("containingGroup",e,t),null!==t&&null!==(e=t.layer)&&$a(e,-1,t)}}else R("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return this.An},set:function(t){var e=this.An;e!==t&&(this.An=t,this.g("containingGroupChanged",e,t))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof Fe&&null!==this.labeledLink)}},layoutConditions:{get:function(){return this.Io},set:function(t){var e=this.Io;e!==t&&(this.Io=t,this.g("layoutConditions",e,t))}},dragComputation:{get:function(){return this.Sn},set:function(t){var e=this.Sn;e!==t&&(this.Sn=t,this.g("dragComputation",e,t))}},shadowOffset:{get:function(){return this.Xp},set:function(t){var e=this.Xp;e.w(t)||(this.Xp=t=t.H(),this.M(),this.g("shadowOffset",e,t))}},shadowColor:{get:function(){return this.Wp},set:function(t){var e=this.Wp;e!==t&&(this.Wp=t,this.M(),this.g("shadowColor",e,t))}},shadowBlur:{get:function(){return this.ug},set:function(t){var e=this.ug;e!==t&&(this.ug=t,this.M(),this.g("shadowBlur",e,t))}}}),Ye.prototype.invalidateLayout=Ye.prototype.C,Ye.prototype.findCommonContainingGroup=Ye.prototype.oy,Ye.prototype.isMemberOf=Ye.prototype.Kd,Ye.prototype.findTopLevelPart=Ye.prototype.eA,Ye.prototype.findSubGraphLevel=Ye.prototype.bA,Ye.prototype.ensureBounds=Ye.prototype.Ta,Ye.prototype.getDocumentBounds=Ye.prototype.mj,Ye.prototype.getRelativePoint=Ye.prototype.Df,Ye.prototype.findObject=Ye.prototype.bb,Ye.prototype.moveTo=Ye.prototype.moveTo,Ye.prototype.invalidateAdornments=Ye.prototype.Lb,Ye.prototype.clearAdornments=Ye.prototype.nk,Ye.prototype.removeAdornment=Ye.prototype.Hf,Ye.prototype.addAdornment=Ye.prototype.Gh,Ye.prototype.findAdornment=Ye.prototype.wk,Ye.prototype.updateTargetBindings=Ye.prototype.Ea;var Ec=!1;function Ci(t){Ye.call(this,t),this.D&=-257,this.ih="Adornment",this.ie=null,this.Ex=0,this.Sx=!1,this.l=t instanceof Y0?[]:Bb,this.Sa=null}Ye.className="Part",Ye.LayoutNone=0,Ye.LayoutAdded=1,Ye.LayoutRemoved=2,Ye.LayoutShown=4,Ye.LayoutHidden=8,Ye.LayoutNodeSized=16,Ye.LayoutGroupLayout=32,Ye.LayoutNodeReplaced=64,Ye.LayoutStandard=127,Ye.LayoutAll=16777215,z(Ci,Ye),Ci.prototype.toString=function(){var t=this.adornedPart;return"Adornment("+this.category+")"+(null!==t?t.toString():"")},Ci.prototype.updateRelationshipsFromData=function(){},Ci.prototype.Gk=function(t){var e=this.adornedObject.part;if(e instanceof Ce&&this.adornedObject instanceof qe){var o=e.path;e.Gk(t),t=o.geometry,o=(e=this.W.j).length;for(var a=0;a<o;a++){var h=e[a];h.isPanelMain&&h instanceof qe&&(h.na=t)}}},Ci.prototype.rj=function(){var t=this.ie;return null===t||null===(t=t.part)||!hs(t)},Ci.prototype.Nc=function(){return!1},Ci.prototype.Sk=function(t,e,o,a,h,c,m){if(t===hr&&"elements"===e){if(h instanceof ao)null===this.Sa&&(this.Sa=h);else if(h instanceof pe){var x=h.ym(function(S){return S instanceof ao});x instanceof ao&&null===this.Sa&&(this.Sa=x)}}else t===_i&&"elements"===e&&null!==this.Sa&&(a===this.Sa||a instanceof pe&&this.Sa.Gg(a))&&(this.Sa=null);Ye.prototype.Sk.call(this,t,e,o,a,h,c,m)},Ci.prototype.updateAdornments=function(){},Ci.prototype.uk=function(){},B.Object.defineProperties(Ci.prototype,{placeholder:{get:function(){return this.Sa}},adornedObject:{get:function(){return this.ie},set:function(t){var e=this.adornedPart,o=null;null!==t&&(o=t.part),null===e||null!==t&&e===o||e.Hf(this.category),this.ie=t,null!==o&&o.Gh(this.category,this)}},adornedPart:{get:function(){var t=this.ie;return null!==t?t.part:null}},containingGroup:{get:function(){return null}}});var Bb=[];function Fe(t){Ye.call(this,t),this.P=13,this.$a=new St,this.nq=this.Kl=this.Ii=this.Ko=this.Jo=null,this.cl=Ui,this.tc=this.Se=null,this.zp=_x,this.Eh=!1}function om(t,e){null!==e&&(null===t.Se&&(t.Se=new At),t.Se.add(e))}function Vb(t,e,o,a){if(null===e||null===t.Se)return null;for(var h=t.Se.iterator;h.next();){var c=h.value;if(c.au===t&&c.lw===e&&c.My===o&&c.Ny===a||c.au===e&&c.lw===t&&c.My===a&&c.Ny===o)return c}return null}function vx(t,e){for(t=t.linksConnected;t.next();){var o=t.value;(o.fromPort===e||o.toPort===e)&&(Fo(o.fromPort),Fo(o.toPort),o.Ua())}}function Fo(t){if(null!==t){var e=t.yp;null!==e&&e.Dm(),null===(e=(t=t.part).containingGroup)||t.isVisible()||Fo(e.port)}}function yx(t,e,o,a){if(null!==e&&!o.has(e)){o.add(e);var h=!0,c=t.diagram;null!==c&&(h=c.isTreePathToChildren),e.linksConnected.each(function(m){m.isTreeLink?(h?m.fromNode===e:m.toNode===e)&&yx(t,h?m.toNode:m.fromNode,o,a):a.add(m)})}}function up(t,e,o){Fo(o);var a=t.$a.contains(e);if(a||t.$a.add(e),!a||e.fromNode===e.toNode){var h=t.linkConnected;if(null!==h){var c=!0,m=t.diagram;null!==m&&(c=m.Z,m.Z=!0),h(t,e,o),null!==m&&(m.Z=c)}}!a&&e.isTreeLink&&(o=e.fromNode,e=e.toNode,null!==o&&null!==e&&o!==e&&(a=!0,null!==(t=t.diagram)&&(a=t.isTreePathToChildren),c=a?o:e,(h=a?e:o).Eh||(h.Eh=c),!c.isTreeLeaf||null!==t&&t.undoManager.isUndoingRedoing||(a?o===c&&(c.isTreeLeaf=!1):e===c&&(c.isTreeLeaf=!1))))}function sm(t,e,o){Fo(o);var a=t.$a.remove(e),h=null;if(a||e.toNode===e.fromNode){var c=t.linkDisconnected;if(h=t.diagram,null!==c){var m=!0;null!==h&&(m=h.Z,h.Z=!0),c(t,e,o),null!==h&&(h.Z=m)}}a&&e.isTreeLink&&(o=!0,null!==h&&(o=h.isTreePathToChildren),t=o?e.toNode:e.fromNode,e=o?e.fromNode:e.toNode,null!==t&&(t.Eh=!1),null===e||e.isTreeLeaf||(0===e.$a.count?(e.Eh=null,null!==h&&h.undoManager.isUndoingRedoing||(e.isTreeLeaf=!0)):kc(e)))}function kc(t){if(t.Eh=!1,0!==t.$a.count){var e=!0,o=t.diagram;if(null===o||!o.undoManager.isUndoingRedoing){for(null!==o&&(e=o.isTreePathToChildren),o=t.$a.iterator;o.next();){var a=o.value;if(a.isTreeLink)if(e){if(a.fromNode===t)return void(t.isTreeLeaf=!1)}else if(a.toNode===t)return void(t.isTreeLeaf=!1)}t.isTreeLeaf=!0}}}function am(t){null===t.tc?t.tc=new ot:t.tc.clear(),t.an(t,function(e,o){xx(e,o)}),0===t.tc.count&&t.tc.add("",t)}function xx(t,e){var o=e.portId;null!==o&&null!==t.tc&&t.tc.add(o,e)}function lm(t,e,o){var a=e.portId;if(null!==a&&(null!==t.tc&&t.tc.remove(a),null!==(e=t.diagram)&&o)){for(o=null,t=t.findLinksConnected(a);t.next();)a=t.value,null===o&&(o=u()),o.push(a);if(null!==o){for(t=0;t<o.length;t++)e.remove(o[t]);p(o)}}}function wx(t,e){return null===(e=e.Fg())?0:1+wx(t,e)}function Cv(t,e,o,a,h,c,m){if(1<a)for(var x=o?t.Fq():t.Hd();x.next();){var S=x.value;S.isTreeLink&&(null===(S=S.Kq(t))||S===t||e.contains(S)||(e.add(S),Cv(S,e,o,a-1,h,c,m)))}else cp(t,e,o,h,c,m)}function cp(t,e,o,a,h,c){for(var m=h===t||t.isTreeExpanded,x=o?t.Fq():t.Hd();x.next();){var S=x.value;if(S.isTreeLink&&null!==(S=S.Kq(t))&&S!==t){var E=e.contains(S);E||e.add(S),m&&(c&&a.jk(S,h),S.Oh(),S.Ob(!1)),S.isTreeExpanded&&(S.wasTreeExpanded=S.isTreeExpanded,E||cp(S,e,o,a,h,c))}}t.isTreeExpanded=!1}function jb(t,e,o,a,h,c,m){for(var x=c!==t&&t.isTreeExpanded,S=o?t.Fq():t.Hd();S.next();){var E=S.value;E.isTreeLink&&(x||E.ud||E.Ua(),null!==(E=E.Kq(t))&&E!==t&&!e.contains(E)&&(e.add(E),x||(E.Ob(!0),E.Oh(),m&&h.lk(E,c)),2<a||E.wasTreeExpanded))&&(E.wasTreeExpanded=!1,jb(E,e,o,a-1,h,c,m))}t.isTreeExpanded=!0}Ci.className="Adornment",z(Fe,Ye),Fe.prototype.cloneProtected=function(t){Ye.prototype.cloneProtected.call(this,t),t.P=this.P,t.P=-17&this.P,t.Jo=this.Jo,t.Ko=this.Ko,t.Ii=this.Ii,t.nq=this.nq,t.cl=this.cl.H(),t.zp=this.zp},(q=Fe.prototype).yf=function(t){Ye.prototype.yf.call(this,t),t.sd(),t.Se=this.Se,t.tc=null},q.xA=function(t,e,o){null==e&&(e=""),null==o&&(o=""),null!==(t=Vb(this,t,e,o))&&t.Dm()},q.Sk=function(t,e,o,a,h,c,m){(t===hr&&"elements"===e||t===_i&&"elements"===e)&&(this.tc=null),Ye.prototype.Sk.call(this,t,e,o,a,h,c,m)},q.sd=function(t){void 0===t&&(t=null);for(var e=this.linksConnected;e.next();){var o=e.value;null!==t&&t.contains(o)||(Fo(o.fromPort),Fo(o.toPort),o.Ua())}},q.rj=function(){return!0},Fe.prototype.getAvoidableRect=function(t){return t.set(this.actualBounds),t.uq(this.cl),t},Fe.prototype.findVisibleNode=function(){for(var t=this;null!==t&&!t.isVisible();)t=t.containingGroup;return t},Fe.prototype.isVisible=function(){if(!Ye.prototype.isVisible.call(this))return!1;var t=!0,e=Za,o=this.diagram;if(null!==o){if(o.animationManager.cu(this))return!0;t=o.isTreePathToChildren,e=o.treeCollapsePolicy}if(e===Za){if(null!==(t=this.Fg())&&!t.isTreeExpanded)return!1}else if(e===Df){if(0<(t=t?this.Tv():this.Uv()).count&&t.all(function(a){return!a.isTreeExpanded}))return!1}else if(e===V0&&0<(t=t?this.Tv():this.Uv()).count&&t.any(function(a){return!a.isTreeExpanded}))return!1;return null===(t=this.labeledLink)||t.isVisible()},Fe.prototype.Ob=function(t){Ye.prototype.Ob.call(this,t);for(var e=this.linksConnected;e.next();){var o=e.value;if(t&&null!==this.containingGroup){var a=o.Kq(this);null===a||a.Kd(this.containingGroup)||o.Ua()}o.Ob(t)}},Fe.prototype.py=function(){var t=new At,e=new At;return yx(this,this,t,e),e.iterator},Fe.prototype.findLinksConnected=function(t){if(void 0===t&&(t=null),null===t)return this.$a.iterator;var e=new Dt(this.$a),o=this;return e.predicate=function(a){return a.fromNode===o&&a.fromPortId===t||a.toNode===o&&a.toPortId===t},e},(q=Fe.prototype).Fq=function(t){void 0===t&&(t=null);var e=new Dt(this.$a),o=this;return e.predicate=function(a){return a.fromNode===o&&(null===t||a.fromPortId===t)},e},q.Hd=function(t){void 0===t&&(t=null);var e=new Dt(this.$a),o=this;return e.predicate=function(a){return a.toNode===o&&(null===t||a.toPortId===t)},e},q.Sv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var h=a.value;h.fromNode===this?(null===t||h.fromPortId===t)&&(h=h.toNode,null!==e?e.add(h):null!==o&&o!==h?((e=new At).add(o),e.add(h)):o=h):h.toNode!==this||null!==t&&h.toPortId!==t||(h=h.fromNode,null!==e?e.add(h):null!==o&&o!==h?((e=new At).add(o),e.add(h)):o=h)}return null!==e?e.iterator:null!==o?new pt(o):bt},q.Uv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var h=a.value;h.fromNode!==this||null!==t&&h.fromPortId!==t||(h=h.toNode,null!==e?e.add(h):null!==o&&o!==h?((e=new At).add(o),e.add(h)):o=h)}return null!==e?e.iterator:null!==o?new pt(o):bt},q.Tv=function(t){void 0===t&&(t=null);for(var e=null,o=null,a=this.$a.iterator;a.next();){var h=a.value;h.toNode!==this||null!==t&&h.toPortId!==t||(h=h.fromNode,null!==e?e.add(h):null!==o&&o!==h?((e=new At).add(o),e.add(h)):o=h)}return null!==e?e.iterator:null!==o?new pt(o):bt},q.Xz=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var a=new Dt(this.$a),h=this;return a.predicate=function(c){return!((c.fromNode!==h||c.toNode!==t||null!==e&&c.fromPortId!==e||null!==o&&c.toPortId!==o)&&(c.fromNode!==t||c.toNode!==h||null!==o&&c.fromPortId!==o||null!==e&&c.toPortId!==e))},a},q.Yz=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=null);var a=new Dt(this.$a),h=this;return a.predicate=function(c){return!(c.fromNode!==h||c.toNode!==t||null!==e&&c.fromPortId!==e||null!==o&&c.toPortId!==o)},a},Fe.prototype.updateRelationshipsFromData=function(){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)},(q=Fe.prototype).Mq=function(t){Ye.prototype.Mq.call(this,t),t||(kc(this),null!==(t=this.Kl)&&zb(t,this))},q.Nq=function(t){Ye.prototype.Nq.call(this,t),t||null!==(t=this.Kl)&&null!==t.nd&&(t.nd.remove(this),t.s())},q.uk=function(){if(0<this.$a.count){var t=this.diagram;if(null!==t)for(var e=null===t.commandHandler||t.commandHandler.deletesConnectedLinks,o=this.$a.copy().iterator;o.next();){var a=o.value;e?t.remove(a):(a.fromNode===this&&(a.fromNode=null),a.toNode===this&&(a.toNode=null))}}this.labeledLink=null,Ye.prototype.uk.call(this)},q.Jt=function(t){if(null===this.tc){if(""===t&&!1===this.Nh)return this;am(this)}var e=this.tc.G(t);return null!==e||""!==t&&null!==(e=this.tc.G(""))?e:this},q.zA=function(t){if(null===t||t===this)return!1;var e=!0,o=this.diagram;if(null!==o&&(e=o.isTreePathToChildren),o=this,e)for(;o!==t;){e=null;for(var a=o.$a.iterator;a.next();){var h=a.value;if(h.isTreeLink&&(e=h.fromNode)!==o&&e!==this)break}if(e===this||null===e||e===o)return!1;o=e}else for(;o!==t;){for(e=null,a=o.$a.iterator;a.next()&&(!(h=a.value).isTreeLink||(e=h.toNode)===o||e===this););if(e===this||null===e||e===o)return!1;o=e}return!0},q.iA=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this,t)for(;;){t=null;for(var o=e.$a.iterator;o.next();){var a=o.value;if(a.isTreeLink&&(t=a.fromNode)!==e&&t!==this)break}if(t===this)return this;if(null===t||t===e)return e;e=t}else for(;;){for(t=null,o=e.$a.iterator;o.next()&&(!(a=o.value).isTreeLink||(t=a.toNode)===e||t===this););if(t===this)return this;if(null===t||t===e)return e;e=t}},q.Uz=function(t){if(null===t)return null;if(this===t)return this;for(var e=this;null!==e;)nm(e,!0),e=e.Fg();var o=null;for(e=t;null!==e;){if(0!=(1048576&e.D)){o=e;break}e=e.Fg()}for(e=this;null!==e;)nm(e,!1),e=e.Fg();return o},q.jj=function(){var t=!0,e=this.diagram;if(null!==e&&(t=e.isTreePathToChildren),e=this.$a.iterator,t){for(;e.next();)if((t=e.value).isTreeLink&&t.fromNode!==this)return t}else for(;e.next();)if((t=e.value).isTreeLink&&t.toNode!==this)return t;return null},q.Fg=function(){var t=this.Eh;if(null===t)return null;if(t instanceof Fe)return t;var e=!0;if(null!==(t=this.diagram)&&(e=t.isTreePathToChildren),t=this.$a.iterator,e){for(;t.next();)if((e=t.value).isTreeLink&&(e=e.fromNode)!==this)return this.Eh=e}else for(;t.next();)if((e=t.value).isTreeLink&&(e=e.toNode)!==this)return this.Eh=e;return this.Eh=null},q.gA=function(){var e=new At;return function t(o,a){if(null!==o){a.add(o);var h=o.jj();null!==h&&(a.add(h),t(o.Fg(),a))}}(this,e),e},q.fA=function(){return wx(this,this)},q.Hq=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren),e=new Dt(this.$a);var o=this;return e.predicate=t?function(a){return!(!a.isTreeLink||a.fromNode!==o)}:function(a){return!(!a.isTreeLink||a.toNode!==o)},e},q.Wv=function(){var t=!0,e=this.diagram;null!==e&&(t=e.isTreePathToChildren);var o=e=null,a=this.$a.iterator;if(t)for(;a.next();)(t=a.value).isTreeLink&&t.fromNode===this&&(t=t.toNode,null!==e?e.add(t):null!==o&&o!==t?((e=new St).add(o),e.add(t)):o=t);else for(;a.next();)(t=a.value).isTreeLink&&t.toNode===this&&(t=t.fromNode,null!==e?e.add(t):null!==o&&o!==t?((e=new St).add(o),e.add(t)):o=t);return null!==e?e.iterator:null!==o?new pt(o):bt},q.hA=function(t){void 0===t&&(t=1/0);var e=new At;return Kh(e,this,!1,t,!0),e},Fe.prototype.collapseTree=function(t){void 0===t&&(t=1),1>t&&(t=1);var e=this.diagram;if(null!==e&&!e.Le){e.Le=!0;var o=new At;o.add(this),Cv(this,o,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===Za),e.Le=!1}},Fe.prototype.expandTree=function(t){void 0===t&&(t=2),2>t&&(t=2);var e=this.diagram;if(null!==e&&!e.Le){e.Le=!0;var o=new At;o.add(this),jb(this,o,e.isTreePathToChildren,t,e,this,e.treeCollapsePolicy===Za),e.Le=!1}},B.Object.defineProperties(Fe.prototype,{portSpreading:{get:function(){return this.zp},set:function(t){var e=this.zp;e!==t&&(this.zp=t,this.g("portSpreading",e,t),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||this.sd())}},avoidable:{get:function(){return 0!=(8&this.P)},set:function(t){var e=0!=(8&this.P);if(e!==t){this.P^=8;var o=this.diagram;null!==o&&R0(o,this),this.g("avoidable",e,t)}}},avoidableMargin:{get:function(){return this.cl},set:function(t){"number"==typeof t&&(t=new oi(t));var e=this.cl;if(!e.w(t)){this.cl=t=t.H();var o=this.diagram;null!==o&&R0(o,this),this.g("avoidableMargin",e,t)}}},linksConnected:{get:function(){return this.$a.iterator}},linkConnected:{get:function(){return this.Jo},set:function(t){var e=this.Jo;e!==t&&(this.Jo=t,this.g("linkConnected",e,t))}},linkDisconnected:{get:function(){return this.Ko},set:function(t){var e=this.Ko;e!==t&&(this.Ko=t,this.g("linkDisconnected",e,t))}},linkValidation:{get:function(){return this.Ii},set:function(t){var e=this.Ii;e!==t&&(this.Ii=t,this.g("linkValidation",e,t))}},isLinkLabel:{get:function(){return null!==this.Kl}},labeledLink:{get:function(){return this.Kl},set:function(t){var e=this.Kl;if(e!==t){var o=this.diagram,a=this.data;if(null!==e){if(null!==e.nd&&(e.nd.remove(this),e.s()),null!==o&&null!==a&&!o.undoManager.isUndoingRedoing){var h=e.data,c=o.model;if(null!==h&&c.qj()){var m=c.ja(a);void 0!==m&&c.Oy(h,m)}}this.containingGroup=null}this.Kl=t,null!==t&&(zb(t,this),null===o||null===a||o.undoManager.isUndoingRedoing||(o=o.model,null!==(h=t.data)&&o.qj()&&void 0!==(a=o.ja(a))&&o.Dv(h,a)),this.containingGroup=t.containingGroup),Vh(this),this.g("labeledLink",e,t)}}},port:{get:function(){return this.Jt("")}},ports:{get:function(){return null===this.tc&&am(this),this.tc.iteratorValues}},isTreeExpanded:{get:function(){return 0!=(1&this.P)},set:function(t){var e=0!=(1&this.P);if(e!==t){this.P^=1;var o=this.diagram;if(this.g("isTreeExpanded",e,t),null!==(e=this.treeExpandedChanged)){var a=!0;null!==o&&(a=o.Z,o.Z=!0),e(this),null!==o&&(o.Z=a)}null!==o&&o.undoManager.isUndoingRedoing?this.Ob(t):t?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!=(2&this.P)},set:function(t){var e=0!=(2&this.P);e!==t&&(this.P^=2,this.g("wasTreeExpanded",e,t))}},treeExpandedChanged:{get:function(){return this.nq},set:function(t){var e=this.nq;e!==t&&(this.nq=t,this.g("treeExpandedChanged",e,t))}},isTreeLeaf:{get:function(){return 0!=(4&this.P)},set:function(t){var e=0!=(4&this.P);e!==t&&(this.P^=4,this.g("isTreeLeaf",e,t))}}}),Fe.prototype.expandTree=Fe.prototype.expandTree,Fe.prototype.collapseTree=Fe.prototype.collapseTree,Fe.prototype.findTreeParts=Fe.prototype.hA,Fe.prototype.findTreeChildrenNodes=Fe.prototype.Wv,Fe.prototype.findTreeChildrenLinks=Fe.prototype.Hq,Fe.prototype.findTreeLevel=Fe.prototype.fA,Fe.prototype.findTreeParentChain=Fe.prototype.gA,Fe.prototype.findTreeParentNode=Fe.prototype.Fg,Fe.prototype.findTreeParentLink=Fe.prototype.jj,Fe.prototype.findCommonTreeParent=Fe.prototype.Uz,Fe.prototype.findTreeRoot=Fe.prototype.iA,Fe.prototype.isInTreeOf=Fe.prototype.zA,Fe.prototype.findPort=Fe.prototype.Jt,Fe.prototype.findLinksTo=Fe.prototype.Yz,Fe.prototype.findLinksBetween=Fe.prototype.Xz,Fe.prototype.findNodesInto=Fe.prototype.Tv,Fe.prototype.findNodesOutOf=Fe.prototype.Uv,Fe.prototype.findNodesConnected=Fe.prototype.Sv,Fe.prototype.findLinksInto=Fe.prototype.Hd,Fe.prototype.findLinksOutOf=Fe.prototype.Fq,Fe.prototype.findExternalTreeLinksConnected=Fe.prototype.py,Fe.prototype.invalidateConnectedLinks=Fe.prototype.sd,Fe.prototype.invalidateLinkBundle=Fe.prototype.xA;var Hb=new ct(Fe,"SpreadingNone",10),_x=new ct(Fe,"SpreadingEvenly",11),bx=new ct(Fe,"SpreadingPacked",12);function Je(t){Fe.call(this,t),this.P|=4608,this.Vo=new At,this.Sl=new At,this.Sa=this.eq=this.Ki=this.Wo=this.Uo=this.Za=null,this.kc=new Ai,this.kc.group=this}function hm(t,e){if(t.Vo.add(e)){e instanceof Je&&t.Sl.add(e);var o=t.memberAdded;if(null!==o){var a=!0,h=t.diagram;null!==h&&(a=h.Z,h.Z=!0),o(t,e),null!==h&&(h.Z=a)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!1)}e instanceof Ce&&!t.computesBoundsIncludingLinks||(null===(e=t.Sa)&&(e=t),e.s())}function Sv(t,e){if(t.Vo.remove(e)){e instanceof Je&&t.Sl.remove(e);var o=t.memberRemoved;if(null!==o){var a=!0,h=t.diagram;null!==h&&(a=h.Z,h.Z=!0),o(t,e),null!==h&&(h.Z=a)}t.isVisible()&&t.isSubGraphExpanded||e.Ob(!0)}e instanceof Ce&&!t.computesBoundsIncludingLinks||(null===(e=t.Sa)&&(e=t),e.s())}function wS(t,e,o,a){for(var h=t.memberParts;h.next();){var c=h.value;if(c.Ob(!1),c instanceof Je&&c.isSubGraphExpanded&&(c.wasSubGraphExpanded=c.isSubGraphExpanded,wS(c,e,o,a)),c instanceof Fe)c.sd(e),o.jk(c,a);else if(c instanceof Ce)for(c=c.labelNodes;c.next();)c.value.sd(e)}t.isSubGraphExpanded=!1}function Mx(t,e,o,a){for(var h=t.memberParts;h.next();){var c=h.value;if(c.Ob(!0),c instanceof Je&&c.wasSubGraphExpanded&&(c.wasSubGraphExpanded=!1,Mx(c,e,o,a)),c instanceof Fe)c.sd(e),o.lk(c,a);else if(c instanceof Ce)for(c=c.labelNodes;c.next();)c.value.sd(e)}t.isSubGraphExpanded=!0}function ao(){Ge.call(this),this.ib=an,this.Np=new Lt(NaN,NaN,NaN,NaN)}function Ce(){Ye.call(this,pe.Link),this.Ga=8,this.We=null,this.Xe="",this.rf=this.fo=null,this.sf="",this.mq=null,this.Yk=Bo,this.Hn=0,this.Jn=Bo,this.Kn=NaN,this.ck=Iv,this.Zp=.5,this.nd=null,this.Ab=(new St).freeze(),this.jf=this.ph=null,this.Yl=new Lt,this.na=new pi,this.I=this.u=this.Mf=this.Vf=null,this.l=[],this.vv=new J,this.$r=this.Nx=this.Mx=null,this.Ru=NaN,this.O=null}function fp(t){var a,e=t.fromNode,o=t.toNode;if(a=null!==e?null!==o?e.oy(o):e.containingGroup:null!==o?o.containingGroup:null,(o=t.mi)!==(e=a)){null!==o&&Sv(o,t),t.mi=e,null!==e&&hm(e,t);var h=t.containingGroupChanged;if(null!==h){var c=!0,m=t.diagram;null!==m&&(c=m.Z,m.Z=!0),h(t,o,e),null!==m&&(m.Z=c)}!t.ud||t.Mx!==o&&t.Nx!==o||t.Ua()}if(t.isLabeledLink)for(t=t.labelNodes;t.next();)t.value.containingGroup=a}function zb(t,e){null===t.nd&&(t.nd=new At),t.nd.add(e),t.s()}function Lo(t,e,o){if(0!==e||0!==o)if(0===t.pointsCount)t.defaultFromPoint&&t.defaultFromPoint.copy().offset(e,o),t.defaultToPoint&&t.defaultToPoint.copy().offset(e,o);else{for(var a=t.ud,h=new St,c=t.Ab.iterator;c.next();){var m=c.value;h.add(new J(m.x+e,m.y+o).freeze())}h.freeze(),c=t.Ab,t.Ab=h,m=t.diagram,isNaN(e)||isNaN(o)||null!==m&&m.animationManager.sc?t.s():(t.dg.h(t.dg.x+e,t.dg.y+o),t.la.h(t.la.x+e,t.la.y+o),Vh(t)),a?Dv(t):(t.defaultFromPoint&&(t.defaultFromPoint=t.i(0)),t.defaultToPoint&&(t.defaultToPoint=t.i(t.pointsCount-1))),null!==m&&m.animationManager.sc&&(e=m.animationManager,t.jf=h,e.$l.add(t)),t.g("points",c,h)}}function Dv(t){0===t.Ab.count?t.ud=!1:(t.ud=!0,t.$r=null,t.Ru=NaN,t.defaultFromPoint=t.i(0),t.defaultToPoint=t.i(t.pointsCount-1),il(t,!1))}function Ev(t,e){return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?(e.x=e.x>=t.x?t.x+9e9:t.x-9e9,e.y=t.y):(e.y=e.y>=t.y?t.y+9e9:t.y-9e9,e.x=t.x),e}function kv(t,e){var o=e.yp;return null===o&&((o=new Ff).port=e,o.node=e.part,e.yp=o),Rx(o,t)}function dp(t){return t===yi||.5===t.x&&.5===t.y}function Av(t){return.5===t.x&&.5===t.y?t:Xe}function Cx(t){if(null===t.diagram||!t.isAvoiding||!I1(t.diagram))return!1;var e=t.points.j,o=e.length;if(4>o)return!1;t=R1(t.diagram,!0,t.containingGroup,null);for(var a=1;a<o-2;a++){var h=e[a],c=e[a+1];if(!t.Ek(Math.min(h.x,c.x),Math.min(h.y,c.y),Math.abs(h.x-c.x),Math.abs(h.y-c.y)))return!0}return!1}function Tv(t,e,o,a,h,c,m){var x=e.zq,S=e.yq,E=mh(e,o,a),P=o,N=a;for(0===h?P+=x:90===h?N+=S:180===h?P-=x:N-=S,h!==m&&E>Bu&&mh(e,P,N)!==E-1&&(mh(e,o-x,a)===E-1?(h=180,P=o-x,N=a):mh(e,o+x,a)===E-1?(h=0,P=o+x,N=a):mh(e,o,a-S)===E-1?(h=270,P=o,N=a-S):mh(e,o,a+S)===E-1&&(h=90,P=o,N=a+S));E>Bu&&mh(e,P,N)===E-1;)o=P,a=N,0===h?P+=x:90===h?N+=S:180===h?P-=x:N-=S,--E;c?E>Bu&&(180===h||0===h?o=Math.floor(o/x)*x+x/2:(90===h||270===h)&&(a=Math.floor(a/S)*S+S/2)):(o=Math.floor(o/x)*x+x/2,a=Math.floor(a/S)*S+S/2),E>Bu&&(c=h,m=o,P=a,0===h?(c=90,P+=S):90===h?(c=180,m-=x):180===h?(c=270,P-=S):270===h&&(c=0,m+=x),mh(e,m,P)===E-1?Tv(t,e,m,P,c,!1,c):(m=o,P=a,0===h?(c=270,P-=S):90===h?(c=0,m+=x):180===h?(c=90,P+=S):270===h&&(c=180,m-=x),mh(e,m,P)===E-1&&Tv(t,e,m,P,c,!1,c))),t.vf(o,a)}function Pv(t,e,o,a){return t=o-t,isNaN(t)||t===1/0||t===-1/0?NaN:(0>t&&(t=-t),e=a-e,isNaN(e)||e===1/0||e===-1/0?NaN:(0>e&&(e=-e),Zt.aa(t,0)?e:Zt.aa(e,0)?t:Math.sqrt(t*t+e*e)))}function Rf(t,e,o,a){var h=t.pointsCount;if(2>h)return e;if(o){var c=t.i(1);if(0===(a=Pv(e.x,e.y,o=c.x-a.x,c=c.y-a.y)))return e;h=2===h?.5*a:a,(t=t.computeShortLength(!0))>h&&(t=h),h=t*(c-e.y)/a,e.x+=t*(o-e.x)/a,e.y+=h}else{if(c=t.i(h-2),0===(a=Pv(e.x,e.y,o=c.x-a.x,c=c.y-a.y)))return e;h=2===h?.5*a:a,(t=t.computeShortLength(!1))>h&&(t=h),h=t*(e.y-c)/a,e.x-=t*(e.x-o)/a,e.y-=h}return e}function Sx(t,e,o,a){for(var h=t.pointsCount,c=e;Zt.aa(e.x,c.x)&&Zt.aa(e.y,c.y);){if(o>=h)return h-1;c=t.i(o++)}if(!Zt.aa(e.x,c.x)&&!Zt.aa(e.y,c.y))return o-1;for(var m=c;Zt.aa(e.x,c.x)&&Zt.aa(c.x,m.x)&&(!a||(e.y>=c.y?c.y>=m.y:c.y<=m.y))||Zt.aa(e.y,c.y)&&Zt.aa(c.y,m.y)&&(!a||(e.x>=c.x?c.x>=m.x:c.x<=m.x));){if(o>=h)return h-1;m=t.i(o++)}return o-2}function ln(t,e,o,a,h,c,m){if(!m&&ph(t)){var x=(m=t.computeJumpLength())/2,S=[],E=0;if(t.isVisible()&&(E=function(t,e,o,a){var h=t.diagram;if(null===h||e.w(o))return 0;for(h=h.layers;h.next();){var c=h.value;if(null!==c&&c.visible)for(var m=(c=c.Fa.j).length,x=0;x<m;x++){var S=c[x];if(S instanceof Ce){if(S===t)return 0<a.length&&a.sort(function(P,N){return P-N}),a.length;if(S.isVisible()&&ph(S)){var E=S.routeBounds;E.o()&&t.routeBounds.Mc(E)&&!t.usesSamePort(S)&&null!==(E=S.path)&&E.Gf()&&Ub(e,o,a,S)}}}}return 0<a.length&&a.sort(function(P,N){return P-N}),a.length}(t,h,c,S)),0<E)if(Zt.A(h.y,c.y))if(h.x<c.x)for(var P=0;P<E;){var N=Math.max(h.x,Math.min(S[P++]-x,c.x-m));e.lineTo(N+o,c.y+a);for(var nt=N+o,at=Math.min(N+m,c.x);P<E&&(N=S[P])<at+m;)P++,at=Math.min(N+x,c.x);N=c.y-m+a,at+=o;var rt=c.y+a;t.curve===nl?Sc(e,at,rt,!1):$h(e,nt,N,at,N,at,rt)}else for(--E;0<=E;){for(P=Math.min(h.x,Math.max(S[E--]+x,c.x+m)),e.lineTo(P+o,c.y+a),nt=P+o,N=Math.max(P-m,c.x);0<=E&&(P=S[E])>N-m;)E--,N=Math.max(P-x,c.x);P=c.y-m+a,N+=o,at=c.y+a,t.curve===nl?Sc(e,N,at,!1):$h(e,nt,P,N,P,N,at)}else if(Zt.A(h.x,c.x))if(h.y<c.y)for(P=0;P<E;){for(N=Math.max(h.y,Math.min(S[P++]-x,c.y-m)),e.lineTo(c.x+o,N+a),nt=N+a,N=Math.min(N+m,c.y);P<E&&(at=S[P])<N+m;)P++,N=Math.min(at+x,c.y);at=c.x-m+o,rt=c.x+o,N+=a,t.curve===nl?Sc(e,rt,N,!1):$h(e,at,nt,at,N,rt,N)}else for(--E;0<=E;){for(P=Math.min(h.y,Math.max(S[E--]+x,c.y+m)),e.lineTo(c.x+o,P+a),nt=P+a,P=Math.max(P-m,c.y);0<=E&&(N=S[E])>P-m;)E--,P=Math.max(N-x,c.y);N=c.x-m+o,at=c.x+o,P+=a,t.curve===nl?Sc(e,at,P,!1):$h(e,N,nt,N,P,at,P)}}e.lineTo(c.x+o,c.y+a)}function Ub(t,e,o,a){for(var h=Zt.A(t.y,e.y),c=a.pointsCount,m=a.i(0),x=J.alloc(),S=1;S<c;S++){var E=a.i(S);if(S<c-1){var P=a.i(S+1);if(m.y===E.y&&E.y===P.y){if(E.x>m.x&&P.x>=E.x||E.x<m.x&&P.x<=E.x)continue}else if(m.x===E.x&&E.x===P.x&&(E.y>m.y&&P.y>=E.y||E.y<m.y&&P.y<=E.y))continue}t:{var N=t.y,nt=e.x,at=e.y,rt=m.x;m=m.y;var _t=E.x,It=E.y;if(Zt.A(P=t.x,nt)){if(!Zt.A(N,at)&&Zt.A(m,It)&&Math.min(N,at)<m&&Math.max(N,at)>m&&Math.min(rt,_t)<P&&Math.max(rt,_t)>P&&!Zt.A(rt,_t)){x.x=P,x.y=m,P=!0;break t}}else if(Zt.A(N,at)&&Zt.A(rt,_t)&&Math.min(P,nt)<rt&&Math.max(P,nt)>rt&&Math.min(m,It)<N&&Math.max(m,It)>N&&!Zt.A(m,It)){x.x=rt,x.y=N,P=!0;break t}x.x=0,x.y=0,P=!1}P&&o.push(h?x.x:x.y),m=E}J.free(x)}function ph(t){return(t=t.curve)===Fu||t===nl}function il(t,e){(e||ph(t))&&(null===(e=t.diagram)||e.animationManager.isTicking||e.Vg.contains(t)||0===t.Yl.width&&0===t.Yl.height||e.Vg.add(t,t.Yl.copy()))}function Dx(t,e,o){if(null!==e&&e.$m&&e.ud&&ph(e)){var a=e.routeBounds;a.o()&&(t.routeBounds.Mc(a)||o.Mc(a))&&(t.usesSamePort(e)||e.dc())}}function um(t){var e=t.We;if(null!==e){var o=t.rf;if(null!==o&&isNaN(t.curviness)){for(var a=t.Xe,h=t.sf,c=t=null,m=e.$a.j,x=m.length,S=0;S<x;S++){var E=m[S];(E.We===e&&E.Xe===a&&E.rf===o&&E.sf===h||E.We===o&&E.Xe===h&&E.rf===e&&E.sf===a)&&(null===c?c=E:(null===t&&(t=[]).push(c),t.push(E)))}if(null!==t){for(null===(c=Vb(e,o,a,h))&&(om(e,c=new Tx(e,a,o,h)),om(o,c)),c.links=t,e=0;e<t.length;e++)t[e].Mf=c;c.Dm()}}}}function Of(t){var e=t.Mf;null!==e&&isNaN(t.curviness)&&(t.Mf=null,0<=(t=e.links.indexOf(t))&&(k(e.links,t),e.Dm()))}Fe.className="Node",Fe.SpreadingNone=Hb,Fe.SpreadingEvenly=_x,Fe.SpreadingPacked=bx,z(Je,Fe),Je.prototype.cloneProtected=function(t){Fe.prototype.cloneProtected.call(this,t),this.P=-32769&this.P,null!==this.Za&&(t.Za=this.Za.copy()),t.Uo=this.Uo,t.Wo=this.Wo,t.Ki=this.Ki,t.eq=this.eq;var e=t.ym(function(o){return o instanceof ao});t.Sa=e instanceof ao?e:null,null!==this.kc?(t.kc=this.kc.copy(),t.kc.group=t):(null!==t.kc&&(t.kc.group=null),t.kc=null)},(q=Je.prototype).yf=function(t){Fe.prototype.yf.call(this,t);var e=t.yk();for(t=t.memberParts;t.next();){var o=t.value;if(o.s(),o.C(8),o.nk(),o instanceof Fe)o.sd(e);else if(o instanceof Ce)for(o=o.labelNodes;o.next();)o.value.sd(e)}},q.Sk=function(t,e,o,a,h,c,m){if(t===hr&&"elements"===e){if(h instanceof ao)null===this.Sa?this.Sa=h:this.Sa!==h&&R("Cannot insert a second Placeholder into the visual tree of a Group.");else if(h instanceof pe){var x=h.ym(function(S){return S instanceof ao});x instanceof ao&&(null===this.Sa?this.Sa=x:this.Sa!==x&&R("Cannot insert a second Placeholder into the visual tree of a Group."))}}else t===_i&&"elements"===e&&null!==this.Sa&&(a===this.Sa||a instanceof pe&&this.Sa.Gg(a))&&(this.Sa=null);Fe.prototype.Sk.call(this,t,e,o,a,h,c,m)},q.Im=function(t,e){Fe.prototype.Im.call(this,t,e),this.isClipping&&this.type!==pe.Spot&&((t=this.resizeObject)instanceof pe&&(t=t.tb()),null===this.Za&&(this.Za=new Lt),t.mj(this.Za),t instanceof qe&&this.Za.Jc(-t.strokeWidth,-t.strokeWidth))},q.Ih=function(t,e,o,a){this.cf=this.Sa,Fe.prototype.Ih.call(this,t,e,o,a)},q.Ta=function(){var t=this;t.isSubGraphExpanded&&this.memberParts.each(function(e){!t.computesBoundsIncludingLinks&&e instanceof Ce||e.Ta()}),Fe.prototype.Ta.call(this)},q.rj=function(){if(!Fe.prototype.rj.call(this))return!1;for(var t=this.memberParts;t.next();){var e=t.value;if(e instanceof Fe){if(e.isVisible()&&hs(e))return!1}else if(e instanceof Ce&&e.isVisible()&&hs(e)&&e.fromNode!==this&&e.toNode!==this)return!1}return!0},q.uk=function(){if(0<this.Vo.count){var t=this.diagram;if(null!==t)for(var e=this.Vo.copy().iterator;e.next();)t.remove(e.value)}Fe.prototype.uk.call(this)},Je.prototype.canAddMembers=function(t){var e=this.diagram;if(null===e)return!1;for(e=e.commandHandler,t=Ea(t).iterator;t.next();)if(!e.isValidMember(this,t.value))return!1;return!0},Je.prototype.addMembers=function(t,e){var o=this.diagram;if(null===o)return!1;o=o.commandHandler;var a=!0;for(t=Ea(t).iterator;t.next();){var h=t.value;!e||o.isValidMember(this,h)?h.containingGroup=this:a=!1}return a},Je.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var t=this.layer;return!(null!==t&&!t.allowUngroup||null!==(t=t.diagram)&&!t.allowUngroup)},(q=Je.prototype).sd=function(t){void 0===t&&(t=null);var e=0!=(65536&this.P);if(Fe.prototype.sd.call(this,t),!e)for(0==(65536&this.P)&&(this.P=65536^this.P),e=this.Rv();e.next();){var o=e.value;if(null===t||!t.contains(o)){var a=o.fromNode;(null!==a&&a!==this&&a.Kd(this)&&!a.isVisible()||null!==(a=o.toNode)&&a!==this&&a.Kd(this)&&!a.isVisible())&&(Fo(o.fromPort),Fo(o.toPort),o.Ua())}}},q.Rv=function(){var t=this.yk();t.add(this);for(var e=new At,o=t.iterator;o.next();){var a=o.value;if(a instanceof Fe)for(a=a.linksConnected;a.next();){var h=a.value;t.contains(h)||e.add(h)}}return e.iterator},q.Wz=function(){var t=this.yk();t.add(this);for(var e=new At,o=t.iterator;o.next();){var a=o.value;if(a instanceof Fe)for(a=a.linksConnected;a.next();){var h=a.value,c=h.fromNode;null===c||t.contains(c)&&c!==this||e.add(c),null===(h=h.toNode)||t.contains(h)&&h!==this||e.add(h)}}return e.iterator},q.Vz=function(){var e=new At;return function t(o,a){null!==o&&(a.add(o),t(o.containingGroup,a))}(this,e),e},q.yk=function(){var t=new At;return Kh(t,this,!0,0,!0),t.remove(this),t},q.Ob=function(t){Fe.prototype.Ob.call(this,t);for(var e=this.memberParts;e.next();)e.value.Ob(t)},Je.prototype.collapseSubGraph=function(){var t=this.diagram;null===t||t.Le||(t.Le=!0,wS(this,this.yk(),t,this),t.Le=!1)},Je.prototype.expandSubGraph=function(){var t=this.diagram;null===t||t.Le||(t.Le=!0,Mx(this,this.yk(),t,this),t.Le=!1)},Je.prototype.move=function(t,e){void 0===e&&(e=!1);var o=e?this.location:this.position,a=o.x;o=o.y;var h=t.x,c=t.y;if(!(a===h||isNaN(a)&&isNaN(h))||!(o===c||isNaN(o)&&isNaN(c))){for(a=h-(isNaN(a)?0:a),o=c-(isNaN(o)?0:o),c=J.alloc(),Fe.prototype.move.call(this,t,e),t=new At,e=this.yk().iterator;e.next();)(h=e.value)instanceof Ce&&(h.suspendsRouting&&t.add(h),h.ud||h.fromNode!==this&&h.toNode!==this)&&(h.suspendsRouting=!0);for(e.reset();e.next();)if(!((h=e.value).Ph()||h instanceof Fe&&h.isLinkLabel)){var m=h.position,x=h.location;m.o()?(c.x=m.x+a,c.y=m.y+o,h.position=c):x.o()&&(c.x=x.x+a,c.y=x.y+o,h.location=c)}for(e.reset();e.next();)(h=e.value)instanceof Ce&&(h.suspendsRouting=t.contains(h),h.ud||h.fromNode!==this&&h.toNode!==this)&&(c.x=(m=h.position).x+a,c.y=m.y+o,c.o()?h.move(c):h.Ua(),Cx(h)&&h.Ua());J.free(c)}},B.Object.defineProperties(Je.prototype,{placeholder:{get:function(){return this.Sa}},computesBoundsAfterDrag:{get:function(){return 0!=(2048&this.P)},set:function(t){var e=0!=(2048&this.P);e!==t&&(this.P^=2048,this.g("computesBoundsAfterDrag",e,t))}},computesBoundsIncludingLinks:{get:function(){return 0!=(4096&this.P)},set:function(t){var e=0!=(4096&this.P);e!==t&&(this.P^=4096,this.g("computesBoundsIncludingLinks",e,t))}},computesBoundsIncludingLocation:{get:function(){return 0!=(8192&this.P)},set:function(t){var e=0!=(8192&this.P);e!==t&&(this.P^=8192,this.g("computesBoundsIncludingLocation",e,t))}},handlesDragDropForMembers:{get:function(){return 0!=(16384&this.P)},set:function(t){var e=0!=(16384&this.P);e!==t&&(this.P^=16384,this.g("handlesDragDropForMembers",e,t))}},memberParts:{get:function(){return this.Vo.iterator}},layout:{get:function(){return this.kc},set:function(t){var e=this.kc;if(e!==t){null!==e&&(e.diagram=null,e.group=null),this.kc=t;var o=this.diagram;null!==t&&(t.diagram=o,t.group=this),null!==o&&(o.Ng=!0),this.g("layout",e,t),null!==o&&o.Db()}}},memberAdded:{get:function(){return this.Uo},set:function(t){var e=this.Uo;e!==t&&(this.Uo=t,this.g("memberAdded",e,t))}},memberRemoved:{get:function(){return this.Wo},set:function(t){var e=this.Wo;e!==t&&(this.Wo=t,this.g("memberRemoved",e,t))}},memberValidation:{get:function(){return this.Ki},set:function(t){var e=this.Ki;e!==t&&(this.Ki=t,this.g("memberValidation",e,t))}},ungroupable:{get:function(){return 0!=(256&this.P)},set:function(t){var e=0!=(256&this.P);e!==t&&(this.P^=256,this.g("ungroupable",e,t))}},isSubGraphExpanded:{get:function(){return 0!=(512&this.P)},set:function(t){var e=0!=(512&this.P);if(e!==t){this.P^=512;var o=this.diagram;if(this.g("isSubGraphExpanded",e,t),null!==(e=this.subGraphExpandedChanged)){var a=!0;null!==o&&(a=o.Z,o.Z=!0),e(this),null!==o&&(o.Z=a)}null!==o&&o.undoManager.isUndoingRedoing?(null!==this.Sa&&this.Sa.s(),this.memberParts.each(function(h){h.updateAdornments()})):t?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!=(1024&this.P)},set:function(t){var e=0!=(1024&this.P);e!==t&&(this.P^=1024,this.g("wasSubGraphExpanded",e,t))}},subGraphExpandedChanged:{get:function(){return this.eq},set:function(t){var e=this.eq;e!==t&&(this.eq=t,this.g("subGraphExpandedChanged",e,t))}},Rh:{get:function(){return 0!=(32768&this.P)},set:function(t){0!=(32768&this.P)!==t&&(this.P^=32768)}}}),Je.prototype.expandSubGraph=Je.prototype.expandSubGraph,Je.prototype.collapseSubGraph=Je.prototype.collapseSubGraph,Je.prototype.findSubGraphParts=Je.prototype.yk,Je.prototype.findContainingGroupChain=Je.prototype.Vz,Je.prototype.findExternalNodesConnected=Je.prototype.Wz,Je.prototype.findExternalLinksConnected=Je.prototype.Rv,Je.prototype.ensureBounds=Je.prototype.Ta,Je.className="Group",z(ao,Ge),ao.prototype.cloneProtected=function(t){Ge.prototype.cloneProtected.call(this,t),t.ib=this.ib.H(),t.Np=this.Np.copy()},ao.prototype.Kh=function(t){if(null===this.background&&null===this.areaBackground)return!1;var e=this.naturalBounds;return hi(0,0,e.width,e.height,t.x,t.y)},ao.prototype.Hm=function(){var t=this.part;if(null!==t&&(t instanceof Je||t instanceof Ci)||R("Placeholder is not inside a Group or Adornment."),t instanceof Je){var e=this.computeBorder(this.Np),o=this.minSize,a=this.rc;for(ue(a,(isFinite(o.width)?Math.max(o.width,e.width):e.width)||0,(isFinite(o.height)?Math.max(o.height,e.height):e.height)||0),Bh(this,0,0,a.width,a.height),a=t.memberParts,o=!1;a.next();)if(a.value.isVisible()){o=!0;break}a=t.diagram,!o||null===a||a.animationManager.ew(t)||isNaN(e.x)||isNaN(e.y)||((o=J.alloc()).tj(e,t.locationSpot),o.w(t.location)||(t.location=new J(o.x,o.y)),J.free(o))}else{e=this.rc,a=(o=this.ib).left+o.right;var h=o.top+o.bottom,c=t.adornedObject;t.angle=c.lj();var m=0;c instanceof qe&&(m=c.strokeWidth);var x=c.Af(),S=c.naturalBounds,E=(S.width+m)*x;m=(S.height+m)*x,t.type!==pe.Link&&(c=c.da("Selection"===t.category?tn:t.locationSpot,J.alloc()),t.location=c,J.free(c)),isNaN(E)||isNaN(m)?(E=(t=t.adornedObject).da(tn,J.alloc()),(c=Lt.allocAt(E.x,E.y,0,0)).Oe(t.da(ss,E)),c.Oe(t.da($n,E)),c.Oe(t.da(nh,E)),ue(e,c.width+a||0,c.height+h||0),Bh(this,-o.left,-o.top,e.width,e.height),J.free(E),Lt.free(c)):(ue(e,E+a||0,m+h||0),Bh(this,-o.left,-o.top,e.width,e.height))}},ao.prototype.Ih=function(t,e,o,a){this.actualBounds.h(t,e,o,a)},ao.prototype.computeBorder=function(t){var e=this.part,o=e.diagram;if(null!==o&&e instanceof Je&&!e.layer.isTemporary&&e.computesBoundsAfterDrag&&this.Np.o()){var a=o.toolManager.findTool("Dragging");if(a===o.currentTool&&null!==(o=a.computeBorder(e,this.Np,t)))return o}o=Lt.alloc(),a=this.computeMemberBounds(o);var h=this.ib;return e instanceof Je&&!e.isSubGraphExpanded?t.h(a.x-h.left,a.y-h.top,0,0):t.h(a.x-h.left,a.y-h.top,Math.max(a.width+h.left+h.right,0),Math.max(a.height+h.top+h.bottom,0)),Lt.free(o),e instanceof Je&&e.computesBoundsIncludingLocation&&e.location.o()&&t.Oe(e.location),t},ao.prototype.computeMemberBounds=function(t){if(!(this.part instanceof Je))return t.h(0,0,0,0),t;for(var e=this.part,o=1/0,a=1/0,h=-1/0,c=-1/0,m=e.memberParts;m.next();){var x=m.value;if(x.isVisible()){if(x instanceof Ce&&(!e.computesBoundsIncludingLinks||Hh(x)||x.fromNode===e||x.toNode===e))continue;(x=x.actualBounds).left<o&&(o=x.left),x.top<a&&(a=x.top),x.right>h&&(h=x.right),x.bottom>c&&(c=x.bottom)}}return isFinite(o)&&isFinite(a)?t.h(o,a,h-o,c-a):t.h((e=e.location).x,e.y,0,0),t},B.Object.defineProperties(ao.prototype,{padding:{get:function(){return this.ib},set:function(t){"number"==typeof t&&(t=new oi(t));var e=this.ib;e.w(t)||(this.ib=t=t.H(),this.g("padding",e,t),this.s())}}}),ao.className="Placeholder",z(Ce,Ye),Ce.prototype.cloneProtected=function(t){Ye.prototype.cloneProtected.call(this,t),t.Ga=-113&this.Ga,t.Xe=this.Xe,t.fo=this.fo,t.sf=this.sf,t.mq=this.mq,t.Yk=this.Yk,t.Hn=this.Hn,t.Jn=this.Jn,t.Kn=this.Kn,t.ck=this.ck,t.Zp=this.Zp,null!==this.O&&(t.O=this.O.copy())},(q=Ce.prototype).yf=function(t){Ye.prototype.yf.call(this,t),this.Xe=t.Xe,this.sf=t.sf,t.ph=null,t.Ua(),t.Mf=this.Mf;var e=t.fromPort;null!==e&&Fo(e),null!==(t=t.toPort)&&Fo(t)},q.jb=function(t){t.classType===Ce?2==(2&t.value)?this.routing=t:t===Rr||t===nl||t===Fu?this.curve=t:t===Nf||t===Ax||t===Rv?this.adjusting=t:t!==Iv&&t!==Bo&&R("Unknown Link enum value for a Link property: "+t):Ye.prototype.jb.call(this,t)},q.Kc=function(){null===this.O&&(this.O=new Lf)},q.rj=function(){var t=this.fromNode;if(null!==t){var e=t.findVisibleNode();if(null!==e&&(t=e),hs(t)||Xh(t))return!1}return!(null!==(t=this.toNode)&&(e=t.findVisibleNode(),null!==e&&(t=e),hs(t)||Xh(t)))},q.Ew=function(){return!1},q.lu=function(){},q.Nc=function(){return!1},Ce.prototype.computeAngle=function(t,e,o){return Ce.computeAngle(e,o)},Ce.computeAngle=function(t,e){switch(t){default:t=0;break;case pp:t=e;break;case Ov:t=e+90;break;case cm:t=e-90;break;case Gb:t=e+180;break;case fm:90<(t=Zt.Tq(e))&&270>t&&(t-=180);break;case mp:90<(t=Zt.Tq(e+90))&&270>t&&(t-=180);break;case dm:90<(t=Zt.Tq(e-90))&&270>t&&(t-=180);break;case gp:if(45<(t=Zt.Tq(e))&&135>t||225<t&&315>t)return 0;90<t&&270>t&&(t-=180)}return Zt.Tq(t)},(q=Ce.prototype).Oh=function(){var t=this.containingGroup;null!==t&&this.fromNode!==t&&this.toNode!==t&&t.computesBoundsIncludingLinks&&Ye.prototype.Oh.call(this)},q.Kq=function(t){var e=this.fromNode;return t===e?this.toNode:e},q.nA=function(t){var e=this.fromPort;return t===e?this.toPort:e},q.Mq=function(t){if(Ye.prototype.Mq.call(this,t),ph(this)&&this.Oq(this.actualBounds),!t){var e=null;null!==(t=this.We)&&up(t,this,e=this.fromPort);var o=this.rf;if(null!==o){var a=this.toPort;o===t&&a===e||up(o,this,a)}um(this)}},q.Nq=function(t){if(Ye.prototype.Nq.call(this,t),ph(this)&&this.Oq(this.actualBounds),!t){var e=null;null!==(t=this.We)&&sm(t,this,e=this.fromPort);var o=this.rf;if(null!==o){var a=this.toPort;o===t&&a===e||sm(o,this,a)}Of(this)}},q.uk=function(){if(this.ud=!0,null!==this.nd){var t=this.diagram;if(null!==t)for(var e=this.nd.copy().iterator;e.next();)t.remove(e.value)}null!==this.data&&null!==(t=this.diagram)&&t.partManager.removeDataForLink(this)},Ce.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var t=this.diagram;null!==t&&t.partManager.updateRelationshipsFromData(this)}},Ce.prototype.move=function(t,e){var o=e?this.location:this.position,a=o.x;isNaN(a)&&(a=0);var h=o.y;for(isNaN(h)&&(h=0),a=t.x-a,h=t.y-h,!0===e?Ye.prototype.move.call(this,t,!1):(t=J.allocAt(o.x+a,o.y+h),Ye.prototype.move.call(this,t,!1),J.free(t)),Lo(this,a,h),t=this.labelNodes;t.next();)(e=t.value).moveTo((o=e.position).x+a,o.y+h)},Ce.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Ce.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var t=this.layer;return null===t||!!t.allowRelink&&!(null!==(t=t.diagram)&&!t.allowRelink)},Ce.prototype.computeMidPoint=function(t){var e=this.pointsCount;if(0===e)return t.assign(Di),t;if(1===e)return t.assign(this.i(0)),t;if(2===e){var o=this.i(0),a=this.i(1);return t.h((o.x+a.x)/2,(o.y+a.y)/2),t}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===Rr))return this.na.Xv(.5,t),t.add(this.i(0)),o=this.na.figures.first(),t.offset(-o.startX,-o.startY),t;if(this.computeCurve()===Rr){if(3===e)return this.i(1);if(o=3*((a=(e-1)/3|0)/2|0),a%2==1){a=this.i(o);var h=this.i(o+1),c=this.i(o+2);o=this.i(o+3),Zt.yz(a.x,a.y,h.x,h.y,c.x,c.y,o.x,o.y,t)}else t.assign(this.i(o));return t}var m=this.flattenedLengths;for(o=this.flattenedTotalLength,h=c=a=0;a<o/2&&c<e&&!(a+(h=m[c])>o/2);)a+=h,c++;return e=this.i(c),c=this.i(c+1),1>Math.abs(e.x-c.x)?t.h(e.x,e.y>c.y?e.y-(o/2-a):e.y+(o/2-a)):1>Math.abs(e.y-c.y)?t.h(e.x>c.x?e.x-(o/2-a):e.x+(o/2-a),e.y):t.h(e.x+(o=(o/2-a)/h)*(c.x-e.x),e.y+o*(c.y-e.y)),t},Ce.prototype.computeMidAngle=function(){var t=this.pointsCount;if(2>t)return NaN;if(2===t)return this.i(0).Pa(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===Rr))return this.na.vy(.5);if(this.computeCurve()===Rr&&4<=t){var e=(t-1)/3|0,o=3*(e/2|0);if(e%2==1){o=Math.floor(o),t=this.i(o),e=this.i(o+1);var a=this.i(o+2);return o=this.i(o+3),Zt.xz(t.x,t.y,e.x,e.y,a.x,a.y,o.x,o.y)}if(0<o&&o+1<t)return this.i(o-1).Pa(this.i(o+1))}e=this.flattenedLengths,a=this.flattenedTotalLength;var c,h=0;for(o=0;h<a/2&&o<t&&!(h+(c=e[o])>a/2);)h+=c,o++;if(e=this.i(o),a=this.i(o+1),1>Math.abs(e.x-a.x)&&1>Math.abs(e.y-a.y)){if(0<o&&o+2<t)return this.i(o-1).Pa(this.i(o+2))}else{if(1>Math.abs(e.x-a.x))return e.y>a.y?270:90;if(1>Math.abs(e.y-a.y))return e.x>a.x?180:0}return e.Pa(a)},(q=Ce.prototype).i=function(t){return this.Ab.j[t]},q.Qc=function(t,e){this.Ab.Pc(t,e)},q.L=function(t,e,o){this.Ab.Pc(t,new J(e,o))},q.wA=function(t,e){this.Ab.wb(t,e)},q.m=function(t,e,o){this.Ab.wb(t,new J(e,o))},q.ce=function(t){this.Ab.add(t)},q.vf=function(t,e){this.Ab.add(new J(t,e))},q.uw=function(t){this.Ab.cb(t)},q.pk=function(){this.Ab.clear()},q.Th=function(){null===this.ph&&(this.ph=this.Ab,this.Ab=this.Ab.copy())},q.xf=function(){if(null!==this.ph){for(var t=this.ph,e=this.Ab,o=1/0,a=1/0,h=t.j,c=h.length,m=0;m<c;m++){var x=h[m];o=Math.min(x.x,o),a=Math.min(x.y,a)}x=m=1/0;for(var S=e.j,E=S.length,P=0;P<E;P++){var N=S[P];m=Math.min(N.x,m),x=Math.min(N.y,x),N.freeze()}if(e.freeze(),E===c){for(c=0;c<E;c++)if((P=h[c]).x-o!=(N=S[c]).x-m||P.y-a!=N.y-x){this.dc();break}}else this.dc();this.ph=null,null!==(o=this.diagram)&&o.animationManager.sc&&(o=o.animationManager,this.jf=e,o.$l.add(this)),Dv(this),this.g("points",t,e)}},q.yw=function(){null!==this.ph&&(this.Ab=this.ph,this.ph=null)},q.Ua=function(){if(!this.suspendsRouting){var t=this.diagram;if(t){if(t.Yt.contains(this)||t.undoManager.isUndoingRedoing||(t=t.animationManager).isTicking&&!t.isAnimating)return;null!==this.jf&&!t.isTicking&&t.isAnimating&&(this.jf=null)}null!==(t=this.path)&&(this.ud=!1,this.s(),t.s())}},q.xj=function(){if(!this.ud&&!this.Ct){var t=!0;try{this.Ct=!0,this.Th(),t=this.computePoints()}catch(e){this.Ct=!1,this.yw()}finally{this.Ct=!1,t?this.xf():this.yw()}}},Ce.prototype.computePoints=function(){if(null===this.diagram)return!1;var t=this.fromNode,e=null;if(null===t?(ma||((ma=new Fe).desiredSize=si,ma.Ta()),this.defaultFromPoint&&(ma.location=this.defaultFromPoint,ma.Ta(),e=t=ma)):e=this.fromPort,null!==e&&!t.isVisible()){var o=t.findVisibleNode();null!==o&&o!==t?(t=o,e=o.port):t=o}if(this.Mx=t,null===t||!t.location.o())return!1;for(;!(null===e||e.actualBounds.o()&&e.Gf());)e=e.panel;if(null===e)return!1;var a=this.toNode,h=null;if(null===a?(Nu||((Nu=new Fe).desiredSize=si,Nu.Ta()),this.defaultToPoint&&(Nu.location=this.defaultToPoint,Nu.Ta(),h=a=Nu)):h=this.toPort,null===h||a.isVisible()||(null!==(o=a.findVisibleNode())&&o!==a?(a=o,h=o.port):a=o),this.Nx=a,null===a||!a.location.o())return!1;for(;!(null===h||h.actualBounds.o()&&h.Gf());)h=h.panel;if(null===h)return!1;var c=this.pointsCount,m=this.computeSpot(!0,e);o=this.computeSpot(!1,h);var x=dp(m),S=dp(o),E=e===h&&null!==e,P=this.isOrthogonal,N=this.curve===Rr;this.Vf=!(!E||P)&&(N=!0);var nt=this.computeAdjusting()===Bo||E;if(!P&&!E&&x&&S){if(x=!1,!nt&&3<=c&&(nt=this.getLinkPoint(t,e,m,!0,!1,a,h),S=this.getLinkPoint(a,h,o,!1,!1,t,e),x=this.adjustPoints(0,nt,c-1,S))&&(nt=this.getLinkPoint(t,e,m,!0,!1,a,h),S=this.getLinkPoint(a,h,o,!1,!1,t,e),this.adjustPoints(0,nt,c-1,S)),!x)if(this.pk(),N){c=this.getLinkPoint(t,e,m,!0,!1,a,h),x=(nt=this.getLinkPoint(a,h,o,!1,!1,t,e)).x-c.x,S=nt.y-c.y,E=this.computeCurviness(),N=P=0;var at=c.x+x/3,rt=c.y+S/3,_t=at,It=rt;Zt.A(S,0)?It=0<x?It-E:It+E:(P=-x/S,N=Math.sqrt(E*E/(P*P+1)),0>E&&(N=-N),It=P*((_t=(0>S?-1:1)*N+at)-at)+rt);var Pt=at=c.x+2*x/3,Vt=rt=c.y+2*S/3;Vt=Zt.A(S,0)?0<x?Vt-E:Vt+E:P*((Pt=(0>S?-1:1)*N+at)-at)+rt,this.pk(),this.ce(c),this.vf(_t,It),this.vf(Pt,Vt),this.ce(nt),this.Qc(0,this.getLinkPoint(t,e,m,!0,!1,a,h)),this.Qc(3,this.getLinkPoint(a,h,o,!1,!1,t,e))}else a=this.getLinkPoint(t,e,m,!0,!1,c=a,nt=h),h=this.getLinkPoint(c,nt,o,!1,!1,t,e),this.hasCurviness()?(nt=h.x-a.x,o=h.y-a.y,m=this.computeCurviness(),c=t=a.x+nt/2,x=e=a.y+o/2,Zt.A(o,0)?x=0<nt?x-m:x+m:(nt=-nt/o,c=Math.sqrt(m*m/(nt*nt+1)),0>m&&(c=-c),x=nt*((c=(0>o?-1:1)*c+t)-t)+e),this.ce(a),this.vf(c,x),this.ce(h)):(this.ce(a),this.ce(h),x=Lt.alloc(),e.mj(x),S=x.$(h),nt.mj(x),E=x.$(a),(S||E)&&(m=e.da(Av(m),new J),this.Qc(0,this.getLinkPointFromPoint(t,e,m,h,!0,m)),o=nt.da(Av(o),new J),this.Qc(1,this.getLinkPointFromPoint(c,nt,o,a,!1,o))),Lt.free(x))}else{N=this.isAvoiding,nt&&(P&&N||E)&&this.pk();var Ht=E?this.computeCurviness():0;N=this.getLinkPoint(t,e,m,!0,P,a,h),at=_t=rt=0,(P||!x||E)&&(It=this.computeEndSegmentLength(t,e,m,!0),at=this.getLinkDirection(t,e,N,m,!0,P,a,h),E&&(x||m.w(o)||!P&&m.x+o.x===1&&m.y+o.y===1)&&(at-=P?90:30,0>Ht&&(at-=180)),0>at?at+=360:360<=at&&(at-=360),E&&(It+=Math.abs(Ht)*(P?1:2)),0===at?rt=It:90===at?_t=It:180===at?rt=-It:270===at?_t=-It:(rt=It*Math.cos(at*Math.PI/180),_t=It*Math.sin(at*Math.PI/180)),m.nc()&&E&&(It=e.da(Xe,J.alloc()),Pt=J.allocAt(It.x+1e3*rt,It.y+1e3*_t),this.getLinkPointFromPoint(t,e,It,Pt,!0,N),J.free(It),J.free(Pt))),It=this.getLinkPoint(a,h,o,!1,P,t,e);var Wt=Vt=Pt=0;if(P||!S||E){var Qt=this.computeEndSegmentLength(a,h,o,!1);Wt=this.getLinkDirection(a,h,It,o,!1,P,t,e),E&&(S||m.w(o)||!P&&m.x+o.x===1&&m.y+o.y===1)&&(Wt+=P?0:30,0>Ht&&(Wt+=180)),0>Wt?Wt+=360:360<=Wt&&(Wt-=360),E&&(Qt+=Math.abs(Ht)*(P?1:2)),0===Wt?Pt=Qt:90===Wt?Vt=Qt:180===Wt?Pt=-Qt:270===Wt?Vt=-Qt:(Pt=Qt*Math.cos(Wt*Math.PI/180),Vt=Qt*Math.sin(Wt*Math.PI/180)),o.nc()&&E&&(o=h.da(Xe,J.alloc()),m=J.allocAt(o.x+1e3*Pt,o.y+1e3*Vt),this.getLinkPointFromPoint(a,h,o,m,!1,It),J.free(o),J.free(m))}o=N,(P||!x||E)&&(o=new J(N.x+rt,N.y+_t)),m=It,(P||!S||E)&&(m=new J(It.x+Pt,It.y+Vt)),!nt&&!P&&x&&3<c&&this.adjustPoints(0,N,c-2,m)?this.Qc(c-1,It):!nt&&!P&&S&&3<c&&this.adjustPoints(1,o,c-1,It)?this.Qc(0,N):!nt&&(P?6<=c:4<c)&&this.adjustPoints(1,o,c-2,m)?(this.Qc(0,N),this.Qc(c-1,It)):(this.pk(),this.ce(N),(P||!x||E)&&this.ce(o),P&&this.addOrthoPoints(o,at,m,Wt,t,a),(P||!S||E)&&this.ce(m),this.ce(It))}return!0},Ce.prototype.getLinkPointFromPoint=function(t,e,o,a,h,c){if(void 0===c&&(c=new J),null===t||null===e)return c.assign(o),c;if(t.isVisible()||null!==(h=t.findVisibleNode())&&h!==t&&(e=h.port),t=null,null===(h=e.panel)||h.he()||(h=h.panel),null===h){h=a.x,a=a.y;var m=o.x;o=o.y}else{var x=-(t=h.Fd).m12*(h=1/(t.m11*t.m22-t.m12*t.m21)),S=-t.m21*h,E=t.m11*h,P=h*(t.m21*t.dy-t.m22*t.dx),N=h*(t.m12*t.dx-t.m11*t.dy);h=a.x*(m=t.m22*h)+a.y*S+P,a=a.x*x+a.y*E+N,m=o.x*m+o.y*S+P,o=o.x*x+o.y*E+N}return e.zk(h,a,m,o,c),null!==t&&c.transform(t),c},Ce.prototype.getLinkPoint=function(t,e,o,a,h,c,m,x){if(void 0===x&&(x=new J),o.kb()&&!dp(o))return e.da(o,x),x;if(o.Oc()){var S=kv(this,e);if(null!==S){if(x.assign(S.Qq),h&&this.routing===kx){var E=kv(this,m);if(null!==E&&S.wm<E.wm){S=J.alloc(),E=J.alloc();var P=new Lt(e.da(tn,S),e.da(ss,E)),N=this.computeSpot(!a,m);t=this.getLinkPoint(c,m,N,!a,h,t,e,E),(o.Ef(fc)||o.Ef(un))&&t.y>=P.y&&t.y<=P.y+P.height?x.y=t.y:(o.Ef(c0)||o.Ef(Eo))&&t.x>=P.x&&t.x<=P.x+P.width&&(x.x=t.x),J.free(S),J.free(E)}}return x}}return o=e.da(Av(o),J.alloc()),this.pointsCount>(h?6:2)?(m=this.i(a?1:this.pointsCount-2),h&&(m=Ev(o,m.copy()))):(S=this.computeSpot(!a,m),c=J.alloc(),m=m.da(Av(S),c),h&&(m=Ev(o,m)),J.free(c)),this.getLinkPointFromPoint(t,e,o,m,a,x),J.free(o),x},Ce.prototype.getLinkDirection=function(t,e,o,a,h,c,m,x){t:if(a.kb())var S=a.x>a.y?a.x>1-a.y?0:a.x<1-a.y?270:315:a.x<a.y?a.x>1-a.y?90:a.x<1-a.y?180:135:.5>a.x?225:.5<a.x?45:0;else{if(a.Oc()&&null!==(S=kv(this,e)))switch(S.Ac){case 1:S=270;break t;case 2:S=180;break t;default:S=0;break t;case 8:S=90;break t}S=e.da(Xe,J.alloc()),this.pointsCount>(c?6:2)?(x=this.i(h?1:this.pointsCount-2),x=c?Ev(S,x.copy()):o):(o=J.alloc(),x=x.da(Xe,o),J.free(o)),o=Math.abs(x.x-S.x)>Math.abs(x.y-S.y)?x.x>=S.x?0:180:x.y>=S.y?90:270,J.free(S),S=o}return a.nc()&&m.Kd(t)&&360<=(S+=180)&&(S-=360),dp(a)||0===(t=e.lj())||(45<=t&&135>t?S+=90:135<=t&&225>t?S+=180:225<=t&&315>t&&(S+=270),360<=S&&(S-=360)),S},Ce.prototype.computeEndSegmentLength=function(t,e,o,a){return null!==e&&o.Oc()&&null!==(t=kv(this,e))?t.Pv:(t=a?this.fromEndSegmentLength:this.toEndSegmentLength,null!==e&&isNaN(t)&&(t=a?e.fromEndSegmentLength:e.toEndSegmentLength),isNaN(t)&&(t=10),t)},Ce.prototype.computeSpot=function(t,e){return void 0===e&&(e=null),t?null===(t=e||this.fromPort)?t=Xe:((e=this.fromSpot).Mb()&&(e=t.fromSpot),t=e===eo?yi:e):null===(t=e||this.toPort)?t=Xe:((e=this.toSpot).Mb()&&(e=t.toSpot),t=e===eo?yi:e),t},Ce.prototype.computeOtherPoint=function(t,e){return this.computeAdjusting()!==Bo&&4<this.pointsCount?this.computeMidPoint(new J):null!==(t=null!==(t=e.yp)?Rx(t,this):null)?t.Qq:e.da(Xe)},Ce.prototype.computeShortLength=function(t){if(t){if(t=this.fromShortLength,isNaN(t)){var e=this.fromPort;null!==e&&(t=e.fromShortLength)}return isNaN(t)?0:t}return t=this.toShortLength,isNaN(t)&&null!==(e=this.toPort)&&(t=e.toShortLength),isNaN(t)?0:t},Ce.prototype.zf=function(t,e,o,a,h,c){if(!1===this.pickable)return!1;void 0===e&&(e=null),void 0===o&&(o=null);var m=c;if(void 0===c&&(m=di.alloc()).reset(),m.multiply(this.transform),this.Jh(t,m))return _b(this,e,o,h),void 0===c&&di.free(m),!0;if(this.Mc(t,m)){var x=!1;if(!this.isAtomic)for(var S=this.W.j,E=S.length;E--;){var P=S[E];if(P.visible||P===this.locationObject){var N=P.actualBounds,nt=this.naturalBounds;if(!(N.x>nt.width||N.y>nt.height||0>N.x+N.width||0>N.y+N.height)){if((N=di.alloc()).set(m),P instanceof pe)x=P.zf(t,e,o,a,h,N);else if(this.path===P){if(P instanceof qe)if(x=t,nt=a,!1===P.pickable)x=!1;else if(N.multiply(P.transform),nt)t:{var at=x,rt=N;if(P.Jh(at,rt))x=!0;else{if(void 0===rt&&(rt=P.transform,at.Ge(P.actualBounds))){x=!0;break t}x=at.left,nt=at.right;var _t=at.top;at=at.bottom;var It=J.alloc(),Pt=J.alloc(),Vt=J.alloc(),Ht=di.alloc();Ht.set(rt),Ht.jw(P.transform),Ht.St(),Pt.x=nt,Pt.y=_t,Pt.transform(Ht),It.x=x,It.y=_t,It.transform(Ht),rt=!1,Jr(P,It,Pt,Vt)?rt=!0:(It.x=nt,It.y=at,It.transform(Ht),Jr(P,It,Pt,Vt)?rt=!0:(Pt.x=x,Pt.y=at,Pt.transform(Ht),Jr(P,It,Pt,Vt)?rt=!0:(It.x=x,It.y=_t,It.transform(Ht),Jr(P,It,Pt,Vt)&&(rt=!0)))),di.free(Ht),J.free(It),J.free(Pt),J.free(Vt),x=rt}}else x=P.Jh(x,N)}else x=B1(P,t,a,N);x&&(nt=P,null!==e&&(nt=e(P)),nt&&(null===o||o(nt))&&h.add(nt)),di.free(N)}}}return void 0===c&&di.free(m),x||null!==this.background||null!==this.areaBackground}return void 0===c&&di.free(m),!1},Ce.prototype.computeCurve=function(){if(null===this.Vf){var t=this.fromPort;this.Vf=null!==t&&t===this.toPort&&!this.isOrthogonal}return this.Vf?Rr:this.curve},Ce.prototype.computeCorner=function(){if(this.curve===Rr)return 0;var t=this.corner;return(isNaN(t)||0>t)&&(t=10),t},Ce.prototype.findMidLabel=function(){for(var t=this.path,e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a];if(h!==t&&!h.isPanelMain&&(h.segmentIndex===-1/0||isNaN(h.segmentIndex)))return h}for(t=this.labelNodes;t.next();)if((e=t.value).segmentIndex===-1/0||isNaN(e.segmentIndex))return e;return null},Ce.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var t=bS;t=Math.max(t,this.computeThickness());var e=this.fromPort,o=this.toPort;if(null!==e&&null!==o){var a=this.findMidLabel();if(null!==a){var h=a.naturalBounds,c=a.margin,m=isNaN(h.width)?30:h.width*a.scale+c.left+c.right;h=isNaN(h.height)?14:h.height*a.scale+c.top+c.bottom,(a=a.segmentOrientation)===pp||a===fm||a===Gb?t=Math.max(t,h):a===cm||a===dm||a===Ov||a===mp?t=Math.max(t,m):(e=e.da(Xe).Pa(o.da(Xe))/180*Math.PI,t=Math.max(t,Math.abs(Math.sin(e)*m)+Math.abs(Math.cos(e)*h)+1)),this.curve===Rr&&(t*=1.333)}}return t},Ce.prototype.arrangeBundledLinks=function(t,e){if(e)for(e=0;e<t.length;e++){var o=t[e];o.computeAdjusting()===Bo&&o.Ua()}},Ce.prototype.computeCurviness=function(){var t=this.curviness;if(isNaN(t)){t=_S;var e=this.Mf;if(null!==e){for(var o=u(),a=0,h=e.links,c=0;c<h.length;c++){var m=h[c].computeSpacing();o.push(m),a+=m}for(a=-a/2,c=0;c<h.length;c++){if(h[c]===this){t=a+o[c]/2;break}a+=o[c]}e.au===this.fromNode&&(t=-t),p(o)}}return t},Ce.prototype.computeThickness=function(){if(!this.isVisible())return 0;var t=this.path;return null!==t?Math.max(t.strokeWidth,1):1},Ce.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Mf},Ce.prototype.adjustPoints=function(t,e,o,a){var h=this.computeAdjusting();if(this.isOrthogonal){if(h===Ax)return!1;h===Rv&&(h=Nf)}switch(h){case Ax:var c=this.i(t),m=this.i(o);if(!c.Qa(e)||!m.Qa(a)){var x=m.x-(h=c.x),S=m.y-(c=c.y),E=Math.sqrt(x*x+S*S);if(!Zt.aa(E,0)){if(Zt.aa(x,0))var P=0>S?-Math.PI/2:Math.PI/2;else P=Math.atan(S/Math.abs(x)),0>x&&(P=Math.PI-P);var N=e.y;x=a.x-(m=e.x);var nt=a.y-N;for(S=Math.sqrt(x*x+nt*nt),Zt.aa(x,0)?nt=0>nt?-Math.PI/2:Math.PI/2:(nt=Math.atan(nt/Math.abs(x)),0>x&&(nt=Math.PI-nt)),E=S/E,P=nt-P,this.Qc(t,e),t+=1;t<o;t++)x=(e=this.i(t)).x-h,S=e.y-c,e=Math.sqrt(x*x+S*S),Zt.aa(e,0)||(Zt.aa(x,0)?S=0>S?-Math.PI/2:Math.PI/2:(S=Math.atan(S/Math.abs(x)),0>x&&(S=Math.PI-S)),x=S+P,this.L(t,m+(e*=E)*Math.cos(x),N+e*Math.sin(x)));this.Qc(o,a)}}return!0;case Rv:if(c=this.i(t),N=this.i(o),!c.Qa(e)||!N.Qa(a)){E=((m=N.x)-(h=c.x))*(m-h)+((N=N.y)-(c=c.y))*(N-c),P=e.y,nt=a.y;var at=1;if((S=a.x)-(x=e.x)!=0){var rt=(nt-P)/(S-x);at=Math.sqrt(1+1/(rt*rt))}else rt=9e9;for(this.Qc(t,e),t+=1;t<o;t++){var _t=(e=this.i(t)).x,It=e.y,Pt=.5;0!==E&&(Pt=((h-_t)*(h-m)+(c-It)*(c-N))/E);var Vt=h+Pt*(m-h),Ht=c+Pt*(N-c);e=Math.sqrt((_t-Vt)*(_t-Vt)+(It-Ht)*(It-Ht)),It<rt*(_t-Vt)+Ht&&(e=-e),0<rt&&(e=-e),_t=x+Pt*(S-x),Pt=P+Pt*(nt-P),0!==rt?this.L(t,e=_t+e/at,Pt-(e-_t)/rt):this.L(t,_t,Pt+e)}this.Qc(o,a)}return!0;case Nf:return this.isOrthogonal&&(h=this.i(t),c=this.i(t+1),m=this.i(t+2),N=x=c.x,E=P=c.y,Zt.A(h.y,c.y)?Zt.A(c.x,m.x)?P=e.y:Zt.A(c.y,m.y)&&(x=e.x):Zt.A(h.x,c.x)&&(Zt.A(c.y,m.y)?x=e.x:Zt.A(c.x,m.x)&&(P=e.y)),this.L(t+1,x,P),h=this.i(o),c=this.i(o-1),m=this.i(o-2),S=x=c.x,nt=P=c.y,Zt.A(h.y,c.y)?Zt.A(c.x,m.x)?P=a.y:Zt.A(c.y,m.y)&&(x=a.x):Zt.A(h.x,c.x)&&(Zt.A(c.y,m.y)?x=a.x:Zt.A(c.x,m.x)&&(P=a.y)),this.L(o-1,x,P),Cx(this))?(this.L(t+1,N,E),this.L(o-1,S,nt),o=!1):(this.Qc(t,e),this.Qc(o,a),o=!0),o;default:return!1}},Ce.prototype.addOrthoPoints=function(t,e,o,a,h,c){0>e?e+=360:360<=e&&(e-=360),0>a?a+=360:360<=a&&(a-=360);var m=a;e=315<=e||45>e?0:45<=e&&135>e?90:135<=e&&225>e?180:270,a=315<=a||45>a?0:45<=a&&135>a?90:135<=a&&225>a?180:270;var x=h.actualBounds.copy(),S=c.actualBounds.copy();if(x.o()&&S.o()){if(x.Jc(Nv,Nv),S.Jc(Nv,Nv),x.Oe(t),S.Oe(o),0===e)if(o.x>t.x||270===a&&o.y<t.y&&S.right>t.x||90===a&&o.y>t.y&&S.right>t.x){var E=new J(o.x,t.y),P=new J(o.x,(t.y+o.y)/2);180===a?(E.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1),P.x=E.x,P.y=o.y):270===a&&o.y<t.y||90===a&&o.y>t.y?(E.x=t.x<S.left?this.computeMidOrthoPosition(t.x,t.y,S.left,o.y,!1):t.x<S.right&&(270===a&&t.y<S.top||90===a&&t.y>S.bottom)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):S.right,P.x=E.x,P.y=o.y):0===a&&t.x<S.left&&t.y>S.top&&t.y<S.bottom&&(E.x=t.x,E.y=t.y<o.y?Math.min(o.y,S.top):Math.max(o.y,S.bottom),P.y=E.y)}else E=new J(t.x,o.y),P=new J((t.x+o.x)/2,o.y),(180===a||90===a&&o.y<x.top||270===a&&o.y>x.bottom)&&(180===a&&(S.$(t)||x.$(o))?E.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):o.y<t.y&&(180===a||90===a)?E.y=this.computeMidOrthoPosition(t.x,x.top,o.x,Math.max(o.y,S.bottom),!0):o.y>t.y&&(180===a||270===a)&&(E.y=this.computeMidOrthoPosition(t.x,x.bottom,o.x,Math.min(o.y,S.top),!0)),P.x=o.x,P.y=E.y),E.y>x.top&&E.y<x.bottom&&(o.x>=x.left&&o.x<=t.x||t.x<=S.right&&t.x>=o.x?(90===a||270===a)&&(E=new J(Math.max((t.x+o.x)/2,t.x),t.y),P=new J(E.x,o.y)):(E.y=270===a||(0===a||180===a)&&o.y<t.y?Math.min(o.y,0===a?x.top:Math.min(x.top,S.top)):Math.max(o.y,0===a?x.bottom:Math.max(x.bottom,S.bottom)),P.x=o.x,P.y=E.y));else 180===e?o.x<t.x||270===a&&o.y<t.y&&S.left<t.x||90===a&&o.y>t.y&&S.left<t.x?(E=new J(o.x,t.y),P=new J(o.x,(t.y+o.y)/2),0===a?(E.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1),P.x=E.x,P.y=o.y):270===a&&o.y<t.y||90===a&&o.y>t.y?(E.x=t.x>S.right?this.computeMidOrthoPosition(t.x,t.y,S.right,o.y,!1):t.x>S.left&&(270===a&&t.y<S.top||90===a&&t.y>S.bottom)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):S.left,P.x=E.x,P.y=o.y):180===a&&t.x>S.right&&t.y>S.top&&t.y<S.bottom&&(E.x=t.x,E.y=t.y<o.y?Math.min(o.y,S.top):Math.max(o.y,S.bottom),P.y=E.y)):(E=new J(t.x,o.y),P=new J((t.x+o.x)/2,o.y),(0===a||90===a&&o.y<x.top||270===a&&o.y>x.bottom)&&(0===a&&(S.$(t)||x.$(o))?E.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):o.y<t.y&&(0===a||90===a)?E.y=this.computeMidOrthoPosition(t.x,x.top,o.x,Math.max(o.y,S.bottom),!0):o.y>t.y&&(0===a||270===a)&&(E.y=this.computeMidOrthoPosition(t.x,x.bottom,o.x,Math.min(o.y,S.top),!0)),P.x=o.x,P.y=E.y),E.y>x.top&&E.y<x.bottom&&(o.x<=x.right&&o.x>=t.x||t.x>=S.left&&t.x<=o.x?(90===a||270===a)&&(E=new J(Math.min((t.x+o.x)/2,t.x),t.y),P=new J(E.x,o.y)):(E.y=270===a||(0===a||180===a)&&o.y<t.y?Math.min(o.y,180===a?x.top:Math.min(x.top,S.top)):Math.max(o.y,180===a?x.bottom:Math.max(x.bottom,S.bottom)),P.x=o.x,P.y=E.y))):90===e?o.y>t.y||180===a&&o.x<t.x&&S.bottom>t.y||0===a&&o.x>t.x&&S.bottom>t.y?(E=new J(t.x,o.y),P=new J((t.x+o.x)/2,o.y),270===a?(E.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0),P.x=o.x,P.y=E.y):180===a&&o.x<t.x||0===a&&o.x>t.x?(E.y=t.y<S.top?this.computeMidOrthoPosition(t.x,t.y,o.x,S.top,!0):t.y<S.bottom&&(180===a&&t.x<S.left||0===a&&t.x>S.right)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):S.bottom,P.x=o.x,P.y=E.y):90===a&&t.y<S.top&&t.x>S.left&&t.x<S.right&&(E.x=t.x<o.x?Math.min(o.x,S.left):Math.max(o.x,S.right),E.y=t.y,P.x=E.x)):(E=new J(o.x,t.y),P=new J(o.x,(t.y+o.y)/2),(270===a||0===a&&o.x<x.left||180===a&&o.x>x.right)&&(270===a&&(S.$(t)||x.$(o))?E.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):o.x<t.x&&(270===a||0===a)?E.x=this.computeMidOrthoPosition(x.left,t.y,Math.max(o.x,S.right),o.y,!1):o.x>t.x&&(270===a||180===a)&&(E.x=this.computeMidOrthoPosition(x.right,t.y,Math.min(o.x,S.left),o.y,!1)),P.x=E.x,P.y=o.y),E.x>x.left&&E.x<x.right&&(o.y>=x.top&&o.y<=t.y||t.y<=S.bottom&&t.y>=o.y?(0===a||180===a)&&(E=new J(t.x,Math.max((t.y+o.y)/2,t.y)),P=new J(o.x,E.y)):(E.x=180===a||(90===a||270===a)&&o.x<t.x?Math.min(o.x,90===a?x.left:Math.min(x.left,S.left)):Math.max(o.x,90===a?x.right:Math.max(x.right,S.right)),P.x=E.x,P.y=o.y))):o.y<t.y||180===a&&o.x<t.x&&S.top<t.y||0===a&&o.x>t.x&&S.top<t.y?(E=new J(t.x,o.y),P=new J((t.x+o.x)/2,o.y),90===a?(E.y=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0),P.x=o.x,P.y=E.y):180===a&&o.x<t.x||0===a&&o.x>=t.x?(E.y=t.y>S.bottom?this.computeMidOrthoPosition(t.x,t.y,o.x,S.bottom,!0):t.y>S.top&&(180===a&&t.x<S.left||0===a&&t.x>S.right)?this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!0):S.top,P.x=o.x,P.y=E.y):270===a&&t.y>S.bottom&&t.x>S.left&&t.x<S.right&&(E.x=t.x<o.x?Math.min(o.x,S.left):Math.max(o.x,S.right),E.y=t.y,P.x=E.x)):(E=new J(o.x,t.y),P=new J(o.x,(t.y+o.y)/2),(90===a||0===a&&o.x<x.left||180===a&&o.x>x.right)&&(90===a&&(S.$(t)||x.$(o))?E.x=this.computeMidOrthoPosition(t.x,t.y,o.x,o.y,!1):o.x<t.x&&(90===a||0===a)?E.x=this.computeMidOrthoPosition(x.left,t.y,Math.max(o.x,S.right),o.y,!1):o.x>t.x&&(90===a||180===a)&&(E.x=this.computeMidOrthoPosition(x.right,t.y,Math.min(o.x,S.left),o.y,!1)),P.x=E.x,P.y=o.y),E.x>x.left&&E.x<x.right&&(o.y<=x.bottom&&o.y>=t.y||t.y>=S.top&&t.y<=o.y?(0===a||180===a)&&(E=new J(t.x,Math.min((t.y+o.y)/2,t.y)),P=new J(o.x,E.y)):(E.x=180===a||(90===a||270===a)&&o.x<t.x?Math.min(o.x,270===a?x.left:Math.min(x.left,S.left)):Math.max(o.x,270===a?x.right:Math.max(x.right,S.right)),P.x=E.x,P.y=o.y)));var N=E,nt=P,at=o;if(this.isAvoiding){var rt=this.diagram;if(null===rt||h===c||this.layer.isTemporary||!I1(rt)||x.$(at)&&!c.Kd(h)||S.$(t)&&!h.Kd(c))e=!1;else{var _t=R1(rt,!0,this.containingGroup,null);if(17!==this.segmentIndex&&_t.Ek(Math.min(t.x,N.x),Math.min(t.y,N.y),Math.abs(t.x-N.x),Math.abs(t.y-N.y))&&_t.Ek(Math.min(N.x,nt.x),Math.min(N.y,nt.y),Math.abs(N.x-nt.x),Math.abs(N.y-nt.y))&&_t.Ek(Math.min(nt.x,at.x),Math.min(nt.y,at.y),Math.abs(nt.x-at.x),Math.abs(nt.y-at.y)))e=!1;else{h=t,c=at;var It=o=null;if(rt.isVirtualized){(rt=_t.bounds.copy()).Jc(-_t.zq,-_t.yq);var Pt=J.alloc();pm(_t,t.x,t.y)||(Zt.Cf(rt.x,rt.y,rt.x+rt.width,rt.y+rt.height,t.x,t.y,N.x,N.y,Pt)?(o=t=Pt.copy(),e=Pt.Pa(N)):Zt.Cf(rt.x,rt.y,rt.x+rt.width,rt.y+rt.height,N.x,N.y,nt.x,nt.y,Pt)?(o=t=Pt.copy(),e=Pt.Pa(nt)):Zt.Cf(rt.x,rt.y,rt.x+rt.width,rt.y+rt.height,nt.x,nt.y,at.x,at.y,Pt)&&(o=t=Pt.copy(),e=Pt.Pa(at))),pm(_t,at.x,at.y)||(Zt.Cf(rt.x,rt.y,rt.x+rt.width,rt.y+rt.height,at.x,at.y,nt.x,nt.y,Pt)?(It=at=Pt.copy(),a=nt.Pa(Pt)):Zt.Cf(rt.x,rt.y,rt.x+rt.width,rt.y+rt.height,nt.x,nt.y,N.x,N.y,Pt)?(It=at=Pt.copy(),a=N.Pa(Pt)):Zt.Cf(rt.x,rt.y,rt.x+rt.width,rt.y+rt.height,N.x,N.y,t.x,t.y,Pt)&&(It=at=Pt.copy(),a=t.Pa(Pt))),J.free(Pt)}(x=x.copy().Rc(S)).Jc(_t.zq*_t.Wy,_t.yq*_t.Wy),Lu(_t,t,e,at,a,x,!0),S=mh(_t,at.x,at.y),!_t.abort&&S>=Ac&&(MS(_t),x.Jc(_t.zq*_t.Gy,_t.yq*_t.Gy),Lu(_t,t,e,at,a,x,!1),S=mh(_t,at.x,at.y)),!_t.abort&&S<Ac&&mh(_t,at.x,at.y)!==Zh?(Tv(this,_t,at.x,at.y,a,!0,m),x=this.i(2),4>this.pointsCount?(0===e||180===e?(x.x=t.x,x.y=at.y):(x.x=at.x,x.y=t.y),this.L(2,x.x,x.y),this.m(3,x.x,x.y)):(m=this.i(3),0===e||180===e?Zt.A(x.x,m.x)?(x=0===e?Math.max(x.x,t.x):Math.min(x.x,t.x),this.L(2,x,t.y),this.L(3,x,m.y)):Zt.A(x.y,m.y)?(Math.abs(t.y-x.y)<=_t.yq/2&&(this.L(2,x.x,t.y),this.L(3,m.x,t.y)),this.m(2,x.x,t.y)):this.L(2,t.x,x.y):(90===e||270===e)&&(Zt.A(x.y,m.y)?(x=90===e?Math.max(x.y,t.y):Math.min(x.y,t.y),this.L(2,t.x,x),this.L(3,m.x,x)):Zt.A(x.x,m.x)?(Math.abs(t.x-x.x)<=_t.zq/2&&(this.L(2,t.x,x.y),this.L(3,t.x,m.y)),this.m(2,t.x,x.y)):this.L(2,x.x,t.y))),null!==o&&(t=this.i(1),m=this.i(2),t.x!==m.x&&t.y!==m.y?0===e||180===e?this.m(2,t.x,m.y):this.m(2,m.x,t.y):0===e||180===e?this.m(2,h.x,o.y):this.m(2,o.x,h.y)),null!==It&&(0===a||180===a?this.vf(c.x,It.y):this.vf(It.x,c.y)),e=!0):e=!1}}}else e=!1;e||(this.ce(E),this.ce(P))}},Ce.prototype.computeMidOrthoPosition=function(t,e,o,a,h){var c=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).Oc()||this.computeSpot(!1,this.toPort).Oc()||(c=this.computeCurviness()),h?(e+a)/2+c:(t+o)/2+c},Ce.prototype.Sz=function(t){var e=t.x;t=t.y;for(var o=this.i(0),a=this.i(1),h=ae(e,t,o.x,o.y,a.x,a.y),c=0,m=1;m<this.pointsCount-1;m++){o=this.i(m+1);var x=ae(e,t,a.x,a.y,o.x,o.y);a=o,x<h&&(c=m,h=x)}return c},Ce.prototype.dc=function(){this.$m=!1,this.s()},Ce.prototype.Gk=function(t){if((t||!1!==this.ud&&(t=this.tb(),!this.$m||null!==t&&null===t.geometry))&&(this.na=this.makeGeometry(),null!==(t=this.path))){t.na=this.na;for(var e=this.W.j,o=e.length,a=0;a<o;a++){var h=e[a];h!==t&&h.isPanelMain&&h instanceof qe&&(h.na=this.na)}}},Ce.prototype.makeGeometry=function(){var t=this.na,e=this.pointsCount;if(2>e)return t.type=ar,this.$m=!0,t;var o=!1,a=this.diagram;null!==a&&ph(this)&&a.Vg.contains(this)&&(0!==this.Yl.width||0!==this.Yl.height)&&(o=!0);var h=this.i(0).copy(),c=h.copy();a=this.Ab.j;var m=this.computeCurve();if(m===Rr&&3<=e&&!Zt.aa(this.smoothness,0))if(3===e){var x=this.i(1);a=Math.min(h.x,x.x);var S=Math.min(h.y,x.y);x=this.i(2),a=Math.min(a,x.x),S=Math.min(S,x.y)}else{if(this.isOrthogonal)for(S=0;S<e;S++)x=a[S],c.x=Math.min(x.x,c.x),c.y=Math.min(x.y,c.y);else for(a=3;a<e;a+=3)a+3>=e&&(a=e-1),S=this.i(a),c.x=Math.min(S.x,c.x),c.y=Math.min(S.y,c.y);a=c.x,S=c.y}else{for(S=0;S<e;S++)x=a[S],c.x=Math.min(x.x,c.x),c.y=Math.min(x.y,c.y);a=c.x,S=c.y}if(S-=this.vv.y,h.x-=a-=this.vv.x,h.y-=S,2!==e||ph(this)){if(t.type=Ls,x=fx(t),0!==this.computeShortLength(!0)&&(h=Rf(this,h,!0,c)),Sc(x,h.x,h.y,!1),m===Rr&&3<=e&&!Zt.aa(this.smoothness,0))if(3===e)e=(o=this.i(1)).x-a,o=o.y-S,(h=this.i(2).copy()).x-=a,h.y-=S,0!==this.computeShortLength(!1)&&(h=Rf(this,h,!1,c)),$h(x,e,o,e,o,h.x,h.y);else if(this.isOrthogonal){c=new J(a,S),h=this.i(1).copy(),m=new J(a,S),e=new J(a,S),o=this.i(0);for(var E,P=this.smoothness/3,N=1;N<this.pointsCount-1;N++){var nt=o,at=E=this.i(N),rt=this.i(Sx(this,E,N,!1));if(!(Zt.aa(nt.x,at.x)&&Zt.aa(at.x,rt.x)||Zt.aa(nt.y,at.y)&&Zt.aa(at.y,rt.y))){var _t=P;isNaN(_t)&&(_t=this.smoothness/3);var It=nt.x,Pt=at.x,Vt=rt.x;rt=rt.y;var Ht=_t*Pv(It,nt=nt.y,Pt,at=at.y);_t*=Pv(Pt,at,Vt,rt),Zt.aa(nt,at)&&Zt.aa(Pt,Vt)&&(Pt>It?rt>at?(m.x=Pt-Ht,m.y=at-Ht,e.x=Pt+_t,e.y=at+_t):(m.x=Pt-Ht,m.y=at+Ht,e.x=Pt+_t,e.y=at-_t):rt>at?(m.x=Pt+Ht,m.y=at-Ht,e.x=Pt-_t,e.y=at+_t):(m.x=Pt+Ht,m.y=at+Ht,e.x=Pt-_t,e.y=at-_t)),Zt.aa(It,Pt)&&Zt.aa(at,rt)&&(at>nt?(Vt>Pt?(m.x=Pt-Ht,m.y=at-Ht,e.x=Pt+_t):(m.x=Pt+Ht,m.y=at-Ht,e.x=Pt-_t),e.y=at+_t):(Vt>Pt?(m.x=Pt-Ht,m.y=at+Ht,e.x=Pt+_t):(m.x=Pt+Ht,m.y=at+Ht,e.x=Pt-_t),e.y=at-_t)),(Zt.aa(It,Pt)&&Zt.aa(Pt,Vt)||Zt.aa(nt,at)&&Zt.aa(at,rt))&&(nt=.5*(nt+rt),m.x=It=.5*(It+Vt),m.y=nt,e.x=It,e.y=nt),(1===N||2===N&&Zt.aa(o.x,this.i(0).x)&&Zt.aa(o.y,this.i(0).y))&&(h.x=.5*(o.x+E.x),h.y=.5*(o.y+E.y)),$h(x,h.x-a,h.y-S,m.x-a,m.y-S,E.x-a,E.y-S),c.set(m),h.set(e),o=E}}c=o.x,o=o.y,h=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(h=Rf(this,h.copy(),!1,xe)),$h(x,e.x-a,e.y-S,(c=.5*(c+h.x))-a,(o=.5*(o+h.y))-S,h.x-a,h.y-S)}else for(o=3;o<e;o+=3)c=this.i(o-2),o+3>=e&&(o=e-1),h=this.i(o-1),m=this.i(o),o===e-1&&0!==this.computeShortLength(!1)&&(m=Rf(this,m.copy(),!1,xe)),$h(x,c.x-a,c.y-S,h.x-a,h.y-S,m.x-a,m.y-S);else{for((c=J.alloc()).assign(this.i(0)),(h=J.alloc()).assign(c),m=this.computeCorner(),N=1,E=0;N<e;){if(N=Sx(this,c,N,1<N),P=this.i(N),N>=e-1){if(c.w(P)){if(0===E)for(N=1;N<e;)h.assign(c),ln(this,x,-a,-S,c,P=this.i(N++),o),c.assign(P)}else 0!==this.computeShortLength(!1)&&(P=Rf(this,P.copy(),!1,xe)),ln(this,x,-a,-S,c,P,o);break}if(E=Sx(this,P,N+1,N<e-3),N=-a,It=-S,nt=P,_t=this.i(E),Pt=o,Zt.A(c.y,nt.y)&&Zt.A(nt.x,_t.x))if(at=Math.min(m,Math.abs(nt.x-h.x)/2),at=Vt=Math.min(at,Math.abs(_t.y-nt.y)/2),Zt.A(at,0))ln(this,x,N,It,c,nt,Pt),c.assign(nt);else{var Wt=rt=nt.x,Qt=Ht=nt.y;Qt=_t.y>nt.y?nt.y+Vt:nt.y-Vt,ln(this,x,N,It,c,new J(rt=nt.x>c.x?nt.x-at:nt.x+at,Ht),Pt),tm(x,nt.x+N,nt.y+It,Wt+N,Qt+It),c.h(Wt,Qt)}else Zt.A(c.x,nt.x)&&Zt.A(nt.y,_t.y)?(at=Math.min(m,Math.abs(nt.y-h.y)/2),at=Vt=Math.min(at,Math.abs(_t.x-nt.x)/2),Zt.A(Vt,0)?(ln(this,x,N,It,c,nt,Pt),c.assign(nt)):(Wt=rt=nt.x,Qt=Ht=nt.y,Wt=_t.x>nt.x?nt.x+Vt:nt.x-Vt,ln(this,x,N,It,c,new J(rt,Ht=nt.y>c.y?nt.y-at:nt.y+at),Pt),tm(x,nt.x+N,nt.y+It,Wt+N,Qt+It),c.h(Wt,Qt))):(ln(this,x,N,It,c,nt,Pt),c.assign(nt));h.assign(P),N=E}J.free(c)}im=x}else(x=this.i(1).copy()).x-=a,x.y-=S,0!==this.computeShortLength(!0)&&(h=Rf(this,h,!0,c)),0!==this.computeShortLength(!1)&&(x=Rf(this,x,!1,c)),t.type=ar,t.startX=h.x,t.startY=h.y,t.endX=x.x,t.endY=x.y;return this.$m=!0,t},Ce.prototype.computeJumpLength=function(){return 10},Ce.prototype.Oq=function(t){var e=this.layer;if(null!==e&&e.visible&&!e.isTemporary){var o=e.diagram;if(null!==o&&!o.animationManager.isTicking){var a=!1;for(o=o.layers;o.next();){var h=o.value;if(h.visible)if(h===e){a=!0;for(var c=!1,m=(h=h.Fa.j).length,x=0;x<m;x++){var S=h[x];S instanceof Ce&&(S===this?c=!0:c&&Dx(this,S,t))}}else if(a)for(h=(c=h.Fa.j).length,m=0;m<h;m++)(x=c[m])instanceof Ce&&Dx(this,x,t)}}}},Ce.prototype.usesSamePort=function(t){var e=this.pointsCount,o=t.pointsCount;if(0<e&&0<o){var a=this.i(0),h=t.i(0);if(a.Qa(h)||(e=this.i(e-1),t=t.i(o-1),e.Qa(t)||a.Qa(t)||e.Qa(h)))return!0}else if(this.fromNode===t.fromNode||this.toNode===t.toNode||this.fromNode===t.toNode||this.toNode===t.fromNode)return!0;return!1},Ce.prototype.isVisible=function(){if(!Ye.prototype.isVisible.call(this))return!1;var t=this.containingGroup,e=!0,o=this.diagram;if(null!==o&&(e=o.isTreePathToChildren),null!==(o=this.fromNode)){if(this.isTreeLink&&e&&!o.isTreeExpanded)return!1;if(o===t)return!0;for(var a=o;null!==a;){if(a.labeledLink===this)return!0;a=a.containingGroup}if(null===(o=o.findVisibleNode())||o===t)return!1}if(null!==(o=this.toNode)){if(this.isTreeLink&&!e&&!o.isTreeExpanded)return!1;if(o===t)return!0;for(e=o;null!==e;){if(e.labeledLink===this)return!0;e=e.containingGroup}if(null===(e=o.findVisibleNode())||e===t)return!1}return!0},Ce.prototype.Ob=function(t){if(Ye.prototype.Ob.call(this,t),null!==this.Mf&&this.Mf.Dm(),null!==this.nd)for(var e=this.nd.iterator;e.next();)e.value.Ob(t)},Ce.prototype.computeAdjusting=function(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?Nf:this.Yk},Ce.prototype.Ph=function(){return!0},B.Object.defineProperties(Ce.prototype,{fromNode:{get:function(){return this.We},set:function(t){var e=this.We;if(e!==t){var o=this.fromPort;null!==e&&(this.rf!==e&&sm(e,this,o),Of(this),this.C(2)),this.We=t,null!==t&&this.Ob(t.isVisible()),this.Vf=null,this.Ua();var a=this.diagram;null!==a&&a.Z&&a.partManager.setFromNodeForLink(this,t,e);var h=this.fromPort,c=this.fromPortChanged;if(null!==c){var m=!0;null!==a&&(m=a.Z,a.Z=!0),c(this,o,h),null!==a&&(a.Z=m)}null!==t&&(this.rf!==t&&up(t,this,h),um(this),this.C(1)),this.g("fromNode",e,t),fp(this)}}},fromPortId:{get:function(){return this.Xe},set:function(t){var e=this.Xe;if(e!==t){var o=this.fromPort;null!==o&&Fo(o),Of(this),this.Xe=t;var a=this.fromPort;null!==a&&Fo(a);var h=this.diagram;if(null!==h){var c=this.data,m=h.model;null!==c&&m.qj()&&m.Cw(c,t)}o!==a&&(this.Vf=null,this.Ua(),null!==(c=this.fromPortChanged)&&(m=!0,null!==h&&(m=h.Z,h.Z=!0),c(this,o,a),null!==h&&(h.Z=m))),um(this),this.g("fromPortId",e,t)}}},fromPort:{get:function(){var t=this.We;return null===t?null:t.Jt(this.Xe)}},fromPortChanged:{get:function(){return this.fo},set:function(t){var e=this.fo;e!==t&&(this.fo=t,this.g("fromPortChanged",e,t))}},toNode:{get:function(){return this.rf},set:function(t){var e=this.rf;if(e!==t){var o=this.toPort;null!==e&&(this.We!==e&&sm(e,this,o),Of(this),this.C(2)),this.rf=t,null!==t&&this.Ob(t.isVisible()),this.Vf=null,this.Ua();var a=this.diagram;null!==a&&a.Z&&a.partManager.setToNodeForLink(this,t,e);var h=this.toPort,c=this.toPortChanged;if(null!==c){var m=!0;null!==a&&(m=a.Z,a.Z=!0),c(this,o,h),null!==a&&(a.Z=m)}null!==t&&(this.We!==t&&up(t,this,h),um(this),this.C(1)),this.g("toNode",e,t),fp(this)}}},toPortId:{get:function(){return this.sf},set:function(t){var e=this.sf;if(e!==t){var o=this.toPort;null!==o&&Fo(o),Of(this),this.sf=t;var a=this.toPort;null!==a&&Fo(a);var h=this.diagram;if(null!==h){var c=this.data,m=h.model;null!==c&&m.qj()&&m.Hw(c,t)}o!==a&&(this.Vf=null,this.Ua(),null!==(c=this.toPortChanged)&&(m=!0,null!==h&&(m=h.Z,h.Z=!0),c(this,o,a),null!==h&&(h.Z=m))),um(this),this.g("toPortId",e,t)}}},toPort:{get:function(){var t=this.rf;return null===t?null:t.Jt(this.sf)}},toPortChanged:{get:function(){return this.mq},set:function(t){var e=this.mq;e!==t&&(this.mq=t,this.g("toPortChanged",e,t))}},fromSpot:{get:function(){return null!==this.O?this.O.bh:eo},set:function(t){this.Kc();var e=this.O.bh;e.w(t)||(t=t.H(),this.O.bh=t,this.g("fromSpot",e,t),(e.Oc()||t.Oc())&&null!==this.fromNode&&Fo(this.fromPort),this.Ua())}},fromEndSegmentLength:{get:function(){return null!==this.O?this.O.$g:NaN},set:function(t){this.Kc();var e=this.O.$g;e!==t&&(0>t&&Z(t,">= 0",Ce,"fromEndSegmentLength"),this.O.$g=t,this.g("fromEndSegmentLength",e,t),this.Ua())}},fromShortLength:{get:function(){return null!==this.O?this.O.ah:NaN},set:function(t){this.Kc();var e=this.O.ah;e!==t&&(this.O.ah=t,this.dc(),this.g("fromShortLength",e,t))}},toSpot:{get:function(){return null!==this.O?this.O.Ch:eo},set:function(t){this.Kc();var e=this.O.Ch;e.w(t)||(t=t.H(),this.O.Ch=t,this.g("toSpot",e,t),(e.Oc()||t.Oc())&&null!==this.toNode&&Fo(this.toPort),this.Ua())}},toEndSegmentLength:{get:function(){return null!==this.O?this.O.Ah:NaN},set:function(t){this.Kc();var e=this.O.Ah;e!==t&&(0>t&&Z(t,">= 0",Ce,"toEndSegmentLength"),this.O.Ah=t,this.g("toEndSegmentLength",e,t),this.Ua())}},toShortLength:{get:function(){return null!==this.O?this.O.Bh:NaN},set:function(t){this.Kc();var e=this.O.Bh;e!==t&&(this.O.Bh=t,this.dc(),this.g("toShortLength",e,t))}},isLabeledLink:{get:function(){return null!==this.nd&&0<this.nd.count}},labelNodes:{get:function(){return null===this.nd?bt:this.nd.iterator}},relinkableFrom:{get:function(){return 0!=(1&this.Ga)},set:function(t){var e=0!=(1&this.Ga);e!==t&&(this.Ga^=1,this.g("relinkableFrom",e,t),this.Lb())}},relinkableTo:{get:function(){return 0!=(2&this.Ga)},set:function(t){var e=0!=(2&this.Ga);e!==t&&(this.Ga^=2,this.g("relinkableTo",e,t),this.Lb())}},resegmentable:{get:function(){return 0!=(4&this.Ga)},set:function(t){var e=0!=(4&this.Ga);e!==t&&(this.Ga^=4,this.g("resegmentable",e,t),this.Lb())}},isTreeLink:{get:function(){return 0!=(8&this.Ga)},set:function(t){var e=0!=(8&this.Ga);e!==t&&(this.Ga^=8,this.g("isTreeLink",e,t),null!==this.fromNode&&kc(this.fromNode),null!==this.toNode&&kc(this.toNode))}},path:{get:function(){var t=this.tb();return t instanceof qe?t:null}},routeBounds:{get:function(){this.xj();var t=this.Yl,e=1/0,o=1/0,a=this.pointsCount;if(0===a)t.h(NaN,NaN,0,0);else{if(1===a)a=this.i(0),e=Math.min(a.x,e),o=Math.min(a.y,o),t.h(a.x,a.y,0,0);else if(2===a){a=this.i(0);var h=this.i(1);e=Math.min(a.x,h.x),o=Math.min(a.y,h.y),t.h(a.x,a.y,0,0),t.Oe(h)}else if(this.computeCurve()===Rr&&3<=a&&!this.isOrthogonal)if(h=this.i(0),t.h(e=h.x,o=h.y,0,0),3===a){a=this.i(1),e=Math.min(a.x,e),o=Math.min(a.y,o);var c=this.i(2);e=Math.min(c.x,e),o=Math.min(c.y,o),Zt.vm(h.x,h.y,a.x,a.y,a.x,a.y,c.x,c.y,.5,t)}else for(c=3;c<a;c+=3){var m=this.i(c-2);c+3>=a&&(c=a-1);var x=this.i(c-1),S=this.i(c);Zt.vm(h.x,h.y,m.x,m.y,x.x,x.y,S.x,S.y,.5,t),e=Math.min(S.x,e),o=Math.min(S.y,o),h=S}else for(h=this.i(0),c=this.i(1),e=Math.min(h.x,c.x),o=Math.min(h.y,c.y),t.h(h.x,h.y,0,0),t.Oe(c),h=2;h<a;h++)c=this.i(h),e=Math.min(c.x,e),o=Math.min(c.y,o),t.Oe(c);this.vv.h(e-t.x,o-t.y)}return t}},midPoint:{get:function(){return this.xj(),this.computeMidPoint(new J)}},midAngle:{get:function(){return this.xj(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.$r){this.ud||Dv(this);for(var t=this.$r=[],e=this.pointsCount,o=0;o<e-1;o++){var a=this.i(o),h=this.i(o+1);Zt.aa(a.x,h.x)?0>(a=h.y-a.y)&&(a=-a):Zt.aa(a.y,h.y)?0>(a=h.x-a.x)&&(a=-a):a=Math.sqrt(a.Ie(h)),t.push(a)}}return this.$r}},flattenedTotalLength:{get:function(){var t=this.Ru;if(isNaN(t)){for(var e=this.flattenedLengths,o=e.length,a=t=0;a<o;a++)t+=e[a];this.Ru=t}return t}},points:{get:function(){return this.Ab},set:function(t){var e=this.Ab;if(e!==t){var o=null;if(Array.isArray(t)){var a=t.length%2==0;if(a)for(var h=0;h<t.length;h++)if("number"!=typeof t[h]||isNaN(t[h])){a=!1;break}if(a)for(o=new St,a=0;a<t.length/2;a++)h=new J(t[2*a],t[2*a+1]).freeze(),o.add(h);else{for(a=!0,h=0;h<t.length;h++){var c=t[h];if(!ht(c)||"number"!=typeof c.x||isNaN(c.x)||"number"!=typeof c.y||isNaN(c.y)){a=!1;break}}if(a)for(o=new St,a=0;a<t.length;a++)o.add(new J((h=t[a]).x,h.y).freeze())}}else if(t instanceof St)for(o=t.copy(),t=o.iterator;t.next();)t.value.freeze();else R("Link.points value is not an instance of List or Array: "+t);o.freeze(),this.Ab=o,this.dc(),Dv(this),null!==(t=this.diagram)&&(t.pj||t.undoManager.isUndoingRedoing||t.Yt.add(this),t.animationManager.sc&&(t=t.animationManager,this.jf=o,t.$l.add(this))),this.g("points",e,o)}}},pointsCount:{get:function(){return this.Ab.count}},ud:{get:function(){return 0!=(16&this.Ga)},set:function(t){0!=(16&this.Ga)!==t&&(this.Ga^=16)}},suspendsRouting:{get:function(){return 0!=(32&this.Ga)},set:function(t){0!=(32&this.Ga)!==t&&(this.Ga^=32)}},Ct:{get:function(){return 0!=(64&this.Ga)},set:function(t){0!=(64&this.Ga)!==t&&(this.Ga^=64)}},defaultFromPoint:{get:function(){return this.u},set:function(t){this.u=t.copy()}},defaultToPoint:{get:function(){return this.I},set:function(t){this.I=t.copy()}},isOrthogonal:{get:function(){return 2==(2&this.ck.value)}},isAvoiding:{get:function(){return 4==(4&this.ck.value)}},$m:{get:function(){return 0!=(128&this.Ga)},set:function(t){0!=(128&this.Ga)!==t&&(this.Ga^=128)}},geometry:{get:function(){return this.$m||(this.xj(),this.na=this.makeGeometry()),this.na}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!dp(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var t=this.pointsCount;return 0===t?0:2>=t?t-1:this.isOrthogonal||!dp(this.computeSpot(!1))?t-2:t-1}},adjusting:{get:function(){return this.Yk},set:function(t){var e=this.Yk;e!==t&&(this.Yk=t,this.g("adjusting",e,t))}},corner:{get:function(){return this.Hn},set:function(t){var e=this.Hn;e!==t&&(this.Hn=t,this.dc(),this.g("corner",e,t))}},curve:{get:function(){return this.Jn},set:function(t){var e=this.Jn;e!==t&&(this.Jn=t,this.Ua(),this.dc(),il(this,e===nl||e===Fu||t===nl||t===Fu),this.g("curve",e,t))}},curviness:{get:function(){return this.Kn},set:function(t){var e=this.Kn;e!==t&&(this.Kn=t,this.Ua(),this.dc(),this.g("curviness",e,t))}},routing:{get:function(){return this.ck},set:function(t){var e=this.ck;e!==t&&(this.ck=t,this.Vf=null,this.Ua(),il(this,2==(2&e.value)||2==(2&t.value)),this.g("routing",e,t))}},smoothness:{get:function(){return this.Zp},set:function(t){var e=this.Zp;e!==t&&(this.Zp=t,this.dc(),this.g("smoothness",e,t))}},key:{get:function(){var t=this.diagram;if(null!==t&&t.model.qj())return t.model.Wb(this.data)}}}),Ce.prototype.invalidateOtherJumpOvers=Ce.prototype.Oq,Ce.prototype.findClosestSegment=Ce.prototype.Sz,Ce.prototype.updateRoute=Ce.prototype.xj,Ce.prototype.invalidateRoute=Ce.prototype.Ua,Ce.prototype.rollbackRoute=Ce.prototype.yw,Ce.prototype.commitRoute=Ce.prototype.xf,Ce.prototype.startRoute=Ce.prototype.Th,Ce.prototype.clearPoints=Ce.prototype.pk,Ce.prototype.removePoint=Ce.prototype.uw,Ce.prototype.addPointAt=Ce.prototype.vf,Ce.prototype.addPoint=Ce.prototype.ce,Ce.prototype.insertPointAt=Ce.prototype.m,Ce.prototype.insertPoint=Ce.prototype.wA,Ce.prototype.setPointAt=Ce.prototype.L,Ce.prototype.setPoint=Ce.prototype.Qc,Ce.prototype.getPoint=Ce.prototype.i,Ce.prototype.getOtherPort=Ce.prototype.nA,Ce.prototype.getOtherNode=Ce.prototype.Kq;var ma=null,Nu=null,Iv=new ct(Ce,"Normal",1),Ex=new ct(Ce,"Orthogonal",2),GA=new ct(Ce,"AvoidsNodes",6),kx=new ct(Ce,"AvoidsNodesStraight",7),Bo=new ct(Ce,"None",0),Rr=new ct(Ce,"Bezier",9),nl=new ct(Ce,"JumpGap",10),Fu=new ct(Ce,"JumpOver",11),Nf=new ct(Ce,"End",17),Ax=new ct(Ce,"Scale",18),Rv=new ct(Ce,"Stretch",19),pp=new ct(Ce,"OrientAlong",21),Ov=new ct(Ce,"OrientPlus90",22),cm=new ct(Ce,"OrientMinus90",23),Gb=new ct(Ce,"OrientOpposite",24),fm=new ct(Ce,"OrientUpright",25),mp=new ct(Ce,"OrientPlus90Upright",26),dm=new ct(Ce,"OrientMinus90Upright",27),gp=new ct(Ce,"OrientUpright45",28),_S=16,bS=14,Nv=8;function Tx(t,e,o,a){Kt(this),this.se=this.hs=!1,this.au=t,this.My=e,this.lw=o,this.Ny=a,this.links=[]}function Fv(){Kt(this),this.Vy=this.group=null,this.Rt=!0,this.abort=!1,this.Bd=this.Ad=1,this.So=this.Ro=-1,this.gc=this.fc=8,this.Rb=null,this.$i=this.Zi=0,this.Wy=11,this.Gy=124}function pm(t,e,o){return t.Ad<=e&&e<=t.Ro&&t.Bd<=o&&o<=t.So}function mh(t,e,o){return pm(t,e,o)?(e-=t.Ad,o-=t.Bd,t.Rb[0|(e/=t.fc)][0|(o/=t.gc)]):Bv}function MS(t){if(null!==t.Rb)for(var e=0;e<=t.Zi;e++)for(var o=t.Rb[e],a=0;a<=t.$i;a++)o[a]>=Bu&&(o[a]=Bv)}function gh(t,e,o,a,h,c,m,x,S){if(!(e<c||e>m||o<x||o>S)){var E=0|e,P=0|o,N=t.Rb[E][P];if(N>=Bu&&N<Ac)for(h?P+=a:E+=a,N+=1;c<=E&&E<=m&&x<=P&&P<=S&&!(N>=t.Rb[E][P]);)t.Rb[E][P]=N,N+=1,h?P+=a:E+=a;if(E=h?P:E,h)if(0<a)for(o+=a;o<E;o+=a)gh(t,e,o,1,!h,c,m,x,S),gh(t,e,o,-1,!h,c,m,x,S);else for(o+=a;o>E;o+=a)gh(t,e,o,1,!h,c,m,x,S),gh(t,e,o,-1,!h,c,m,x,S);else if(0<a)for(e+=a;e<E;e+=a)gh(t,e,o,1,!h,c,m,x,S),gh(t,e,o,-1,!h,c,m,x,S);else for(e+=a;e>E;e+=a)gh(t,e,o,1,!h,c,m,x,S),gh(t,e,o,-1,!h,c,m,x,S)}}function Px(t,e,o,a,h,c,m,x,S){var E=Zh,P=Bu;for(t.Rb[e|=0][o|=0]=P;E===Zh&&e>c&&e<m&&o>x&&o<S;)t.Rb[e][o]=P+=1,h?o+=a:e+=a,E=t.Rb[e][o]}function Ix(t,e,o,a,h,c,m,x,S){var E=Zh,P=Ac;for(t.Rb[e|=0][o|=0]=P;E===Zh&&e>c&&e<m&&o>x&&o<S;)t.Rb[e][o]=P,h?o+=a:e+=a,E=t.Rb[e][o]}function Lu(t,e,o,a,h,c,m){if(null!==t.Rb){t.abort=!1;var x=e.x,S=e.y;if(pm(t,x,S)){x-=t.Ad,x/=t.fc,S-=t.Bd,S/=t.gc;var E=a.x,P=a.y;if(pm(t,E,P))if(E-=t.Ad,E/=t.fc,P-=t.Bd,P/=t.gc,1>=Math.abs(x-E)&&1>=Math.abs(S-P))t.abort=!0;else{var N=c.x;a=c.y,e=c.x+c.width;var nt=c.y+c.height;N-=t.Ad,N/=t.fc,a-=t.Bd,a/=t.gc,e-=t.Ad,e/=t.fc,nt-=t.Bd,nt/=t.gc,c=Math.max(0,Math.min(t.Zi,0|N)),e=Math.min(t.Zi,Math.max(0,0|e)),N=Math.max(0,Math.min(t.$i,0|a)),nt=Math.min(t.$i,Math.max(0,0|nt)),E|=0,P|=0;var at=0===o||90===o?1:-1;if(o=90===o||270===o,(a=t.Rb)[x|=0][S|=0]===Zh?(Px(t,x,S,at,o,c,e,N,nt),Px(t,x,S,1,!o,c,e,N,nt),Px(t,x,S,-1,!o,c,e,N,nt)):Px(t,x,S,at,o,x,S,x,S),a[E][P]===Zh?(Ix(t,E,P,0===h||90===h?1:-1,90===h||270===h,c,e,N,nt),Ix(t,E,P,1,!(90===h||270===h),c,e,N,nt),Ix(t,E,P,-1,!(90===h||270===h),c,e,N,nt)):Ix(t,E,P,at,o,E,P,E,P),o=u(),m&&Lv(t,E,P,h,x,S,o))for((o[0]!==E||o[1]!==P)&&(o.unshift(P),o.unshift(E)),(o[o.length-2]!==x||o[o.length-1]!==S)&&(o.push(x),o.push(S)),t=Bu,a[h=o[o.length-2]][m=o[o.length-1]]=t++,c=o.length-4;0<=c;c-=2)for(h=o[c+2],m=o[c+3],e=o[c],E=o[c+1];e>h?h++:e<h?h--:E>m?m++:E<m&&m--,a[h][m]=t++,h!==e||m!==E;);else gh(t,x,S,1,!1,c,e,N,nt),gh(t,x,S,-1,!1,c,e,N,nt),gh(t,x,S,1,!0,c,e,N,nt),gh(t,x,S,-1,!0,c,e,N,nt);p(o)}}}}function Lv(t,e,o,a,h,c,m){for(var x=t.Rb,S=e,E=o;;){if(S===h&&E===c)return!0;var P=S,N=E;if(0===a){if(!(P<h))break;P++}else if(90===a){if(!(N<c))break;N++}else if(180===a){if(!(P>h))break;P--}else{if(!(N>c))break;N--}var nt=x[P][N];if(0===nt||nt===mm)break;S=P,E=N}for(;;){if(P=a,N=S,nt=E,0===a?nt<c?(P=90,nt++):nt>c&&(P=270,nt--):90===a?N<h?(P=0,N++):N>h&&(P=180,N--):180===a?nt<c?(P=90,nt++):nt>c&&(P=270,nt--):N<h?(P=0,N++):N>h&&(P=180,N--),N=x[N][nt],P!==a&&0!==N&&N!==mm){if(m.push(S),m.push(E),Lv(t,S,E,P,h,c,m))return!0;m.pop(),m.pop()}if(x[S][E]=mm,0===a){if(S===e)return!1;S--}else if(90===a){if(E===o)return!1;E--}else if(180===a){if(S===e)return!1;S++}else{if(E===o)return!1;E++}}}Ce.className="Link",Ce.Normal=Iv,Ce.Orthogonal=Ex,Ce.AvoidsNodes=GA,Ce.AvoidsNodesStraight=kx,Ce.None=Bo,Ce.Bezier=Rr,Ce.JumpGap=nl,Ce.JumpOver=Fu,Ce.End=Nf,Ce.Scale=Ax,Ce.Stretch=Rv,Ce.OrientAlong=pp,Ce.OrientPlus90=Ov,Ce.OrientMinus90=cm,Ce.OrientOpposite=Gb,Ce.OrientUpright=fm,Ce.OrientPlus90Upright=mp,Ce.OrientMinus90Upright=dm,Ce.OrientUpright45=gp,Ce.EndSegmentStep=8,Ce.CurvinessStart=_S,Ce.SpacingMin=bS,Ce.OrthoShortCut=Nv,Ce.AvoidanceCell=8,Ce.AvoidanceLimit=999,Tx.prototype.Dm=function(){if(!this.hs){var t=this.links;0<t.length&&null!==(t=t[0].diagram)&&(t.Tu.add(this),this.se=t.undoManager.isUndoingRedoing)}this.hs=!0},Tx.prototype.Vw=function(){if(this.hs){this.hs=!1;var t=this.links;if(0<t.length){var e=t[0],o=e.diagram;o=null===o||o.pj&&!this.se,this.se=!1,e.arrangeBundledLinks(t,o),1===t.length&&(e.Mf=null,t.length=0)}0===t.length&&(t=this.au,null!==this&&null!==t.Se&&t.Se.remove(this),t=this.lw,null!==this&&null!==t.Se&&t.Se.remove(this))}},Tx.className="LinkBundle",Fv.prototype.initialize=function(t){if(!(0>=t.width||0>=t.height)){var e=t.y,o=t.x+t.width,a=t.y+t.height;if(this.Ad=Math.floor((t.x-this.fc)/this.fc)*this.fc,this.Bd=Math.floor((e-this.gc)/this.gc)*this.gc,this.Ro=Math.ceil((o+2*this.fc)/this.fc)*this.fc,this.So=Math.ceil((a+2*this.gc)/this.gc)*this.gc,t=1+(0|Math.ceil((this.Ro-this.Ad)/this.fc)),e=1+(0|Math.ceil((this.So-this.Bd)/this.gc)),null===this.Rb||this.Zi<t-1||this.$i<e-1){for(o=[],a=0;a<=t;a++)o[a]=new Uint32Array(e);this.Rb=o,this.Zi=t-1,this.$i=e-1}if(t=Bv,null!==this.Rb)for(e=0;e<=this.Zi;e++)if((o=this.Rb[e]).fill)o.fill(t);else for(a=0;a<=this.$i;a++)o[a]=t}},Fv.prototype.Ek=function(t,e,o,a){if(t>this.Ro||t+o<this.Ad||e>this.So||e+a<this.Bd)return!0;t=(t-this.Ad)/this.fc|0,e=(e-this.Bd)/this.gc|0,o=Math.max(0,o)/this.fc+1|0;var h=Math.max(0,a)/this.gc+1|0;if(0>t&&(o+=t,t=0),0>e&&(h+=e,e=0),0>o||0>h)return!0;for(a=0|Math.min(t+o-1,this.Zi),o=0|Math.min(e+h-1,this.$i);t<=a;t++){h=this.Rb[t];for(var c=e;c<=o;c++)if(h[c]===Zh)return!1}return!0},B.Object.defineProperties(Fv.prototype,{bounds:{get:function(){return new Lt(this.Ad,this.Bd,this.Ro-this.Ad,this.So-this.Bd)}},zq:{get:function(){return this.fc},set:function(t){0<t&&t!==this.fc&&(this.fc=t,this.initialize(this.bounds))}},yq:{get:function(){return this.gc},set:function(t){0<t&&t!==this.gc&&(this.gc=t,this.initialize(this.bounds))}}});var Zh=0,Bu=1,Ac=999999,Bv=Ac+1,mm=Ac+2;function Ff(){Kt(this),this.port=this.node=null,this.de=[],this.Sq=!1}function Tc(t,e,o,a){switch(e=e.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(e){case 9:return 180<o?270:90;case 6:return 90<o&&270>=o?180:0}switch(t=180*Math.atan2(t.height,t.width)/Math.PI,e){case 3:return o>t&&o<=180+t?180:270;case 5:return o>180-t&&o<=360-t?270:0;case 12:return o>t&&o<=180+t?90:0;case 10:return o>180-t&&o<=360-t?180:90;case 7:return 90<o&&o<=180+t?180:o>180+t&&o<=360-t?270:0;case 13:return 180<o&&o<=360-t?270:o>t&&180>=o?90:0;case 14:return o>t&&o<=180-t?90:o>180-t&&270>=o?180:0;case 11:return o>180-t&&o<=180+t?180:o>180+t?270:90}return a&&15!==e&&0>(o-=15)&&(o+=360),o>t&&o<180-t?90:o>=180-t&&o<=180+t?180:o>180+t&&o<360-t?270:0}function Rx(t,e){var o=t.de;if(0===o.length){t:if(!t.Sq){o=t.Sq,t.Sq=!0;var a=null,h=t.node,c=h instanceof Je?h:null;if(null===c||c.isSubGraphExpanded)var m=h.isTreeExpanded?h.findLinksConnected(t.port.portId):h.py();else{if(!c.actualBounds.o()){t.Sq=o;break t}m=(a=c).Rv()}c=t.de.length=0;var x=t.port.da(tn,J.alloc()),S=t.port.da(ss,J.alloc());for((h=Lt.allocAt(x.x,x.y,0,0)).Oe(S),J.free(x),J.free(S),x=J.allocAt(h.x+h.width/2,h.y+h.height/2),S=t.port.lj(),m=m.iterator;m.next();){var E=m.value;if(E.isVisible()&&E.fromPort!==E.toPort){var P=E.fromPort===t.port||null!==E.fromNode&&E.fromNode.Kd(a),N=E.computeSpot(P,t.port);if(N.Oc()){var nt=P?E.toPort:E.fromPort;if(null!==nt&&null!==(P=nt.part)){var at=P.findVisibleNode();null!==at&&at!==P&&(nt=(P=at).port),P=E.computeOtherPoint(P,nt),nt=x.Pa(nt.da(Xe)),nt+=(x.Pa(P)-nt)/360,0>(nt-=S)?nt+=360:360<=nt&&(nt-=360),0===(N=Tc(h,N,nt,E.isOrthogonal))?(N=4,180<nt&&(nt-=360)):90===N?(N=8,270<nt&&(nt-=360)):180===N?N=2:(N=1,90>nt&&(nt+=360)),void 0===(at=t.de[c])?(at=new Ox(E,nt,N),t.de[c]=at):(at.link=E,at.angle=nt,at.Ac=N),at.ow.set(P),c++}}}}for(J.free(x),t.de.sort(Ff.prototype.l),S=t.de.length,a=-1,c=x=0;c<S;c++)void 0!==(m=t.de[c])&&(m.Ac!==a&&(a=m.Ac,x=0),m.Lq=x,x++);for(a=-1,x=0,c=S-1;0<=c;c--)void 0!==(S=t.de[c])&&(S.Ac!==a&&(a=S.Ac,x=S.Lq+1),S.wm=x);if(c=t.de,N=t.port,a=t.node.portSpreading,x=J.alloc(),S=J.alloc(),m=J.alloc(),E=J.alloc(),N.da(tn,x),N.da($n,S),N.da(ss,m),N.da(nh,E),at=nt=P=N=0,a===bx)for(var rt=0;rt<c.length;rt++){var _t=c[rt];if(null!==_t){var It=_t.link.computeThickness();switch(_t.Ac){case 8:nt+=It;break;case 2:at+=It;break;case 1:N+=It;break;default:P+=It}}}var Pt=rt=0,Vt=1,Ht=_t=0;for(It=0;It<c.length;It++){var Wt=c[It];if(null!==Wt){if(rt!==Wt.Ac){switch(rt=Wt.Ac){case 8:var Qt=m;Pt=E;break;case 2:Qt=E,Pt=x;break;case 1:Qt=x,Pt=S;break;default:Qt=S,Pt=m}switch(_t=Pt.x-Qt.x,Ht=Pt.y-Qt.y,rt){case 8:nt>Math.abs(_t)?(Vt=Math.abs(_t)/nt,nt=Math.abs(_t)):Vt=1;break;case 2:at>Math.abs(Ht)?(Vt=Math.abs(Ht)/at,at=Math.abs(Ht)):Vt=1;break;case 1:N>Math.abs(_t)?(Vt=Math.abs(_t)/N,N=Math.abs(_t)):Vt=1;break;default:P>Math.abs(Ht)?(Vt=Math.abs(Ht)/P,P=Math.abs(Ht)):Vt=1}Pt=0}var me=Wt.Qq;if(a===bx){switch(Wt=Wt.link.computeThickness(),Wt*=Vt,me.set(Qt),rt){case 8:me.x=Qt.x+_t/2+nt/2-Pt-Wt/2;break;case 2:me.y=Qt.y+Ht/2+at/2-Pt-Wt/2;break;case 1:me.x=Qt.x+_t/2-N/2+Pt+Wt/2;break;default:me.y=Qt.y+Ht/2-P/2+Pt+Wt/2}Pt+=Wt}else{var Be=.5;a===_x&&(Be=(Wt.Lq+1)/(Wt.wm+1)),me.x=Qt.x+_t*Be,me.y=Qt.y+Ht*Be}}}for(J.free(x),J.free(S),J.free(m),J.free(E),Qt=t.de,c=0;c<Qt.length;c++)null!==(a=Qt[c])&&(a.Pv=t.computeEndSegmentLength(a));t.Sq=o,Lt.free(h)}o=t.de}for(t=0;t<o.length;t++)if(null!==(h=o[t])&&h.link===e)return h;return null}function Ox(t,e,o){this.link=t,this.angle=e,this.Ac=o,this.ow=new J,this.wm=this.Lq=0,this.Qq=new J,this.Pv=0}function Lf(){this.Ch=this.bh=eo,this.Bh=this.ah=this.Ah=this.$g=NaN,this.kq=this.co=null,this.lq=this.eo=1/0}function Ai(){Kt(this),this.u=this.B=null,this.zi=this.xo=!0,this.Co=!1,this.nn=new J(0,0).freeze(),this.zo=!0,this.vn=this.yo=null,this.Bo=!1,this.l=null,this.I=0,this.To=this.qq=null,this.wt=!1,this.yg=this.ek=null,this.lt=!1}function qh(t,e,o,a,h,c,m,x){for(o=o.iterator;o.next();){var S=o.value;a&&!S.isTopLevel||null!==h&&!h(S)||!S.canLayout()||(c&&S instanceof Fe?S.isLinkLabel||(S instanceof Je&&null===S.layout?qh(t,e,S.memberParts,!1,h,c,m,x):(gm(S),e.add(S))):m&&S instanceof Ce?e.add(S):!x||!S.Nc()||S instanceof Fe||(gm(S),e.add(S)))}}function gm(t){var e=t.actualBounds;(0===e.width||0===e.height||isNaN(e.width)||isNaN(e.height))&&t.Ta()}function Vv(t,e){if(null!==t.workerStateChanged){var o={key:t.group?t.group.key:null};void 0!==e&&(o.time=e),null!==t.ek&&(o.running=vp(t.ek)),null!==t.yg&&(o.waiting=vp(t.yg)),t.workerStateChanged(o,t)}}function vp(t){return{vertexes:t.vertexes.count,edges:t.edges.count}}function Vu(t,e){var o=Bf(t);if(!o)throw Error("Unknown Layout class: "+t);if(e)for(var a in e)o[a]=e[a]}function Bf(t){var e=null;if("function"==typeof t){if(!(e=xp.get(t))){var o=v(t);(e=xp.get(o))||((e=new Lx).Lv=t,e.name=o,e.l=t.name,e.Cy=Nx,xp.set(o,e),xp.set(t,e),xp.set(t.name,e))}}else"string"==typeof t&&(e=xp.get(t));return e}function Vf(t,e){t.wt=!0;var o=Bf(t.constructor),a=yp(t,e,!0);a._GoJS="_GoJS",o.Pe.postMessage(a),o.Fm.set(Jt(t),t),t.ek=e}function yp(t,e,o){t.onNetworkSerialization(1,o,e,null);var a={};t.serializeLayoutProperties(a,o);var h=[];e.vertexes.each(function(m){var x={};m.serializeVertexProperties(x,o),h.push(x)});var c=[];return e.edges.each(function(m){var x={};m.serializeEdgeProperties(x,o),c.push(x)}),a={id:o?Jt(t):t.id,layout:v(t.constructor),p:a,jB:h,Qz:c},t.onNetworkSerialization(2,o,e,a),a}function jf(t,e,o){o&&(t.id=e.id);var a=t.diagram,h=t.createNetwork();t.onNetworkSerialization(3,o,h,e);var c=e.jB,m=new ot;c&&c.forEach(function(E){var P=null;null===E.key||null===a||o||(P=a.Cb(E.key)),null!==P?P=h.mk(P):(P=h.createVertex(),h.Bg(P)),o&&null!==E.key&&(P.data={Di:E.key}),m.set(E.id,P)});var x=e.Qz,S=new ot;return x&&x.forEach(function(E){var P=null;null===E.key||null===a||o||(P=a.findLinkForKey(E.key));var N=h.createEdge();h.tm(N),N.link=P,o&&null!==E.key&&(N.data={Di:E.key}),S.set(E.id,N)}),c&&c.forEach(function(E){var P=m.get(E.id);P&&P.Cq(E,m,S,o)}),x&&x.forEach(function(E){var P=S.get(E.id);P&&P.deserializeEdgeProperties(E,m,S,o)}),t.deserializeLayoutProperties(e.p,m,S,o,h),t.onNetworkSerialization(4,o,h,e),h}Fv.className="PositionArray",Ff.prototype.toString=function(){for(var t=this.de,e=this.node.toString()+" "+t.length.toString()+":",o=0;o<t.length;o++){var a=t[o];null!==a&&(e+="\n  "+a.toString())}return e},Ff.prototype.Dm=function(){this.de.length=0},Ff.prototype.l=function(t,e){return t===e?0:null===t?-1:null===e?1:t.Ac<e.Ac?-1:t.Ac>e.Ac?1:t.angle<e.angle?-1:t.angle>e.angle?1:0},Ff.prototype.computeEndSegmentLength=function(t){var e=t.link,o=e.computeEndSegmentLength(this.node,this.port,yi,e.fromPort===this.port),a=t.Lq;if(0>a)return o;var h=t.wm;if(1>=h||!e.isOrthogonal)return o;e=t.ow;var c=t.Qq;return(2===t.Ac||8===t.Ac)&&(a=h-1-a),((t=2===t.Ac||4===t.Ac)?e.y<c.y:e.x<c.x)?o+8*a:(t?e.y===c.y:e.x===c.x)?o:o+8*(h-1-a)},Ff.className="Knot",Ox.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Ac.toString()+":"+this.Lq.toString()+"/"+this.wm.toString()+" "+this.Qq.toString()+" "+this.Pv.toString()+" "+this.ow.toString()},Ox.className="LinkInfo",Lf.prototype.copy=function(){var t=new Lf;return t.bh=this.bh.H(),t.Ch=this.Ch.H(),t.$g=this.$g,t.Ah=this.Ah,t.ah=this.ah,t.Bh=this.Bh,t.co=this.co,t.kq=this.kq,t.eo=this.eo,t.lq=this.lq,t},Lf.className="LinkSettings",Ai.prototype.cloneProtected=function(t){t.xo=this.xo,t.zi=this.zi,t.Co=this.Co,t.nn.assign(this.nn),t.zo=this.zo,t.yo=this.yo,t.vn=this.vn,t.Bo=!0,t.To=this.To,t.qq=this.qq},Ai.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},Ai.prototype.serializeLayoutProperties=function(t){t.arrangementOrigin={x:this.arrangementOrigin.x,y:this.arrangementOrigin.y},t.isRouting=this.isRouting},Ai.prototype.deserializeLayoutProperties=function(t){null!==t&&(this.arrangementOrigin=new J(t.arrangementOrigin.x,t.arrangementOrigin.y),this.isRouting=t.isRouting)},Ai.prototype.jb=function(){},Ai.prototype.toString=function(){var t=v(this.constructor);return t+="(",null!==this.group&&(t+=" in "+this.group),null!==this.diagram&&(t+=" for "+this.diagram),t+")"},Ai.prototype.C=function(){if(this.isValidLayout){var t=this.diagram;if(null!==t&&!t.undoManager.isUndoingRedoing){var e=t.animationManager;!e.isTicking&&(e.defaultAnimation.isAnimating&&e.Bc(),this.isOngoing&&t.pj||this.isInitial&&!t.pj)&&(this.isValidLayout=!1,t.Db())}}},Ai.prototype.createNetwork=function(){return new Hi(this)},Ai.prototype.makeNetwork=function(t){var e=this.createNetwork();return t instanceof oe?(e.Ag(t.nodes,!0),e.Ag(t.links,!0)):e.Ag(t instanceof Je?t.memberParts:t.iterator),e},Ai.prototype.updateParts=function(){if(this.isValidLayout=!0,!this.workerLayout()){var t=this.diagram;if(null===t&&null!==this.network)for(var e=this.network.vertexes.iterator;e.next();){var o=e.value.node;if(null!==o&&null!==(t=o.diagram))break}try{null!==t&&t.xa("Layout"),this.commitLayout()}finally{null!==t&&t.Xa("Layout")}}},Ai.prototype.commitLayout=function(){if(null!==this.network){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();if(this.isRouting)for(t=this.network.edges.iterator;t.next();)t.value.commit()}},Ai.prototype.doLayout=function(t){var e=new At;t instanceof oe?(qh(this,e,t.nodes,!0,this.Rh,!0,!1,!0),qh(this,e,t.parts,!0,this.Rh,!0,!1,!0)):t instanceof Je?qh(this,e,t.memberParts,!1,this.Rh,!0,!1,!0):e.addAll(t.iterator),0<e.count&&(null!==(t=this.diagram)&&t.xa("Layout"),this.doMinimalNoNetworkLayout(e),null!==t&&t.Xa("Layout")),this.isValidLayout=!0},Ai.prototype.doMinimalNoNetworkLayout=function(t){var e=Math.ceil(Math.sqrt(t.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var o=this.arrangementOrigin.x,a=o,h=this.arrangementOrigin.y,c=0,m=0;for(t=t.iterator;t.next();){var x=t.value;gm(x);var S=x.measuredBounds,E=S.width;S=S.height,x.moveTo(a,h),x instanceof Je&&(x.Rh=!1),a+=Math.max(E,50)+20,m=Math.max(m,Math.max(S,50)),c>=e-1?(c=0,a=o,h+=m+20,m=0):c++}},Ai.prototype.doMinimalNetworkLayout=function(){var t=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var e=this.arrangementOrigin.x,o=e,a=this.arrangementOrigin.y,h=0,c=0,m=this.network.vertexes.iterator;m.next();){var x=m.value.node;if(!(null===x||x instanceof Ce)&&(gm(x),this.Rh(x))){var S=x.measuredBounds,E=S.width;S=S.height,x.moveTo(o,a),x instanceof Je&&(x.Rh=!1),o+=Math.max(E,50)+20,c=Math.max(c,Math.max(S,50)),h>=t-1?(h=0,o=e,a+=c+20,c=0):h++}}},Ai.prototype.Rh=function(t){return!(t.location.o()&&!(t instanceof Je&&t.Rh))},Ai.prototype.nj=function(t,e){var o=this.boundsComputation;return null!==o?(e||(e=new Lt),o(t,this,e)):e?(e.set(t.actualBounds),e):t.actualBounds},Ai.prototype.$x=function(t){var e=new At;return t instanceof oe?(qh(this,e,t.nodes,!0,null,!0,!0,!0),qh(this,e,t.links,!0,null,!0,!0,!0),qh(this,e,t.parts,!0,null,!0,!0,!0)):qh(this,e,t instanceof Je?t.memberParts:t.iterator,!1,null,!0,!0,!0),e},Ai.prototype.initialOrigin=function(t){var e=this.group;if(null!==e){var o=e.position.copy();return(isNaN(o.x)||isNaN(o.y))&&o.set(t),null!==(e=e.placeholder)&&(o=e.da(tn),(isNaN(o.x)||isNaN(o.y))&&o.set(t),o.x+=(t=e.padding).left,o.y+=t.top),o}return t},Ai.prototype.mayUseWorker=function(){return!!this.mayUseWorkerFunction&&this.mayUseWorkerFunction(this)},Ai.prototype.workerLayout=function(){return!1},Ai.prototype.zz=function(){var t=Bf(this.constructor);t&&(null!==t.Pe&&t.Pe.terminate(),t.Pe=null,t.Fm.iteratorValues.each(function(e){e.wt=!1,e.ek=null,e.yg=null,e.lt=!1,Vv(e)}),t.Fm.clear())},Ai.prototype.Uw=function(){if("undefined"==typeof Worker||!Fx||"undefined"==typeof self||void 0!==self.DedicatedWorkerGlobalScope)return!1;if(!this.mayUseWorker())return this.wt&&(this.lt=!0,this.yg=this.ek=null,Vv(this)),!1;var t=Bf(this.constructor);return null!==t&&(null===t.Pe&&(t.Pe=new Worker(Fx),t.Pe.onerror=function(e){e.preventDefault(),Q("Worker Error at: "+e.filename+" "+e.lineno+" "+e.colno+"\n  "+e.message)},t.Pe.l=function(e){Q("Worker serialization error: "+e)},t.Pe.onmessage=function(e){var o=e.data;if("_GoJS"===o._GoJS)if(o.version&&oe.version&&o.version!==oe.version)Q("Failure: GoJS v"+oe.version+"  Worker v"+o.version);else if(e=t.Fm.get(o.id)){if(t.Fm.remove(o.id),e.wt=!1,e.ek=null,e.lt)e.lt=!1,e.yg=null;else{var a=jf(e,o,!1);e.network=a,e.updateParts(),e.network=null,e.isValidLayout=!0}if(Vv(e,o.time),null!==(o=e.yg))e.yg=null;else for(a=t.Fm.iteratorValues;a.next();){var h=a.value;if(null!==(o=h.yg)){h.yg=null;break}}null!==o&&Vf(e,o)}},t.Pe.postMessage({_GoJS:"_GoJS",url:t.Cy}),Array.isArray(t.scripts)&&t.scripts.forEach(function(e){t.Pe.postMessage({_GoJS:"_GoJS",url:e})}),t.Pe.postMessage({_GoJS:"_GoJS",version:-1})),null!==this.ek?this.yg=this.network:Vf(this,this.network),Vv(this),this.doMinimalNetworkLayout(),this.network=null,this.isValidLayout=!0)},Ai.prototype.onNetworkSerialization=function(){},B.Object.defineProperties(Ai.prototype,{diagram:{get:function(){return this.B},set:function(t){this.B=t}},group:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t,null!==t&&(this.B=t.diagram))}},isOngoing:{get:function(){return this.xo},set:function(t){this.xo!==t&&(this.xo=t)}},isInitial:{get:function(){return this.zi},set:function(t){this.zi=t,t||(this.Bo=!0)}},isViewportSized:{get:function(){return this.Co},set:function(t){this.Co!==t&&(this.Co=t)&&this.C()}},isRouting:{get:function(){return this.zo},set:function(t){this.zo!==t&&(this.zo=t)}},isRealtime:{get:function(){return this.yo},set:function(t){this.yo!==t&&(this.yo=t)}},isValidLayout:{get:function(){return this.Bo},set:function(t){this.Bo!==t&&(this.Bo=t,t||null!==(t=this.diagram)&&(t.Ng=!0))}},network:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t,null!==t&&(t.layout=this))}},boundsComputation:{get:function(){return this.vn},set:function(t){this.vn!==t&&(this.vn=t,this.C())}},arrangementOrigin:{get:function(){return this.nn},set:function(t){this.nn.w(t)||(this.nn.assign(t),this.C())}},id:{get:function(){return this.I},set:function(t){this.I=t}},mayUseWorkerFunction:{get:function(){return this.To},set:function(t){this.To!==t&&(this.To=t)}},workerStateChanged:{get:function(){return this.qq},set:function(t){this.qq!==t&&(this.qq=t)}}}),Ai.prototype.useWorker=Ai.prototype.Uw,Ai.declareWorkerLayout=Vu,Ai.prototype.cancelWorker=Ai.prototype.zz,Ai.prototype.collectParts=Ai.prototype.$x,Ai.prototype.getLayoutBounds=Ai.prototype.nj,Ai.prototype.invalidateLayout=Ai.prototype.C;var xp=new ot,Nx="object"==typeof T.document&&T.document.currentScript?T.document.currentScript.src:"",Fx="undefined"!=typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof Blob?URL.createObjectURL(new Blob(["self.onmessage=function(e){if(e.data.url){\nimportScripts(e.data.url);}}"],{type:"text/javascript"})):"";function Lx(){this.Lv=null,this.Cy=this.l=this.name="",this.scripts=[],this.Pe=null,this.Fm=new ot}function Hi(t){Kt(this),this.kc=t,this.tf=new At,this.le=new At,this.bu=new ot,this.Xt=new ot}function Bx(t,e){if(null===e)return!1;var o=t.tf.remove(e);return o&&null!==(e=e.node)&&t.bu.remove(e),o}function wp(t,e){if(null!==e){t.le.add(e);var o=e.link;null!==o&&null===t.Eq(o)&&t.Xt.add(o,e),e.network=t}}function Vx(t,e){null!==e&&t.le.remove(e)&&null!==(e=e.link)&&t.Xt.remove(e)}function Yb(t,e,o){if(null!==o&&o.network!==e){Bx(t,o),e.Bg(o);for(var a=o.sourceEdges;a.next();){var h=a.value;h.network!==e&&(Vx(t,h),wp(e,h),Yb(t,e,h.fromVertex))}for(a=o.destinationEdges;a.next();)(o=a.value).network!==e&&(Vx(t,o),wp(e,o),Yb(t,e,o.toVertex))}}function Xn(t){Kt(this),this.Tc=t,this.l=new Lt(0,0,10,10).freeze(),this.u=new J(5,5).freeze(),this.Mi=this.ob=null,this.td=new St,this.Gd=new St}function jv(t,e){return e=e.Mi,(t=t.Mi)?e?(t=t.text)<(e=e.text)?-1:t>e?1:0:1:null!==e?-1:0}function Br(t){Kt(this),this.Sc=t,this.ed=this.Yc=this.Nl=this.ob=null}function xr(){Ai.call(this),this.isViewportSized=!0,this.rq=this.sq=NaN,this.Qg=new fe(NaN,NaN).freeze(),this.lf=new fe(10,10).freeze(),this.yb=As,this.Eb=zv,this.bd=_p,this.Wc=$b}function $b(t,e){return(t=t.text)<(e=e.text)?-1:t>e?1:0}Ai.className="Layout",Ai.GoJSScriptURL=Nx,Ai.declareWorkerLayout=Vu,"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&"undefined"!=typeof self&&void 0!==self.DedicatedWorkerGlobalScope&&(self.onmessage=function(t){if("_GoJS"===(t=t.data)._GoJS)if(t.url)importScripts(t.url);else if(t.version)self.postMessage({_GoJS:"_GoJS",version:oe.version},void 0);else{var e=performance.now(),o=null;t.layout&&(o=Bf(t.layout));var a=null;if(o&&o.Lv&&(a=new o.Lv),!a)throw Error("no registered Worker Layout: "+t.layout);a.network=jf(a,t,!0),a.workerLayout=function(){var h=yp(a,a.network,!1);return h._GoJS="_GoJS",h.time=performance.now()-e,self.postMessage(h,void 0),!0},a.doLayout(new St)}}),Hi.prototype.clear=function(){if(this.tf)for(var t=this.tf.iterator;t.next();)t.value.clear();if(this.le)for(t=this.le.iterator;t.next();)t.value.clear();this.tf=new At,this.le=new At,this.bu=new ot,this.Xt=new ot},Hi.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=t)return e;if(e+=" vertexes: "+this.tf.count+" edges: "+this.le.count,1<t){for(var o=this.tf.iterator;o.next();)e+="\n    "+o.value.toString(t-1);for(o=this.le.iterator;o.next();)e+="\n    "+o.value.toString(t-1)}return e},Hi.prototype.createVertex=function(){return new Xn(this)},Hi.prototype.createEdge=function(){return new Br(this)},Hi.prototype.Ag=function(t,e,o){if(null!==t){for(void 0===e&&(e=!1),void 0===o&&(o=null),null===o&&(o=function(m){if(m instanceof Fe)return!m.isLinkLabel;if(m instanceof Ce){var x=m.fromNode;return null!==x&&!x.isLinkLabel&&!(null===(m=m.toNode)||m.isLinkLabel)}return!1}),t=t.iterator;t.next();){var a=t.value;if(a instanceof Fe&&(!e||a.isTopLevel)&&a.canLayout()&&o(a))if(a instanceof Je&&null===a.layout)this.Ag(a.memberParts,!1);else if(null===this.kj(a)){var h=this.createVertex();h.node=a,this.Bg(h)}}for(t.reset();t.next();)if((a=t.value)instanceof Ce&&(!e||a.isTopLevel)&&a.canLayout()&&o(a)&&null===this.Eq(a)){var c=a.fromNode;h=a.toNode,null!==c&&null!==h&&c!==h&&(c=this.findGroupVertex(c),h=this.findGroupVertex(h),null!==c&&null!==h&&this.Fk(c,h,a))}}},Hi.prototype.findGroupVertex=function(t){if(null===t)return null;var e=t.findVisibleNode();if(null===e)return null;if(null!==(t=this.kj(e)))return t;for(e=e.containingGroup;null!==e;){if(null!==(t=this.kj(e)))return t;e=e.containingGroup}return null},(q=Hi.prototype).Bg=function(t){if(null!==t){this.tf.add(t);var e=t.node;null!==e&&this.bu.add(e,t),t.network=this}},q.mk=function(t){if(null===t)return null;var e=this.kj(t);return null===e&&((e=this.createVertex()).node=t,this.Bg(e)),e},q.Ov=function(t){if(null!==t&&Bx(this,t)){for(var e=t.td,o=e.count-1;0<=o;o--){var a=e.J(o);this.vk(a)}for(t=(e=t.Gd).count-1;0<=t;t--)o=e.J(t),this.vk(o)}},q.Lz=function(t){null!==t&&null!==(t=this.kj(t))&&this.Ov(t)},q.kj=function(t){return null===t?null:this.bu.G(t)},q.tm=function(t){if(null!==t){wp(this,t);var e=t.toVertex;null!==e&&e.Ev(t),null!==(e=t.fromVertex)&&e.Cv(t)}},q.oz=function(t){if(null===t)return null;var e=t.fromNode,o=t.toNode,a=this.Eq(t);return null===a?((a=this.createEdge()).link=t,null!==e&&(a.fromVertex=this.mk(e)),null!==o&&(a.toVertex=this.mk(o)),this.tm(a)):(a.fromVertex=null!==e?this.mk(e):null,a.toVertex=null!==o?this.mk(o):null),a},q.vk=function(t){if(null!==t){var e=t.toVertex;null!==e&&e.Nv(t),null!==(e=t.fromVertex)&&e.Mv(t),Vx(this,t)}},q.Kz=function(t){null!==t&&null!==(t=this.Eq(t))&&this.vk(t)},q.Eq=function(t){return null===t?null:this.Xt.G(t)},q.Fk=function(t,e,o){if(null===t||null===e)return null;if(t.network===this&&e.network===this){var a=this.createEdge();return a.link=o,a.fromVertex=t,a.toVertex=e,this.tm(a),a}return null},q.Rm=function(t){if(null!==t){var e=t.fromVertex,o=t.toVertex;null!==e&&null!==o&&(e.Mv(t),o.Nv(t),t.Rm(),e.Ev(t),o.Cv(t))}},q.Bq=function(){for(var t=u(),e=this.le.iterator;e.next();){var o=e.value;o.fromVertex===o.toVertex&&t.push(o)}for(e=t.length,o=0;o<e;o++)this.vk(t[o]);p(t)},Hi.prototype.deleteArtificialVertexes=function(){for(var t=u(),e=this.tf.iterator;e.next();){var o=e.value;null===o.node&&null===o.data&&t.push(o)}for(o=t.length,e=0;e<o;e++)this.Ov(t[e]);for(e=u(),o=this.le.iterator;o.next();){var a=o.value;null===a.link&&null===a.data&&e.push(a)}for(o=e.length,a=0;a<o;a++)this.vk(e[a]);p(t),p(e)},Hi.prototype.Xy=function(t){void 0===t&&(t=!0),t&&(this.deleteArtificialVertexes(),function(t){for(var e=u(),o=t.le.iterator;o.next();){var a=o.value;null!==a.fromVertex&&null!==a.toVertex||e.push(a)}for(o=e.length,a=0;a<o;a++)t.vk(e[a]);p(e)}(this),this.Bq()),t=new St;for(var e=!0;e;){e=!1;for(var o=this.tf.iterator;o.next();){var a=o.value;if(0<a.td.count||0<a.Gd.count){e=this.layout.createNetwork(),t.add(e),Yb(this,e,a),e=!0;break}}}return t.sort(function(h,c){return null===h||null===c||h===c?0:c.vertexes.count-h.vertexes.count}),t},Hi.prototype.Rz=function(){for(var t=new At,e=this.tf.iterator;e.next();)t.add(e.value.node);for(e=this.le.iterator;e.next();)t.add(e.value.link);return t},B.Object.defineProperties(Hi.prototype,{layout:{get:function(){return this.kc},set:function(t){null!==t&&(this.kc=t)}},vertexes:{get:function(){return this.tf}},edges:{get:function(){return this.le}}}),Hi.prototype.findAllParts=Hi.prototype.Rz,Hi.prototype.splitIntoSubNetworks=Hi.prototype.Xy,Hi.prototype.deleteSelfEdges=Hi.prototype.Bq,Hi.prototype.reverseEdge=Hi.prototype.Rm,Hi.prototype.linkVertexes=Hi.prototype.Fk,Hi.prototype.findEdge=Hi.prototype.Eq,Hi.prototype.deleteLink=Hi.prototype.Kz,Hi.prototype.deleteEdge=Hi.prototype.vk,Hi.prototype.addLink=Hi.prototype.oz,Hi.prototype.addEdge=Hi.prototype.tm,Hi.prototype.findVertex=Hi.prototype.kj,Hi.prototype.deleteNode=Hi.prototype.Lz,Hi.prototype.deleteVertex=Hi.prototype.Ov,Hi.prototype.addNode=Hi.prototype.mk,Hi.prototype.addVertex=Hi.prototype.Bg,Hi.prototype.addParts=Hi.prototype.Ag,Hi.className="LayoutNetwork",Xn.prototype.serializeVertexProperties=function(t){t.id=Jt(this),t.key=this.node?this.node.key:this.data?this.data.Di:void 0,void 0===t.key&&(t.key=null),t.x=this.bounds.x,t.y=this.bounds.y,t.kB=this.bounds.width,t.tA=this.bounds.height,t.fx=this.focus.x,t.fy=this.focus.y;var e=[];this.td.each(function(a){e.push(Jt(a))}),t.Uy=e;var o=[];this.Gd.each(function(a){o.push(Jt(a))}),t.jy=o},Xn.prototype.Cq=function(t,e,o){if(null!==t){this.x=t.x,this.y=t.y,this.width=t.kB,this.height=t.tA,this.focusX=t.fx,this.focusY=t.fy;var a=this;t.Uy&&t.Uy.forEach(function(h){(h=o.get(h))&&a.td.add(h)}),t.jy&&t.jy.forEach(function(h){(h=o.get(h))&&a.Gd.add(h)})}},Xn.prototype.clear=function(){this.Mi=this.ob=null,this.td=new St,this.Gd=new St},Xn.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutVertex#"+Jt(this);if(0<t&&(e+=null!==this.node?"("+this.node.toString()+")":"",1<t)){t="";for(var o=!0,a=this.td.iterator;a.next();){var h=a.value;o?o=!1:t+=",",t+=h.toString(0)}for(h="",o=!0,a=this.Gd.iterator;a.next();)o?o=!1:h+=",",h+=a.value.toString(0);e+=" sources: "+t+" destinations: "+h}return e},Xn.prototype.commit=function(){var t=this.ob;if(null!==t){var e=this.bounds,o=t.bounds;ht(o)?(o.x=e.x,o.y=e.y,o.width=e.width,o.height=e.height):t.bounds=e.copy()}else if(null!==(t=this.node)){if(e=this.bounds,!(t instanceof Je)){o=Lt.alloc();var a=this.network.layout.nj(t,o),h=t.locationObject.da(Xe);if(a.o()&&h.o())return t.moveTo(e.x+this.focusX-(h.x-a.x),e.y+this.focusY-(h.y-a.y)),void Lt.free(o);Lt.free(o)}t.moveTo(e.x,e.y)}},Xn.prototype.Ev=function(t){null!==t&&(this.td.contains(t)||this.td.add(t))},Xn.prototype.Nv=function(t){null!==t&&this.td.remove(t)},Xn.prototype.Cv=function(t){null!==t&&(this.Gd.contains(t)||this.Gd.add(t))},Xn.prototype.Mv=function(t){null!==t&&this.Gd.remove(t)},B.Object.defineProperties(Xn.prototype,{sourceEdgesArrayAccess:{get:function(){return this.td._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.Gd._dataArray}},data:{get:function(){return this.ob},set:function(t){if(this.ob=t,null!==t&&t.bounds){var e=t.bounds;t=e.x;var o=e.y,a=e.width;this.u.h(a/2,(e=e.height)/2),this.l.h(t,o,a,e)}}},node:{get:function(){return this.Mi},set:function(t){if(this.Mi!==t){this.Mi=t,t.Ta();var e=this.network.layout,o=Lt.alloc(),a=e.nj(t,o);e=a.x;var h=a.y,c=a.width;if(a=a.height,isNaN(e)&&(e=0),isNaN(h)&&(h=0),this.l.h(e,h,c,a),Lt.free(o),!(t instanceof Je)&&(t=t.locationObject.da(Xe)).o())return void this.u.h(t.x-e,t.y-h);this.u.h(c/2,a/2)}}},bounds:{get:function(){return this.l},set:function(t){this.l.w(t)||this.l.assign(t)}},focus:{get:function(){return this.u},set:function(t){this.u.w(t)||this.u.assign(t)}},centerX:{get:function(){return this.l.x+this.u.x},set:function(t){var e=this.l;e.x+this.u.x!==t&&(e.ea(),e.x=t-this.u.x,e.freeze())}},centerY:{get:function(){return this.l.y+this.u.y},set:function(t){var e=this.l;e.y+this.u.y!==t&&(e.ea(),e.y=t-this.u.y,e.freeze())}},focusX:{get:function(){return this.u.x},set:function(t){var e=this.u;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},focusY:{get:function(){return this.u.y},set:function(t){var e=this.u;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},x:{get:function(){return this.l.x},set:function(t){var e=this.l;e.x!==t&&(e.ea(),e.x=t,e.freeze())}},y:{get:function(){return this.l.y},set:function(t){var e=this.l;e.y!==t&&(e.ea(),e.y=t,e.freeze())}},width:{get:function(){return this.l.width},set:function(t){var e=this.l;e.width!==t&&(e.ea(),e.width=t,e.freeze())}},height:{get:function(){return this.l.height},set:function(t){var e=this.l;e.height!==t&&(e.ea(),e.height=t,e.freeze())}},network:{get:function(){return this.Tc},set:function(t){this.Tc=t}},sourceVertexes:{get:function(){for(var t=new At,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);return t.iterator}},destinationVertexes:{get:function(){for(var t=new At,e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},vertexes:{get:function(){for(var t=new At,e=this.sourceEdges;e.next();)t.add(e.value.fromVertex);for(e=this.destinationEdges;e.next();)t.add(e.value.toVertex);return t.iterator}},sourceEdges:{get:function(){return this.td.iterator}},destinationEdges:{get:function(){return this.Gd.iterator}},edges:{get:function(){for(var t=new St,e=this.sourceEdges;e.next();)t.add(e.value);for(e=this.destinationEdges;e.next();)t.add(e.value);return t.iterator}},edgesCount:{get:function(){return this.td.count+this.Gd.count}}}),Xn.prototype.deleteDestinationEdge=Xn.prototype.Mv,Xn.prototype.addDestinationEdge=Xn.prototype.Cv,Xn.prototype.deleteSourceEdge=Xn.prototype.Nv,Xn.prototype.addSourceEdge=Xn.prototype.Ev,Xn.className="LayoutVertex",Xn.standardComparer=jv,Xn.smartComparer=function(t,e){if(null!==t){if(null!==e){var o=e.Mi;if(null!==(t=t.Mi)){if(null!==o){for(e=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),t=o.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),o=0;o<e.length;o++)if(""!==t[o]&&void 0!==t[o]){var a=parseFloat(e[o]),h=parseFloat(t[o]);if(isNaN(a)){if(!isNaN(h))return 1;if(0!==e[o].localeCompare(t[o]))return e[o].localeCompare(t[o])}else{if(isNaN(h))return-1;if(a-h!=0)return a-h}}else if(""!==e[o])return 1;return""!==t[o]&&void 0!==t[o]?-1:0}return 1}return null!==o?-1:0}return 1}return null!==e?-1:0},Br.prototype.clear=function(){this.ed=this.Yc=this.Nl=this.ob=null},Br.prototype.serializeEdgeProperties=function(t){t.id=Jt(this),t.key=this.link?this.link.key:this.data?this.data.Di:void 0,void 0===t.key&&(t.key=null),t.from=this.fromVertex?Jt(this.fromVertex):null,t.fB=this.toVertex?Jt(this.toVertex):null},Br.prototype.deserializeEdgeProperties=function(t,e){if(null!==t){var o=e.get(t.from);o&&(this.fromVertex=o),(t=e.get(t.fB))&&(this.toVertex=t)}},Br.prototype.toString=function(t){void 0===t&&(t=0);var e="LayoutEdge#"+Jt(this);return 0<t&&(e+=null!==this.Nl?"("+this.Nl.toString()+")":"",1<t&&(e+=" "+(this.Yc?this.Yc.toString():"null")+" --\x3e "+(this.ed?this.ed.toString():"null"))),e},Br.prototype.Rm=function(){var t=this.Yc;this.Yc=this.ed,this.ed=t},Br.prototype.commit=function(){},Br.prototype.zy=function(t){return this.ed===t?this.Yc:this.Yc===t?this.ed:null},B.Object.defineProperties(Br.prototype,{network:{get:function(){return this.Sc},set:function(t){this.Sc=t}},data:{get:function(){return this.ob},set:function(t){this.ob!==t&&(this.ob=t)}},link:{get:function(){return this.Nl},set:function(t){this.Nl!==t&&(this.Nl=t)}},fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}}}),Br.prototype.getOtherVertex=Br.prototype.zy,Br.className="LayoutEdge",z(xr,Ai),xr.prototype.cloneProtected=function(t){Ai.prototype.cloneProtected.call(this,t),t.sq=this.sq,t.rq=this.rq,t.Qg.assign(this.Qg),t.lf.assign(this.lf),t.yb=this.yb,t.Eb=this.Eb,t.bd=this.bd,t.Wc=this.Wc},xr.prototype.jb=function(t){t.classType===xr?t===_p||t===Hx||t===Xb||t===jx?this.sorting=t:t===zv||t===Ta?this.arrangement=t:t===As||t===Hv?this.alignment=t:R("Unknown enum value: "+t):Ai.prototype.jb.call(this,t)},xr.prototype.doLayout=function(t){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var e=this.$x(t);t=this.diagram;for(var o=e.copy().iterator;o.next();){var a=o.value;if(!a.Ph()||null===a.fromNode&&null===a.toNode){if(a.Ta(),a instanceof Je)for(a=a.memberParts;a.next();)e.remove(a.value)}else e.remove(a)}var h=e.ma();if(0!==h.length){switch(this.sorting){case jx:h.reverse();break;case _p:h.sort(this.comparer);break;case Hx:h.sort(this.comparer),h.reverse()}var c=this.wrappingColumn;isNaN(c)&&(c=0);var m=this.wrappingWidth;switch(isNaN(m)&&null!==t?(e=t.padding,m=Math.max(t.viewportBounds.width-e.left-e.right,0)):m=Math.max(this.wrappingWidth,0),0>=c&&0>=m&&(c=1),e=this.spacing.width,isFinite(e)||(e=0),o=this.spacing.height,isFinite(o)||(o=0),null!==t&&t.xa("Layout"),a=[],this.alignment){case Hv:var x=e,S=o,E=Lt.alloc(),P=Math.max(this.cellSize.width,1);if(!isFinite(P))for(var N=P=0;N<h.length;N++){var nt=this.nj(h[N],E);P=Math.max(P,nt.width)}if(P=Math.max(P+x,1),N=Math.max(this.cellSize.height,1),!isFinite(N))for(nt=N=0;nt<h.length;nt++){var at=this.nj(h[nt],E);N=Math.max(N,at.height)}N=Math.max(N+S,1),nt=this.arrangement;for(var rt=at=this.arrangementOrigin.x,_t=this.arrangementOrigin.y,It=0,Pt=0,Vt=0;Vt<h.length;Vt++){var Ht=h[Vt],Wt=this.nj(Ht,E),Qt=Math.ceil((Wt.width+x)/P)*P,me=Math.ceil((Wt.height+S)/N)*N;if(nt===Ta)var Be=Math.abs(rt-Wt.width);else Be=rt+Wt.width;(0<c&&It>c-1||0<m&&0<It&&Be-at>m)&&(a.push(new Lt(0,_t,m+x,Pt)),It=0,rt=at,_t+=Pt,Pt=0),Pt=Math.max(Pt,me),Ht.moveTo(rt+(Wt=nt===Ta?-Wt.width:0),_t),nt===Ta?rt-=Qt:rt+=Qt,It++}a.push(new Lt(0,_t,m+x,Pt)),Lt.free(E);break;case As:for(S=m,P=c,N=e,nt=o,m=Lt.alloc(),at=Math.max(this.cellSize.width,1),c=_t=E=0,x=J.alloc(),rt=0;rt<h.length;rt++)It=this.nj(Pt=h[rt],m),Pt=Pt.Df(Pt.locationObject,Pt.locationSpot,x),E=Math.max(E,Pt.x),_t=Math.max(_t,It.width-Pt.x),c=Math.max(c,Pt.y);(rt=this.arrangement)===Ta?E+=N:_t+=N,at=isFinite(at)?Math.max(at+N,1):Math.max(E+_t,1);var Ee=Pt=this.arrangementOrigin.x;for(Vt=this.arrangementOrigin.y,_t=0,S>=E&&(S-=E),E=Ht=0,Qt=Math.max(this.cellSize.height,1),Wt=c=0,me=!0,It=J.alloc(),Be=0;Be<h.length;Be++){var We=h[Be],Te=this.nj(We,m),ve=We.Df(We.locationObject,We.locationSpot,x);if(0<_t?rt===Ta?(Ee=(Ee-Pt-(Te.width-ve.x))/at,Ee=(Ee=Zt.aa(Math.round(Ee),Ee)?Math.round(Ee):Math.floor(Ee))*at+Pt):(Ee=(Ee-Pt+ve.x)/at,Ee=(Ee=Zt.aa(Math.round(Ee),Ee)?Math.round(Ee):Math.ceil(Ee))*at+Pt):Ht=rt===Ta?Ee+ve.x+Te.width:Ee-ve.x,rt===Ta)var xi=-(Ee+ve.x)+Ht;else xi=Ee+Te.width-ve.x-Ht;if(0<P&&_t>P-1||0<S&&0<_t&&xi>S){for(a.push(new Lt(0,me?Vt-c:Vt,S+N,Wt+c+nt)),Ee=0;Ee<_t&&Be!==_t;Ee++){var ri=(xi=h[Be-_t+Ee]).Df(xi.locationObject,xi.locationSpot,It);xi.moveTo(xi.position.x,xi.position.y+c-ri.y)}Wt+=nt,Vt=me?Vt+Wt:Vt+(Wt+c),_t=Wt=c=0,Ee=Pt,me=!1}Ee===Pt&&(E=rt===Ta?Math.max(E,Te.width-ve.x):Math.min(E,-ve.x)),c=Math.max(c,ve.y),Wt=Math.max(Wt,Te.height-ve.y),isFinite(Qt)&&(Wt=Math.max(Wt,Math.max(Te.height,Qt)-ve.y)),We.moveTo(Ee-ve.x,me?Vt-ve.y:Vt),rt===Ta?Ee-=ve.x+N:Ee+=Te.width-ve.x+N,_t++}if(a.push(new Lt(0,Vt,S+N,(me?Wt:Wt+c)+nt)),h.length!==_t)for(S=0;S<_t;S++)N=(P=h[h.length-_t+S]).Df(P.locationObject,P.locationSpot,x),P.moveTo(P.position.x,P.position.y+c-N.y);if(J.free(x),J.free(It),rt===Ta)for(h=0;h<a.length;h++)(c=a[h]).width+=E,c.x-=E;else for(h=0;h<a.length;h++)(c=a[h]).x>E&&(c.width+=c.x-E,c.x=E);Lt.free(m)}for(x=c=m=h=0;x<a.length;x++)S=a[x],h=Math.min(h,S.x),m=Math.min(m,S.y),c=Math.max(c,S.x+S.width);this.commitLayers(a,new J(this.arrangement===Ta?h+e/2-(c+h):h-e/2,m-o/2)),null!==t&&t.Xa("Layout"),this.isValidLayout=!0}},xr.prototype.commitLayers=function(){},B.Object.defineProperties(xr.prototype,{wrappingWidth:{get:function(){return this.sq},set:function(t){this.sq!==t&&(0<t||isNaN(t))&&(this.sq=t,this.isViewportSized=isNaN(t),this.C())}},wrappingColumn:{get:function(){return this.rq},set:function(t){this.rq!==t&&(0<t||isNaN(t))&&(this.rq=t,this.C())}},cellSize:{get:function(){return this.Qg},set:function(t){this.Qg.w(t)||(this.Qg.assign(t),this.C())}},spacing:{get:function(){return this.lf},set:function(t){this.lf.w(t)||(this.lf.assign(t),this.C())}},alignment:{get:function(){return this.yb},set:function(t){this.yb===t||t!==As&&t!==Hv||(this.yb=t,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==zv&&t!==Ta||(this.Eb=t,this.C())}},sorting:{get:function(){return this.bd},set:function(t){this.bd===t||t!==Xb&&t!==jx&&t!==_p&&t!==Hx||(this.bd=t,this.C())}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}}});var Hv=new ct(xr,"Position",0),As=new ct(xr,"Location",1),zv=new ct(xr,"LeftToRight",2),Ta=new ct(xr,"RightToLeft",3),Xb=new ct(xr,"Forward",4),jx=new ct(xr,"Reverse",5),_p=new ct(xr,"Ascending",6),Hx=new ct(xr,"Descending",7);function Ri(){this.lp=new At,this.No=new At,this.Fa=new At,this.Ue=new ot,this.Te=new ot,this.Qj=new ot,this.B=null,this.mr=!1}function Uv(t,e,o){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Ue.contains(e)){void 0===o&&(o=!0);t:{if(null!=e&&!t.B.undoManager.isUndoingRedoing&&!t.Ue.contains(e)){var a=t.Iq(e),h=zx(t,e,a);if(null!==h&&(Jo(h),null!==(h=h.copy()))){var c=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,h.Nf=a,h.ob=e,t.mr&&(h.ih="Tool"),t.diagram.add(h),h.ob=null,h.data=e,t.diagram.skipsModelSourceBindings=c,a=h;break t}}a=null}null!==a&&o&&t.resolveReferencesForData(e)}}function zx(t,e,o){var a=(t=t.B).model;return a.Dk()&&a.fw(e)?null===(e=t.groupTemplateMap.G(o))&&null===(e=t.groupTemplateMap.G(""))&&(Zb||(Zb=!0,Q('No Group template found for category "'+o+'"'),Q("  Using default group template")),e=t.Eu):null===(e=t.nodeTemplateMap.G(o))&&null===(e=t.nodeTemplateMap.G(""))&&(Wx||(Wx=!0,Q('No Node template found for category "'+o+'"'),Q("  Using default node template")),e=t.Gu),e}function Ux(t,e,o){for(var a in o){var h=e[a],c=o[a];if(mt(c)){if(!mt(h)||h.length<c.length)return!1;for(var m=0;m<h.length;m++){var x=c[m];if(void 0!==x&&!Kb(t,h[m],x))return!1}}else if(!Kb(t,h,c))return!1}return!0}function Kb(t,e,o){if("function"==typeof o){if(!o(e))return!1}else if(o instanceof RegExp){if(!e||!o.test(e.toString()))return!1}else if(ht(e)&&ht(o)){if(!Ux(t,e,o))return!1}else if(e!==o)return!1;return!0}function Gx(t,e){var o=e.Ci;if(mt(o)){var a=t.Qj.G(o);if(null===a)(a=[]).push(e),t.Qj.add(o,a);else{for(t=0;t<a.length;t++)if(a[t]===e)return;a.push(e)}}}function Gv(t,e,o){Pf(e,function(m){for(var x=(m=m.W.j).length,S=0;S<x;S++)zg(o,m[S])});var a=e.Ci;if(mt(a)){var h=t.Qj.G(a);if(null!==h)for(var c=0;c<h.length;c++)if(h[c]===e){h.splice(c,1),0===h.length&&t.Qj.remove(a);break}}}function Wv(t,e,o,a,h){if(null===e||h&&!e.canCopy())return null;if(a.contains(e))return a.G(e);var c=t.copyPartData(e,o);if(!(c instanceof Ye))return null;if(c.isSelected=!1,c.isHighlighted=!1,a.add(e,c),e instanceof Fe){for(var m=e.linksConnected;m.next();){var x=m.value;if(x.fromNode===e){var S=a.G(x);null!==S&&(S.fromNode=c)}x.toNode===e&&null!==(x=a.G(x))&&(x.toNode=c)}if(e instanceof Je&&c instanceof Je)for(e=e.memberParts;e.next();)(m=Wv(t,e.value,o,a,h))instanceof Ce||null===m||(m.containingGroup=c)}else if(e instanceof Ce&&c instanceof Ce)for(null!==(m=e.fromNode)&&null!==(m=a.G(m))&&(c.fromNode=m),null!==(m=e.toNode)&&null!==(m=a.G(m))&&(c.toNode=m),e=e.labelNodes;e.next();)null!==(m=Wv(t,e.value,o,a,h))&&m instanceof Fe&&(m.labeledLink=c);return c}xr.className="GridLayout",xr.standardComparer=$b,xr.smartComparer=function(t,e){if(null!==t){if(null!==e){t=t.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e=e.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/);for(var o=0;o<t.length;o++)if(""!==e[o]&&void 0!==e[o]){var a=parseFloat(t[o]),h=parseFloat(e[o]);if(isNaN(a)){if(!isNaN(h))return 1;if(0!==t[o].localeCompare(e[o]))return t[o].localeCompare(e[o])}else{if(isNaN(h))return-1;if(a-h!=0)return a-h}}else if(""!==t[o])return 1;return""!==e[o]&&void 0!==e[o]?-1:0}return 1}return null!==e?-1:0},xr.Position=Hv,xr.Location=As,xr.LeftToRight=zv,xr.RightToLeft=Ta,xr.Forward=Xb,xr.Reverse=jx,xr.Ascending=_p,xr.Descending=Hx,(q=Ri.prototype).clear=function(){this.lp.clear(),this.No.clear(),this.Fa.clear(),this.Ue.clear(),this.Te.clear(),this.Qj.clear()},q.ee=function(t){this.B=t},q.oj=function(t){if(t instanceof Fe){if(this.lp.add(t),t instanceof Je){var e=t.containingGroup;null===e?this.B.Dh.add(t):e.Sl.add(t),null!==(e=t.layout)&&(e.diagram=this.B)}}else t instanceof Ce?this.No.add(t):t instanceof Ci||this.Fa.add(t);null===(e=t.data)||t instanceof Ci||(t instanceof Ce?this.Te.add(e,t):this.Ue.add(e,t))},q.Lc=function(t){if(t.nk(),t instanceof Fe){if(this.lp.remove(t),t instanceof Je){var e=t.containingGroup;null===e?this.B.Dh.remove(t):e.Sl.remove(t),null!==(e=t.layout)&&(e.diagram=null)}}else t instanceof Ce?this.No.remove(t):t instanceof Ci||this.Fa.remove(t);null===(e=t.data)||t instanceof Ci||(t instanceof Ce?this.Te.remove(e):this.Ue.remove(e))},q.Md=function(){for(var t=this.B.nodeTemplateMap.iterator;t.next();){var e=t.value,o=t.key;(!e.Nc()||e instanceof Je)&&R('Invalid node template in Diagram.nodeTemplateMap: template for "'+o+'" must be a Node or a simple Part, not a Group or Link: '+e)}for(t=this.B.groupTemplateMap.iterator;t.next();)o=t.key,(e=t.value)instanceof Je||R('Invalid group template in Diagram.groupTemplateMap: template for "'+o+'" must be a Group, not a normal Node or Link: '+e);for(t=this.B.linkTemplateMap.iterator;t.next();)o=t.key,(e=t.value)instanceof Ce||R('Invalid link template in Diagram.linkTemplateMap: template for "'+o+'" must be a Link, not a normal Node or simple Part: '+e);for(t=u(),e=this.B.selection.iterator;e.next();)(o=e.value.data)&&t.push(o);for(e=u(),o=this.B.highlighteds.iterator;o.next();){var a=o.value.data;a&&e.push(a)}for(o=u(),a=this.nodes.iterator;a.next();){var h=a.value;null!==h.data&&(o.push(h.data),o.push(h.location))}for(a=this.links.iterator;a.next();)null!==(h=a.value).data&&(o.push(h.data),o.push(h.location));for(a=this.parts.iterator;a.next();)null!==(h=a.value).data&&(o.push(h.data),o.push(h.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),a=0;a<t.length;a++)null!==(h=this.zc(t[a]))&&(h.isSelected=!0);for(a=0;a<e.length;a++)null!==(h=this.zc(e[a]))&&(h.isHighlighted=!0);for(a=0;a<o.length;a+=2)null!==(h=this.zc(o[a]))&&(h.location=o[a+1]);p(t),p(e),p(o)},Ri.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},Ri.prototype.addModeledParts=function(t,e){var o=this,a=this.diagram.model;t.forEach(function(h){a.ab(h)&&Uv(o,h,!1)}),t.forEach(function(h){a.ab(h)&&o.resolveReferencesForData(h)}),!1!==e&&Eu(this.diagram,!1)},Ri.prototype.insertLink=function(){return null},Ri.prototype.resolveReferencesForData=function(){},Ri.prototype.Iq=function(t){return this.B.model.Iq(t)},Ri.prototype.getLinkCategoryForData=function(){return""},Ri.prototype.setLinkCategoryForData=function(){},Ri.prototype.setFromNodeForLink=function(){},Ri.prototype.setToNodeForLink=function(){},Ri.prototype.findLinkTemplateForCategory=function(t){var e=this.B.linkTemplateMap.G(t);return null===e&&null===(e=this.B.linkTemplateMap.G(""))&&(qb||(qb=!0,Q('No Link template found for category "'+t+'"'),Q("  Using default link template")),e=this.B.Fu),e},Ri.prototype.removeAllModeledParts=function(){this.fu(this.diagram.model.nodeDataArray)},Ri.prototype.fu=function(t){var e=this;t.forEach(function(o){e.$q(o)})},Ri.prototype.$q=function(t){null!==(t=this.zc(t))&&(k1(this.diagram,t,!1),this.unresolveReferencesForPart(t))},Ri.prototype.unresolveReferencesForPart=function(){},Ri.prototype.removeDataForLink=function(){},Ri.prototype.findPartForKey=function(t){return null==t?null:null!==(t=this.B.model.Kb(t))?this.Ue.G(t):null},Ri.prototype.Cb=function(t){return null==t||null===(t=this.B.model.Kb(t))?null:(t=this.Ue.G(t))instanceof Fe?t:null},Ri.prototype.findLinkForKey=function(){return null},(q=Ri.prototype).zc=function(t){if(null===t)return null;var e=this.Ue.G(t);return null!==e?e:e=this.Te.G(t)},q.gj=function(t){return null===t?null:(t=this.Ue.G(t))instanceof Fe?t:null},q.yc=function(t){return null===t?null:this.Te.G(t)},q.It=function(t){for(var e=0;e<arguments.length;++e);e=new At;for(var o=this.lp.iterator;o.next();){var a=o.value,h=a.data;if(null!==h)for(var c=0;c<arguments.length;c++){var m=arguments[c];if(ht(m)&&Ux(this,h,m)){e.add(a);break}}}return e.iterator},q.Ht=function(t){for(var e=0;e<arguments.length;++e);e=new At;for(var o=this.No.iterator;o.next();){var a=o.value,h=a.data;if(null!==h)for(var c=0;c<arguments.length;c++){var m=arguments[c];if(ht(m)&&Ux(this,h,m)){e.add(a);break}}}return e.iterator},Ri.prototype.doModelChanged=function(t){if(this.B){var e=this.B;if(t.model===e.model){var o=t.change;if(e.doModelChanged(t),e.Z){e.Z=!1;try{var a=t.modelChange;if(""!==a)if(o===pn){if("nodeCategory"===a){var h=this.zc(t.object),c=t.newValue;null!==h&&"string"==typeof c&&(h.category=c)}else"nodeDataArray"===a&&(this.fu(t.oldValue),this.addModeledParts(t.newValue));e.isModified=!0}else if(o===hr){var m=t.newValue;"nodeDataArray"===a&&ht(m)&&Uv(this,m),e.isModified=!0}else if(o===_i){var x=t.oldValue;"nodeDataArray"===a&&ht(x)&&this.$q(x),e.isModified=!0}else o===no&&("SourceChanged"===a?null!==t.object?this.updateDataBindings(t.object,t.propertyName):(this.ir(),this.updateAllTargetBindings()):"ModelDisplaced"===a&&this.Md());else if(o===pn){var S=t.propertyName,E=t.object;E===e.model?("nodeKeyProperty"===S||"nodeCategoryProperty"===S)&&(e.undoManager.isUndoingRedoing||this.Md()):this.updateDataBindings(E,S),e.isModified=!0}else if(o===hr||o===_i){var P=t.change===hr,N=P?t.newParam:t.oldParam,nt=P?t.newValue:t.oldValue,at=this.Qj.G(t.object);if(Array.isArray(at))for(t=0;t<at.length;t++){var rt=at[t];if(P)Sb(rt,nt,N);else if(!(0>N)){var _t=N+rp(rt);rt.Lc(_t,!0),ir(rt,_t,N)}}e.isModified=!0}}finally{e.Z=!0}}}}},Ri.prototype.updateAllTargetBindings=function(t){void 0===t&&(t="");for(var e=this.parts.iterator;e.next();)e.value.Ea(t);for(e=this.nodes.iterator;e.next();)e.value.Ea(t);for(e=this.links.iterator;e.next();)e.value.Ea(t)},Ri.prototype.ir=function(){for(var t=this.B.model,e=new At,o=t.nodeDataArray,a=0;a<o.length;a++)e.add(o[a]);var h=[];for(this.nodes.each(function(m){null===m.data||e.contains(m.data)||h.push(m.data)}),this.parts.each(function(m){null===m.data||e.contains(m.data)||h.push(m.data)}),h.forEach(function(m){CS(t,m,!1)}),a=0;a<o.length;a++){var c=o[a];null===this.zc(c)&&qv(t,c,!1)}for(this.refreshDataBoundLinks(),o=this.parts.iterator;o.next();)o.value.updateRelationshipsFromData();for(o=this.nodes.iterator;o.next();)o.value.updateRelationshipsFromData();for(o=this.links.iterator;o.next();)o.value.updateRelationshipsFromData()},Ri.prototype.refreshDataBoundLinks=function(){},Ri.prototype.updateRelationshipsFromData=function(){},Ri.prototype.updateDataBindings=function(t,e){if("string"==typeof e){var o=this.zc(t);if(null!==o)o.Ea(e);else{o=null;for(var a=this.Qj.iterator;a.next();){for(var h=a.value,c=0;c<h.length;c++){var m=h[c].qy(t);null!==m&&(null===o&&(o=u()),o.push(m))}if(null!==o)break}if(null!==o){for(a=0;a<o.length;a++)o[a].Ea(e);p(o)}}t===this.diagram.model.modelData&&this.updateAllTargetBindings(e)}},Ri.prototype.tk=function(t,e,o){void 0===o&&(o=!1);var a=new ot;if(mt(t))for(var h=0;h<t.length;h++)Wv(this,t[h],e,a,o);else for(t=t.iterator;t.next();)Wv(this,t.value,e,a,o);if(null!==e){o=e.model,t=null!==(t=e.toolManager.findTool("Dragging"))?t.dragOptions.dragsLink:e.kl.dragsLink,h=new At;for(var c=new ot,m=a.iterator;m.next();){var x=m.value;if(x instanceof Ce)t||null!==x.fromNode&&null!==x.toNode||h.add(x);else if(x instanceof Fe&&null!==x.data&&o.Em()){var S=x,E=(x=m.key).Fg();null!==E&&(null!==(E=a.G(E))?(o.fe(S.data,o.ja(E.data)),S=e.yc(S.data),null!==(x=x.jj())&&null!==S&&c.add(x,S)):o.fe(S.data,void 0))}}if(0<h.count&&e.gu(h,!1),0<c.count)for(o=c.iterator;o.next();)a.add(o.key,o.value)}if(null!==e&&null!==this.B&&null!==(o=(e=e.model).afterCopyFunction)){var P=new ot;a.each(function(N){null!==N.key.data&&P.add(N.key.data,N.value.data)}),o(P,e,this.B.model)}for(e=a.iterator;e.next();)e.value.Ea();return a},Ri.prototype.copyPartData=function(t,e){var o=null,a=t.data;if(null!==a&&null!==e){var h=e.model;t instanceof Ce||ht(a=h.copyNodeData(a))&&(h.uf(a),o=e.zc(a))}else Jo(t),null!==(o=t.copy())&&(h=this.B,null!==e?e.add(o):null!==a&&null!==h&&null!==h.commandHandler&&h.commandHandler.copiesClipboardData&&(e=h.model,h=null,o instanceof Ce||(h=e.copyNodeData(a)),ht(h)&&(o.data=h)));return o},B.Object.defineProperties(Ri.prototype,{nodes:{get:function(){return this.lp}},links:{get:function(){return this.No}},parts:{get:function(){return this.Fa}},diagram:{get:function(){return this.B}},addsToTemporaryLayer:{get:function(){return this.mr},set:function(t){this.mr=t}}}),Ri.prototype.updateAllRelationshipsFromData=Ri.prototype.ir,Ri.prototype.findLinksByExample=Ri.prototype.Ht,Ri.prototype.findNodesByExample=Ri.prototype.It,Ri.prototype.findLinkForData=Ri.prototype.yc,Ri.prototype.findNodeForData=Ri.prototype.gj,Ri.prototype.findPartForData=Ri.prototype.zc,Ri.prototype.findNodeForKey=Ri.prototype.Cb,Ri.prototype.removeModeledPart=Ri.prototype.$q,Ri.prototype.removeModeledParts=Ri.prototype.fu,Ri.prototype.rebuildParts=Ri.prototype.Md;var Wx=!1,Zb=!1,qb=!1;function fr(t){Ri.apply(this,arguments)}function Yx(t,e){e.forEach(function(o){Jb(t,o)}),Eu(t.diagram,!1)}function Jb(t,e){if(null!=e&&!t.diagram.undoManager.isUndoingRedoing&&!t.Te.contains(e)){var o=t.getLinkCategoryForData(e),a=t.findLinkTemplateForCategory(o);if(null!==a){Jo(a);var h=a.copy();if(null!==h){a=t.diagram.skipsModelSourceBindings,t.diagram.skipsModelSourceBindings=!0,h.Nf=o,h.ob=e;var c=ty(o=t.diagram.model,e,!0);""!==c&&(h.fromPortId=c),void 0!==(c=ds(o,e,!0))&&(c=t.Cb(c))instanceof Fe&&(h.fromNode=c),""!==(c=ty(o,e,!1))&&(h.toPortId=c),void 0!==(c=ds(o,e,!1))&&(c=t.Cb(c))instanceof Fe&&(h.toNode=c),o=o.Bf(e),Array.isArray(o)&&o.forEach(function(m){null!==(m=t.Cb(m))&&(m.labeledLink=h)}),t.mr&&(h.ih="Tool"),t.diagram.add(h),h.ob=null,h.data=e,t.diagram.skipsModelSourceBindings=a}}}}function vh(t,e){e.forEach(function(o){t.$q(o)})}function ts(){Ri.apply(this,arguments),this.rh=null}function Yv(t,e,o){if(null!==e&&null!==o){var a=t.diagram.toolManager.findTool("Linking"),h=e,c=o;if(t.diagram.isTreePathToChildren){for(e=c.linksConnected;e.next();)if(e.value.toNode===c)return}else for(c=e,e=(h=o).linksConnected;e.next();)if(e.value.fromNode===h)return;if((null===a||!ff(a,h,c,null,!0))&&(a=t.getLinkCategoryForData(o.data),null!==(e=t.findLinkTemplateForCategory(a))&&(Jo(e),null!==(e=e.copy())))){var m=t.diagram.skipsModelSourceBindings;t.diagram.skipsModelSourceBindings=!0,e.Nf=a,e.ob=o.data,e.fromNode=h,e.toNode=c,t.diagram.add(e),e.ob=null,e.data=o.data,t.diagram.skipsModelSourceBindings=m}}}function ze(t){this.Oi=new At,this.Li=new At,this.tu=',\n  "insertedNodeKeys": ',this.lx=',\n  "modifiedNodeData": ',this.vu=',\n  "removedNodeKeys": ',this.Yh=null,Kt(this),this.Ln=this.oa="",this.$f=!1,this.l={},this.Fc=[],this.Wa=new ot,this.Ni="key",this.il=this.Pl=null,this.Cn=this.Dn=!1,this.Fn=!0,this.kn=null,this.Yj="category",this.Tf=new ot,this.cv=new St,this.vg=!1,this.u=null,this.undoManager=new Hn,void 0!==t&&(this.nodeDataArray=t)}function vm(t,e,o,a,h,c){function m(N,nt){x?(void 0===N.__gohashid&&c.push(N),a.set(N,nt)):(N=$t++,a.set(N,nt),h.set(N,e))}if(!ht(e))return e;c||(c=[]);var x=Object.isExtensible(e);if(a||(a=new ot),x){var S=a.get(e);if(S)return S}else for(h||(h=new ot),S=h.iterator;S.next();){var E=S.key;if(S.value===e&&(E=a.get(E)))return E}if(Array.isArray(e)){m(e,S=[]);for(var P=0;P<e.length;P++)S.push(vm(t,e[P],!1,a,h,c))}else if(e instanceof J||e instanceof fe||e instanceof Lt||e instanceof oi||e instanceof He)S=e.copy(),m(e,S);else{if(e instanceof Ei||e instanceof pi||e instanceof ct)return e;if(e instanceof St)S=(new St).addAll(vm(t,e.ma(),!1,a,h,c)),m(e,S);else if(e instanceof At)S=(new At).addAll(vm(t,e.ma(),!1,a,h,c)),m(e,S);else if(e instanceof ot)S=(new ot).addAll(vm(t,e.ma(),!1,a,h,c)),m(e,S);else if(e instanceof Date)S=new Date(e.getTime()),m(e,S);else if(e instanceof RegExp)S=new RegExp(e),m(e,S),S.lastIndex=e.lastIndex;else if("function"==typeof e.copy)S=e.copy(),m(e,S);else for(P in m(e,S={}),e)"__gohashid"!==P&&(S[P]=vm(t,e[P],!1,a,h,c))}return o&&c.forEach(function(N){delete N.__gohashid}),S}function $v(t){return',\n  "modelData": '+Zv(t,t.modelData)}function Qb(t,e){ht(e=e.modelData)&&(t.Om(e),t.modelData=e)}function bp(t,e,o,a){if(e===o)return!0;if(typeof e!=typeof o||"function"==typeof e||"function"==typeof o)return!1;if(Array.isArray(e)&&Array.isArray(o)){if(a.G(e)===o)return!0;if(a.add(e,o),e.length!==o.length)return!1;for(var h=0;h<e.length;h++)if(!bp(t,e[h],o[h],a))return!1;return!0}if(ht(e)&&ht(o)){if(a.G(e)===o)return!0;for(var c in a.add(e,o),e){var m=e[c];if(!Mp(c,m)){var x=o[c];if(void 0===x||!bp(t,m,x,a))return!1}}for(h in o)if(!(Mp(h,c=o[h])||void 0!==(m=e[h])&&bp(t,m,c,a)))return!1;return!0}return!1}function Pc(t,e,o){t[o]!==e[o]&&R("Model.computeJsonDifference: Model."+o+' is not the same in both models: "'+t[o]+'" and "'+e[o]+'"')}function Xv(t,e){function o(h,c){if((c=c.part)&&h!==(c=c.data)){var m=a.get(h);null===m?((m=new At).add(c),a.add(h,m)):m.add(c)}}var a=t.Yh;null===a&&(a=new ot,e.changes.each(function(h){if(null!==h.diagram){var c=h.change;c===pn?(h=h.object.panel)&&(c=h.data)&&o(c,h):(c===hr||c===_i)&&(c=(h=h.object).itemArray)&&o(c,h)}}),t.Yh=a)}function tM(t,e){for(var o=new At,a=0;a<t.nodeDataArray.length;a++){var h=t.nodeDataArray[a];Kv(t,e,h,h,o)}return o}function Kv(t,e,o,a,h){if(Array.isArray(o))for(var c=0;c<o.length;c++){var m=o[c];if(m===e)return h.add(a),!0;if(Kv(t,e,m,a,h))return!0}else if(ht(o)&&Object.getPrototypeOf(o)===Object.prototype)for(c in o){if((m=o[c])===e)return h.add(a),!0;if(Kv(t,e,m,a,h))return!0}return!1}function fs(t,e,o){void 0===o&&(o=!1);var a=e.length;if(0>=a)return"[]";var h=new kt;h.add("["),o&&1<a&&h.add("\n");for(var c=0;c<a;c++){var m=e[c];void 0!==m&&(0<c&&(h.add(","),o&&h.add("\n")),h.add(t.bn(m)))}return o&&1<a&&h.add("\n"),h.add("]"),h.toString()}function Mp(t,e){return void 0===e||"__gohashid"===t||"_"===t[0]||"function"==typeof e}function lo(t){return isNaN(t)?"NaN":t===1/0?"9e9999":t===-1/0?"-9e9999":t}function Zv(t,e){var o=e;if(o instanceof J)e={class:"go.Point",x:lo(o.x),y:lo(o.y)};else if(o instanceof fe)e={class:"go.Size",width:lo(o.width),height:lo(o.height)};else if(o instanceof Lt)e={class:"go.Rect",x:lo(o.x),y:lo(o.y),width:lo(o.width),height:lo(o.height)};else if(o instanceof oi)e={class:"go.Margin",top:lo(o.top),right:lo(o.right),bottom:lo(o.bottom),left:lo(o.left)};else if(o instanceof He)e=o.kb()?{class:"go.Spot",x:lo(o.x),y:lo(o.y),offsetX:lo(o.offsetX),offsetY:lo(o.offsetY)}:{class:"go.Spot",enum:o.toString()};else if(o instanceof Ei){if(e={class:"go.Brush",type:o.type.name},o.type===Wh?e.color=o.color:(o.type===uh||o.type===qo)&&(e.start=o.start,e.end=o.end,o.type===qo&&(0!==o.startRadius&&(e.startRadius=lo(o.startRadius)),isNaN(o.endRadius)||(e.endRadius=lo(o.endRadius)))),null!==o.colorStops){var a={};for(o=o.colorStops.iterator;o.next();)a[o.key]=o.value;e.colorStops=a}}else o instanceof pi?(e={class:"go.Geometry",type:o.type.name},0!==o.startX&&(e.startX=lo(o.startX)),0!==o.startY&&(e.startY=lo(o.startY)),0!==o.endX&&(e.endX=lo(o.endX)),0!==o.endY&&(e.endY=lo(o.endY)),o.spot1.w(tn)||(e.spot1=o.spot1),o.spot2.w(ss)||(e.spot2=o.spot2),o.type===Ls&&(e.path=Sg(o))):o instanceof ct&&(e={class:"go.EnumValue",classType:Hf(t,o.classType),name:o.name});for(var h in a="{",o=!0,e){var c=Vn(e,h);if(!Mp(h,c))if(o?o=!1:a+=",",a+=JSON.stringify(h)+":","points"===h&&c instanceof St){var m="[";for(c=c.iterator;c.next();){var x=c.value;1<m.length&&(m+=","),m+=t.bn(x.x),m+=",",m+=t.bn(x.y)}a+=m+="]"}else a+=t.bn(c)}return a+"}"}function Wr(t){return"number"==typeof t?t:"NaN"===t?NaN:"9e9999"===t?1/0:"-9e9999"===t?-1/0:parseFloat(t)}function rr(t,e,o,a,h,c,m,x,S){void 0===x&&(x=null),void 0===S&&(S=null);var E=new kn;E.model=t,E.change=o,E.modelChange=e,E.propertyName=a,E.object=h,E.oldValue=c,E.oldParam=x,E.newValue=m,E.newParam=S,t.zt(E)}function ju(t){return"number"==typeof t||"string"==typeof t}function qv(t,e,o){var a=t.ja(e);(void 0===a||t.Wa.G(a)!==e)&&(t.Zt(e),void 0===(a=t.ja(e))?R("Model.makeNodeDataKeyUnique failed on "+e+".  Data not added to Model."):(t.Wa.add(a,e),a=null,o&&gt(t.Fc,a=t.Fc.length,e),rr(t,"nodeDataArray",hr,"nodeDataArray",t,null,e,null,a),t.Qm(e),t.Pm(e)))}function CS(t,e,o){var a=t.ja(e);if(void 0!==a&&t.Wa.remove(a),a=null,o){t:if(o=t.Fc,Array.isArray(o))a=o.indexOf(e);else{a=o.length;for(var h=0;h<a;h++)if(o[h]===e){a=h;break t}a=-1}if(0>a)return;k(t.Fc,a)}rr(t,"nodeDataArray",_i,"nodeDataArray",t,e,null,a,null),t.hr(e)}function Pa(t,e,o){if(void 0!==e){var a=t.Tf.G(e);null===a&&(a=new At,t.Tf.add(e,a)),a.add(o)}}function ga(t,e,o){if(void 0!==e){var a=t.Tf.G(e);a instanceof At&&(null==o?t.Tf.remove(e):(a.remove(o),0===a.count&&t.Tf.remove(e)))}}function Cp(t,e){return void 0===e?null:(t=t.Tf.G(e))instanceof At?t:null}function ym(t,e,o){if(t.copiesArrays&&Array.isArray(e)){var a=[];for(o=0;o<e.length;o++){var h=ym(t,e[o],t.copiesArrayObjects);a.push(h)}return Kt(a),a}if(o&&ht(e)){for(a in o=(o=e.constructor)?new o:{},h=t.copiesKey||"string"!=typeof t.nodeKeyProperty?null:t.nodeKeyProperty,e)if("__gohashid"===a)o.__gohashid=void 0;else if(a===h)o[h]=void 0;else{var c=Vn(e,a),m=Hf(t,c);"GraphObject"===m||"Diagram"===m||"Layer"===m||"RowColumnDefinition"===m||"AnimationManager"===m||"Tool"===m||"CommandHandler"===m||"Layout"===m||"InputEvent"===m||"DiagramEvent"===m||c instanceof ze||c instanceof Hn||c instanceof Er||c instanceof kn||(c=ym(t,c,!1)),fn(o,a,c)}return Kt(o),o}return e instanceof J||e instanceof fe||e instanceof Lt||e instanceof He||e instanceof oi?e.copy():e}function Jv(){return new ze}function Hf(t,e){if("function"==typeof e){if(e.className)return e.className;if(e.name)return e.name}else if("object"==typeof e&&null!==e&&e.constructor)return Hf(t,e.constructor);return typeof e}function yh(t){return Ia[t]?Ia[t]:void 0!==T.go&&T.go[t]?T.go[t]:null}function Vn(t,e){if(!t||!e)return null;try{if("function"==typeof e)var o=e(t);else"function"==typeof t.getAttribute?null===(o=t.getAttribute(e))&&(o=void 0):o=t[e]}catch(a){}return o}function fn(t,e,o){if(t&&e)try{"function"==typeof e?e(t,o):"function"==typeof t.setAttribute?t.setAttribute(e,o):t[e]=o}catch(a){}}Ri.className="PartManager",z(fr,Ri),fr.prototype.addAllModeledParts=function(){var t=this.diagram.model;this.addModeledParts(t.nodeDataArray),Yx(this,t.linkDataArray)},fr.prototype.addModeledParts=function(t){for(Ri.prototype.addModeledParts.call(this,t,!1),t=this.links.iterator;t.next();)fp(t.value);Eu(this.diagram,!1)},fr.prototype.removeAllModeledParts=function(){var t=this.diagram.model;vh(this,t.linkDataArray),this.fu(t.nodeDataArray)},fr.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Lt(t)},fr.prototype.setLinkCategoryForData=function(t,e){return this.diagram.model.cr(t,e)},fr.prototype.setFromNodeForLink=function(t,e){var o=this.diagram.model;o.Bw(t.data,o.ja(null!==e?e.data:null))},fr.prototype.setToNodeForLink=function(t,e){var o=this.diagram.model;o.Gw(t.data,o.ja(null!==e?e.data:null))},fr.prototype.removeDataForLink=function(t){this.diagram.model.Mm(t.data)},fr.prototype.findPartForKey=function(t){var e=Ri.prototype.findPartForKey.call(this,t);return null===e&&null!==(t=this.diagram.model.Dg(t))?this.Te.G(t):e},fr.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Dg(t))?this.Te.G(t):null},fr.prototype.doModelChanged=function(t){var e=this;if(Ri.prototype.doModelChanged.call(this,t),this.diagram){var o=this.diagram;if(t.model===o.model){var a=t.change;if(o.Z){o.Z=!1;try{var h=t.modelChange;if(""!==h){if(a===pn){if("linkFromKey"===h){var c=this.yc(t.object);if(null!==c){var m=this.Cb(t.newValue);c.fromNode=m}}else if("linkToKey"===h){var x=this.yc(t.object);if(null!==x){var S=this.Cb(t.newValue);x.toNode=S}}else if("linkFromPortId"===h){var E=this.yc(t.object);if(null!==E){var P=t.newValue;"string"==typeof P&&(E.fromPortId=P)}}else if("linkToPortId"===h){var N=this.yc(t.object);if(null!==N){var nt=t.newValue;"string"==typeof nt&&(N.toPortId=nt)}}else if("nodeGroupKey"===h){var at=this.zc(t.object);if(null!==at){var rt=t.newValue;if(void 0!==rt){var _t=this.Cb(rt);at.containingGroup=_t instanceof Je?_t:null}else at.containingGroup=null}}else if("linkLabelKeys"===h){var It=this.yc(t.object);if(null!==It){var Pt=t.oldValue,Vt=t.newValue;Array.isArray(Pt)&&Pt.forEach(function(ve){0<=Vt.indexOf(ve)||null!==(ve=e.Cb(ve))&&(ve.labeledLink=null)}),Array.isArray(Vt)&&Vt.forEach(function(ve){null!==(ve=e.Cb(ve))&&(ve.labeledLink=It)})}}else if("linkCategory"===h){var Ht=this.yc(t.object),Wt=t.newValue;null!==Ht&&"string"==typeof Wt&&(Ht.category=Wt)}else"linkDataArray"===h&&(vh(this,t.oldValue),Yx(this,t.newValue));o.isModified=!0}else if(a===hr){var Qt=t.newValue;if("linkDataArray"===h&&"object"==typeof Qt&&null!==Qt)Jb(this,Qt);else if("linkLabelKeys"===h&&ju(Qt)){var me=this.yc(t.object),Be=this.Cb(Qt);null!==me&&null!==Be&&(Be.labeledLink=me)}o.isModified=!0}else if(a===_i){var Ee=t.oldValue;if("linkDataArray"===h&&"object"==typeof Ee&&null!==Ee)this.$q(Ee);else if("linkLabelKeys"===h&&ju(Ee)){var We=this.Cb(Ee);null!==We&&(We.labeledLink=null)}o.isModified=!0}}else if(a===pn){var Te=t.propertyName;t.object!==o.model||"linkFromKeyProperty"!==Te&&"linkToKeyProperty"!==Te&&"linkFromPortIdProperty"!==Te&&"linkToPortIdProperty"!==Te&&"linkLabelKeysProperty"!==Te&&"nodeIsGroupProperty"!==Te&&"nodeGroupKeyProperty"!==Te&&"linkCategoryProperty"!==Te||o.undoManager.isUndoingRedoing||this.Md(),o.isModified=!0}}finally{o.Z=!0}}}}},fr.prototype.refreshDataBoundLinks=function(){var t=this,e=this.diagram.model,o=new At,a=e.linkDataArray;a.forEach(function(c){o.add(c)});var h=[];this.links.each(function(c){null===c.data||o.contains(c.data)||h.push(c.data)}),h.forEach(function(c){rM(e,c,!1)}),a.forEach(function(c){null===t.yc(c)&&nM(e,c,!1)})},fr.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var o=t.diagram;if(null!==o){var a=o.model;if(t instanceof Ce){var h=ds(a,e,!0);if(h=o.Cb(h),t.fromNode=h,h=ds(a,e,!1),h=o.Cb(h),t.toNode=h,0<(e=a.Bf(e)).length||0<t.labelNodes.count){if(1===e.length&&1===t.labelNodes.count){h=e[0];var c=t.labelNodes.first();if(a.ja(c.data)===h)return}h=(new At).addAll(e);var m=new At;t.labelNodes.each(function(x){null!==x.data&&void 0!==(x=a.ja(x.data))&&m.add(x)}),(e=m.copy()).Zq(h),(h=h.copy()).Zq(m),(0<e.count||0<h.count)&&(e.each(function(x){null!==(x=o.Cb(x))&&x.labeledLink===t&&(x.labeledLink=null)}),h.each(function(x){null!==(x=o.Cb(x))&&x.labeledLink!==t&&(x.labeledLink=t)}))}}else!(t instanceof Ci)&&(e=a.Lh(e),null===(e=o.findPartForKey(e))||e instanceof Je)&&(t.containingGroup=e)}}},fr.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,o=e.ja(t);if(void 0!==o){var a=Cp(e,o),h=this.zc(t);if(null!==a&&null!==h){a=a.iterator;for(var c={};a.next();){var m=a.value;e.ab(m)?h instanceof Je&&e.Lh(m)===o&&null!==(m=this.zc(m))&&(m.containingGroup=h):(c.link=this.yc(m),null!==c.link&&h instanceof Fe&&(ds(e,m,!0)===o&&(c.link.fromNode=h),ds(e,m,!1)===o&&(c.link.toNode=h),m=e.Bf(m),Array.isArray(m)&&m.some(function(x){return function(S){return S===o&&(h.labeledLink=x.link,!0)}}(c)))),c={link:c.link}}ga(e,o)}void 0!==(t=e.Lh(t))&&(t=this.Cb(t))instanceof Je&&(h.containingGroup=t)}},fr.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Fe){var o=e.ja(t.data);if(void 0!==o){for(var a=t.linksConnected;a.next();)Pa(e,o,a.value.data);if(t.isLinkLabel&&null!==(a=t.labeledLink)&&Pa(e,o,a.data),t instanceof Je)for(t=t.memberParts;t.next();)e.ab(a=t.value.data)&&Pa(e,o,a)}}},fr.prototype.copyPartData=function(t,e){var o=Ri.prototype.copyPartData.call(this,t,e);if(t instanceof Ce)if(null!==(t=t.data)&&null!==e){var a=e.model;"object"==typeof(t=a.Aq(t))&&null!==t&&(a.bj(t),o=e.yc(t))}else null!==o&&(e=this.diagram,null!==t&&null!==e&&null!==e.commandHandler&&e.commandHandler.copiesClipboardData&&"object"==typeof(e=e.model.Aq(t))&&null!==e&&(o.data=e));return o},fr.prototype.insertLink=function(t,e,o,a){var h=this.diagram,c=h.model,m=h.toolManager.findTool("Linking"),x="";if(null!==t&&(null===e&&(e=t),null===(x=e.portId)&&(x="")),e="",null!==o&&(null===a&&(a=o),null===(e=a.portId)&&(e="")),(a=m.archetypeLinkData)instanceof Ce){if(Jo(a),null!==(c=a.copy()))return c.fromNode=t,c.fromPortId=x,c.toNode=o,c.toPortId=e,h.add(c),(t=m.archetypeLabelNodeData)instanceof Fe&&(Jo(t),null!==(t=t.copy())&&(t.labeledLink=c,h.add(t))),c}else if(null!==a&&"object"==typeof(a=c.Aq(a))&&null!==a)return null!==t&&zf(c,a,c.ja(t.data),!0),Ic(c,a,x,!0),null!==o&&zf(c,a,c.ja(o.data),!1),Ic(c,a,e,!1),c.bj(a),null===(t=m.archetypeLabelNodeData)||t instanceof Fe||"object"==typeof(t=c.copyNodeData(t))&&null!==t&&(c.uf(t),void 0!==(t=c.ja(t))&&c.Dv(a,t)),h.yc(a);return null},fr.prototype.findLinkForKey=fr.prototype.findLinkForKey,fr.prototype.findPartForKey=fr.prototype.findPartForKey,fr.prototype.removeAllModeledParts=fr.prototype.removeAllModeledParts,fr.prototype.addModeledParts=fr.prototype.addModeledParts,fr.prototype.addAllModeledParts=fr.prototype.addAllModeledParts,fr.className="GraphLinksPartManager",z(ts,Ri),ts.prototype.getLinkCategoryForData=function(t){return this.diagram.model.Ot(t)},ts.prototype.setLinkCategoryForData=function(t,e){this.diagram.model.ku(t,e)},ts.prototype.setFromNodeForLink=function(t,e,o){var a=this.diagram.model;if(void 0===o&&(o=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren)a.fe(t.data,a.ja(e));else{var h=this.rh;this.rh=t,null!==o&&a.fe(o.data,void 0),a.fe(e,a.ja(null!==t.toNode?t.toNode.data:null)),this.rh=h}},ts.prototype.setToNodeForLink=function(t,e,o){var a=this.diagram.model;if(void 0===o&&(o=null),e=null!==e?e.data:null,this.diagram.isTreePathToChildren){var h=this.rh;this.rh=t,null!==o&&a.fe(o.data,void 0),a.fe(e,a.ja(null!==t.fromNode?t.fromNode.data:null)),this.rh=h}else a.fe(t.data,a.ja(e))},ts.prototype.removeDataForLink=function(t){this.diagram.model.fe(t.data,void 0)},ts.prototype.findLinkForKey=function(t){return null==t?null:null!==(t=this.diagram.model.Kb(t))?this.Te.G(t):null},ts.prototype.doModelChanged=function(t){if(Ri.prototype.doModelChanged.call(this,t),this.diagram){var e=this.diagram;if(t.model===e.model){var o=t.change;if(e.Z){e.Z=!1;try{var a=t.modelChange;if(""!==a){if(o===pn){if("nodeParentKey"===a){var h=t.object,c=this.Cb(t.newValue),m=this.gj(h);if(null!==this.rh)null!==c&&(this.rh.data=h,this.rh.category=this.getLinkCategoryForData(h));else if(null!==m){var x=m.jj();null!==x?null===c?e.remove(x):e.isTreePathToChildren?x.fromNode=c:x.toNode=c:Yv(this,c,m)}}else if("parentLinkCategory"===a){var S=this.gj(t.object),E=t.newValue;if(null!==S&&"string"==typeof E){var P=S.jj();null!==P&&(P.category=E)}}e.isModified=!0}}else o===pn&&(t.object===e.model&&"nodeParentKeyProperty"===t.propertyName&&(e.undoManager.isUndoingRedoing||this.Md()),e.isModified=!0)}finally{e.Z=!0}}}}},ts.prototype.updateRelationshipsFromData=function(t){var e=t.data;if(null!==e){var o=t.diagram;if(null!==o){var a=o.model;t instanceof Fe&&(e=a.Mh(e),(e=o.Cb(e))!==(a=t.Fg())&&(a=t.jj(),null!==e?null!==a?o.isTreePathToChildren?a.fromNode=e:a.toNode=e:Yv(this,e,t):null!==a&&k1(o,a,!1)))}}},ts.prototype.updateDataBindings=function(t,e){Ri.prototype.updateDataBindings.call(this,t,e),"string"==typeof e&&null!==this.zc(t)&&null!==(t=this.yc(t))&&t.Ea(e)},ts.prototype.resolveReferencesForData=function(t){var e=this.diagram.model,o=e.ja(t);if(void 0!==o){var a=Cp(e,o),h=this.zc(t);if(null!==a&&null!==h){for(a=a.iterator;a.next();){var c=a.value;e.ab(c)&&h instanceof Fe&&e.Mh(c)===o&&Yv(this,h,this.gj(c))}ga(e,o)}void 0!==(t=e.Mh(t))&&h instanceof Fe&&Yv(this,t=this.Cb(t),h)}},ts.prototype.unresolveReferencesForPart=function(t){var e=this.diagram.model;if(t instanceof Fe){var o=e.ja(t.data),a=this.yc(t.data);if(null!==a){a.isSelected=!1,a.isHighlighted=!1;var h=a.layer;if(null!==h){var c=h.Lc(-1,a,!1);0<=c&&this.diagram.Va(_i,"parts",h,a,null,c,null),null!==(c=a.layerChanged)&&c(a,h,null)}}for(a=this.diagram.isTreePathToChildren,t=t.linksConnected;t.next();)h=t.value,e.ab(h=(a?h.toNode:h.fromNode).data)&&Pa(e,o,h)}},ts.prototype.insertLink=function(t,e,o){e=this.diagram.model;var a=t,h=o;return this.diagram.isTreePathToChildren||(a=o,h=t),null!==a&&null!==h?(e.fe(h.data,e.ja(a.data)),h.jj()):null},ts.prototype.findLinkForKey=ts.prototype.findLinkForKey,ts.className="TreePartManager",ze.prototype.cloneProtected=function(t){t.oa=this.oa,t.Ln=this.Ln,t.$f=this.$f,t.Ni=this.Ni,t.Pl=this.Pl,t.il=this.il,t.Dn=this.Dn,t.Cn=this.Cn,t.Fn=this.Fn,t.kn=this.kn,t.Yj=this.Yj},ze.prototype.copy=function(){var t=new this.constructor;return this.cloneProtected(t),t},ze.prototype.clear=function(){this.Fc=[],this.Wa.clear(),this.Tf.clear(),this.undoManager.clear()},ze.prototype.toString=function(t){if(void 0===t&&(t=0),1<t)return this.fr();var e=(""!==this.name?this.name:"")+" Model";if(0<t){e+="\n node data:";for(var o=(t=this.nodeDataArray).length,a=0;a<o;a++){var h=t[a];e+=" "+this.ja(h)+":"+g(h)}}return e},ze.prototype.gB=function(t){t.change!==no&&R("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+t.toString());var e=t.object;return t.isTransactionFinished&&e instanceof Er?(Xv(this,e),t=this.Yw(e,"FinishedUndo"===t.propertyName),this.Yh=null,t):null},ze.prototype.Yw=function(t,e){var o=this,a=!1,h=new At,c=new At,m=new At,x=this.Yh;t.changes.each(function(N){N.model===o&&("nodeDataArray"===N.modelChange?N.change===hr?h.add(N.newValue):N.change===_i&&m.add(N.oldValue):o.ab(N.object)?c.add(N.object):N.change!==pn||o.modelData!==N.object&&"modelData"!==N.propertyName?null!==N.object&&(x&&x.contains(N.object)?x.get(N.object).each(function(nt){o.ab(nt)&&c.add(nt)}):N.object instanceof ze||o.qj()&&o.xc(N.object)||tM(o,N.object).each(function(nt){c.add(nt)})):a=!0)});var S=this.Li;S.clear(),h.each(function(N){S.add(o.ja(N)),e||c.add(N)});var E=this.Oi;E.clear(),m.each(function(N){E.add(o.ja(N)),e&&c.add(N)}),t=o.cloneDeep(c.ma());var P=null;return a&&(null===P&&(P={}),P.modelData=this.cloneDeep(this.modelData)),0<S.count&&(null===P&&(P={}),e?P.removedNodeKeys=S.ma():P.insertedNodeKeys=S.ma()),0<t.length&&(null===P&&(P={}),P.modifiedNodeData=t),0<E.count&&(null===P&&(P={}),e?P.insertedNodeKeys=E.ma():P.removedNodeKeys=E.ma()),E.clear(),S.clear(),P},ze.prototype.cloneDeep=function(t){return vm(this,t,!0)},(q=ze.prototype).Vk=function(){var t="";return""!==this.name&&(t+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(t+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(t+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"==typeof this.nodeKeyProperty&&(t+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(t+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(t+=',\n  "copiesArrayObjects": true'),this.copiesKey||(t+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"==typeof this.nodeCategoryProperty&&(t+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),t},q.Xq=function(t){t.name&&(this.name=t.name),t.dataFormat&&(this.dataFormat=t.dataFormat),t.isReadOnly&&(this.isReadOnly=!0),t.nodeKeyProperty&&(this.nodeKeyProperty=t.nodeKeyProperty),t.copiesArrays&&(this.copiesArrays=!0),t.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===t.copiesKey&&(this.copiesKey=!1),t.nodeCategoryProperty&&(this.nodeCategoryProperty=t.nodeCategoryProperty)},q.Zw=function(){var o,t=this.modelData,e=!1;for(o in t)if(!Mp(o,t[o])){e=!0;break}return t="",e&&(t=$v(this)),t+',\n  "nodeDataArray": '+fs(this,this.nodeDataArray,!0)},q.rw=function(t){Qb(this,t),mt(t=t.nodeDataArray)&&(this.Om(t),this.nodeDataArray=t)},q.kr=function(t){Pc(this,t,"nodeKeyProperty");var e=this.Li;e.clear();var o=new At,a=this.Oi;a.clear(),a.addAll(this.Wa.iteratorKeys);for(var h=new ot,c=t.nodeDataArray,m=c.length,x=0;x<m;x++){var S=c[x],E=t.ja(S);if(void 0!==E){a.remove(E);var P=this.Kb(E);null===P?(e.add(E),o.add(S)):bp(this,P,S,h)||o.add(S)}else this.Zt(S),E=this.ja(S),e.add(E),o.add(S)}return c="",bp(this,this.modelData,t.modelData,h)||(c+=$v(this)),0<e.count&&(c+=this.tu+fs(this,e.ma(),!0)),0<o.count&&(c+=this.lx+fs(this,o.ma(),!0)),0<a.count&&(c+=this.vu+fs(this,a.ma(),!0)),a.clear(),e.clear(),c},q.Dz=function(t,e){return void 0===e&&(e=Hf(this,this)),'{ "class": '+this.quote(e)+', "incremental": 1'+this.Vk()+this.kr(t)+"}"},q.Xw=function(t,e){var o=this,a=!1,h=new At,c=new At,m=new At,x=this.Yh;t.changes.each(function(P){P.model===o&&("nodeDataArray"===P.modelChange?P.change===hr?h.add(P.newValue):P.change===_i&&m.add(P.oldValue):o.ab(P.object)?c.add(P.object):P.change!==pn||o.modelData!==P.object&&"modelData"!==P.propertyName?null!==P.object&&(x&&x.contains(P.object)?x.get(P.object).each(function(N){o.ab(N)&&c.add(N)}):P.object instanceof ze||o.qj()&&o.xc(P.object)||tM(o,P.object).each(function(N){c.add(N)})):a=!0)});var S=this.Li;S.clear(),h.each(function(P){S.add(o.ja(P)),e||c.add(P)});var E=this.Oi;return E.clear(),m.each(function(P){E.add(o.ja(P)),e&&c.add(P)}),t="",a&&(t+=$v(this)),0<S.count&&(t+=(e?this.vu:this.tu)+fs(this,S.ma(),!0)),0<c.count&&(t+=this.lx+fs(this,c.ma(),!0)),0<E.count&&(t+=(e?this.tu:this.vu)+fs(this,E.ma(),!0)),E.clear(),S.clear(),t},q.Wq=function(t){(void 0!==t.name&&t.name!==this.name||void 0!==t.dataFormat&&t.dataFormat!==this.dataFormat||void 0!==t.isReadOnly&&t.isReadOnly!==this.isReadOnly||void 0!==t.nodeKeyProperty&&t.nodeKeyProperty!==this.nodeKeyProperty||void 0!==t.copiesArrays&&t.copiesArrays!==this.copiesArrays||void 0!==t.copiesArrayObjects&&t.copiesArrayObjects!==this.copiesArrayObjects||void 0!==t.copiesKey&&t.copiesKey!==this.copiesKey||void 0!==t.nodeCategoryProperty&&t.nodeCategoryProperty!==this.nodeCategoryProperty)&&R("applyIncrementalJson cannot change Model properties"),Qb(this,t);var e=t.insertedNodeKeys,o=t.modifiedNodeData,a=new ot;if(Array.isArray(o))for(var h=0;h<o.length;h++){var c=o[h],m=this.ja(c);null!=m&&a.set(m,c)}if(Array.isArray(e))for(h=e.length,c=0;c<h;c++){var x=this.Kb(m=e[c]);null===x&&(x=(x=a.get(m))?x:this.copyNodeData({}),this.Vm(x,m),this.uf(x))}if(Array.isArray(o))for(e=o.length,a=0;a<e;a++)if(c=this.ja(h=o[a]),null!==(c=this.Kb(c))){for(var S in h)"__gohashid"===S||S===this.nodeKeyProperty||this.Ck()&&S===this.nodeIsGroupProperty||this.setDataProperty(c,S,h[S]);this.Wm(h,c)}if(t=t.removedNodeKeys,Array.isArray(t))for(o=t.length,S=0;S<o;S++)null!==(e=this.Kb(t[S]))&&this.Nm(e)},q.Yy=function(t,e){t.change!==no&&R("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+t.toString());var o=t.object;return t.isTransactionFinished&&o instanceof Er?(void 0===e&&(e=Hf(this,this)),Xv(this,o),t=this.Xw(o,"FinishedUndo"===t.propertyName),this.Yh=null,"2"===e?'{ "incremental": 2'+t+"}":'{ "class": '+this.quote(e)+', "incremental": 1'+this.Vk()+t+"}"):'{ "incremental": 0 }'},q.hB=function(t,e){return this.Yy(t,e)},q.fr=function(t){return void 0===t&&(t=Hf(this,this)),'{ "class": '+this.quote(t)+this.Vk()+this.Zw()+"}"},q.toJSON=function(t){return this.fr(t)},q.Xx=function(t){var e=null;if("string"==typeof t)try{e=T.JSON.parse(t)}catch(a){}else"object"==typeof t?e=t:R("Unable to modify a Model from: "+t);var o=e.incremental;"number"!=typeof o&&R("Unable to apply non-incremental changes to Model: "+t),0!==o&&(this.xa("applyIncrementalJson"),this.Wq(e),this.Xa("applyIncrementalJson"))},q.vz=function(t){return this.Xx(t)},ze.constructGraphLinksModel=function(){return new ze},(q=ze.prototype).Om=function(t){if(mt(t))for(var e=t.length,o=0;o<e;o++){var a=t[o];if(ht(a)){var h=o;a=this.Om(a),Array.isArray(t)?t[h]=a:R("Cannot replace an object in an HTMLCollection or NodeList at "+h)}}else if(ht(t)){for(e in t)if(ht(o=t[e])&&(o=this.Om(o),t[e]=o,"points"===e&&Array.isArray(o))){for(h=o.length%2==0,a=0;a<o.length;a++)if("number"!=typeof o[a]){h=!1;break}if(h){for(h=new St,a=0;a<o.length/2;a++)h.add(new J(o[2*a],o[2*a+1]));h.freeze(),t[e]=h}}return function(t){if("object"!=typeof t)return t;var e=t.class||"";if("NaN"===e)return NaN;if("Date"===e)return new Date(t.value);if(0!==e.indexOf("go."))return t;var o=t;if("Point"===(e=e.substr(3)))o=new J(Wr(t.x),Wr(t.y));else if("Size"===e)o=new fe(Wr(t.width),Wr(t.height));else if("Rect"===e)o=new Lt(Wr(t.x),Wr(t.y),Wr(t.width),Wr(t.height));else if("Margin"===e)o=new oi(Wr(t.top),Wr(t.right),Wr(t.bottom),Wr(t.left));else if("Spot"===e)o="string"==typeof t.enum?$_(t.enum):new He(Wr(t.x),Wr(t.y),Wr(t.offsetX),Wr(t.offsetY));else if("Brush"===e){if((o=new Ei).type=Ct(Ei,t.type),"string"==typeof t.color&&(o.color=t.color),t.start instanceof He&&(o.start=t.start),t.end instanceof He&&(o.end=t.end),"number"==typeof t.startRadius&&(o.startRadius=Wr(t.startRadius)),"number"==typeof t.endRadius&&(o.endRadius=Wr(t.endRadius)),ht(t=t.colorStops))for(var a in t)o.addColorStop(parseFloat(a),t[a])}else"Geometry"===e?(o=null,(o="string"==typeof t.path?sf(t.path):new pi).type=Ct(pi,t.type),"number"==typeof t.startX&&(o.startX=Wr(t.startX)),"number"==typeof t.startY&&(o.startY=Wr(t.startY)),"number"==typeof t.endX&&(o.endX=Wr(t.endX)),"number"==typeof t.endY&&(o.endY=Wr(t.endY)),t.spot1 instanceof He&&(o.spot1=t.spot1),t.spot2 instanceof He&&(o.spot2=t.spot2)):"EnumValue"===e&&(0===(a=t.classType).indexOf("go.")&&(a=a.substr(3)),"function"==typeof(a=yh(a))&&(o=Ct(a,t.name)));return o}(t)}return t},q.quote=function(t){for(var e="",o=t.length,a=0;a<o;a++){var h=t[a];if('"'===h||"\\"===h)e+="\\"+h;else if("\b"===h)e+="\\b";else if("\f"===h)e+="\\f";else if("\n"===h)e+="\\n";else if("\r"===h)e+="\\r";else if("\t"===h)e+="\\t";else{var c=t.charCodeAt(a);e=16>c?e+"\\u000"+t.charCodeAt(a).toString(16):32>c?e+"\\u00"+t.charCodeAt(a).toString(16):8232===c?e+"\\u2028":8233===c?e+"\\u2029":e+h}}return'"'+e+'"'},q.bn=function(t){return void 0===t?"undefined":null===t?"null":!0===t?"true":!1===t?"false":"string"==typeof t?this.quote(t):"number"==typeof t?t===1/0?"9e9999":t===-1/0?"-9e9999":isNaN(t)?'{"class":"NaN"}':t.toString():t instanceof Date?'{"class":"Date", "value":"'+t.toJSON()+'"}':t instanceof Number?this.bn(t.valueOf()):mt(t)?fs(this,t):ht(t)?Zv(this,t):"function"==typeof t?"null":t.toString()},q.Hh=function(t){this.cv.add(t)},q.Tk=function(t){this.cv.remove(t)},q.zt=function(t){this.skipsUndoManager||this.undoManager.aw(t);for(var e=this.cv,o=e.length,a=0;a<o;a++)e.J(a)(t)},q.Va=function(t,e,o,a,h,c,m){rr(this,"",t,e,o,a,h,c,m)},q.g=function(t,e,o,a,h){rr(this,"",pn,t,this,e,o,a,h)},q.du=function(t,e,o,a,h,c){rr(this,"",pn,e,t,o,a,h,c)},ze.prototype.changeState=function(t,e){if(null!==t&&t.model===this)if(t.change===pn){var o=t.object,a=t.propertyName,h=t.G(e);a===this.nodeKeyProperty&&this.ab(o)&&(void 0!==(e=t.G(!e))&&this.Wa.remove(e),void 0!==h&&this.Wa.add(h,o)),fn(o,a,h)}else t.change===hr?(o=t.newParam,"nodeDataArray"===t.modelChange?ht(t=t.newValue)&&"number"==typeof o&&(a=this.ja(t),e?(this.Fc[o]===t&&k(this.Fc,o),void 0!==a&&this.Wa.remove(a)):(this.Fc[o]!==t&&gt(this.Fc,o,t),void 0!==a&&this.Wa.add(a,t))):""===t.modelChange?((a=t.object)&&!mt(a)&&t.propertyName&&(a=Vn(t.object,t.propertyName)),mt(a)&&"number"==typeof o&&(t=t.newValue,e?k(a,o):gt(a,o,t))):R("unknown ChangedEvent.Insert modelChange: "+t.toString())):t.change===_i?(o=t.oldParam,"nodeDataArray"===t.modelChange?ht(t=t.oldValue)&&"number"==typeof o&&(a=this.ja(t),e?(this.Fc[o]!==t&&gt(this.Fc,o,t),void 0!==a&&this.Wa.add(a,t)):(this.Fc[o]===t&&k(this.Fc,o),void 0!==a&&this.Wa.remove(a))):""===t.modelChange?((a=t.object)&&!mt(a)&&t.propertyName&&(a=Vn(t.object,t.propertyName)),mt(a)&&"number"==typeof o&&(t=t.oldValue,e?gt(a,o,t):k(a,o))):R("unknown ChangedEvent.Remove modelChange: "+t.toString())):t.change!==no&&R("unknown ChangedEvent: "+t.toString())},ze.prototype.xa=function(t){return this.undoManager.xa(t)},ze.prototype.Xa=function(t){return this.undoManager.Xa(t)},ze.prototype.If=function(){return this.undoManager.If()},ze.prototype.commit=function(t,e){void 0===e&&(e="");var o=this.skipsUndoManager;null===e&&(this.skipsUndoManager=!0,e=""),this.undoManager.xa(e);var a=!1;try{t(this),a=!0}finally{a?this.undoManager.Xa(e):this.undoManager.If(),this.skipsUndoManager=o}},(q=ze.prototype).Ea=function(t,e){void 0===e&&(e=""),rr(this,"SourceChanged",no,e,t,null,null)},q.ja=function(t){if(null!==t){var e=this.Ni;if(""!==e&&void 0!==(e=Vn(t,e))){if(ju(e))return e;R("Key value for node data "+t+" is not a number or a string: "+e)}}},q.Vm=function(t,e){if(null!==t){var o=this.Ni;if(""!==o)if(this.ab(t)){var a=Vn(t,o);a!==e&&null===this.Kb(e)&&(fn(t,o,e),void 0!==a&&this.Wa.remove(a),this.Wa.add(e,t),rr(this,"nodeKey",pn,o,t,a,e),"string"==typeof o&&this.Ea(t,o),this.ar(a,e))}else fn(t,o,e)}},q.ab=function(t){var e=this.ja(t);return void 0!==e&&this.Wa.G(e)===t},q.Kb=function(t){return null===t&&R("Model.findNodeDataForKey:key must not be null"),void 0!==t&&ju(t)?this.Wa.G(t):null},q.Zt=function(t){if(null!==t){var e=this.Ni;if(""!==e){var o=this.ja(t);if(void 0===o||this.Wa.contains(o)){var a=this.Pl;if(null!==a&&null!=(o=a(this,t))&&!this.Wa.contains(o))return void fn(t,e,o);if("string"==typeof o){for(a=2;this.Wa.contains(o+a);)a++;fn(t,e,o+a)}else if(void 0===o||"number"==typeof o){for(o=-this.Wa.count-1;this.Wa.contains(o);)o--;fn(t,e,o)}}}}},q.uf=function(t){null!==t&&(Oe(t),this.ab(t)||qv(this,t,!0))},q.qz=function(t){if(mt(t))for(var e=t.length,o=0;o<e;o++)this.uf(t[o]);else for(t=t.iterator;t.next();)this.uf(t.value)},q.Nm=function(t){null!==t&&CS(this,t,!0)},q.WA=function(t){if(mt(t))for(var e=t.length,o=0;o<e;o++)this.Nm(t[o]);else for(t=t.iterator;t.next();)this.Nm(t.value)},q.KA=function(t){if(t!==this.nodeDataArray&&mt(t)){var e=this.Oi;e.clear(),e.addAll(this.Wa.iteratorKeys);var o=this.Li;o.clear();for(var a=t.length,h=0;h<a;h++){var c=t[h],m=this.ja(c);if(void 0!==m){o.add(m);var x=this.Kb(m);x!==c&&(null!==x?(this.vq(x,c),this.Wm(c,x)):(c=this.cloneDeep(c),this.Vm(c,m),this.uf(c)))}else m=this.cloneDeep(c),this.uf(m),o.add(this.ja(m))}for(t=e.iterator;t.next();)o.contains(a=t.value)||(a=this.Kb(a))&&this.Nm(a);e.clear(),o.clear()}},q.ar=function(t,e){void 0!==e&&(t=Cp(this,t))instanceof At&&this.Tf.add(e,t)},q.Sw=function(){},q.Qm=function(){},q.Pm=function(){},q.hr=function(){},q.Cz=function(t){void 0===t?this.Tf.clear():this.Tf.remove(t)},ze.prototype.copyNodeData=function(t){if(null===t)return null;var e=this.il;return ht(t=null!==e?e(t,this):ym(this,t,!0))&&Kt(t),t},ze.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o)}else!iM&&t instanceof Ge&&(iM=!0,Q('Model.setDataProperty is modifying a GraphObject, "'+t.toString()+'"'),Q("  Is that really your intent?"));var a=Vn(t,e);a!==o&&(fn(t,e,o),this.du(t,e,a,o))},(q=ze.prototype).set=function(t,e,o){this.setDataProperty(t,e,o)},q.vq=function(t,e){if(e){var a,o=this.ab(t);for(a in e)"__gohashid"===a||o&&a===this.nodeKeyProperty||this.setDataProperty(t,a,e[a])}},q.mz=function(t,e){this.Pt(t,-1,e)},q.Pt=function(t,e,o){0>e&&(e=t.length),gt(t,e,o),rr(this,"",hr,"",t,null,o,null,e)},q.tw=function(t,e){void 0===e&&(e=-1),t===this.Fc&&R("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===e&&(e=t.length-1);var o=t[e];k(t,e),rr(this,"",_i,"",t,o,null,e,null)},q.Iq=function(t){if(null===t)return"";var e=this.Yj;return""===e||void 0===(e=Vn(t,e))?"":"string"==typeof e?e:(R("getCategoryForNodeData found a non-string category for "+t+": "+e),"")},q.Um=function(t,e){if(null!==t){var o=this.Yj;if(""!==o)if(this.ab(t)){var a=Vn(t,o);void 0===a&&(a=""),a!==e&&(fn(t,o,e),rr(this,"nodeCategory",pn,o,t,a,e))}else fn(t,o,e)}},q.Wm=function(t,e){this.Um(e,this.Iq(t))},q.Em=function(){return!1},q.Ck=function(){return!1},q.qj=function(){return!1},q.Ut=function(){return!1},q.Dk=function(){return!1},B.Object.defineProperties(ze.prototype,{name:{get:function(){return this.oa},set:function(t){var e=this.oa;e!==t&&(this.oa=t,this.g("name",e,t))}},dataFormat:{get:function(){return this.Ln},set:function(t){var e=this.Ln;e!==t&&(this.Ln=t,this.g("dataFormat",e,t))}},isReadOnly:{get:function(){return this.$f},set:function(t){var e=this.$f;e!==t&&(this.$f=t,this.g("isReadOnly",e,t))}},modelData:{get:function(){return this.l},set:function(t){var e=this.l;e!==t&&(this.l=t,this.g("modelData",e,t),this.Ea(t))}},undoManager:{get:function(){return this.u},set:function(t){var e=this.u;e!==t&&(null!==e&&e.Py(this),this.u=t,null!==t&&t.Vx(this))}},skipsUndoManager:{get:function(){return this.vg},set:function(t){this.vg=t}},nodeKeyProperty:{get:function(){return this.Ni},set:function(t){var e=this.Ni;e!==t&&(""===t&&R("Model.nodeKeyProperty may not be the empty string"),0<this.Wa.count&&R("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ni=t,this.g("nodeKeyProperty",e,t))}},makeUniqueKeyFunction:{get:function(){return this.Pl},set:function(t){var e=this.Pl;e!==t&&(this.Pl=t,this.g("makeUniqueKeyFunction",e,t))}},nodeDataArray:{get:function(){return this.Fc},set:function(t){var e=this.Fc;if(e!==t){this.Wa.clear(),this.Sw();for(var o=t.length,a=0;a<o;a++){var h=t[a];if(!ht(h))return void R("Model.nodeDataArray must only contain Objects, not: "+h);Oe(h)}for(this.Fc=t,a=new St,h=0;h<o;h++){var c=t[h],m=this.ja(c);void 0===m||null!==this.Wa.G(m)?a.add(c):this.Wa.add(m,c)}for(a=a.iterator;a.next();)this.Zt(h=a.value),void 0!==(c=this.ja(h))&&this.Wa.add(c,h);for(rr(this,"nodeDataArray",pn,"nodeDataArray",this,e,t),e=0;e<o;e++)this.Qm(a=t[e]),this.Pm(a);Array.isArray(t)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.il},set:function(t){var e=this.il;e!==t&&(this.il=t,this.g("copyNodeDataFunction",e,t))}},copiesArrays:{get:function(){return this.Dn},set:function(t){var e=this.Dn;e!==t&&(this.Dn=t,this.g("copiesArrays",e,t))}},copiesArrayObjects:{get:function(){return this.Cn},set:function(t){var e=this.Cn;e!==t&&(this.Cn=t,this.g("copiesArrayObjects",e,t))}},copiesKey:{get:function(){return this.Fn},set:function(t){var e=this.Fn;e!==t&&(this.Fn=t,this.g("copiesKey",e,t))}},afterCopyFunction:{get:function(){return this.kn},set:function(t){var e=this.kn;e!==t&&(this.kn=t,this.g("afterCopyFunction",e,t))}},nodeCategoryProperty:{get:function(){return this.Yj},set:function(t){var e=this.Yj;e!==t&&(this.Yj=t,this.g("nodeCategoryProperty",e,t))}},type:{get:function(){return"Model"}}}),ze.prototype.setCategoryForNodeData=ze.prototype.Um,ze.prototype.getCategoryForNodeData=ze.prototype.Iq,ze.prototype.removeArrayItem=ze.prototype.tw,ze.prototype.insertArrayItem=ze.prototype.Pt,ze.prototype.addArrayItem=ze.prototype.mz,ze.prototype.assignAllDataProperties=ze.prototype.vq,ze.prototype.set=ze.prototype.set,ze.prototype.clearUnresolvedReferences=ze.prototype.Cz,ze.prototype.mergeNodeDataArray=ze.prototype.KA,ze.prototype.removeNodeDataCollection=ze.prototype.WA,ze.prototype.removeNodeData=ze.prototype.Nm,ze.prototype.addNodeDataCollection=ze.prototype.qz,ze.prototype.addNodeData=ze.prototype.uf,ze.prototype.makeNodeDataKeyUnique=ze.prototype.Zt,ze.prototype.findNodeDataForKey=ze.prototype.Kb,ze.prototype.containsNodeData=ze.prototype.ab,ze.prototype.setKeyForNodeData=ze.prototype.Vm,ze.prototype.getKeyForNodeData=ze.prototype.ja,ze.prototype.updateTargetBindings=ze.prototype.Ea,ze.prototype.commit=ze.prototype.commit,ze.prototype.rollbackTransaction=ze.prototype.If,ze.prototype.commitTransaction=ze.prototype.Xa,ze.prototype.startTransaction=ze.prototype.xa,ze.prototype.raiseDataChanged=ze.prototype.du,ze.prototype.raiseChanged=ze.prototype.g,ze.prototype.raiseChangedEvent=ze.prototype.Va,ze.prototype.removeChangedListener=ze.prototype.Tk,ze.prototype.addChangedListener=ze.prototype.Hh,ze.prototype.writeJsonValue=ze.prototype.bn,ze.prototype.replaceJsonObjects=ze.prototype.Om,ze.prototype.applyIncrementalJSON=ze.prototype.vz,ze.prototype.applyIncrementalJson=ze.prototype.Xx,ze.prototype.toJSON=ze.prototype.toJSON,ze.prototype.toJson=ze.prototype.fr,ze.prototype.toIncrementalJSON=ze.prototype.hB,ze.prototype.toIncrementalJson=ze.prototype.Yy,ze.prototype.computeJsonDifference=ze.prototype.Dz,ze.prototype.toIncrementalData=ze.prototype.gB,ze.prototype.clear=ze.prototype.clear;var iM=!1,Ia={};function Wn(t,e,o){Kt(this),this.v=!1,void 0===t&&(t=""),void 0===e&&(e=t),void 0===o&&(o=null),this.l=-1,this.pd=null,this.pm=t,this.om=this.hq=0,this.ht=null,this.Ao=!1,this.hm=e,this.Bn=o,this.Zo=Sp,this.un=null,this.Ou=new At}function $x(t,e,o){return null===(t=t.sourceName)||""===t?e:"/"===t?o.part:"."===t?o:".."===t?o.panel:e.bb(t)}ze.className="Model",ze.fromJSON=ze.fromJson=function(t,e){void 0===e&&(e=null);var o=null;if("string"==typeof t)try{o=T.JSON.parse(t)}catch(c){}else"object"==typeof t?o=t:R("Unable to construct a Model from: "+t);if(null===e){t=null;var a=o.class;if("string"==typeof a)try{var h=null;0===a.indexOf("go.")?h=yh(a=a.substr(3)):null===(h=yh(a))&&(h=T[a]),"function"==typeof h&&(t=new h)}catch(c){}null===t||t instanceof ze?e=t:R("Unable to construct a Model of declared class: "+o.class)}return null===e&&(e=ze.constructGraphLinksModel()),e.Xq(o),e.rw(o),e},ze.safePropertyValue=Vn,ze.safePropertySet=fn,Ia.Brush=Ei,Ia.ChangedEvent=kn,Ia.Geometry=pi,Ia.Margin=oi,Ia.Panel=pe,Ia.Point=J,Ia.Rect=Lt,Ia.Size=fe,Ia.Spot=He,Ia.Transaction=Er,Ia.UndoManager=Hn,Wn.prototype.copy=function(){var t=new Wn;return t.pm=this.pm,t.hq=this.hq,t.om=this.om,t.ht=this.ht,t.Ao=this.Ao,t.hm=this.hm,t.Bn=this.Bn,t.Zo=this.Zo,t.un=this.un,t},(q=Wn.prototype).jb=function(t){t.classType===Wn&&(this.mode=t)},q.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.wj?" "+this.wj:"")+" "+this.mode.name+")"},q.freeze=function(){return this.v=!0,this},q.ea=function(){return this.v=!1,this},q.Iy=function(t){return void 0===t&&(t=null),this.mode=Qv,this.backConverter=t,this},q.Uq=function(t){return void 0===t&&(t=""),this.sourceName=t,this.isToModel=!1,this},q.MA=function(){return this.sourceName=null,this.isToModel=!0,this},q.Tw=function(t,e,o){var a=this.hm;if(void 0===o||""===a||a===o){o=this.pm;var h=this.Bn;if(null===h&&""===o)Q("Binding error: target property is the empty string: "+this.toString());else{var c=e;if(""!==a&&(c=Vn(e,a)),void 0!==c)if(null===h)""!==o&&fn(t,o,c);else try{""!==o?fn(t,o,h(c,t)):h(c,t)}catch(x){}}}},q.jr=function(t,e,o,a){if(this.Zo===Qv){var h=this.pm;if(void 0===o||h===o){o=this.hm;var c=this.un,m=t;if(""!==h&&(m=Vn(t,h)),void 0!==m&&!this.Ou.contains(t))try{this.Ou.add(t);var x=null!==a?a.diagram:null,S=null!==x?x.model:null;if(null===c){if(""!==o)null!==S?S.setDataProperty(e,o,m):fn(e,o,m);else if(null!==S&&null!==a&&0<=a.itemIndex&&null!==a.panel&&Array.isArray(a.panel.itemArray)){var E=a.itemIndex,P=a.panel.itemArray;S.tw(P,E),S.Pt(P,E,m)}}else try{if(""!==o){var N=c(m,e,S);null!==S?S.setDataProperty(e,o,N):fn(e,o,N)}else{var nt=c(m,e,S);if(void 0!==nt&&null!==S&&null!==a&&0<=a.itemIndex&&null!==a.panel&&Array.isArray(a.panel.itemArray)){var at=a.itemIndex,rt=a.panel.itemArray;S.tw(rt,at),S.Pt(rt,at,nt)}}}catch(_t){}}finally{this.Ou.remove(t)}}}},B.Object.defineProperties(Wn.prototype,{wj:{get:function(){return this.l},set:function(t){this.v&&$(this),this.l=t}},targetProperty:{get:function(){return this.pm},set:function(t){this.v&&$(this),this.pm=t}},sourceName:{get:function(){return this.ht},set:function(t){this.v&&$(this),this.ht=t,null!==t&&(this.Ao=!1)}},isToModel:{get:function(){return this.Ao},set:function(t){this.v&&$(this),this.Ao=t}},sourceProperty:{get:function(){return this.hm},set:function(t){this.v&&$(this),this.hm=t}},converter:{get:function(){return this.Bn},set:function(t){this.v&&$(this),this.Bn=t}},backConverter:{get:function(){return this.un},set:function(t){this.v&&$(this),this.un=t}},mode:{get:function(){return this.Zo},set:function(t){this.v&&$(this),this.Zo=t}}}),Wn.prototype.updateSource=Wn.prototype.jr,Wn.prototype.updateTarget=Wn.prototype.Tw,Wn.prototype.ofModel=Wn.prototype.MA,Wn.prototype.ofObject=Wn.prototype.Uq,Wn.prototype.makeTwoWay=Wn.prototype.Iy;var xm="Binding",Sp=new ct(Wn,"OneWay",1),Qv=new ct(Wn,"TwoWay",2);function mi(t,e){ze.call(this),this.su=',\n  "insertedLinkKeys": ',this.kx=',\n  "modifiedLinkData": ',this.uu=',\n  "removedLinkKeys": ',this.$c=[],this.ag=new At,this.gb=new ot,this.Hi="",this.Aj=this.hl=this.Ql=null,this.af="from",this.bf="to",this.Vj=this.Uj="",this.Tj="category",this.ae="",this.Ul="isGroup",this.ze="group",this.En=!1,void 0!==t&&(this.nodeDataArray=t),void 0!==e&&(this.linkDataArray=e)}function Xx(t,e){for(var o=new At,a=0;a<t.linkDataArray.length;a++){var h=t.linkDataArray[a];Kv(t,e,h,h,o)}return o}function ds(t,e,o){if(null!==e&&""!==(t=o?t.af:t.bf)&&void 0!==(t=Vn(e,t))){if(ju(t))return t;R((o?"FromKey":"ToKey")+" value for link data "+e+" is not a number or a string: "+t)}}function zf(t,e,o,a){if(null===o&&(o=void 0),null!==e){var h=a?t.af:t.bf;if(""!==h)if(o=t.Gm(o),t.xc(e)){var c=Vn(e,h);c!==o&&(ga(t,c,e),fn(e,h,o),null===t.Kb(o)&&Pa(t,o,e),rr(t,a?"linkFromKey":"linkToKey",pn,h,e,c,o),"string"==typeof h&&t.Ea(e,h))}else fn(e,h,o)}}function ty(t,e,o){return null===e||""===(t=o?t.Uj:t.Vj)||void 0===(e=Vn(e,t))?"":e}function Ic(t,e,o,a){if(null!==e){var h=a?t.Uj:t.Vj;if(""!==h)if(t.xc(e)){var c=Vn(e,h);void 0===c&&(c=""),c!==o&&(fn(e,h,o),rr(t,a?"linkFromPortId":"linkToPortId",pn,h,e,c,o),"string"==typeof h&&t.Ea(e,h))}else fn(e,h,o)}}function nM(t,e,o){if(""!==t.linkKeyProperty){var a=t.Wb(e);if(void 0!==a&&t.gb.G(a)===e)return;if(t.Rq(e),void 0===(a=t.Wb(e)))return void R("GraphLinksModel.makeLinkDataKeyUnique failed on "+e+". Data not added to model.");t.gb.add(a,e)}t.ag.add(e),a=null,o&&t.$c.splice(a=t.$c.length,0,e),rr(t,"linkDataArray",hr,"linkDataArray",t,null,e,null,a),ey(t,e)}function rM(t,e,o){t.ag.remove(e);var a=t.Wb(e);if(void 0!==a&&t.gb.remove(a),a=null,o){if(0>(a=t.$c.indexOf(e)))return;t.$c.splice(a,1)}if(rr(t,"linkDataArray",_i,"linkDataArray",t,e,null,a,null),ga(t,o=ds(t,e,!0),e),ga(t,o=ds(t,e,!1),e),a=t.Bf(e),Array.isArray(a))for(var h=a.length,c=0;c<h;c++)ga(t,o=a[c],e)}function ey(t,e){var o=ds(t,e,!0);o=t.Gm(o),null===t.Kb(o)&&Pa(t,o,e),o=ds(t,e,!1),o=t.Gm(o),null===t.Kb(o)&&Pa(t,o,e);var a=t.Bf(e);if(Array.isArray(a))for(var h=a.length,c=0;c<h;c++)null===t.Kb(o=a[c])&&Pa(t,o,e)}function Uf(t,e,o){t.cr(o,t.Lt(e)),t.Bw(o,t.xy(e)),t.Gw(o,t.Ay(e)),t.ju(o,t.Bf(e)),t.Cw(o,t.yy(e)),t.Hw(o,t.By(e))}Wn.className="Binding",Wn.parseEnum=function(t,e){return function(o){return null===(o=Ct(t,o))?e:o}},Wn.toString=g,Wn.OneWay=Sp,Wn.TwoWay=Qv,z(mi,ze),mi.constructGraphLinksModel=ze.constructGraphLinksModel,mi.prototype.cloneProtected=function(t){ze.prototype.cloneProtected.call(this,t),t.Hi=this.Hi,t.Ql=this.Ql,t.hl=this.hl,t.af=this.af,t.bf=this.bf,t.Uj=this.Uj,t.Vj=this.Vj,t.Tj=this.Tj,t.ae=this.ae,t.Ul=this.Ul,t.ze=this.ze,t.En=this.En},(q=mi.prototype).clear=function(){ze.prototype.clear.call(this),this.$c=[],this.gb.clear(),this.ag.clear()},q.toString=function(t){if(void 0===t&&(t=0),2<=t)return this.fr();var e=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<t){e+="\n node data:";var a,o=(t=this.nodeDataArray).length;for(a=0;a<o;a++){var h=t[a];e+=" "+this.ja(h)+":"+g(h)}for(e+="\n link data:",o=(t=this.linkDataArray).length,a=0;a<o;a++)e+=" "+ds(this,h=t[a],!0)+"--\x3e"+ds(this,h,!1)}return e},q.Yw=function(t,e){""===this.linkKeyProperty&&R("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var o=ze.prototype.Yw.call(this,t,e),a=this,h=new At,c=new At,m=new At,x=this.Yh;t.changes.each(function(P){P.model===a&&("linkDataArray"===P.modelChange?P.change===hr?h.add(P.newValue):P.change===_i&&m.add(P.oldValue):a.xc(P.object)?c.add(P.object):null!==P.object&&(null!==P.object&&x&&x.contains(P.object)?x.get(P.object).each(function(N){a.xc(N)&&c.add(N)}):P.object instanceof ze||a.ab(P.object)||Xx(a,P.object).each(function(N){c.add(N)})))});var S=this.Li;S.clear(),h.each(function(P){S.add(a.Wb(P)),e||c.add(P)});var E=this.Oi;return E.clear(),m.each(function(P){E.add(a.Wb(P)),e&&c.add(P)}),t=a.cloneDeep(c.ma()),0<S.count&&(null===o&&(o={}),e?o.removedLinkKeys=S.ma():o.insertedLinkKeys=S.ma()),0<t.length&&(null===o&&(o={}),o.modifiedLinkData=t),0<E.count&&(null===o&&(o={}),e?o.insertedLinkKeys=E.ma():o.removedLinkKeys=E.ma()),E.clear(),S.clear(),o},q.Vk=function(){var t=ze.prototype.Vk.call(this),e="";return"category"!==this.linkCategoryProperty&&"string"==typeof this.linkCategoryProperty&&(e+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"==typeof this.linkKeyProperty&&(e+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"==typeof this.linkFromKeyProperty&&(e+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"==typeof this.linkToKeyProperty&&(e+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"==typeof this.linkFromPortIdProperty&&(e+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"==typeof this.linkToPortIdProperty&&(e+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"==typeof this.linkLabelKeysProperty&&(e+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"==typeof this.nodeIsGroupProperty&&(e+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"==typeof this.nodeGroupKeyProperty&&(e+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),t+e},q.Xq=function(t){ze.prototype.Xq.call(this,t),t.linkKeyProperty&&(this.linkKeyProperty=t.linkKeyProperty),t.linkFromKeyProperty&&(this.linkFromKeyProperty=t.linkFromKeyProperty),t.linkToKeyProperty&&(this.linkToKeyProperty=t.linkToKeyProperty),t.linkFromPortIdProperty&&(this.linkFromPortIdProperty=t.linkFromPortIdProperty),t.linkToPortIdProperty&&(this.linkToPortIdProperty=t.linkToPortIdProperty),t.linkCategoryProperty&&(this.linkCategoryProperty=t.linkCategoryProperty),t.linkLabelKeysProperty&&(this.linkLabelKeysProperty=t.linkLabelKeysProperty),t.nodeIsGroupProperty&&(this.nodeIsGroupProperty=t.nodeIsGroupProperty),t.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=t.nodeGroupKeyProperty)},q.Zw=function(){return ze.prototype.Zw.call(this)+',\n  "linkDataArray": '+fs(this,this.linkDataArray,!0)},q.rw=function(t){ze.prototype.rw.call(this,t),t=t.linkDataArray,Array.isArray(t)&&(this.Om(t),this.linkDataArray=t)},q.kr=function(t){if(!(t instanceof mi))return R("Model.computeJsonDifference: newmodel must be a GraphLinksModel"),"";""===this.linkKeyProperty&&R("GraphLinksModel.linkKeyProperty must not be an empty string for .computeJsonDifference() to succeed.");var e=ze.prototype.kr.call(this,t);Pc(this,t,"linkKeyProperty"),Pc(this,t,"linkFromKeyProperty"),Pc(this,t,"linkToKeyProperty"),Pc(this,t,"linkLabelKeysProperty"),Pc(this,t,"nodeIsGroupProperty"),Pc(this,t,"nodeGroupKeyProperty");var o=this.Li;o.clear();var a=new At,h=this.Oi;h.clear(),h.addAll(this.gb.iteratorKeys);for(var c=new ot,m=t.linkDataArray,x=m.length,S=0;S<x;S++){var E=m[S],P=t.Wb(E);if(void 0!==P){h.remove(P);var N=this.Dg(P);null===N?(o.add(P),a.add(E)):bp(this,N,E,c)||a.add(E)}else this.Rq(E),P=this.Wb(E),o.add(P),a.add(E)}return t=e,0<o.count&&(t+=this.su+fs(this,o.ma(),!0)),0<a.count&&(t+=this.kx+fs(this,a.ma(),!0)),0<h.count&&(t+=this.uu+fs(this,h.ma(),!0)),h.clear(),o.clear(),t},q.Xw=function(t,e){""===this.linkKeyProperty&&R("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var o=ze.prototype.Xw.call(this,t,e),a=this,h=new At,c=new At,m=new At,x=this.Yh;t.changes.each(function(P){P.model===a&&("linkDataArray"===P.modelChange?P.change===hr?h.add(P.newValue):P.change===_i&&m.add(P.oldValue):a.xc(P.object)?c.add(P.object):null!==P.object&&(null!==P.object&&x&&x.contains(P.object)?x.get(P.object).each(function(N){a.xc(N)&&c.add(N)}):P.object instanceof ze||a.ab(P.object)||Xx(a,P.object).each(function(N){c.add(N)})))});var S=this.Li;S.clear(),h.each(function(P){S.add(a.Wb(P)),e||c.add(P)});var E=this.Oi;return E.clear(),m.each(function(P){E.add(a.Wb(P)),e&&c.add(P)}),t=o,0<S.count&&(t+=(e?this.uu:this.su)+fs(this,S.ma(),!0)),0<c.count&&(t+=this.kx+fs(this,c.ma(),!0)),0<E.count&&(t+=(e?this.su:this.uu)+fs(this,E.ma(),!0)),E.clear(),S.clear(),t},q.Wq=function(t){(void 0!==t.linkCategoryProperty&&t.linkCategoryProperty!==this.linkCategoryProperty||void 0!==t.linkKeyProperty&&t.linkKeyProperty!==this.linkKeyProperty||void 0!==t.linkFromKeyProperty&&t.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==t.linkToKeyProperty&&t.linkToKeyProperty!==this.linkToKeyProperty||void 0!==t.linkFromPortIdProperty&&t.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==t.linkToPortIdProperty&&t.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==t.linkLabelKeysProperty&&t.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==t.nodeIsGroupProperty&&t.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==t.nodeGroupKeyProperty&&t.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&R("applyIncrementalJson cannot change Model properties"),ze.prototype.Wq.call(this,t);var e=t.insertedLinkKeys;if(Array.isArray(e))for(var o=e.length,a=0;a<o;a++){var h=e[a],c=this.Dg(h);null===c&&(c=this.Aq({}),this.iu(c,h),this.bj(c))}if(e=t.modifiedLinkData,Array.isArray(e))for(o=e.length,a=0;a<o;a++)if(c=this.Wb(h=e[a]),null!==(c=this.Dg(c))){for(var m in h)"__gohashid"!==m&&m!==this.linkKeyProperty&&this.setDataProperty(c,m,h[m]);Uf(this,h,c)}if(t=t.removedLinkKeys,Array.isArray(t))for(m=t.length,e=0;e<m;e++)null!==(o=this.Dg(t[e]))&&this.Mm(o)},mi.prototype.changeState=function(t,e){if(null!==t&&t.model===this){if(t.change===pn){var o=t.object,a=t.propertyName;if(a===this.linkKeyProperty&&this.xc(o)){var h=t.G(e);return void 0!==(e=t.G(!e))&&this.gb.remove(e),void 0!==h&&this.gb.add(h,o),void fn(o,a,h)}}else if(t.change===hr){if(o=t.newParam,"linkDataArray"===t.modelChange)return void(ht(t=t.newValue)&&"number"==typeof o&&(a=this.Wb(t),e?(this.ag.remove(t),this.$c[o]===t&&this.$c.splice(o,1),void 0!==a&&this.gb.remove(a)):(this.ag.add(t),this.$c[o]!==t&&this.$c.splice(o,0,t),void 0!==a&&this.gb.add(a,t))));if("linkLabelKeys"===t.modelChange)return a=this.Bf(t.object),void(Array.isArray(a)&&"number"==typeof o&&(e?(o=a.indexOf(t.newValue),0<=o&&a.splice(o,1)):0>a.indexOf(t.newValue)&&a.splice(o,0,t.newValue)))}else if(t.change===_i){if(o=t.oldParam,"linkDataArray"===t.modelChange)return void(ht(t=t.oldValue)&&"number"==typeof o&&(a=this.Wb(t),e?(this.ag.add(t),this.$c[o]!==t&&this.$c.splice(o,0,t),void 0!==a&&this.gb.add(a,t)):(this.ag.remove(t),this.$c[o]===t&&this.$c.splice(o,1),void 0!==a&&this.gb.remove(a))));if("linkLabelKeys"===t.modelChange)return a=this.Bf(t.object),void(Array.isArray(a)&&"number"==typeof o&&(e?0>a.indexOf(t.newValue)&&a.splice(o,0,t.newValue):(o=a.indexOf(t.newValue),0<=o&&a.splice(o,1))))}ze.prototype.changeState.call(this,t,e)}},(q=mi.prototype).Gm=function(t){if(void 0!==t){var e=this.Aj;if(null!==e){var o=this.Kb(t);null===o&&(fn(o=this.copyNodeData(e),this.nodeKeyProperty,t),this.uf(o))}return t}},q.xy=function(t){return ds(this,t,!0)},q.Bw=function(t,e){zf(this,t,e,!0)},q.Ay=function(t){return ds(this,t,!1)},q.Gw=function(t,e){zf(this,t,e,!1)},q.yy=function(t){return ty(this,t,!0)},q.Cw=function(t,e){Ic(this,t,e,!0)},q.By=function(t){return ty(this,t,!1)},q.Hw=function(t,e){Ic(this,t,e,!1)},q.Bf=function(t){if(null===t)return wm;var e=this.ae;return""===e||void 0===(t=Vn(t,e))?wm:t},q.ju=function(t,e){if(null!==t){var o=this.ae;if(""!==o)if(this.xc(t)){var a=Vn(t,o);if(void 0===a&&(a=wm),a!==e){if(Array.isArray(a))for(var h=a.length,c=0;c<h;c++)ga(this,a[c],t);for(fn(t,o,e),h=e.length,c=0;c<h;c++){var m=e[c];null===this.Kb(m)&&Pa(this,m,t)}rr(this,"linkLabelKeys",pn,o,t,a,e),"string"==typeof o&&this.Ea(t,o)}}else fn(t,o,e)}},q.Dv=function(t,e){if(null!=e&&null!==t){var o=this.ae;if(""!==o){var a=Vn(t,o);if(void 0===a)(o=[]).push(e),this.ju(t,o);else if(Array.isArray(a)){var h=a.indexOf(e);0<=h||(h=a.length,a.push(e),this.xc(t)&&(null===this.Kb(e)&&Pa(this,e,t),rr(this,"linkLabelKeys",hr,o,t,null,e,null,h)))}else R(o+" property is not an Array; cannot addLabelKeyForLinkData: "+t)}}},q.Oy=function(t,e){if(null!=e&&null!==t){var o=this.ae;if(""!==o){var a=Vn(t,o);if(Array.isArray(a)){var h=a.indexOf(e);0>h||(a.splice(h,1),this.xc(t)&&(ga(this,e,t),rr(this,"linkLabelKeys",_i,o,t,e,null,h,null)))}else void 0!==a&&R(o+" property is not an Array; cannot removeLabelKeyforLinkData: "+t)}}},q.Wb=function(t){if(null!==t){var e=this.Hi;if(""!==e&&void 0!==(e=Vn(t,e))){if(ju(e))return e;R("Key value for link data "+t+" is not a number or a string: "+e)}}},q.iu=function(t,e){if(null!==t){var o=this.Hi;if(""!==o)if(this.xc(t)){var a=Vn(t,o);a!==e&&null===this.Dg(e)&&(fn(t,o,e),void 0!==a&&this.gb.remove(a),this.gb.add(e,t),rr(this,"linkKey",pn,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else fn(t,o,e)}},q.Dg=function(t){return null===t&&R("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==t&&ju(t)?this.gb.G(t):null},q.Rq=function(t){if(null!==t){var e=this.Hi;if(""!==e){var o=this.Wb(t);if(void 0===o||this.gb.contains(o)){var a=this.Ql;if(null!==a&&null!=(o=a(this,t))&&!this.gb.contains(o))return void fn(t,e,o);if("string"==typeof o){for(a=2;this.gb.contains(o+a);)a++;fn(t,e,o+a)}else if(void 0===o||"number"==typeof o){for(o=-this.gb.count-1;this.gb.contains(o);)o--;fn(t,e,o)}}}}},q.xc=function(t){return null!==t&&this.ag.contains(t)},q.bj=function(t){null!==t&&(Oe(t),this.xc(t)||nM(this,t,!0))},q.pz=function(t){if(Array.isArray(t))for(var e=t.length,o=0;o<e;o++)this.bj(t[o]);else for(t=t.iterator;t.next();)this.bj(t.value)},q.Mm=function(t){null!==t&&rM(this,t,!0)},q.UA=function(t){if(Array.isArray(t))for(var e=t.length,o=0;o<e;o++)this.Mm(t[o]);else for(t=t.iterator;t.next();)this.Mm(t.value)},q.JA=function(t){if(""===this.linkKeyProperty&&R("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),t!==this.linkDataArray&&mt(t)){var e=this.Oi;e.clear(),e.addAll(this.gb.iteratorKeys);var o=this.Li;o.clear();for(var a=t.length,h=0;h<a;h++){var c=t[h],m=this.Wb(c);if(void 0!==m){o.add(m);var x=this.Dg(m);x!==c&&(null!==x?(this.vq(x,c),Uf(this,c,x)):(c=this.cloneDeep(c),this.iu(c,m),this.bj(c)))}else m=this.cloneDeep(c),this.bj(m),o.add(this.Wb(m))}for(t=e.iterator;t.next();)o.contains(a=t.value)||(a=this.Dg(a))&&this.Mm(a);e.clear(),o.clear()}},q.Aq=function(t){if(null===t)return null;var e=this.hl;return ht(t=null!==e?e(t,this):ym(this,t,!0))&&(Kt(t),""!==this.af&&fn(t,this.af,void 0),""!==this.bf&&fn(t,this.bf,void 0),""!==this.ae&&fn(t,this.ae,[])),t},q.fw=function(t){if(null===t)return!1;var e=this.Ul;return""!==e&&!!Vn(t,e)},q.Lh=function(t){if(null!==t){var e=this.ze;if(""!==e&&void 0!==(e=Vn(t,e))){if(ju(e))return e;R("GroupKey value for node data "+t+" is not a number or a string: "+e)}}},q.dr=function(t,e){if(null===e&&(e=void 0),null!==t){var o=this.ze;if(""!==o)if(this.ab(t)){var a=Vn(t,o);a!==e&&(ga(this,a,t),fn(t,o,e),null===this.Kb(e)&&Pa(this,e,t),rr(this,"nodeGroupKey",pn,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else fn(t,o,e)}},mi.prototype.copyNodeData=function(t){return null===t?null:(t=ze.prototype.copyNodeData.call(this,t),this.rk||""===this.ze||void 0===Vn(t,this.ze)||fn(t,this.ze,void 0),t)},mi.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o);if(e===this.nodeGroupKeyProperty)return void this.dr(t,o)}else if(this.xc(t)){if(e===this.linkFromKeyProperty)return void zf(this,t,o,!0);if(e===this.linkToKeyProperty)return void zf(this,t,o,!1);if(e===this.linkFromPortIdProperty)return void Ic(this,t,o,!0);if(e===this.linkToPortIdProperty)return void Ic(this,t,o,!1);if(e===this.linkKeyProperty)return void this.iu(t,o);if(e===this.linkCategoryProperty)return void this.cr(t,o);if(e===this.linkLabelKeysProperty)return void this.ju(t,o)}var a=Vn(t,e);a!==o&&(fn(t,e,o),this.du(t,e,a,o))},(q=mi.prototype).vq=function(t,e){if(e){var h,o=this.ab(t),a=this.xc(t);for(h in e)"__gohashid"===h||o&&h===this.nodeKeyProperty||o&&h===this.nodeIsGroupProperty&&Vn(t,h)===e[h]||a&&h===this.linkKeyProperty||this.setDataProperty(t,h,e[h])}},q.ar=function(t,e){ze.prototype.ar.call(this,t,e);for(var o=this.Wa.iterator;o.next();)this.vw(o.value,t,e);for(o=this.ag.iterator;o.next();){var a=o.value,h=t,c=e;if(ds(this,a,!0)===h){var m=this.af;fn(a,m,c),rr(this,"linkFromKey",pn,m,a,h,c),"string"==typeof m&&this.Ea(a,m)}if(ds(this,a,!1)===h&&(fn(a,m=this.bf,c),rr(this,"linkToKey",pn,m,a,h,c),"string"==typeof m&&this.Ea(a,m)),m=this.Bf(a),Array.isArray(m))for(var x=m.length,S=this.ae,E=0;E<x;E++)m[E]===h&&(m[E]=c,rr(this,"linkLabelKeys",hr,S,a,h,c,E,E))}},q.vw=function(t,e,o){if(this.Lh(t)===e){var a=this.ze;fn(t,a,o),rr(this,"nodeGroupKey",pn,a,t,e,o),"string"==typeof a&&this.Ea(t,a)}},q.Sw=function(){ze.prototype.Sw.call(this);for(var t=this.linkDataArray,e=t.length,o=0;o<e;o++)ey(this,t[o])},q.Qm=function(t){ze.prototype.Qm.call(this,t);var e=Cp(this,t=this.ja(t));if(null!==e){var o=u();for(e=e.iterator;e.next();){var a=e.value;if(this.ab(a)){if(this.Lh(a)===t){var h=this.ze;rr(this,"nodeGroupKey",pn,h,a,t,t),"string"==typeof h&&this.Ea(a,h),o.push(a)}}else if(ds(this,a,!0)===t&&(rr(this,"linkFromKey",pn,h=this.af,a,t,t),"string"==typeof h&&this.Ea(a,h),o.push(a)),ds(this,a,!1)===t&&(rr(this,"linkToKey",pn,h=this.bf,a,t,t),"string"==typeof h&&this.Ea(a,h),o.push(a)),h=this.Bf(a),Array.isArray(h))for(var c=h.length,m=this.ae,x=0;x<c;x++)h[x]===t&&(rr(this,"linkLabelKeys",hr,m,a,t,t,x,x),o.push(a))}for(e=0;e<o.length;e++)ga(this,t,o[e]);p(o)}},q.Pm=function(t){ze.prototype.Pm.call(this,t);var e=this.Lh(t);null===this.Kb(e)&&Pa(this,e,t)},q.hr=function(t){ze.prototype.hr.call(this,t),ga(this,this.Lh(t),t)},q.Lt=function(t){if(null===t)return"";var e=this.Tj;return""===e||void 0===(e=Vn(t,e))?"":"string"==typeof e?e:(R("getCategoryForLinkData found a non-string category for "+t+": "+e),"")},mi.prototype.getLinkCategoryForData=function(t){return this.Lt(t)},mi.prototype.cr=function(t,e){if(null!==t){var o=this.Tj;if(""!==o)if(this.xc(t)){var a=Vn(t,o);void 0===a&&(a=""),a!==e&&(fn(t,o,e),rr(this,"linkCategory",pn,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else fn(t,o,e)}},mi.prototype.setLinkCategoryForData=function(t,e){this.cr(t,e)},(q=mi.prototype).Wm=function(t,e){ze.prototype.Wm.call(this,t,e),this.dr(e,this.Lh(t))},q.Ck=function(){return!0},q.qj=function(){return!0},q.Ut=function(){return!0},q.Dk=function(){return!0},B.Object.defineProperties(mi.prototype,{archetypeNodeData:{get:function(){return this.Aj},set:function(t){var e=this.Aj;e!==t&&(this.Aj=t,this.g("archetypeNodeData",e,t))}},linkFromKeyProperty:{get:function(){return this.af},set:function(t){var e=this.af;e!==t&&(this.af=t,this.g("linkFromKeyProperty",e,t))}},linkToKeyProperty:{get:function(){return this.bf},set:function(t){var e=this.bf;e!==t&&(this.bf=t,this.g("linkToKeyProperty",e,t))}},linkFromPortIdProperty:{get:function(){return this.Uj},set:function(t){var e=this.Uj;e!==t&&(this.Uj=t,this.g("linkFromPortIdProperty",e,t))}},linkToPortIdProperty:{get:function(){return this.Vj},set:function(t){var e=this.Vj;e!==t&&(this.Vj=t,this.g("linkToPortIdProperty",e,t))}},linkLabelKeysProperty:{get:function(){return this.ae},set:function(t){var e=this.ae;e!==t&&(this.ae=t,this.g("linkLabelKeysProperty",e,t))}},linkDataArray:{get:function(){return this.$c},set:function(t){var e=this.$c;if(e!==t){this.gb.clear();for(var o=t.length,a=0;a<o;a++){var h=t[a];if(!ht(h))return void R("GraphLinksModel.linkDataArray must only contain Objects, not: "+h);Oe(h)}if(this.$c=t,""!==this.linkKeyProperty){for(a=new St,h=0;h<o;h++){var c=t[h],m=this.Wb(c);void 0===m||null!==this.gb.G(m)?a.add(c):this.gb.add(m,c)}for(a=a.iterator;a.next();)this.Rq(h=a.value),void 0!==(c=this.Wb(h))&&this.gb.add(c,h)}for(a=new At,h=0;h<o;h++)a.add(t[h]);for(this.ag=a,rr(this,"linkDataArray",pn,"linkDataArray",this,e,t),e=0;e<o;e++)ey(this,t[e])}}},linkKeyProperty:{get:function(){return this.Hi},set:function(t){var e=this.Hi;if(e!==t){this.Hi=t,this.gb.clear();for(var o=this.linkDataArray.length,a=0;a<o;a++){var h=this.linkDataArray[a],c=this.Wb(h);void 0===c&&(this.Rq(h),c=this.Wb(h)),void 0!==c&&this.gb.add(c,h)}this.g("linkKeyProperty",e,t)}}},makeUniqueLinkKeyFunction:{get:function(){return this.Ql},set:function(t){var e=this.Ql;e!==t&&(this.Ql=t,this.g("makeUniqueLinkKeyFunction",e,t))}},copyLinkDataFunction:{get:function(){return this.hl},set:function(t){var e=this.hl;e!==t&&(this.hl=t,this.g("copyLinkDataFunction",e,t))}},nodeIsGroupProperty:{get:function(){return this.Ul},set:function(t){var e=this.Ul;e!==t&&(this.Ul=t,this.g("nodeIsGroupProperty",e,t))}},nodeGroupKeyProperty:{get:function(){return this.ze},set:function(t){var e=this.ze;e!==t&&(this.ze=t,this.g("nodeGroupKeyProperty",e,t))}},rk:{get:function(){return this.En},set:function(t){this.En!==t&&(this.En=t)}},linkCategoryProperty:{get:function(){return this.Tj},set:function(t){var e=this.Tj;e!==t&&(this.Tj=t,this.g("linkCategoryProperty",e,t))}},type:{get:function(){return"GraphLinksModel"}}}),mi.prototype.setCategoryForLinkData=mi.prototype.cr,mi.prototype.getCategoryForLinkData=mi.prototype.Lt,mi.prototype.assignAllDataProperties=mi.prototype.vq,mi.prototype.setGroupKeyForNodeData=mi.prototype.dr,mi.prototype.getGroupKeyForNodeData=mi.prototype.Lh,mi.prototype.isGroupForNodeData=mi.prototype.fw,mi.prototype.copyLinkData=mi.prototype.Aq,mi.prototype.mergeLinkDataArray=mi.prototype.JA,mi.prototype.removeLinkDataCollection=mi.prototype.UA,mi.prototype.removeLinkData=mi.prototype.Mm,mi.prototype.addLinkDataCollection=mi.prototype.pz,mi.prototype.addLinkData=mi.prototype.bj,mi.prototype.containsLinkData=mi.prototype.xc,mi.prototype.makeLinkDataKeyUnique=mi.prototype.Rq,mi.prototype.findLinkDataForKey=mi.prototype.Dg,mi.prototype.setKeyForLinkData=mi.prototype.iu,mi.prototype.getKeyForLinkData=mi.prototype.Wb,mi.prototype.removeLabelKeyForLinkData=mi.prototype.Oy,mi.prototype.addLabelKeyForLinkData=mi.prototype.Dv,mi.prototype.setLabelKeysForLinkData=mi.prototype.ju,mi.prototype.getLabelKeysForLinkData=mi.prototype.Bf,mi.prototype.setToPortIdForLinkData=mi.prototype.Hw,mi.prototype.getToPortIdForLinkData=mi.prototype.By,mi.prototype.setFromPortIdForLinkData=mi.prototype.Cw,mi.prototype.getFromPortIdForLinkData=mi.prototype.yy,mi.prototype.setToKeyForLinkData=mi.prototype.Gw,mi.prototype.getToKeyForLinkData=mi.prototype.Ay,mi.prototype.setFromKeyForLinkData=mi.prototype.Bw,mi.prototype.getFromKeyForLinkData=mi.prototype.xy,mi.prototype.clear=mi.prototype.clear;var wm=Object.freeze([]);function ho(t){ze.call(this),this.Ae="parent",this.Gn=!1,this.$j="parentLinkCategory",void 0!==t&&(this.nodeDataArray=t)}function Sn(){Ai.call(this),this.wx=this.Un=this.$b=0,this.Ur=360,this.vx=Ts,this.Ij=0,this.mx=new J,this.Gr=this.be=0,this.ut=new Sm,this.Bu=this.Zj=0,this.gz=600,this.Ap=NaN,this.pn=1,this.bq=0,this.mm=360,this.Eb=Ts,this.K=Qr,this.bd=Gf,this.Wc=jv,this.lf=6,this.jp=Cm}function Jh(t,e,o,a,h){var c=t.Ur,m=t.$b;t=t.be,a=a*Math.PI/180,o=o*Math.PI/180;for(var x=e.length,S=0;S<x;S++){var E=a+(h===Qr?S*o/(360<=c?x:x-1):-S*o/x),P=e.J(S),N=m*Math.tan(E)/t;N=Math.sqrt((m*m+t*t*N*N)/(1+N*N)),P.centerX=N*Math.cos(E),P.centerY=N*Math.sin(E),P.actualAngle=180*E/Math.PI}}function _m(t,e,o,a){var h=t.$b,c=t.be,m=t.Ij;o=o*Math.PI/180;for(var x=e.length,S=0;S<x;S++){var E=e.J(S),P=e.J(S===x-1?0:S+1),N=c*Math.sin(o);E.centerX=h*Math.cos(o),E.centerY=N,E.actualAngle=180*o/Math.PI,isNaN(E.diameter)&&Uu(E,0),isNaN(P.diameter)&&Uu(P,0),E=Ol(t,h,c,a===Qr?o:-o,(E.diameter+P.diameter)/2+m),o+=a===Qr?E:-E}}function bm(t,e,o,a){var h=t.$b,c=t.be,m=t.Gr;o=o*Math.PI/180;for(var x=e.length,S=0;S<x;S++){var E=e.J(S);E.centerX=h*Math.cos(o),E.centerY=c*Math.sin(o),E.actualAngle=180*o/Math.PI,E=Ol(t,h,c,a===Qr?o:-o,m),o+=a===Qr?E:-E}}function oM(t,e,o,a,h){var c=t.Ur;if(t.Zj=0,t.ut=new Sm,360>o){for(c=a+(h===Qr?c:-c);0>c;)c+=360;180<(c%=360)&&(c-=360),c*=Math.PI/180,t.Bu=c,SS(t,e,o,a,h)}else sM(t,e,o,a,h);t.ut.commit(e)}function sM(t,e,o,a,h){var c=t.$b,m=t.Ij,x=t.Un,S=c*Math.cos(a*Math.PI/180),E=t.be*Math.sin(a*Math.PI/180),P=e.ma();if(3===P.length)P[0].centerX=c,P[0].centerY=0,P[1].centerX=P[0].centerX-P[0].width/2-P[1].width/2-m,P[1].y=P[0].y,P[2].centerX=(P[0].centerX+P[1].centerX)/2,P[2].y=P[0].y-P[2].height-m;else if(4===P.length)P[0].centerX=c,P[0].centerY=0,P[2].centerX=-P[0].centerX,P[2].centerY=P[0].centerY,P[1].centerX=0,P[1].y=Math.min(P[0].y,P[2].y)-P[1].height-m,P[3].centerX=0,P[3].y=Math.max(P[0].y+P[0].height+m,P[2].y+P[2].height+m);else{c=J.alloc();for(var N=0;N<P.length&&(P[N].centerX=S,P[N].centerY=E,!(N>=P.length-1));N++)aM(t,S,E,P,N,h,c)||Kx(t,S,E,P,N,h,c),S=c.x,E=c.y;if(J.free(c),t.Zj++,!(23<t.Zj)){S=P[0].centerX,E=P[0].centerY,c=P[P.length-1].centerX,N=P[P.length-1].centerY;var nt=Math.abs(S-c)-((P[0].width+P[P.length-1].width)/2+m),at=Math.abs(E-N)-((P[0].height+P[P.length-1].height)/2+m);m=0,1>Math.abs(at)?Math.abs(S-c)<(P[0].width+P[P.length-1].width)/2&&(m=0):m=0<at?at:1>Math.abs(nt)?0:nt,S=Math.abs(c)>Math.abs(N)?0<c!=E>N:0<N!=S<c,(S=h===Qr?S:!S)&&(m=-Math.abs(m),m=Math.min(m,-P[P.length-1].width),m=Math.min(m,-P[P.length-1].height)),t.ut.compare(m,P),1<Math.abs(m)&&(t.$b=8>t.Zj?t.$b-m/(2*Math.PI):5>P.length&&10<m?t.$b/2:t.$b-(0<m?1.7:-2.3),t.be=t.$b*x,sM(t,e,o,a,h))}}}function SS(t,e,o,a,h){for(var c=t.$b,m=t.be,x=t.Un,S=c*Math.cos(a*Math.PI/180),E=m*Math.sin(a*Math.PI/180),P=J.alloc(),N=e.ma(),nt=0;nt<N.length&&(N[nt].centerX=S,N[nt].centerY=E,!(nt>=N.length-1));nt++)aM(t,S,E,N,nt,h,P)||Kx(t,S,E,N,nt,h,P),S=P.x,E=P.y;if(J.free(P),t.Zj++,!(23<t.Zj)){if(S=Math.atan2(E,S),S=h===Qr?t.Bu-S:S-t.Bu,c=(S=Math.abs(S)<Math.abs(S-2*Math.PI)?S:S-2*Math.PI)*(c+m)/2,m=t.ut,Math.abs(c)<Math.abs(m.Am))for(m.Am=c,m.Wk=[],m.cn=[],S=0;S<N.length;S++)m.Wk[S]=N[S].bounds.x,m.cn[S]=N[S].bounds.y;1<Math.abs(c)&&(t.$b=8>t.Zj?t.$b-c/(2*Math.PI):t.$b-(0<c?1.7:-2.3),t.be=t.$b*x,SS(t,e,o,a,h))}}function aM(t,e,o,a,h,c,m){var x=t.$b,S=t.be,E=0;t=(a[h].width+a[h+1].width)/2+t.Ij;var P=!1;if(0<=o!=(c===Qr)){if((c=e+t)>x){if((c=e-t)<-x)return m.x=c,m.y=E,!1;P=!0}}else if((c=e-t)<-x){if((c=e+t)>x)return m.x=c,m.y=E,!1;P=!0}return E=Math.sqrt(1-Math.min(1,c*c/(x*x)))*S,0>o!==P&&(E=-E),Math.abs(o-E)>(a[h].height+a[h+1].height)/2?(m.x=c,m.y=E,!1):(m.x=c,m.y=E,!0)}function Kx(t,e,o,a,h,c,m){var x=t.$b,S=t.be,E=0;if(t=(a[h].height+a[h+1].height)/2+t.Ij,a=!1,0<=e!=(c===Qr)){if((c=o-t)<-S){if((c=o+t)>S)return m.x=E,void(m.y=c);a=!0}}else if((c=o+t)>S){if((c=o-t)<-S)return m.x=E,void(m.y=c);a=!0}E=Math.sqrt(1-Math.min(1,c*c/(S*S)))*x,0>e!==a&&(E=-E),m.x=E,m.y=c}function Kn(t,e,o,a,h){var c=t.gz;if(.001>Math.abs(t.Un-1))return void 0!==a&&void 0!==h?h*e:2*Math.PI*e;t=e>o?Math.sqrt(e*e-o*o)/e:Math.sqrt(o*o-e*e)/o;for(var m=0,x=void 0!==a&&void 0!==h?h/(c+1):Math.PI/(2*(c+1)),S=0,E=0;E<=c;E++){S=void 0!==a&&void 0!==h?a+E*h/c:E*Math.PI/(2*c);var P=Math.sin(S);m+=Math.sqrt(1-t*t*P*P)*x}return void 0!==a&&void 0!==h?(e>o?e:o)*m:4*(e>o?e:o)*m}function Dp(t,e,o,a,h){return e/(void 0!==a&&void 0!==h?Kn(t,1,o,a,h):Kn(t,1,o))}function Ol(t,e,o,a,h){if(.001>Math.abs(t.Un-1))return h/e;var c=e>o?Math.sqrt(e*e-o*o)/e:Math.sqrt(o*o-e*e)/o,m=0;t=2*Math.PI/(700*t.network.vertexes.count),e>o&&(a+=Math.PI/2);for(var x=0;;x++){var S=Math.sin(a+x*t);if((m+=(e>o?e:o)*Math.sqrt(1-c*c*S*S)*t)>=h)return x*t}}mi.className="GraphLinksModel",Ia.GraphLinksModel=mi,ze.constructGraphLinksModel=ze.constructGraphLinksModel=function(){return new mi},ze.initDiagramModel=Jv=function(){return new mi},z(ho,ze),ho.constructGraphLinksModel=ze.constructGraphLinksModel,ho.prototype.cloneProtected=function(t){ze.prototype.cloneProtected.call(this,t),t.Ae=this.Ae,t.Gn=this.Gn,t.$j=this.$j},(q=ho.prototype).toString=function(t){if(void 0===t&&(t=0),2<=t)return this.fr();var e=(""!==this.name?this.name:"")+" TreeModel";if(0<t){e+="\n node data:";for(var o=(t=this.nodeDataArray).length,a=0;a<o;a++){var h=t[a];e+=" "+this.ja(h)+":"+g(h)}}return e},q.Vk=function(){var t=ze.prototype.Vk.call(this),e="";return"parent"!==this.nodeParentKeyProperty&&"string"==typeof this.nodeParentKeyProperty&&(e+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),t+e},q.Xq=function(t){ze.prototype.Xq.call(this,t),t.nodeParentKeyProperty&&(this.nodeParentKeyProperty=t.nodeParentKeyProperty)},q.kr=function(t){return Pc(this,t,"nodeParentKeyProperty"),ze.prototype.kr.call(this,t)},q.Wq=function(t){void 0!==t.nodeParentKeyProperty&&t.nodeParentKeyProperty!==this.nodeParentKeyProperty&&R("applyIncrementalJson cannot change Model properties"),ze.prototype.Wq.call(this,t)},q.Gm=function(t){return t},q.Mh=function(t){if(null!==t){var e=this.Ae;if(""!==e&&void 0!==(e=Vn(t,e))){if(ju(e))return e;R("ParentKey value for node data "+t+" is not a number or a string: "+e)}}},q.fe=function(t,e){if(null===e&&(e=void 0),null!==t){var o=this.Ae;if(""!==o)if(e=this.Gm(e),this.ab(t)){var a=Vn(t,o);a!==e&&(ga(this,a,t),fn(t,o,e),null===this.Kb(e)&&Pa(this,e,t),rr(this,"nodeParentKey",pn,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else fn(t,o,e)}},q.Ot=function(t){if(null===t)return"";var e=this.$j;return""===e||void 0===(e=Vn(t,e))?"":"string"==typeof e?e:(R("getParentLinkCategoryForNodeData found a non-string category for "+t+": "+e),"")},ho.prototype.getLinkCategoryForData=function(t){return this.Ot(t)},ho.prototype.ku=function(t,e){if(null!==t){var o=this.$j;if(""!==o)if(this.ab(t)){var a=Vn(t,o);void 0===a&&(a=""),a!==e&&(fn(t,o,e),rr(this,"parentLinkCategory",pn,o,t,a,e),"string"==typeof o&&this.Ea(t,o))}else fn(t,o,e)}},ho.prototype.setLinkCategoryForData=function(t,e){this.ku(t,e)},ho.prototype.copyNodeData=function(t){return null===t?null:(t=ze.prototype.copyNodeData.call(this,t),this.sk||""===this.Ae||void 0===Vn(t,this.Ae)||fn(t,this.Ae,void 0),t)},ho.prototype.setDataProperty=function(t,e,o){if(this.ab(t)){if(e===this.nodeKeyProperty)return void this.Vm(t,o);if(e===this.nodeCategoryProperty)return void this.Um(t,o);if(e===this.nodeParentKeyProperty)return void this.fe(t,o)}var a=Vn(t,e);a!==o&&(fn(t,e,o),this.du(t,e,a,o))},(q=ho.prototype).ar=function(t,e){ze.prototype.ar.call(this,t,e);for(var o=this.Wa.iterator;o.next();)this.vw(o.value,t,e)},q.vw=function(t,e,o){if(this.Mh(t)===e){var a=this.Ae;fn(t,a,o),rr(this,"nodeParentKey",pn,a,t,e,o),"string"==typeof a&&this.Ea(t,a)}},q.Qm=function(t){ze.prototype.Qm.call(this,t);var e=Cp(this,t=this.ja(t));if(null!==e){var o=u();for(e=e.iterator;e.next();){var a=e.value;if(this.ab(a)&&this.Mh(a)===t){var h=this.Ae;rr(this,"nodeParentKey",pn,h,a,t,t),"string"==typeof h&&this.Ea(a,h),o.push(a)}}for(e=0;e<o.length;e++)ga(this,t,o[e]);p(o)}},q.Pm=function(t){ze.prototype.Pm.call(this,t);var e=this.Mh(t);e=this.Gm(e),null===this.Kb(e)&&Pa(this,e,t)},q.hr=function(t){ze.prototype.hr.call(this,t),ga(this,this.Mh(t),t)},q.Wm=function(t,e){ze.prototype.Wm.call(this,t,e),this.ku(e,this.Ot(t)),this.fe(e,this.Mh(t))},q.Em=function(){return!0},q.Ut=function(){return!0},B.Object.defineProperties(ho.prototype,{nodeParentKeyProperty:{get:function(){return this.Ae},set:function(t){var e=this.Ae;e!==t&&(this.Ae=t,this.g("nodeParentKeyProperty",e,t))}},sk:{get:function(){return this.Gn},set:function(t){this.Gn!==t&&(this.Gn=t)}},parentLinkCategoryProperty:{get:function(){return this.$j},set:function(t){var e=this.$j;e!==t&&(this.$j=t,this.g("parentLinkCategoryProperty",e,t))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(t){this.parentLinkCategoryProperty=t}},type:{get:function(){return"TreeModel"}}}),ho.prototype.setParentLinkCategoryForNodeData=ho.prototype.ku,ho.prototype.getParentLinkCategoryForNodeData=ho.prototype.Ot,ho.prototype.setParentKeyForNodeData=ho.prototype.fe,ho.prototype.getParentKeyForNodeData=ho.prototype.Mh,ho.className="TreeModel",Ia.TreeModel=ho,z(Sn,Ai),Sn.prototype.cloneProtected=function(t){Ai.prototype.cloneProtected.call(this,t),t.Ap=this.Ap,t.pn=this.pn,t.bq=this.bq,t.mm=this.mm,t.Eb=this.Eb,t.K=this.K,t.bd=this.bd,t.Wc=this.Wc,t.lf=this.lf,t.jp=this.jp},Sn.prototype.jb=function(t){t.classType===Sn?t===kp||t===Mm||t===iy||t===Rc||t===Gf?this.sorting=t:t===zu||t===Ep||t===Qr||t===tu?this.direction=t:t===Qh||t===Hu||t===Ts||t===$s?this.arrangement=t:(t===Oc||t===Cm)&&(this.nodeDiameterFormula=t):Ai.prototype.jb.call(this,t)},Sn.prototype.createNetwork=function(){return new Ap(this)},Sn.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(t=this.network.vertexes).count)1===t.count&&((t=t.first()).centerX=0,t.centerY=0);else{var e=new St;e.addAll(t.iterator),t=new St;var h,c,o=new St,a=this.sort(e),m=this.Gr,x=this.arrangement,S=this.nodeDiameterFormula,E=this.radius;(!isFinite(E)||0>=E)&&(E=NaN);var P=this.aspectRatio;(!isFinite(P)||0>=P)&&(P=1);var N=this.startAngle;isFinite(N)||(N=0);var nt=this.sweepAngle;if((!isFinite(nt)||360<nt||1>nt)&&(nt=360),e=this.spacing,isFinite(e)||(e=NaN),x===$s&&S===Oc?x=Ts:x===$s&&S!==Oc&&(x=this.arrangement),(this.direction===zu||this.direction===Ep)&&this.sorting!==Gf){for(S=0;!(S>=a.length||(t.add(a.J(S)),S+1>=a.length));S+=2)o.add(a.J(S+1));this.direction===zu?(this.arrangement===$s&&t.reverse(),(a=new St).addAll(t),a.addAll(o)):(this.arrangement===$s&&o.reverse(),(a=new St).addAll(o),a.addAll(t))}S=a.length;for(var at=c=h=0;at<a.length;at++){var rt=N+nt*c*(this.direction===Qr?1:-1)/S,_t=a.J(at).diameter;isNaN(_t)&&(_t=Uu(a.J(at),rt)),360>nt&&(0===at||at===a.length-1)&&(_t/=2),h+=_t,c++}if(isNaN(E)||x===$s){if(isNaN(e)&&(e=6),x!==Ts&&x!==$s){for(c=-1/0,m=0;m<S;m++)at=a.J(m),h=a.J(m===S-1?0:m+1),isNaN(at.diameter)&&Uu(at,0),isNaN(h.diameter)&&Uu(h,0),c=Math.max(c,(at.diameter+h.diameter)/2);m=c+e,E=x===Qh?(c+e)/(2*Math.PI/S):Dp(this,m*(360<=nt?S:S-1),P,N*Math.PI/180,nt*Math.PI/180)}else E=Dp(this,h+(360<=nt?S:S-1)*(x!==$s?e:1.6*e),P,N*Math.PI/180,nt*Math.PI/180);c=E*P}else if(at=Kn(this,E,c=E*P,N*Math.PI/180,nt*Math.PI/180),isNaN(e))(x===Ts||x===$s)&&(e=(at-h)/(360<=nt?S:S-1));else if(x===Ts||x===$s)(at=(at-h)/(360<=nt?S:S-1))<e?c=(E=Dp(this,h+e*(360<=nt?S:S-1),P,N*Math.PI/180,nt*Math.PI/180))*P:e=at;else{for(m=-1/0,h=0;h<S;h++)rt=a.J(h),_t=a.J(h===S-1?0:h+1),isNaN(rt.diameter)&&Uu(rt,0),isNaN(_t.diameter)&&Uu(_t,0),m=Math.max(m,(rt.diameter+_t.diameter)/2);(h=Dp(this,(m+=e)*(360<=nt?S:S-1),P,N*Math.PI/180,nt*Math.PI/180))>E?c=(E=h)*P:m=at/(360<=nt?S:S-1)}if(this.vx=x,this.$b=E,this.Un=P,this.wx=N,this.Ur=nt,this.Ij=e,this.be=c,this.Gr=m,e=a,a=this.vx,x=this.$b,E=this.wx,P=this.Ur,N=this.Ij,nt=this.be,S=this.Gr,this.direction!==zu&&this.direction!==Ep||a!==$s)if(this.direction===zu||this.direction===Ep){switch(m=0,a){case Hu:m=180*Ol(this,x,nt,E,S)/Math.PI;break;case Ts:S=e=0,null!==(m=t.first())&&(e=Uu(m,Math.PI/2)),null!==(m=o.first())&&(S=Uu(m,Math.PI/2)),m=180*Ol(this,x,nt,E,N+(e+S)/2)/Math.PI;break;case Qh:m=P/e.length}if(this.direction===zu){switch(a){case Hu:bm(this,t,E,tu);break;case Ts:_m(this,t,E,tu);break;case Qh:Jh(this,t,P/2,E,tu)}switch(a){case Hu:bm(this,o,E+m,Qr);break;case Ts:_m(this,o,E+m,Qr);break;case Qh:Jh(this,o,P/2,E+m,Qr)}}else{switch(a){case Hu:bm(this,o,E,tu);break;case Ts:_m(this,o,E,tu);break;case Qh:Jh(this,o,P/2,E,tu)}switch(a){case Hu:bm(this,t,E+m,Qr);break;case Ts:_m(this,t,E+m,Qr);break;case Qh:Jh(this,t,P/2,E+m,Qr)}}}else switch(a){case Hu:bm(this,e,E,this.direction);break;case Ts:_m(this,e,E,this.direction);break;case Qh:Jh(this,e,P,E,this.direction);break;case $s:oM(this,e,P,E,this.direction)}else oM(this,e,P,E-P/2,Qr)}this.updateParts(),this.network=null,this.isValidLayout=!0},Sn.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},Sn.prototype.commitNodes=function(){var t=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,e=t?this.group.location.copy():null,o=this.actualCenter;t?o=new J(0,0):(o.x=this.arrangementOrigin.x+this.$b,o.y=this.arrangementOrigin.y+this.be);for(var a=this.network.vertexes.iterator;a.next();){var h=a.value;h.x+=o.x,h.y+=o.y,h.commit()}t&&(this.group.Ta(),t=this.group.position.copy(),o=this.group.location.copy(),e=e.ge(o.ge(t)),this.group.move(e),this.mx=e.ge(t))},Sn.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},Sn.prototype.sort=function(t){switch(this.sorting){case iy:break;case Rc:t.reverse();break;case kp:t.sort(this.comparer);break;case Mm:t.sort(this.comparer),t.reverse();break;case Gf:return this.nw(function(t){for(var e=[],o=0;o<t.length;o++)e.push(0);o=new St;for(var a=0;a<t.length;a++){var h=-1,c=-1;if(0===a)for(var m=0;m<t.length;m++){var x=t.J(m).edgesCount;x>h&&(h=x,c=m)}else for(m=0;m<t.length;m++)(x=e[m])>h&&(h=x,c=m);for(o.add(t.J(c)),e[c]=-1,m=(c=t.J(c)).sourceEdges;m.next();)0>(h=t.indexOf(m.value.fromVertex))||0<=e[h]&&e[h]++;for(c=c.destinationEdges;c.next();)0>(h=t.indexOf(c.value.toVertex))||0<=e[h]&&e[h]++}return o}(t));default:R("Invalid sorting type.")}return t},Sn.prototype.nw=function(t){for(var e=[],o=0;o<t.length;o++){var a=t.J(o);e[o]=[];for(var h,c=a.destinationEdges;c.next();)(h=t.indexOf(c.value.toVertex))!==o&&0>e[o].indexOf(h)&&e[o].push(h);for(a=a.sourceEdges;a.next();)(h=t.indexOf(a.value.fromVertex))!==o&&0>e[o].indexOf(h)&&e[o].push(h)}for(c=[],o=0;o<e.length;o++)c[o]=0;o=[];var m=[],x=[];a=[],h=new St;for(var S=0,E=0;E<e.length;E++){var P=e[E].length;if(1===P)a.push(E);else if(0===P)h.add(t.J(E));else{if(0===S)o.push(E);else{for(var N=P=1/0,nt=-1,at=[],rt=0;rt<o.length;rt++)0>e[o[rt]].indexOf(o[rt===o.length-1?0:rt+1])&&at.push(rt===o.length-1?0:rt+1);if(0===at.length)for(rt=0;rt<o.length;rt++)at.push(rt);for(rt=0;rt<at.length;rt++){for(var _t=at[rt],It=e[E],Pt=0,Vt=0;Vt<m.length;Vt++){var Ht=c[m[Vt]],Wt=c[x[Vt]];if(Ht<Wt){var Qt=Ht;Ht=Wt}else Qt=Wt;if(Qt<_t&&_t<=Ht)for(Wt=0;Wt<It.length;Wt++){var me=It[Wt];0>o.indexOf(me)||Qt<c[me]&&c[me]<Ht||Qt===c[me]||Ht===c[me]||Pt++}else for(Wt=0;Wt<It.length;Wt++)0>o.indexOf(me=It[Wt])||Qt<c[me]&&c[me]<Ht&&Qt!==c[me]&&Ht!==c[me]&&Pt++}for(It=Pt,Vt=Pt=0;Vt<e[E].length;Vt++)0<=(Qt=o.indexOf(e[E][Vt]))&&(Pt+=(Qt=Math.abs(_t-(Qt>=_t?Qt+1:Qt)))<o.length+1-Qt?Qt:o.length+1-Qt);for(Vt=0;Vt<m.length;Vt++)(Qt=c[m[Vt]])>=_t&&Qt++,(Ht=c[x[Vt]])>=_t&&Ht++,Qt>Ht&&(Wt=Ht,Ht=Qt,Qt=Wt),Ht-Qt<(o.length+2)/2==(Qt<_t&&_t<=Ht)&&Pt++;(It<P||It===P&&Pt<N)&&(P=It,N=Pt,nt=_t)}for(o.splice(nt,0,E),P=0;P<o.length;P++)c[o[P]]=P;for(P=0;P<e[E].length;P++)0<=o.indexOf(N=e[E][P])&&(m.push(E),x.push(N))}S++}}for(m=o.length;;){for(c=!0,x=0;x<a.length;x++)if(0<=(P=o.indexOf(E=e[S=a[x]][0]))){for(nt=N=0;nt<e[E].length;nt++)0>(at=o.indexOf(e[E][nt]))||at===P||(N+=at<P!=(rt=at>P?at-P:P-at)>m-rt?1:-1);o.splice(0>N?P:P+1,0,S),a.splice(x,1),x--}else c=!1;if(c)break;o.push(a[0]),a.splice(0,1)}for(e=0;e<o.length;e++)h.add(t.J(o[e]));return h},B.Object.defineProperties(Sn.prototype,{radius:{get:function(){return this.Ap},set:function(t){this.Ap!==t&&(0<t||isNaN(t))&&(this.Ap=t,this.C())}},aspectRatio:{get:function(){return this.pn},set:function(t){this.pn!==t&&0<t&&(this.pn=t,this.C())}},startAngle:{get:function(){return this.bq},set:function(t){this.bq!==t&&(this.bq=t,this.C())}},sweepAngle:{get:function(){return this.mm},set:function(t){this.mm!==t&&(this.mm=0<t&&360>=t?t:360,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==$s&&t!==Ts&&t!==Hu&&t!==Qh||(this.Eb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K===t||t!==Qr&&t!==tu&&t!==zu&&t!==Ep||(this.K=t,this.C())}},sorting:{get:function(){return this.bd},set:function(t){this.bd===t||t!==iy&&t!==Rc&&t!==kp&&!Mm&&t!==Gf||(this.bd=t,this.C())}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t,this.C())}},spacing:{get:function(){return this.lf},set:function(t){this.lf!==t&&(this.lf=t,this.C())}},nodeDiameterFormula:{get:function(){return this.jp},set:function(t){this.jp===t||t!==Cm&&t!==Oc||(this.jp=t,this.C())}},actualXRadius:{get:function(){return this.$b}},actualYRadius:{get:function(){return this.be}},actualSpacing:{get:function(){return this.Ij}},actualCenter:{get:function(){return this.mx}}});var Ts=new ct(Sn,"ConstantSpacing",0),Hu=new ct(Sn,"ConstantDistance",1),Qh=new ct(Sn,"ConstantAngle",2),$s=new ct(Sn,"Packed",3),Qr=new ct(Sn,"Clockwise",4),tu=new ct(Sn,"Counterclockwise",5),zu=new ct(Sn,"BidirectionalLeft",6),Ep=new ct(Sn,"BidirectionalRight",7),iy=new ct(Sn,"Forwards",8),Rc=new ct(Sn,"Reverse",9),kp=new ct(Sn,"Ascending",10),Mm=new ct(Sn,"Descending",11),Gf=new ct(Sn,"Optimized",12),Cm=new ct(Sn,"Pythagorean",13),Oc=new ct(Sn,"Circular",14);function Sm(){this.Am=-1/0,this.cn=this.Wk=null}function Ap(t){Hi.call(this,t)}function Dm(t){Xn.call(this,t),this.I=this.Gj=NaN}function Uu(t,e){var o=t.network;if(null===o)return NaN;if(null===(o=o.layout))return NaN;if(o.arrangement===$s)if(o.nodeDiameterFormula===Oc)t.Gj=Math.max(t.width,t.height);else{if(o=Math.abs(Math.sin(e)),e=Math.abs(Math.cos(e)),0===o)return t.width;if(0===e)return t.height;t.Gj=Math.min(t.height/o,t.width/e)}else t.Gj=o.nodeDiameterFormula===Oc?Math.max(t.width,t.height):Math.sqrt(t.width*t.width+t.height*t.height);return t.Gj}function Em(t){Br.call(this,t)}function br(){Ai.call(this),this.Fh=null,this.Eo=0,this.Pd=new fe(100,100).freeze(),this.on=!1,this.kf=!0,this.jd=!1,this.Rl=100,this.Xn=1,this.Xf=1e3,this.bp=10,this.Bp=Math,this.ol=.05,this.nl=50,this.ll=150,this.ml=0,this.On=10,this.Nn=5}function qx(t,e,o){if(function(t,e){if(10<e||3>t.network.vertexes.count)return!1;for(t.Fh=t.network.vertexes.ma(),(t=t.Fh).sort(function(o,a){return null===o||null===a||o===a?0:a.Ld-o.Ld}),e=t.length-1;0<=e&&1>=t[e].Ld;)e--;return 1<t.length-e}(t,e)){var a=t.Xf;t.Xf*=1+1/(e+1);var h=function(t,e){for(var o=t.network,a=new Ps(t),h=0;h<t.Fh.length;h++){var c=t.Fh[h];if(!(1<c.Ld))break;a.Bg(c);var m=new kS;m.qu=c.Ld,m.ru=c.width,m.pu=c.height,m.$w=c.focus.x,m.ax=c.focus.y,null===c.Ne&&(c.Ne=new St),c.Ne.add(m),c.zw=c.Ne.count-1}for(c=o.edges.iterator;c.next();){var x=c.value;m=x.toVertex,(h=x.fromVertex).network===a&&m.network===a?a.tm(x):h.network===a?(null===(x=h.qk)&&(x=new St,h.qk=x),x.add(m),h.Ld--,h.Sh+=m.Sh):m.network===a&&(null===(x=m.qk)&&(x=new St,m.qk=x),x.add(h),m.Ld--,m.Sh+=h.Sh)}for(h=a.edges.iterator;h.next();)(c=h.value).length*=Math.max(1,Zt.sqrt((c.fromVertex.Sh+c.toVertex.Sh)/(4*e+1)));for(e=a.vertexes.iterator;e.next();){var S=(h=e.value).qk;if(null!==S&&0<S.count&&!(0>=(m=h.Ne.J(h.Ne.count-1).qu-h.Ld))){for(var E=x=0,P=S.count-m;P<S.count;P++){var N=S.J(P),nt=null;for(c=N.edges.iterator;c.next();){var at=c.value;if(at.zy(N)===h){nt=at;break}}null!==nt&&(E+=nt.length,x+=N.width*N.height)}c=h.centerX,S=h.centerY,nt=h.focus,1>(at=(P=h.width)*(N=h.height))&&(at=1),x=Zt.sqrt((x+at+E*E*4/(m*m))/at),h.bounds=new Lt(c-nt.x-(m=(x-1)*P/2),S-nt.y-(x=(x-1)*N/2),P+2*m,N+2*x),h.focus=new J(nt.x+m,nt.y+x)}}return t.network=a,o}(t,e),c=Math.max(0,Math.max(Math.min(t.network.vertexes.count,o*(e+1)/11),10));for(t.maxIterations+=c,qx(t,e+1,o),Jx(t,c),function(t,e){for(var o=t.network.vertexes.iterator;o.next();){var a=o.value;if(a.network=e,null!==a.Ne){var h=a.Ne.J(a.zw);a.Ld=h.qu;var c=h.$w,m=h.ax;a.bounds=new Lt(a.centerX-c,a.centerY-m,h.ru,h.pu),a.focus=new J(c,m),a.zw--}}for(o=t.network.edges.iterator;o.next();)o.value.network=e;t.network=e}(t,h),(e=h.vertexes.ma()).sort(function(m,x){return null===m||null===x||m===x?0:x.Ld-m.Ld}),o=0;o<e.length;o++)YA(t,e[o]);t.Xf=a}}function YA(t,e){var o=e.qk;if(null!==o&&0!==o.count){var a=e.centerX,h=e.centerY,c=e.width,m=e.height;null!==e.Ne&&0<e.Ne.count&&(c=(m=e.Ne.J(0)).ru,m=m.pu),c=Zt.sqrt(c*c+m*m)/2;for(var x=!1,S=m=0,E=0,P=e.vertexes.iterator;P.next();){var N=P.value;1>=N.Ld?S++:(x=!0,E++,m+=Math.atan2(e.centerY-N.centerY,e.centerX-N.centerX))}if(0!==S)for(0<E&&(m/=E),E=e=0,e=x?2*Math.PI/(S+1):2*Math.PI/S,S%2==0&&(E=e/2),1<o.count&&o.sort(function(at,rt){return null===at||null===rt||at===rt?0:rt.width*rt.height-at.width*at.height}),x=S%2==0?0:1,o=o.iterator;o.next();)if(!(1<(S=o.value).Ld||t.isFixed(S))){for(P=null,N=S.edges.iterator;N.next();){P=N.value;break}var nt=S.height;N=Zt.sqrt((N=S.width)*N+nt*nt)/2,P=c+P.length+N,N=m+(e*(x/2>>1)+E)*(x%2==0?1:-1),S.centerX=a+P*Math.cos(N),S.centerY=h+P*Math.sin(N),x++}}}function ny(t,e,o,a,h,c,m){var x=9e19,S=-1,E=0;t:for(;E<e;E++){var P=t[E],N=P.x-o,nt=P.y-a;if((N=N*N+nt*nt)<x){for(nt=E-1;0<=nt;nt--)if(t[nt].y>P.y&&t[nt].x-P.x<h+m.width)continue t;for(nt=E+1;nt<e;nt++)if(t[nt].x>P.x&&t[nt].y-P.y<c+m.height)continue t;S=E,x=N}}return S}function lM(t,e){var o=t.bounds,a=o.x;t=o.y;var h=o.width;o=o.height;var c=e.bounds,m=c.x;e=c.y;var x=c.width;return c=c.height,a+h<m?t>e+c?Zt.sqrt((o=a+h-m)*o+(t=t-e-c)*t):t+o<e?Zt.sqrt((a=a+h-m)*a+(t=t+o-e)*t):m-(a+h):a>m+x?t>e+c?Zt.sqrt((o=a-m-x)*o+(t=t-e-c)*t):t+o<e?Zt.sqrt((a=a-m-x)*a+(t=t+o-e)*t):a-(m+x):t>e+c?t-(e+c):t+o<e?e-(t+o):.1}function Jx(t,e){for(t.Fh=null,e=t.Eo+e;t.Eo<e&&(t.Eo++,hM(t)););t.Fh=null}function hM(t){null===t.Fh&&(t.Fh=t.network.vertexes.ma());var e=t.Fh;if(0>=e.length)return!1;var o=e[0];o.forceX=0,o.forceY=0;for(var a=o.centerX,h=a,c=o=o.centerY,m=1;m<e.length;m++){var x=e[m];x.forceX=0,x.forceY=0;var S=x.centerX;x=x.centerY,a=Math.min(a,S),h=Math.max(h,S),o=Math.min(o,x),c=Math.max(c,x)}(h=h-a>c-o)?e.sort(function(_t,It){return null===_t||null===It||_t===It?0:_t.centerX-It.centerX}):e.sort(function(_t,It){return null===_t||null===It||_t===It?0:_t.centerY-It.centerY}),o=t.Xf;var E=a=x=0;for(c=0;c<e.length;c++){var P=(a=(m=e[c]).bounds).y+(x=m.focus).y;a=m.charge*t.electricalFieldX(S=a.x+x.x,P),E=m.charge*t.electricalFieldY(S,P),a+=m.mass*t.gravitationalFieldX(S,P),E+=m.mass*t.gravitationalFieldY(S,P),m.forceX+=a,m.forceY+=E;for(var N=c+1;N<e.length;N++){var nt=e[N];if(nt!==m){var at=(a=nt.bounds).y+(x=nt.focus).y;if(S-(E=a.x+x.x)>o||E-S>o){if(h)break}else if(P-at>o||at-P>o){if(!h)break}else{var rt=lM(m,nt);1>rt?(null===(a=t.randomNumberGenerator)&&(t.randomNumberGenerator=a=new km),rt=a.random(),x=a.random(),a=S>E?(1+(a=Math.abs(nt.bounds.right-m.bounds.x)))*rt:S<E?-(1+(a=Math.abs(nt.bounds.x-m.bounds.right)))*rt:(1+(a=Math.max(nt.width,m.width)))*rt-a/2,E=P>at?(1+(E=Math.abs(nt.bounds.bottom-m.bounds.y)))*x:S<E?-(1+(E=Math.abs(nt.bounds.y-m.bounds.bottom)))*x:(1+(E=Math.max(nt.height,m.height)))*x-E/2):(a=(E-S)/rt*(x=-m.charge*nt.charge/(rt*rt)),E=(at-P)/rt*x),m.forceX+=a,m.forceY+=E,nt.forceX-=a,nt.forceY-=E}}}}for(h=t.network.edges.iterator;h.next();)a=(m=(o=(x=h.value).fromVertex).bounds).x+(S=o.focus).x,m=m.y+S.y,S=(P=(c=x.toVertex).bounds).x+(N=c.focus).x,P=P.y+N.y,1>(N=lM(o,c))?(null===(N=t.randomNumberGenerator)&&(t.randomNumberGenerator=N=new km),x=N.random(),N=N.random(),a=(a>S?1:-1)*(1+(c.width>o.width?c.width:o.width))*x,E=(m>P?1:-1)*(1+(c.height>o.height?c.height:o.height))*N):(a=(S-a)/N*(x=x.stiffness*(N-x.length)),E=(P-m)/N*x),o.forceX+=a,o.forceY+=E,c.forceX-=a,c.forceY-=E;for(h=a=0;h<e.length;h++)t.isFixed(o=e[h])?t.moveFixedVertex(o):a=Math.max(a,t.moveVertex(o)||0);return a>t.epsilonDistance*t.epsilonDistance}function kS(){this.ax=this.$w=this.pu=this.ru=this.qu=0}function Ps(t){Hi.call(this,t)}function Tp(t){Xn.call(this,t),this.La=!1,this.eb=this.I=NaN,this.Sh=this.Ld=this.Ka=this.T=0,this.Ne=this.qk=null,this.zw=0}function Pp(t){Br.call(this,t),this.l=this.u=NaN}function km(){var t=0;void 0===t&&(t=42),this.seed=t,this.Zy=48271,this.az=2147483647,this.Q=44488.07041494893,this.bz=3399,this.$y=1/2147483647,this.random()}function Li(){Ai.call(this),this.Zb=this.ue=25,this.K=0,this.jl=Wu,this.Ml=Yu,this.Bl=Pm,this.Rj=4,this.Zk=Im,this.ng=15,this.kf=!0,this.Mo=4,this.Ca=this.Ji=this.sa=-1,this.pc=this.mh=0,this.Ia=this.yd=this.zd=this.$d=this.zb=null,this.oh=0,this.fp=this.Wj=null,this.Ec=0,this.gp=null,this.Vc=new J,this.xe=[],this.xe.length=100}function ry(t){var e=t.fromVertex.node||t.fromVertex.data;return t=t.toVertex.node||t.toVertex.data,null===e&&null===t?8:null===e||null===t?4:1}function vo(t){null===t.Wj&&(t.Wj=[]);for(var e=0,o=t.network.vertexes.iterator;o.next();){var a=o.value;t.Wj[e]=a.layer,e++,t.Wj[e]=a.column,e++,t.Wj[e]=a.index,e++}return t.Wj}function Xs(t,e){var o=0;for(t=t.network.vertexes.iterator;t.next();){var a=t.value;a.layer=e[o],o++,a.column=e[o],o++,a.index=e[o],o++}}function Qx(t,e,o){var a=Ra(t,e),h=t.zb[e];(null===t.fp||t.fp.length<h*h)&&(t.fp=[]);for(var c=t.fp,m=0;m<h;m++){var nt,x=0,S=a[m],E=S.near;if(null!==E&&E.layer===S.layer)if((S=E.index)>m)for(var P=m+1;P<S;P++){var N=a[P];N.near===E&&N.wf===E.wf||x++}else for(P=m-1;P>S;P--)(N=a[P]).near===E&&N.wf===E.wf||x++;if(0<=o)for(S=a[m].sourceEdgesArrayAccess,E=0;E<S.length;E++){var at=S[E];if(at.valid&&at.fromVertex.layer!==e)for(N=at.fromVertex.index,P=at.portToPos,at=at.portFromPos,nt=E+1;nt<S.length;nt++){var rt=S[nt];if(rt.valid&&rt.fromVertex.layer!==e){var _t=rt.fromVertex.index,It=rt.portToPos;rt=rt.portFromPos,P<It&&(N>_t||N===_t&&at>rt)&&x++,It<P&&(_t>N||_t===N&&rt>at)&&x++}}}if(0>=o)for(S=a[m].destinationEdgesArrayAccess,E=0;E<S.length;E++)if((at=S[E]).valid&&at.toVertex.layer!==e)for(N=at.toVertex.index,P=at.portToPos,at=at.portFromPos,nt=E+1;nt<S.length;nt++)(rt=S[nt]).valid&&rt.toVertex.layer!==e&&(_t=rt.toVertex.index,It=rt.portToPos,at<(rt=rt.portFromPos)&&(N>_t||N===_t&&P>It)&&x++,rt<at&&(_t>N||_t===N&&It>P)&&x++);for(c[m*h+m]=x,S=m+1;S<h;S++){var Pt=0,Vt=0;if(0<=o){x=a[m].sourceEdgesArrayAccess;var Ht=a[S].sourceEdgesArrayAccess;for(E=0;E<x.length;E++)if((at=x[E]).valid&&at.fromVertex.layer!==e)for(N=at.fromVertex.index,at=at.portFromPos,nt=0;nt<Ht.length;nt++)(rt=Ht[nt]).valid&&rt.fromVertex.layer!==e&&(_t=rt.fromVertex.index,rt=rt.portFromPos,(N<_t||N===_t&&at<rt)&&Vt++,(_t<N||_t===N&&rt<at)&&Pt++)}if(0>=o)for(x=a[m].destinationEdgesArrayAccess,Ht=a[S].destinationEdgesArrayAccess,E=0;E<x.length;E++)if((at=x[E]).valid&&at.toVertex.layer!==e)for(N=at.toVertex.index,P=at.portToPos,nt=0;nt<Ht.length;nt++)(rt=Ht[nt]).valid&&rt.toVertex.layer!==e&&(It=rt.portToPos,(N<(_t=rt.toVertex.index)||N===_t&&P<It)&&Vt++,(_t<N||_t===N&&It<P)&&Pt++);c[m*h+S]=Pt,c[S*h+m]=Vt}}return Oa(t,e,a),c}function zi(t){for(var e=0,o=0;o<=t.sa;o++){for(var a=t,h=o,c=Ra(a,h),m=a.zb[h],x=0,S=0;S<m;S++){var E=c[S].destinationEdgesArrayAccess;if(null!==E)for(var P=0;P<E.length;P++){var N=E[P];N.valid&&N.toVertex.layer!==h&&(x+=(Math.abs(N.fromVertex.column+N.portFromColOffset-(N.toVertex.column+N.portToColOffset))+1)*ry(N))}}Oa(a,h,c),e+=x}return e}function tw(t,e,o){for(var a=Ra(t,e),h=t.zb[e],c=[],m=0;m<h;m++){var x=a[m],S=null;0>=o&&(S=x.sourceEdgesArrayAccess);var E=null;0<=o&&(E=x.destinationEdgesArrayAccess);var P=0,N=0,nt=x.near;if(null!==nt&&nt.layer===x.layer&&(P+=nt.column-1,N++),null!==S)for(nt=0;nt<S.length;nt++){var at=(x=S[nt]).fromVertex;x.valid&&!x.rev&&at.layer!==e&&(P+=at.column,N++)}if(null!==E)for(S=0;S<E.length;S++)nt=(x=E[S]).toVertex,x.valid&&!x.rev&&nt.layer!==e&&(P+=nt.column,N++);c[m]=0===N?-1:P/N}return Oa(t,e,a),c}function oy(t,e,o){for(var a=Ra(t,e),h=t.zb[e],c=[],m=0;m<h;m++){var x=a[m],S=null;0>=o&&(S=x.sourceEdgesArrayAccess);var E=null;0<=o&&(E=x.destinationEdgesArrayAccess);var P=0,N=[],nt=x.near;if(null!==nt&&nt.layer===x.layer&&(N[P]=nt.column-1,P++),x=void 0,null!==S)for(nt=0;nt<S.length;nt++){var at=(x=S[nt]).fromVertex;x.valid&&!x.rev&&at.layer!==e&&(N[P]=at.column+x.portFromColOffset,P++)}if(null!==E)for(S=0;S<E.length;S++)nt=(x=E[S]).toVertex,x.valid&&!x.rev&&nt.layer!==e&&(N[P]=nt.column+x.portToColOffset,P++);0===P?c[m]=-1:(N.sort(function(rt,_t){return rt-_t}),E=P>>1,c[m]=0!=(1&P)?N[E]:N[E-1]+N[E]>>1)}return Oa(t,e,a),c}function Am(t,e,o,a,h,c){if(e.component===a){if(e.component=o,h)for(var m=e.destinationEdges;m.next();){var x=m.value,S=x.toVertex,E=e.layer-S.layer;E===(x=t.linkMinLength(x))&&Am(t,S,o,a,h,c)}if(c)for(m=e.sourceEdges;m.next();)(E=(S=(x=m.value).fromVertex).layer-e.layer)===(x=t.linkMinLength(x))&&Am(t,S,o,a,h,c)}}function ew(t,e,o,a,h,c){if(e.component===a){if(e.component=o,h)for(var m=e.destinationEdges;m.next();)ew(t,m.value.toVertex,o,a,h,c);if(c)for(e=e.sourceEdges;e.next();)ew(t,e.value.fromVertex,o,a,h,c)}}function AS(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid)return e}return null}function uM(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var o=!0,a=e.destinationEdges;a.next();)if(a.value.toVertex.valid){o=!1;break}if(o)return e}}return null}function cM(t){for(t=t.vertexes.iterator;t.next();){var e=t.value;if(e.valid){for(var o=!0,a=e.sourceEdges;a.next();)if(a.value.fromVertex.valid){o=!1;break}if(o)return e}}return null}function iw(t,e){e.Cg=t.oh,t.oh++;for(var o=e.destinationEdges;o.next();){var a=o.value,h=a.toVertex;-1===h.Cg&&(a.forest=!0,iw(t,h))}e.finish=t.oh,t.oh++}function Tm(t){for(var e=t.network.vertexes.iterator;e.next();){var o=Wf(t,e.value);t.sa=Math.max(o,t.sa)}}function Wf(t,e){var o=0;if(-1===e.layer){for(var a=e.destinationEdges;a.next();){var h=a.value,c=h.toVertex;h=t.linkMinLength(h),o=Math.max(o,Wf(t,c)+h)}e.layer=o}else o=e.layer;return o}function nw(t,e){var o=0;if(-1===e.layer){for(var a=e.sourceEdges;a.next();){var h=a.value,c=h.fromVertex;h=t.linkMinLength(h),o=Math.max(o,nw(t,c)+h)}e.layer=o}else o=e.layer;return o}function Ip(t,e){if(!e.valid){e.valid=!0;for(var o=e.destinationEdges;o.next();)Ip(t,o.value.toVertex);for(o=t.network.vertexes.iterator;o.next();)o.value.component=-1;for(var a=e.sourceEdgesArrayAccess,h=a.length,c=0;c<h;c++){var m=a[c],x=m.fromVertex,S=m.toVertex;m=t.linkMinLength(m),x.layer-S.layer>m&&Am(t,x,0,-1,!0,!1)}for(Am(t,e,1,-1,!0,!0);0!==e.component;){for(c=0,a=1/0,x=0,S=null,m=t.network.vertexes.iterator;m.next();){var E=m.value;if(1===E.component){var P=0,N=!1,nt=E.sourceEdgesArrayAccess;h=nt.length;for(var at=0;at<h;at++){var rt=nt[at],_t=rt.fromVertex;P+=1,1!==_t.component&&(c+=1,_t=_t.layer-E.layer,rt=t.linkMinLength(rt),a=Math.min(a,_t-rt))}for(h=(nt=E.destinationEdgesArrayAccess).length,at=0;at<h;at++)--P,1!==(rt=nt[at].toVertex).component?--c:N=!0;(null===S||P<x)&&!N&&(S=E,x=P)}}if(0<c){for(o.reset();o.next();)1===(h=o.value).component&&(h.layer+=a);e.component=0}else S.component=0}for(o=t.network.vertexes.iterator;o.next();)o.value.component=-1;for(Am(t,e,1,-1,!0,!1);0!==e.component;){for(a=0,h=1/0,c=0,x=null,S=t.network.vertexes.iterator;S.next();)if(1===(m=S.value).component){for(E=0,P=!1,N=(nt=m.sourceEdgesArrayAccess).length,at=0;at<N;at++)E+=1,1!==(rt=nt[at].fromVertex).component?a+=1:P=!0;for(N=(nt=m.destinationEdgesArrayAccess).length,at=0;at<N;at++)--E,1!==(_t=(rt=nt[at]).toVertex).component&&(--a,_t=m.layer-_t.layer,rt=t.linkMinLength(rt),h=Math.min(h,_t-rt));(null===x||E>c)&&!P&&(x=m,c=E)}if(0>a){for(o.reset();o.next();)1===(a=o.value).component&&(a.layer-=h);e.component=0}else x.component=0}}}function fM(t,e,o){return 90===t.K?o&&!e.rev||!o&&e.rev?270:90:180===t.K?o&&!e.rev||!o&&e.rev?0:180:270===t.K?o&&!e.rev||!o&&e.rev?90:270:o&&!e.rev||!o&&e.rev?180:0}function dM(t,e){var o=e.layer;for(e.index=t.zb[o],t.zb[o]++,e=e.destinationEdgesArrayAccess,o=!0;o;){o=!1;for(var a=0;a<e.length-1;a++){var h=e[a],c=e[a+1];h.portFromColOffset>c.portFromColOffset&&(o=!0,e[a]=c,e[a+1]=h)}}for(o=0;o<e.length;o++)(a=e[o]).valid&&-1===(a=a.toVertex).index&&dM(t,a)}function sy(t,e){var o=e.layer;e.index=t.zb[o],t.zb[o]++,e=e.sourceEdgesArrayAccess;for(var a=!0;a;)for(a=!1,o=0;o<e.length-1;o++){var h=e[o],c=e[o+1];h.portToColOffset>c.portToColOffset&&(a=!0,e[o]=c,e[o+1]=h)}for(o=0;o<e.length;o++)(a=e[o]).valid&&-1===(a=a.fromVertex).index&&sy(t,a)}function rl(t,e,o){var a=Ra(t,e),h=t.zb[e],c=oy(t,e,o),m=tw(t,e,o);for(o=0;o<h;o++)-1===m[o]&&(m[o]=a[o].column),-1===c[o]&&(c[o]=a[o].column);for(var S,x=!0;x;)for(x=!1,o=0;o<h-1;o++)(c[o+1]<c[o]||c[o+1]===c[o]&&m[o+1]<m[o])&&(x=!0,S=c[o],c[o]=c[o+1],c[o+1]=S,S=m[o],m[o]=m[o+1],m[o+1]=S,S=a[o],a[o]=a[o+1],a[o+1]=S);for(o=c=0;o<h;o++)(S=a[o]).index=o,c+=t.nodeMinColumnSpace(S,!0),S.column=c,c+=1,c+=t.nodeMinColumnSpace(S,!1);Oa(t,e,a)}function Vo(t,e,o){var a=Ra(t,e),h=t.zb[e];o=Qx(t,e,o);var c,m=[];for(c=0;c<h;c++)m[c]=-1;var x=[];for(c=0;c<h;c++)x[c]=-1;for(var S=!1,E=!0;E;)for(E=!1,c=0;c<h-1;c++){var P=o[a[c].index*h+a[c+1].index],N=o[a[c+1].index*h+a[c].index],nt=0,at=0,rt=a[c].column,_t=a[c+1].column,It=t.nodeMinColumnSpace(a[c],!0),Pt=t.nodeMinColumnSpace(a[c],!1),Vt=t.nodeMinColumnSpace(a[c+1],!0),Ht=t.nodeMinColumnSpace(a[c+1],!1);It=rt-It+Vt,Pt=_t-Pt+Ht;var Wt=a[c].sourceEdges.iterator;for(Wt.reset();Wt.next();)if(Ht=(Vt=Wt.value).fromVertex,Vt.valid&&Ht.layer===e){for(Vt=0;a[Vt]!==Ht;)Vt++;Vt<c&&(nt+=2*(c-Vt),at+=2*(c+1-Vt)),Vt===c+1&&(nt+=1),Vt>c+1&&(nt+=4*(Vt-c),at+=4*(Vt-(c+1)))}for((Wt=a[c].destinationEdges.iterator).reset();Wt.next();)if(Ht=(Vt=Wt.value).toVertex,Vt.valid&&Ht.layer===e){for(Vt=0;a[Vt]!==Ht;)Vt++;Vt===c+1&&(at+=1)}for((Wt=a[c+1].sourceEdges.iterator).reset();Wt.next();)if(Ht=(Vt=Wt.value).fromVertex,Vt.valid&&Ht.layer===e){for(Vt=0;a[Vt]!==Ht;)Vt++;Vt<c&&(nt+=2*(c+1-Vt),at+=2*(c-Vt)),Vt===c&&(at+=1),Vt>c+1&&(nt+=4*(Vt-(c+1)),at+=4*(Vt-c))}for((Wt=a[c+1].destinationEdges.iterator).reset();Wt.next();)if(Ht=(Vt=Wt.value).toVertex,Vt.valid&&Ht.layer===e){for(Vt=0;a[Vt]!==Ht;)Vt++;Vt===c&&(nt+=1)}Vt=Ht=0;var Qt=x[a[c].index],me=m[a[c+1].index],Be=x[a[c+1].index];-1!==(Wt=m[a[c].index])&&(Ht+=Math.abs(Wt-rt),Vt+=Math.abs(Wt-Pt)),-1!==Qt&&(Ht+=Math.abs(Qt-rt),Vt+=Math.abs(Qt-Pt)),-1!==me&&(Ht+=Math.abs(me-_t),Vt+=Math.abs(me-It)),-1!==Be&&(Ht+=Math.abs(Be-_t),Vt+=Math.abs(Be-It)),(at<nt-.5||at===nt&&N<P-.5||at===nt&&N===P&&Vt<Ht-.5)&&(E=S=!0,a[c].column=Pt,a[c+1].column=It,P=a[c],a[c]=a[c+1],a[c+1]=P)}for(c=0;c<h;c++)a[c].index=c;return Oa(t,e,a),S}function yo(t,e,o){for(var a=!1;Yf(t,e,o);)a=!0;return a}function Yf(t,e,o){var a,h=Ra(t,e),c=t.zb[e],m=tw(t,e,-1);if(0<o)for(a=0;a<c;a++)m[a]=-1;var x=tw(t,e,1);if(0>o)for(a=0;a<c;a++)x[a]=-1;for(var S=!1,E=!0;E;)for(E=!1,a=0;a<c;a++){var at,P=h[a].column,N=t.nodeMinColumnSpace(h[a],!0),nt=t.nodeMinColumnSpace(h[a],!1);at=0>a-1||P-h[a-1].column-1>N+t.nodeMinColumnSpace(h[a-1],!1)?P-1:P,N=a+1>=c||h[a+1].column-P-1>nt+t.nodeMinColumnSpace(h[a+1],!0)?P+1:P;var rt=nt=0,_t=0;if(0>=o)for(var It=h[a].sourceEdges.iterator;It.next();){var Pt=It.value,Vt=Pt.fromVertex;if(Pt.valid&&Vt.layer!==e){var Ht=ry(Pt),Wt=Pt.portFromColOffset;Pt=Pt.portToColOffset,Vt=Vt.column,nt+=(Math.abs(P+Pt-(Vt+Wt))+1)*Ht,rt+=(Math.abs(at+Pt-(Vt+Wt))+1)*Ht,_t+=(Math.abs(N+Pt-(Vt+Wt))+1)*Ht}}if(0<=o)for(It=h[a].destinationEdges.iterator;It.next();)Vt=(Pt=It.value).toVertex,Pt.valid&&Vt.layer!==e&&(Ht=ry(Pt),Wt=Pt.portFromColOffset,Pt=Pt.portToColOffset,Vt=Vt.column,nt+=(Math.abs(P+Wt-(Vt+Pt))+1)*Ht,rt+=(Math.abs(at+Wt-(Vt+Pt))+1)*Ht,_t+=(Math.abs(N+Wt-(Vt+Pt))+1)*Ht);Pt=Wt=Ht=0,Vt=x[h[a].index],-1!==(It=m[h[a].index])&&(Ht+=Math.abs(It-P),Wt+=Math.abs(It-at),Pt+=Math.abs(It-N)),-1!==Vt&&(Ht+=Math.abs(Vt-P),Wt+=Math.abs(Vt-at),Pt+=Math.abs(Vt-N)),rt<nt||rt===nt&&Wt<Ht?(E=S=!0,h[a].column=at):(_t<nt||_t===nt&&Pt<Ht)&&(E=S=!0,h[a].column=N)}return Oa(t,e,h),t.normalize(),S}function Rp(t,e,o){var a=Ra(t,e),h=t.zb[e],c=oy(t,e,o),m=[];for(o=0;o<h;o++)m[o]=c[o];for(c=!0;c;)for(c=!1,o=0;o<h;o++){var x=a[o].column,S=t.nodeMinColumnSpace(a[o],!0),E=t.nodeMinColumnSpace(a[o],!1),P=0;if(-1===m[o])if(0===o&&o===h-1)P=x;else if(0===o){var N=a[o+1].column;P=N-x===E+t.nodeMinColumnSpace(a[o+1],!0)?x-1:x}else P=o===h-1?x-(N=a[o-1].column)===S+t.nodeMinColumnSpace(a[o-1],!1)?x+1:x:((S=(N=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+S+1)+(E=(N=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-E-1))/2|0;else 0===o&&o===h-1?P=m[o]:0===o?(E=(N=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-E-1,P=Math.min(m[o],E)):o===h-1?(S=(N=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+S+1,P=Math.max(m[o],S)):(S=(N=a[o-1].column)+t.nodeMinColumnSpace(a[o-1],!1)+S+1,E=(N=a[o+1].column)-t.nodeMinColumnSpace(a[o+1],!0)-E-1,S<m[o]&&m[o]<E?P=m[o]:S>=m[o]?P=S:E<=m[o]&&(P=E));P!==x&&(c=!0,a[o].column=P)}Oa(t,e,a),t.normalize()}function Nl(t,e){for(var o=!0,a=t.network.vertexes.iterator;a.next();){var h=a.value,c=t.nodeMinColumnSpace(h,!0),m=t.nodeMinColumnSpace(h,!1);if(h.column-c<=e&&h.column+m>=e){o=!1;break}}if(t=!1,o)for(a.reset();a.next();)(o=a.value).column>e&&(--o.column,t=!0);return t}function yn(t,e){var a,o=e+1,h=[],c=[];for(a=0;a<=t.sa;a++)h[a]=!1,c[a]=!1;for(var m=t.network.vertexes.iterator;m.next();){var x=(a=m.value).column-t.nodeMinColumnSpace(a,!0),S=a.column+t.nodeMinColumnSpace(a,!1);x<=e&&S>=e&&(h[a.layer]=!0),x<=o&&S>=o&&(c[a.layer]=!0)}for(x=!0,o=!1,a=0;a<=t.sa;a++)x=x&&!(h[a]&&c[a]);if(x)for(m.reset();m.next();)(t=m.value).column>e&&(--t.column,o=!0);return o}function $f(t,e){for(var o=0;o<=t.Ca;o++)for(;Nl(t,o););for(t.normalize(),o=0;o<t.Ca;o++)for(;yn(t,o););var a;if(t.normalize(),0<e)for(o=0;o<=t.Ca;o++){var h=vo(t),c=zi(t);for(a=c+1;c<a;){a=c,Xf(t,o,1);var m=zi(t);m>c?Xs(t,h):m<c&&(c=m,h=vo(t))}}if(0>e)for(o=t.Ca;0<=o;o--)for(h=vo(t),a=(c=zi(t))+1;c<a;)a=c,Xf(t,o,-1),(m=zi(t))>c?Xs(t,h):m<c&&(c=m,h=vo(t));t.normalize()}function Xf(t,e,o){t.Ec=0;for(var a=t.network.vertexes.iterator;a.next();)a.value.component=-1;if(0<o)for(a.reset();a.next();){var h=a.value;h.column-t.nodeMinColumnSpace(h,!0)<=e&&(h.component=t.Ec)}if(0>o)for(a.reset();a.next();)(h=a.value).column+t.nodeMinColumnSpace(h,!1)>=e&&(h.component=t.Ec);for(t.Ec++,a.reset();a.next();)-1===(e=a.value).component&&(ew(t,e,t.Ec,-1,!0,!0),t.Ec++);var c;for(e=[],c=0;c<t.Ec*t.Ec;c++)e[c]=!1;for(h=[],c=0;c<(t.sa+1)*(t.Ca+1);c++)h[c]=-1;for(a.reset();a.next();)for(var m=(c=a.value).layer,x=Math.max(0,c.column-t.nodeMinColumnSpace(c,!0)),S=Math.min(t.Ca,c.column+t.nodeMinColumnSpace(c,!1));x<=S;x++)h[m*(t.Ca+1)+x]=c.component;for(c=0;c<=t.sa;c++){if(0<o)for(m=0;m<t.Ca;m++)-1!==h[c*(t.Ca+1)+m]&&-1!==h[c*(t.Ca+1)+m+1]&&h[c*(t.Ca+1)+m]!==h[c*(t.Ca+1)+m+1]&&(e[h[c*(t.Ca+1)+m]*t.Ec+h[c*(t.Ca+1)+m+1]]=!0);if(0>o)for(m=t.Ca;0<m;m--)-1!==h[c*(t.Ca+1)+m]&&-1!==h[c*(t.Ca+1)+m-1]&&h[c*(t.Ca+1)+m]!==h[c*(t.Ca+1)+m-1]&&(e[h[c*(t.Ca+1)+m]*t.Ec+h[c*(t.Ca+1)+m-1]]=!0)}for(h=[],c=0;c<t.Ec;c++)h[c]=!0;for((m=[]).push(0);0!==m.length;)if(S=m[m.length-1],m.pop(),h[S])for(h[S]=!1,c=0;c<t.Ec;c++)e[S*t.Ec+c]&&m.splice(0,0,c);if(0<o)for(a.reset();a.next();)h[(t=a.value).component]&&--t.column;if(0>o)for(a.reset();a.next();)h[(o=a.value).component]&&(o.column+=1)}function Gu(t,e){return 270===t.K?e?aa:la:90===t.K?e?la:aa:180===t.K?e?_r:En:e?En:_r}function Ra(t,e){var o=t.zb[e];if(o>=t.xe.length){for(var a=[],h=0;h<t.xe.length;h++)a[h]=t.xe[h];t.xe=a}for(null==t.xe[o]?a=[]:(a=t.xe[o],t.xe[o]=null),t=t.gp[e],e=0;e<t.length;e++)a[(o=t[e]).index]=o;return a}function Oa(t,e,o){t.xe[t.zb[e]]=o}Sn.className="CircularLayout",Sn.ConstantSpacing=Ts,Sn.ConstantDistance=Hu,Sn.ConstantAngle=Qh,Sn.Packed=$s,Sn.Clockwise=Qr,Sn.Counterclockwise=tu,Sn.BidirectionalLeft=zu,Sn.BidirectionalRight=Ep,Sn.Forwards=iy,Sn.Reverse=Rc,Sn.Ascending=kp,Sn.Descending=Mm,Sn.Optimized=Gf,Sn.Pythagorean=Cm,Sn.Circular=Oc,Sm.prototype.compare=function(t,e){if(0<t&&0>this.Am||Math.abs(t)<Math.abs(this.Am)&&!(0>t&&0<this.Am))for(this.Am=t,this.Wk=[],this.cn=[],t=0;t<e.length;t++)this.Wk[t]=e[t].bounds.x,this.cn[t]=e[t].bounds.y},Sm.prototype.commit=function(t){if(null!==this.Wk&&null!==this.cn)for(var e=0;e<this.Wk.length;e++){var o=t.J(e);o.x=this.Wk[e],o.y=this.cn[e]}},Sm.className="VertexArrangement",z(Ap,Hi),Ap.prototype.createVertex=function(){return new Dm(this)},Ap.prototype.createEdge=function(){return new Em(this)},Ap.className="CircularNetwork",z(Dm,Xn),B.Object.defineProperties(Dm.prototype,{diameter:{get:function(){return this.Gj},set:function(t){this.Gj!==t&&(this.Gj=t)}},actualAngle:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}}}),Dm.className="CircularVertex",z(Em,Br),Em.className="CircularEdge",z(br,Ai),br.prototype.cloneProtected=function(t){Ai.prototype.cloneProtected.call(this,t),t.Pd.assign(this.Pd),t.on=this.on,t.kf=this.kf,t.jd=this.jd,t.Rl=this.Rl,t.Xn=this.Xn,t.Xf=this.Xf,t.bp=this.bp,t.Bp=this.Bp,t.ol=this.ol,t.nl=this.nl,t.ll=this.ll,t.ml=this.ml,t.On=this.On,t.Nn=this.Nn},br.prototype.serializeLayoutProperties=function(t,e){Ai.prototype.serializeLayoutProperties.call(this,t,e),t.arrangementSpacing={width:this.arrangementSpacing.width,height:this.arrangementSpacing.height},t.arrangesToOrigin=this.arrangesToOrigin,t.setsPortSpots=this.setsPortSpots,t.comments=this.comments,t.maxIterations=this.maxIterations,t.epsilonDistance=this.epsilonDistance,t.infinityDistance=this.infinityDistance,t.moveLimit=this.moveLimit,t.defaultSpringStiffness=this.defaultSpringStiffness,t.defaultSpringLength=this.defaultSpringLength,t.defaultElectricalCharge=this.defaultElectricalCharge,t.defaultGravitationalMass=this.defaultGravitationalMass,t.defaultCommentSpringLength=this.defaultCommentSpringLength,t.defaultCommentElectricalCharge=this.defaultCommentElectricalCharge},br.prototype.deserializeLayoutProperties=function(t,e,o,a,h){Ai.prototype.deserializeLayoutProperties.call(this,t,e,o,a,h),this.arrangementSpacing=new fe(t.arrangementSpacing.width,t.arrangementSpacing.height),this.arrangesToOrigin=t.arrangesToOrigin,this.setsPortSpots=t.setsPortSpots,this.comments=t.comments,this.maxIterations=t.maxIterations,this.epsilonDistance=t.epsilonDistance,this.infinityDistance=t.infinityDistance,this.moveLimit=t.moveLimit,this.defaultSpringStiffness=t.defaultSpringStiffness,this.defaultSpringLength=t.defaultSpringLength,this.defaultElectricalCharge=t.defaultElectricalCharge,this.defaultGravitationalMass=t.defaultGravitationalMass,this.defaultCommentSpringLength=t.defaultCommentSpringLength,this.defaultCommentElectricalCharge=t.defaultCommentElectricalCharge},br.prototype.createNetwork=function(){return new Ps(this)},br.prototype.doLayout=function(t){if(null===this.network&&(this.network=this.makeNetwork(t)),!this.Uw()){if(t=this.maxIterations,0<this.network.vertexes.count){this.network.Bq();for(var e=this.network.vertexes.iterator;e.next();){var o=e.value;o.charge=this.electricalCharge(o),o.mass=this.gravitationalMass(o)}for(e=this.network.edges.iterator;e.next();)(o=e.value).stiffness=this.springStiffness(o),o.length=this.springLength(o);if(this.Fv(),this.Eo=0,this.needsClusterLayout()){for(var a=(o=(e=this.network).Xy()).iterator;a.next();){this.network=a.value;for(var h=this.network.vertexes.iterator;h.next();){var c=h.value;c.Ld=c.vertexes.count,c.Sh=1,c.qk=null,c.Ne=null}qx(this,0,t)}this.network=e;var m=a=o.iterator;a=this.arrangementSpacing;var x=m.count,S=!0;c=h=0;for(var E=u(),P=0;P<x+e.vertexes.count+2;P++)E[P]=null;x=0,m.reset();for(var N=Lt.alloc();m.next();)if(this.computeBounds(P=m.value,N),S)S=!1,h=N.x+N.width/2,c=N.y+N.height/2,E[0]=new J(N.x+N.width+a.width,N.y),E[1]=new J(N.x,N.y+N.height+a.height),x=2;else{var nt=ny(E,x,h,c,N.width,N.height,a),at=E[nt],rt=new J(at.x+N.width+a.width,at.y),_t=new J(at.x,at.y+N.height+a.height);for(nt+1<x&&E.splice(nt+1,0,null),E[nt]=rt,E[nt+1]=_t,x++,nt=at.x-N.x,at=at.y-N.y,P=P.vertexes.iterator;P.next();)(rt=P.value).centerX+=nt,rt.centerY+=at}for(Lt.free(N),P=e.vertexes.iterator;P.next();)nt=(m=P.value).bounds,2>x?(h=nt.x+nt.width/2,c=nt.y+nt.height/2,E[0]=new J(nt.x+nt.width+a.width,nt.y),E[1]=new J(nt.x,nt.y+nt.height+a.height),x=2):(at=new J((N=E[S=ny(E,x,h,c,nt.width,nt.height,a)]).x+nt.width+a.width,N.y),nt=new J(N.x,N.y+nt.height+a.height),S+1<x&&E.splice(S+1,0,null),E[S]=at,E[S+1]=nt,x++,m.centerX=N.x+m.width/2,m.centerY=N.y+m.height/2);for(p(E),a=o.iterator;a.next();){for(h=(o=a.value).vertexes.iterator;h.next();)e.Bg(h.value);for(o=o.edges.iterator;o.next();)e.tm(o.value)}}Jx(this,t),this.updateParts()}this.Rl=t,this.network=null,this.isValidLayout=!0}},br.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var t=0,e=0,o=this.network.vertexes.first().bounds,a=this.network.vertexes.iterator;a.next();){if(a.value.bounds.Mc(o)&&2<++t)return!0;if(10<e)break;e++}return!1},br.prototype.computeBounds=function(t,e){var o=!0;for(t=t.vertexes.iterator;t.next();){var a=t.value;o?(o=!1,e.set(a.bounds)):e.Rc(a.bounds)}return e},br.prototype.Fv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},br.prototype.addComments=function(t){var e=t.node;if(null!==e)for(e=e.Sv();e.next();){var o=e.value;if("Comment"===o.category&&o.isVisible()){var a=this.network.kj(o);null===a&&(a=this.network.mk(o)),a.charge=this.defaultCommentElectricalCharge,o=null;for(var h=a.destinationEdges;h.next();){var c=h.value;if(c.toVertex===t){o=c;break}}if(null===o)for(h=a.sourceEdges;h.next();)if((c=h.value).fromVertex===t){o=c;break}null===o&&(o=this.network.Fk(t,a,null)),o.length=this.defaultCommentSpringLength}}},br.prototype.moveVertex=function(t){var e=t.forceX,o=t.forceY,a=this.moveLimit;return e<-a?e=-a:e>a&&(e=a),o<-a?o=-a:o>a&&(o=a),t.centerX+=e,t.centerY+=o,e*e+o*o},br.prototype.moveFixedVertex=function(){},br.prototype.commitLayout=function(){this.Dw(),this.commitNodes(),this.isRouting&&this.commitLinks()},br.prototype.Dw=function(){if(this.setsPortSpots)for(var t=this.network.edges.iterator;t.next();){var e=t.value.link;null!==e&&(e.fromSpot=eo,e.toSpot=eo)}},br.prototype.commitNodes=function(){var t=0,e=0;if(this.arrangesToOrigin){var o=Lt.alloc();this.computeBounds(this.network,o),t=(e=this.arrangementOrigin).x-o.x,e=e.y-o.y,Lt.free(o)}o=Lt.alloc();for(var a=this.network.vertexes.iterator;a.next();){var h=a.value;(0!==t||0!==e)&&(o.assign(h.bounds),o.x+=t,o.y+=e,h.bounds=o),h.commit()}Lt.free(o)},br.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},br.prototype.springStiffness=function(t){return t=t.stiffness,isNaN(t)?this.ol:t},br.prototype.springLength=function(t){return t=t.length,isNaN(t)?this.nl:t},br.prototype.electricalCharge=function(t){return t=t.charge,isNaN(t)?this.ll:t},br.prototype.electricalFieldX=function(){return 0},br.prototype.electricalFieldY=function(){return 0},br.prototype.gravitationalMass=function(t){return t=t.mass,isNaN(t)?this.ml:t},br.prototype.gravitationalFieldX=function(){return 0},br.prototype.gravitationalFieldY=function(){return 0},br.prototype.isFixed=function(t){return t.isFixed},B.Object.defineProperties(br.prototype,{currentIteration:{get:function(){return this.Eo}},arrangementSpacing:{get:function(){return this.Pd},set:function(t){this.Pd.w(t)||(this.Pd.assign(t),this.C())}},arrangesToOrigin:{get:function(){return this.on},set:function(t){this.on!==t&&(this.on=t,this.C())}},setsPortSpots:{get:function(){return this.kf},set:function(t){this.kf!==t&&(this.kf=t,this.C())}},comments:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t,this.C())}},maxIterations:{get:function(){return this.Rl},set:function(t){this.Rl!==t&&0<=t&&(this.Rl=t,this.C())}},epsilonDistance:{get:function(){return this.Xn},set:function(t){this.Xn!==t&&0<t&&(this.Xn=t,this.C())}},infinityDistance:{get:function(){return this.Xf},set:function(t){this.Xf!==t&&1<t&&(this.Xf=t,this.C())}},moveLimit:{get:function(){return this.bp},set:function(t){this.bp!==t&&1<t&&(this.bp=t,this.C())}},randomNumberGenerator:{get:function(){return this.Bp},set:function(t){this.Bp!==t&&(null!==t&&"function"!=typeof t.random&&R('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+t),this.Bp=t)}},defaultSpringStiffness:{get:function(){return this.ol},set:function(t){this.ol!==t&&(this.ol=t,this.C())}},defaultSpringLength:{get:function(){return this.nl},set:function(t){this.nl!==t&&(this.nl=t,this.C())}},defaultElectricalCharge:{get:function(){return this.ll},set:function(t){this.ll!==t&&(this.ll=t,this.C())}},defaultGravitationalMass:{get:function(){return this.ml},set:function(t){this.ml!==t&&(this.ml=t,this.C())}},defaultCommentSpringLength:{get:function(){return this.On},set:function(t){this.On!==t&&(this.On=t,this.C())}},defaultCommentElectricalCharge:{get:function(){return this.Nn},set:function(t){this.Nn!==t&&(this.Nn=t,this.C())}}}),br.className="ForceDirectedLayout",kS.className="ForceDirectedSubnet",z(Ps,Hi),Ps.prototype.createVertex=function(){return new Tp(this)},Ps.prototype.createEdge=function(){return new Pp(this)},Ps.className="ForceDirectedNetwork",z(Tp,Xn),Tp.prototype.serializeVertexProperties=function(t,e){Xn.prototype.serializeVertexProperties.call(this,t,e),t.isFixed=this.isFixed,t.charge=this.charge,t.mass=this.mass},Tp.prototype.Cq=function(t,e,o,a){Xn.prototype.Cq.call(this,t,e,o,a),this.isFixed=t.isFixed,this.charge=t.charge,this.mass=t.mass},B.Object.defineProperties(Tp.prototype,{isFixed:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},charge:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},mass:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},forceX:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}},forceY:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}}}),Tp.className="ForceDirectedVertex",z(Pp,Br),Pp.prototype.serializeEdgeProperties=function(t,e){Br.prototype.serializeEdgeProperties.call(this,t,e),t.stiffness=this.stiffness,t.length=this.length},Pp.prototype.deserializeEdgeProperties=function(t,e,o,a){Br.prototype.deserializeEdgeProperties.call(this,t,e,o,a),this.stiffness=t.stiffness,this.length=t.length},B.Object.defineProperties(Pp.prototype,{stiffness:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},length:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}}}),Pp.className="ForceDirectedEdge",km.prototype.random=function(){var t=this.seed%this.Q*this.Zy-this.seed/this.Q*this.bz;return this.seed=0<t?t:t+this.az,this.seed*this.$y},km.className="RandomNumberGenerator",z(Li,Ai),Li.prototype.cloneProtected=function(t){Ai.prototype.cloneProtected.call(this,t),t.ue=this.ue,t.Zb=this.Zb,t.K=this.K,t.jl=this.jl,t.Ml=this.Ml,t.Bl=this.Bl,t.Rj=this.Rj,t.Zk=this.Zk,t.ng=this.ng,t.kf=this.kf,t.Mo=this.Mo},Li.prototype.serializeLayoutProperties=function(t,e){Ai.prototype.serializeLayoutProperties.call(this,t,e),t.layerSpacing=this.layerSpacing,t.columnSpacing=this.columnSpacing,t.direction=this.direction,t.cycleRemoveOption=this.cycleRemoveOption.name,t.layeringOption=this.layeringOption.name,t.initializeOption=this.initializeOption.name,t.iterations=this.iterations,t.aggressiveOption=this.aggressiveOption.name,t.packOption=this.packOption,t.setsPortSpots=this.setsPortSpots,t.linkSpacing=this.linkSpacing,t.sa=this.sa,t.Ji=this.Ji,t.Ca=this.Ca,t.mh=this.mh,t.pc=this.pc,t.zb=this.zb,t.oh=this.oh,t.Ec=this.Ec,t.Vc={x:this.Vc.x,y:this.Vc.y}},Li.prototype.deserializeLayoutProperties=function(t,e,o,a,h){Ai.prototype.deserializeLayoutProperties.call(this,t,e,o,a,h),this.layerSpacing=t.layerSpacing,this.columnSpacing=t.columnSpacing,this.direction=t.direction,this.cycleRemoveOption=Ct(Li,t.cycleRemoveOption),this.layeringOption=Ct(Li,t.layeringOption),this.initializeOption=Ct(Li,t.initializeOption),this.iterations=t.iterations,this.aggressiveOption=Ct(Li,t.aggressiveOption),this.packOption=t.packOption,this.setsPortSpots=t.setsPortSpots,this.linkSpacing=t.linkSpacing,this.sa=t.sa,this.Ji=t.Ji,this.Ca=t.Ca,this.mh=t.mh,this.pc=t.pc,this.zb=t.zb,this.oh=t.oh,this.Ec=t.Ec,this.Vc=new J(this.Vc.x,this.Vc.y),h&&!a&&h.edges.each(function(c){if(!c.link&&c.fromVertex&&c.toVertex&&(null===c.fromVertex.node||null===c.toVertex.node)){for(var m=c.fromVertex;null!==m&&null===m.node&&0<m.td.count;){var x=m.td.J(0);if(x.link){c.link=x.link;break}m=x.fromVertex}if(!c.link){for(x=c.toVertex;null!==x&&null===x.node&&0<x.Gd.count;){var S=x.Gd.J(0);if(S.link){c.link=S.link;break}x=S.toVertex}if(!c.link)for(x=x.td.iterator;x.next();)if((S=x.value).link&&S.fromVertex===m){c.link=S.link;break}}}})},Li.prototype.jb=function(t){t.classType===Li?0===t.name.indexOf("Aggressive")?this.aggressiveOption=t:0===t.name.indexOf("Cycle")?this.cycleRemoveOption=t:0===t.name.indexOf("Init")?this.initializeOption=t:0===t.name.indexOf("Layer")?this.layeringOption=t:R("Unknown enum value: "+t):Ai.prototype.jb.call(this,t)},Li.prototype.createNetwork=function(){return new bi(this)},Li.prototype.doLayout=function(t){for(null===this.network&&(this.network=this.makeNetwork(t)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Ji=-1,this.pc=this.mh=0,this.gp=this.fp=this.Wj=null,t=0;t<this.xe.length;t++)this.xe[t]=null;if(0<this.network.vertexes.count){if(this.network.Bq(),this.Uw())return;for(this.cycleRemoveOption!==eu&&this.removeCycles(),t=this.network.vertexes.iterator;t.next();)t.value.layer=-1;for(this.sa=-1,this.assignLayers(),t.reset();t.next();)this.sa=Math.max(this.sa,t.value.layer);this.cycleRemoveOption===eu&&this.removeCycles();for(var e=[],o=(t=this.network).edges.iterator;o.next();){var a=o.value;a.valid=!1,e.push(a)}for(o=0;o<e.length;o++){var h=(a=e[o]).fromVertex,c=a.toVertex;if(!(a.valid||(null===h.node&&null===h.data||null===c.node&&null===c.data)&&h.layer===c.layer)){var m=0,x=0,S=0,E=0;if(null!==a.link){if(null===(x=a.link))continue;var P=h.node;if(m=c.node,null===P||null===m)continue;var N=x.fromNode;S=x.toNode;var nt=x.fromPort;if(x=x.toPort,a.rev){E=N;var at=nt;N=S,nt=x,S=E,x=at}var rt=h.focus;E=c.focus;var _t=a.rev?c.bounds:h.bounds;at=J.alloc(),P!==N?_t.o()&&N.isVisible()?N.actualBounds.o()?(N.Df(nt,Xe,at),at.x+=N.actualBounds.x-_t.x,at.y+=N.actualBounds.y-_t.y):(N.Df(nt,Xe,at),at.o()||at.assign(rt)):at.assign(rt):_t.o()?(N.Df(nt,Xe,at),at.o()||at.assign(rt)):at.assign(rt),N=a.rev?h.bounds:c.bounds,P=J.alloc(),m!==S?N.o()&&S.isVisible()?S.actualBounds.o()?(S.Df(x,Xe,P),P.x+=S.actualBounds.x-N.x,P.y+=S.actualBounds.y-N.y):(S.Df(x,Xe,P),P.o()||P.assign(E)):P.assign(E):N.o()?(S.Df(x,Xe,P),P.o()||P.assign(E)):P.assign(E),90===this.K||270===this.K?(m=Math.round((at.x-rt.x)/this.Zb),S=at.x,x=Math.round((P.x-E.x)/this.Zb),E=P.x):(m=Math.round((at.y-rt.y)/this.Zb),S=at.y,x=Math.round((P.y-E.y)/this.Zb),E=P.y),J.free(at),J.free(P),a.portFromColOffset=m,a.portFromPos=S,a.portToColOffset=x,a.portToPos=E}else a.portFromColOffset=0,a.portFromPos=0,a.portToColOffset=0,a.portToPos=0;if(at=h.layer,P=c.layer,N=0,null!==(_t=a.link)){var It=_t.fromPort,Pt=_t.toPort;if(null!==It&&null!==Pt){var Vt=_t.fromNode;if(nt=_t.toNode,null!==Vt&&null!==nt){var Ht=Gu(this,!0),Wt=Gu(this,!1),Qt=this.setsPortSpots?Ht:_t.computeSpot(!0,It);rt=this.setsPortSpots?Wt:_t.computeSpot(!1,Pt);var me=_t.isOrthogonal;Qt.Oc()&&Qt.Ef(Wt)&&rt.Oc()&&rt.Ef(Ht)?N=0:(Ht=_t.getLinkPoint(Vt,It,Qt,!0,me,nt,Pt,J.alloc()),Wt=_t.getLinkDirection(Vt,It,Ht,Qt,!0,me,nt,Pt),J.free(Ht),Qt.Vt()||Wt!==fM(this,a,!0)?this.setsPortSpots&&null!==Vt&&1===Vt.ports.count&&a.rev&&(N+=1):N+=1,Qt=_t.getLinkPoint(nt,Pt,rt,!1,me,Vt,It,J.alloc()),_t=_t.getLinkDirection(nt,Pt,Qt,rt,!1,me,Vt,It),J.free(Qt),rt.Vt()||_t!==fM(this,a,!1)?this.setsPortSpots&&null!==nt&&1===nt.ports.count&&a.rev&&(N+=2):N+=2)}}}if(N=1===(nt=N)||3===nt,(nt=2===nt||3===nt)&&((rt=t.createVertex()).node=null,rt.wf=1,rt.layer=at,rt.near=h,t.Bg(rt),(h=t.Fk(h,rt,a.link)).valid=!1,h.rev=a.rev,h.portFromColOffset=m,h.portToColOffset=0,h.portFromPos=S,h.portToPos=0,h=rt),_t=1,N&&_t--,at-P>_t&&0<at){for(a.valid=!1,(rt=t.createVertex()).node=null,rt.wf=2,rt.layer=at-1,t.Bg(rt),(h=t.Fk(h,rt,a.link)).valid=!0,h.rev=a.rev,h.portFromColOffset=nt?0:m,h.portToColOffset=0,h.portFromPos=nt?0:S,h.portToPos=0,h=rt,at--;at-P>_t&&0<at;)(rt=t.createVertex()).node=null,rt.wf=3,rt.layer=at-1,t.Bg(rt),(h=t.Fk(h,rt,a.link)).valid=!0,h.rev=a.rev,h.portFromColOffset=0,h.portToColOffset=0,h.portFromPos=0,h.portToPos=0,h=rt,at--;(h=t.Fk(rt,c,a.link)).valid=!N,N&&(rt.near=c),h.rev=a.rev,h.portFromColOffset=0,h.portToColOffset=x,h.portFromPos=0,h.portToPos=E}else a.valid=!0}}for(t=this.zb=[],e=0;e<=this.sa;e++)t[e]=0;for(e=this.network.vertexes.iterator;e.next();)e.value.index=-1;for(this.initializeIndices(),this.Ji=-1,o=this.pc=this.mh=0;o<=this.sa;o++)t[o]>t[this.pc]&&(this.Ji=t[o]-1,this.pc=o),t[o]<t[this.mh]&&(this.mh=o);for(this.gp=[],o=0;o<t.length;o++)this.gp[o]=[];for(e.reset();e.next();)this.gp[(t=e.value).layer][t.index]=t;for(this.Ca=-1,t=0;t<=this.sa;t++){for(e=Ra(this,t),o=0,a=this.zb[t],c=0;c<a;c++)o+=this.nodeMinColumnSpace(h=e[c],!0),h.column=o,o+=1,o+=this.nodeMinColumnSpace(h,!1);this.Ca=Math.max(this.Ca,o-1),Oa(this,t,e)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},Li.prototype.linkMinLength=function(){return 1},Li.prototype.nodeMinLayerSpace=function(t,e){return null===t.node&&null===t.data?0:90===this.K||270===this.K?e?t.focus.y+10:t.bounds.height-t.focus.y+10:e?t.focus.x+10:t.bounds.width-t.focus.x+10},Li.prototype.nodeMinColumnSpace=function(t,e){if(null===t.node&&null===t.data)return 0;var o=e?t.Nk:t.Mk;return null!==o?o:90===(o=this.K)||270===o?e?t.Nk=t.focus.x/this.Zb+1|0:t.Mk=(t.bounds.width-t.focus.x)/this.Zb+1|0:e?t.Nk=t.focus.y/this.Zb+1|0:t.Mk=(t.bounds.height-t.focus.y)/this.Zb+1|0},Li.prototype.countCrossings=function(){for(var t=0,e=0;e<=this.sa;e++)for(var o=Qx(this,e,1),a=this.zb[e],h=0;h<a;h++)for(var c=h;c<a;c++)t+=o[h*a+c];return t},Li.prototype.normalize=function(){var t=1/0;this.Ca=-1;for(var e=this.network.vertexes.iterator;e.next();){var o=e.value;t=Math.min(t,o.column-this.nodeMinColumnSpace(o,!0)),this.Ca=Math.max(this.Ca,o.column+this.nodeMinColumnSpace(o,!1))}for(e.reset();e.next();)e.value.column-=t;this.Ca-=t},Li.prototype.removeCycles=function(){for(var t=this.network.edges.iterator;t.next();)t.value.rev=!1;switch(this.jl){default:var e=0,o=(t=this.network).vertexes.count-1,a=[];a.length=o+1;for(var h=t.vertexes.iterator;h.next();)h.value.valid=!0;for(;null!==AS(t);){for(h=uM(t);null!==h;)a[o]=h,o--,h.valid=!1,h=uM(t);for(h=cM(t);null!==h;)a[e]=h,e++,h.valid=!1,h=cM(t);h=null;for(var c=0,m=this.network.vertexes.iterator;m.next();){var x=m.value;if(x.valid){for(var S=0,E=x.destinationEdges;E.next();)E.value.toVertex.valid&&S++;E=0;for(var P=x.sourceEdges;P.next();)P.value.fromVertex.valid&&E++;(null===h||c<S-E)&&(h=x,c=S-E)}}null!==h&&(a[e]=h,e++,h.valid=!1)}for(e=0;e<t.vertexes.count;e++)a[e].index=e;for(a=t.edges.iterator;a.next();)(e=a.value).fromVertex.index>e.toVertex.index&&(t.Rm(e),e.rev=!0);break;case Wu:for(a=this.network.vertexes.iterator;a.next();)(t=a.value).Cg=-1,t.finish=-1;for(t=this.network.edges.iterator;t.next();)t.value.forest=!1;for(this.oh=0,a.reset();a.next();)0===(e=a.value).sourceEdges.count&&iw(this,e);for(a.reset();a.next();)-1===(e=a.value).Cg&&iw(this,e);for(t.reset();t.next();)(a=t.value).forest||(o=(e=a.fromVertex).finish,c=(h=a.toVertex).finish,h.Cg<e.Cg&&o<c&&(this.network.Rm(a),a.rev=!0));break;case eu:for(e=(t=this.network).vertexes.iterator,a=1/0;e.next();)a=Math.min(a,e.value.layer);if(1/0>a){if(0>a)for(e.reset();e.next();)e.value.layer-=a;for(a=[],e.reset();e.next();)void 0===(h=a[(o=e.value).layer])?a[o.layer]=[o]:h.push(o);for(o=e=0;o<a.length;o++)if((h=a[o])&&0!==h.length){if(0<o)for(c=0;c<h.length;c++)h[c].layer-=e}else e++;for(a=t.edges.iterator;a.next();)(e=a.value).fromVertex.layer<e.toVertex.layer&&(t.Rm(e),e.rev=!0)}}},Li.prototype.assignLayers=function(){switch(this.Ml){case ay:Tm(this);break;case ly:for(var t,e=this.network.vertexes.iterator;e.next();)t=nw(this,e.value),this.sa=Math.max(t,this.sa);for(e.reset();e.next();)(t=e.value).layer=this.sa-t.layer;break;default:for(Tm(this),e=this.network.vertexes.iterator;e.next();)e.value.valid=!1;for(e.reset();e.next();)0===(t=e.value).sourceEdges.count&&Ip(this,t);for(t=1/0,e.reset();e.next();)t=Math.min(t,e.value.layer);for(this.sa=-1,e.reset();e.next();){var o=e.value;o.layer-=t,this.sa=Math.max(this.sa,o.layer)}}},Li.prototype.initializeIndices=function(){switch(this.Bl){default:for(var t=this.network.vertexes.iterator;t.next();){var e=t.value,o=e.layer;e.index=this.zb[o],this.zb[o]++}break;case Pm:for(t=this.network.vertexes.iterator,e=this.sa;0<=e;e--)for(t.reset();t.next();)(o=t.value).layer===e&&-1===o.index&&dM(this,o);break;case hy:for(t=this.network.vertexes.iterator,e=0;e<=this.sa;e++)for(t.reset();t.next();)(o=t.value).layer===e&&-1===o.index&&sy(this,o)}},Li.prototype.reduceCrossings=function(){var o,a,c,m,x,t=this.countCrossings(),e=vo(this);for(o=0;o<this.Rj;o++){for(a=0;a<=this.sa;a++)rl(this,a,1),Vo(this,a,1);var h=this.countCrossings();for(h<t&&(t=h,e=vo(this)),a=this.sa;0<=a;a--)rl(this,a,-1),Vo(this,a,-1);(h=this.countCrossings())<t&&(t=h,e=vo(this))}for(Xs(this,e),o=0;o<this.Rj;o++){for(a=0;a<=this.sa;a++)rl(this,a,0),Vo(this,a,0);for((h=this.countCrossings())<t&&(t=h,e=vo(this)),a=this.sa;0<=a;a--)rl(this,a,0),Vo(this,a,0);(h=this.countCrossings())<t&&(t=h,e=vo(this))}switch(Xs(this,e),this.Zk){case cy:break;case fy:for(x=t+1;(a=this.countCrossings())<x;)for(x=a,o=this.sa;0<=o;o--)for(m=0;m<=o;m++){for(c=!0;c;)for(c=!1,a=o;a>=m;a--)c=Vo(this,a,-1)||c;for((h=this.countCrossings())>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=o;a>=m;a--)c=Vo(this,a,1)||c;for((h=this.countCrossings())>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=m;a<=o;a++)c=Vo(this,a,1)||c;for(h>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=m;a<=o;a++)c=Vo(this,a,-1)||c;for(h>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=o;a>=m;a--)c=Vo(this,a,0)||c;for(h>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=m;a<=o;a++)c=Vo(this,a,0)||c;h>=t?Xs(this,e):(t=h,e=vo(this))}break;default:for(o=this.sa,m=0,x=t+1;(a=this.countCrossings())<x;){for(x=a,c=!0;c;)for(c=!1,a=o;a>=m;a--)c=Vo(this,a,-1)||c;for((h=this.countCrossings())>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=o;a>=m;a--)c=Vo(this,a,1)||c;for((h=this.countCrossings())>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=m;a<=o;a++)c=Vo(this,a,1)||c;for(h>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=m;a<=o;a++)c=Vo(this,a,-1)||c;for(h>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=o;a>=m;a--)c=Vo(this,a,0)||c;for(h>=t?Xs(this,e):(t=h,e=vo(this)),c=!0;c;)for(c=!1,a=m;a<=o;a++)c=Vo(this,a,0)||c;h>=t?Xs(this,e):(t=h,e=vo(this))}}Xs(this,e)},Li.prototype.straightenAndPack=function(){var t=0!=(1&this.ng),e=0!=(this.ng&pM);if(1e3<this.network.edges.count&&e&&(t=!1),t){var o=[];for(e=0;e<=this.sa;e++)o[e]=0;for(var a,h=this.network.vertexes.iterator;h.next();){var c=h.value;e=c.layer,a=c.column,c=this.nodeMinColumnSpace(c,!1),o[e]=Math.max(o[e],a+c)}for(h.reset();h.next();)(c=h.value).column=(8*(this.Ca-o[e=c.layer])>>1)+8*(a=c.column);this.Ca*=8}if(0!=(2&this.ng))for(o=!0;o;){for(o=!1,e=this.pc+1;e<=this.sa;e++)o=yo(this,e,1)||o;for(e=this.pc-1;0<=e;e--)o=yo(this,e,-1)||o;o=yo(this,this.pc,0)||o}if(0!=(4&this.ng)){for(e=this.pc+1;e<=this.sa;e++)Rp(this,e,1);for(e=this.pc-1;0<=e;e--)Rp(this,e,-1);Rp(this,this.pc,0)}if(t&&($f(this,-1),$f(this,1)),0!=(2&this.ng))for(o=!0;o;){for(o=!1,o=yo(this,this.pc,0)||o,e=this.pc+1;e<=this.sa;e++)o=yo(this,e,0)||o;for(e=this.pc-1;0<=e;e--)o=yo(this,e,0)||o}},Li.prototype.commitLayout=function(){if(this.setsPortSpots)for(var t=Gu(this,!0),e=Gu(this,!1),o=this.network.edges.iterator;o.next();){var a=o.value.link;null!==a&&(a.fromSpot=t,a.toSpot=e)}this.commitNodes(),this.Iv(),this.isRouting&&this.commitLinks()},Li.prototype.commitNodes=function(){this.$d=[],this.zd=[],this.yd=[],this.Ia=[];for(var t=0;t<=this.sa;t++)this.$d[t]=0,this.zd[t]=0,this.yd[t]=0,this.Ia[t]=0;for(t=this.network.vertexes.iterator;t.next();){var e=t.value,o=e.layer;this.$d[o]=Math.max(this.$d[o],this.nodeMinLayerSpace(e,!0)),this.zd[o]=Math.max(this.zd[o],this.nodeMinLayerSpace(e,!1))}e=0,o=this.ue;for(var a=0;a<=this.sa;a++){var h=o;0>=this.$d[a]+this.zd[a]&&(h=0),0<a&&(e+=h/2),90===this.K||0===this.K?(this.yd[a]=e+=this.zd[a],e+=this.$d[a]):(this.yd[a]=e+=this.$d[a],e+=this.zd[a]),a<this.sa&&(e+=h/2),this.Ia[a]=e}for(o=e,e=this.arrangementOrigin,a=0;a<=this.sa;a++)270===this.K?this.yd[a]=e.y+this.yd[a]:90===this.K?(this.yd[a]=e.y+o-this.yd[a],this.Ia[a]=o-this.Ia[a]):180===this.K?this.yd[a]=e.x+this.yd[a]:(this.yd[a]=e.x+o-this.yd[a],this.Ia[a]=o-this.Ia[a]);for(t.reset(),o=a=1/0;t.next();){var c=(h=t.value).layer,m=0|h.column;if(270===this.K||90===this.K){var x=e.x+this.Zb*m;c=this.yd[c]}else x=this.yd[c],c=e.y+this.Zb*m;h.centerX=x,h.centerY=c,a=Math.min(h.x,a),o=Math.min(h.y,o)}for(this.Vc=new J(a=e.x-a,e=e.y-o),t.reset();t.next();)(o=t.value).x+=a,o.y+=e,o.commit()},Li.prototype.Iv=function(){for(var t=0,e=this.ue,o=0;o<=this.sa;o++)t+=this.$d[o],t+=this.zd[o];t+=this.sa*e,e=[],o=this.Zb*this.Ca;for(var a=this.maxLayer;0<=a;a--)e.push(270===this.K?0===a?new Lt(0,0,o,Math.abs(this.Ia[0])):new Lt(0,this.Ia[a-1],o,Math.abs(this.Ia[a-1]-this.Ia[a])):90===this.K?0===a?new Lt(0,this.Ia[0],o,Math.abs(this.Ia[0]-t)):new Lt(0,this.Ia[a],o,Math.abs(this.Ia[a-1]-this.Ia[a])):180===this.K?0===a?new Lt(0,0,Math.abs(this.Ia[0]),o):new Lt(this.Ia[a-1],0,Math.abs(this.Ia[a-1]-this.Ia[a]),o):0===a?new Lt(this.Ia[0],0,Math.abs(this.Ia[0]-t),o):new Lt(this.Ia[a],0,Math.abs(this.Ia[a-1]-this.Ia[a]),o));this.commitLayers(e,this.Vc)},Li.prototype.commitLayers=function(){},Li.prototype.commitLinks=function(){for(var e,t=this.network.edges.iterator;t.next();)null!==(e=t.value.link)&&(e.Th(),e.pk(),e.xf());for(t.reset();t.next();)null!==(e=t.value.link)&&e.xj();for(t.reset();t.next();){var o=t.value;if(null!==(e=o.link)){e.Th();var a=e,h=a.fromNode,c=a.toNode,m=a.fromPort,x=a.toPort;if(null!==h){var S=h.findVisibleNode();null!==S&&S!==h&&(h=S,m=S.port)}null!==c&&null!==(S=c.findVisibleNode())&&S!==c&&(c=S,x=S.port);var E=e.computeSpot(!0,m);S=e.computeSpot(!1,x);var P=o.fromVertex,N=o.toVertex;if(o.valid){if(e.curve===Rr&&4===e.pointsCount)if(P.column===N.column)o=e.getLinkPoint(h,m,E,!0,!1,c,x),m=e.getLinkPoint(c,x,S,!1,!1,h,m),o.o()||o.set(h.actualBounds.center),m.o()||m.set(c.actualBounds.center),e.pk(),e.vf(o.x,o.y),e.vf((2*o.x+m.x)/3,(2*o.y+m.y)/3),e.vf((o.x+2*m.x)/3,(o.y+2*m.y)/3),e.vf(m.x,m.y);else{var nt=!1,at=!1;if(null!==m&&E===yi&&(nt=!0),null!==x&&S===yi&&(at=!0),nt||at){var rt=e.i(0).x;o=e.i(0).y,P=e.i(3).x,a=e.i(3).y,nt&&(90===this.K||270===this.K?(nt=rt,N=(o+a)/2):(nt=(rt+P)/2,N=o),e.L(1,nt,N),(E=e.getLinkPoint(h,m,E,!0,!1,c,x)).o()||E.set(h.actualBounds.center),e.L(0,E.x,E.y)),at&&(90===this.K||270===this.K?(E=P,o=(o+a)/2):(E=(rt+P)/2,o=a),e.L(2,E,o),(h=e.getLinkPoint(c,x,S,!1,!1,h,m)).o()||h.set(c.actualBounds.center),e.L(3,h.x,h.y))}}e.xf()}else if(P.layer===N.layer)e.xf();else{if(nt=at=!1,rt=e.firstPickIndex+1,e.isOrthogonal){nt=!0;var _t=e.pointsCount;4<_t&&e.points.removeRange(2,_t-3)}else if(e.curve===Rr)at=!0,4<(_t=e.pointsCount)&&e.points.removeRange(2,_t-3),4===_t&&(rt=2);else{var It=E===yi,Pt=S===yi;2<(_t=e.pointsCount)&&It&&Pt?e.points.removeRange(1,_t-2):3<_t&&It&&!Pt?e.points.removeRange(1,_t-3):3<_t&&!It&&Pt?e.points.removeRange(2,_t-2):4<_t&&!It&&!Pt&&e.points.removeRange(2,_t-3)}if(o.rev){for(;null!==N&&P!==N;){var Vt=_t=null;for(It=N.sourceEdges.iterator;It.next()&&((Pt=It.value).link!==o.link||(Vt=Pt.toVertex,null!==(_t=Pt.fromVertex).node)););if(null===_t)break;if(_t!==P){It=e.i(rt-1).x,Pt=e.i(rt-1).y;var Ht=_t.centerX,Wt=_t.centerY;if(nt)180===this.K||0===this.K?rt===e.firstPickIndex+1?(e.m(rt++,It,Pt),e.m(rt++,It,Wt)):(null!==Vt?Vt.centerY:Pt)!==Wt&&(e.m(rt++,Vt=this.Ia[_t.layer-1]+this.Vc.x,Pt),e.m(rt++,Vt,Wt)):rt===e.firstPickIndex+1?(e.m(rt++,It,Pt),e.m(rt++,Ht,Pt)):(null!==Vt?Vt.centerX:It)!==Ht&&(e.m(rt++,It,Vt=this.Ia[_t.layer-1]+this.Vc.y),e.m(rt++,Ht,Vt));else if(rt===e.firstPickIndex+1){Vt=Math.max(10,this.$d[N.layer]);var Qt=Math.max(10,this.zd[N.layer]);if(at)180===this.K?Ht<=N.bounds.x?(e.m(rt++,(N=N.bounds.x)-Vt,Wt),e.m(rt++,N,Wt),e.m(rt++,N+Qt,Wt)):(e.m(rt++,Ht-Vt,Wt),e.m(rt++,Ht,Wt),e.m(rt++,Ht+Qt,Wt)):90===this.K?Wt>=N.bounds.bottom?(e.m(rt++,Ht,(N=N.bounds.y+N.bounds.height)+Qt),e.m(rt++,Ht,N),e.m(rt++,Ht,N-Vt)):(e.m(rt++,Ht,Wt+Qt),e.m(rt++,Ht,Wt),e.m(rt++,Ht,Wt-Vt)):270===this.K?Wt<=N.bounds.y?(e.m(rt++,Ht,(N=N.bounds.y)-Vt),e.m(rt++,Ht,N),e.m(rt++,Ht,N+Qt)):(e.m(rt++,Ht,Wt-Vt),e.m(rt++,Ht,Wt),e.m(rt++,Ht,Wt+Qt)):0===this.K&&(Ht>=N.bounds.right?(e.m(rt++,(N=N.bounds.x+N.bounds.width)+Qt,Wt),e.m(rt++,N,Wt),e.m(rt++,N-Vt,Wt)):(e.m(rt++,Ht+Qt,Wt),e.m(rt++,Ht,Wt),e.m(rt++,Ht-Vt,Wt)));else{e.m(rt++,It,Pt);var me=0;180===this.K||0===this.K?((180===this.K?Ht>=N.bounds.right:Ht<=N.bounds.x)&&(me=(0===this.K?-Vt:Qt)/2),e.m(rt++,It+me,Wt)):((270===this.K?Wt>=N.bounds.bottom:Wt<=N.bounds.y)&&(me=(90===this.K?-Vt:Qt)/2),e.m(rt++,Ht,Pt+me)),e.m(rt++,Ht,Wt)}}else Vt=Math.max(10,this.$d[_t.layer]),Qt=Math.max(10,this.zd[_t.layer]),180===this.K?(at&&e.m(rt++,Ht-Vt,Wt),e.m(rt++,Ht,Wt),at&&e.m(rt++,Ht+Qt,Wt)):90===this.K?(at&&e.m(rt++,Ht,Wt+Qt),e.m(rt++,Ht,Wt),at&&e.m(rt++,Ht,Wt-Vt)):270===this.K?(at&&e.m(rt++,Ht,Wt-Vt),e.m(rt++,Ht,Wt),at&&e.m(rt++,Ht,Wt+Qt)):(at&&e.m(rt++,Ht+Qt,Wt),e.m(rt++,Ht,Wt),at&&e.m(rt++,Ht-Vt,Wt))}N=_t}(null===x||E!==yi||nt)&&(It=e.i(rt-1).x,Pt=e.i(rt-1).y,Ht=e.i(rt).x,Wt=e.i(rt).y,nt?(N=this.zd[P.layer],180===this.K||0===this.K?((nt=Pt)>=P.bounds.y&&nt<=P.bounds.bottom&&(180===this.K?Ht>=P.bounds.x:Ht<=P.bounds.right)&&(nt=nt<P.bounds.y+P.bounds.height/2?P.bounds.y-this.Zb/2:P.bounds.bottom+this.Zb/2,e.m(rt++,N=P.centerX+(180===this.K?-N:N),Pt),e.m(rt++,N,nt)),e.m(rt++,Ht,nt)):((nt=It)>=P.bounds.x&&nt<=P.bounds.right&&(270===this.K?Wt>=P.bounds.y:Wt<=P.bounds.bottom)&&(nt=nt<P.bounds.x+P.bounds.width/2?P.bounds.x-this.Zb/2:P.bounds.right+this.Zb/2,e.m(rt++,It,N=P.centerY+(270===this.K?-N:N)),e.m(rt++,nt,N)),e.m(rt++,nt,Wt)),e.m(rt++,Ht,Wt)):at?(Vt=Math.max(10,this.$d[P.layer]),Qt=Math.max(10,this.zd[P.layer]),180===this.K&&Ht>=P.bounds.x?(e.L(rt-2,N=P.bounds.x+P.bounds.width,Pt),e.L(rt-1,N+Qt,Pt)):90===this.K&&Wt<=P.bounds.bottom?(e.L(rt-2,It,N=P.bounds.y),e.L(rt-1,It,N-Vt)):270===this.K&&Wt>=P.bounds.y?(e.L(rt-2,It,N=P.bounds.y+P.bounds.height),e.L(rt-1,It,N+Qt)):0===this.K&&Ht<=P.bounds.right&&(e.L(rt-2,N=P.bounds.x,Pt),e.L(rt-1,N-Vt,Pt))):(Vt=Math.max(10,this.$d[P.layer]),Qt=Math.max(10,this.zd[P.layer]),nt=0,180===this.K||0===this.K?((180===this.K?Ht<=P.bounds.x:Ht>=P.bounds.right)&&(nt=(0===this.K?Qt:-Vt)/2),e.m(rt++,Ht+nt,Pt)):((270===this.K?Wt<=P.bounds.y:Wt>=P.bounds.bottom)&&(nt=(90===this.K?Qt:-Vt)/2),e.m(rt++,It,Wt+nt)),e.m(rt++,Ht,Wt)))}else{for(;null!==P&&P!==N;){for(Vt=_t=null,P=P.destinationEdges.iterator;P.next()&&((It=P.value).link!==o.link||(null!==(Vt=It.fromVertex).node&&(Vt=null),null!==(_t=It.toVertex).node)););if(null===_t)break;_t!==N&&(It=e.i(rt-1).x,Pt=e.i(rt-1).y,Ht=_t.centerX,Wt=_t.centerY,nt?180===this.K||0===this.K?(null!==Vt?Vt.centerY:Pt)!==Wt&&(Vt=this.Ia[_t.layer]+this.Vc.x,rt===e.firstPickIndex+1&&(Vt=0===this.K?Math.max(Vt,It):Math.min(Vt,It)),e.m(rt++,Vt,Pt),e.m(rt++,Vt,Wt)):(null!==Vt?Vt.centerX:It)!==Ht&&(Vt=this.Ia[_t.layer]+this.Vc.y,rt===e.firstPickIndex+1&&(Vt=90===this.K?Math.max(Vt,Pt):Math.min(Vt,Pt)),e.m(rt++,It,Vt),e.m(rt++,Ht,Vt)):(Vt=Math.max(10,this.$d[_t.layer]),Qt=Math.max(10,this.zd[_t.layer]),180===this.K?(e.m(rt++,Ht+Qt,Wt),at&&e.m(rt++,Ht,Wt),e.m(rt++,Ht-Vt,Wt)):90===this.K?(e.m(rt++,Ht,Wt-Vt),at&&e.m(rt++,Ht,Wt),e.m(rt++,Ht,Wt+Qt)):270===this.K?(e.m(rt++,Ht,Wt+Qt),at&&e.m(rt++,Ht,Wt),e.m(rt++,Ht,Wt-Vt)):(e.m(rt++,Ht-Vt,Wt),at&&e.m(rt++,Ht,Wt),e.m(rt++,Ht+Qt,Wt)))),P=_t}nt&&(It=e.i(rt-1).x,Pt=e.i(rt-1).y,Ht=e.i(rt).x,Wt=e.i(rt).y,180===this.K||0===this.K?Pt!==Wt&&(Vt=0===this.K?Math.min(Math.max((Ht+It)/2,this.Ia[N.layer]+this.Vc.x),Ht):Math.max(Math.min((Ht+It)/2,this.Ia[N.layer]+this.Vc.x),Ht),e.m(rt++,Vt,Pt),e.m(rt++,Vt,Wt)):It!==Ht&&(Vt=90===this.K?Math.min(Math.max((Wt+Pt)/2,this.Ia[N.layer]+this.Vc.y),Wt):Math.max(Math.min((Wt+Pt)/2,this.Ia[N.layer]+this.Vc.y),Wt),e.m(rt++,It,Vt),e.m(rt++,Ht,Vt)))}null!==a&&at&&(null!==m&&(E===yi&&(E=e.i(0),a=e.i(2),E.w(a)||e.L(1,(E.x+a.x)/2,(E.y+a.y)/2)),(E=e.getLinkPoint(h,m,yi,!0,!1,c,x)).o()||E.set(h.actualBounds.center),e.L(0,E.x,E.y)),null!==x&&(S===yi&&(S=e.i(e.pointsCount-1),E=e.i(e.pointsCount-3),S.w(E)||e.L(e.pointsCount-2,(S.x+E.x)/2,(S.y+E.y)/2)),(h=e.getLinkPoint(c,x,yi,!1,!1,h,m)).o()||h.set(c.actualBounds.center),e.L(e.pointsCount-1,h.x,h.y))),e.xf(),o.commit()}}}this.avoidOrthogonalOverlaps()},Li.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var t=new St,e=this.network.edges.iterator;e.next();){var o=e.value.link;null!==o&&o.isOrthogonal&&!t.contains(o)&&t.add(o)}if(0<t.count)if(90===this.K||270===this.K){for(e=0,o=[],t=t.iterator;t.next();){var a=t.value;if(null!==a&&a.isOrthogonal)for(var h=2;h<a.pointsCount-3;h++){var c=a.i(h),m=a.i(h+1);if(this.A(c.y,m.y)&&!this.A(c.x,m.x)){var x=new $u;x.layer=Math.floor(c.y/2);var S=a.i(0),E=a.i(a.pointsCount-1);if(x.first=S.x*S.x+S.y,x.Xb=E.x*E.x+E.y,x.fd=Math.min(c.x,m.x),x.vc=Math.max(c.x,m.x),x.index=h,x.link=a,h+2<a.pointsCount){S=a.i(h-1),E=a.i(h+2);var P=0;S.y<c.y?P=E.y<c.y?3:c.x<m.x?2:1:S.y>c.y&&(P=E.y>c.y?0:m.x<c.x?2:1),x.l=P}o.push(x)}}}if(1<o.length)for(o.sort(this.Ry),t=0;t<o.length;){for(c=o[t].layer,a=t+1;a<o.length&&o[a].layer===c;)a++;if(1<a-t)for(c=t;c<a;){for(m=o[c].vc,h=t+1;h<a&&o[h].fd<m;)m=Math.max(m,o[h].vc),h++;if(1<(m=h-c)){for(this.uj(o,this.hu,c,c+m),P=1,x=o[c].Xb,S=c;S<h;S++)(E=o[S]).Xb!==x&&(P++,x=E.Xb);this.uj(o,this.Qy,c,c+m);var N=1;for(x=o[c].first,S=c;S<h;S++)(E=o[S]).first!==x&&(N++,x=E.first);for(S=!0,E=N,P<N?(S=!1,E=P,x=o[c].Xb,this.uj(o,this.hu,c,c+m)):x=o[c].first,P=0,N=c;N<h;N++){var nt=o[N];(S?nt.first:nt.Xb)!==x&&(P++,x=S?nt.first:nt.Xb);var at=nt.link;c=at.i(nt.index),m=at.i(nt.index+1);var rt=this.linkSpacing*(P-(E-1)/2);e++,at.Th(),at.L(nt.index,c.x,c.y+rt),at.L(nt.index+1,m.x,m.y+rt),at.xf()}}c=h}t=a}}else{for(e=0,o=[],t=t.iterator;t.next();)if(null!==(a=t.value)&&a.isOrthogonal)for(h=2;h<a.pointsCount-3;h++)c=a.i(h),m=a.i(h+1),this.A(c.x,m.x)&&!this.A(c.y,m.y)&&((x=new $u).layer=Math.floor(c.x/2),S=a.i(0),E=a.i(a.pointsCount-1),x.first=S.x+S.y*S.y,x.Xb=E.x+E.y*E.y,x.fd=Math.min(c.y,m.y),x.vc=Math.max(c.y,m.y),x.index=h,x.link=a,h+2<a.pointsCount&&(S=a.i(h-1),E=a.i(h+2),P=0,S.x<c.x?P=E.x<c.x?3:c.y<m.y?2:1:S.x>c.x&&(P=E.x>c.x?0:m.y<c.y?2:1),x.l=P),o.push(x));if(1<o.length)for(o.sort(this.Ry),t=0;t<o.length;){for(c=o[t].layer,a=t+1;a<o.length&&o[a].layer===c;)a++;if(1<a-t)for(c=t;c<a;){for(m=o[c].vc,h=t+1;h<a&&o[h].fd<m;)m=Math.max(m,o[h].vc),h++;if(1<(m=h-c)){for(this.uj(o,this.hu,c,c+m),P=1,x=o[c].Xb,S=c;S<h;S++)(E=o[S]).Xb!==x&&(P++,x=E.Xb);for(this.uj(o,this.Qy,c,c+m),N=1,x=o[c].first,S=c;S<h;S++)(E=o[S]).first!==x&&(N++,x=E.first);for(S=!0,E=N,P<N?(S=!1,E=P,x=o[c].Xb,this.uj(o,this.hu,c,c+m)):x=o[c].first,P=0,N=c;N<h;N++)nt=o[N],(S?nt.first:nt.Xb)!==x&&(P++,x=S?nt.first:nt.Xb),c=(at=nt.link).i(nt.index),m=at.i(nt.index+1),rt=this.linkSpacing*(P-(E-1)/2),e++,at.Th(),at.L(nt.index,c.x+rt,c.y),at.L(nt.index+1,m.x+rt,m.y),at.xf()}c=h}t=a}}}},(q=Li.prototype).Ry=function(t,e){return t instanceof $u&&e instanceof $u&&t!==e?t.layer<e.layer?-1:t.layer>e.layer?1:t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},q.Qy=function(t,e){return t instanceof $u&&e instanceof $u&&t!==e?t.first<e.first?-1:t.first>e.first||t.l<e.l?1:t.l>e.l||t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},q.hu=function(t,e){return t instanceof $u&&e instanceof $u&&t!==e?t.Xb<e.Xb?-1:t.Xb>e.Xb||t.l<e.l?1:t.l>e.l||t.fd<e.fd?-1:t.fd>e.fd?1:t.vc<e.vc?-1:t.vc>e.vc?1:0:0},q.A=function(t,e){return-1<(t-=e)&&1>t},q.uj=function(t,e,o,a){var h=t.length,c=a-o;if(!(1>=c))if((0>o||o>=h-1)&&R("not in range 0 <= from < length: "+o),2===c)0<e(a=t[o],h=t[o+1])&&(t[o]=h,t[o+1]=a);else if(0===o)if(a>=h)t.sort(e);else for((o=t.slice(0,a)).sort(e),e=0;e<a;e++)t[e]=o[e];else if(a>=h)for((a=t.slice(o)).sort(e),e=o;e<h;e++)t[e]=a[e-o];else for((h=t.slice(o,a)).sort(e),e=o;e<a;e++)t[e]=h[e-o]},B.Object.defineProperties(Li.prototype,{layerSpacing:{get:function(){return this.ue},set:function(t){this.ue!==t&&0<=t&&(this.ue=t,this.C())}},columnSpacing:{get:function(){return this.Zb},set:function(t){this.Zb!==t&&0<t&&(this.Zb=t,this.C())}},direction:{get:function(){return this.K},set:function(t){this.K!==t&&(0===t||90===t||180===t||270===t?(this.K=t,this.C()):R("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.jl},set:function(t){this.jl===t||t!==Nc&&t!==Wu&&t!==eu||(this.jl=t,this.C())}},layeringOption:{get:function(){return this.Ml},set:function(t){this.Ml===t||t!==Yu&&t!==ay&&t!==ly||(this.Ml=t,this.C())}},initializeOption:{get:function(){return this.Bl},set:function(t){this.Bl===t||t!==Pm&&t!==hy&&t!==uy||(this.Bl=t,this.C())}},iterations:{get:function(){return this.Rj},set:function(t){this.Rj!==t&&0<=t&&(this.Rj=t,this.C())}},aggressiveOption:{get:function(){return this.Zk},set:function(t){this.Zk===t||t!==cy&&t!==Im&&t!==fy||(this.Zk=t,this.C())}},packOption:{get:function(){return this.ng},set:function(t){this.ng!==t&&0<=t&&8>t&&(this.ng=t,this.C())}},setsPortSpots:{get:function(){return this.kf},set:function(t){this.kf!==t&&(this.kf=t,this.C())}},linkSpacing:{get:function(){return this.Mo},set:function(t){this.Mo!==t&&0<=t&&(this.Mo=t,this.C())}},maxLayer:{get:function(){return this.sa}},maxIndex:{get:function(){return this.Ji}},maxColumn:{get:function(){return this.Ca}},minIndexLayer:{get:function(){return this.mh}},maxIndexLayer:{get:function(){return this.pc}}});var Wu=new ct(Li,"CycleDepthFirst",0),Nc=new ct(Li,"CycleGreedy",1),eu=new ct(Li,"CycleFromLayers",2),Yu=new ct(Li,"LayerOptimalLinkLength",0),ay=new ct(Li,"LayerLongestPathSink",1),ly=new ct(Li,"LayerLongestPathSource",2),Pm=new ct(Li,"InitDepthFirstOut",0),hy=new ct(Li,"InitDepthFirstIn",1),uy=new ct(Li,"InitNaive",2),cy=new ct(Li,"AggressiveNone",0),Im=new ct(Li,"AggressiveLess",1),fy=new ct(Li,"AggressiveMore",2),pM=8;function $u(){this.index=this.vc=this.fd=this.Xb=this.first=this.layer=0,this.link=null,this.l=0}function bi(t){Hi.call(this,t)}function Kf(t){Xn.call(this,t),this.Ra=this.Rg=this.Fi=-1,this.I=NaN,this.T=null,this.valid=!1,this.finish=this.Cg=NaN,this.wf=0,this.Mk=this.Nk=null}function ol(t){Br.call(this,t),this.l=this.La=this.eb=!1,this.Ka=this.I=NaN,this.T=this.u=0}function gi(){Ai.call(this),this.Jb=new At,this.vp=gy,this.kd=al,this.oq=Fc,this.ts=MM,this.nx=[],this.jd=!0,this.Eb=_e,this.Pd=new fe(10,10).freeze();var t=new _h(this);this.U=new Ks(t),this.V=new Ks(t),this.uv=[]}function TS(t){var e=new At;for(t=t.iterator;t.next();){var o=t.value;o.initialized||e.add(o)}return e}function mM(t,e){var o=999999,a=null;for(e=e.iterator;e.next();){var h=e.value;switch(t.kd){case al:h.sourceEdges.count<o&&(o=h.sourceEdges.count,a=h);break;case Jf:h.destinationEdges.count<o&&(o=h.destinationEdges.count,a=h);break;default:R("Unhandled path value "+t.kd.toString())}}return a}function dy(t,e){if(null!==e){switch(t.kd){case al:if(0<e.destinationEdges.count){for(var o=new St,a=e.destinationVertexes;a.next();){var h=a.value;gM(t,e,h)&&o.add(h)}0<o.count&&(e.children=o.ma())}break;case Jf:if(0<e.sourceEdges.count){for(o=new St,a=e.sourceVertexes;a.next();)gM(t,e,h=a.value)&&o.add(h);0<o.count&&(e.children=o.ma())}break;default:R("Unhandled path value"+t.kd.toString())}for(a=(o=e.children).length,h=0;h<a;h++){var c=o[h];c.initialized=!0,c.level=e.level+1,c.parent=e,t.Jb.remove(c)}for(e=0;e<a;e++)dy(t,o[e])}}function gM(t,e,o){if(o.initialized){if(null===e)var a=!1;else{for(a=e.parent;null!==a&&a!==o;)a=a.parent;a=a===o}if(a||o.level>e.level)return!1;t.removeChild(o.parent,o)}return!0}function rw(t,e){if(null!==e){t.initializeTreeVertexValues(e),e.alignment===xh&&t.sortTreeVertexChildren(e);for(var o=0,a=e.childrenCount,h=0,c=e.children,m=c.length,x=0;x<m;x++){var S=c[x];rw(t,S),o+=S.descendantCount+1,a=Math.max(a,S.maxChildrenCount),h=Math.max(h,S.maxGenerationCount)}e.descendantCount=o,e.maxChildrenCount=a,e.maxGenerationCount=0<a?h+1:0}}function vM(t,e){if(null!==e){t.assignTreeVertexValues(e);for(var o=(e=e.children).length,a=0;a<o;a++)vM(t,e[a])}}function yM(t,e){if(null!==e){e.alignment!==xh&&t.sortTreeVertexChildren(e);for(var o=(e=e.children).length,a=0;a<o;a++)yM(t,e[a])}}function iu(t){return t===Fl||t===xh||t===Ll||t===wh}function py(t){return t===Fl||t===xh}function xM(t){var e=t.parent;if(null!==e){var o=e.alignment;if(iu(o)){if(py(o)){for(e=e.children,o=0;o<e.length&&t!==e[o];)o++;return o%2==0}if(o===Ll)return!0}}return!1}function wM(t,e){if(0===e.childrenCount){var o=!1,a=0;null!==e.parent&&(a=e.parent.angle,o=iu(o=e.parent.alignment));var h=xM(e);e.S.h(0,0),e.wa.h(e.width,e.height),null===e.parent||null===e.comments||(180!==a&&270!==a||o)&&!h?e.fa.h(0,0):180===a&&!o||(90===a||270===a)&&h?e.fa.h(e.width-2*e.focus.x,0):e.fa.h(0,e.height-2*e.focus.y)}else{o=90===(a=va(e))||270===a;for(var c=0,m=(h=e.children).length,x=0;x<m;x++){var S=h[x];c=Math.max(c,o?S.wa.width:S.wa.height)}var E=e.alignment,P=E===ll,N=E===hl;x=iu(E);var nt=Math.max(0,e.breadthLimit);S=qf(e);var at=e.nodeSpacing,rt=sl(e),_t=P||N?0:rt/2,It=e.rowSpacing,Pt=0;(P||N||e.Sm||e.Tm&&1===e.maxGenerationCount)&&(Pt=Math.max(0,e.rowIndent)),P=e.width;var Vt=e.height,Ht=0,Wt=0,Qt=0,me=0,Be=0,Ee=0,We=0,Te=0,ve=0;if(x&&!py(E)&&135<a&&h.reverse(),py(E))if(1<m)for(var xi=0;xi<m;xi++){var ri=h[xi],Ni=ri.wa;xi%2==0&&xi!==m-1&&(ve=Math.max(ve,(o?Ni.width:Ni.height)+Xu(ri)-at))}else 1===m&&(ve=o?h[0].wa.width:h[0].wa.height);if(x)switch(E){case Fl:case xh:ve=(Wt=135>a?IS(e,h,ve,Ht,Wt):_M(e,h,ve,Ht,Wt)).x,Ht=Wt.width,Wt=Wt.height;break;case Ll:for(t=0;t<m;t++)_t=(nt=h[t]).wa,Qt=0===We?0:It,o?(nt.S.h(c-_t.width,Be+Qt),Ht=Math.max(Ht,_t.width),Wt=Math.max(Wt,Be+Qt+_t.height),Be+=Qt+_t.height):(nt.S.h(me+Qt,c-_t.height),Ht=Math.max(Ht,me+Qt+_t.width),Wt=Math.max(Wt,_t.height),me+=Qt+_t.width),We++;break;case wh:for(c=0;c<m;c++)nt=(t=h[c]).wa,_t=0===We?0:It,o?(t.S.h(at/2+e.focus.x,Be+_t),Ht=Math.max(Ht,nt.width),Wt=Math.max(Wt,Be+_t+nt.height),Be+=_t+nt.height):(t.S.h(me+_t,at/2+e.focus.y),Ht=Math.max(Ht,me+_t+nt.width),Wt=Math.max(Wt,nt.height),me+=_t+nt.width),We++}else for(xi=0;xi<m;xi++){if(Ni=(ri=h[xi]).wa,o){0<nt&&0<We&&me+at+Ni.width>nt&&(me<c&&Zf(e,E,c-me,0,Te,xi-1),Ee++,We=0,Te=xi,Qt=Wt,me=0,Be=135<a?-Wt-It:Wt+It);var Rn=0===We?_t:at;my(t,ri,0,Be),ri.S.h(me+Rn,Be),Ht=Math.max(Ht,me+Rn+Ni.width),Wt=Math.max(Wt,Qt+(0===Ee?0:It)+Ni.height),me+=Rn+Ni.width}else 0<nt&&0<We&&Be+at+Ni.height>nt&&(Be<c&&Zf(e,E,0,c-Be,Te,xi-1),Ee++,We=0,Te=xi,Qt=Ht,Be=0,me=135<a?-Ht-It:Ht+It),Rn=0===We?_t:at,my(t,ri,me,0),ri.S.h(me,Be+Rn),Wt=Math.max(Wt,Be+Rn+Ni.height),Ht=Math.max(Ht,Qt+(0===Ee?0:It)+Ni.width),Be+=Rn+Ni.height;We++}switch(0<Ee&&(o?(Wt+=Math.max(0,S),me<Ht&&Zf(e,E,Ht-me,0,Te,m-1),0<Pt&&(N||Np(e,Pt,0,0,m-1),Ht+=Pt)):(Ht+=Math.max(0,S),Be<Wt&&Zf(e,E,0,Wt-Be,Te,m-1),0<Pt&&(N||Np(e,0,Pt,0,m-1),Wt+=Pt))),Pt=N=0,E){case Qf:o?N+=Ht/2-e.focus.x-rt/2:Pt+=Wt/2-e.focus.y-rt/2;break;case td:0<Ee?o?N+=Ht/2-e.focus.x-rt/2:Pt+=Wt/2-e.focus.y-rt/2:o?N+=(E=h[0].S.x+h[0].fa.x)+(h[m-1].S.x+h[m-1].fa.x+2*h[m-1].focus.x-E)/2-e.focus.x-rt/2:Pt+=(E=h[0].S.y+h[0].fa.y)+(h[m-1].S.y+h[m-1].fa.y+2*h[m-1].focus.y-E)/2-e.focus.y-rt/2;break;case ll:o?(N-=rt,Ht+=rt):(Pt-=rt,Wt+=rt);break;case hl:o?(N+=Ht-e.width+rt,Ht+=rt):(Pt+=Wt-e.height+rt,Wt+=rt);break;case Fl:case xh:o?N+=1<m?ve+at/2-e.focus.x:h[0].focus.x-e.focus.x+h[0].fa.x:Pt+=1<m?ve+at/2-e.focus.y:h[0].focus.y-e.focus.y+h[0].fa.y;break;case Ll:o?N+=Ht+at/2-e.focus.x:Pt+=Wt+at/2-e.focus.y;break;case wh:break;default:R("Unhandled alignment value "+E.toString())}for(rt=0;rt<m;rt++)E=h[rt],o?E.S.h(E.S.x+E.fa.x-N,E.S.y+(135<a?(x?-Wt:-E.wa.height)+E.fa.y-S:Vt+S+E.fa.y)):E.S.h(E.S.x+(135<a?(x?-Ht:-E.wa.width)+E.fa.x-S:P+S+E.fa.x),E.S.y+E.fa.y-Pt);o?(Ht=Rm(e,Ht,N),0>N&&(N=0),135<a&&(Pt+=Wt+S),Wt=Math.max(Math.max(Wt,Vt),Wt+Vt+S)):(135<a&&(N+=Ht+S),Ht=Math.max(Math.max(Ht,P),Ht+P+S),Wt=ow(e,Wt,Pt),0>Pt&&(Pt=0)),e.fa.h(N,Pt),e.wa.h(Ht,Wt)}}function IS(t,e,o,a,h){var c=e.length;if(0===c)return new Lt(o,0,a,h);if(1===c)return new Lt(o,0,a=(t=e[0]).wa.width,h=t.wa.height);for(var m=t.nodeSpacing,x=t.rowSpacing,S=90===va(t),E=0,P=0,N=0,nt=0;nt<c;nt++)if(!(nt%2!=0||1<c&&nt===c-1)){var at=e[nt],rt=at.wa,_t=0===E?0:x;if(S){var It=Xu(at)-m;at.S.h(o-(rt.width+It),N+_t),a=Math.max(a,rt.width+It),h=Math.max(h,N+_t+rt.height),N+=_t+rt.height}else It=Xu(at)-m,at.S.h(P+_t,o-(rt.height+It)),h=Math.max(h,rt.height+It),a=Math.max(a,P+_t+rt.width),P+=_t+rt.width;E++}for(E=0,at=P,nt=N,S?(P=o+m,N=0):(P=0,N=o+m),rt=0;rt<c;rt++)if(rt%2!=0){It=(_t=e[rt]).wa;var Pt=0===E?0:x;if(S){var Vt=Xu(_t)-m;_t.S.h(P+Vt,N+Pt),a=Math.max(a,P+It.width+Vt),h=Math.max(h,N+Pt+It.height),N+=Pt+It.height}else Vt=Xu(_t)-m,_t.S.h(P+Pt,N+Vt),a=Math.max(a,P+Pt+It.width),h=Math.max(h,N+It.height+Vt),P+=Pt+It.width;E++}return 1<c&&c%2==1&&(c=(e=e[c-1]).wa,x=null===e.parent?0:e.parent.rowSpacing,S?(e.S.h(o+m/2-e.focus.x-e.fa.x,h+x),S=o+m/2-e.focus.x-e.fa.x,a=Math.max(a,S+c.width),0>S&&(a-=S),h=Math.max(h,Math.max(nt,N)+x+c.height),0>e.S.x&&(o=Op(t,e.S.x,!1,o,m))):(e.S.h(a+x,o+m/2-e.focus.y-e.fa.y),a=Math.max(a,Math.max(at,P)+x+c.width),N=o+m/2-e.focus.y-e.fa.y,h=Math.max(h,N+c.height),0>N&&(h-=N),0>e.S.y&&(o=Op(t,e.S.y,!0,o,m)))),new Lt(o,0,a,h)}function _M(t,e,o,a,h){var c=e.length;if(0===c)return new Lt(o,0,a,h);if(1===c)return new Lt(o,0,a=(e=e[0]).wa.width,h=e.wa.height);for(var m=t.nodeSpacing,x=t.rowSpacing,S=270===va(t),E=0,P=0,N=0,nt=0;nt<c;nt++)if(!(nt%2!=0||1<c&&nt===c-1)){var at=e[nt],rt=at.wa,_t=0===E?0:x;if(S){var It=Xu(at)-m;at.S.h(o-(rt.width+It),N-=_t+rt.height),a=Math.max(a,rt.width+It),h=Math.max(h,Math.abs(N))}else It=Xu(at)-m,at.S.h(P-=_t+rt.width,o-(rt.height+It)),h=Math.max(h,rt.height+It),a=Math.max(a,Math.abs(P));E++}for(E=0,at=P,nt=N,S?(P=o+m,N=0):(P=0,N=o+m),rt=0;rt<c;rt++)if(rt%2!=0){It=(_t=e[rt]).wa;var Pt=0===E?0:x;if(S){var Vt=Xu(_t)-m;_t.S.h(P+Vt,N-=Pt+It.height),a=Math.max(a,P+It.width+Vt),h=Math.max(h,Math.abs(N))}else Vt=Xu(_t)-m,_t.S.h(P-=Pt+It.width,N+Vt),h=Math.max(h,N+It.height+Vt),a=Math.max(a,Math.abs(P));E++}for(1<c&&c%2==1&&(E=(x=e[c-1]).wa,rt=null===x.parent?0:x.parent.rowSpacing,S?(x.S.h(o+m/2-x.focus.x-x.fa.x,-h-E.height-rt),P=o+m/2-x.focus.x-x.fa.x,a=Math.max(a,P+E.width),0>P&&(a-=P),h=Math.max(h,Math.abs(Math.min(nt,N))+rt+E.height),0>x.S.x&&(o=Op(t,x.S.x,!1,o,m))):(x.S.h(-a-E.width-rt,o+m/2-x.focus.y-x.fa.y),a=Math.max(a,Math.abs(Math.min(at,P))+rt+E.width),N=o+m/2-x.focus.y-x.fa.y,h=Math.max(h,N+E.height),0>N&&(h-=N),0>x.S.y&&(o=Op(t,x.S.y,!0,o,m)))),t=0;t<c;t++)m=e[t],S?m.S.h(m.S.x,m.S.y+h):m.S.h(m.S.x+a,m.S.y);return new Lt(o,0,a,h)}function Xu(t){return null===t.parent?0:t.parent.nodeSpacing}function Op(t,e,o,a,h){for(var c=(t=t.children).length,m=0;m<c;m++)o?t[m].S.h(t[m].S.x,t[m].S.y-e):t[m].S.h(t[m].S.x-e,t[m].S.y);return e=t[c-1],Math.max(a,o?e.fa.y+e.focus.y-h/2:e.fa.x+e.focus.x-h/2)}function Rm(t,e,o){switch(t.alignment){case td:case Qf:return o+t.width>e&&(e=o+t.width),0>o&&(e-=o),e;case ll:return t.width>e?t.width:e;case hl:return 2*t.focus.x>e?t.width:e+t.width-2*t.focus.x;case Fl:case xh:return Math.max(t.width,Math.max(e,o+t.width)-Math.min(0,o));case Ll:return t.width-t.focus.x+t.nodeSpacing/2+e;case wh:return Math.max(t.width,t.focus.x+t.nodeSpacing/2+e);default:return e}}function ow(t,e,o){switch(t.alignment){case td:case Qf:return o+t.height>e&&(e=o+t.height),0>o&&(e-=o),e;case ll:return t.height>e?t.height:e;case hl:return 2*t.focus.y>e?t.height:e+t.height-2*t.focus.y;case Fl:case xh:return Math.max(t.height,Math.max(e,o+t.height)-Math.min(0,o));case Ll:return t.height-t.focus.y+t.nodeSpacing/2+e;case wh:return Math.max(t.height,t.focus.y+t.nodeSpacing/2+e);default:return e}}function bM(t,e,o){switch(t){case Qf:case td:e/=2,o/=2;break;case ll:o=e=0;break;case hl:break;default:R("Unhandled alignment value "+t.toString())}return new J(e,o)}function Zf(t,e,o,a,h,c){Np(t,(e=bM(e,o,a)).x,e.y,h,c)}function Np(t,e,o,a,h){if(0!==e||0!==o)for(t=t.children;a<=h;a++){var c=t[a].S;c.x+=e,c.y+=o}}function my(t,e,o,a){var h=e.parent;switch(t.kd){case al:for(t=e.sourceEdges;t.next();)(e=t.value).fromVertex===h&&e.relativePoint.h(o,a);break;case Jf:for(t=e.destinationEdges;t.next();)(e=t.value).toVertex===h&&e.relativePoint.h(o,a);break;default:R("Unhandled path value "+t.kd.toString())}}function Om(t,e,o){for(var a=0;a<t.length;a++){var h=t[a];h.x+=e,h.y+=o}}function RS(t,e,o,a,h,c,m,x){var S=va(e),E=90===S||270===S,P=e.nodeSpacing;e=a;var N=h;a=c;var nt=m,at=o.Pq,rt=o.br;m=o.wa;var _t=E?Math.max(nt,m.height):Math.max(a,m.width);if((null===at||S!==va(o))&&(at=jo(t,2),rt=jo(t,2),E?(at[0].h(0,0),at[1].h(0,m.height),rt[0].h(m.width,0),rt[1].h(rt[0].x,at[1].y)):(at[0].h(0,0),at[1].h(m.width,0),rt[0].h(0,m.height),rt[1].h(at[1].x,rt[0].y))),E){if(nt=9999999,!(null===N||2>N.length||null===at||2>at.length))for(h=o=0;o<N.length&&h<at.length;){var It=at[h];S=It.x,E=It.y,S+=a;var Pt=c=N[o];o+1<N.length&&(Pt=N[o+1]);var Vt=It;It=Vt.x,Vt=Vt.y,h+1<at.length&&(It=(Vt=at[h+1]).x,Vt=Vt.y,It+=a);var Ht=nt;c.y===E?Ht=S-c.x:c.y>E&&c.y<Vt?Ht=S+(c.y-E)/(Vt-E)*(It-S)-c.x:E>c.y&&E<Pt.y&&(Ht=S-(c.x+(E-c.y)/(Pt.y-c.y)*(Pt.x-c.x))),Ht<nt&&(nt=Ht),Pt.y<=c.y?o++:Vt<=E?h++:(Pt.y<=Vt&&o++,Vt<=Pt.y&&h++)}if(nt=a-nt,o=at,h=nt+=P,null===e||2>e.length||null===o||2>o.length)a=null;else{for(P=jo(t,e.length+o.length),a=c=S=0;c<o.length&&o[c].y<e[0].y;)E=o[c++],P[a++].h(E.x+h,E.y);for(;S<e.length;)E=e[S++],P[a++].h(E.x,E.y);for(S=e[e.length-1].y;c<o.length&&o[c].y<=S;)c++;for(;c<o.length&&o[c].y>S;)E=o[c++],P[a++].h(E.x+h,E.y);for(o=jo(t,a),S=0;S<a;S++)o[S].assign(P[S]);es(t,P),a=o}if(c=rt,S=nt,null===N||2>N.length||null===c||2>c.length)h=null;else{for(P=jo(t,N.length+c.length),h=E=o=0;o<N.length&&N[o].y<c[0].y;)Pt=N[o++],P[h++].h(Pt.x,Pt.y);for(;E<c.length;)Pt=c[E++],P[h++].h(Pt.x+S,Pt.y);for(c=c[c.length-1].y;o<N.length&&N[o].y<=c;)o++;for(;o<N.length&&N[o].y>c;)S=N[o++],P[h++].h(S.x,S.y);for(c=jo(t,h),o=0;o<h;o++)c[o].assign(P[o]);es(t,P),h=c}return c=Math.max(0,nt)+m.width,m=_t,es(t,e),es(t,at),es(t,N),es(t,rt),x[0]=a,x[1]=h,new Lt(nt,0,c,m)}if(a=9999999,!(null===N||2>N.length||null===at||2>at.length))for(h=o=0;o<N.length&&h<at.length;)S=(It=at[h]).x,E=It.y,E+=nt,Pt=c=N[o],o+1<N.length&&(Pt=N[o+1]),It=(Vt=It).x,Vt=Vt.y,h+1<at.length&&(It=(Vt=at[h+1]).x,Vt=Vt.y,Vt+=nt),Ht=a,c.x===S?Ht=E-c.y:c.x>S&&c.x<It?Ht=E+(c.x-S)/(It-S)*(Vt-E)-c.y:S>c.x&&S<Pt.x&&(Ht=E-(c.y+(S-c.x)/(Pt.x-c.x)*(Pt.y-c.y))),Ht<a&&(a=Ht),Pt.x<=c.x?o++:It<=S?h++:(Pt.x<=It&&o++,It<=Pt.x&&h++);if(nt-=a,o=at,h=nt+=P,null===e||2>e.length||null===o||2>o.length)a=null;else{for(P=jo(t,e.length+o.length),a=c=S=0;c<o.length&&o[c].x<e[0].x;)E=o[c++],P[a++].h(E.x,E.y+h);for(;S<e.length;)E=e[S++],P[a++].h(E.x,E.y);for(S=e[e.length-1].x;c<o.length&&o[c].x<=S;)c++;for(;c<o.length&&o[c].x>S;)E=o[c++],P[a++].h(E.x,E.y+h);for(o=jo(t,a),S=0;S<a;S++)o[S].assign(P[S]);es(t,P),a=o}if(c=rt,S=nt,null===N||2>N.length||null===c||2>c.length)h=null;else{for(P=jo(t,N.length+c.length),h=E=o=0;o<N.length&&N[o].x<c[0].x;)Pt=N[o++],P[h++].h(Pt.x,Pt.y);for(;E<c.length;)Pt=c[E++],P[h++].h(Pt.x,Pt.y+S);for(c=c[c.length-1].x;o<N.length&&N[o].x<=c;)o++;for(;o<N.length&&N[o].x>c;)S=N[o++],P[h++].h(S.x,S.y);for(c=jo(t,h),o=0;o<h;o++)c[o].assign(P[o]);es(t,P),h=c}return c=_t,m=Math.max(0,nt)+m.height,es(t,e),es(t,at),es(t,N),es(t,rt),x[0]=a,x[1]=h,new Lt(nt,0,c,m)}function jo(t,e){if(void 0!==(t=t.uv[e])&&void 0!==(t=t.pop()))return t;t=[];for(var o=0;o<e;o++)t[o]=new J;return t}function es(t,e){var o=e.length,a=t.uv[o];void 0===a&&(t.uv[o]=a=[]),a.push(e)}function sw(t,e,o,a){if(null!==e){e.x=o,e.y=a;for(var h=(e=e.children).length,c=0;c<h;c++){var m=e[c];sw(t,m,o+m.S.x,a+m.S.y)}}}function aw(t,e){if(null!==e){t.setPortSpots(e);for(var o=(e=e.children).length,a=0;a<o;a++)aw(t,e[a])}}function va(t){return 45>=(t=t.angle)?0:135>=t?90:225>=t?180:315>=t?270:0}function qf(t){var e=va(t);e=90===e||270===e;var o=t.layerSpacing;if(0<t.layerSpacingParentOverlap){var a=Math.min(1,t.layerSpacingParentOverlap);o-=e?t.height*a:t.width*a}return o<(e?-t.height:-t.width)&&(o=e?-t.height:-t.width),o}function sl(t){var e=va(t),o=t.nodeIndent;if(0<t.nodeIndentPastParent){var a=Math.min(1,t.nodeIndentPastParent);o+=90===e||270===e?t.width*a:t.height*a}return Math.max(0,o)}Li.className="LayeredDigraphLayout",Li.CycleDepthFirst=Wu,Li.CycleGreedy=Nc,Li.CycleFromLayers=eu,Li.LayerOptimalLinkLength=Yu,Li.LayerLongestPathSink=ay,Li.LayerLongestPathSource=ly,Li.InitDepthFirstOut=Pm,Li.InitDepthFirstIn=hy,Li.InitNaive=uy,Li.AggressiveNone=cy,Li.AggressiveLess=Im,Li.AggressiveMore=fy,Li.PackNone=0,Li.PackExpand=1,Li.PackStraighten=2,Li.PackMedian=4,Li.PackAll=15,$u.className="SegInfo",z(bi,Hi),bi.prototype.createVertex=function(){return new Kf(this)},bi.prototype.createEdge=function(){return new ol(this)},bi.className="LayeredDigraphNetwork",z(Kf,Xn),Kf.prototype.serializeVertexProperties=function(t,e){Xn.prototype.serializeVertexProperties.call(this,t,e),t.layer=this.layer,t.column=this.column,t.index=this.index,t.component=this.component,t.near=this.near?Jt(this.near):null,t.valid=this.valid,t.Cg=this.Cg,t.finish=this.finish,t.wf=this.wf,t.Nk=this.Nk,t.Mk=this.Mk},Kf.prototype.Cq=function(t,e,o,a){Xn.prototype.Cq.call(this,t,e,o,a),this.layer=t.layer,this.column=t.column,this.index=t.index,this.component=t.component,(e=e.get(t.near))&&(this.near=e),this.valid=t.valid,this.Cg=t.Cg,this.finish=t.finish,this.wf=t.wf,this.Nk=t.Nk,this.Mk=t.Mk},B.Object.defineProperties(Kf.prototype,{layer:{get:function(){return this.Fi},set:function(t){this.Fi!==t&&(this.Fi=t)}},column:{get:function(){return this.Rg},set:function(t){this.Rg!==t&&(this.Rg=t)}},index:{get:function(){return this.Ra},set:function(t){this.Ra!==t&&(this.Ra=t)}},component:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},near:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}}}),Kf.className="LayeredDigraphVertex",z(ol,Br),ol.prototype.serializeEdgeProperties=function(t,e){Br.prototype.serializeEdgeProperties.call(this,t,e),t.valid=this.valid,t.rev=this.rev,t.forest=this.forest,t.portFromPos=this.portFromPos,t.portToPos=this.portToPos,t.portFromColOffset=this.portFromColOffset,t.portToColOffset=this.portToColOffset},ol.prototype.deserializeEdgeProperties=function(t,e,o,a){Br.prototype.deserializeEdgeProperties.call(this,t,e,o,a),this.valid=t.valid,this.rev=t.rev,this.forest=t.forest,this.portFromPos=t.portFromPos,this.portToPos=t.portToPos,this.portFromColOffset=t.portFromColOffset,this.portToColOffset=t.portToColOffset},B.Object.defineProperties(ol.prototype,{fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},valid:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},rev:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},forest:{get:function(){return this.l},set:function(t){this.l!==t&&(this.l=t)}},portFromPos:{get:function(){return this.I},set:function(t){this.I!==t&&(this.I=t)}},portToPos:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}},portFromColOffset:{get:function(){return this.u},set:function(t){this.u!==t&&(this.u=t)}},portToColOffset:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}}}),ol.className="LayeredDigraphEdge",z(gi,Ai),gi.prototype.cloneProtected=function(t){Ai.prototype.cloneProtected.call(this,t),t.vp=this.vp,t.oq=this.oq,t.ts=this.ts,t.jd=this.jd,t.Eb=this.Eb,t.Pd.assign(this.Pd),t.U.copyInheritedPropertiesFrom(this.U),t.V.copyInheritedPropertiesFrom(this.V)},gi.prototype.jb=function(t){t.classType===gi?0===t.name.indexOf("Alignment")?this.alignment=t:0===t.name.indexOf("Arrangement")?this.arrangement=t:0===t.name.indexOf("Compaction")?this.compaction=t:0===t.name.indexOf("Path")?this.path=t:0===t.name.indexOf("Sorting")?this.sorting=t:0===t.name.indexOf("Style")?this.treeStyle=t:R("Unknown enum value: "+t):Ai.prototype.jb.call(this,t)},gi.prototype.createNetwork=function(){return new _h(this)},gi.prototype.makeNetwork=function(t){function e(a){if(a instanceof Fe)return!a.isLinkLabel&&"Comment"!==a.category;if(a instanceof Ce){var h=a.fromNode;return null!==h&&!h.isLinkLabel&&"Comment"!==h.category&&!(null===(a=a.toNode)||a.isLinkLabel||"Comment"===a.category)}return!1}var o=this.createNetwork();return t instanceof oe?(o.Ag(t.nodes,!0,e),o.Ag(t.links,!0,e)):o.Ag(t instanceof Je?t.memberParts:t.iterator,!1,e),o},gi.prototype.doLayout=function(t){null===this.network&&(this.network=this.makeNetwork(t)),this.arrangement!==Oi&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var e=this.diagram;if(null===e&&t instanceof oe&&(e=t),this.kd=this.path===gy&&null!==e?e.isTreePathToChildren?al:Jf:this.path===gy?al:this.path,0<this.network.vertexes.count){for(this.network.Bq(),t=this.network.vertexes.iterator;t.next();)(e=t.value).initialized=!1,e.level=0,e.parent=null,e.children=[];if(0<this.Jb.count){for(t=new At,e=this.Jb.iterator;e.next();){var o=e.value;o instanceof Fe?null!==(o=this.network.kj(o))&&t.add(o):o instanceof Ks&&t.add(o)}this.Jb=t}for(0===this.Jb.count&&this.findRoots(),t=this.Jb.copy().iterator;t.next();)(e=t.value).initialized||(e.initialized=!0,dy(this,e));for(e=this.network.vertexes,t=null;0<(t=TS(e)).count;)null!==(e=mM(this,t))&&this.Jb.add(e),e.initialized=!0,dy(this,e),e=t;for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof Ks&&rw(this,e);for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof Ks&&vM(this,e);for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof Ks&&yM(this,e);if(this.Fv(),this.layerStyle===Lc){for(t=[],e=this.network.vertexes.iterator;e.next();){var a=(o=e.value).parent;null===a&&(a=o),a=0===a.angle||180===a.angle;var h=t[o.level];void 0===h&&(h=0),t[o.level]=Math.max(h,a?o.width:o.height)}for(e=0;e<t.length;e++)void 0===t[e]&&(t[e]=0);for(this.nx=t,e=this.network.vertexes.iterator;e.next();)null===(a=(o=e.value).parent)&&(a=o),0===a.angle||180===a.angle?(180===a.angle&&(o.focusX+=t[o.level]-o.width),o.width=t[o.level]):(270===a.angle&&(o.focusY+=t[o.level]-o.height),o.height=t[o.level])}else if(this.layerStyle===uw)for(t=this.network.vertexes.iterator;t.next();){for(o=0===(e=t.value).angle||180===e.angle,a=-1,h=0;h<e.children.length;h++){var c=e.children[h];a=Math.max(a,o?c.width:c.height)}if(0<=a)for(h=0;h<e.children.length;h++)c=e.children[h],o?(180===e.angle&&(c.focusX+=a-c.width),c.width=a):(270===e.angle&&(c.focusY+=a-c.height),c.height=a)}for(t=this.Jb.iterator;t.next();)(e=t.value)instanceof Ks&&this.layoutTree(e);this.arrangeTrees(),this.updateParts()}this.network=null,this.Jb=new At,this.isValidLayout=!0},gi.prototype.findRoots=function(){for(var t=this.network.vertexes,e=t.iterator;e.next();){var o=e.value;switch(this.kd){case al:0===o.sourceEdges.count&&this.Jb.add(o);break;case Jf:0===o.destinationEdges.count&&this.Jb.add(o);break;default:R("Unhandled path value "+this.kd.toString())}}0===this.Jb.count&&null!==(t=mM(this,t))&&this.Jb.add(t)},gi.prototype.removeChild=function(t,e){if(null!==t&&null!==e){for(var o=t.children,a=0,h=0;h<o.length;h++)o[h]===e&&a++;if(0<a){a=Array(o.length-a);for(var c=h=0;c<o.length;c++)o[c]!==e&&(a[h++]=o[c]);t.children=a}}},gi.prototype.initializeTreeVertexValues=function(t){if(t.copyInheritedPropertiesFrom(function(t,e){switch(t.oq){default:return null!==e.parent?e.parent:t.U;case hw:return null===e.parent?t.U:null===e.parent.parent?t.V:e.parent;case Bm:return null!==e.parent?null!==e.parent.parent?e.parent.parent:t.V:t.U;case Ue:var o=!0;if(0===e.childrenCount)o=!1;else for(var a=e.children,h=a.length,c=0;c<h;c++)if(0<a[c].childrenCount){o=!1;break}return o&&null!==e.parent?t.V:null!==e.parent?e.parent:t.U}}(this,t)),null!==t.parent&&t.parent.alignment===xh){for(var e=t.angle,o=t.parent.children,a=0;a<o.length&&t!==o[a];)a++;a%2==0?a!==o.length-1&&(e=90===e?180:180===e?270:270===e?180:270):e=90===e?0:180===e?90:270===e?0:90,t.angle=e}t.initialized=!0},gi.prototype.assignTreeVertexValues=function(){},gi.prototype.sortTreeVertexChildren=function(t){switch(t.sorting){case Fp:break;case Nm:t.children.reverse();break;case Fm:t.children.sort(t.comparer);break;case Lm:t.children.sort(t.comparer),t.children.reverse();break;default:R("Unhandled sorting value "+t.sorting.toString())}},gi.prototype.Fv=function(){if(this.comments)for(var t=this.network.vertexes.iterator;t.next();)this.addComments(t.value)},gi.prototype.addComments=function(t){var e=t.angle,o=t.parent,a=0,h=!1;null!==o&&(a=o.angle,h=iu(h=o.alignment)),e=90===e||270===e,a=90===a||270===a,o=0===t.childrenCount;var c=0,m=0,x=0,S=t.commentSpacing;if(null!==t.node)for(var E=t.node.Sv();E.next();){var P=E.value;"Comment"===P.category&&P.canLayout()&&(null===t.comments&&(t.comments=[]),t.comments.push(P),P.Ta(),P=P.measuredBounds,e&&!o||!h&&!a&&o||h&&a&&o?(c=Math.max(c,P.width),m+=P.height+Math.abs(x)):(c+=P.width+Math.abs(x),m=Math.max(m,P.height)),x=S)}null!==t.comments&&(e&&!o||!h&&!a&&o||h&&a&&o?(c+=Math.abs(t.commentMargin),m=Math.max(0,m-t.height)):(m+=Math.abs(t.commentMargin),c=Math.max(0,c-t.width)),h=Lt.allocAt(0,0,t.bounds.width+c,t.bounds.height+m),t.bounds=h,Lt.free(h))},gi.prototype.layoutComments=function(t){if(null!==t.comments){var e=t.node.measuredBounds,o=t.parent,a=t.angle,h=0,c=!1;null!==o&&(h=o.angle,c=iu(c=o.alignment)),a=90===a||270===a,o=90===h||270===h;for(var m=0===t.childrenCount,x=xM(t),S=0,E=t.comments,P=E.length,N=J.alloc(),nt=0;nt<P;nt++){var at=E[nt],rt=at.measuredBounds;if(a&&!m||!c&&!o&&m||c&&o&&m){if(135<h&&!c||o&&x)if(0<=t.commentMargin)for(N.h(t.bounds.x-t.commentMargin-rt.width,t.bounds.y+S),at.move(N),at=at.Hd();at.next();){var _t=at.value;_t.fromSpot=_r,_t.toSpot=En}else for(N.h(t.bounds.x+2*t.focus.x-t.commentMargin,t.bounds.y+S),at.move(N),at=at.Hd();at.next();)(_t=at.value).fromSpot=En,_t.toSpot=_r;else if(0<=t.commentMargin)for(N.h(t.bounds.x+2*t.focus.x+t.commentMargin,t.bounds.y+S),at.move(N),at=at.Hd();at.next();)(_t=at.value).fromSpot=En,_t.toSpot=_r;else for(N.h(t.bounds.x+t.commentMargin-rt.width,t.bounds.y+S),at.move(N),at=at.Hd();at.next();)(_t=at.value).fromSpot=_r,_t.toSpot=En;S=0<=t.commentSpacing?S+(rt.height+t.commentSpacing):S+(t.commentSpacing-rt.height)}else{if(135<h&&!c||!o&&x)if(0<=t.commentMargin)for(N.h(t.bounds.x+S,t.bounds.y-t.commentMargin-rt.height),at.move(N),at=at.Hd();at.next();)(_t=at.value).fromSpot=aa,_t.toSpot=la;else for(N.h(t.bounds.x+S,t.bounds.y+2*t.focus.y-t.commentMargin),at.move(N),at=at.Hd();at.next();)(_t=at.value).fromSpot=la,_t.toSpot=aa;else if(0<=t.commentMargin)for(N.h(t.bounds.x+S,t.bounds.y+2*t.focus.y+t.commentMargin),at.move(N),at=at.Hd();at.next();)(_t=at.value).fromSpot=la,_t.toSpot=aa;else for(N.h(t.bounds.x+S,t.bounds.y+t.commentMargin-rt.height),at.move(N),at=at.Hd();at.next();)(_t=at.value).fromSpot=aa,_t.toSpot=la;S=0<=t.commentSpacing?S+(rt.width+t.commentSpacing):S+(t.commentSpacing-rt.width)}}if(J.free(N),e=S-t.commentSpacing-(a?e.height:e.width),this.kd===al)for(t=t.destinationEdges;t.next();)null===(h=t.value.link)||h.isAvoiding||(h.fromEndSegmentLength=0<e?e:NaN);else for(t=t.sourceEdges;t.next();)null===(h=t.value.link)||h.isAvoiding||(h.toEndSegmentLength=0<e?e:NaN)}},gi.prototype.layoutTree=function(t){if(null!==t){for(var e=t.children,o=e.length,a=0;a<o;a++)this.layoutTree(e[a]);switch(t.compaction){case lw:wM(this,t);break;case ie:if(t.alignment===xh)wM(this,t);else if(0===t.childrenCount)o=!1,e=0,null!==(a=t.parent)&&(e=a.angle,o=iu(o=a.alignment)),a=xM(t),t.S.h(0,0),t.wa.h(t.width,t.height),null===t.parent||null===t.comments||(180!==e&&270!==e||o)&&!a?t.fa.h(0,0):180===e&&!o||(90===e||270===e)&&a?t.fa.h(t.width-2*t.focus.x,0):t.fa.h(0,t.height-2*t.focus.y),t.Pq=null,t.br=null;else{var h=va(t);e=90===h||270===h;var c=0,m=t.children,x=m.length;for(o=0;o<x;o++)a=m[o],c=Math.max(c,e?a.wa.width:a.wa.height);var S=t.alignment,E=S===hl,P=iu(S),N=Math.max(0,t.breadthLimit);o=qf(t);var nt=t.nodeSpacing,at=sl(t),rt=t.rowSpacing,_t=0;(S===ll||E||t.Sm||t.Tm&&1===t.maxGenerationCount)&&(_t=Math.max(0,t.rowIndent)),a=t.width;var It=t.height,Pt=0,Vt=0,Ht=0,Wt=null,Qt=null,me=0,Be=0,Ee=0,We=0,Te=0,ve=0,xi=0,ri=0;if(P&&!py(S)&&135<h&&m.reverse(),py(S))if(1<x)for(var Ni=0;Ni<x;Ni++)Ni%2==0&&Ni!==x-1&&(ri=Math.max(ri,e?m[Ni].wa.width:m[Ni].wa.height));else 1===x&&(ri=e?m[0].wa.width:m[0].wa.height);if(P){switch(S){case Fl:ri=(Vt=135>h?IS(t,m,ri,Pt,Vt):_M(t,m,ri,Pt,Vt)).x,Pt=Vt.width,Vt=Vt.height;break;case Ll:for(Wt=0;Wt<x;Wt++)N=(Qt=m[Wt]).wa,Ht=0===ve?0:rt,e?(Qt.S.h(c-N.width,We+Ht),Pt=Math.max(Pt,N.width),Vt=Math.max(Vt,We+Ht+N.height),We+=Ht+N.height):(Qt.S.h(Ee+Ht,c-N.height),Pt=Math.max(Pt,Ee+Ht+N.width),Vt=Math.max(Vt,N.height),Ee+=Ht+N.width),ve++;break;case wh:for(Wt=0;Wt<x;Wt++)c=(Qt=m[Wt]).wa,N=0===ve?0:rt,e?(Qt.S.h(nt/2+t.focus.x,We+N),Pt=Math.max(Pt,c.width),Vt=Math.max(Vt,We+N+c.height),We+=N+c.height):(Qt.S.h(Ee+N,nt/2+t.focus.y),Pt=Math.max(Pt,Ee+N+c.width),Vt=Math.max(Vt,c.height),Ee+=N+c.width),ve++}Wt=jo(this,2),Qt=jo(this,2),e?(Wt[0].h(0,0),Wt[1].h(0,Vt),Qt[0].h(Pt,0)):(Wt[0].h(0,0),Wt[1].h(Pt,0),Qt[0].h(0,Vt)),Qt[1].h(Pt,Vt)}else for(Ni=0;Ni<x;Ni++){var Rn=m[Ni],dr=Rn.wa;if(e){0<N&&0<ve&&Ee+nt+dr.width>N&&(Ee<c&&Zf(t,S,c-Ee,0,xi,Ni-1),Te++,ve=0,xi=Ni,Ht=Vt,Ee=0,We=135<h?-Vt-rt:Vt+rt),my(this,Rn,0,We);var bn=0;if(0===ve)Qt=Rn.br,me=dr.width,Be=dr.height,(null===(Wt=Rn.Pq)||null===Qt||h!==va(Rn))&&(Wt=jo(this,2),Qt=jo(this,2),Wt[0].h(0,0),Wt[1].h(0,Be),Qt[0].h(me,0),Qt[1].h(me,Be));else{var hn=u();bn=(Be=RS(this,t,Rn,Wt,Qt,me,Be,hn)).x,Wt=hn[0],Qt=hn[1],me=Be.width,Be=Be.height,p(hn),Ee<dr.width&&0>bn&&(Np(t,-bn,0,xi,Ni-1),Om(Wt,-bn,0),Om(Qt,-bn,0),bn=0)}Rn.S.h(bn,We),Pt=Math.max(Pt,me),Vt=Math.max(Vt,Ht+(0===Te?0:rt)+dr.height),Ee=me}else 0<N&&0<ve&&We+nt+dr.height>N&&(We<c&&Zf(t,S,0,c-We,xi,Ni-1),Te++,ve=0,xi=Ni,Ht=Pt,We=0,Ee=135<h?-Pt-rt:Pt+rt),my(this,Rn,Ee,0),bn=0,0===ve?(Qt=Rn.br,me=dr.width,Be=dr.height,(null===(Wt=Rn.Pq)||null===Qt||h!==va(Rn))&&(Wt=jo(this,2),Qt=jo(this,2),Wt[0].h(0,0),Wt[1].h(me,0),Qt[0].h(0,Be),Qt[1].h(me,Be))):(bn=(Be=RS(this,t,Rn,Wt,Qt,me,Be,hn=u())).x,Wt=hn[0],Qt=hn[1],me=Be.width,Be=Be.height,p(hn),We<dr.height&&0>bn&&(Np(t,0,-bn,xi,Ni-1),Om(Wt,0,-bn),Om(Qt,0,-bn),bn=0)),Rn.S.h(Ee,bn),Vt=Math.max(Vt,Be),Pt=Math.max(Pt,Ht+(0===Te?0:rt)+dr.width),We=Be;ve++}switch(0<Te&&(e?(Vt+=Math.max(0,o),Ee<Pt&&Zf(t,S,Pt-Ee,0,xi,x-1),0<_t&&(E||Np(t,_t,0,0,x-1),Pt+=_t)):(Pt+=Math.max(0,o),We<Vt&&Zf(t,S,0,Vt-We,xi,x-1),0<_t&&(E||Np(t,0,_t,0,x-1),Vt+=_t))),_t=E=0,S){case Qf:e?E+=Pt/2-t.focus.x-at/2:_t+=Vt/2-t.focus.y-at/2;break;case td:0<Te?e?E+=Pt/2-t.focus.x-at/2:_t+=Vt/2-t.focus.y-at/2:e?E+=(ri=m[0].S.x+m[0].fa.x)+(m[x-1].S.x+m[x-1].fa.x+2*m[x-1].focus.x-ri)/2-t.focus.x-at/2:_t+=(ri=m[0].S.y+m[0].fa.y)+(m[x-1].S.y+m[x-1].fa.y+2*m[x-1].focus.y-ri)/2-t.focus.y-at/2;break;case ll:e?(E-=at,Pt+=at):(_t-=at,Vt+=at);break;case hl:e?(E+=Pt-t.width+at,Pt+=at):(_t+=Vt-t.height+at,Vt+=at);break;case Fl:e?E+=1<x?ri+nt/2-t.focus.x:m[0].focus.x-t.focus.x+m[0].fa.x:_t+=1<x?ri+nt/2-t.focus.y:m[0].focus.y-t.focus.y+m[0].fa.y;break;case Ll:e?E+=Pt+nt/2-t.focus.x:_t+=Vt+nt/2-t.focus.y;break;case wh:break;default:R("Unhandled alignment value "+S.toString())}for(at=0;at<x;at++)ri=m[at],e?ri.S.h(ri.S.x+ri.fa.x-E,ri.S.y+(135<h?(P?-Vt:-ri.wa.height)+ri.fa.y-o:It+o+ri.fa.y)):ri.S.h(ri.S.x+(135<h?(P?-Pt:-ri.wa.width)+ri.fa.x-o:a+o+ri.fa.x),ri.S.y+ri.fa.y-_t);if(x=m=0,P?e?(Pt=Rm(t,Pt,E),0>E&&(E=0),135<h&&(_t+=Vt+o),Vt+=It+o,S===wh&&(m+=nt/2+t.focus.x),x+=It+o):(135<h&&(E+=Pt+o),Pt+=a+o,Vt=ow(t,Vt,_t),0>_t&&(_t=0),S===wh&&(x+=nt/2+t.focus.y),m+=a+o):e?(null===t.comments?a>Pt&&(m=(Pt=bM(S,a-Pt,0)).x,x=Pt.y,Pt=a,E=0):Pt=Rm(t,Pt,E),0>E&&(m-=E,E=0),135<h&&(_t+=Vt+o),Vt=Math.max(Math.max(Vt,It),Vt+It+o),x+=It+o):(135<h&&(E+=Pt+o),Pt=Math.max(Math.max(Pt,a),Pt+a+o),null===t.comments?It>Vt&&(m=(Vt=bM(S,0,It-Vt)).x,x=Vt.y,Vt=It,_t=0):Vt=ow(t,Vt,_t),0>_t&&(x-=_t,_t=0),m+=a+o),0<Te)h=jo(this,4),Te=jo(this,4),e?(h[2].h(0,It+o),h[3].h(h[2].x,Vt),Te[2].h(Pt,h[2].y),Te[3].h(Te[2].x,h[3].y)):(h[2].h(a+o,0),h[3].h(Pt,h[2].y),Te[2].h(h[2].x,Vt),Te[3].h(h[3].x,Te[2].y));else{for(h=jo(this,Wt.length+2),Te=jo(this,Qt.length+2),S=0;S<Wt.length;S++)h[S+2].h((P=Wt[S]).x+m,P.y+x);for(S=0;S<Qt.length;S++)Te[S+2].h((P=Qt[S]).x+m,P.y+x)}e?(h[0].h(E,0),h[1].h(h[0].x,It),h[2].y<h[1].y&&(h[2].x>h[0].x?h[2].assign(h[1]):h[1].assign(h[2])),h[3].y<h[2].y&&(h[3].x>h[0].x?h[3].assign(h[2]):h[2].assign(h[3])),Te[0].h(E+a,0),Te[1].h(Te[0].x,It),Te[2].y<Te[1].y&&(Te[2].x<Te[0].x?Te[2].assign(Te[1]):Te[1].assign(Te[2])),Te[3].y<Te[2].y&&(Te[3].x<Te[0].x?Te[3].assign(Te[2]):Te[2].assign(Te[3])),h[2].y-=o/2,Te[2].y-=o/2):(h[0].h(0,_t),h[1].h(a,h[0].y),h[2].x<h[1].x&&(h[2].y>h[0].y?h[2].assign(h[1]):h[1].assign(h[2])),h[3].x<h[2].x&&(h[3].y>h[0].y?h[3].assign(h[2]):h[2].assign(h[3])),Te[0].h(0,_t+It),Te[1].h(a,Te[0].y),Te[2].x<Te[1].x&&(Te[2].y<Te[0].y?Te[2].assign(Te[1]):Te[1].assign(Te[2])),Te[3].x<Te[2].x&&(Te[3].y<Te[0].y?Te[3].assign(Te[2]):Te[2].assign(Te[3])),h[2].x-=o/2,Te[2].x-=o/2),es(this,Wt),es(this,Qt),t.Pq=h,t.br=Te,t.fa.h(E,_t),t.wa.h(Pt,Vt)}break;default:R("Unhandled compaction value "+t.compaction.toString())}}},gi.prototype.arrangeTrees=function(){if(this.Eb===Oi)for(var t=this.Jb.iterator;t.next();){var e=t.value;if(e instanceof Ks){var o=e.node;if(null!==o){var a=o.position;o=a.x,a=a.y,isFinite(o)||(o=0),isFinite(a)||(a=0),sw(this,e,o,a)}}}else{for(t=[],e=this.Jb.iterator;e.next();)(o=e.value)instanceof Ks&&t.push(o);switch(this.sorting){case Fp:break;case Nm:t.reverse();break;case Fm:t.sort(this.comparer);break;case Lm:t.sort(this.comparer),t.reverse();break;default:R("Unhandled sorting value "+this.sorting.toString())}for(e=(o=this.arrangementOrigin).x,o=o.y,a=0;a<t.length;a++){var h=t[a];switch(sw(this,h,e+h.fa.x,o+h.fa.y),this.Eb){case _e:o+=h.wa.height+this.Pd.height;break;case Me:e+=h.wa.width+this.Pd.width;break;default:R("Unhandled arrangement value "+this.Eb.toString())}}}},gi.prototype.commitLayout=function(){this.Dw(),this.commitNodes(),this.Iv(),this.isRouting&&this.commitLinks()},gi.prototype.commitNodes=function(){for(var t=this.network.vertexes.iterator;t.next();)t.value.commit();for(t.reset();t.next();)this.layoutComments(t.value)},gi.prototype.Iv=function(){if(this.layerStyle===Lc){for(var t=this.nx,e=[],o=null,a=this.network.vertexes.iterator;a.next();){var h=a.value;null===o?o=h.bounds.copy():o.Rc(h.bounds);var c=e[h.level];c=void 0===c?qf(h):Math.max(c,qf(h)),e[h.level]=c}for(a=0;a<e.length;a++)void 0===e[a]&&(e[a]=0);if(90===this.angle||270===this.angle?(o.Jc(this.nodeSpacing/2,this.layerSpacing),a=new J(-this.nodeSpacing/2,-this.layerSpacing/2)):(o.Jc(this.layerSpacing,this.nodeSpacing/2),a=new J(-this.layerSpacing/2,-this.nodeSpacing/2)),h=[],o=90===this.angle||270===this.angle?o.width:o.height,c=0,180===this.angle||270===this.angle)for(var m=0;m<t.length;m++)c+=t[m]+e[m];for(m=0;m<t.length;m++){var x=t[m]+e[m];270===this.angle?h.push(new Lt(0,c-=x,o,x)):90===this.angle?(h.push(new Lt(0,c,o,x)),c+=x):180===this.angle?h.push(new Lt(c-=x,0,x,o)):(h.push(new Lt(c,0,x,o)),c+=x)}this.commitLayers(h,a)}},gi.prototype.commitLayers=function(){},gi.prototype.commitLinks=function(){for(var t=this.network.edges.iterator;t.next();)t.value.commit()},gi.prototype.Dw=function(){for(var t=this.Jb.iterator;t.next();){var e=t.value;e instanceof Ks&&aw(this,e)}},gi.prototype.setPortSpots=function(t){var e=t.alignment;if(iu(e)){var o=this.kd===al,a=va(t);switch(a){case 0:var h=En;break;case 90:h=la;break;case 180:h=_r;break;default:h=aa}var c=t.children,m=c.length;switch(e){case Fl:case xh:for(e=0;e<m;e++){var x=c[e];if(null!==(x=(o?x.sourceEdges:x.destinationEdges).first())&&null!==(x=x.link)){var S=90===a||270===a?_r:aa;if(1===m||e===m-1&&m%2==1)switch(a){case 0:S=_r;break;case 90:S=aa;break;case 180:S=En;break;default:S=la}else e%2==0&&(S=90===a||270===a?En:la);o?(t.setsPortSpot&&(x.fromSpot=h),t.setsChildPortSpot&&(x.toSpot=S)):(t.setsPortSpot&&(x.fromSpot=S),t.setsChildPortSpot&&(x.toSpot=h))}}break;case Ll:for(a=90===a||270===a?En:la,c=o?t.destinationEdges:t.sourceEdges;c.next();)null!==(m=c.value.link)&&(o?(t.setsPortSpot&&(m.fromSpot=h),t.setsChildPortSpot&&(m.toSpot=a)):(t.setsPortSpot&&(m.fromSpot=a),t.setsChildPortSpot&&(m.toSpot=h)));break;case wh:for(a=90===a||270===a?_r:aa,c=o?t.destinationEdges:t.sourceEdges;c.next();)null!==(m=c.value.link)&&(o?(t.setsPortSpot&&(m.fromSpot=h),t.setsChildPortSpot&&(m.toSpot=a)):(t.setsPortSpot&&(m.fromSpot=a),t.setsChildPortSpot&&(m.toSpot=h)))}}else if(o=va(t),this.kd===al){for(h=t.destinationEdges;h.next();)if(null!==(a=h.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(o){case 0:a.fromSpot=En;break;case 90:a.fromSpot=la;break;case 180:a.fromSpot=_r;break;default:a.fromSpot=aa}else a.fromSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(o){case 0:a.toSpot=_r;break;case 90:a.toSpot=aa;break;case 180:a.toSpot=En;break;default:a.toSpot=la}else a.toSpot=t.childPortSpot}}else for(h=t.sourceEdges;h.next();)if(null!==(a=h.value.link)){if(t.setsPortSpot)if(t.portSpot.Mb())switch(o){case 0:a.toSpot=En;break;case 90:a.toSpot=la;break;case 180:a.toSpot=_r;break;default:a.toSpot=aa}else a.toSpot=t.portSpot;if(t.setsChildPortSpot)if(t.childPortSpot.Mb())switch(o){case 0:a.fromSpot=_r;break;case 90:a.fromSpot=aa;break;case 180:a.fromSpot=En;break;default:a.fromSpot=la}else a.fromSpot=t.childPortSpot}},B.Object.defineProperties(gi.prototype,{roots:{get:function(){return this.Jb},set:function(t){this.Jb!==t&&(this.Jb=t,this.C())}},path:{get:function(){return this.vp},set:function(t){this.vp!==t&&(this.vp=t,this.C())}},treeStyle:{get:function(){return this.oq},set:function(t){this.Eb===t||t!==Fc&&t!==Bm&&t!==Ue&&t!==hw||(this.oq=t,this.C())}},layerStyle:{get:function(){return this.ts},set:function(t){this.Eb===t||t!==MM&&t!==uw&&t!==Lc||(this.ts=t,this.C())}},comments:{get:function(){return this.jd},set:function(t){this.jd!==t&&(this.jd=t,this.C())}},arrangement:{get:function(){return this.Eb},set:function(t){this.Eb===t||t!==_e&&t!==Me&&t!==Oi||(this.Eb=t,this.C())}},arrangementSpacing:{get:function(){return this.Pd},set:function(t){this.Pd.w(t)||(this.Pd.assign(t),this.C())}},rootDefaults:{get:function(){return this.U},set:function(t){this.U!==t&&(this.U=t,this.C())}},alternateDefaults:{get:function(){return this.V},set:function(t){this.V!==t&&(this.V=t,this.C())}},sorting:{get:function(){return this.U.sorting},set:function(t){this.U.sorting===t||t!==Fp&&t!==Nm&&t!==Fm&&!Lm||(this.U.sorting=t,this.C())}},comparer:{get:function(){return this.U.comparer},set:function(t){this.U.comparer!==t&&(this.U.comparer=t,this.C())}},angle:{get:function(){return this.U.angle},set:function(t){this.U.angle!==t&&(0===t||90===t||180===t||270===t?(this.U.angle=t,this.C()):R("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.U.alignment},set:function(t){this.U.alignment!==t&&(this.U.alignment=t,this.C())}},nodeIndent:{get:function(){return this.U.nodeIndent},set:function(t){this.U.nodeIndent!==t&&0<=t&&(this.U.nodeIndent=t,this.C())}},nodeIndentPastParent:{get:function(){return this.U.nodeIndentPastParent},set:function(t){this.U.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.U.nodeIndentPastParent=t,this.C())}},nodeSpacing:{get:function(){return this.U.nodeSpacing},set:function(t){this.U.nodeSpacing!==t&&(this.U.nodeSpacing=t,this.C())}},layerSpacing:{get:function(){return this.U.layerSpacing},set:function(t){this.U.layerSpacing!==t&&(this.U.layerSpacing=t,this.C())}},layerSpacingParentOverlap:{get:function(){return this.U.layerSpacingParentOverlap},set:function(t){this.U.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.U.layerSpacingParentOverlap=t,this.C())}},compaction:{get:function(){return this.U.compaction},set:function(t){this.U.compaction===t||t!==lw&&t!==ie||(this.U.compaction=t,this.C())}},breadthLimit:{get:function(){return this.U.breadthLimit},set:function(t){this.U.breadthLimit!==t&&0<=t&&(this.U.breadthLimit=t,this.C())}},rowSpacing:{get:function(){return this.U.rowSpacing},set:function(t){this.U.rowSpacing!==t&&(this.U.rowSpacing=t,this.C())}},rowIndent:{get:function(){return this.U.rowIndent},set:function(t){this.U.rowIndent!==t&&0<=t&&(this.U.rowIndent=t,this.C())}},commentSpacing:{get:function(){return this.U.commentSpacing},set:function(t){this.U.commentSpacing!==t&&(this.U.commentSpacing=t,this.C())}},commentMargin:{get:function(){return this.U.commentMargin},set:function(t){this.U.commentMargin!==t&&(this.U.commentMargin=t,this.C())}},setsPortSpot:{get:function(){return this.U.setsPortSpot},set:function(t){this.U.setsPortSpot!==t&&(this.U.setsPortSpot=t,this.C())}},portSpot:{get:function(){return this.U.portSpot},set:function(t){this.U.portSpot.w(t)||(this.U.portSpot=t,this.C())}},setsChildPortSpot:{get:function(){return this.U.setsChildPortSpot},set:function(t){this.U.setsChildPortSpot!==t&&(this.U.setsChildPortSpot=t,this.C())}},childPortSpot:{get:function(){return this.U.childPortSpot},set:function(t){this.U.childPortSpot.w(t)||(this.U.childPortSpot=t,this.C())}},alternateSorting:{get:function(){return this.V.sorting},set:function(t){this.V.sorting===t||t!==Fp&&t!==Nm&&t!==Fm&&!Lm||(this.V.sorting=t,this.C())}},alternateComparer:{get:function(){return this.V.comparer},set:function(t){this.V.comparer!==t&&(this.V.comparer=t,this.C())}},alternateAngle:{get:function(){return this.V.angle},set:function(t){this.V.angle===t||0!==t&&90!==t&&180!==t&&270!==t||(this.V.angle=t,this.C())}},alternateAlignment:{get:function(){return this.V.alignment},set:function(t){this.V.alignment!==t&&(this.V.alignment=t,this.C())}},alternateNodeIndent:{get:function(){return this.V.nodeIndent},set:function(t){this.V.nodeIndent!==t&&0<=t&&(this.V.nodeIndent=t,this.C())}},alternateNodeIndentPastParent:{get:function(){return this.V.nodeIndentPastParent},set:function(t){this.V.nodeIndentPastParent!==t&&0<=t&&1>=t&&(this.V.nodeIndentPastParent=t,this.C())}},alternateNodeSpacing:{get:function(){return this.V.nodeSpacing},set:function(t){this.V.nodeSpacing!==t&&(this.V.nodeSpacing=t,this.C())}},alternateLayerSpacing:{get:function(){return this.V.layerSpacing},set:function(t){this.V.layerSpacing!==t&&(this.V.layerSpacing=t,this.C())}},alternateLayerSpacingParentOverlap:{get:function(){return this.V.layerSpacingParentOverlap},set:function(t){this.V.layerSpacingParentOverlap!==t&&0<=t&&1>=t&&(this.V.layerSpacingParentOverlap=t,this.C())}},alternateCompaction:{get:function(){return this.V.compaction},set:function(t){this.V.compaction===t||t!==lw&&t!==ie||(this.V.compaction=t,this.C())}},alternateBreadthLimit:{get:function(){return this.V.breadthLimit},set:function(t){this.V.breadthLimit!==t&&0<=t&&(this.V.breadthLimit=t,this.C())}},alternateRowSpacing:{get:function(){return this.V.rowSpacing},set:function(t){this.V.rowSpacing!==t&&(this.V.rowSpacing=t,this.C())}},alternateRowIndent:{get:function(){return this.V.rowIndent},set:function(t){this.V.rowIndent!==t&&0<=t&&(this.V.rowIndent=t,this.C())}},alternateCommentSpacing:{get:function(){return this.V.commentSpacing},set:function(t){this.V.commentSpacing!==t&&(this.V.commentSpacing=t,this.C())}},alternateCommentMargin:{get:function(){return this.V.commentMargin},set:function(t){this.V.commentMargin!==t&&(this.V.commentMargin=t,this.C())}},alternateSetsPortSpot:{get:function(){return this.V.setsPortSpot},set:function(t){this.V.setsPortSpot!==t&&(this.V.setsPortSpot=t,this.C())}},alternatePortSpot:{get:function(){return this.V.portSpot},set:function(t){this.V.portSpot.w(t)||(this.V.portSpot=t,this.C())}},alternateSetsChildPortSpot:{get:function(){return this.V.setsChildPortSpot},set:function(t){this.V.setsChildPortSpot!==t&&(this.V.setsChildPortSpot=t,this.C())}},alternateChildPortSpot:{get:function(){return this.V.childPortSpot},set:function(t){this.V.childPortSpot.w(t)||(this.V.childPortSpot=t,this.C())}}});var gy=new ct(gi,"PathDefault",-1),al=new ct(gi,"PathDestination",0),Jf=new ct(gi,"PathSource",1),Fp=new ct(gi,"SortingForwards",10),Nm=new ct(gi,"SortingReverse",11),Fm=new ct(gi,"SortingAscending",12),Lm=new ct(gi,"SortingDescending",13),Qf=new ct(gi,"AlignmentCenterSubtrees",20),td=new ct(gi,"AlignmentCenterChildren",21),ll=new ct(gi,"AlignmentStart",22),hl=new ct(gi,"AlignmentEnd",23),Fl=new ct(gi,"AlignmentBus",24),xh=new ct(gi,"AlignmentBusBranching",25),Ll=new ct(gi,"AlignmentTopLeftBus",26),wh=new ct(gi,"AlignmentBottomRightBus",27),lw=new ct(gi,"CompactionNone",30),ie=new ct(gi,"CompactionBlock",31),Fc=new ct(gi,"StyleLayered",40),Ue=new ct(gi,"StyleLastParents",41),Bm=new ct(gi,"StyleAlternating",42),hw=new ct(gi,"StyleRootOnly",43),_e=new ct(gi,"ArrangementVertical",50),Me=new ct(gi,"ArrangementHorizontal",51),Oi=new ct(gi,"ArrangementFixedRoots",52),MM=new ct(gi,"LayerIndividual",60),uw=new ct(gi,"LayerSiblings",61),Lc=new ct(gi,"LayerUniform",62);function _h(t){Hi.call(this,t)}function Ks(t){Xn.call(this,t),this.Ka=!1,this.Cc=null,this.I=[],this.Sc=this.eb=this.T=this.La=0,this.jd=null,this.S=new J(0,0),this.wa=new fe(0,0),this.fa=new J(0,0),this.Tm=this.Sm=this.ZA=!1,this.br=this.Pq=null,this.bd=Fp,this.Wc=jv,this.Yb=0,this.yb=td,this.Ds=this.Cs=0,this.Es=20,this.ue=50,this.ss=0,this.Er=ie,this.wr=0,this.Rs=25,this.Dr=this.Qs=10,this.Cr=20,this.dt=!0,this.Ms=eo,this.ct=!0,this.zr=eo}function Ho(t){Br.call(this,t),this.lv=new J(0,0)}gi.className="TreeLayout",gi.PathDefault=gy,gi.PathDestination=al,gi.PathSource=Jf,gi.SortingForwards=Fp,gi.SortingReverse=Nm,gi.SortingAscending=Fm,gi.SortingDescending=Lm,gi.AlignmentCenterSubtrees=Qf,gi.AlignmentCenterChildren=td,gi.AlignmentStart=ll,gi.AlignmentEnd=hl,gi.AlignmentBus=Fl,gi.AlignmentBusBranching=xh,gi.AlignmentTopLeftBus=Ll,gi.AlignmentBottomRightBus=wh,gi.CompactionNone=lw,gi.CompactionBlock=ie,gi.StyleLayered=Fc,gi.StyleLastParents=Ue,gi.StyleAlternating=Bm,gi.StyleRootOnly=hw,gi.ArrangementVertical=_e,gi.ArrangementHorizontal=Me,gi.ArrangementFixedRoots=Oi,gi.LayerIndividual=MM,gi.LayerSiblings=uw,gi.LayerUniform=Lc,z(_h,Hi),_h.prototype.createVertex=function(){return new Ks(this)},_h.prototype.createEdge=function(){return new Ho(this)},_h.className="TreeNetwork",z(Ks,Xn),Ks.prototype.copyInheritedPropertiesFrom=function(t){null!==t&&(this.bd=t.sorting,this.Wc=t.comparer,this.Yb=t.angle,this.yb=t.alignment,this.Cs=t.nodeIndent,this.Ds=t.nodeIndentPastParent,this.Es=t.nodeSpacing,this.ue=t.layerSpacing,this.ss=t.layerSpacingParentOverlap,this.Er=t.compaction,this.wr=t.breadthLimit,this.Rs=t.rowSpacing,this.Qs=t.rowIndent,this.Dr=t.commentSpacing,this.Cr=t.commentMargin,this.dt=t.setsPortSpot,this.Ms=t.portSpot,this.ct=t.setsChildPortSpot,this.zr=t.childPortSpot)},B.Object.defineProperties(Ks.prototype,{initialized:{get:function(){return this.Ka},set:function(t){this.Ka!==t&&(this.Ka=t)}},parent:{get:function(){return this.Cc},set:function(t){this.Cc!==t&&(this.Cc=t)}},children:{get:function(){return this.I},set:function(t){if(this.I!==t){if(null!==t)for(var e=t.length,o=0;o<e;o++);this.I=t}}},level:{get:function(){return this.La},set:function(t){this.La!==t&&(this.La=t)}},descendantCount:{get:function(){return this.T},set:function(t){this.T!==t&&(this.T=t)}},maxChildrenCount:{get:function(){return this.eb},set:function(t){this.eb!==t&&(this.eb=t)}},maxGenerationCount:{get:function(){return this.Sc},set:function(t){this.Sc!==t&&(this.Sc=t)}},comments:{get:function(){return this.jd},set:function(t){if(this.jd!==t){if(null!==t)for(var e=t.length,o=0;o<e;o++);this.jd=t}}},sorting:{get:function(){return this.bd},set:function(t){this.bd!==t&&(this.bd=t)}},comparer:{get:function(){return this.Wc},set:function(t){this.Wc!==t&&(this.Wc=t)}},angle:{get:function(){return this.Yb},set:function(t){this.Yb!==t&&(this.Yb=t)}},alignment:{get:function(){return this.yb},set:function(t){this.yb!==t&&(this.yb=t)}},nodeIndent:{get:function(){return this.Cs},set:function(t){this.Cs!==t&&(this.Cs=t)}},nodeIndentPastParent:{get:function(){return this.Ds},set:function(t){this.Ds!==t&&(this.Ds=t)}},nodeSpacing:{get:function(){return this.Es},set:function(t){this.Es!==t&&(this.Es=t)}},layerSpacing:{get:function(){return this.ue},set:function(t){this.ue!==t&&(this.ue=t)}},layerSpacingParentOverlap:{get:function(){return this.ss},set:function(t){this.ss!==t&&(this.ss=t)}},compaction:{get:function(){return this.Er},set:function(t){this.Er!==t&&(this.Er=t)}},breadthLimit:{get:function(){return this.wr},set:function(t){this.wr!==t&&(this.wr=t)}},rowSpacing:{get:function(){return this.Rs},set:function(t){this.Rs!==t&&(this.Rs=t)}},rowIndent:{get:function(){return this.Qs},set:function(t){this.Qs!==t&&(this.Qs=t)}},commentSpacing:{get:function(){return this.Dr},set:function(t){this.Dr!==t&&(this.Dr=t)}},commentMargin:{get:function(){return this.Cr},set:function(t){this.Cr!==t&&(this.Cr=t)}},setsPortSpot:{get:function(){return this.dt},set:function(t){this.dt!==t&&(this.dt=t)}},portSpot:{get:function(){return this.Ms},set:function(t){this.Ms.w(t)||(this.Ms=t)}},setsChildPortSpot:{get:function(){return this.ct},set:function(t){this.ct!==t&&(this.ct=t)}},childPortSpot:{get:function(){return this.zr},set:function(t){this.zr.w(t)||(this.zr=t)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(t){this.S.set(t)}},subtreeSize:{get:function(){return this.wa},set:function(t){this.wa.set(t)}},subtreeOffset:{get:function(){return this.fa},set:function(t){this.fa.set(t)}}}),Ks.className="TreeVertex",z(Ho,Br),Ho.prototype.commit=function(){var t=this.link;if(null!==t&&!t.isAvoiding){var e=this.network.layout,o=null,a=null;switch(e.kd){case al:o=this.fromVertex,a=this.toVertex;break;case Jf:o=this.toVertex,a=this.fromVertex;break;default:R("Unhandled path value "+e.kd.toString())}if(null!==o&&null!==a)if(0!==(e=this.lv).x||0!==e.y||o.ZA){a=o.bounds;var h=va(o),c=qf(o),m=o.rowSpacing;t.xj();var E,x=t.curve===Rr,S=t.isOrthogonal;if(t.Th(),S||x){for(E=2;4<t.pointsCount;)t.uw(2);var P=t.i(1),N=t.i(2)}else{for(E=1;3<t.pointsCount;)t.uw(1);P=t.i(0),N=t.i(t.pointsCount-1)}var nt=t.i(t.pointsCount-1);0===h?(o.alignment===hl?(h=a.bottom+e.y,0===e.y&&P.y>nt.y+o.rowIndent&&(h=Math.min(h,Math.max(P.y,h-sl(o))))):o.alignment===ll?(h=a.top+e.y,0===e.y&&P.y<nt.y-o.rowIndent&&(h=Math.max(h,Math.min(P.y,h+sl(o))))):h=o.Sm||o.Tm&&1===o.maxGenerationCount?a.top-o.fa.y+e.y:a.y+a.height/2+e.y,x?(t.m(E,P.x,h),E++,t.m(E,a.right+c,h),E++,t.m(E,a.right+c+(e.x-m)/3,h),E++,t.m(E,a.right+c+2*(e.x-m)/3,h),E++,t.m(E,a.right+c+(e.x-m),h),E++,t.m(E,N.x,h)):(S&&(t.m(E,a.right+c/2,P.y),E++),t.m(E,a.right+c/2,h),E++,t.m(E,a.right+c+e.x-(S?m/2:m),h),E++,S&&t.m(E,t.i(E-1).x,N.y))):90===h?(o.alignment===hl?(h=a.right+e.x,0===e.x&&P.x>nt.x+o.rowIndent&&(h=Math.min(h,Math.max(P.x,h-sl(o))))):o.alignment===ll?(h=a.left+e.x,0===e.x&&P.x<nt.x-o.rowIndent&&(h=Math.max(h,Math.min(P.x,h+sl(o))))):h=o.Sm||o.Tm&&1===o.maxGenerationCount?a.left-o.fa.x+e.x:a.x+a.width/2+e.x,x?(t.m(E,h,P.y),E++,t.m(E,h,a.bottom+c),E++,t.m(E,h,a.bottom+c+(e.y-m)/3),E++,t.m(E,h,a.bottom+c+2*(e.y-m)/3),E++,t.m(E,h,a.bottom+c+(e.y-m)),E++,t.m(E,h,N.y)):(S&&(t.m(E,P.x,a.bottom+c/2),E++),t.m(E,h,a.bottom+c/2),E++,t.m(E,h,a.bottom+c+e.y-(S?m/2:m)),E++,S&&t.m(E,N.x,t.i(E-1).y))):180===h?(o.alignment===hl?(h=a.bottom+e.y,0===e.y&&P.y>nt.y+o.rowIndent&&(h=Math.min(h,Math.max(P.y,h-sl(o))))):o.alignment===ll?(h=a.top+e.y,0===e.y&&P.y<nt.y-o.rowIndent&&(h=Math.max(h,Math.min(P.y,h+sl(o))))):h=o.Sm||o.Tm&&1===o.maxGenerationCount?a.top-o.fa.y+e.y:a.y+a.height/2+e.y,x?(t.m(E,P.x,h),E++,t.m(E,a.left-c,h),E++,t.m(E,a.left-c+(e.x+m)/3,h),E++,t.m(E,a.left-c+2*(e.x+m)/3,h),E++,t.m(E,a.left-c+(e.x+m),h),E++,t.m(E,N.x,h)):(S&&(t.m(E,a.left-c/2,P.y),E++),t.m(E,a.left-c/2,h),E++,t.m(E,a.left-c+e.x+(S?m/2:m),h),E++,S&&t.m(E,t.i(E-1).x,N.y))):270===h?(o.alignment===hl?(h=a.right+e.x,0===e.x&&P.x>nt.x+o.rowIndent&&(h=Math.min(h,Math.max(P.x,h-sl(o))))):o.alignment===ll?(h=a.left+e.x,0===e.x&&P.x<nt.x-o.rowIndent&&(h=Math.max(h,Math.min(P.x,h+sl(o))))):h=o.Sm||o.Tm&&1===o.maxGenerationCount?a.left-o.fa.x+e.x:a.x+a.width/2+e.x,x?(t.m(E,h,P.y),E++,t.m(E,h,a.top-c),E++,t.m(E,h,a.top-c+(e.y+m)/3),E++,t.m(E,h,a.top-c+2*(e.y+m)/3),E++,t.m(E,h,a.top-c+(e.y+m)),E++,t.m(E,h,N.y)):(S&&(t.m(E,P.x,a.top-c/2),E++),t.m(E,h,a.top-c/2),E++,t.m(E,h,a.top-c+e.y+(S?m/2:m)),E++,S&&t.m(E,N.x,t.i(E-1).y))):R("Invalid angle "+h),t.xf()}else t=this.link,(c=va(o))!==va(a)&&(m=qf(o),x=o.bounds,o=a.bounds,0===c&&o.left-x.right<m+1||90===c&&o.top-x.bottom<m+1||180===c&&x.left-o.right<m+1||270===c&&x.top-o.bottom<m+1||(t.xj(),o=t.curve===Rr,e=t.isOrthogonal,a=iu(this.fromVertex.alignment),t.Th(),0===c?(c=x.right+m/2,o?4===t.pointsCount&&(o=t.i(3).y,t.L(1,c-20,t.i(1).y),t.m(2,c-20,o),t.m(3,c,o),t.m(4,c+20,o),t.L(5,t.i(5).x,o)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,c,t.i(2).y),t.L(3,c,t.i(3).y)):4===t.pointsCount?t.m(2,c,t.i(2).y):3===t.pointsCount?t.L(1,c,t.i(2).y):2===t.pointsCount&&t.m(1,c,t.i(1).y)):90===c?(c=x.bottom+m/2,o?4===t.pointsCount&&(o=t.i(3).x,t.L(1,t.i(1).x,c-20),t.m(2,o,c-20),t.m(3,o,c),t.m(4,o,c+20),t.L(5,o,t.i(5).y)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,c),t.L(3,t.i(3).x,c)):4===t.pointsCount?t.m(2,t.i(2).x,c):3===t.pointsCount?t.L(1,t.i(2).x,c):2===t.pointsCount&&t.m(1,t.i(1).x,c)):180===c?(c=x.left-m/2,o?4===t.pointsCount&&(o=t.i(3).y,t.L(1,c+20,t.i(1).y),t.m(2,c+20,o),t.m(3,c,o),t.m(4,c-20,o),t.L(5,t.i(5).x,o)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,c,t.i(2).y),t.L(3,c,t.i(3).y)):4===t.pointsCount?t.m(2,c,t.i(2).y):3===t.pointsCount?t.L(1,c,t.i(2).y):2===t.pointsCount&&t.m(1,c,t.i(1).y)):270===c&&(c=x.top-m/2,o?4===t.pointsCount&&(o=t.i(3).x,t.L(1,t.i(1).x,c+20),t.m(2,o,c+20),t.m(3,o,c),t.m(4,o,c-20),t.L(5,o,t.i(5).y)):e?a?t.L(3,t.i(2).x,t.i(4).y):6===t.pointsCount&&(t.L(2,t.i(2).x,c),t.L(3,t.i(3).x,c)):4===t.pointsCount?t.m(2,t.i(2).x,c):3===t.pointsCount?t.L(1,t.i(2).x,c):2===t.pointsCount&&t.m(1,t.i(1).x,c)),t.xf()))}},B.Object.defineProperties(Ho.prototype,{fromVertex:{get:function(){return this.Yc},set:function(t){this.Yc!==t&&(this.Yc=t)}},toVertex:{get:function(){return this.ed},set:function(t){this.ed!==t&&(this.ed=t)}},relativePoint:{get:function(){return this.lv},set:function(t){this.lv.set(t)}}}),Ho.className="TreeEdge",An.prototype.initializeStandardTools=function(){this.Ya("Action",new bu,this.mouseDownTools),this.Ya("Relinking",new Ir,this.mouseDownTools),this.Ya("LinkReshaping",new qn,this.mouseDownTools),this.Ya("Rotating",new Hs,this.mouseDownTools),this.Ya("Resizing",new fo,this.mouseDownTools),this.Ya("Linking",new Pr,this.mouseMoveTools),this.Ya("Dragging",new nn,this.mouseMoveTools),this.Ya("DragSelecting",new ah,this.mouseMoveTools),this.Ya("Panning",new lh,this.mouseMoveTools),this.Ya("ContextMenu",new Ss,this.mouseUpTools),this.Ya("TextEditing",new _n,this.mouseUpTools),this.Ya("ClickCreating",new df,this.mouseUpTools),this.Ya("ClickSelecting",new y0,this.mouseUpTools)},da("Horizontal",new ev),da("Spot",new nv),da("Table",new G0),da("Viewbox",new av),da("TableRow",new ov),da("TableColumn",new sv),da("Graduated",new ip),da("Grid",new W0),F0.add("GraphLinksModel",fr),F0.add("TreeModel",ts),Vu(br,null),Vu(Li,null);var Bc=T.go,Vm={get licenseKey(){return oe.licenseKey},set licenseKey(t){oe.licenseKey=t},get version(){return oe.version},Group:Je,EnumValue:ct,List:St,Set:At,Map:ot,Point:J,Size:fe,Rect:Lt,Margin:oi,Spot:He,Geometry:pi,PathFigure:jr,PathSegment:Bi,InputEvent:io,DiagramEvent:xu,ChangedEvent:kn,Model:ze,GraphLinksModel:mi,TreeModel:ho,Binding:Wn,Transaction:Er,UndoManager:Hn,CommandHandler:$i,Tool:ki,DraggingTool:nn,DraggingInfo:xc,DraggingOptions:Yd,LinkingBaseTool:Hr,LinkingTool:Pr,RelinkingTool:Ir,LinkReshapingTool:qn,ResizingTool:fo,RotatingTool:Hs,ClickSelectingTool:y0,ActionTool:bu,ClickCreatingTool:df,HTMLInfo:Mu,ContextMenuTool:Ss,DragSelectingTool:ah,PanningTool:lh,TextEditingTool:_n,ToolManager:An,Animation:zr,AnimationManager:Ao,AnimationTrigger:Ml,Layer:Ur,Diagram:oe,Palette:L1,Overview:Lh,Brush:Ei,GraphObject:Ge,Panel:pe,RowColumnDefinition:nr,Shape:qe,TextBlock:Gi,TextBlockMetrics:Q0,Picture:go,Part:Ye,Adornment:Ci,Node:Fe,Link:Ce,Placeholder:ao,Layout:Ai,LayoutNetwork:Hi,LayoutVertex:Xn,LayoutEdge:Br,GridLayout:xr,PanelLayout:yr,CircularLayout:Sn,CircularNetwork:Ap,CircularVertex:Dm,CircularEdge:Em,ForceDirectedLayout:br,ForceDirectedNetwork:Ps,ForceDirectedVertex:Tp,ForceDirectedEdge:Pp,LayeredDigraphLayout:Li,LayeredDigraphNetwork:bi,LayeredDigraphVertex:Kf,LayeredDigraphEdge:ol,TreeLayout:gi,TreeNetwork:_h,TreeVertex:Ks,TreeEdge:Ho};"object"==typeof Bc&&Bc.version&&R("WARNING: a `go` object on the root object is already defined.  "+("Debug"in Bc?"debug ":"")+"version: "+Bc.version+", replaced with version: "+Vm.version),oe.prototype.go=Vm,T.go=Vm,(void 0===T||void 0===T.module||"object"!=typeof T.module.exports)&&T.define&&"function"==typeof T.define&&T.define.amd&&T.define(Vm),"object"==typeof Yt.exports&&(Yt.exports="undefined"!=typeof global?global.go:self.go)}()},740:(Yt,q,vt)=>{"use strict";var yt=vt(9126).Buffer,xt=vt(8792).Transform;function M(j){xt.call(this),this._block=yt.allocUnsafe(j),this._blockSize=j,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}vt(3516)(M,xt),M.prototype._transform=function(j,H,X){var z=null;try{this.update(j,H)}catch(B){z=B}X(z)},M.prototype._flush=function(j){var H=null;try{this.push(this.digest())}catch(X){H=X}j(H)},M.prototype.update=function(j,H){if(function(j,H){if(!yt.isBuffer(j)&&"string"!=typeof j)throw new TypeError("Data must be a string or a buffer")}(j),this._finalized)throw new Error("Digest already called");yt.isBuffer(j)||(j=yt.from(j,H));for(var X=this._block,z=0;this._blockOffset+j.length-z>=this._blockSize;){for(var B=this._blockOffset;B<this._blockSize;)X[B++]=j[z++];this._update(),this._blockOffset=0}for(;z<j.length;)X[this._blockOffset++]=j[z++];for(var I=0,Y=8*j.length;Y>0;++I)this._length[I]+=Y,(Y=this._length[I]/4294967296|0)>0&&(this._length[I]-=4294967296*Y);return this},M.prototype._update=function(){throw new Error("_update is not implemented")},M.prototype.digest=function(j){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var H=this._digest();void 0!==j&&(H=H.toString(j)),this._block.fill(0),this._blockOffset=0;for(var X=0;X<4;++X)this._length[X]=0;return H},M.prototype._digest=function(){throw new Error("_digest is not implemented")},Yt.exports=M},9126:(Yt,q,vt)=>{var yt=vt(3847),xt=yt.Buffer;function et(M,j){for(var H in M)j[H]=M[H]}function it(M,j,H){return xt(M,j,H)}xt.from&&xt.alloc&&xt.allocUnsafe&&xt.allocUnsafeSlow?Yt.exports=yt:(et(yt,q),q.Buffer=it),it.prototype=Object.create(xt.prototype),et(xt,it),it.from=function(M,j,H){if("number"==typeof M)throw new TypeError("Argument must not be a number");return xt(M,j,H)},it.alloc=function(M,j,H){if("number"!=typeof M)throw new TypeError("Argument must be a number");var X=xt(M);return void 0!==j?"string"==typeof H?X.fill(j,H):X.fill(j):X.fill(0),X},it.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return xt(M)},it.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return yt.SlowBuffer(M)}},4658:(Yt,q,vt)=>{var yt=q;yt.utils=vt(6459),yt.common=vt(3527),yt.sha=vt(3777),yt.ripemd=vt(3093),yt.hmac=vt(4348),yt.sha1=yt.sha.sha1,yt.sha256=yt.sha.sha256,yt.sha224=yt.sha.sha224,yt.sha384=yt.sha.sha384,yt.sha512=yt.sha.sha512,yt.ripemd160=yt.ripemd.ripemd160},3527:(Yt,q,vt)=>{"use strict";var yt=vt(6459),xt=vt(4725);function et(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}q.BlockHash=et,et.prototype.update=function(M,j){if(M=yt.toArray(M,j),this.pending=this.pending?this.pending.concat(M):M,this.pendingTotal+=M.length,this.pending.length>=this._delta8){var H=(M=this.pending).length%this._delta8;this.pending=M.slice(M.length-H,M.length),0===this.pending.length&&(this.pending=null),M=yt.join32(M,0,M.length-H,this.endian);for(var X=0;X<M.length;X+=this._delta32)this._update(M,X,X+this._delta32)}return this},et.prototype.digest=function(M){return this.update(this._pad()),xt(null===this.pending),this._digest(M)},et.prototype._pad=function(){var M=this.pendingTotal,j=this._delta8,H=j-(M+this.padLength)%j,X=new Array(H+this.padLength);X[0]=128;for(var z=1;z<H;z++)X[z]=0;if(M<<=3,"big"===this.endian){for(var B=8;B<this.padLength;B++)X[z++]=0;X[z++]=0,X[z++]=0,X[z++]=0,X[z++]=0,X[z++]=M>>>24&255,X[z++]=M>>>16&255,X[z++]=M>>>8&255,X[z++]=255&M}else for(X[z++]=255&M,X[z++]=M>>>8&255,X[z++]=M>>>16&255,X[z++]=M>>>24&255,X[z++]=0,X[z++]=0,X[z++]=0,X[z++]=0,B=8;B<this.padLength;B++)X[z++]=0;return X}},4348:(Yt,q,vt)=>{"use strict";var yt=vt(6459),xt=vt(4725);function et(it,M,j){if(!(this instanceof et))return new et(it,M,j);this.Hash=it,this.blockSize=it.blockSize/8,this.outSize=it.outSize/8,this.inner=null,this.outer=null,this._init(yt.toArray(M,j))}Yt.exports=et,et.prototype._init=function(M){M.length>this.blockSize&&(M=(new this.Hash).update(M).digest()),xt(M.length<=this.blockSize);for(var j=M.length;j<this.blockSize;j++)M.push(0);for(j=0;j<M.length;j++)M[j]^=54;for(this.inner=(new this.Hash).update(M),j=0;j<M.length;j++)M[j]^=106;this.outer=(new this.Hash).update(M)},et.prototype.update=function(M,j){return this.inner.update(M,j),this},et.prototype.digest=function(M){return this.outer.update(this.inner.digest()),this.outer.digest(M)}},3093:(Yt,q,vt)=>{"use strict";var yt=vt(6459),xt=vt(3527),et=yt.rotl32,it=yt.sum32,M=yt.sum32_3,j=yt.sum32_4,H=xt.BlockHash;function X(){if(!(this instanceof X))return new X;H.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function z(V,G,R,$){return V<=15?G^R^$:V<=31?G&R|~G&$:V<=47?(G|~R)^$:V<=63?G&$|R&~$:G^(R|~$)}function I(V){return V<=15?1352829926:V<=31?1548603684:V<=47?1836072691:V<=63?2053994217:0}yt.inherits(X,H),q.ripemd160=X,X.blockSize=512,X.outSize=160,X.hmacStrength=192,X.padLength=64,X.prototype._update=function(G,R){for(var $=this.h[0],Z=this.h[1],Q=this.h[2],lt=this.h[3],ht=this.h[4],mt=$,dt=Z,gt=Q,k=lt,u=ht,p=0;p<80;p++){var v=it(et(j($,z(p,Z,Q,lt),G[Y[p]+R],(V=p)<=15?0:V<=31?1518500249:V<=47?1859775393:V<=63?2400959708:2840853838),F[p]),ht);$=ht,ht=lt,lt=et(Q,10),Q=Z,Z=v,v=it(et(j(mt,z(79-p,dt,gt,k),G[T[p]+R],I(p)),O[p]),u),mt=u,u=k,k=et(gt,10),gt=dt,dt=v}var V;v=M(this.h[1],Q,k),this.h[1]=M(this.h[2],lt,u),this.h[2]=M(this.h[3],ht,mt),this.h[3]=M(this.h[4],$,dt),this.h[4]=M(this.h[0],Z,gt),this.h[0]=v},X.prototype._digest=function(G){return"hex"===G?yt.toHex32(this.h,"little"):yt.split32(this.h,"little")};var Y=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],T=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],F=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],O=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},3777:(Yt,q,vt)=>{"use strict";q.sha1=vt(8730),q.sha224=vt(255),q.sha256=vt(8572),q.sha384=vt(5313),q.sha512=vt(1391)},8730:(Yt,q,vt)=>{"use strict";var yt=vt(6459),xt=vt(3527),et=vt(7082),it=yt.rotl32,M=yt.sum32,j=yt.sum32_5,H=et.ft_1,X=xt.BlockHash,z=[1518500249,1859775393,2400959708,3395469782];function B(){if(!(this instanceof B))return new B;X.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}yt.inherits(B,X),Yt.exports=B,B.blockSize=512,B.outSize=160,B.hmacStrength=80,B.padLength=64,B.prototype._update=function(Y,T){for(var F=this.W,O=0;O<16;O++)F[O]=Y[T+O];for(;O<F.length;O++)F[O]=it(F[O-3]^F[O-8]^F[O-14]^F[O-16],1);var V=this.h[0],G=this.h[1],R=this.h[2],$=this.h[3],Z=this.h[4];for(O=0;O<F.length;O++){var Q=~~(O/20),lt=j(it(V,5),H(Q,G,R,$),Z,F[O],z[Q]);Z=$,$=R,R=it(G,30),G=V,V=lt}this.h[0]=M(this.h[0],V),this.h[1]=M(this.h[1],G),this.h[2]=M(this.h[2],R),this.h[3]=M(this.h[3],$),this.h[4]=M(this.h[4],Z)},B.prototype._digest=function(Y){return"hex"===Y?yt.toHex32(this.h,"big"):yt.split32(this.h,"big")}},255:(Yt,q,vt)=>{"use strict";var yt=vt(6459),xt=vt(8572);function et(){if(!(this instanceof et))return new et;xt.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}yt.inherits(et,xt),Yt.exports=et,et.blockSize=512,et.outSize=224,et.hmacStrength=192,et.padLength=64,et.prototype._digest=function(M){return"hex"===M?yt.toHex32(this.h.slice(0,7),"big"):yt.split32(this.h.slice(0,7),"big")}},8572:(Yt,q,vt)=>{"use strict";var yt=vt(6459),xt=vt(3527),et=vt(7082),it=vt(4725),M=yt.sum32,j=yt.sum32_4,H=yt.sum32_5,X=et.ch32,z=et.maj32,B=et.s0_256,I=et.s1_256,Y=et.g0_256,T=et.g1_256,F=xt.BlockHash,O=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function V(){if(!(this instanceof V))return new V;F.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=O,this.W=new Array(64)}yt.inherits(V,F),Yt.exports=V,V.blockSize=512,V.outSize=256,V.hmacStrength=192,V.padLength=64,V.prototype._update=function(R,$){for(var Z=this.W,Q=0;Q<16;Q++)Z[Q]=R[$+Q];for(;Q<Z.length;Q++)Z[Q]=j(T(Z[Q-2]),Z[Q-7],Y(Z[Q-15]),Z[Q-16]);var lt=this.h[0],ht=this.h[1],mt=this.h[2],dt=this.h[3],gt=this.h[4],k=this.h[5],u=this.h[6],p=this.h[7];for(it(this.k.length===Z.length),Q=0;Q<Z.length;Q++){var v=H(p,I(gt),X(gt,k,u),this.k[Q],Z[Q]),g=M(B(lt),z(lt,ht,mt));p=u,u=k,k=gt,gt=M(dt,v),dt=mt,mt=ht,ht=lt,lt=M(v,g)}this.h[0]=M(this.h[0],lt),this.h[1]=M(this.h[1],ht),this.h[2]=M(this.h[2],mt),this.h[3]=M(this.h[3],dt),this.h[4]=M(this.h[4],gt),this.h[5]=M(this.h[5],k),this.h[6]=M(this.h[6],u),this.h[7]=M(this.h[7],p)},V.prototype._digest=function(R){return"hex"===R?yt.toHex32(this.h,"big"):yt.split32(this.h,"big")}},5313:(Yt,q,vt)=>{"use strict";var yt=vt(6459),xt=vt(1391);function et(){if(!(this instanceof et))return new et;xt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}yt.inherits(et,xt),Yt.exports=et,et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(M){return"hex"===M?yt.toHex32(this.h.slice(0,12),"big"):yt.split32(this.h.slice(0,12),"big")}},1391:(Yt,q,vt)=>{"use strict";var yt=vt(6459),xt=vt(3527),et=vt(4725),it=yt.rotr64_hi,M=yt.rotr64_lo,j=yt.shr64_hi,H=yt.shr64_lo,X=yt.sum64,z=yt.sum64_hi,B=yt.sum64_lo,I=yt.sum64_4_hi,Y=yt.sum64_4_lo,T=yt.sum64_5_hi,F=yt.sum64_5_lo,O=xt.BlockHash,V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(){if(!(this instanceof G))return new G;O.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=V,this.W=new Array(160)}function R(v,g,w,b,D){var _=v&w^~v&D;return _<0&&(_+=4294967296),_}function $(v,g,w,b,D,_){var f=g&b^~g&_;return f<0&&(f+=4294967296),f}function Z(v,g,w,b,D){var _=v&w^v&D^w&D;return _<0&&(_+=4294967296),_}function Q(v,g,w,b,D,_){var f=g&b^g&_^b&_;return f<0&&(f+=4294967296),f}function lt(v,g){var _=it(v,g,28)^it(g,v,2)^it(g,v,7);return _<0&&(_+=4294967296),_}function ht(v,g){var _=M(v,g,28)^M(g,v,2)^M(g,v,7);return _<0&&(_+=4294967296),_}function mt(v,g){var _=it(v,g,14)^it(v,g,18)^it(g,v,9);return _<0&&(_+=4294967296),_}function dt(v,g){var _=M(v,g,14)^M(v,g,18)^M(g,v,9);return _<0&&(_+=4294967296),_}function gt(v,g){var _=it(v,g,1)^it(v,g,8)^j(v,g,7);return _<0&&(_+=4294967296),_}function k(v,g){var _=M(v,g,1)^M(v,g,8)^H(v,g,7);return _<0&&(_+=4294967296),_}function u(v,g){var _=it(v,g,19)^it(g,v,29)^j(v,g,6);return _<0&&(_+=4294967296),_}function p(v,g){var _=M(v,g,19)^M(g,v,29)^H(v,g,6);return _<0&&(_+=4294967296),_}yt.inherits(G,O),Yt.exports=G,G.blockSize=1024,G.outSize=512,G.hmacStrength=192,G.padLength=128,G.prototype._prepareBlock=function(g,w){for(var b=this.W,D=0;D<32;D++)b[D]=g[w+D];for(;D<b.length;D+=2){var _=u(b[D-4],b[D-3]),f=p(b[D-4],b[D-3]),C=b[D-14],K=b[D-13],U=gt(b[D-30],b[D-29]),W=k(b[D-30],b[D-29]),st=b[D-32],ct=b[D-31];b[D]=I(_,f,C,K,U,W,st,ct),b[D+1]=Y(_,f,C,K,U,W,st,ct)}},G.prototype._update=function(g,w){this._prepareBlock(g,w);var b=this.W,D=this.h[0],_=this.h[1],f=this.h[2],C=this.h[3],K=this.h[4],U=this.h[5],W=this.h[6],st=this.h[7],ct=this.h[8],Ct=this.h[9],kt=this.h[10],wt=this.h[11],ut=this.h[12],Ot=this.h[13],bt=this.h[14],pt=this.h[15];et(this.k.length===b.length);for(var Dt=0;Dt<b.length;Dt+=2){var Rt=bt,St=pt,te=mt(ct,Ct),At=dt(ct,Ct),Kt=R(ct,0,kt,0,ut),Oe=$(0,Ct,0,wt,0,Ot),Jt=this.k[Dt],$t=this.k[Dt+1],he=b[Dt],Tt=b[Dt+1],Bt=T(Rt,St,te,At,Kt,Oe,Jt,$t,he,Tt),le=F(Rt,St,te,At,Kt,Oe,Jt,$t,he,Tt);Rt=lt(D,_),St=ht(D,_),te=Z(D,0,f,0,K),At=Q(0,_,0,C,0,U);var Mt=z(Rt,St,te,At),ot=B(Rt,St,te,At);bt=ut,pt=Ot,ut=kt,Ot=wt,kt=ct,wt=Ct,ct=z(W,st,Bt,le),Ct=B(st,st,Bt,le),W=K,st=U,K=f,U=C,f=D,C=_,D=z(Bt,le,Mt,ot),_=B(Bt,le,Mt,ot)}X(this.h,0,D,_),X(this.h,2,f,C),X(this.h,4,K,U),X(this.h,6,W,st),X(this.h,8,ct,Ct),X(this.h,10,kt,wt),X(this.h,12,ut,Ot),X(this.h,14,bt,pt)},G.prototype._digest=function(g){return"hex"===g?yt.toHex32(this.h,"big"):yt.split32(this.h,"big")}},7082:(Yt,q,vt)=>{"use strict";var xt=vt(6459).rotr32;function it(I,Y,T){return I&Y^~I&T}function M(I,Y,T){return I&Y^I&T^Y&T}function j(I,Y,T){return I^Y^T}q.ft_1=function(I,Y,T,F){return 0===I?it(Y,T,F):1===I||3===I?j(Y,T,F):2===I?M(Y,T,F):void 0},q.ch32=it,q.maj32=M,q.p32=j,q.s0_256=function(I){return xt(I,2)^xt(I,13)^xt(I,22)},q.s1_256=function(I){return xt(I,6)^xt(I,11)^xt(I,25)},q.g0_256=function(I){return xt(I,7)^xt(I,18)^I>>>3},q.g1_256=function(I){return xt(I,17)^xt(I,19)^I>>>10}},6459:(Yt,q,vt)=>{"use strict";var yt=vt(4725),xt=vt(3516);function et(p,v){return!(55296!=(64512&p.charCodeAt(v))||v<0||v+1>=p.length)&&56320==(64512&p.charCodeAt(v+1))}function j(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function X(p){return 1===p.length?"0"+p:p}function z(p){return 7===p.length?"0"+p:6===p.length?"00"+p:5===p.length?"000"+p:4===p.length?"0000"+p:3===p.length?"00000"+p:2===p.length?"000000"+p:1===p.length?"0000000"+p:p}q.inherits=xt,q.toArray=function(p,v){if(Array.isArray(p))return p.slice();if(!p)return[];var g=[];if("string"==typeof p)if(v){if("hex"===v)for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),b=0;b<p.length;b+=2)g.push(parseInt(p[b]+p[b+1],16))}else for(var w=0,b=0;b<p.length;b++){var D=p.charCodeAt(b);D<128?g[w++]=D:D<2048?(g[w++]=D>>6|192,g[w++]=63&D|128):et(p,b)?(D=65536+((1023&D)<<10)+(1023&p.charCodeAt(++b)),g[w++]=D>>18|240,g[w++]=D>>12&63|128,g[w++]=D>>6&63|128,g[w++]=63&D|128):(g[w++]=D>>12|224,g[w++]=D>>6&63|128,g[w++]=63&D|128)}else for(b=0;b<p.length;b++)g[b]=0|p[b];return g},q.toHex=function(p){for(var v="",g=0;g<p.length;g++)v+=X(p[g].toString(16));return v},q.htonl=j,q.toHex32=function(p,v){for(var g="",w=0;w<p.length;w++){var b=p[w];"little"===v&&(b=j(b)),g+=z(b.toString(16))}return g},q.zero2=X,q.zero8=z,q.join32=function(p,v,g,w){var b=g-v;yt(b%4==0);for(var D=new Array(b/4),_=0,f=v;_<D.length;_++,f+=4)D[_]=("big"===w?p[f]<<24|p[f+1]<<16|p[f+2]<<8|p[f+3]:p[f+3]<<24|p[f+2]<<16|p[f+1]<<8|p[f])>>>0;return D},q.split32=function(p,v){for(var g=new Array(4*p.length),w=0,b=0;w<p.length;w++,b+=4){var D=p[w];"big"===v?(g[b]=D>>>24,g[b+1]=D>>>16&255,g[b+2]=D>>>8&255,g[b+3]=255&D):(g[b+3]=D>>>24,g[b+2]=D>>>16&255,g[b+1]=D>>>8&255,g[b]=255&D)}return g},q.rotr32=function(p,v){return p>>>v|p<<32-v},q.rotl32=function(p,v){return p<<v|p>>>32-v},q.sum32=function(p,v){return p+v>>>0},q.sum32_3=function(p,v,g){return p+v+g>>>0},q.sum32_4=function(p,v,g,w){return p+v+g+w>>>0},q.sum32_5=function(p,v,g,w,b){return p+v+g+w+b>>>0},q.sum64=function(p,v,g,w){var _=w+p[v+1]>>>0;p[v]=(_<w?1:0)+g+p[v]>>>0,p[v+1]=_},q.sum64_hi=function(p,v,g,w){return(v+w>>>0<v?1:0)+p+g>>>0},q.sum64_lo=function(p,v,g,w){return v+w>>>0},q.sum64_4_hi=function(p,v,g,w,b,D,_,f){var C=0,K=v;return C+=(K=K+w>>>0)<v?1:0,C+=(K=K+D>>>0)<D?1:0,p+g+b+_+(C+=(K=K+f>>>0)<f?1:0)>>>0},q.sum64_4_lo=function(p,v,g,w,b,D,_,f){return v+w+D+f>>>0},q.sum64_5_hi=function(p,v,g,w,b,D,_,f,C,K){var U=0,W=v;return U+=(W=W+w>>>0)<v?1:0,U+=(W=W+D>>>0)<D?1:0,U+=(W=W+f>>>0)<f?1:0,p+g+b+_+C+(U+=(W=W+K>>>0)<K?1:0)>>>0},q.sum64_5_lo=function(p,v,g,w,b,D,_,f,C,K){return v+w+D+f+K>>>0},q.rotr64_hi=function(p,v,g){return(v<<32-g|p>>>g)>>>0},q.rotr64_lo=function(p,v,g){return(p<<32-g|v>>>g)>>>0},q.shr64_hi=function(p,v,g){return p>>>g},q.shr64_lo=function(p,v,g){return(p<<32-g|v>>>g)>>>0}},4317:function(Yt,q,vt){"use strict";var yt,xt,et;xt="undefined"!=typeof window?window:this,et=function(xt){function et(M,j,H,X){M.hasOwnProperty(j)||(M[j]=X.apply(null,H))}var it={};return et(it,"Core/Globals.js",[],function(){var j,H,M=void 0!==xt?xt:"undefined"!=typeof window?window:{};return(H=j||(j={})).SVG_NS="http://www.w3.org/2000/svg",H.product="Highcharts",H.version="9.3.1",H.win=M,H.doc=H.win.document,H.svg=H.doc&&H.doc.createElementNS&&!!H.doc.createElementNS(H.SVG_NS,"svg").createSVGRect,H.userAgent=H.win.navigator&&H.win.navigator.userAgent||"",H.isChrome=-1!==H.userAgent.indexOf("Chrome"),H.isFirefox=-1!==H.userAgent.indexOf("Firefox"),H.isMS=/(edge|msie|trident)/i.test(H.userAgent)&&!H.win.opera,H.isSafari=!H.isChrome&&-1!==H.userAgent.indexOf("Safari"),H.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(H.userAgent),H.isWebKit=-1!==H.userAgent.indexOf("AppleWebKit"),H.deg2rad=2*Math.PI/360,H.hasBidiBug=H.isFirefox&&4>parseInt(H.userAgent.split("Firefox/")[1],10),H.hasTouch=!!H.win.TouchEvent,H.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],H.noop=function(){},H.supportsPassiveEvents=function(){var X=!1;if(!H.isMS){var z=Object.defineProperty({},"passive",{get:function(){X=!0}});H.win.addEventListener&&H.win.removeEventListener&&(H.win.addEventListener("testPassive",H.noop,z),H.win.removeEventListener("testPassive",H.noop,z))}return X}(),H.charts=[],H.dateFormats={},H.seriesTypes={},H.symbolSizes={},H.chartCount=0,j}),et(it,"Core/Utilities.js",[it["Core/Globals.js"]],function(M){function j(b,D,_,f){var C=D?"Highcharts error":"Highcharts warning";32===b&&(b=C+": Deprecated member");var K=F(b),U=K?C+" #"+b+": www.highcharts.com/errors/"+b+"/":b.toString();if(void 0!==f){var W="";K&&(U+="?"),ht(f,function(st,ct){W+="\n - "+ct+": "+st,K&&(U+=encodeURI(ct)+"="+encodeURI(st))}),U+=W}dt(M,"displayError",{chart:_,code:b,message:U,params:f},function(){if(D)throw Error(U);u.console&&-1===j.messages.indexOf(U)&&console.warn(U)}),j.messages.push(U)}function X(b,D){return parseInt(b,D||10)}function z(b){return"string"==typeof b}function B(b){return"[object Array]"===(b=Object.prototype.toString.call(b))||"[object Array Iterator]"===b}function I(b,D){return!(!b||"object"!=typeof b||D&&B(b))}function Y(b){return I(b)&&"number"==typeof b.nodeType}function T(b){var D=b&&b.constructor;return!(!I(b,!0)||Y(b)||!D||!D.name||"Object"===D.name)}function F(b){return"number"==typeof b&&!isNaN(b)&&1/0>b&&-1/0<b}function O(b){return null!=b}function V(b,D,_){var f;return z(D)?O(_)?b.setAttribute(D,_):b&&b.getAttribute&&((f=b.getAttribute(D))||"class"!==D||(f=b.getAttribute(D+"Name"))):ht(D,function(C,K){O(C)?b.setAttribute(K,C):b.removeAttribute(K)}),f}function G(b,D){var _;for(_ in b||(b={}),D)b[_]=D[_];return b}function R(){for(var b=arguments,D=b.length,_=0;_<D;_++){var f=b[_];if(null!=f)return f}}function $(b,D){M.isMS&&!M.svg&&D&&void 0!==D.opacity&&(D.filter="alpha(opacity="+100*D.opacity+")"),G(b.style,D)}function Z(b,D,_,f,C){return b=k.createElement(b),D&&G(b,D),C&&$(b,{padding:"0",border:"none",margin:"0"}),_&&$(b,_),f&&f.appendChild(b),b}function Q(b,D){return 1e14<b?b:parseFloat(b.toPrecision(D||14))}function ht(b,D,_){for(var f in b)Object.hasOwnProperty.call(b,f)&&D.call(_||b[f],b[f],f,b)}function mt(b,D,_){function f(W,st){var ct=b.removeEventListener||M.removeEventListenerPolyfill;ct&&ct.call(b,W,st,!1)}function C(W){var st;if(b.nodeName){if(D){var ct={};ct[D]=!0}else ct=W;ht(ct,function(Ct,kt){if(W[kt])for(st=W[kt].length;st--;)f(kt,W[kt][st].fn)})}}var K="function"==typeof b&&b.prototype||b;if(Object.hasOwnProperty.call(K,"hcEvents")){var U=K.hcEvents;D?(K=U[D]||[],_?(U[D]=K.filter(function(W){return _!==W.fn}),f(D,_)):(C(U),U[D]=[])):(C(U),delete K.hcEvents)}}function dt(b,D,_,f){if(_=_||{},k.createEvent&&(b.dispatchEvent||b.fireEvent&&b!==M)){var C=k.createEvent("Events");C.initEvent(D,!0,!0),_=G(C,_),b.dispatchEvent?b.dispatchEvent(_):b.fireEvent(D,_)}else if(b.hcEvents){_.target||G(_,{preventDefault:function(){_.defaultPrevented=!0},target:b,type:D}),C=[];for(var K=b,U=!1;K.hcEvents;)Object.hasOwnProperty.call(K,"hcEvents")&&K.hcEvents[D]&&(C.length&&(U=!0),C.unshift.apply(C,K.hcEvents[D])),K=Object.getPrototypeOf(K);U&&C.sort(function(W,st){return W.order-st.order}),C.forEach(function(W){!1===W.fn.call(b,_)&&_.preventDefault()})}f&&!_.defaultPrevented&&f.call(b,_)}var p,gt=M.charts,k=M.doc,u=M.win;(j||(j={})).messages=[],Math.easeInOutSine=function(b){return-.5*(Math.cos(Math.PI*b)-1)};var v=Array.prototype.find?function(b,D){return b.find(D)}:function(b,D){var _,f=b.length;for(_=0;_<f;_++)if(D(b[_],_))return b[_]};ht({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(b,D){M[D]=function(_){var f;return j(32,!1,void 0,((f={})["Highcharts."+D]="use Array."+b,f)),Array.prototype[b].apply(_,[].slice.call(arguments,1))}});var g,b,D,w=(b=Math.random().toString(36).substring(2,9)+"-",D=0,function(){return"highcharts-"+(g?"":b)+D++});return u.jQuery&&(u.jQuery.fn.highcharts=function(){var b=[].slice.call(arguments);if(this[0])return b[0]?(new(M[z(b[0])?b.shift():"Chart"])(this[0],b[0],b[1]),this):gt[V(this[0],"data-highcharts-chart")]}),v={addEvent:function(b,D,_,f){void 0===f&&(f={});var C="function"==typeof b&&b.prototype||b;Object.hasOwnProperty.call(C,"hcEvents")||(C.hcEvents={}),C=C.hcEvents,M.Point&&b instanceof M.Point&&b.series&&b.series.chart&&(b.series.chart.runTrackerClick=!0);var K=b.addEventListener||M.addEventListenerPolyfill;return K&&K.call(b,D,_,!!M.supportsPassiveEvents&&{passive:void 0===f.passive?-1!==D.indexOf("touch"):f.passive,capture:!1}),C[D]||(C[D]=[]),C[D].push({fn:_,order:"number"==typeof f.order?f.order:1/0}),C[D].sort(function(U,W){return U.order-W.order}),function(){mt(b,D,_)}},arrayMax:function(b){for(var D=b.length,_=b[0];D--;)b[D]>_&&(_=b[D]);return _},arrayMin:function(b){for(var D=b.length,_=b[0];D--;)b[D]<_&&(_=b[D]);return _},attr:V,clamp:function(b,D,_){return b>D?b<_?b:_:D},cleanRecursively:function H(b,D){var _={};return ht(b,function(f,C){I(b[C],!0)&&!b.nodeType&&D[C]?(f=H(b[C],D[C]),Object.keys(f).length&&(_[C]=f)):(I(b[C])||b[C]!==D[C])&&(_[C]=b[C])}),_},clearTimeout:function(b){O(b)&&clearTimeout(b)},correctFloat:Q,createElement:Z,css:$,defined:O,destroyObjectProperties:function(b,D){ht(b,function(_,f){_&&_!==D&&_.destroy&&_.destroy(),delete b[f]})},discardElement:function(b){p||(p=Z("div")),b&&p.appendChild(b),p.innerHTML=""},erase:function(b,D){for(var _=b.length;_--;)if(b[_]===D){b.splice(_,1);break}},error:j,extend:G,extendClass:function(b,D){var _=function(){};return G(_.prototype=new b,D),_},find:v,fireEvent:dt,getMagnitude:function(b){return Math.pow(10,Math.floor(Math.log(b)/Math.LN10))},getNestedProperty:function(b,D){for(b=b.split(".");b.length&&O(D);){var _=b.shift();if(void 0===_||"__proto__"===_||!O(D=D[_])||"function"==typeof D||"number"==typeof D.nodeType||D===u)return}return D},getStyle:function lt(b,D,_){var f=M.getStyle||lt;if("width"===D)return D=Math.min(b.offsetWidth,b.scrollWidth),(_=b.getBoundingClientRect&&b.getBoundingClientRect().width)<D&&_>=D-1&&(D=Math.floor(_)),Math.max(0,D-(f(b,"padding-left",!0)||0)-(f(b,"padding-right",!0)||0));if("height"===D)return Math.max(0,Math.min(b.offsetHeight,b.scrollHeight)-(f(b,"padding-top",!0)||0)-(f(b,"padding-bottom",!0)||0));if(u.getComputedStyle||j(27,!0),b=u.getComputedStyle(b,void 0)){var C=b.getPropertyValue(D);R(_,"opacity"!==D)&&(C=X(C))}return C},inArray:function(b,D,_){return j(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),D.indexOf(b,_)},isArray:B,isClass:T,isDOMElement:Y,isFunction:function(b){return"function"==typeof b},isNumber:F,isObject:I,isString:z,keys:function(b){return j(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(b)},merge:function(){var b,D=arguments,_={},f=function(K,U){return"object"!=typeof K&&(K={}),ht(U,function(W,st){"__proto__"!==st&&"constructor"!==st&&(K[st]=!I(W,!0)||T(W)||Y(W)?U[st]:f(K[st]||{},W))}),K};!0===D[0]&&(_=D[1],D=Array.prototype.slice.call(D,2));var C=D.length;for(b=0;b<C;b++)_=f(_,D[b]);return _},normalizeTickInterval:function(b,D,_,f,C){var K=b,U=b/(_=R(_,1));for(D||(D=C?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===f&&(1===_?D=D.filter(function(W){return W%1==0}):.1>=_&&(D=[1/_]))),f=0;f<D.length&&(K=D[f],!(C&&K*_>=b||!C&&U<=(D[f]+(D[f+1]||D[f]))/2));f++);return Q(K*_,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ht,offset:function(b){var D=k.documentElement;return{top:(b=b.parentElement||b.parentNode?b.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(u.pageYOffset||D.scrollTop)-(D.clientTop||0),left:b.left+(u.pageXOffset||D.scrollLeft)-(D.clientLeft||0),width:b.width,height:b.height}},pad:function(b,D,_){return Array((D||2)+1-String(b).replace("-","").length).join(_||"0")+b},pick:R,pInt:X,relativeLength:function(b,D,_){return/%$/.test(b)?D*parseFloat(b)/100+(_||0):parseFloat(b)},removeEvent:mt,splat:function(b){return B(b)?b:[b]},stableSort:function(b,D){var f,C,_=b.length;for(C=0;C<_;C++)b[C].safeI=C;for(b.sort(function(K,U){return 0===(f=D(K,U))?K.safeI-U.safeI:f}),C=0;C<_;C++)delete b[C].safeI},syncTimeout:function(b,D,_){return 0<D?setTimeout(b,D,_):(b.call(0,_),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:w,useSerialIds:function(b){return g=R(b,g)},wrap:function(b,D,_){var f=b[D];b[D]=function(){var C=Array.prototype.slice.call(arguments),K=arguments,U=this;return U.proceed=function(){f.apply(U,arguments.length?arguments:K)},C.unshift(f),C=_.apply(this,C),U.proceed=null,C}}},v}),et(it,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),et(it,"Core/Color/Color.js",[it["Core/Globals.js"],it["Core/Utilities.js"]],function(M,j){var H=j.isNumber,X=j.merge,z=j.pInt;return function(){function B(I){this.rgba=[NaN,NaN,NaN,NaN],this.input=I;var Y=M.Color;return Y&&Y!==B?new Y(I):this instanceof B?void this.init(I):new B(I)}return B.parse=function(I){return I?new B(I):B.None},B.prototype.init=function(I){var Y;if("object"==typeof I&&void 0!==I.stops)this.stops=I.stops.map(function(V){return new B(V[1])});else if("string"==typeof I){if(this.input=I=B.names[I.toLowerCase()]||I,"#"===I.charAt(0)){var T=I.length,F=parseInt(I.substr(1),16);7===T?Y=[(16711680&F)>>16,(65280&F)>>8,255&F,1]:4===T&&(Y=[(3840&F)>>4|(3840&F)>>8,(240&F)>>4|240&F,(15&F)<<4|15&F,1])}if(!Y)for(F=B.parsers.length;F--&&!Y;){var O=B.parsers[F];(T=O.regex.exec(I))&&(Y=O.parse(T))}}Y&&(this.rgba=Y)},B.prototype.get=function(I){var Y=this.input,T=this.rgba;if("object"==typeof Y&&void 0!==this.stops){var F=X(Y);return F.stops=[].slice.call(F.stops),this.stops.forEach(function(O,V){F.stops[V]=[F.stops[V][0],O.get(I)]}),F}return T&&H(T[0])?"rgb"===I||!I&&1===T[3]?"rgb("+T[0]+","+T[1]+","+T[2]+")":"a"===I?""+T[3]:"rgba("+T.join(",")+")":Y},B.prototype.brighten=function(I){var Y=this.rgba;if(this.stops)this.stops.forEach(function(F){F.brighten(I)});else if(H(I)&&0!==I)for(var T=0;3>T;T++)Y[T]+=z(255*I),0>Y[T]&&(Y[T]=0),255<Y[T]&&(Y[T]=255);return this},B.prototype.setOpacity=function(I){return this.rgba[3]=I,this},B.prototype.tweenTo=function(I,Y){var T=this.rgba,F=I.rgba;return H(T[0])&&H(F[0])?((I=1!==F[3]||1!==T[3])?"rgba(":"rgb(")+Math.round(F[0]+(T[0]-F[0])*(1-Y))+","+Math.round(F[1]+(T[1]-F[1])*(1-Y))+","+Math.round(F[2]+(T[2]-F[2])*(1-Y))+(I?","+(F[3]+(T[3]-F[3])*(1-Y)):"")+")":I.input||"none"},B.names={white:"#ffffff",black:"#000000"},B.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(I){return[z(I[1]),z(I[2]),z(I[3]),parseFloat(I[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(I){return[z(I[1]),z(I[2]),z(I[3]),1]}}],B.None=new B(""),B}()}),et(it,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),et(it,"Core/Time.js",[it["Core/Globals.js"],it["Core/Utilities.js"]],function(M,j){var H=M.win,X=j.defined,z=j.error,B=j.extend,I=j.isObject,Y=j.merge,T=j.objectEach,F=j.pad,O=j.pick,V=j.splat,G=j.timeUnits,R=M.isSafari&&H.Intl&&H.Intl.DateTimeFormat.prototype.formatRange,$=M.isSafari&&H.Intl&&!H.Intl.DateTimeFormat.prototype.formatRange;return j=function(){function Z(Q){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=H.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(Q)}return Z.prototype.get=function(Q,lt){if(this.variableTimezone||this.timezoneOffset){var ht=lt.getTime(),mt=ht-this.getTimezoneOffset(lt);return lt.setTime(mt),Q=lt["getUTC"+Q](),lt.setTime(ht),Q}return this.useUTC?lt["getUTC"+Q]():lt["get"+Q]()},Z.prototype.set=function(Q,lt,ht){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===Q||"Seconds"===Q||"Minutes"===Q&&this.getTimezoneOffset(lt)%36e5==0)return lt["setUTC"+Q](ht);var mt=this.getTimezoneOffset(lt);return mt=lt.getTime()-mt,lt.setTime(mt),lt["setUTC"+Q](ht),Q=this.getTimezoneOffset(lt),mt=lt.getTime()+Q,lt.setTime(mt)}return this.useUTC||R&&"FullYear"===Q?lt["setUTC"+Q](ht):lt["set"+Q](ht)},Z.prototype.update=function(Q){var lt=O(Q&&Q.useUTC,!0);this.options=Q=Y(!0,this.options||{},Q),this.Date=Q.Date||H.Date||Date,this.timezoneOffset=(this.useUTC=lt)&&Q.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=lt&&!(!Q.getTimezoneOffset&&!Q.timezone)},Z.prototype.makeTime=function(Q,lt,ht,mt,dt,gt){if(this.useUTC){var k=this.Date.UTC.apply(0,arguments),u=this.getTimezoneOffset(k),p=this.getTimezoneOffset(k+=u);u!==p?k+=p-u:u-36e5!==this.getTimezoneOffset(k-36e5)||$||(k-=36e5)}else k=new this.Date(Q,lt,O(ht,1),O(mt,0),O(dt,0),O(gt,0)).getTime();return k},Z.prototype.timezoneOffsetFunction=function(){var Q=this,lt=this.options,ht=lt.moment||H.moment;if(!this.useUTC)return function(mt){return 6e4*new Date(mt.toString()).getTimezoneOffset()};if(lt.timezone){if(ht)return function(mt){return 6e4*-ht.tz(mt,lt.timezone).utcOffset()};z(25)}return this.useUTC&&lt.getTimezoneOffset?function(mt){return 6e4*lt.getTimezoneOffset(mt.valueOf())}:function(){return 6e4*(Q.timezoneOffset||0)}},Z.prototype.dateFormat=function(Q,lt,ht){if(!X(lt)||isNaN(lt))return M.defaultOptions.lang&&M.defaultOptions.lang.invalidDate||"";Q=O(Q,"%Y-%m-%d %H:%M:%S");var mt=this,dt=new this.Date(lt),gt=this.get("Hours",dt),k=this.get("Day",dt),u=this.get("Date",dt),p=this.get("Month",dt),v=this.get("FullYear",dt),g=M.defaultOptions.lang,w=g&&g.weekdays,b=g&&g.shortWeekdays;return dt=B({a:b?b[k]:w[k].substr(0,3),A:w[k],d:F(u),e:F(u,2," "),w:k,b:g.shortMonths[p],B:g.months[p],m:F(p+1),o:p+1,y:v.toString().substr(2,2),Y:v,H:F(gt),k:gt,I:F(gt%12||12),l:gt%12||12,M:F(this.get("Minutes",dt)),p:12>gt?"AM":"PM",P:12>gt?"am":"pm",S:F(dt.getSeconds()),L:F(Math.floor(lt%1e3),3)},M.dateFormats),T(dt,function(D,_){for(;-1!==Q.indexOf("%"+_);)Q=Q.replace("%"+_,"function"==typeof D?D.call(mt,lt):D)}),ht?Q.substr(0,1).toUpperCase()+Q.substr(1):Q},Z.prototype.resolveDTLFormat=function(Q){return I(Q,!0)?Q:{main:(Q=V(Q))[0],from:Q[1],to:Q[2]}},Z.prototype.getTimeTicks=function(Q,lt,ht,mt){var g,dt=this,gt=[],k={},u=new dt.Date(lt),p=Q.unitRange,v=Q.count||1;if(mt=O(mt,1),X(lt)){if(dt.set("Milliseconds",u,p>=G.second?0:v*Math.floor(dt.get("Milliseconds",u)/v)),p>=G.second&&dt.set("Seconds",u,p>=G.minute?0:v*Math.floor(dt.get("Seconds",u)/v)),p>=G.minute&&dt.set("Minutes",u,p>=G.hour?0:v*Math.floor(dt.get("Minutes",u)/v)),p>=G.hour&&dt.set("Hours",u,p>=G.day?0:v*Math.floor(dt.get("Hours",u)/v)),p>=G.day&&dt.set("Date",u,p>=G.month?1:Math.max(1,v*Math.floor(dt.get("Date",u)/v))),p>=G.month){dt.set("Month",u,p>=G.year?0:v*Math.floor(dt.get("Month",u)/v));var w=dt.get("FullYear",u)}p>=G.year&&dt.set("FullYear",u,w-w%v),p===G.week&&(w=dt.get("Day",u),dt.set("Date",u,dt.get("Date",u)-w+mt+(w<mt?-7:0))),w=dt.get("FullYear",u),mt=dt.get("Month",u);var b=dt.get("Date",u),D=dt.get("Hours",u);for(lt=u.getTime(),!dt.variableTimezone&&dt.useUTC||!X(ht)||(g=ht-lt>4*G.month||dt.getTimezoneOffset(lt)!==dt.getTimezoneOffset(ht)),lt=u.getTime(),u=1;lt<ht;)gt.push(lt),lt=p===G.year?dt.makeTime(w+u*v,0):p===G.month?dt.makeTime(w,mt+u*v):!g||p!==G.day&&p!==G.week?g&&p===G.hour&&1<v?dt.makeTime(w,mt,b,D+u*v):lt+p*v:dt.makeTime(w,mt,b+u*v*(p===G.day?1:7)),u++;gt.push(lt),p<=G.hour&&1e4>gt.length&&gt.forEach(function(_){_%18e5==0&&"000000000"===dt.dateFormat("%H%M%S%L",_)&&(k[_]="day")})}return gt.info=B(Q,{higherRanks:k,totalRange:p*v}),gt},Z.prototype.getDateFormat=function(Q,lt,ht,mt){var dt=this.dateFormat("%m-%d %H:%M:%S.%L",lt),gt={millisecond:15,second:12,minute:9,hour:6,day:3},k="millisecond";for(u in G){if(Q===G.week&&+this.dateFormat("%w",lt)===ht&&"00:00:00.000"===dt.substr(6)){var u="week";break}if(G[u]>Q){u=k;break}if(gt[u]&&dt.substr(gt[u])!=="01-01 00:00:00.000".substr(gt[u]))break;"week"!==u&&(k=u)}if(u)var p=this.resolveDTLFormat(mt[u]).main;return p},Z}(),j}),et(it,"Core/DefaultOptions.js",[it["Core/Chart/ChartDefaults.js"],it["Core/Color/Color.js"],it["Core/Globals.js"],it["Core/Color/Palettes.js"],it["Core/Time.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B){j=j.parse;var I=B.merge,Y={colors:X.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:M,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:H.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:H.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:j("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};Y.chart.styledMode=!1;var T=new z(I(Y.global,Y.time));return{defaultOptions:Y,defaultTime:T,getOptions:function(){return Y},setOptions:function(F){return I(!0,Y,F),(F.time||F.global)&&(H.time?H.time.update(I(Y.global,Y.time,F.global,F.time)):H.time=T),Y}}}),et(it,"Core/Animation/Fx.js",[it["Core/Color/Color.js"],it["Core/Globals.js"],it["Core/Utilities.js"]],function(M,j,H){var X=M.parse,z=j.win,B=H.isNumber,I=H.objectEach;return function(){function Y(T,F,O){this.pos=NaN,this.options=F,this.elem=T,this.prop=O}return Y.prototype.dSetter=function(){var T=this.paths,F=T&&T[0];T=T&&T[1];var O=this.now||0,V=[];if(1!==O&&F&&T)if(F.length===T.length&&1>O)for(var G=0;G<T.length;G++){for(var R=F[G],$=T[G],Z=[],Q=0;Q<$.length;Q++){var lt=R[Q],ht=$[Q];Z[Q]=B(lt)&&B(ht)&&("A"!==$[0]||4!==Q&&5!==Q)?lt+O*(ht-lt):ht}V.push(Z)}else V=T;else V=this.toD||[];this.elem.attr("d",V,void 0,!0)},Y.prototype.update=function(){var T=this.elem,F=this.prop,O=this.now,V=this.options.step;this[F+"Setter"]?this[F+"Setter"]():T.attr?T.element&&T.attr(F,O,null,!0):T.style[F]=O+this.unit,V&&V.call(T,O,this)},Y.prototype.run=function(T,F,O){var V=this,G=V.options,R=function(Q){return!R.stopped&&V.step(Q)},$=z.requestAnimationFrame||function(Q){setTimeout(Q,13)},Z=function(){for(var Q=0;Q<Y.timers.length;Q++)Y.timers[Q]()||Y.timers.splice(Q--,1);Y.timers.length&&$(Z)};T!==F||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=T,this.end=F,this.unit=O,this.now=this.start,this.pos=0,R.elem=this.elem,R.prop=this.prop,R()&&1===Y.timers.push(R)&&$(Z)):(delete G.curAnim[this.prop],G.complete&&0===Object.keys(G.curAnim).length&&G.complete.call(this.elem))},Y.prototype.step=function(T){var F=+new Date,O=this.options,V=this.elem,G=O.complete,R=O.duration,$=O.curAnim;if(V.attr&&!V.element)T=!1;else if(T||F>=R+this.startTime){this.now=this.end,this.pos=1,this.update();var Z=$[this.prop]=!0;I($,function(Q){!0!==Q&&(Z=!1)}),Z&&G&&G.call(V),T=!1}else this.pos=O.easing((F-this.startTime)/R),this.now=this.start+(this.end-this.start)*this.pos,this.update(),T=!0;return T},Y.prototype.initPath=function(T,F,O){function V(dt,gt){for(;dt.length<mt;){var k=dt[0],u=gt[mt-dt.length];u&&"M"===k[0]&&(dt[0]="C"===u[0]?["C",k[1],k[2],k[1],k[2],k[1],k[2]]:["L",k[1],k[2]]),dt.unshift(k),Z&&(k=dt.pop(),dt.push(dt[dt.length-1],k))}}function G(dt,gt){for(;dt.length<mt;)if("C"===(gt=dt[Math.floor(dt.length/Q)-1].slice())[0]&&(gt[1]=gt[5],gt[2]=gt[6]),Z){var k=dt[Math.floor(dt.length/Q)].slice();dt.splice(dt.length/2,0,gt,k)}else dt.push(gt)}var R=T.startX,$=T.endX;O=O.slice();var Z=T.isArea,Q=Z?2:1;if(!(F=F&&F.slice()))return[O,O];if(R&&$&&$.length){for(T=0;T<R.length;T++){if(R[T]===$[0]){var lt=T;break}if(R[0]===$[$.length-R.length+T]){lt=T;var ht=!0;break}if(R[R.length-1]===$[$.length-R.length+T]){lt=R.length-T;break}}void 0===lt&&(F=[])}if(F.length&&B(lt)){var mt=O.length+lt*Q;ht?(V(F,O),G(O,F)):(V(O,F),G(F,O))}return[F,O]},Y.prototype.fillSetter=function(){Y.prototype.strokeSetter.apply(this,arguments)},Y.prototype.strokeSetter=function(){this.elem.attr(this.prop,X(this.start).tweenTo(X(this.end),this.pos),null,!0)},Y.timers=[],Y}()}),et(it,"Core/Animation/AnimationUtilities.js",[it["Core/Animation/Fx.js"],it["Core/Utilities.js"]],function(M,j){function H(G){return T(G)?F({duration:500,defer:0},G):{duration:G?500:0,defer:0}}function X(G,R){for(var $=M.timers.length;$--;)M.timers[$].elem!==G||R&&R!==M.timers[$].prop||(M.timers[$].stopped=!0)}var z=j.defined,B=j.getStyle,I=j.isArray,Y=j.isNumber,T=j.isObject,F=j.merge,O=j.objectEach,V=j.pick;return{animate:function(G,R,$){var Z,lt,ht,Q="";if(!T($)){var mt=arguments;$={duration:mt[2],easing:mt[3],complete:mt[4]}}Y($.duration)||($.duration=400),$.easing="function"==typeof $.easing?$.easing:Math[$.easing]||Math.easeInOutSine,$.curAnim=F(R),O(R,function(dt,gt){X(G,gt),ht=new M(G,$,gt),lt=void 0,"d"===gt&&I(R.d)?(ht.paths=ht.initPath(G,G.pathArray,R.d),ht.toD=R.d,Z=0,lt=1):G.attr?Z=G.attr(gt):(Z=parseFloat(B(G,gt))||0,"opacity"!==gt&&(Q="px")),lt||(lt=dt),"string"==typeof lt&&lt.match("px")&&(lt=lt.replace(/px/g,"")),ht.run(Z,lt,Q)})},animObject:H,getDeferredAnimation:function(G,R,$){var Z=H(R),Q=0,lt=0;return($?[$]:G.series).forEach(function(ht){ht=H(ht.options.animation),Q=R&&z(R.defer)?Z.defer:Math.max(Q,ht.duration+ht.defer),lt=Math.min(Z.duration,ht.duration)}),G.renderer.forExport&&(Q=0),{defer:Math.max(0,Q-lt),duration:Math.min(Q,lt)}},setAnimation:function(G,R){R.renderer.globalAnimation=V(G,R.options.chart.animation,!0)},stop:X}}),et(it,"Core/Renderer/HTML/AST.js",[it["Core/Globals.js"],it["Core/Utilities.js"]],function(M,j){var H=M.SVG_NS,X=j.attr,z=j.createElement,B=j.discardElement,I=j.error,Y=j.isString,T=j.objectEach,F=j.splat;try{var O=!!(new DOMParser).parseFromString("","text/html")}catch(V){O=!1}return function(){function V(G){this.nodes="string"==typeof G?this.parseMarkup(G):G}return V.filterUserAttributes=function(G){return T(G,function(R,$){var Z=!0;-1===V.allowedAttributes.indexOf($)&&(Z=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf($)&&(Z=Y(R)&&V.allowedReferences.some(function(Q){return 0===R.indexOf(Q)})),Z||(I("Highcharts warning: Invalid attribute '"+$+"' in config"),delete G[$])}),G},V.setElementHTML=function(G,R){G.innerHTML="",R&&new V(R).addToDOM(G)},V.prototype.addToDOM=function(G){return function R($,Z){var Q;return F($).forEach(function(lt){var ht=lt.tagName,mt=lt.textContent?M.doc.createTextNode(lt.textContent):void 0;if(ht)if("#text"===ht)var dt=mt;else if(-1!==V.allowedTags.indexOf(ht)){ht=M.doc.createElementNS("svg"===ht?H:Z.namespaceURI||H,ht);var gt=lt.attributes||{};T(lt,function(k,u){"tagName"!==u&&"attributes"!==u&&"children"!==u&&"textContent"!==u&&(gt[u]=k)}),X(ht,V.filterUserAttributes(gt)),mt&&ht.appendChild(mt),R(lt.children||[],ht),dt=ht}else I("Highcharts warning: Invalid tagName '"+ht+"' in config");dt&&Z.appendChild(dt),Q=dt}),Q}(this.nodes,G)},V.prototype.parseMarkup=function(G){var R=[];if(G=G.trim(),O)G=(new DOMParser).parseFromString(G,"text/html");else{var $=z("div");$.innerHTML=G,G={body:$}}var Z=function(Q,lt){var ht=Q.nodeName.toLowerCase(),mt={tagName:ht};if("#text"===ht&&(mt.textContent=Q.textContent||""),ht=Q.attributes){var dt={};[].forEach.call(ht,function(k){dt[k.name]=k.value}),mt.attributes=dt}if(Q.childNodes.length){var gt=[];[].forEach.call(Q.childNodes,function(k){Z(k,gt)}),gt.length&&(mt.children=gt)}lt.push(mt)};return[].forEach.call(G.body.childNodes,function(Q){return Z(Q,R)}),$&&B($),R},V.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),V.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),V.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),V}()}),et(it,"Core/FormatUtilities.js",[it["Core/DefaultOptions.js"],it["Core/Utilities.js"]],function(M,j){function H(F,O,V,G){O=+O;var R=X.lang,$=((F=+F||0).toString().split(".")[1]||"").split("e")[0].length,Z=F.toString().split("e"),Q=O;if(-1===O)O=Math.min($,20);else if(I(O)){if(O&&Z[1]&&0>Z[1]){var lt=O+ +Z[1];0<=lt?(Z[0]=(+Z[0]).toExponential(lt).split("e")[0],O=lt):(Z[0]=Z[0].split(".")[0]||0,F=20>O?(Z[0]*Math.pow(10,Z[1])).toFixed(O):0,Z[1]=0)}}else O=2;lt=(Math.abs(Z[1]?Z[0]:F)+Math.pow(10,-Math.max(O,$)-1)).toFixed(O);var ht=3<($=String(T(lt))).length?$.length%3:0;return V=Y(V,R.decimalPoint),G=Y(G,R.thousandsSep),F=(0>F?"-":"")+(ht?$.substr(0,ht)+G:""),F=0>+Z[1]&&!Q?"0":F+$.substr(ht).replace(/(\d{3})(?=\d)/g,"$1"+G),O&&(F+=V+lt.slice(-O)),Z[1]&&0!=+F&&(F+="e"+Z[1]),F}var X=M.defaultOptions,z=M.defaultTime,B=j.getNestedProperty,I=j.isNumber,Y=j.pick,T=j.pInt;return{dateFormat:function(F,O,V){return z.dateFormat(F,O,V)},format:function(F,O,V){var G="{",R=!1,$=/f$/,Z=/\.([0-9])/,Q=X.lang,lt=V&&V.time||z;V=V&&V.numberFormatter||H;for(var ht=[];F;){var mt=F.indexOf(G);if(-1===mt)break;var dt=F.slice(0,mt);if(R){if(dt=dt.split(":"),G=B(dt.shift()||"",O),dt.length&&"number"==typeof G)if(dt=dt.join(":"),$.test(dt)){var gt=parseInt((dt.match(Z)||["","-1"])[1],10);null!==G&&(G=V(G,gt,Q.decimalPoint,-1<dt.indexOf(",")?Q.thousandsSep:""))}else G=lt.dateFormat(dt,G);ht.push(G)}else ht.push(dt);F=F.slice(mt+1),G=(R=!R)?"}":"{"}return ht.push(F),ht.join("")},numberFormat:H}}),et(it,"Core/Renderer/RendererUtilities.js",[it["Core/Utilities.js"]],function(M){var z,j=M.clamp,H=M.pick,X=M.stableSort;return(z||(z={})).distribute=function I(Y,T,F){var $,O=Y,V=O.reducedLen||T,G=function(ht,mt){return(mt.rank||0)-(ht.rank||0)},R=function(ht,mt){return ht.target-mt.target},Z=!0,Q=[],lt=0;for($=Y.length;$--;)lt+=Y[$].size;if(lt>V){for(X(Y,G),lt=$=0;lt<=V;)lt+=Y[$].size,$++;Q=Y.splice($-1,Y.length)}for(X(Y,R),Y=Y.map(function(ht){return{size:ht.size,targets:[ht.target],align:H(ht.align,.5)}});Z;){for($=Y.length;$--;)V=Y[$],G=(Math.min.apply(0,V.targets)+Math.max.apply(0,V.targets))/2,V.pos=j(G-V.size*V.align,0,T-V.size);for($=Y.length,Z=!1;$--;)0<$&&Y[$-1].pos+Y[$-1].size>Y[$].pos&&(Y[$-1].size+=Y[$].size,Y[$-1].targets=Y[$-1].targets.concat(Y[$].targets),Y[$-1].align=.5,Y[$-1].pos+Y[$-1].size>T&&(Y[$-1].pos=T-Y[$-1].size),Y.splice($,1),Z=!0)}return O.push.apply(O,Q),$=0,Y.some(function(ht){var mt=0;return(ht.targets||[]).some(function(){return O[$].pos=ht.pos+mt,void 0!==F&&Math.abs(O[$].pos-O[$].target)>F?(O.slice(0,$+1).forEach(function(dt){return delete dt.pos}),O.reducedLen=(O.reducedLen||T)-.1*T,O.reducedLen>.1*T&&I(O,T,F),!0):(mt+=O[$].size,$++,!1)})}),X(O,R),O},z}),et(it,"Core/Renderer/SVG/SVGElement.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/Renderer/HTML/AST.js"],it["Core/Color/Color.js"],it["Core/Globals.js"],it["Core/Utilities.js"]],function(M,j,H,X,z){var B=M.animate,I=M.animObject,Y=M.stop,T=X.deg2rad,F=X.doc,O=X.noop,V=X.svg,G=X.SVG_NS,R=X.win,$=z.addEvent,Z=z.attr,Q=z.createElement,lt=z.css,ht=z.defined,mt=z.erase,dt=z.extend,gt=z.fireEvent,k=z.isArray,u=z.isFunction,p=z.isNumber,v=z.isString,g=z.merge,w=z.objectEach,b=z.pick,D=z.pInt,_=z.syncTimeout,f=z.uniqueKey;return M=function(){function C(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=G,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return C.prototype._defaultGetter=function(K){return K=b(this[K+"Value"],this[K],this.element?this.element.getAttribute(K):null,0),/^[\-0-9\.]+$/.test(K)&&(K=parseFloat(K)),K},C.prototype._defaultSetter=function(K,U,W){W.setAttribute(U,K)},C.prototype.add=function(K){var U=this.renderer,W=this.element;if(K&&(this.parentGroup=K),this.parentInverted=K&&K.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&U.buildText(this),this.added=!0,!K||K.handleZ||this.zIndex)var st=this.zIndexSetter();return st||(K?K.element:U.box).appendChild(W),this.onAdd&&this.onAdd(),this},C.prototype.addClass=function(K,U){var W=U?"":this.attr("class")||"";return(K=(K||"").split(/ /g).reduce(function(st,ct){return-1===W.indexOf(ct)&&st.push(ct),st},W?[W]:[]).join(" "))!==W&&this.attr("class",K),this},C.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},C.prototype.align=function(K,U,W){var kt,wt,ut,st={},ct=this.renderer,Ct=ct.alignedObjects;K?(this.alignOptions=K,this.alignByTranslate=U,(!W||v(W))&&(this.alignTo=kt=W||"renderer",mt(Ct,this),Ct.push(this),W=void 0)):(K=this.alignOptions,U=this.alignByTranslate,kt=this.alignTo),W=b(W,ct[kt],"scrollablePlotBox"===kt?ct.plotBox:void 0,ct);var Ot=K.verticalAlign;return ct=(W.x||0)+(K.x||0),Ct=(W.y||0)+(K.y||0),"right"===(kt=K.align)?wt=1:"center"===kt&&(wt=2),wt&&(ct+=(W.width-(K.width||0))/wt),st[U?"translateX":"x"]=Math.round(ct),"bottom"===Ot?ut=1:"middle"===Ot&&(ut=2),ut&&(Ct+=(W.height-(K.height||0))/ut),st[U?"translateY":"y"]=Math.round(Ct),this[this.placed?"animate":"attr"](st),this.placed=!0,this.alignAttr=st,this},C.prototype.alignSetter=function(K){var U={left:"start",center:"middle",right:"end"};U[K]&&(this.alignValue=K,this.element.setAttribute("text-anchor",U[K]))},C.prototype.animate=function(K,U,W){var st=this,ct=I(b(U,this.renderer.globalAnimation,!0));return U=ct.defer,b(F.hidden,F.msHidden,F.webkitHidden,!1)&&(ct.duration=0),0!==ct.duration?(W&&(ct.complete=W),_(function(){st.element&&B(st,K,ct)},U)):(this.attr(K,void 0,W),w(K,function(Ct,kt){ct.step&&ct.step.call(this,Ct,{prop:kt,pos:1,elem:this})},this)),this},C.prototype.applyTextOutline=function(K){var U=this.element;-1!==K.indexOf("contrast")&&(K=K.replace(/contrast/g,this.renderer.getContrast(U.style.fill)));var W=K.split(" ");if(K=W[W.length-1],(W=W[0])&&"none"!==W&&X.svg){this.fakeTS=!0,this.ySetter=this.xSetter,W=W.replace(/(^[\d\.]+)(.*?)$/g,function(Ct,kt,wt){return 2*Number(kt)+wt}),this.removeTextOutline();var st=F.createElementNS(G,"tspan");Z(st,{class:"highcharts-text-outline",fill:K,stroke:K,"stroke-width":W,"stroke-linejoin":"round"}),[].forEach.call(U.childNodes,function(Ct){var kt=Ct.cloneNode(!0);kt.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(wt){return kt.removeAttribute(wt)}),st.appendChild(kt)});var ct=F.createElementNS(G,"tspan");ct.textContent="\u200b",["x","y"].forEach(function(Ct){var kt=U.getAttribute(Ct);kt&&ct.setAttribute(Ct,kt)}),st.appendChild(ct),U.insertBefore(st,U.firstChild)}},C.prototype.attr=function(K,U,W,st){var kt,ut,Ot,ct=this.element,Ct=this.symbolCustomAttribs,wt=this;if("string"==typeof K&&void 0!==U){var bt=K;(K={})[bt]=U}return"string"==typeof K?wt=(this[K+"Getter"]||this._defaultGetter).call(this,K,ct):(w(K,function(pt,Dt){ut=!1,st||Y(this,Dt),this.symbolName&&-1!==Ct.indexOf(Dt)&&(kt||(this.symbolAttr(K),kt=!0),ut=!0),!this.rotation||"x"!==Dt&&"y"!==Dt||(this.doTransform=!0),ut||((Ot=this[Dt+"Setter"]||this._defaultSetter).call(this,pt,Dt,ct),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Dt)&&this.updateShadows(Dt,pt,Ot))},this),this.afterSetters()),W&&W.call(this),wt},C.prototype.clip=function(K){return this.attr("clip-path",K?"url("+this.renderer.url+"#"+K.id+")":"none")},C.prototype.crisp=function(K,U){U=U||K.strokeWidth||0;var W=Math.round(U)%2/2;return K.x=Math.floor(K.x||this.x||0)+W,K.y=Math.floor(K.y||this.y||0)+W,K.width=Math.floor((K.width||this.width||0)-2*W),K.height=Math.floor((K.height||this.height||0)-2*W),ht(K.strokeWidth)&&(K.strokeWidth=U),K},C.prototype.complexColor=function(K,U,W){var ct,Ct,kt,wt,ut,Ot,bt,pt,Dt,Rt,te,st=this.renderer,St=[];gt(this.renderer,"complexColor",{args:arguments},function(){if(K.radialGradient?Ct="radialGradient":K.linearGradient&&(Ct="linearGradient"),Ct){if(ut=st.gradients,Ot=K.stops,Dt=W.radialReference,k(kt=K[Ct])&&(K[Ct]=kt={x1:kt[0],y1:kt[1],x2:kt[2],y2:kt[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===Ct&&Dt&&!ht(kt.gradientUnits)&&(kt=g(kt,st.getRadialAttr(Dt,wt=kt),{gradientUnits:"userSpaceOnUse"})),w(kt,function(Kt,Oe){"id"!==Oe&&St.push(Oe,Kt)}),w(Ot,function(Kt){St.push(Kt)}),St=St.join(","),ut[St])Rt=ut[St].attr("id");else{kt.id=Rt=f();var At=ut[St]=st.createElement(Ct).attr(kt).add(st.defs);At.radAttr=wt,At.stops=[],Ot.forEach(function(Kt){0===Kt[1].indexOf("rgba")?(ct=H.parse(Kt[1]),bt=ct.get("rgb"),pt=ct.get("a")):(bt=Kt[1],pt=1),Kt=st.createElement("stop").attr({offset:Kt[0],"stop-color":bt,"stop-opacity":pt}).add(At),At.stops.push(Kt)})}W.setAttribute(U,te="url("+st.url+"#"+Rt+")"),W.gradient=St,K.toString=function(){return te}}})},C.prototype.css=function(K){var U=this.styles,W={},st=this.element,ct=["textOutline","textOverflow","width"],Ct="",kt=!U;if(K&&K.color&&(K.fill=K.color),U&&w(K,function(Ot,bt){U&&U[bt]!==Ot&&(W[bt]=Ot,kt=!0)}),kt){if(U&&(K=dt(U,W)),K)if(null===K.width||"auto"===K.width)delete this.textWidth;else if("text"===st.nodeName.toLowerCase()&&K.width)var wt=this.textWidth=D(K.width);if(this.styles=K,wt&&!V&&this.renderer.forExport&&delete K.width,st.namespaceURI===this.SVG_NS){var ut=function(Ot,bt){return"-"+bt.toLowerCase()};w(K,function(Ot,bt){-1===ct.indexOf(bt)&&(Ct+=bt.replace(/([A-Z])/g,ut)+":"+Ot+";")}),Ct&&Z(st,"style",Ct)}else lt(st,K);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),K&&K.textOutline&&this.applyTextOutline(K.textOutline))}return this},C.prototype.dashstyleSetter=function(K){var U=this["stroke-width"];if("inherit"===U&&(U=1),K=K&&K.toLowerCase()){var W=K.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(K=W.length;K--;)W[K]=""+D(W[K])*b(U,NaN);K=W.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",K)}},C.prototype.destroy=function(){var K=this,U=K.element||{},W=K.renderer,st=U.ownerSVGElement,ct=W.isSVG&&"SPAN"===U.nodeName&&K.parentGroup||void 0;if(U.onclick=U.onmouseout=U.onmouseover=U.onmousemove=U.point=null,Y(K),K.clipPath&&st){var Ct=K.clipPath;[].forEach.call(st.querySelectorAll("[clip-path],[CLIP-PATH]"),function(kt){-1<kt.getAttribute("clip-path").indexOf(Ct.element.id)&&kt.removeAttribute("clip-path")}),K.clipPath=Ct.destroy()}if(K.stops){for(st=0;st<K.stops.length;st++)K.stops[st].destroy();K.stops.length=0,K.stops=void 0}for(K.safeRemoveChild(U),W.styledMode||K.destroyShadows();ct&&ct.div&&0===ct.div.childNodes.length;)U=ct.parentGroup,K.safeRemoveChild(ct.div),delete ct.div,ct=U;K.alignTo&&mt(W.alignedObjects,K),w(K,function(kt,wt){K[wt]&&K[wt].parentGroup===K&&K[wt].destroy&&K[wt].destroy(),delete K[wt]})},C.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(K){this.safeRemoveChild(K)},this),this.shadows=void 0},C.prototype.destroyTextPath=function(K,U){var W=K.getElementsByTagName("text")[0];if(W){if(W.removeAttribute("dx"),W.removeAttribute("dy"),U.element.setAttribute("id",""),this.textPathWrapper&&W.getElementsByTagName("textPath").length){for(K=this.textPathWrapper.element.childNodes;K.length;)W.appendChild(K[0]);W.removeChild(this.textPathWrapper.element)}}else(K.getAttribute("dx")||K.getAttribute("dy"))&&(K.removeAttribute("dx"),K.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},C.prototype.dSetter=function(K,U,W){k(K)&&("string"==typeof K[0]&&(K=this.renderer.pathToSegments(K)),this.pathArray=K,K=K.reduce(function(st,ct,Ct){return ct&&ct.join?(Ct?st+" ":"")+ct.join(" "):(ct||"").toString()},"")),/(NaN| {2}|^$)/.test(K)&&(K="M 0 0"),this[U]!==K&&(W.setAttribute(U,K),this[U]=K)},C.prototype.fadeOut=function(K){var U=this;U.animate({opacity:0},{duration:b(K,150),complete:function(){U.attr({y:-9999}).hide()}})},C.prototype.fillSetter=function(K,U,W){"string"==typeof K?W.setAttribute(U,K):K&&this.complexColor(K,U,W)},C.prototype.getBBox=function(K,U){var W=this.renderer,st=this.element,ct=this.styles,Ct=this.textStr,kt=W.cache,wt=W.cacheKeys,ut=st.namespaceURI===this.SVG_NS;U=b(U,this.rotation,0);var bt,Ot=W.styledMode?st&&C.prototype.getStyle.call(st,"font-size"):ct&&ct.fontSize;if(ht(Ct)){var pt=Ct.toString();-1===pt.indexOf("<")&&(pt=pt.replace(/[0-9]/g,"0")),pt+=["",U,Ot,this.textWidth,ct&&ct.textOverflow,ct&&ct.fontWeight].join()}if(pt&&!K&&(bt=kt[pt]),!bt){if(ut||W.forExport){try{var Dt=this.fakeTS&&function(Rt){var St=st.querySelector(".highcharts-text-outline");St&&lt(St,{display:Rt})};u(Dt)&&Dt("none"),bt=st.getBBox?dt({},st.getBBox()):{width:st.offsetWidth,height:st.offsetHeight},u(Dt)&&Dt("")}catch(Rt){}(!bt||0>bt.width)&&(bt={width:0,height:0})}else bt=this.htmlGetBBox();if(W.isSVG&&(K=bt.width,W=bt.height,ut&&(bt.height=W={"11px,17":14,"13px,20":16}[ct&&ct.fontSize+","+Math.round(W)]||W),U&&(ct=U*T,bt.width=Math.abs(W*Math.sin(ct))+Math.abs(K*Math.cos(ct)),bt.height=Math.abs(W*Math.cos(ct))+Math.abs(K*Math.sin(ct)))),pt&&(""===Ct||0<bt.height)){for(;250<wt.length;)delete kt[wt.shift()];kt[pt]||wt.push(pt),kt[pt]=bt}}return bt},C.prototype.getStyle=function(K){return R.getComputedStyle(this.element||this,"").getPropertyValue(K)},C.prototype.hasClass=function(K){return-1!==(""+this.attr("class")).split(" ").indexOf(K)},C.prototype.hide=function(K){return this.attr(K?{y:-9999}:{visibility:"hidden"}),this},C.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},C.prototype.init=function(K,U){this.element="span"===U?Q(U):F.createElementNS(this.SVG_NS,U),this.renderer=K,gt(this,"afterInit")},C.prototype.invert=function(K){return this.inverted=K,this.updateTransform(),this},C.prototype.on=function(K,U){var W=this.onEvents;return W[K]&&W[K](),W[K]=$(this.element,K,U),this},C.prototype.opacitySetter=function(K,U,W){this.opacity=K=Number(Number(K).toFixed(3)),W.setAttribute(U,K)},C.prototype.removeClass=function(K){return this.attr("class",(""+this.attr("class")).replace(v(K)?new RegExp("(^| )"+K+"( |$)"):K," ").replace(/ +/g," ").trim())},C.prototype.removeTextOutline=function(){var K=this.element.querySelector("tspan.highcharts-text-outline");K&&this.safeRemoveChild(K)},C.prototype.safeRemoveChild=function(K){var U=K.parentNode;U&&U.removeChild(K)},C.prototype.setRadialReference=function(K){var U=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=K,U&&U.radAttr&&U.animate(this.renderer.getRadialAttr(K,U.radAttr)),this},C.prototype.setTextPath=function(K,U){var W=this.element,st=this.text?this.text.element:W,ct={textAnchor:"text-anchor"},Ct=!1,kt=this.textPathWrapper,wt=!kt;U=g(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},U);var ut=j.filterUserAttributes(U.attributes);if(K&&U&&U.enabled){kt&&null===kt.element.parentNode?(wt=!0,kt=kt.destroy()):kt&&this.removeTextOutline.call(kt.parentGroup),this.options&&this.options.padding&&(ut.dx=-this.options.padding),kt||(this.textPathWrapper=kt=this.renderer.createElement("textPath"),Ct=!0);var Ot=kt.element;if((U=K.element.getAttribute("id"))||K.element.setAttribute("id",U=f()),wt)for(st.setAttribute("y",0),p(ut.dx)&&st.setAttribute("x",-ut.dx),K=[].slice.call(st.childNodes),wt=0;wt<K.length;wt++){var bt=K[wt];bt.nodeType!==R.Node.TEXT_NODE&&"tspan"!==bt.nodeName||Ot.appendChild(bt)}Ct&&kt&&kt.add({element:st}),Ot.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+U),ht(ut.dy)&&(Ot.parentNode.setAttribute("dy",ut.dy),delete ut.dy),ht(ut.dx)&&(Ot.parentNode.setAttribute("dx",ut.dx),delete ut.dx),w(ut,function(pt,Dt){Ot.setAttribute(ct[Dt]||Dt,pt)}),W.removeAttribute("transform"),this.removeTextOutline.call(kt),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=O}else kt&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(W,K),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},C.prototype.shadow=function(K,U,W){var ut,st=[],ct=this.element,Ct=this.oldShadowOptions,kt={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},wt=!1;if(!0===K?ut=kt:"object"==typeof K&&(ut=dt(kt,K)),ut&&(ut&&Ct&&w(ut,function(Rt,St){Rt!==Ct[St]&&(wt=!0)}),wt&&this.destroyShadows(),this.oldShadowOptions=ut),ut){if(!this.shadows){var Ot=ut.opacity/ut.width,bt=this.parentInverted?"translate("+ut.offsetY+", "+ut.offsetX+")":"translate("+ut.offsetX+", "+ut.offsetY+")";for(kt=1;kt<=ut.width;kt++){var pt=ct.cloneNode(!1),Dt=2*ut.width+1-2*kt;Z(pt,{stroke:K.color||"#000000","stroke-opacity":Ot*kt,"stroke-width":Dt,transform:bt,fill:"none"}),pt.setAttribute("class",(pt.getAttribute("class")||"")+" highcharts-shadow"),W&&(Z(pt,"height",Math.max(Z(pt,"height")-Dt,0)),pt.cutHeight=Dt),U?U.element.appendChild(pt):ct.parentNode&&ct.parentNode.insertBefore(pt,ct),st.push(pt)}this.shadows=st}}else this.destroyShadows();return this},C.prototype.show=function(K){return this.attr({visibility:K?"inherit":"visible"})},C.prototype.strokeSetter=function(K,U,W){this[U]=K,this.stroke&&this["stroke-width"]?(C.prototype.fillSetter.call(this,this.stroke,"stroke",W),W.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===U&&0===K&&this.hasStroke?(W.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(W.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},C.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var K=this.getStyle("stroke-width"),U=0;if(K.indexOf("px")===K.length-2)U=D(K);else if(""!==K){var W=F.createElementNS(G,"rect");Z(W,{width:K,"stroke-width":0}),this.element.parentNode.appendChild(W),U=W.getBBox().width,W.parentNode.removeChild(W)}return U},C.prototype.symbolAttr=function(K){var U=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(W){U[W]=b(K[W],U[W])}),U.attr({d:U.renderer.symbols[U.symbolName](U.x,U.y,U.width,U.height,U)})},C.prototype.textSetter=function(K){K!==this.textStr&&(delete this.textPxLength,this.textStr=K,this.added&&this.renderer.buildText(this))},C.prototype.titleSetter=function(K){var U=this.element,W=U.getElementsByTagName("title")[0]||F.createElementNS(this.SVG_NS,"title");U.insertBefore?U.insertBefore(W,U.firstChild):U.appendChild(W),W.textContent=String(b(K,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},C.prototype.toFront=function(){var K=this.element;return K.parentNode.appendChild(K),this},C.prototype.translate=function(K,U){return this.attr({translateX:K,translateY:U})},C.prototype.updateShadows=function(K,U,W){var st=this.shadows;if(st)for(var ct=st.length;ct--;)W.call(st[ct],"height"===K?Math.max(U-(st[ct].cutHeight||0),0):"d"===K?this.d:U,K,st[ct])},C.prototype.updateTransform=function(){var K=this.scaleX,U=this.scaleY,W=this.inverted,st=this.rotation,ct=this.matrix,Ct=this.element,kt=this.translateX||0,wt=this.translateY||0;W&&(kt+=this.width,wt+=this.height),kt=["translate("+kt+","+wt+")"],ht(ct)&&kt.push("matrix("+ct.join(",")+")"),W?kt.push("rotate(90) scale(-1,1)"):st&&kt.push("rotate("+st+" "+b(this.rotationOriginX,Ct.getAttribute("x"),0)+" "+b(this.rotationOriginY,Ct.getAttribute("y")||0)+")"),(ht(K)||ht(U))&&kt.push("scale("+b(K,1)+" "+b(U,1)+")"),kt.length&&Ct.setAttribute("transform",kt.join(" "))},C.prototype.visibilitySetter=function(K,U,W){"inherit"===K?W.removeAttribute(U):this[U]!==K&&W.setAttribute(U,K),this[U]=K},C.prototype.xGetter=function(K){return"circle"===this.element.nodeName&&("x"===K?K="cx":"y"===K&&(K="cy")),this._defaultGetter(K)},C.prototype.zIndexSetter=function(K,U){var W=this.renderer,st=this.parentGroup,ct=(st||W).element||W.box,Ct=this.element;W=ct===W.box;var ut,kt=!1,wt=this.added;if(ht(K)?(Ct.setAttribute("data-z-index",K),this[U]===(K=+K)&&(wt=!1)):ht(this[U])&&Ct.removeAttribute("data-z-index"),this[U]=K,wt){for((K=this.zIndex)&&st&&(st.handleZ=!0),ut=(U=ct.childNodes).length-1;0<=ut&&!kt;ut--){wt=(st=U[ut]).getAttribute("data-z-index");var Ot=!ht(wt);st!==Ct&&(0>K&&Ot&&!W&&!ut?(ct.insertBefore(Ct,U[ut]),kt=!0):(D(wt)<=K||Ot&&(!ht(K)||0<=K))&&(ct.insertBefore(Ct,U[ut+1]||null),kt=!0))}kt||(ct.insertBefore(Ct,U[W?3:0]||null),kt=!0)}return kt},C}(),M.prototype["stroke-widthSetter"]=M.prototype.strokeSetter,M.prototype.yGetter=M.prototype.xGetter,M.prototype.matrixSetter=M.prototype.rotationOriginXSetter=M.prototype.rotationOriginYSetter=M.prototype.rotationSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.verticalAlignSetter=function(C,K){this[K]=C,this.doTransform=!0},M}),et(it,"Core/Renderer/RendererRegistry.js",[it["Core/Globals.js"]],function(M){var j,H,X;return(H=j||(j={})).rendererTypes={},H.getRendererType=function(z){return void 0===z&&(z=X),H.rendererTypes[z]||H.rendererTypes[X]},H.registerRendererType=function(z,B,I){H.rendererTypes[z]=B,(!X||I)&&(X=z,M.Renderer=B)},j}),et(it,"Core/Renderer/SVG/SVGLabel.js",[it["Core/Renderer/SVG/SVGElement.js"],it["Core/Utilities.js"]],function(M,j){var F,H=this&&this.__extends||(F=function(O,V){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,R){G.__proto__=R}||function(G,R){for(var $ in R)R.hasOwnProperty($)&&(G[$]=R[$])})(O,V)},function(O,V){function G(){this.constructor=O}F(O,V),O.prototype=null===V?Object.create(V):(G.prototype=V.prototype,new G)}),X=j.defined,z=j.extend,B=j.isNumber,I=j.merge,Y=j.pick,T=j.removeEvent;return function(F){function O(V,G,R,$,Z,Q,lt,ht,mt,dt){var k,gt=F.call(this)||this;return gt.paddingLeftSetter=gt.paddingSetter,gt.paddingRightSetter=gt.paddingSetter,gt.init(V,"g"),gt.textStr=G,gt.x=R,gt.y=$,gt.anchorX=Q,gt.anchorY=lt,gt.baseline=mt,gt.className=dt,gt.addClass("button"===dt?"highcharts-no-tooltip":"highcharts-label"),dt&&gt.addClass("highcharts-"+dt),gt.text=V.text(void 0,0,0,ht).attr({zIndex:1}),"string"==typeof Z&&((k=/^url\((.*?)\)$/.test(Z))||gt.renderer.symbols[Z])&&(gt.symbolKey=Z),gt.bBox=O.emptyBBox,gt.padding=3,gt.baselineOffset=0,gt.needsBox=V.styledMode||k,gt.deferredAttr={},gt.alignFactor=0,gt}return H(O,F),O.prototype.alignSetter=function(V){(V={left:0,center:.5,right:1}[V])!==this.alignFactor&&(this.alignFactor=V,this.bBox&&B(this.xSetting)&&this.attr({x:this.xSetting}))},O.prototype.anchorXSetter=function(V,G){this.anchorX=V,this.boxAttr(G,Math.round(V)-this.getCrispAdjust()-this.xSetting)},O.prototype.anchorYSetter=function(V,G){this.anchorY=V,this.boxAttr(G,V-this.ySetting)},O.prototype.boxAttr=function(V,G){this.box?this.box.attr(V,G):this.deferredAttr[V]=G},O.prototype.css=function(V){if(V){var G={};V=I(V),O.textProps.forEach(function($){void 0!==V[$]&&(G[$]=V[$],delete V[$])}),this.text.css(G);var R="width"in G;"fontSize"in G||"fontWeight"in G?this.updateTextPadding():R&&this.updateBoxSize()}return M.prototype.css.call(this,V)},O.prototype.destroy=function(){T(this.element,"mouseenter"),T(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),M.prototype.destroy.call(this)},O.prototype.fillSetter=function(V,G){V&&(this.needsBox=!0),this.fill=V,this.boxAttr(G,V)},O.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var V=this.padding,G=Y(this.paddingLeft,V);return{width:this.width,height:this.height,x:this.bBox.x-G,y:this.bBox.y-V}},O.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},O.prototype.heightSetter=function(V){this.heightSetting=V},O.prototype.onAdd=function(){var V=this.textStr;this.text.add(this),this.attr({text:X(V)?V:"",x:this.x,y:this.y}),this.box&&X(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},O.prototype.paddingSetter=function(V,G){B(V)?V!==this[G]&&(this[G]=V,this.updateTextPadding()):this[G]=void 0},O.prototype.rSetter=function(V,G){this.boxAttr(G,V)},O.prototype.shadow=function(V){return V&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(V)),this},O.prototype.strokeSetter=function(V,G){this.stroke=V,this.boxAttr(G,V)},O.prototype["stroke-widthSetter"]=function(V,G){V&&(this.needsBox=!0),this["stroke-width"]=V,this.boxAttr(G,V)},O.prototype["text-alignSetter"]=function(V){this.textAlign=V},O.prototype.textSetter=function(V){void 0!==V&&this.text.attr({text:V}),this.updateTextPadding()},O.prototype.updateBoxSize=function(){var V=this.text.element.style,G={},R=this.padding,$=this.bBox=B(this.widthSetting)&&B(this.heightSetting)&&!this.textAlign||!X(this.text.textStr)?O.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||$.height||0)+2*R,V=this.renderer.fontMetrics(V&&V.fontSize,this.text),this.baselineOffset=R+Math.min((this.text.firstLineMetrics||V).b,$.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-V.h)/2),this.needsBox&&(this.box||((R=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),R.add(this)),R=this.getCrispAdjust(),G.x=R,G.y=(this.baseline?-this.baselineOffset:0)+R,G.width=Math.round(this.width),G.height=Math.round(this.height),this.box.attr(z(G,this.deferredAttr)),this.deferredAttr={})},O.prototype.updateTextPadding=function(){var V=this.text;this.updateBoxSize();var G=this.baseline?0:this.baselineOffset,R=Y(this.paddingLeft,this.padding);X(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(R+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(R!==V.x||G!==V.y)&&(V.attr("x",R),V.hasBoxWidthChanged&&(this.bBox=V.getBBox(!0)),void 0!==G&&V.attr("y",G)),V.x=R,V.y=G},O.prototype.widthSetter=function(V){this.widthSetting=B(V)?V:void 0},O.prototype.getPaddedWidth=function(){var V=this.padding,G=Y(this.paddingLeft,V);return V=Y(this.paddingRight,V),(this.widthSetting||this.bBox.width||0)+G+V},O.prototype.xSetter=function(V){this.x=V,this.alignFactor&&(V-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(V),this.attr("translateX",this.xSetting)},O.prototype.ySetter=function(V){this.ySetting=this.y=Math.round(V),this.attr("translateY",this.ySetting)},O.emptyBBox={width:0,height:0,x:0,y:0},O.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),O}(M)}),et(it,"Core/Renderer/SVG/Symbols.js",[it["Core/Utilities.js"]],function(M){function j(Y,T,F,O,V){var G=[];if(V){var R=V.start||0,$=I(V.r,F);F=I(V.r,O||F);var Z=(V.end||0)-.001;O=V.innerR;var Q=I(V.open,.001>Math.abs((V.end||0)-R-2*Math.PI)),lt=Math.cos(R),ht=Math.sin(R),mt=Math.cos(Z),dt=Math.sin(Z);R=I(V.longArc,.001>Z-R-Math.PI?0:1),G.push(["M",Y+$*lt,T+F*ht],["A",$,F,0,R,I(V.clockwise,1),Y+$*mt,T+F*dt]),z(O)&&G.push(Q?["M",Y+O*mt,T+O*dt]:["L",Y+O*mt,T+O*dt],["A",O,O,0,R,z(V.clockwise)?1-V.clockwise:0,Y+O*lt,T+O*ht]),Q||G.push(["Z"])}return G}function H(Y,T,F,O,V){return V&&V.r?X(Y,T,F,O,V):[["M",Y,T],["L",Y+F,T],["L",Y+F,T+O],["L",Y,T+O],["Z"]]}function X(Y,T,F,O,V){return[["M",Y+(V=V&&V.r||0),T],["L",Y+F-V,T],["C",Y+F,T,Y+F,T,Y+F,T+V],["L",Y+F,T+O-V],["C",Y+F,T+O,Y+F,T+O,Y+F-V,T+O],["L",Y+V,T+O],["C",Y,T+O,Y,T+O,Y,T+O-V],["L",Y,T+V],["C",Y,T,Y,T,Y+V,T]]}var z=M.defined,B=M.isNumber,I=M.pick;return{arc:j,callout:function(Y,T,F,O,V){var G=Math.min(V&&V.r||0,F,O),R=G+6,$=V&&V.anchorX;V=V&&V.anchorY||0;var Z=X(Y,T,F,O,{r:G});return B($)&&(Y+$>=F?V>T+R&&V<T+O-R?Z.splice(3,1,["L",Y+F,V-6],["L",Y+F+6,V],["L",Y+F,V+6],["L",Y+F,T+O-G]):Z.splice(3,1,["L",Y+F,O/2],["L",$,V],["L",Y+F,O/2],["L",Y+F,T+O-G]):0>=Y+$?V>T+R&&V<T+O-R?Z.splice(7,1,["L",Y,V+6],["L",Y-6,V],["L",Y,V-6],["L",Y,T+G]):Z.splice(7,1,["L",Y,O/2],["L",$,V],["L",Y,O/2],["L",Y,T+G]):V&&V>O&&$>Y+R&&$<Y+F-R?Z.splice(5,1,["L",$+6,T+O],["L",$,T+O+6],["L",$-6,T+O],["L",Y+G,T+O]):V&&0>V&&$>Y+R&&$<Y+F-R&&Z.splice(1,1,["L",$-6,T],["L",$,T-6],["L",$+6,T],["L",F-G,T])),Z},circle:function(Y,T,F,O){return j(Y+F/2,T+O/2,F/2,O/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(Y,T,F,O){return[["M",Y+F/2,T],["L",Y+F,T+O/2],["L",Y+F/2,T+O],["L",Y,T+O/2],["Z"]]},rect:H,roundedRect:X,square:H,triangle:function(Y,T,F,O){return[["M",Y+F/2,T],["L",Y+F,T+O],["L",Y,T+O],["Z"]]},"triangle-down":function(Y,T,F,O){return[["M",Y,T],["L",Y+F,T],["L",Y+F/2,T+O],["Z"]]}}}),et(it,"Core/Renderer/SVG/TextBuilder.js",[it["Core/Renderer/HTML/AST.js"],it["Core/Globals.js"],it["Core/Utilities.js"]],function(M,j,H){var X=j.doc,z=j.SVG_NS,B=j.win,I=H.attr,Y=H.isString,T=H.objectEach,F=H.pick;return function(){function O(V){var G=V.styles;this.renderer=V.renderer,this.svgElement=V,this.width=V.textWidth,this.textLineHeight=G&&G.lineHeight,this.textOutline=G&&G.textOutline,this.ellipsis=!(!G||"ellipsis"!==G.textOverflow),this.noWrap=!(!G||"nowrap"!==G.whiteSpace),this.fontSize=G&&G.fontSize}return O.prototype.buildSVG=function(){var V=this.svgElement,G=V.element,R=V.renderer,$=F(V.textStr,"").toString(),Z=-1!==$.indexOf("<"),Q=G.childNodes;R=this.width&&!V.added&&R.box;var ht=[$,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(ht!==V.textCache){for(V.textCache=ht,delete V.actualWidth,ht=Q.length;ht--;)G.removeChild(Q[ht]);Z||this.ellipsis||this.width||-1!==$.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test($))?""!==$&&(R&&R.appendChild(G),$=new M($),this.modifyTree($.nodes),$.addToDOM(V.element),this.modifyDOM(),this.ellipsis&&-1!==(G.textContent||"").indexOf("\u2026")&&V.attr("title",this.unescapeEntities(V.textStr||"",["&lt;","&gt;"])),R&&R.removeChild(G)):G.appendChild(X.createTextNode(this.unescapeEntities($))),Y(this.textOutline)&&V.applyTextOutline&&V.applyTextOutline(this.textOutline)}},O.prototype.modifyDOM=function(){var $,V=this,G=this.svgElement,R=I(G.element,"x");for(G.firstLineMetrics=void 0;($=G.element.firstChild)&&/^[\s\u200B]*$/.test($.textContent||" ");)G.element.removeChild($);[].forEach.call(G.element.querySelectorAll("tspan.highcharts-br"),function(ht,mt){ht.nextSibling&&ht.previousSibling&&(0===mt&&1===ht.previousSibling.nodeType&&(G.firstLineMetrics=G.renderer.fontMetrics(void 0,ht.previousSibling)),I(ht,{dy:V.getLineHeight(ht.nextSibling),x:R}))});var Z=this.width||0;if(Z){var lt=function(ht){[].slice.call(ht.childNodes).forEach(function(mt){mt.nodeType===B.Node.TEXT_NODE?function(ht,mt){var dt=ht.textContent||"",gt=dt.replace(/([^\^])-/g,"$1- ").split(" "),k=!V.noWrap&&(1<gt.length||1<G.element.childNodes.length),u=V.getLineHeight(mt),p=0,v=G.actualWidth;if(V.ellipsis)dt&&V.truncate(ht,dt,void 0,0,Math.max(0,Z-parseInt(V.fontSize||12,10)),function(g,w){return g.substring(0,w)+"\u2026"});else if(k){for(dt=[],k=[];mt.firstChild&&mt.firstChild!==ht;)k.push(mt.firstChild),mt.removeChild(mt.firstChild);for(;gt.length;)gt.length&&!V.noWrap&&0<p&&(dt.push(ht.textContent||""),ht.textContent=gt.join(" ").replace(/- /g,"-")),V.truncate(ht,void 0,gt,0===p&&v||0,Z,function(g,w){return gt.slice(0,w).join(" ").replace(/- /g,"-")}),v=G.actualWidth,p++;k.forEach(function(g){mt.insertBefore(g,ht)}),dt.forEach(function(g){mt.insertBefore(X.createTextNode(g),ht),(g=X.createElementNS(z,"tspan")).textContent="\u200b",I(g,{dy:u,x:R}),mt.insertBefore(g,ht)})}}(mt,ht):(-1!==mt.className.baseVal.indexOf("highcharts-br")&&(G.actualWidth=0),lt(mt))})};lt(G.element)}},O.prototype.getLineHeight=function(V){var G;return V=V.nodeType===B.Node.TEXT_NODE?V.parentElement:V,this.renderer.styledMode||(G=V&&/(px|em)$/.test(V.style.fontSize)?V.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(G,V||this.svgElement.element).h},O.prototype.modifyTree=function(V){var G=this,R=function($,Z){var Q=$.tagName,lt=G.renderer.styledMode,ht=$.attributes||{};"b"===Q||"strong"===Q?lt?ht.class="highcharts-strong":ht.style="font-weight:bold;"+(ht.style||""):("i"===Q||"em"===Q)&&(lt?ht.class="highcharts-emphasized":ht.style="font-style:italic;"+(ht.style||"")),Y(ht.style)&&(ht.style=ht.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===Q&&(ht.class="highcharts-br",$.textContent="\u200b",(Z=V[Z+1])&&Z.textContent&&(Z.textContent=Z.textContent.replace(/^ +/gm,""))),"#text"!==Q&&"a"!==Q&&($.tagName="tspan"),$.attributes=ht,$.children&&$.children.filter(function(mt){return"#text"!==mt.tagName}).forEach(R)};V.forEach(R)},O.prototype.truncate=function(V,G,R,$,Z,Q){var p,lt=this.svgElement,ht=lt.renderer,mt=lt.rotation,dt=[],gt=R?1:0,k=(G||R||"").length,u=k,v=function(w,b){b=b||w;var D=V.parentNode;if(D&&void 0===dt[b])if(D.getSubStringLength)try{dt[b]=$+D.getSubStringLength(0,R?b+1:b)}catch(_){}else ht.getSpanWidth&&(V.textContent=Q(G||R,w),dt[b]=$+ht.getSpanWidth(lt,V));return dt[b]};lt.rotation=0;var g=v(V.textContent.length);if($+g>Z){for(;gt<=k;)u=Math.ceil((gt+k)/2),R&&(p=Q(R,u)),g=v(u,p&&p.length-1),gt===k?gt=k+1:g>Z?k=u-1:gt=u;0===k?V.textContent="":G&&k===G.length-1||(V.textContent=p||Q(G||R,u))}R&&R.splice(0,u),lt.actualWidth=g,lt.rotation=mt},O.prototype.unescapeEntities=function(V,G){return T(this.renderer.escapes,function(R,$){G&&-1!==G.indexOf(R)||(V=V.toString().replace(new RegExp(R,"g"),$))}),V},O}()}),et(it,"Core/Renderer/SVG/SVGRenderer.js",[it["Core/Renderer/HTML/AST.js"],it["Core/Color/Color.js"],it["Core/Globals.js"],it["Core/Renderer/RendererRegistry.js"],it["Core/Renderer/SVG/SVGElement.js"],it["Core/Renderer/SVG/SVGLabel.js"],it["Core/Renderer/SVG/Symbols.js"],it["Core/Renderer/SVG/TextBuilder.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B,I,Y,T){var U,F=H.charts,O=H.deg2rad,V=H.doc,G=H.isFirefox,R=H.isMS,$=H.isWebKit,Z=H.noop,Q=H.SVG_NS,lt=H.symbolSizes,ht=H.win,mt=T.addEvent,dt=T.attr,gt=T.createElement,k=T.css,u=T.defined,p=T.destroyObjectProperties,v=T.extend,g=T.isArray,w=T.isNumber,b=T.isObject,D=T.isString,_=T.merge,f=T.pick,C=T.pInt,K=T.uniqueKey;return H=function(){function W(st,ct,Ct,kt,wt,ut,Ot){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(st,ct,Ct,kt,wt,ut,Ot)}return W.prototype.init=function(st,ct,Ct,kt,wt,ut,Ot){var Dt,bt=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),pt=bt.element;Ot||bt.css(this.getStyle(kt)),st.appendChild(pt),dt(st,"dir","ltr"),-1===st.innerHTML.indexOf("xmlns")&&dt(pt,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=pt,this.boxWrapper=bt,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(V.createTextNode("Created with Highcharts 9.3.1")),this.defs=this.createElement("defs").add(),this.allowHTML=ut,this.forExport=wt,this.styledMode=Ot,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(ct,Ct,!1),G&&st.getBoundingClientRect&&((ct=function(){k(st,{left:0,top:0}),Dt=st.getBoundingClientRect(),k(st,{left:Math.ceil(Dt.left)-Dt.left+"px",top:Math.ceil(Dt.top)-Dt.top+"px"})})(),this.unSubPixelFix=mt(ht,"resize",ct))},W.prototype.definition=function(st){return new M([st]).addToDOM(this.defs.element)},W.prototype.getReferenceURL=function(){if((G||$)&&V.getElementsByTagName("base").length){if(!u(U)){var st=K();st=new M([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:st},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+st+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(V.body),k(st,{position:"fixed",top:0,left:0,zIndex:9e5});var ct=V.elementFromPoint(6,6);U="hitme"===(ct&&ct.id),V.body.removeChild(st)}if(U)return ht.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},W.prototype.getStyle=function(st){return this.style=v({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},st)},W.prototype.setStyle=function(st){this.boxWrapper.css(this.getStyle(st))},W.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},W.prototype.destroy=function(){var st=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),p(this.gradients||{}),this.gradients=null,st&&(this.defs=st.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},W.prototype.createElement=function(st){var ct=new this.Element;return ct.init(this,st),ct},W.prototype.getRadialAttr=function(st,ct){return{cx:st[0]-st[2]/2+(ct.cx||0)*st[2],cy:st[1]-st[2]/2+(ct.cy||0)*st[2],r:(ct.r||0)*st[2]}},W.prototype.buildText=function(st){new Y(st).buildSVG()},W.prototype.getContrast=function(st){return(st=j.parse(st).rgba)[0]*=1,st[1]*=1.2,st[2]*=.5,459<st[0]+st[1]+st[2]?"#000000":"#FFFFFF"},W.prototype.button=function(st,ct,Ct,kt,wt,ut,Ot,bt,pt,Dt){var Rt=this.label(st,ct,Ct,pt,void 0,void 0,Dt,void 0,"button"),St=this.styledMode,te=0,At=wt?_(wt):{};if(st=At&&At.style||{},At=M.filterUserAttributes(At),Rt.attr(_({padding:8,r:2},At)),!St){var Kt=(At=_({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:st},At)).style;delete At.style;var Oe=(ut=_(At,{fill:"#e6e6e6"},M.filterUserAttributes(ut||{}))).style;delete ut.style;var Jt=(Ot=_(At,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},M.filterUserAttributes(Ot||{}))).style;delete Ot.style;var $t=(bt=_(At,{style:{color:"#cccccc"}},M.filterUserAttributes(bt||{}))).style;delete bt.style}return mt(Rt.element,R?"mouseover":"mouseenter",function(){3!==te&&Rt.setState(1)}),mt(Rt.element,R?"mouseout":"mouseleave",function(){3!==te&&Rt.setState(te)}),Rt.setState=function(he){1!==he&&(Rt.state=te=he),Rt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][he||0]),St||Rt.attr([At,ut,Ot,bt][he||0]).css([Kt,Oe,Jt,$t][he||0])},St||Rt.attr(At).css(v({cursor:"default"},Kt)),Rt.on("touchstart",function(he){return he.stopPropagation()}).on("click",function(he){3!==te&&kt.call(Rt,he)})},W.prototype.crispLine=function(st,ct,Ct){void 0===Ct&&(Ct="round");var kt=st[0],wt=st[1];return u(kt[1])&&kt[1]===wt[1]&&(kt[1]=wt[1]=Math[Ct](kt[1])-ct%2/2),u(kt[2])&&kt[2]===wt[2]&&(kt[2]=wt[2]=Math[Ct](kt[2])+ct%2/2),st},W.prototype.path=function(st){var ct=this.styledMode?{}:{fill:"none"};return g(st)?ct.d=st:b(st)&&v(ct,st),this.createElement("path").attr(ct)},W.prototype.circle=function(st,ct,Ct){return st=b(st)?st:void 0===st?{}:{x:st,y:ct,r:Ct},(ct=this.createElement("circle")).xSetter=ct.ySetter=function(kt,wt,ut){ut.setAttribute("c"+wt,kt)},ct.attr(st)},W.prototype.arc=function(st,ct,Ct,kt,wt,ut){return b(st)?(ct=(kt=st).y,Ct=kt.r,st=kt.x):kt={innerR:kt,start:wt,end:ut},(st=this.symbol("arc",st,ct,Ct,Ct,kt)).r=Ct,st},W.prototype.rect=function(st,ct,Ct,kt,wt,ut){wt=b(st)?st.r:wt;var Ot=this.createElement("rect");return st=b(st)?st:void 0===st?{}:{x:st,y:ct,width:Math.max(Ct,0),height:Math.max(kt,0)},this.styledMode||(void 0!==ut&&(st["stroke-width"]=ut,st=Ot.crisp(st)),st.fill="none"),wt&&(st.r=wt),Ot.rSetter=function(bt,pt,Dt){Ot.r=bt,dt(Dt,{rx:bt,ry:bt})},Ot.rGetter=function(){return Ot.r||0},Ot.attr(st)},W.prototype.setSize=function(st,ct,Ct){this.width=st,this.height=ct,this.boxWrapper.animate({width:st,height:ct},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:f(Ct,!0)?void 0:0}),this.alignElements()},W.prototype.g=function(st){var ct=this.createElement("g");return st?ct.attr({class:"highcharts-"+st}):ct},W.prototype.image=function(st,ct,Ct,kt,wt,ut){var Ot={preserveAspectRatio:"none"},bt=function(Dt,Rt){Dt.setAttributeNS?Dt.setAttributeNS("http://www.w3.org/1999/xlink","href",Rt):Dt.setAttribute("hc-svg-href",Rt)};w(ct)&&(Ot.x=ct),w(Ct)&&(Ot.y=Ct),w(kt)&&(Ot.width=kt),w(wt)&&(Ot.height=wt);var pt=this.createElement("image").attr(Ot);return ct=function(Dt){bt(pt.element,st),ut.call(pt,Dt)},ut?(bt(pt.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Ct=new ht.Image,mt(Ct,"load",ct),Ct.src=st,Ct.complete&&ct({})):bt(pt.element,st),pt},W.prototype.symbol=function(st,ct,Ct,kt,wt,ut){var St,Ot=this,bt=/^url\((.*?)\)$/,pt=bt.test(st),Dt=!pt&&(this.symbols[st]?st:"circle"),Rt=Dt&&this.symbols[Dt];if(Rt){"number"==typeof ct&&(St=Rt.call(this.symbols,Math.round(ct||0),Math.round(Ct||0),kt||0,wt||0,ut));var te=this.path(St);Ot.styledMode||te.attr("fill","none"),v(te,{symbolName:Dt||void 0,x:ct,y:Ct,width:kt,height:wt}),ut&&v(te,ut)}else if(pt){var At=st.match(bt)[1],Kt=te=this.image(At);Kt.imgwidth=f(lt[At]&&lt[At].width,ut&&ut.width),Kt.imgheight=f(lt[At]&&lt[At].height,ut&&ut.height);var Oe=function(Jt){return Jt.attr({width:Jt.width,height:Jt.height})};["width","height"].forEach(function(Jt){Kt[Jt+"Setter"]=function($t,he){var Tt=this["img"+he];this[he]=$t,u(Tt)&&(ut&&"within"===ut.backgroundSize&&this.width&&this.height&&(Tt=Math.round(Tt*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(he,Tt),this.alignByTranslate||($t=((this[he]||0)-Tt)/2,this.attr("width"===he?{translateX:$t}:{translateY:$t})))}}),u(ct)&&Kt.attr({x:ct,y:Ct}),Kt.isImg=!0,u(Kt.imgwidth)&&u(Kt.imgheight)?Oe(Kt):(Kt.attr({width:0,height:0}),gt("img",{onload:function(){var Jt=F[Ot.chartIndex];0===this.width&&(k(this,{position:"absolute",top:"-999em"}),V.body.appendChild(this)),lt[At]={width:this.width,height:this.height},Kt.imgwidth=this.width,Kt.imgheight=this.height,Kt.element&&Oe(Kt),this.parentNode&&this.parentNode.removeChild(this),Ot.imgCount--,!Ot.imgCount&&Jt&&!Jt.hasLoaded&&Jt.onload()},src:At}),this.imgCount++)}return te},W.prototype.clipRect=function(st,ct,Ct,kt){var wt=K()+"-",ut=this.createElement("clipPath").attr({id:wt}).add(this.defs);return(st=this.rect(st,ct,Ct,kt,0).add(ut)).id=wt,st.clipPath=ut,st.count=0,st},W.prototype.text=function(st,ct,Ct,kt){var wt={};return!kt||!this.allowHTML&&this.forExport?(wt.x=Math.round(ct||0),Ct&&(wt.y=Math.round(Ct)),u(st)&&(wt.text=st),st=this.createElement("text").attr(wt),(!kt||this.forExport&&!this.allowHTML)&&(st.xSetter=function(ut,Ot,bt){for(var St,pt=bt.getElementsByTagName("tspan"),Dt=bt.getAttribute(Ot),Rt=0;Rt<pt.length;Rt++)(St=pt[Rt]).getAttribute(Ot)===Dt&&St.setAttribute(Ot,ut);bt.setAttribute(Ot,ut)}),st):this.html(st,ct,Ct)},W.prototype.fontMetrics=function(st,ct){return st=!this.styledMode&&/px/.test(st)||!ht.getComputedStyle?st||ct&&ct.style&&ct.style.fontSize||this.style&&this.style.fontSize:ct&&z.prototype.getStyle.call(ct,"font-size"),{h:ct=24>(st=/px/.test(st)?C(st):12)?st+3:Math.round(1.2*st),b:Math.round(.8*ct),f:st}},W.prototype.rotCorr=function(st,ct,Ct){var kt=st;return ct&&Ct&&(kt=Math.max(kt*Math.cos(ct*O),4)),{x:-st/3*Math.sin(ct*O),y:kt}},W.prototype.pathToSegments=function(st){for(var ct=[],Ct=[],kt={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},wt=0;wt<st.length;wt++)D(Ct[0])&&w(st[wt])&&Ct.length===kt[Ct[0].toUpperCase()]&&st.splice(wt,0,Ct[0].replace("M","L").replace("m","l")),"string"==typeof st[wt]&&(Ct.length&&ct.push(Ct.slice(0)),Ct.length=0),Ct.push(st[wt]);return ct.push(Ct.slice(0)),ct},W.prototype.label=function(st,ct,Ct,kt,wt,ut,Ot,bt,pt){return new B(this,st,ct,Ct,kt,wt,ut,Ot,bt,pt)},W.prototype.alignElements=function(){this.alignedObjects.forEach(function(st){return st.align()})},W}(),v(H.prototype,{Element:z,SVG_NS:Q,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:I,draw:Z}),X.registerRendererType("svg",H,!0),H}),et(it,"Core/Renderer/HTML/HTMLElement.js",[it["Core/Globals.js"],it["Core/Renderer/SVG/SVGElement.js"],it["Core/Utilities.js"]],function(M,j,H){var R,X=this&&this.__extends||(R=function($,Z){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,lt){Q.__proto__=lt}||function(Q,lt){for(var ht in lt)lt.hasOwnProperty(ht)&&(Q[ht]=lt[ht])})($,Z)},function($,Z){function Q(){this.constructor=$}R($,Z),$.prototype=null===Z?Object.create(Z):(Q.prototype=Z.prototype,new Q)}),z=M.isFirefox,B=M.isMS,I=M.isWebKit,Y=M.win,T=H.css,F=H.defined,O=H.extend,V=H.pick,G=H.pInt;return function(R){function $(){return null!==R&&R.apply(this,arguments)||this}return X($,R),$.compose=function(Z){if(-1===$.composedClasses.indexOf(Z)){$.composedClasses.push(Z);var Q=$.prototype,lt=Z.prototype;lt.getSpanCorrection=Q.getSpanCorrection,lt.htmlCss=Q.htmlCss,lt.htmlGetBBox=Q.htmlGetBBox,lt.htmlUpdateTransform=Q.htmlUpdateTransform,lt.setSpanRotation=Q.setSpanRotation}return Z},$.prototype.getSpanCorrection=function(Z,Q,lt){this.xCorr=-Z*lt,this.yCorr=-Q},$.prototype.htmlCss=function(Z){var Q="SPAN"===this.element.tagName&&Z&&"width"in Z,lt=V(Q&&Z.width,void 0);if(Q){delete Z.width,this.textWidth=lt;var ht=!0}return Z&&"ellipsis"===Z.textOverflow&&(Z.whiteSpace="nowrap",Z.overflow="hidden"),this.styles=O(this.styles,Z),T(this.element,Z),ht&&this.htmlUpdateTransform(),this},$.prototype.htmlGetBBox=function(){var Z=this.element;return{x:Z.offsetLeft,y:Z.offsetTop,width:Z.offsetWidth,height:Z.offsetHeight}},$.prototype.htmlUpdateTransform=function(){if(this.added){var Z=this.renderer,Q=this.element,lt=this.translateX||0,ht=this.translateY||0,mt=this.x||0,dt=this.y||0,gt=this.textAlign||"left",k={left:0,center:.5,right:1}[gt],u=this.styles;if(u=u&&u.whiteSpace,T(Q,{marginLeft:lt,marginTop:ht}),!Z.styledMode&&this.shadows&&this.shadows.forEach(function(D){T(D,{marginLeft:lt+1,marginTop:ht+1})}),this.inverted&&[].forEach.call(Q.childNodes,function(D){Z.invertChild(D,Q)}),"SPAN"===Q.tagName){var p=this.rotation,v=this.textWidth&&G(this.textWidth),g=[p,gt,Q.innerHTML,this.textWidth,this.textAlign].join(),w=void 0;if(w=!1,v!==this.oldTextWidth){if(this.textPxLength)var b=this.textPxLength;else T(Q,{width:"",whiteSpace:u||"nowrap"}),b=Q.offsetWidth;(v>this.oldTextWidth||b>v)&&(/[ \-]/.test(Q.textContent||Q.innerText)||"ellipsis"===Q.style.textOverflow)&&(T(Q,{width:b>v||p?v+"px":"auto",display:"block",whiteSpace:u||"normal"}),this.oldTextWidth=v,w=!0)}this.hasBoxWidthChanged=w,g!==this.cTT&&(w=Z.fontMetrics(Q.style.fontSize,Q).b,!F(p)||p===(this.oldRotation||0)&&gt===this.oldAlign||this.setSpanRotation(p,k,w),this.getSpanCorrection(!F(p)&&this.textPxLength||Q.offsetWidth,w,k,p,gt)),T(Q,{left:mt+(this.xCorr||0)+"px",top:dt+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=p,this.oldAlign=gt}}else this.alignOnAdd=!0},$.prototype.setSpanRotation=function(Z,Q,lt){var ht={},mt=B&&!/Edge/.test(Y.navigator.userAgent)?"-ms-transform":I?"-webkit-transform":z?"MozTransform":Y.opera?"-o-transform":void 0;mt&&(ht[mt]=ht.transform="rotate("+Z+"deg)",ht[mt+(z?"Origin":"-origin")]=ht.transformOrigin=100*Q+"% "+lt+"px",T(this.element,ht))},$.composedClasses=[],$}(j)}),et(it,"Core/Renderer/HTML/HTMLRenderer.js",[it["Core/Renderer/HTML/AST.js"],it["Core/Renderer/SVG/SVGElement.js"],it["Core/Renderer/SVG/SVGRenderer.js"],it["Core/Utilities.js"]],function(M,j,H,X){var F,z=this&&this.__extends||(F=function(O,V){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,R){G.__proto__=R}||function(G,R){for(var $ in R)R.hasOwnProperty($)&&(G[$]=R[$])})(O,V)},function(O,V){function G(){this.constructor=O}F(O,V),O.prototype=null===V?Object.create(V):(G.prototype=V.prototype,new G)}),B=X.attr,I=X.createElement,Y=X.extend,T=X.pick;return function(F){function O(){return null!==F&&F.apply(this,arguments)||this}return z(O,F),O.compose=function(V){return-1===O.composedClasses.indexOf(V)&&(O.composedClasses.push(V),V.prototype.html=O.prototype.html),V},O.prototype.html=function(V,G,R){var $=this.createElement("span"),Z=$.element,Q=$.renderer,lt=Q.isSVG,ht=function(mt,dt){["opacity","visibility"].forEach(function(gt){mt[gt+"Setter"]=function(k,u,p){var v=mt.div?mt.div.style:dt;j.prototype[gt+"Setter"].call(this,k,u,p),v&&(v[u]=k)}}),mt.addedSetters=!0};return $.textSetter=function(mt){mt!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,M.setElementHTML(this.element,T(mt,"")),this.textStr=mt,$.doTransform=!0)},lt&&ht($,$.element.style),$.xSetter=$.ySetter=$.alignSetter=$.rotationSetter=function(mt,dt){"align"===dt?$.alignValue=$.textAlign=mt:$[dt]=mt,$.doTransform=!0},$.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},$.attr({text:V,x:Math.round(G),y:Math.round(R)}).css({position:"absolute"}),Q.styledMode||$.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),Z.style.whiteSpace="nowrap",$.css=$.htmlCss,lt&&($.add=function(mt){var dt=Q.box.parentNode,gt=[];if(this.parentGroup=mt){var k=mt.div;if(!k){for(;mt;)gt.push(mt),mt=mt.parentGroup;gt.reverse().forEach(function(u){function p(b,D){u[D]=b,"translateX"===D?w.left=b+"px":w.top=b+"px",u.doTransform=!0}var b,v=B(u.element,"class"),g=u.styles||{},w=(k=u.div=u.div||I("div",v?{className:v}:void 0,{position:"absolute",left:(u.translateX||0)+"px",top:(u.translateY||0)+"px",display:u.display,opacity:u.opacity,cursor:g.cursor,pointerEvents:g.pointerEvents,visibility:u.visibility},k||dt)).style;Y(u,{classSetter:(b=k,function(D){this.element.setAttribute("class",D),b.className=D}),on:function(){return gt[0].div&&$.on.apply({element:gt[0].div,onEvents:u.onEvents},arguments),u},translateXSetter:p,translateYSetter:p}),u.addedSetters||ht(u)})}}else k=dt;return k.appendChild(Z),$.added=!0,$.alignOnAdd&&$.htmlUpdateTransform(),$}),$},O.composedClasses=[],O}(H)}),et(it,"Core/Axis/AxisDefaults.js",[],function(){var M=(()=>{return(j=M||(M={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},j.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},j.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},j.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},j.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},j.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},M;var j})();return M}),et(it,"Core/Foundation.js",[it["Core/Utilities.js"]],function(M){var B,j=M.addEvent,H=M.isFunction,X=M.objectEach,z=M.removeEvent;return(B||(B={})).registerEventOptions=function(Y,T){Y.eventOptions=Y.eventOptions||{},X(T.events,function(F,O){Y.eventOptions[O]!==F&&(Y.eventOptions[O]&&(z(Y,O,Y.eventOptions[O]),delete Y.eventOptions[O]),H(F)&&(Y.eventOptions[O]=F,j(Y,O,F)))})},B}),et(it,"Core/Axis/Tick.js",[it["Core/FormatUtilities.js"],it["Core/Globals.js"],it["Core/Utilities.js"]],function(M,j,H){var X=j.deg2rad,z=H.clamp,B=H.correctFloat,I=H.defined,Y=H.destroyObjectProperties,T=H.extend,F=H.fireEvent,O=H.isNumber,V=H.merge,G=H.objectEach,R=H.pick;return function(){function $(Z,Q,lt,ht,mt){this.isNewLabel=this.isNew=!0,this.axis=Z,this.pos=Q,this.type=lt||"",this.parameters=mt||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,F(this,"init"),lt||ht||this.addLabel()}return $.prototype.addLabel=function(){var Z=this,Q=Z.axis,lt=Q.options,ht=Q.chart,mt=Q.categories,dt=Q.logarithmic,gt=Q.names,k=Z.pos,u=R(Z.options&&Z.options.labels,lt.labels),p=Q.tickPositions,v=k===p[0],g=k===p[p.length-1],w=(!u.step||1===u.step)&&1===Q.tickInterval;p=p.info;var D,b=Z.label;if(mt=this.parameters.category||(mt?R(mt[k],gt[k],k):k),dt&&O(mt)&&(mt=B(dt.lin2log(mt))),Q.dateTime)if(p)var _=ht.time.resolveDTLFormat(lt.dateTimeLabelFormats[!lt.grid&&p.higherRanks[k]||p.unitName]),f=_.main;else O(mt)&&(f=Q.dateTime.getXDateFormat(mt,lt.dateTimeLabelFormats||{}));Z.isFirst=v,Z.isLast=g;var C={axis:Q,chart:ht,dateTimeLabelFormat:f,isFirst:v,isLast:g,pos:k,tick:Z,tickPositionInfo:p,value:mt};F(this,"labelFormat",C);var K=function(W){return u.formatter?u.formatter.call(W,W):u.format?(W.text=Q.defaultLabelFormatter.call(W),M.format(u.format,W,ht)):Q.defaultLabelFormatter.call(W,W)};lt=K.call(C,C);var U=_&&_.list;Z.shortenLabel=U?function(){for(D=0;D<U.length;D++)if(T(C,{dateTimeLabelFormat:U[D]}),b.attr({text:K.call(C,C)}),b.getBBox().width<Q.getSlotWidth(Z)-2*u.padding)return;b.attr({text:""})}:void 0,w&&Q._addedPlotLB&&Z.moveLabel(lt,u),I(b)||Z.movedLabel?b&&b.textStr!==lt&&!w&&(!b.textWidth||u.style.width||b.styles.width||b.css({width:null}),b.attr({text:lt}),b.textPxLength=b.getBBox().width):(Z.label=b=Z.createLabel({x:0,y:0},lt,u),Z.rotation=0)},$.prototype.createLabel=function(Z,Q,lt){var ht=this.axis,mt=ht.chart;return(Z=I(Q)&&lt.enabled?mt.renderer.text(Q,Z.x,Z.y,lt.useHTML).add(ht.labelGroup):null)&&(mt.styledMode||Z.css(V(lt.style)),Z.textPxLength=Z.getBBox().width),Z},$.prototype.destroy=function(){Y(this,this.axis)},$.prototype.getPosition=function(Z,Q,lt,ht){var mt=this.axis,dt=mt.chart,gt=ht&&dt.oldChartHeight||dt.chartHeight;return(Z={x:Z?B(mt.translate(Q+lt,null,null,ht)+mt.transB):mt.left+mt.offset+(mt.opposite?(ht&&dt.oldChartWidth||dt.chartWidth)-mt.right-mt.left:0),y:Z?gt-mt.bottom+mt.offset-(mt.opposite?mt.height:0):B(gt-mt.translate(Q+lt,null,null,ht)-mt.transB)}).y=z(Z.y,-1e5,1e5),F(this,"afterGetPosition",{pos:Z}),Z},$.prototype.getLabelPosition=function(Z,Q,lt,ht,mt,dt,gt,k){var u=this.axis,p=u.transA,v=u.isLinked&&u.linkedParent?u.linkedParent.reversed:u.reversed,g=u.staggerLines,w=u.tickRotCorr||{x:0,y:0},b=ht||u.reserveSpaceDefault?0:-u.labelOffset*("center"===u.labelAlign?.5:1),D={},_=mt.y;return I(_)||(_=0===u.side?lt.rotation?-8:-lt.getBBox().height:2===u.side?w.y+8:Math.cos(lt.rotation*X)*(w.y-lt.getBBox(!1,0).height/2)),Q=Q+_-(dt&&!ht?dt*p*(v?1:-1):0),g&&(lt=gt/(k||1)%g,u.opposite&&(lt=g-lt-1),Q+=u.labelOffset/g*lt),D.x=Z=Z+mt.x+b+w.x-(dt&&ht?dt*p*(v?-1:1):0),D.y=Math.round(Q),F(this,"afterGetLabelPosition",{pos:D,tickmarkOffset:dt,index:gt}),D},$.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},$.prototype.getMarkPath=function(Z,Q,lt,ht,mt,dt){return dt.crispLine([["M",Z,Q],["L",Z+(mt?0:-lt),Q+(mt?lt:0)]],ht)},$.prototype.handleOverflow=function(Z){var Q=this.axis,lt=Q.options.labels,ht=Z.x,mt=Q.chart.chartWidth,dt=Q.chart.spacing,gt=R(Q.labelLeft,Math.min(Q.pos,dt[3]));dt=R(Q.labelRight,Math.max(Q.isRadial?0:Q.pos+Q.len,mt-dt[1]));var _,k=this.label,u=this.rotation,p={left:0,center:.5,right:1}[Q.labelAlign||k.attr("align")],v=k.getBBox().width,g=Q.getSlotWidth(this),w={},b=g,D=1;u||"justify"!==lt.overflow?0>u&&ht-p*v<gt?_=Math.round(ht/Math.cos(u*X)-gt):0<u&&ht+p*v>dt&&(_=Math.round((mt-ht)/Math.cos(u*X))):(mt=ht+(1-p)*v,ht-p*v<gt?b=Z.x+b*(1-p)-gt:mt>dt&&(b=dt-Z.x+b*p,D=-1),(b=Math.min(g,b))<g&&"center"===Q.labelAlign&&(Z.x+=D*(g-b-p*(g-Math.min(v,b)))),(v>b||Q.autoRotation&&(k.styles||{}).width)&&(_=b)),_&&(this.shortenLabel?this.shortenLabel():(w.width=Math.floor(_)+"px",(lt.style||{}).textOverflow||(w.textOverflow="ellipsis"),k.css(w)))},$.prototype.moveLabel=function(Z,Q){var lt=this,ht=lt.label,mt=lt.axis,dt=mt.reversed,gt=!1;if(ht&&ht.textStr===Z?(lt.movedLabel=ht,gt=!0,delete lt.label):G(mt.ticks,function(u){gt||u.isNew||u===lt||!u.label||u.label.textStr!==Z||(lt.movedLabel=u.label,gt=!0,u.labelPos=lt.movedLabel.xy,delete u.label)}),!gt&&(lt.labelPos||ht)){var k=lt.labelPos||ht.xy;lt.movedLabel=lt.createLabel({x:ht=mt.horiz?dt?0:mt.width+mt.left:k.x,y:mt=mt.horiz?k.y:dt?mt.width+mt.left:0},Z,Q),lt.movedLabel&&lt.movedLabel.attr({opacity:0})}},$.prototype.render=function(Z,Q,lt){var ht=this.axis,mt=ht.horiz,dt=this.pos,gt=R(this.tickmarkOffset,ht.tickmarkOffset);gt=(dt=this.getPosition(mt,dt,gt,Q)).x,ht=mt&&gt===ht.pos+ht.len||!mt&&dt.y===ht.pos?-1:1,mt=R(lt,this.label&&this.label.newOpacity,1),lt=R(lt,1),this.isActive=!0,this.renderGridLine(Q,lt,ht),this.renderMark(dt,lt,ht),this.renderLabel(dt,Q,mt,Z),this.isNew=!1,F(this,"afterRender")},$.prototype.renderGridLine=function(Z,Q,lt){var ht=this.axis,mt=ht.options,dt={},gt=this.pos,k=this.type,u=R(this.tickmarkOffset,ht.tickmarkOffset),p=ht.chart.renderer,v=this.gridLine,g=mt.gridLineWidth,w=mt.gridLineColor,b=mt.gridLineDashStyle;"minor"===this.type&&(g=mt.minorGridLineWidth,w=mt.minorGridLineColor,b=mt.minorGridLineDashStyle),v||(ht.chart.styledMode||(dt.stroke=w,dt["stroke-width"]=g||0,dt.dashstyle=b),k||(dt.zIndex=1),Z&&(Q=0),this.gridLine=v=p.path().attr(dt).addClass("highcharts-"+(k?k+"-":"")+"grid-line").add(ht.gridGroup)),v&&(lt=ht.getPlotLinePath({value:gt+u,lineWidth:v.strokeWidth()*lt,force:"pass",old:Z}))&&v[Z||this.isNew?"attr":"animate"]({d:lt,opacity:Q})},$.prototype.renderMark=function(Z,Q,lt){var ht=this.axis,mt=ht.options,dt=ht.chart.renderer,gt=this.type,k=ht.tickSize(gt?gt+"Tick":"tick"),u=Z.x;Z=Z.y;var p=R(mt["minor"!==gt?"tickWidth":"minorTickWidth"],!gt&&ht.isXAxis?1:0);mt=mt["minor"!==gt?"tickColor":"minorTickColor"];var v=this.mark,g=!v;k&&(ht.opposite&&(k[0]=-k[0]),v||(this.mark=v=dt.path().addClass("highcharts-"+(gt?gt+"-":"")+"tick").add(ht.axisGroup),ht.chart.styledMode||v.attr({stroke:mt,"stroke-width":p})),v[g?"attr":"animate"]({d:this.getMarkPath(u,Z,k[0],v.strokeWidth()*lt,ht.horiz,dt),opacity:Q}))},$.prototype.renderLabel=function(Z,Q,lt,ht){var mt=this.axis,dt=mt.horiz,gt=mt.options,k=this.label,u=gt.labels,p=u.step;mt=R(this.tickmarkOffset,mt.tickmarkOffset);var v=Z.x;Z=Z.y;var g=!0;k&&O(v)&&(k.xy=Z=this.getLabelPosition(v,Z,k,dt,u,mt,ht,p),this.isFirst&&!this.isLast&&!gt.showFirstLabel||this.isLast&&!this.isFirst&&!gt.showLastLabel?g=!1:!dt||u.step||u.rotation||Q||0===lt||this.handleOverflow(Z),p&&ht%p&&(g=!1),g&&O(Z.y)?(Z.opacity=lt,k[this.isNewLabel?"attr":"animate"](Z),this.isNewLabel=!1):(k.attr("y",-9999),this.isNewLabel=!0))},$.prototype.replaceMovedLabel=function(){var Z=this.label,Q=this.axis,lt=Q.reversed;Z&&!this.isNew&&(Z.animate({x:Q.horiz?lt?Q.left:Q.width+Q.left:Z.xy.x,y:lt=Q.horiz?Z.xy.y:lt?Q.width+Q.top:Q.top,opacity:0},void 0,Z.destroy),delete this.label),Q.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},$}()}),et(it,"Core/Axis/Axis.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/Axis/AxisDefaults.js"],it["Core/Color/Color.js"],it["Core/DefaultOptions.js"],it["Core/Foundation.js"],it["Core/Globals.js"],it["Core/Axis/Tick.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B,I,Y){var T=M.animObject,F=X.defaultOptions,O=z.registerEventOptions,V=B.deg2rad,G=Y.arrayMax,R=Y.arrayMin,$=Y.clamp,Z=Y.correctFloat,Q=Y.defined,lt=Y.destroyObjectProperties,ht=Y.erase,mt=Y.error,dt=Y.extend,gt=Y.fireEvent,k=Y.getMagnitude,u=Y.isArray,p=Y.isNumber,v=Y.isString,g=Y.merge,w=Y.normalizeTickInterval,b=Y.objectEach,D=Y.pick,_=Y.relativeLength,f=Y.removeEvent,C=Y.splat,K=Y.syncTimeout;return function(){function U(W,st){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(W,st)}return U.prototype.init=function(W,st){var ct=st.isX;this.chart=W,this.horiz=W.inverted&&!this.isZAxis?!ct:ct,this.isXAxis=ct,this.coll=this.coll||(ct?"xAxis":"yAxis"),gt(this,"init",{userOptions:st}),this.opposite=D(st.opposite,this.opposite),this.side=D(st.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(st);var Ct=this.options,kt=Ct.labels,wt=Ct.type;this.userOptions=st,this.minPixelPadding=0,this.reversed=D(Ct.reversed,this.reversed),this.visible=Ct.visible,this.zoomEnabled=Ct.zoomEnabled,this.hasNames="category"===wt||!0===Ct.categories,this.categories=Ct.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Q(Ct.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=Ct.minRange||Ct.maxZoom,this.range=Ct.range,this.offset=Ct.offset||0,this.min=this.max=null,st=D(Ct.crosshair,C(W.options.tooltip.crosshairs)[ct?0:1]),this.crosshair=!0===st?{}:st,-1===W.axes.indexOf(this)&&(ct?W.axes.splice(W.xAxis.length,0,this):W.axes.push(this),W[this.coll].push(this)),this.series=this.series||[],W.inverted&&!this.isZAxis&&ct&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=p(kt.rotation)?kt.rotation:void 0,O(this,Ct),gt(this,"afterInit")},U.prototype.setOptions=function(W){this.options=g(j.defaultXAxisOptions,"yAxis"===this.coll&&j.defaultYAxisOptions,[j.defaultTopAxisOptions,j.defaultRightAxisOptions,j.defaultBottomAxisOptions,j.defaultLeftAxisOptions][this.side],g(F[this.coll],W)),gt(this,"afterSetOptions",{userOptions:W})},U.prototype.defaultLabelFormatter=function(W){var st=this.axis;W=this.chart.numberFormatter;var ct=p(this.value)?this.value:NaN,Ct=st.chart.time,kt=this.dateTimeLabelFormat,wt=F.lang,ut=wt.numericSymbols;wt=wt.numericSymbolMagnitude||1e3;var Ot=st.logarithmic?Math.abs(ct):st.tickInterval,bt=ut&&ut.length;if(st.categories)var pt=""+this.value;else if(kt)pt=Ct.dateFormat(kt,ct);else if(bt&&1e3<=Ot)for(;bt--&&void 0===pt;)Ot>=(st=Math.pow(wt,bt+1))&&10*ct%st==0&&null!==ut[bt]&&0!==ct&&(pt=W(ct/st,-1)+ut[bt]);return void 0===pt&&(pt=1e4<=Math.abs(ct)?W(ct,-1):W(ct,-1,void 0,"")),pt},U.prototype.getSeriesExtremes=function(){var ct,W=this,st=W.chart;gt(this,"getSeriesExtremes",null,function(){W.hasVisibleSeries=!1,W.dataMin=W.dataMax=W.threshold=null,W.softThreshold=!W.isXAxis,W.stacking&&W.stacking.buildStacks(),W.series.forEach(function(Ct){if(Ct.visible||!st.options.chart.ignoreHiddenSeries){var kt=Ct.options,wt=kt.threshold;if(W.hasVisibleSeries=!0,W.positiveValuesOnly&&0>=wt&&(wt=null),W.isXAxis){if((kt=Ct.xData).length){kt=W.logarithmic?kt.filter(W.validatePositiveValue):kt;var ut=(ct=Ct.getXExtremes(kt)).min,Ot=ct.max;p(ut)||ut instanceof Date||(kt=kt.filter(p),ut=(ct=Ct.getXExtremes(kt)).min,Ot=ct.max),kt.length&&(W.dataMin=Math.min(D(W.dataMin,ut),ut),W.dataMax=Math.max(D(W.dataMax,Ot),Ot))}}else Ct=Ct.applyExtremes(),p(Ct.dataMin)&&(ut=Ct.dataMin,W.dataMin=Math.min(D(W.dataMin,ut),ut)),p(Ct.dataMax)&&(Ot=Ct.dataMax,W.dataMax=Math.max(D(W.dataMax,Ot),Ot)),Q(wt)&&(W.threshold=wt),(!kt.softThreshold||W.positiveValuesOnly)&&(W.softThreshold=!1)}})}),gt(this,"afterGetSeriesExtremes")},U.prototype.translate=function(W,st,ct,Ct,kt,wt){var ut=this.linkedParent||this,Ot=Ct&&ut.old?ut.old.min:ut.min,bt=ut.minPixelPadding;kt=(ut.isOrdinal||ut.brokenAxis&&ut.brokenAxis.hasBreaks||ut.logarithmic&&kt)&&ut.lin2val;var pt=1,Dt=0;return(Ct=Ct&&ut.old?ut.old.transA:ut.transA)||(Ct=ut.transA),ct&&(pt*=-1,Dt=ut.len),ut.reversed&&(Dt-=(pt*=-1)*(ut.sector||ut.len)),st?(W=(W*pt+Dt-bt)/Ct+Ot,kt&&(W=ut.lin2val(W))):(kt&&(W=ut.val2lin(W)),W=p(Ot)?pt*(W-Ot)*Ct+Dt+pt*bt+(p(wt)?Ct*wt:0):void 0),W},U.prototype.toPixels=function(W,st){return this.translate(W,!1,!this.horiz,null,!0)+(st?0:this.pos)},U.prototype.toValue=function(W,st){return this.translate(W-(st?0:this.pos),!0,!this.horiz,null,!0)},U.prototype.getPlotLinePath=function(W){function st(he,Tt,Bt){return("pass"!==te&&he<Tt||he>Bt)&&(te?he=$(he,Tt,Bt):$t=!0),he}var At,Kt,Oe,Jt,$t,ct=this,Ct=ct.chart,kt=ct.left,wt=ct.top,ut=W.old,Ot=W.value,bt=W.lineWidth,pt=ut&&Ct.oldChartHeight||Ct.chartHeight,Dt=ut&&Ct.oldChartWidth||Ct.chartWidth,Rt=ct.transB,St=W.translatedValue,te=W.force;return gt(this,"getPlotLinePath",W={value:Ot,lineWidth:bt,old:ut,force:te,acrossPanes:W.acrossPanes,translatedValue:St},function(he){St=D(St,ct.translate(Ot,null,null,ut)),St=$(St,-1e5,1e5),At=Oe=Math.round(St+Rt),Kt=Jt=Math.round(pt-St-Rt),p(St)?ct.horiz?(Kt=wt,Jt=pt-ct.bottom,At=Oe=st(At,kt,kt+ct.width)):(At=kt,Oe=Dt-ct.right,Kt=Jt=st(Kt,wt,wt+ct.height)):($t=!0,te=!1),he.path=$t&&!te?null:Ct.renderer.crispLine([["M",At,Kt],["L",Oe,Jt]],bt||1)}),W.path},U.prototype.getLinearTickPositions=function(W,st,ct){var Ct=Z(Math.floor(st/W)*W);ct=Z(Math.ceil(ct/W)*W);var wt,kt=[];if(Z(Ct+W)===Ct&&(wt=20),this.single)return[st];for(st=Ct;st<=ct&&(kt.push(st),(st=Z(st+W,wt))!==ut);)var ut=st;return kt},U.prototype.getMinorTickInterval=function(){var W=this.options;return!0===W.minorTicks?D(W.minorTickInterval,"auto"):!1===W.minorTicks?null:W.minorTickInterval},U.prototype.getMinorTickPositions=function(){var W=this.options,st=this.tickPositions,ct=this.minorTickInterval,Ct=this.pointRangePadding||0,kt=this.min-Ct,wt=(Ct=this.max+Ct)-kt,ut=[];if(wt&&wt/ct<this.len/3){var Ot=this.logarithmic;if(Ot)this.paddedTicks.forEach(function(bt,pt,Dt){pt&&ut.push.apply(ut,Ot.getLogTickPositions(ct,Dt[pt-1],Dt[pt],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())ut=ut.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(ct),kt,Ct,W.startOfWeek));else for(W=kt+(st[0]-kt)%ct;W<=Ct&&W!==ut[0];W+=ct)ut.push(W)}return 0!==ut.length&&this.trimTicks(ut),ut},U.prototype.adjustForMinRange=function(){var wt,ut,Ot,bt,W=this.options,st=this.logarithmic,ct=this.min,Ct=this.max,kt=0;if(this.isXAxis&&void 0===this.minRange&&!st&&(Q(W.min)||Q(W.max)||Q(W.floor)||Q(W.ceiling)?this.minRange=null:(this.series.forEach(function(St){if(Ot=St.xData,bt=St.xIncrement?1:Ot.length-1,1<Ot.length)for(wt=bt;0<wt;wt--)ut=Ot[wt]-Ot[wt-1],(!kt||ut<kt)&&(kt=ut)}),this.minRange=Math.min(5*kt,this.dataMax-this.dataMin))),Ct-ct<this.minRange){var pt=this.dataMax-this.dataMin>=this.minRange,Dt=this.minRange,Rt=(Dt-Ct+ct)/2;Rt=[ct-Rt,D(W.min,ct-Rt)],pt&&(Rt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),Ct=[(ct=G(Rt))+Dt,D(W.max,ct+Dt)],pt&&(Ct[2]=st?st.log2lin(this.dataMax):this.dataMax),(Ct=R(Ct))-ct<Dt&&(Rt[0]=Ct-Dt,Rt[1]=D(W.min,Ct-Dt),ct=G(Rt))}this.min=ct,this.max=Ct},U.prototype.getClosest=function(){var W;return this.categories?W=1:this.series.forEach(function(st){var ct=st.closestPointRange,Ct=st.visible||!st.chart.options.chart.ignoreHiddenSeries;!st.noSharedTooltip&&Q(ct)&&Ct&&(W=Q(W)?Math.min(W,ct):ct)}),W},U.prototype.nameToX=function(W){var st=u(this.categories),ct=st?this.categories:this.names,Ct=W.options.x;if(W.series.requireSorting=!1,Q(Ct)||(Ct=this.options.uniqueNames?st?ct.indexOf(W.name):D(ct.keys[W.name],-1):W.series.autoIncrement()),-1===Ct){if(!st)var kt=ct.length}else kt=Ct;return void 0!==kt&&(this.names[kt]=W.name,this.names.keys[W.name]=kt),kt},U.prototype.updateNames=function(){var W=this,st=this.names;0<st.length&&(Object.keys(st.keys).forEach(function(ct){delete st.keys[ct]}),st.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(ct){ct.xIncrement=null,(!ct.points||ct.isDirtyData)&&(W.max=Math.max(W.max,ct.xData.length-1),ct.processData(),ct.generatePoints()),ct.data.forEach(function(Ct,kt){if(Ct&&Ct.options&&void 0!==Ct.name){var wt=W.nameToX(Ct);void 0!==wt&&wt!==Ct.x&&(Ct.x=wt,ct.xData[kt]=wt)}})}))},U.prototype.setAxisTranslation=function(){var bt,W=this,st=W.max-W.min,ct=W.linkedParent,Ct=!!W.categories,kt=W.isXAxis,wt=W.axisPointRange||0,ut=0,Ot=0;if(kt||Ct||wt){var pt=W.getClosest();ct?(ut=ct.minPointOffset,Ot=ct.pointRangePadding):W.series.forEach(function(Dt){var Rt=Ct?1:kt?D(Dt.options.pointRange,pt,0):W.axisPointRange||0,St=Dt.options.pointPlacement;wt=Math.max(wt,Rt),(!W.single||Ct)&&(Dt=Dt.is("xrange")?!kt:kt,ut=Math.max(ut,Dt&&v(St)?0:Rt/2),Ot=Math.max(Ot,Dt&&"on"===St?0:Rt))}),W.minPointOffset=ut*=ct=W.ordinal&&W.ordinal.slope&&pt?W.ordinal.slope/pt:1,W.pointRangePadding=Ot*=ct,W.pointRange=Math.min(wt,W.single&&Ct?1:st),kt&&(W.closestPointRange=pt)}W.translationSlope=W.transA=bt=W.staticScale||W.len/(st+Ot||1),W.transB=W.horiz?W.left:W.bottom,W.minPixelPadding=bt*ut,gt(this,"afterSetAxisTranslation")},U.prototype.minFromRange=function(){return this.max-this.range},U.prototype.setTickInterval=function(W){var st=this.chart,ct=this.logarithmic,Ct=this.options,kt=this.isXAxis,wt=this.isLinked,ut=Ct.tickPixelInterval,Ot=this.categories,bt=this.softThreshold,pt=Ct.maxPadding,Dt=Ct.minPadding,Rt=p(Ct.tickInterval)&&0<=Ct.tickInterval?Ct.tickInterval:void 0,St=p(this.threshold)?this.threshold:null;this.dateTime||Ot||wt||this.getTickAmount();var te=D(this.userMin,Ct.min),At=D(this.userMax,Ct.max);if(wt){this.linkedParent=st[this.coll][Ct.linkedTo];var Kt=this.linkedParent.getExtremes();this.min=D(Kt.min,Kt.dataMin),this.max=D(Kt.max,Kt.dataMax),Ct.type!==this.linkedParent.options.type&&mt(11,1,st)}else{if(bt&&Q(St))if(this.dataMin>=St)Kt=St,Dt=0;else if(this.dataMax<=St){var Oe=St;pt=0}this.min=D(te,Kt,this.dataMin),this.max=D(At,Oe,this.dataMax)}if(ct&&(this.positiveValuesOnly&&!W&&0>=Math.min(this.min,D(this.dataMin,this.min))&&mt(10,1,st),this.min=Z(ct.log2lin(this.min),16),this.max=Z(ct.log2lin(this.max),16)),this.range&&Q(this.max)&&(this.userMin=this.min=te=Math.max(this.dataMin,this.minFromRange()),this.userMax=At=this.max,this.range=null),gt(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(Ot||this.axisPointRange||this.stacking&&this.stacking.usePercentage||wt)&&Q(this.min)&&Q(this.max)&&(st=this.max-this.min)&&(!Q(te)&&Dt&&(this.min-=st*Dt),!Q(At)&&pt&&(this.max+=st*pt)),p(this.userMin)||(p(Ct.softMin)&&Ct.softMin<this.min&&(this.min=te=Ct.softMin),p(Ct.floor)&&(this.min=Math.max(this.min,Ct.floor))),p(this.userMax)||(p(Ct.softMax)&&Ct.softMax>this.max&&(this.max=At=Ct.softMax),p(Ct.ceiling)&&(this.max=Math.min(this.max,Ct.ceiling))),bt&&Q(this.dataMin)&&(St=St||0,!Q(te)&&this.min<St&&this.dataMin>=St?this.min=this.options.minRange?Math.min(St,this.max-this.minRange):St:!Q(At)&&this.max>St&&this.dataMax<=St&&(this.max=this.options.minRange?Math.max(St,this.min+this.minRange):St)),p(this.min)&&p(this.max)&&!this.chart.polar&&this.min>this.max&&(Q(this.options.min)?this.max=this.min:Q(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:wt&&this.linkedParent&&!Rt&&ut===this.linkedParent.options.tickPixelInterval?Rt=this.linkedParent.tickInterval:D(Rt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,Ot?1:(this.max-this.min)*ut/Math.max(this.len,ut)),kt&&!W){var Jt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function($t){$t.forceCrop=$t.forceCropping&&$t.forceCropping(),$t.processData(Jt)}),gt(this,"postProcessData",{hasExtemesChanged:Jt})}this.setAxisTranslation(),gt(this,"initialAxisTranslation"),this.pointRange&&!Rt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),W=D(Ct.minTickInterval,this.dateTime&&!this.series.some(function($t){return $t.noSharedTooltip})?this.closestPointRange:0),!Rt&&this.tickInterval<W&&(this.tickInterval=W),this.dateTime||this.logarithmic||Rt||(this.tickInterval=w(this.tickInterval,void 0,k(this.tickInterval),D(Ct.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},U.prototype.setTickPositions=function(){var W=this.options,st=W.tickPositions,ct=this.getMinorTickInterval(),Ct=this.hasVerticalPanning(),kt="colorAxis"===this.coll,wt=(kt||!Ct)&&W.startOnTick;Ct=(kt||!Ct)&&W.endOnTick,kt=W.tickPositioner,this.tickmarkOffset=this.categories&&"between"===W.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===ct&&this.tickInterval?this.tickInterval/5:ct,this.single=this.min===this.max&&Q(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==W.allowDecimals),this.tickPositions=ct=st&&st.slice(),!ct&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?ct=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,W.units),this.min,this.max,W.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(ct=[this.min,this.max],mt(19,!1,this.chart)),ct.length>this.len&&(ct=[ct[0],ct.pop()])[0]===ct[1]&&(ct.length=1),this.tickPositions=ct,kt&&(kt=kt.apply(this,[this.min,this.max])))&&(this.tickPositions=ct=kt),this.paddedTicks=ct.slice(0),this.trimTicks(ct,wt,Ct),this.isLinked||(this.single&&2>ct.length&&!this.categories&&!this.series.some(function(ut){return ut.is("heatmap")&&"between"===ut.options.pointPlacement})&&(this.min-=.5,this.max+=.5),st||kt||this.adjustTickAmount()),gt(this,"afterSetTickPositions")},U.prototype.trimTicks=function(W,st,ct){var Ct=W[0],kt=W[W.length-1],wt=!this.isOrdinal&&this.minPointOffset||0;if(gt(this,"trimTicks"),!this.isLinked){if(st&&Ct!==-1/0)this.min=Ct;else for(;this.min-wt>W[0];)W.shift();if(ct)this.max=kt;else for(;this.max+wt<W[W.length-1];)W.pop();0===W.length&&Q(Ct)&&!this.options.tickPositions&&W.push((kt+Ct)/2)}},U.prototype.alignToOthers=function(){var ct,W={},st=this.options;return!1!==this.chart.options.chart.alignTicks&&st.alignTicks&&!1!==st.startOnTick&&!1!==st.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(Ct){var kt=Ct.options;kt=[Ct.horiz?kt.left:kt.top,kt.width,kt.height,kt.pane].join(),Ct.series.length&&(W[kt]?ct=!0:W[kt]=1)}),ct},U.prototype.getTickAmount=function(){var W=this.options,st=W.tickPixelInterval,ct=W.tickAmount;!Q(W.tickInterval)&&!ct&&this.len<st&&!this.isRadial&&!this.logarithmic&&W.startOnTick&&W.endOnTick&&(ct=2),!ct&&this.alignToOthers()&&(ct=Math.ceil(this.len/st)+1),4>ct&&(this.finalTickAmt=ct,ct=5),this.tickAmount=ct},U.prototype.adjustTickAmount=function(){var W=this.options,st=this.tickInterval,ct=this.tickPositions,Ct=this.tickAmount,kt=this.finalTickAmt,wt=ct&&ct.length,ut=D(this.threshold,this.softThreshold?0:null);if(this.hasData()&&p(this.min)&&p(this.max)){if(wt<Ct){for(;ct.length<Ct;)ct.length%2||this.min===ut?ct.push(Z(ct[ct.length-1]+st)):ct.unshift(Z(ct[0]-st));this.transA*=(wt-1)/(Ct-1),this.min=W.startOnTick?ct[0]:Math.min(this.min,ct[0]),this.max=W.endOnTick?ct[ct.length-1]:Math.max(this.max,ct[ct.length-1])}else wt>Ct&&(this.tickInterval*=2,this.setTickPositions());if(Q(kt)){for(st=W=ct.length;st--;)(3===kt&&st%2==1||2>=kt&&0<st&&st<W-1)&&ct.splice(st,1);this.finalTickAmt=void 0}}},U.prototype.setScale=function(){var W=!1,st=!1;this.series.forEach(function(Ct){W=W||Ct.isDirtyData||Ct.isDirty,st=st||Ct.xAxis&&Ct.xAxis.isDirty||!1}),this.setAxisSize();var ct=this.len!==(this.old&&this.old.len);ct||W||st||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=ct||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),W&&this.panningState&&(this.panningState.isDirty=!0),gt(this,"afterSetScale")},U.prototype.setExtremes=function(W,st,ct,Ct,kt){var wt=this,ut=wt.chart;ct=D(ct,!0),wt.series.forEach(function(Ot){delete Ot.kdTree}),kt=dt(kt,{min:W,max:st}),gt(wt,"setExtremes",kt,function(){wt.userMin=W,wt.userMax=st,wt.eventArgs=kt,ct&&ut.redraw(Ct)})},U.prototype.zoom=function(W,st){var ct=this,Ct=this.dataMin,kt=this.dataMax,wt=this.options,ut=Math.min(Ct,D(wt.min,Ct)),Ot=Math.max(kt,D(wt.max,kt));return gt(this,"zoom",W={newMin:W,newMax:st},function(bt){var pt=bt.newMin,Dt=bt.newMax;(pt!==ct.min||Dt!==ct.max)&&(ct.allowZoomOutside||(Q(Ct)&&(pt<ut&&(pt=ut),pt>Ot&&(pt=Ot)),Q(kt)&&(Dt<ut&&(Dt=ut),Dt>Ot&&(Dt=Ot))),ct.displayBtn=void 0!==pt||void 0!==Dt,ct.setExtremes(pt,Dt,!1,void 0,{trigger:"zoom"})),bt.zoomed=!0}),W.zoomed},U.prototype.setAxisSize=function(){var W=this.chart,st=this.options,ct=st.offsets||[0,0,0,0],Ct=this.horiz,kt=this.width=Math.round(_(D(st.width,W.plotWidth-ct[3]+ct[1]),W.plotWidth)),wt=this.height=Math.round(_(D(st.height,W.plotHeight-ct[0]+ct[2]),W.plotHeight)),ut=this.top=Math.round(_(D(st.top,W.plotTop+ct[0]),W.plotHeight,W.plotTop));st=this.left=Math.round(_(D(st.left,W.plotLeft+ct[3]),W.plotWidth,W.plotLeft)),this.bottom=W.chartHeight-wt-ut,this.right=W.chartWidth-kt-st,this.len=Math.max(Ct?kt:wt,0),this.pos=Ct?st:ut},U.prototype.getExtremes=function(){var W=this.logarithmic;return{min:W?Z(W.lin2log(this.min)):this.min,max:W?Z(W.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},U.prototype.getThreshold=function(W){var st=this.logarithmic,ct=st?st.lin2log(this.min):this.min;return st=st?st.lin2log(this.max):this.max,null===W||W===-1/0?W=ct:W===1/0?W=st:ct>W?W=ct:st<W&&(W=st),this.translate(W,0,1,0,1)},U.prototype.autoLabelAlign=function(W){var st=(D(W,0)-90*this.side+720)%360;return gt(this,"autoLabelAlign",W={align:"center"},function(ct){15<st&&165>st?ct.align="right":195<st&&345>st&&(ct.align="left")}),W.align},U.prototype.tickSize=function(W){var st=this.options,ct=D(st["tick"===W?"tickWidth":"minorTickWidth"],"tick"===W&&this.isXAxis&&!this.categories?1:0),Ct=st["tick"===W?"tickLength":"minorTickLength"];if(ct&&Ct){"inside"===st[W+"Position"]&&(Ct=-Ct);var kt=[Ct,ct]}return gt(this,"afterTickSize",W={tickSize:kt}),W.tickSize},U.prototype.labelMetrics=function(){var W=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[W]&&this.ticks[W].label)},U.prototype.unsquish=function(){var pt,Dt,W=this.options.labels,st=this.horiz,ct=this.tickInterval,Ct=this.len/(((this.categories?1:0)+this.max-this.min)/ct),kt=W.rotation,wt=this.labelMetrics(),ut=Math.max(this.max-this.min,0),Ot=function(te){var At=te/(Ct||1);return(At=1<At?Math.ceil(At):1)*ct>ut&&te!==1/0&&Ct!==1/0&&ut&&(At=Math.ceil(ut/ct)),Z(At*ct)},bt=ct,Rt=Number.MAX_VALUE;if(st){if(!W.staggerLines&&!W.step)if(p(kt))var St=[kt];else Ct<W.autoRotationLimit&&(St=W.autoRotation);St&&St.forEach(function(te){if(te===kt||te&&-90<=te&&90>=te){var At=(Dt=Ot(Math.abs(wt.h/Math.sin(V*te))))+Math.abs(te/360);At<Rt&&(Rt=At,pt=te,bt=Dt)}})}else W.step||(bt=Ot(wt.h));return this.autoRotation=St,this.labelRotation=D(pt,p(kt)?kt:0),bt},U.prototype.getSlotWidth=function(W){var st=this.chart,ct=this.horiz,Ct=this.options.labels,kt=Math.max(this.tickPositions.length-(this.categories?0:1),1),wt=st.margin[3];if(W&&p(W.slotWidth))return W.slotWidth;if(ct&&2>Ct.step)return Ct.rotation?0:(this.staggerLines||1)*this.len/kt;if(!ct){if(void 0!==(W=Ct.style.width))return parseInt(String(W),10);if(wt)return wt-st.spacing[3]}return.33*st.chartWidth},U.prototype.renderUnsquish=function(){var W=this.chart,st=W.renderer,ct=this.tickPositions,Ct=this.ticks,kt=this.options.labels,wt=kt.style,ut=this.horiz,Ot=this.getSlotWidth(),bt=Math.max(1,Math.round(Ot-2*kt.padding)),pt={},Dt=this.labelMetrics(),Rt=wt.textOverflow,St=0;if(v(kt.rotation)||(pt.rotation=kt.rotation||0),ct.forEach(function(Oe){(Oe=Ct[Oe]).movedLabel&&Oe.replaceMovedLabel(),Oe&&Oe.label&&Oe.label.textPxLength>St&&(St=Oe.label.textPxLength)}),this.maxLabelLength=St,this.autoRotation)St>bt&&St>Dt.h?pt.rotation=this.labelRotation:this.labelRotation=0;else if(Ot){var te=bt;if(!Rt){var At="clip";for(bt=ct.length;!ut&&bt--;){var Kt=ct[bt];(Kt=Ct[Kt].label)&&(Kt.styles&&"ellipsis"===Kt.styles.textOverflow?Kt.css({textOverflow:"clip"}):Kt.textPxLength>Ot&&Kt.css({width:Ot+"px"}),Kt.getBBox().height>this.len/ct.length-(Dt.h-Dt.f)&&(Kt.specificTextOverflow="ellipsis"))}}}pt.rotation&&(te=St>.5*W.chartHeight?.33*W.chartHeight:St,Rt||(At="ellipsis")),(this.labelAlign=kt.align||this.autoLabelAlign(this.labelRotation))&&(pt.align=this.labelAlign),ct.forEach(function(Oe){var Jt=(Oe=Ct[Oe])&&Oe.label,$t=wt.width,he={};Jt&&(Jt.attr(pt),Oe.shortenLabel?Oe.shortenLabel():te&&!$t&&"nowrap"!==wt.whiteSpace&&(te<Jt.textPxLength||"SPAN"===Jt.element.tagName)?(he.width=te+"px",Rt||(he.textOverflow=Jt.specificTextOverflow||At),Jt.css(he)):Jt.styles&&Jt.styles.width&&!he.width&&!$t&&Jt.css({width:null}),delete Jt.specificTextOverflow,Oe.rotation=pt.rotation)},this),this.tickRotCorr=st.rotCorr(Dt.b,this.labelRotation||0,0!==this.side)},U.prototype.hasData=function(){return this.series.some(function(W){return W.hasData()})||this.options.showEmpty&&Q(this.min)&&Q(this.max)},U.prototype.addTitle=function(W){var ut,Ct=this.opposite,kt=this.options.title,wt=this.chart.styledMode;this.axisTitle||((ut=kt.textAlign)||(ut=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:Ct?"right":"left",middle:"center",high:Ct?"left":"right"})[kt.align]),this.axisTitle=this.chart.renderer.text(kt.text||"",0,0,kt.useHTML).attr({zIndex:7,rotation:kt.rotation,align:ut}).addClass("highcharts-axis-title"),wt||this.axisTitle.css(g(kt.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),wt||kt.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[W?"show":"hide"](W)},U.prototype.generateTick=function(W){var st=this.ticks;st[W]?st[W].addLabel():st[W]=new I(this,W)},U.prototype.getOffset=function(){var W=this,st=this,ct=st.chart,Ct=st.horiz,kt=st.options,wt=st.side,ut=st.ticks,Ot=st.tickPositions,bt=st.coll,pt=st.axisParent,Dt=ct.renderer,Rt=ct.inverted&&!st.isZAxis?[1,0,3,2][wt]:wt,St=st.hasData(),te=kt.title,At=kt.labels,Kt=ct.axisOffset;ct=ct.clipOffset;var $t,Oe=[-1,1,1,-1][wt],Jt=kt.className,he=0,Tt=0,Bt=0;if(st.showAxis=$t=St||kt.showEmpty,st.staggerLines=st.horiz&&At.staggerLines||void 0,!st.axisGroup){var le=function(ot,J,Nt){return Dt.g(ot).attr({zIndex:Nt}).addClass("highcharts-"+bt.toLowerCase()+J+" "+(W.isRadial?"highcharts-radial-axis"+J+" ":"")+(Jt||"")).add(pt)};st.gridGroup=le("grid","-grid",kt.gridZIndex),st.axisGroup=le("axis","",kt.zIndex),st.labelGroup=le("axis-labels","-labels",At.zIndex)}if(St||st.isLinked?(Ot.forEach(function(ot){st.generateTick(ot)}),st.renderUnsquish(),st.reserveSpaceDefault=0===wt||2===wt||{1:"left",3:"right"}[wt]===st.labelAlign,D(At.reserveSpace,"center"===st.labelAlign||null,st.reserveSpaceDefault)&&Ot.forEach(function(ot){Bt=Math.max(ut[ot].getLabelSize(),Bt)}),st.staggerLines&&(Bt*=st.staggerLines),st.labelOffset=Bt*(st.opposite?-1:1)):b(ut,function(ot,J){ot.destroy(),delete ut[J]}),te&&te.text&&!1!==te.enabled&&(st.addTitle($t),$t&&!1!==te.reserveSpace)){st.titleOffset=he=st.axisTitle.getBBox()[Ct?"height":"width"];var Mt=te.offset;Tt=Q(Mt)?0:D(te.margin,Ct?5:10)}st.renderLine(),st.offset=Oe*D(kt.offset,Kt[wt]?Kt[wt]+(kt.margin||0):0),st.tickRotCorr=st.tickRotCorr||{x:0,y:0},te=0===wt?-st.labelMetrics().h:2===wt?st.tickRotCorr.y:0,St=Math.abs(Bt)+Tt,Bt&&(St=St-te+Oe*(Ct?D(At.y,st.tickRotCorr.y+8*Oe):At.x)),st.axisTitleMargin=D(Mt,St),st.getMaxLabelDimensions&&(st.maxLabelDimensions=st.getMaxLabelDimensions(ut,Ot)),"colorAxis"!==bt&&(Ct=this.tickSize("tick"),Kt[wt]=Math.max(Kt[wt],(st.axisTitleMargin||0)+he+Oe*st.offset,St,Ot&&Ot.length&&Ct?Ct[0]+Oe*st.offset:0),kt=!st.axisLine||kt.offset?0:2*Math.floor(st.axisLine.strokeWidth()/2),ct[Rt]=Math.max(ct[Rt],kt)),gt(this,"afterGetOffset")},U.prototype.getLinePath=function(W){var st=this.chart,ct=this.opposite,Ct=this.offset,kt=this.horiz,wt=this.left+(ct?this.width:0)+Ct;return Ct=st.chartHeight-this.bottom-(ct?this.height:0)+Ct,ct&&(W*=-1),st.renderer.crispLine([["M",kt?this.left:wt,kt?Ct:this.top],["L",kt?st.chartWidth-this.right:wt,kt?Ct:st.chartHeight-this.bottom]],W)},U.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},U.prototype.getTitlePosition=function(){var W=this.horiz,st=this.left,ct=this.top,Ct=this.len,kt=this.options.title,wt=W?st:ct,ut=this.opposite,Ot=this.offset,bt=kt.x,pt=kt.y,Dt=this.axisTitle,Rt=this.chart.renderer.fontMetrics(kt.style.fontSize,Dt);return Dt=Math.max(Dt.getBBox(null,0).height-Rt.h-1,0),Ct={low:wt+(W?0:Ct),middle:wt+Ct/2,high:wt+(W?Ct:0)}[kt.align],st=(W?ct+this.height:st)+(W?1:-1)*(ut?-1:1)*this.axisTitleMargin+[-Dt,Dt,Rt.f,-Dt][this.side],gt(this,"afterGetTitlePosition",{titlePosition:W={x:W?Ct+bt:st+(ut?this.width:0)+Ot+bt,y:W?st+pt-(ut?this.height:0)+Ot:Ct+pt}}),W},U.prototype.renderMinorTick=function(W,st){var ct=this.minorTicks;ct[W]||(ct[W]=new I(this,W,"minor")),st&&ct[W].isNew&&ct[W].render(null,!0),ct[W].render(null,!1,1)},U.prototype.renderTick=function(W,st,ct){var Ct=this.ticks;(!this.isLinked||W>=this.min&&W<=this.max||this.grid&&this.grid.isColumn)&&(Ct[W]||(Ct[W]=new I(this,W)),ct&&Ct[W].isNew&&Ct[W].render(st,!0,-1),Ct[W].render(st))},U.prototype.render=function(){var Oe,Jt,W=this,st=W.chart,ct=W.logarithmic,Ct=W.options,kt=W.isLinked,wt=W.tickPositions,ut=W.axisTitle,Ot=W.ticks,bt=W.minorTicks,pt=W.alternateBands,Dt=Ct.stackLabels,Rt=Ct.alternateGridColor,St=W.tickmarkOffset,te=W.axisLine,At=W.showAxis,Kt=T(st.renderer.globalAnimation);if(W.labelEdge.length=0,W.overlap=!1,[Ot,bt,pt].forEach(function(he){b(he,function(Tt){Tt.isActive=!1})}),W.hasData()||kt){var $t=W.chart.hasRendered&&W.old&&p(W.old.min);W.minorTickInterval&&!W.categories&&W.getMinorTickPositions().forEach(function(he){W.renderMinorTick(he,$t)}),wt.length&&(wt.forEach(function(he,Tt){W.renderTick(he,Tt,$t)}),St&&(0===W.min||W.single)&&(Ot[-1]||(Ot[-1]=new I(W,-1,null,!0)),Ot[-1].render(-1))),Rt&&wt.forEach(function(he,Tt){Jt=void 0!==wt[Tt+1]?wt[Tt+1]+St:W.max-St,Tt%2==0&&he<W.max&&Jt<=W.max+(st.polar?-St:St)&&(pt[he]||(pt[he]=new B.PlotLineOrBand(W)),Oe=he+St,pt[he].options={from:ct?ct.lin2log(Oe):Oe,to:ct?ct.lin2log(Jt):Jt,color:Rt,className:"highcharts-alternate-grid"},pt[he].render(),pt[he].isActive=!0)}),W._addedPlotLB||(W._addedPlotLB=!0,(Ct.plotLines||[]).concat(Ct.plotBands||[]).forEach(function(he){W.addPlotBandOrLine(he)}))}[Ot,bt,pt].forEach(function(he){var Tt=[],Bt=Kt.duration;b(he,function(le,Mt){le.isActive||(le.render(Mt,!1,0),le.isActive=!1,Tt.push(Mt))}),K(function(){for(var le=Tt.length;le--;)he[Tt[le]]&&!he[Tt[le]].isActive&&(he[Tt[le]].destroy(),delete he[Tt[le]])},he!==pt&&st.hasRendered&&Bt?Bt:0)}),te&&(te[te.isPlaced?"animate":"attr"]({d:this.getLinePath(te.strokeWidth())}),te.isPlaced=!0,te[At?"show":"hide"](At)),ut&&At&&(Ct=W.getTitlePosition(),p(Ct.y)?(ut[ut.isNew?"attr":"animate"](Ct),ut.isNew=!1):(ut.attr("y",-9999),ut.isNew=!0)),Dt&&Dt.enabled&&W.stacking&&W.stacking.renderStackTotals(),W.old={len:W.len,max:W.max,min:W.min,transA:W.transA,userMax:W.userMax,userMin:W.userMin},W.isDirty=!1,gt(this,"afterRender")},U.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(W){W.render()})),this.series.forEach(function(W){W.isDirty=!0})},U.prototype.getKeepProps=function(){return this.keepProps||U.keepProps},U.prototype.destroy=function(W){var st=this,ct=st.plotLinesAndBands,Ct=this.eventOptions;if(gt(this,"destroy",{keepEvents:W}),W||f(st),[st.ticks,st.minorTicks,st.alternateBands].forEach(function(wt){lt(wt)}),ct)for(W=ct.length;W--;)ct[W].destroy();for(var kt in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(wt){st[wt]&&(st[wt]=st[wt].destroy())}),st.plotLinesAndBandsGroups)st.plotLinesAndBandsGroups[kt]=st.plotLinesAndBandsGroups[kt].destroy();b(st,function(wt,ut){-1===st.getKeepProps().indexOf(ut)&&delete st[ut]}),this.eventOptions=Ct},U.prototype.drawCrosshair=function(W,st){var wt,ct=this.crosshair,Ct=D(ct&&ct.snap,!0),kt=this.chart,ut=this.cross;if(gt(this,"drawCrosshair",{e:W,point:st}),W||(W=this.cross&&this.cross.e),ct&&!1!==(Q(st)||!Ct)){if(Ct?Q(st)&&(wt=D("colorAxis"!==this.coll?st.crosshairPos:null,this.isXAxis?st.plotX:this.len-st.plotY)):wt=W&&(this.horiz?W.chartX-this.pos:this.len-W.chartY+this.pos),Q(wt)){var Ot={value:st&&(this.isXAxis?st.x:D(st.stackY,st.y)),translatedValue:wt};kt.polar&&dt(Ot,{isCrosshair:!0,chartX:W&&W.chartX,chartY:W&&W.chartY,point:st}),Ot=this.getPlotLinePath(Ot)||null}if(!Q(Ot))return void this.hideCrosshair();Ct=this.categories&&!this.isRadial,ut||(this.cross=ut=kt.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(Ct?"category ":"thin ")+(ct.className||"")).attr({zIndex:D(ct.zIndex,2)}).add(),kt.styledMode||(ut.attr({stroke:ct.color||(Ct?H.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":D(ct.width,1)}).css({"pointer-events":"none"}),ct.dashStyle&&ut.attr({dashstyle:ct.dashStyle}))),ut.show().attr({d:Ot}),Ct&&!ct.width&&ut.attr({"stroke-width":this.transA}),this.cross.e=W}else this.hideCrosshair();gt(this,"afterDrawCrosshair",{e:W,point:st})},U.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),gt(this,"afterHideCrosshair")},U.prototype.hasVerticalPanning=function(){var W=this.chart.options.chart.panning;return!!(W&&W.enabled&&/y/.test(W.type))},U.prototype.validatePositiveValue=function(W){return p(W)&&0<W},U.prototype.update=function(W,st){var ct=this.chart;W=g(this.userOptions,W),this.destroy(!0),this.init(ct,W),ct.isDirtyBox=!0,D(st,!0)&&ct.redraw()},U.prototype.remove=function(W){for(var st=this.chart,ct=this.coll,Ct=this.series,kt=Ct.length;kt--;)Ct[kt]&&Ct[kt].remove(!1);ht(st.axes,this),ht(st[ct],this),st[ct].forEach(function(wt,ut){wt.options.index=wt.userOptions.index=ut}),this.destroy(),st.isDirtyBox=!0,D(W,!0)&&st.redraw()},U.prototype.setTitle=function(W,st){this.update({title:W},st)},U.prototype.setCategories=function(W,st){this.update({categories:W},st)},U.defaultOptions=j.defaultXAxisOptions,U.keepProps="extKey hcEvents names series userMax userMin".split(" "),U}()}),et(it,"Core/Axis/DateTimeAxis.js",[it["Core/Utilities.js"]],function(M){var B,j=M.addEvent,H=M.getMagnitude,X=M.normalizeTickInterval,z=M.timeUnits;return function(I){function Y(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function T(V){"datetime"!==V.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new O(this))}var F=[];I.compose=function(V){return-1===F.indexOf(V)&&(F.push(V),V.keepProps.push("dateTime"),V.prototype.getTimeTicks=Y,j(V,"init",T)),V};var O=function(){function V(G){this.axis=G}return V.prototype.normalizeTimeTickInterval=function(G,R){var lt,$=R||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],Z=z[(R=$[$.length-1])[0]],Q=R[1];for(lt=0;lt<$.length&&(Z=z[(R=$[lt])[0]],Q=R[1],!($[lt+1]&&G<=(Z*Q[Q.length-1]+z[$[lt+1][0]])/2));lt++);return Z===z.year&&G<5*Z&&(Q=[1,2,5]),{unitRange:Z,count:G=X(G/Z,Q,"year"===R[0]?Math.max(H(G/Z),1):1),unitName:R[0]}},V.prototype.getXDateFormat=function(G,R){var $=this.axis;return $.closestPointRange?$.chart.time.getDateFormat($.closestPointRange,G,$.options.startOfWeek,R)||R.year:R.day},V}();I.Additions=O}(B||(B={})),B}),et(it,"Core/Axis/LogarithmicAxis.js",[it["Core/Utilities.js"]],function(M){var B,j=M.addEvent,H=M.getMagnitude,X=M.normalizeTickInterval,z=M.pick;return function(I){function Y(V){var G=this.logarithmic;"logarithmic"!==V.userOptions.type?this.logarithmic=void 0:G||(this.logarithmic=new O(this))}function T(){var V=this.logarithmic;V&&(this.lin2val=function(G){return V.lin2log(G)},this.val2lin=function(G){return V.log2lin(G)})}var F=[];I.compose=function(V){return-1===F.indexOf(V)&&(F.push(V),V.keepProps.push("logarithmic"),j(V,"init",Y),j(V,"afterInit",T)),V};var O=function(){function V(G){this.axis=G}return V.prototype.getLogTickPositions=function(G,R,$,Z){var Q=this.axis,lt=Q.len,ht=Q.options,mt=[];if(Z||(this.minorAutoInterval=void 0),.5<=G)G=Math.round(G),mt=Q.getLinearTickPositions(G,R,$);else if(.08<=G){var gt,dt=Math.floor(R),k=ht=void 0;for(lt=.3<G?[1,2,4]:.15<G?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];dt<$+1&&!k;dt++){var u=lt.length;for(gt=0;gt<u&&!k;gt++){var p=this.log2lin(this.lin2log(dt)*lt[gt]);p>R&&(!Z||ht<=$)&&void 0!==ht&&mt.push(ht),ht>$&&(k=!0),ht=p}}}else R=this.lin2log(R),$=this.lin2log($),G=Z?Q.getMinorTickInterval():ht.tickInterval,G=z("auto"===G?null:G,this.minorAutoInterval,ht.tickPixelInterval/(Z?5:1)*($-R)/((Z?lt/Q.tickPositions.length:lt)||1)),G=X(G,void 0,H(G)),mt=Q.getLinearTickPositions(G,R,$).map(this.log2lin),Z||(this.minorAutoInterval=G/5);return Z||(Q.tickInterval=G),mt},V.prototype.lin2log=function(G){return Math.pow(10,G)},V.prototype.log2lin=function(G){return Math.log(G)/Math.LN10},V}();I.Additions=O}(B||(B={})),B}),et(it,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[it["Core/Utilities.js"]],function(M){var z,j=M.erase,H=M.extend,X=M.isNumber;return function(B){var Y,I=[];B.compose=function(F,O){return Y||(Y=F),-1===I.indexOf(O)&&(I.push(O),H(O.prototype,T.prototype)),O};var T=function(){function F(){}return F.prototype.getPlotBandPath=function(O,V,G){void 0===G&&(G=this.options);var R=this.getPlotLinePath({value:V,force:!0,acrossPanes:G.acrossPanes}),$=[],Z=this.horiz;if(V=!X(this.min)||!X(this.max)||O<this.min&&V<this.min||O>this.max&&V>this.max,O=this.getPlotLinePath({value:O,force:!0,acrossPanes:G.acrossPanes}),G=1,O&&R){if(V){var Q=O.toString()===R.toString();G=0}for(V=0;V<O.length;V+=2){var lt=O[V],ht=O[V+1],mt=R[V],dt=R[V+1];"M"!==lt[0]&&"L"!==lt[0]||"M"!==ht[0]&&"L"!==ht[0]||"M"!==mt[0]&&"L"!==mt[0]||"M"!==dt[0]&&"L"!==dt[0]||(Z&&mt[1]===lt[1]?(mt[1]+=G,dt[1]+=G):Z||mt[2]!==lt[2]||(mt[2]+=G,dt[2]+=G),$.push(["M",lt[1],lt[2]],["L",ht[1],ht[2]],["L",dt[1],dt[2]],["L",mt[1],mt[2]],["Z"])),$.isFlat=Q}}return $},F.prototype.addPlotBand=function(O){return this.addPlotBandOrLine(O,"plotBands")},F.prototype.addPlotLine=function(O){return this.addPlotBandOrLine(O,"plotLines")},F.prototype.addPlotBandOrLine=function(O,V){var G=this,R=this.userOptions,$=new Y(this,O);if(this.visible&&($=$.render()),$){if(this._addedPlotLB||(this._addedPlotLB=!0,(R.plotLines||[]).concat(R.plotBands||[]).forEach(function(Q){G.addPlotBandOrLine(Q)})),V){var Z=R[V]||[];Z.push(O),R[V]=Z}this.plotLinesAndBands.push($)}return $},F.prototype.removePlotBandOrLine=function(O){var V=this.plotLinesAndBands,G=this.options,R=this.userOptions;if(V){for(var $=V.length;$--;)V[$].id===O&&V[$].destroy();[G.plotLines||[],R.plotLines||[],G.plotBands||[],R.plotBands||[]].forEach(function(Z){for($=Z.length;$--;)(Z[$]||{}).id===O&&j(Z,Z[$])})}},F.prototype.removePlotBand=function(O){this.removePlotBandOrLine(O)},F.prototype.removePlotLine=function(O){this.removePlotBandOrLine(O)},F}()}(z||(z={})),z}),et(it,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[it["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],it["Core/Utilities.js"]],function(M,j){var H=j.arrayMax,X=j.arrayMin,z=j.defined,B=j.destroyObjectProperties,I=j.erase,Y=j.fireEvent,T=j.merge,F=j.objectEach,O=j.pick;return function(){function V(G,R){this.axis=G,R&&(this.options=R,this.id=R.id)}return V.compose=function(G){return M.compose(V,G)},V.prototype.render=function(){Y(this,"render");var G=this,R=G.axis,$=R.horiz,Z=R.logarithmic,Q=G.options,lt=Q.color,ht=O(Q.zIndex,0),mt=Q.events,dt={},gt=R.chart.renderer,k=Q.label,u=G.label,p=Q.to,v=Q.from,g=Q.value,w=G.svgElem,b=[],D=z(v)&&z(p);b=z(g);var _=!w,f={class:"highcharts-plot-"+(D?"band ":"line ")+(Q.className||"")},C=D?"bands":"lines";if(Z&&(v=Z.log2lin(v),p=Z.log2lin(p),g=Z.log2lin(g)),R.chart.styledMode||(b?(f.stroke=lt||"#999999",f["stroke-width"]=O(Q.width,1),Q.dashStyle&&(f.dashstyle=Q.dashStyle)):D&&(f.fill=lt||"#e6ebf5",Q.borderWidth&&(f.stroke=Q.borderColor,f["stroke-width"]=Q.borderWidth))),dt.zIndex=ht,(Z=R.plotLinesAndBandsGroups[C+="-"+ht])||(R.plotLinesAndBandsGroups[C]=Z=gt.g("plot-"+C).attr(dt).add()),_&&(G.svgElem=w=gt.path().attr(f).add(Z)),b)b=R.getPlotLinePath({value:g,lineWidth:w.strokeWidth(),acrossPanes:Q.acrossPanes});else{if(!D)return;b=R.getPlotBandPath(v,p,Q)}return!G.eventsAdded&&mt&&(F(mt,function(K,U){w.on(U,function(W){mt[U].apply(G,[W])})}),G.eventsAdded=!0),(_||!w.d)&&b&&b.length?w.attr({d:b}):w&&(b?(w.show(!0),w.animate({d:b})):w.d&&(w.hide(),u&&(G.label=u=u.destroy()))),k&&(z(k.text)||z(k.formatter))&&b&&b.length&&0<R.width&&0<R.height&&!b.isFlat?(k=T({align:$&&D&&"center",x:$?!D&&4:10,verticalAlign:!$&&D&&"middle",y:$?D?16:10:D?6:-4,rotation:$&&!D&&90},k),this.renderLabel(k,b,D,ht)):u&&u.hide(),G},V.prototype.renderLabel=function(G,R,$,Z){var Q=this.axis,lt=Q.chart.renderer,ht=this.label;ht||(this.label=ht=lt.text(this.getLabelText(G),0,0,G.useHTML).attr({align:G.textAlign||G.align,rotation:G.rotation,class:"highcharts-plot-"+($?"band":"line")+"-label "+(G.className||""),zIndex:Z}).add(),Q.chart.styledMode||ht.css(T({textOverflow:"ellipsis"},G.style))),Z=R.xBounds||[R[0][1],R[1][1],$?R[2][1]:R[0][1]],R=R.yBounds||[R[0][2],R[1][2],$?R[2][2]:R[0][2]],$=X(Z),lt=X(R),ht.align(G,!1,{x:$,y:lt,width:H(Z)-$,height:H(R)-lt}),ht.alignValue&&"left"!==ht.alignValue||ht.css({width:(90===ht.rotation?Q.height-(ht.alignAttr.y-Q.top):Q.width-(ht.alignAttr.x-Q.left))+"px"}),ht.show(!0)},V.prototype.getLabelText=function(G){return z(G.formatter)?G.formatter.call(this):G.text},V.prototype.destroy=function(){I(this.axis.plotLinesAndBands,this),delete this.axis,B(this)},V}()}),et(it,"Core/Tooltip.js",[it["Core/FormatUtilities.js"],it["Core/Globals.js"],it["Core/Renderer/RendererUtilities.js"],it["Core/Renderer/RendererRegistry.js"],it["Core/Utilities.js"]],function(M,j,H,X,z){var B=M.format,I=j.doc,Y=H.distribute,T=z.addEvent,F=z.clamp,O=z.css,V=z.defined,G=z.discardElement,R=z.extend,$=z.fireEvent,Z=z.isArray,Q=z.isNumber,lt=z.isString,ht=z.merge,mt=z.pick,dt=z.splat,gt=z.syncTimeout;return function(){function k(u,p){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=u,this.init(u,p)}return k.prototype.applyFilter=function(){var u=this.chart;u.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+u.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},k.prototype.bodyFormatter=function(u){return u.map(function(p){var v=p.series.tooltipOptions;return(v[(p.point.formatPrefix||"point")+"Formatter"]||p.point.tooltipFormatter).call(p.point,v[(p.point.formatPrefix||"point")+"Format"]||"")})},k.prototype.cleanSplit=function(u){this.chart.series.forEach(function(p){var v=p&&p.tt;v&&(!v.isActive||u?p.tt=v.destroy():v.isActive=!1)})},k.prototype.defaultFormatter=function(u){var p=this.points||dt(this),v=[u.tooltipFooterHeaderFormatter(p[0])];return(v=v.concat(u.bodyFormatter(p))).push(u.tooltipFooterHeaderFormatter(p[0],!0)),v},k.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),G(this.container)),z.clearTimeout(this.hideTimer),z.clearTimeout(this.tooltipTimeout)},k.prototype.getAnchor=function(u,p){var _,f,v=this.chart,g=v.pointer,w=v.inverted,b=v.plotTop,D=v.plotLeft,C=0,K=0;return u=dt(u),this.followPointer&&p?(void 0===p.chartX&&(p=g.normalize(p)),g=[p.chartX-D,p.chartY-b]):u[0].tooltipPos?g=u[0].tooltipPos:(u.forEach(function(U){_=U.series.yAxis,C+=U.plotX||0,K+=U.plotLow?(U.plotLow+(U.plotHigh||0))/2:U.plotY||0,(f=U.series.xAxis)&&_&&(w?(C+=b+v.plotHeight-f.len-f.pos,K+=D+v.plotWidth-_.len-_.pos):(C+=f.pos-D,K+=_.pos-b))}),C/=u.length,K/=u.length,g=[w?v.plotWidth-K:C,w?v.plotHeight-C:K],this.shared&&1<u.length&&p&&(w?g[0]=p.chartX-D:g[1]=p.chartY-b)),g.map(Math.round)},k.prototype.getLabel=function(){var f,u=this,p=this.chart.styledMode,v=this.options,g=this.split&&this.allowShared,w="tooltip"+(V(v.className)?" "+v.className:""),b=v.style.pointerEvents||(!this.followPointer&&v.stickOnContact?"auto":"none"),D=function(){u.inContact=!0},_=function(Ct){var kt=u.chart.hoverSeries;u.inContact=u.shouldStickOnContact()&&u.chart.pointer.inClass(Ct.relatedTarget,"highcharts-tooltip"),!u.inContact&&kt&&kt.onMouseOut&&kt.onMouseOut()},C=this.chart.renderer;if(u.label){var K=!u.label.hasClass("highcharts-label");(g&&!K||!g&&K)&&u.destroy()}if(!this.label){if(this.outside){K=this.chart.options.chart.style;var U=X.getRendererType();this.container=f=j.doc.createElement("div"),f.className="highcharts-tooltip-container",O(f,{position:"absolute",top:"1px",pointerEvents:b,zIndex:Math.max(this.options.style.zIndex||0,(K&&K.zIndex||0)+3)}),T(f,"mouseenter",D),T(f,"mouseleave",_),j.doc.body.appendChild(f),this.renderer=C=new U(f,0,0,K,void 0,void 0,C.styledMode)}if(g?this.label=C.g(w):(this.label=C.label("",0,0,v.shape,void 0,void 0,v.useHTML,void 0,w).attr({padding:v.padding,r:v.borderRadius}),p||this.label.attr({fill:v.backgroundColor,"stroke-width":v.borderWidth}).css(v.style).css({pointerEvents:b}).shadow(v.shadow)),p&&v.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),u.outside&&!u.split){var W=this.label,st=W.xSetter,ct=W.ySetter;W.xSetter=function(Ct){st.call(W,u.distance),f.style.left=Ct+"px"},W.ySetter=function(Ct){ct.call(W,u.distance),f.style.top=Ct+"px"}}this.label.on("mouseenter",D).on("mouseleave",_).attr({zIndex:8}).add()}return this.label},k.prototype.getPosition=function(u,p,v){var ct,g=this.chart,w=this.distance,b={},D=g.inverted&&v.h||0,_=this.outside,f=_?I.documentElement.clientWidth-2*w:g.chartWidth,C=_?Math.max(I.body.scrollHeight,I.documentElement.scrollHeight,I.body.offsetHeight,I.documentElement.offsetHeight,I.documentElement.clientHeight):g.chartHeight,K=g.pointer.getChartPosition(),U=function(bt){var pt="x"===bt;return[bt,pt?f:C,pt?u:p].concat(_?[pt?u*K.scaleX:p*K.scaleY,pt?K.left-w+(v.plotX+g.plotLeft)*K.scaleX:K.top-w+(v.plotY+g.plotTop)*K.scaleY,0,pt?f:C]:[pt?u:p,pt?v.plotX+g.plotLeft:v.plotY+g.plotTop,pt?g.plotLeft:g.plotTop,pt?g.plotLeft+g.plotWidth:g.plotTop+g.plotHeight])},W=U("y"),st=U("x");U=!!v.negative,!g.polar&&g.hoverSeries&&g.hoverSeries.yAxis&&g.hoverSeries.yAxis.reversed&&(U=!U);var Ct=!this.followPointer&&mt(v.ttBelow,!g.inverted===U),kt=function(bt,pt,Dt,Rt,St,te,At){var Kt=_?"y"===bt?w*K.scaleY:w*K.scaleX:w,Oe=(Dt-Rt)/2,Jt=Rt<St-w,$t=St+w+Rt<pt,he=St-Kt-Dt+Oe;if(St=St+Kt-Oe,Ct&&$t)b[bt]=St;else if(!Ct&&Jt)b[bt]=he;else if(Jt)b[bt]=Math.min(At-Rt,0>he-D?he:he-D);else{if(!$t)return!1;b[bt]=Math.max(te,St+D+Dt>pt?St:St+D)}},wt=function(bt,pt,Dt,Rt,St){var te;return St<w||St>pt-w?te=!1:b[bt]=St<Dt/2?1:St>pt-Rt/2?pt-Rt-2:St-Dt/2,te},ut=function(bt){var pt=W;W=st,st=pt,ct=bt},Ot=function(){!1!==kt.apply(0,W)?!1!==wt.apply(0,st)||ct||(ut(!0),Ot()):ct?b.x=b.y=0:(ut(!0),Ot())};return(g.inverted||1<this.len)&&ut(),Ot(),b},k.prototype.hide=function(u){var p=this;z.clearTimeout(this.hideTimer),u=mt(u,this.options.hideDelay),this.isHidden||(this.hideTimer=gt(function(){p.getLabel().fadeOut(u&&void 0),p.isHidden=!0},u))},k.prototype.init=function(u,p){this.chart=u,this.options=p,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=p.split&&!u.inverted&&!u.polar,this.shared=p.shared||this.split,this.outside=mt(p.outside,!(!u.scrollablePixelsX&&!u.scrollablePixelsY))},k.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},k.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},k.prototype.move=function(u,p,v,g){var w=this,b=w.now,D=!1!==w.options.animation&&!w.isHidden&&(1<Math.abs(u-b.x)||1<Math.abs(p-b.y)),_=w.followPointer||1<w.len;R(b,{x:D?(2*b.x+u)/3:u,y:D?(b.y+p)/2:p,anchorX:_?void 0:D?(2*b.anchorX+v)/3:v,anchorY:_?void 0:D?(b.anchorY+g)/2:g}),w.getLabel().attr(b),w.drawTracker(),D&&(z.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){w&&w.move(u,p,v,g)},32))},k.prototype.refresh=function(u,p){var v=this.chart,g=this.options,w=dt(u),b=w[0],D=[],_=g.formatter||this.defaultFormatter,f=this.shared,C=v.styledMode,K={};if(g.enabled){z.clearTimeout(this.hideTimer),this.allowShared=!(!Z(u)&&u.series&&u.series.noSharedTooltip),this.followPointer=!this.split&&b.series.tooltipOptions.followPointer;var U=(u=this.getAnchor(u,p))[0],W=u[1];if(f&&this.allowShared?(v.pointer.applyInactiveState(w),w.forEach(function(Ct){Ct.setState("hover"),D.push(Ct.getLabelConfig())}),(K={x:b.category,y:b.y}).points=D):K=b.getLabelConfig(),this.len=D.length,_=_.call(K,this),this.distance=mt((f=b.series).tooltipOptions.distance,16),!1===_)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(_,w);else{var st=U,ct=W;if(p&&v.pointer.isDirectTouch&&(st=p.chartX-v.plotLeft,ct=p.chartY-v.plotTop),!v.polar&&!1!==f.options.clip&&!w.some(function(Ct){return Ct.series.shouldShowTooltip(st,ct)}))return void this.hide();p=this.getLabel(),g.style.width&&!C||p.css({width:this.chart.spacingBox.width+"px"}),p.attr({text:_&&_.join?_.join(""):_}),p.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+mt(b.colorIndex,f.colorIndex)),C||p.attr({stroke:g.borderColor||b.color||f.color||"#666666"}),this.updatePosition({plotX:U,plotY:W,negative:b.negative,ttBelow:b.ttBelow,h:u[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}$(this,"refresh")}},k.prototype.renderSplit=function(u,p){function v($t,he,Tt,Bt,le){return void 0===le&&(le=!0),Tt?(he=Rt?0:Kt,$t=F($t-Bt/2,bt.left,bt.right-Bt-(g.outside?St:0))):(he-=te,$t=F($t=le?$t-Bt-wt:$t+wt,le?$t:bt.left,bt.right)),{x:$t,y:he}}var g=this,w=g.chart,b=g.chart,D=b.chartWidth,_=b.chartHeight,f=b.plotHeight,C=b.plotLeft,K=b.plotTop,U=b.pointer,W=b.scrollablePixelsY;W=void 0===W?0:W;var ct=b.scrollingContainer,Ct=(ct=void 0===ct?{scrollLeft:0,scrollTop:0}:ct).scrollLeft;ct=ct.scrollTop;var kt=b.styledMode,wt=g.distance,ut=g.options,Ot=g.options.positioner,bt=g.outside&&"number"!=typeof b.scrollablePixelsX?I.documentElement.getBoundingClientRect():{left:Ct,right:Ct+D,top:ct,bottom:ct+_},pt=g.getLabel(),Dt=this.renderer||w.renderer,Rt=!(!w.xAxis[0]||!w.xAxis[0].opposite),St=(w=U.getChartPosition()).left;w=w.top;var te=K+ct,At=0,Kt=f-W;lt(u)&&(u=[!1,u]),u=u.slice(0,p.length+1).reduce(function($t,he,Tt){if(!1!==he&&""!==he){var Bt=(Tt=p[Tt-1]||{isHeader:!0,plotX:p[0].plotX,plotY:f,series:{}}).isHeader,le=Bt?g:Tt.series;he=he.toString();var Mt=le.tt,ot=Tt.isHeader,J=Tt.series,Nt="highcharts-color-"+mt(Tt.colorIndex,J.colorIndex,"none");if(Mt||(Mt={padding:ut.padding,r:ut.borderRadius},kt||(Mt.fill=ut.backgroundColor,Mt["stroke-width"]=ut.borderWidth),Mt=Dt.label("",0,0,ut[ot?"headerShape":"shape"],void 0,void 0,ut.useHTML).addClass((ot?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Nt).attr(Mt).add(pt)),Mt.isActive=!0,Mt.attr({text:he}),kt||Mt.css(ut.style).shadow(ut.shadow).attr({stroke:ut.borderColor||Tt.color||J.color||"#333333"}),he=(ot=(le=le.tt=Mt).getBBox()).width+le.strokeWidth(),Bt&&(Kt+=At=ot.height,Rt&&(te-=At)),J=void 0===(J=Tt.plotX)?0:J,Nt=void 0===(Nt=Tt.plotY)?0:Nt,Mt=Tt.series,Tt.isHeader){J=C+J;var Gt=K+f/2}else{var ge=Mt.xAxis,qt=Mt.yAxis;J=ge.pos+F(J,-wt,ge.len+wt),Mt.shouldShowTooltip(0,qt.pos-K+Nt,{ignoreX:!0})&&(Gt=qt.pos+Nt)}J=F(J,bt.left-wt,bt.right+wt),"number"==typeof Gt?(ot=ot.height+1,Nt=Ot?Ot.call(g,he,ot,Tt):v(J,Gt,Bt,he),$t.push({align:Ot?0:void 0,anchorX:J,anchorY:Gt,boxWidth:he,point:Tt,rank:mt(Nt.rank,Bt?1:0),size:ot,target:Nt.y,tt:le,x:Nt.x})):le.isActive=!1}return $t},[]),!Ot&&u.some(function($t){var he=(g.outside?St:0)+$t.anchorX;return he<bt.left&&he+$t.boxWidth<bt.right||he<St-bt.left+$t.boxWidth&&bt.right-he>he})&&(u=u.map(function($t){var he=v($t.anchorX,$t.anchorY,$t.point.isHeader,$t.boxWidth,!1);return R($t,{target:he.y,x:he.x})})),g.cleanSplit(),Y(u,Kt);var Oe=St,Jt=St;u.forEach(function($t){var he=$t.x,Tt=$t.boxWidth;($t=$t.isHeader)||(g.outside&&St+he<Oe&&(Oe=St+he),!$t&&g.outside&&Oe+Tt>Jt&&(Jt=St+he))}),u.forEach(function($t){var he=$t.x,Tt=$t.anchorX,Bt=$t.pos,le=$t.point.isHeader;if(Bt={visibility:void 0===Bt?"hidden":"inherit",x:he,y:Bt+te,anchorX:Tt,anchorY:$t.anchorY},g.outside&&he<Tt){var Mt=St-Oe;0<Mt&&(le||(Bt.x=he+Mt,Bt.anchorX=Tt+Mt),le&&(Bt.x=(Jt-Oe)/2,Bt.anchorX=Tt+Mt))}$t.tt.attr(Bt)}),u=g.container,W=g.renderer,g.outside&&u&&W&&(b=pt.getBBox(),W.setSize(b.width+b.x,b.height+b.y,!1),u.style.left=Oe+"px",u.style.top=w+"px")},k.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var u=this.chart,p=this.label,v=this.shared?u.hoverPoints:u.hoverPoint;if(p&&v){var g={x:0,y:0,width:0,height:0};v=this.getAnchor(v);var w=p.getBBox();v[0]+=u.plotLeft-p.translateX,v[1]+=u.plotTop-p.translateY,g.x=Math.min(0,v[0]),g.y=Math.min(0,v[1]),g.width=0>v[0]?Math.max(Math.abs(v[0]),w.width-v[0]):Math.max(Math.abs(v[0]),w.width),g.height=0>v[1]?Math.max(Math.abs(v[1]),w.height-Math.abs(v[1])):Math.max(Math.abs(v[1]),w.height),this.tracker?this.tracker.attr(g):(this.tracker=p.renderer.rect(g).addClass("highcharts-tracker").add(p),u.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},k.prototype.styledModeFormat=function(u){return u.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},k.prototype.tooltipFooterHeaderFormatter=function(u,p){var v=u.series,g=v.tooltipOptions,w=v.xAxis,b=w&&w.dateTime,D=g.xDateFormat,_=g[p?"footerFormat":"headerFormat"];return $(this,"headerFormatter",w={isFooter:p,labelConfig:u},function(f){b&&!D&&Q(u.key)&&(D=b.getXDateFormat(u.key,g.dateTimeLabelFormats)),b&&D&&(u.point&&u.point.tooltipDateKeys||["key"]).forEach(function(C){_=_.replace("{point."+C+"}","{point."+C+":"+D+"}")}),v.chart.styledMode&&(_=this.styledModeFormat(_)),f.text=B(_,{point:u,series:v},this.chart)}),w.text},k.prototype.update=function(u){this.destroy(),ht(!0,this.chart.options.tooltip.userOptions,u),this.init(this.chart,ht(!0,this.options,u))},k.prototype.updatePosition=function(u){var p=this.chart,v=this.options,g=p.pointer,w=this.getLabel();g=g.getChartPosition();var b=(v.positioner||this.getPosition).call(this,w.width,w.height,u),D=u.plotX+p.plotLeft;u=u.plotY+p.plotTop,this.outside&&(this.renderer.setSize(w.width+(v=v.borderWidth+2*this.distance),w.height+v,!1),(1!==g.scaleX||1!==g.scaleY)&&(O(this.container,{transform:"scale("+g.scaleX+", "+g.scaleY+")"}),D*=g.scaleX,u*=g.scaleY),D+=g.left-b.x,u+=g.top-b.y),this.move(Math.round(b.x),Math.round(b.y||0),D,u)},k}()}),et(it,"Core/Series/Point.js",[it["Core/Renderer/HTML/AST.js"],it["Core/Animation/AnimationUtilities.js"],it["Core/DefaultOptions.js"],it["Core/FormatUtilities.js"],it["Core/Utilities.js"]],function(M,j,H,X,z){var B=j.animObject,I=H.defaultOptions,Y=X.format,T=z.addEvent,F=z.defined,O=z.erase,V=z.extend,G=z.fireEvent,R=z.getNestedProperty,$=z.isArray,Z=z.isFunction,Q=z.isNumber,lt=z.isObject,ht=z.merge,mt=z.objectEach,dt=z.pick,gt=z.syncTimeout,k=z.removeEvent,u=z.uniqueKey;return function(){function p(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return p.prototype.animateBeforeDestroy=function(){var v=this,g={x:v.startXPos,opacity:0},w=v.getGraphicalProps();w.singular.forEach(function(b){v[b]=v[b].animate("dataLabel"===b?{x:v[b].startXPos,y:v[b].startYPos,opacity:0}:g)}),w.plural.forEach(function(b){v[b].forEach(function(D){D.element&&D.animate(V({x:v.startXPos},D.startYPos?{x:D.startXPos,y:D.startYPos}:{}))})})},p.prototype.applyOptions=function(v,g){var w=this.series,b=w.options.pointValKey||w.pointValKey;return v=p.prototype.optionsToObject.call(this,v),V(this,v),this.options=this.options?V(this.options,v):v,v.group&&delete this.group,v.dataLabels&&delete this.dataLabels,b&&(this.y=p.prototype.getNestedProperty.call(this,b)),this.formatPrefix=(this.isNull=dt(this.isValid&&!this.isValid(),null===this.x||!Q(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===g&&w.xAxis&&w.xAxis.hasNames&&(this.x=w.xAxis.nameToX(this)),void 0===this.x&&w?this.x=void 0===g?w.autoIncrement():g:Q(v.x)&&w.options.relativeXValue&&(this.x=w.autoIncrement(v.x)),this},p.prototype.destroy=function(){function v(){for(f in(g.graphic||g.dataLabel||g.dataLabels)&&(k(g),g.destroyElements()),g)g[f]=null}var g=this,w=g.series,b=w.chart;w=w.options.dataSorting;var f,D=b.hoverPoints,_=B(g.series.chart.renderer.globalAnimation);g.legendItem&&b.legend.destroyItem(g),D&&(g.setState(),O(D,g),D.length||(b.hoverPoints=null)),g===b.hoverPoint&&g.onMouseOut(),w&&w.enabled?(this.animateBeforeDestroy(),gt(v,_.duration)):v(),b.pointCount--},p.prototype.destroyElements=function(v){var g=this;(v=g.getGraphicalProps(v)).singular.forEach(function(w){g[w]=g[w].destroy()}),v.plural.forEach(function(w){g[w].forEach(function(b){b.element&&b.destroy()}),delete g[w]})},p.prototype.firePointEvent=function(v,g,w){var b=this,D=this.series.options;(D.point.events[v]||b.options&&b.options.events&&b.options.events[v])&&b.importEvents(),"click"===v&&D.allowPointSelect&&(w=function(_){b.select&&b.select(null,_.ctrlKey||_.metaKey||_.shiftKey)}),G(b,v,g,w)},p.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},p.prototype.getGraphicalProps=function(v){var D,g=this,w=[],b={singular:[],plural:[]};for((v=v||{graphic:1,dataLabel:1}).graphic&&w.push("graphic","upperGraphic","shadowGroup"),v.dataLabel&&w.push("dataLabel","dataLabelUpper","connector"),D=w.length;D--;){var _=w[D];g[_]&&b.singular.push(_)}return["dataLabel","connector"].forEach(function(f){var C=f+"s";v[f]&&g[C]&&b.plural.push(C)}),b},p.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},p.prototype.getNestedProperty=function(v){if(v)return 0===v.indexOf("custom.")?R(v,this.options):this[v]},p.prototype.getZone=function(){var v=this.series,g=v.zones;v=v.zoneAxis||"y";var w,b=0;for(w=g[b];this[v]>=w.value;)w=g[++b];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=w&&w.color&&!this.options.color?w.color:this.nonZonedColor,w},p.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},p.prototype.init=function(v,g,w){return this.series=v,this.applyOptions(g,w),this.id=F(this.id)?this.id:u(),this.resolveColor(),v.chart.pointCount++,G(this,"afterInit"),this},p.prototype.optionsToObject=function(v){var g=this.series,w=g.options.keys,b=w||g.pointArrayMap||["y"],D=b.length,_={},f=0,C=0;if(Q(v)||null===v)_[b[0]]=v;else if($(v))for(!w&&v.length>D&&("string"==(g=typeof v[0])?_.name=v[0]:"number"===g&&(_.x=v[0]),f++);C<D;)w&&void 0===v[f]||(0<b[C].indexOf(".")?p.prototype.setNestedProperty(_,v[f],b[C]):_[b[C]]=v[f]),f++,C++;else"object"==typeof v&&(_=v,v.dataLabels&&(g._hasPointLabels=!0),v.marker&&(g._hasPointMarkers=!0));return _},p.prototype.resolveColor=function(){var v=this.series,g=v.chart.styledMode,w=v.chart.options.chart.colorCount;if(delete this.nonZonedColor,v.options.colorByPoint){if(!g){var b=(w=v.options.colors||v.chart.options.colors)[v.colorCounter];w=w.length}g=v.colorCounter,v.colorCounter++,v.colorCounter===w&&(v.colorCounter=0)}else g||(b=v.color),g=v.colorIndex;this.colorIndex=dt(this.options.colorIndex,g),this.color=dt(this.options.color,b)},p.prototype.setNestedProperty=function(v,g,w){return w.split(".").reduce(function(b,D,_,f){return b[D]=f.length-1===_?g:lt(b[D],!0)?b[D]:{},b[D]},v),v},p.prototype.tooltipFormatter=function(v){var g=this.series,w=g.tooltipOptions,b=dt(w.valueDecimals,""),D=w.valuePrefix||"",_=w.valueSuffix||"";return g.chart.styledMode&&(v=g.chart.tooltip.styledModeFormat(v)),(g.pointArrayMap||["y"]).forEach(function(f){f="{point."+f,(D||_)&&(v=v.replace(RegExp(f+"}","g"),D+f+"}"+_)),v=v.replace(RegExp(f+"}","g"),f+":,."+b+"f}")}),Y(v,{point:this,series:this.series},g.chart)},p.prototype.update=function(v,g,w,b){function D(){_.applyOptions(v);var st=C&&_.hasDummyGraphic;st=null===_.y?!st:st,C&&st&&(_.graphic=C.destroy(),delete _.hasDummyGraphic),lt(v,!0)&&(C&&C.element&&v&&v.marker&&void 0!==v.marker.symbol&&(_.graphic=C.destroy()),v&&v.dataLabels&&_.dataLabel&&(_.dataLabel=_.dataLabel.destroy()),_.connector&&(_.connector=_.connector.destroy())),f.updateParallelArrays(_,W=_.index),U.data[W]=lt(U.data[W],!0)||lt(v,!0)?_.options:dt(v,U.data[W]),f.isDirty=f.isDirtyData=!0,!f.fixedBox&&f.hasCartesianSeries&&(K.isDirtyBox=!0),"point"===U.legendType&&(K.isDirtyLegend=!0),g&&K.redraw(w)}var W,_=this,f=_.series,C=_.graphic,K=f.chart,U=f.options;g=dt(g,!0),!1===b?D():_.firePointEvent("update",{options:v},D)},p.prototype.remove=function(v,g){this.series.removePoint(this.series.data.indexOf(this),v,g)},p.prototype.select=function(v,g){var w=this,b=w.series,D=b.chart;this.selectedStaging=v=dt(v,!w.selected),w.firePointEvent(v?"select":"unselect",{accumulate:g},function(){w.selected=w.options.selected=v,b.options.data[b.data.indexOf(w)]=w.options,w.setState(v&&"select"),g||D.getSelectedPoints().forEach(function(_){var f=_.series;_.selected&&_!==w&&(_.selected=_.options.selected=!1,f.options.data[f.data.indexOf(_)]=_.options,_.setState(D.hoverPoints&&f.options.inactiveOtherPoints?"inactive":""),_.firePointEvent("unselect"))})}),delete this.selectedStaging},p.prototype.onMouseOver=function(v){var g=this.series.chart,w=g.pointer;v=v?w.normalize(v):w.getChartCoordinatesFromPoint(this,g.inverted),w.runPointActions(v,this)},p.prototype.onMouseOut=function(){var v=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(v.hoverPoints||[]).forEach(function(g){g.setState()}),v.hoverPoints=v.hoverPoint=null},p.prototype.importEvents=function(){if(!this.hasImportedEvents){var v=this,g=ht(v.series.options.point,v.options).events;v.events=g,mt(g,function(w,b){Z(w)&&T(v,b,w)}),this.hasImportedEvents=!0}},p.prototype.setState=function(v,g){var Ct,w=this.series,b=this.state,D=w.options.states[v||"normal"]||{},_=I.plotOptions[w.type].marker&&w.options.marker,C=_&&_.states&&_.states[v||"normal"]||{},U=this.marker||{},W=w.chart,st=_&&w.markerAttribs,ct=w.halo,kt=w.stateMarkerGraphic;if(!((v=v||"")===this.state&&!g||this.selected&&"select"!==v||!1===D.enabled||v&&(!1===C.enabled||_&&!1===_.enabled&&!1===C.enabled)||v&&U.states&&U.states[v]&&!1===U.states[v].enabled)){if(this.state=v,st&&(Ct=w.markerAttribs(this,v)),this.graphic&&!this.hasDummyGraphic){if(b&&this.graphic.removeClass("highcharts-point-"+b),v&&this.graphic.addClass("highcharts-point-"+v),!W.styledMode){var wt=w.pointAttribs(this,v),ut=dt(W.options.chart.animation,D.animation);w.options.inactiveOtherPoints&&Q(wt.opacity)&&((this.dataLabels||[]).forEach(function(Ot){Ot&&Ot.animate({opacity:wt.opacity},ut)}),this.connector&&this.connector.animate({opacity:wt.opacity},ut)),this.graphic.animate(wt,ut)}Ct&&this.graphic.animate(Ct,dt(W.options.chart.animation,C.animation,_.animation)),kt&&kt.hide()}else v&&C&&(b=U.symbol||w.symbol,kt&&kt.currentSymbol!==b&&(kt=kt.destroy()),Ct&&(kt?kt[g?"animate":"attr"]({x:Ct.x,y:Ct.y}):b&&(w.stateMarkerGraphic=kt=W.renderer.symbol(b,Ct.x,Ct.y,Ct.width,Ct.height).add(w.markerGroup),kt.currentSymbol=b)),!W.styledMode&&kt&&"inactive"!==this.state&&kt.attr(w.pointAttribs(this,v))),kt&&(kt[v&&this.isInside?"show":"hide"](),kt.element.point=this,kt.addClass(this.getClassName(),!0));Ct=(kt=this.graphic||kt)&&kt.visibility||"inherit",(D=D.halo)&&D.size&&kt&&"hidden"!==Ct&&!this.isCluster?(ct||(w.halo=ct=W.renderer.path().add(kt.parentGroup)),ct.show()[g?"animate":"attr"]({d:this.haloPath(D.size)}),ct.attr({class:"highcharts-halo highcharts-color-"+dt(this.colorIndex,w.colorIndex)+(this.className?" "+this.className:""),visibility:Ct,zIndex:-1}),ct.point=this,W.styledMode||ct.attr(V({fill:this.color||w.color,"fill-opacity":D.opacity},M.filterUserAttributes(D.attributes||{})))):ct&&ct.point&&ct.point.haloPath&&ct.animate({d:ct.point.haloPath(0)},null,ct.hide),G(this,"afterSetState",{state:v})}},p.prototype.haloPath=function(v){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-v,this.plotY-v,2*v,2*v)},p}()}),et(it,"Core/Pointer.js",[it["Core/Color/Color.js"],it["Core/Globals.js"],it["Core/Tooltip.js"],it["Core/Utilities.js"]],function(M,j,H,X){var z=M.parse,B=j.charts,I=j.noop,Y=X.addEvent,T=X.attr,F=X.css,O=X.defined,V=X.extend,G=X.find,R=X.fireEvent,$=X.isNumber,Z=X.isObject,Q=X.objectEach,lt=X.offset,ht=X.pick,mt=X.splat;return function(){function dt(gt,k){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=gt,this.hasDragged=!1,this.options=k,this.init(gt,k)}return dt.prototype.applyInactiveState=function(gt){var u,k=[];(gt||[]).forEach(function(p){k.push(u=p.series),u.linkedParent&&k.push(u.linkedParent),u.linkedSeries&&(k=k.concat(u.linkedSeries)),u.navigatorSeries&&k.push(u.navigatorSeries)}),this.chart.series.forEach(function(p){-1===k.indexOf(p)?p.setState("inactive",!0):p.options.inactiveOtherPoints&&p.setAllPointsToState("inactive")})},dt.prototype.destroy=function(){var gt=this;this.eventsToUnbind.forEach(function(k){return k()}),this.eventsToUnbind=[],j.chartCount||(dt.unbindDocumentMouseUp&&(dt.unbindDocumentMouseUp=dt.unbindDocumentMouseUp()),dt.unbindDocumentTouchEnd&&(dt.unbindDocumentTouchEnd=dt.unbindDocumentTouchEnd())),clearInterval(gt.tooltipTimeout),Q(gt,function(k,u){gt[u]=void 0})},dt.prototype.drag=function(gt){var k=this.chart,u=k.options.chart,p=this.zoomHor,v=this.zoomVert,g=k.plotLeft,w=k.plotTop,b=k.plotWidth,D=k.plotHeight,_=this.mouseDownX||0,f=this.mouseDownY||0,C=Z(u.panning)?u.panning&&u.panning.enabled:u.panning,K=u.panKey&&gt[u.panKey+"Key"],U=gt.chartX,W=gt.chartY,st=this.selectionMarker;if((!st||!st.touch)&&(U<g?U=g:U>g+b&&(U=g+b),W<w?W=w:W>w+D&&(W=w+D),this.hasDragged=Math.sqrt(Math.pow(_-U,2)+Math.pow(f-W,2)),10<this.hasDragged)){var ct=k.isInsidePlot(_-g,f-w,{visiblePlotOnly:!0});!k.hasCartesianSeries&&!k.mapView||!this.zoomX&&!this.zoomY||!ct||K||st||(this.selectionMarker=st=k.renderer.rect(g,w,p?1:b,v?1:D,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),k.styledMode||st.attr({fill:u.selectionMarkerFill||z("#335cad").setOpacity(.25).get()})),st&&p&&(p=U-_,st.attr({width:Math.abs(p),x:(0<p?0:p)+_})),st&&v&&(p=W-f,st.attr({height:Math.abs(p),y:(0<p?0:p)+f})),ct&&!st&&C&&k.pan(gt,u.panning)}},dt.prototype.dragStart=function(gt){var k=this.chart;k.mouseIsDown=gt.type,k.cancelClick=!1,k.mouseDownX=this.mouseDownX=gt.chartX,k.mouseDownY=this.mouseDownY=gt.chartY},dt.prototype.drop=function(gt){var k=this,u=this.chart,p=this.hasPinched;if(this.selectionMarker){var v=this.selectionMarker,g=v.attr?v.attr("x"):v.x,w=v.attr?v.attr("y"):v.y,b=v.attr?v.attr("width"):v.width,D=v.attr?v.attr("height"):v.height,_={originalEvent:gt,xAxis:[],yAxis:[],x:g,y:w,width:b,height:D},f=!!u.mapView;(this.hasDragged||p)&&(u.axes.forEach(function(C){if(C.zoomEnabled&&O(C.min)&&(p||k[{xAxis:"zoomX",yAxis:"zoomY"}[C.coll]])&&$(g)&&$(w)){var K=C.horiz,U="touchend"===gt.type?C.minPixelPadding:0,W=C.toValue((K?g:w)+U);K=C.toValue((K?g+b:w+D)-U),_[C.coll].push({axis:C,min:Math.min(W,K),max:Math.max(W,K)}),f=!0}}),f&&R(u,"selection",_,function(C){u.zoom(V(C,p?{animation:!1}:null))})),$(u.index)&&(this.selectionMarker=this.selectionMarker.destroy()),p&&this.scaleGroups()}u&&$(u.index)&&(F(u.container,{cursor:u._cursor}),u.cancelClick=10<this.hasDragged,u.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},dt.prototype.findNearestKDPoint=function(gt,k,u){var g,p=this.chart,v=p.hoverPoint;return p=p.tooltip,v&&p&&p.isStickyOnContact()?v:(gt.forEach(function(w){var b=!(w.noSharedTooltip&&k)&&0>w.options.findNearestPointBy.indexOf("y");if(w=w.searchPoint(u,b),(b=Z(w,!0)&&w.series)&&!(b=!Z(g,!0))){var D=g.dist-w.dist,_=(w.series.group&&w.series.group.zIndex)-(g.series.group&&g.series.group.zIndex);b=0<(0!=(b=g.distX-w.distX)&&k?b:0!==D?D:0!==_?_:g.series.index>w.series.index?-1:1)}b&&(g=w)}),g)},dt.prototype.getChartCoordinatesFromPoint=function(gt,k){var u=gt.series,p=u.xAxis;u=u.yAxis;var v=gt.shapeArgs;if(p&&u){var g=ht(gt.clientX,gt.plotX),w=gt.plotY||0;return gt.isNode&&v&&$(v.x)&&$(v.y)&&(g=v.x,w=v.y),k?{chartX:u.len+u.pos-w,chartY:p.len+p.pos-g}:{chartX:g+p.pos,chartY:w+u.pos}}if(v&&v.x&&v.y)return{chartX:v.x,chartY:v.y}},dt.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var gt=this.chart.container,k=lt(gt);this.chartPosition={left:k.left,top:k.top,scaleX:1,scaleY:1};var u=gt.offsetWidth;return gt=gt.offsetHeight,2<u&&2<gt&&(this.chartPosition.scaleX=k.width/u,this.chartPosition.scaleY=k.height/gt),this.chartPosition},dt.prototype.getCoordinates=function(gt){var k={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(u){k[u.isXAxis?"xAxis":"yAxis"].push({axis:u,value:u.toValue(gt[u.horiz?"chartX":"chartY"])})}),k},dt.prototype.getHoverData=function(gt,k,u,p,v,g){var w=[];p=!(!p||!gt);var b={chartX:g?g.chartX:void 0,chartY:g?g.chartY:void 0,shared:v};R(this,"beforeGetHoverData",b);var D=k&&!k.stickyTracking?[k]:u.filter(function(f){return b.filter?b.filter(f):f.visible&&!(!v&&f.directTouch)&&ht(f.options.enableMouseTracking,!0)&&f.stickyTracking}),_=p||!g?gt:this.findNearestKDPoint(D,v,g);return k=_&&_.series,_&&(v&&!k.noSharedTooltip?(D=u.filter(function(f){return b.filter?b.filter(f):f.visible&&!(!v&&f.directTouch)&&ht(f.options.enableMouseTracking,!0)&&!f.noSharedTooltip})).forEach(function(f){var C=G(f.points,function(K){return K.x===_.x&&!K.isNull});Z(C)&&(f.chart.isBoosting&&(C=f.getPoint(C)),w.push(C))}):w.push(_)),R(this,"afterGetHoverData",b={hoverPoint:_}),{hoverPoint:b.hoverPoint,hoverSeries:k,hoverPoints:w}},dt.prototype.getPointFromEvent=function(gt){gt=gt.target;for(var k;gt&&!k;)k=gt.point,gt=gt.parentNode;return k},dt.prototype.onTrackerMouseOut=function(gt){gt=gt.relatedTarget||gt.toElement;var k=this.chart.hoverSeries;this.isDirectTouch=!1,!k||!gt||k.stickyTracking||this.inClass(gt,"highcharts-tooltip")||this.inClass(gt,"highcharts-series-"+k.index)&&this.inClass(gt,"highcharts-tracker")||k.onMouseOut()},dt.prototype.inClass=function(gt,k){for(var u;gt;){if(u=T(gt,"class")){if(-1!==u.indexOf(k))return!0;if(-1!==u.indexOf("highcharts-container"))return!1}gt=gt.parentNode}},dt.prototype.init=function(gt,k){this.options=k,this.chart=gt,this.runChartClick=!(!k.chart.events||!k.chart.events.click),this.pinchDown=[],this.lastValidTouch={},H&&(gt.tooltip=new H(gt,k.tooltip),this.followTouchMove=ht(k.tooltip.followTouchMove,!0)),this.setDOMEvents()},dt.prototype.normalize=function(gt,k){var u=gt.touches,p=u?u.length?u.item(0):ht(u.changedTouches,gt.changedTouches)[0]:gt;return k||(k=this.getChartPosition()),u=p.pageX-k.left,p=p.pageY-k.top,u/=k.scaleX,p/=k.scaleY,V(gt,{chartX:Math.round(u),chartY:Math.round(p)})},dt.prototype.onContainerClick=function(gt){var k=this.chart,u=k.hoverPoint;gt=this.normalize(gt);var p=k.plotLeft,v=k.plotTop;k.cancelClick||(u&&this.inClass(gt.target,"highcharts-tracker")?(R(u.series,"click",V(gt,{point:u})),k.hoverPoint&&u.firePointEvent("click",gt)):(V(gt,this.getCoordinates(gt)),k.isInsidePlot(gt.chartX-p,gt.chartY-v,{visiblePlotOnly:!0})&&R(k,"click",gt)))},dt.prototype.onContainerMouseDown=function(gt){var k=1==(1&(gt.buttons||gt.button));gt=this.normalize(gt),j.isFirefox&&0!==gt.button&&this.onContainerMouseMove(gt),(void 0===gt.button||k)&&(this.zoomOption(gt),k&&gt.preventDefault&&gt.preventDefault(),this.dragStart(gt))},dt.prototype.onContainerMouseLeave=function(gt){var k=B[ht(dt.hoverChartIndex,-1)],u=this.chart.tooltip;u&&u.shouldStickOnContact()&&this.inClass(gt.relatedTarget,"highcharts-tooltip-container")||(gt=this.normalize(gt),k&&(gt.relatedTarget||gt.toElement)&&(k.pointer.reset(),k.pointer.chartPosition=void 0),u&&!u.isHidden&&this.reset())},dt.prototype.onContainerMouseEnter=function(gt){delete this.chartPosition},dt.prototype.onContainerMouseMove=function(gt){var k=this.chart;gt=this.normalize(gt),this.setHoverChartIndex(),gt.preventDefault||(gt.returnValue=!1),("mousedown"===k.mouseIsDown||this.touchSelect(gt))&&this.drag(gt),k.openMenu||!this.inClass(gt.target,"highcharts-tracker")&&!k.isInsidePlot(gt.chartX-k.plotLeft,gt.chartY-k.plotTop,{visiblePlotOnly:!0})||(this.inClass(gt.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(gt))},dt.prototype.onDocumentTouchEnd=function(gt){var k=B[ht(dt.hoverChartIndex,-1)];k&&k.pointer.drop(gt)},dt.prototype.onContainerTouchMove=function(gt){this.touchSelect(gt)?this.onContainerMouseMove(gt):this.touch(gt)},dt.prototype.onContainerTouchStart=function(gt){this.touchSelect(gt)?this.onContainerMouseDown(gt):(this.zoomOption(gt),this.touch(gt,!0))},dt.prototype.onDocumentMouseMove=function(gt){var k=this.chart,u=this.chartPosition;gt=this.normalize(gt,u);var p=k.tooltip;!u||p&&p.isStickyOnContact()||k.isInsidePlot(gt.chartX-k.plotLeft,gt.chartY-k.plotTop,{visiblePlotOnly:!0})||this.inClass(gt.target,"highcharts-tracker")||this.reset()},dt.prototype.onDocumentMouseUp=function(gt){var k=B[ht(dt.hoverChartIndex,-1)];k&&k.pointer.drop(gt)},dt.prototype.pinch=function(gt){var k=this,u=k.chart,p=k.pinchDown,v=gt.touches||[],g=v.length,w=k.lastValidTouch,b=k.hasZoom,D={},_=1===g&&(k.inClass(gt.target,"highcharts-tracker")&&u.runTrackerClick||k.runChartClick),f={},C=k.selectionMarker;1<g?k.initiated=!0:1===g&&this.followTouchMove&&(k.initiated=!1),b&&k.initiated&&!_&&!1!==gt.cancelable&&gt.preventDefault(),[].map.call(v,function(K){return k.normalize(K)}),"touchstart"===gt.type?([].forEach.call(v,function(K,U){p[U]={chartX:K.chartX,chartY:K.chartY}}),w.x=[p[0].chartX,p[1]&&p[1].chartX],w.y=[p[0].chartY,p[1]&&p[1].chartY],u.axes.forEach(function(K){if(K.zoomEnabled){var U=u.bounds[K.horiz?"h":"v"],W=K.minPixelPadding,st=K.toPixels(Math.min(ht(K.options.min,K.dataMin),K.dataMin)),ct=K.toPixels(Math.max(ht(K.options.max,K.dataMax),K.dataMax)),Ct=Math.max(st,ct);U.min=Math.min(K.pos,Math.min(st,ct)-W),U.max=Math.max(K.pos+K.len,Ct+W)}}),k.res=!0):k.followTouchMove&&1===g?this.runPointActions(k.normalize(gt)):p.length&&(R(u,"touchpan",{originalEvent:gt},function(){C||(k.selectionMarker=C=V({destroy:I,touch:!0},u.plotBox)),k.pinchTranslate(p,v,D,C,f,w),k.hasPinched=b,k.scaleGroups(D,f)}),k.res&&(k.res=!1,this.reset(!1,0)))},dt.prototype.pinchTranslate=function(gt,k,u,p,v,g){this.zoomHor&&this.pinchTranslateDirection(!0,gt,k,u,p,v,g),this.zoomVert&&this.pinchTranslateDirection(!1,gt,k,u,p,v,g)},dt.prototype.pinchTranslateDirection=function(gt,k,u,p,v,g,w,b){var D=this.chart,_=gt?"x":"y",f=gt?"X":"Y",C="chart"+f,K=gt?"width":"height",U=D["plot"+(gt?"Left":"Top")],W=D.inverted,st=D.bounds[gt?"h":"v"],ct=1===k.length,Ct=k[0][C],kt=!ct&&k[1][C];k=function(){"number"==typeof pt&&20<Math.abs(Ct-kt)&&(Ot=b||Math.abs(bt-pt)/Math.abs(Ct-kt)),ut=(U-bt)/Ot+Ct,wt=D["plot"+(gt?"Width":"Height")]/Ot};var wt,ut,Ot=b||1,bt=u[0][C],pt=!ct&&u[1][C];if(k(),(u=ut)<st.min){u=st.min;var Dt=!0}else u+wt>st.max&&(u=st.max-wt,Dt=!0);Dt?(bt-=.8*(bt-w[_][0]),"number"==typeof pt&&(pt-=.8*(pt-w[_][1])),k()):w[_]=[bt,pt],W||(g[_]=ut-U,g[K]=wt),g=W?1/Ot:Ot,v[K]=wt,v[_]=u,p[W?gt?"scaleY":"scaleX":"scale"+f]=Ot,p["translate"+f]=g*U+(bt-g*Ct)},dt.prototype.reset=function(gt,k){var u=this.chart,p=u.hoverSeries,v=u.hoverPoint,g=u.hoverPoints,w=u.tooltip,b=w&&w.shared?g:v;gt&&b&&mt(b).forEach(function(D){D.series.isCartesian&&void 0===D.plotX&&(gt=!1)}),gt?w&&b&&mt(b).length&&(w.refresh(b),w.shared&&g?g.forEach(function(D){D.setState(D.state,!0),D.series.isCartesian&&(D.series.xAxis.crosshair&&D.series.xAxis.drawCrosshair(null,D),D.series.yAxis.crosshair&&D.series.yAxis.drawCrosshair(null,D))}):v&&(v.setState(v.state,!0),u.axes.forEach(function(D){D.crosshair&&v.series[D.coll]===D&&D.drawCrosshair(null,v)}))):(v&&v.onMouseOut(),g&&g.forEach(function(D){D.setState()}),p&&p.onMouseOut(),w&&w.hide(k),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),u.axes.forEach(function(D){D.hideCrosshair()}),this.hoverX=u.hoverPoints=u.hoverPoint=null)},dt.prototype.runPointActions=function(gt,k){var u=this.chart,p=u.tooltip&&u.tooltip.options.enabled?u.tooltip:void 0,v=!!p&&p.shared,g=k||u.hoverPoint,w=g&&g.series||u.hoverSeries;g=(k=this.getHoverData(g,w,u.series,(!gt||"touchmove"!==gt.type)&&(!!k||w&&w.directTouch&&this.isDirectTouch),v,gt)).hoverPoint;var b=k.hoverPoints;if(k=(w=k.hoverSeries)&&w.tooltipOptions.followPointer&&!w.tooltipOptions.split,v=v&&w&&!w.noSharedTooltip,g&&(g!==u.hoverPoint||p&&p.isHidden)){if((u.hoverPoints||[]).forEach(function(D){-1===b.indexOf(D)&&D.setState()}),u.hoverSeries!==w&&w.onMouseOver(),this.applyInactiveState(b),(b||[]).forEach(function(D){D.setState("hover")}),u.hoverPoint&&u.hoverPoint.firePointEvent("mouseOut"),!g.series)return;u.hoverPoints=b,u.hoverPoint=g,g.firePointEvent("mouseOver"),p&&p.refresh(v?b:g,gt)}else k&&p&&!p.isHidden&&(g=p.getAnchor([{}],gt),u.isInsidePlot(g[0],g[1],{visiblePlotOnly:!0})&&p.updatePosition({plotX:g[0],plotY:g[1]}));this.unDocMouseMove||(this.unDocMouseMove=Y(u.container.ownerDocument,"mousemove",function(D){var _=B[dt.hoverChartIndex];_&&_.pointer.onDocumentMouseMove(D)}),this.eventsToUnbind.push(this.unDocMouseMove)),u.axes.forEach(function(D){var f,_=ht((D.crosshair||{}).snap,!0);_&&((f=u.hoverPoint)&&f.series[D.coll]===D||(f=G(b,function(C){return C.series[D.coll]===D}))),f||!_?D.drawCrosshair(gt,f):D.hideCrosshair()})},dt.prototype.scaleGroups=function(gt,k){var u=this.chart;u.series.forEach(function(p){var v=gt||p.getPlotBox();p.group&&(p.xAxis&&p.xAxis.zoomEnabled||u.mapView)&&(p.group.attr(v),p.markerGroup&&(p.markerGroup.attr(v),p.markerGroup.clip(k?u.clipRect:null)),p.dataLabelsGroup&&p.dataLabelsGroup.attr(v))}),u.clipRect.attr(k||u.clipBox)},dt.prototype.setDOMEvents=function(){var gt=this,k=this.chart.container,u=k.ownerDocument;k.onmousedown=this.onContainerMouseDown.bind(this),k.onmousemove=this.onContainerMouseMove.bind(this),k.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Y(k,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(Y(k,"mouseleave",this.onContainerMouseLeave.bind(this))),dt.unbindDocumentMouseUp||(dt.unbindDocumentMouseUp=Y(u,"mouseup",this.onDocumentMouseUp.bind(this)));for(var p=this.chart.renderTo.parentElement;p&&"BODY"!==p.tagName;)this.eventsToUnbind.push(Y(p,"scroll",function(){delete gt.chartPosition})),p=p.parentElement;j.hasTouch&&(this.eventsToUnbind.push(Y(k,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(Y(k,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),dt.unbindDocumentTouchEnd||(dt.unbindDocumentTouchEnd=Y(u,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},dt.prototype.setHoverChartIndex=function(){var gt=this.chart,k=j.charts[ht(dt.hoverChartIndex,-1)];k&&k!==gt&&k.pointer.onContainerMouseLeave({relatedTarget:!0}),k&&k.mouseIsDown||(dt.hoverChartIndex=gt.index)},dt.prototype.touch=function(gt,k){var u=this.chart;if(this.setHoverChartIndex(),1===gt.touches.length)if(gt=this.normalize(gt),u.isInsidePlot(gt.chartX-u.plotLeft,gt.chartY-u.plotTop,{visiblePlotOnly:!0})&&!u.openMenu){if(k&&this.runPointActions(gt),"touchmove"===gt.type)var v=!!(k=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(k[0].chartX-gt.chartX,2)+Math.pow(k[0].chartY-gt.chartY,2));ht(v,!0)&&this.pinch(gt)}else k&&this.reset();else 2===gt.touches.length&&this.pinch(gt)},dt.prototype.touchSelect=function(gt){return!(!this.chart.options.chart.zoomBySingleTouch||!gt.touches||1!==gt.touches.length)},dt.prototype.zoomOption=function(gt){var k=this.chart,u=k.options.chart;k=k.inverted;var p=u.zoomType||"";/touch/.test(gt.type)&&(p=ht(u.pinchType,p)),this.zoomX=gt=/x/.test(p),this.zoomY=u=/y/.test(p),this.zoomHor=gt&&!k||u&&k,this.zoomVert=u&&!k||gt&&k,this.hasZoom=gt||u},dt}()}),et(it,"Core/MSPointer.js",[it["Core/Globals.js"],it["Core/Pointer.js"],it["Core/Utilities.js"]],function(M,j,H){function X(){var Q=[];return Q.item=function(lt){return this[lt]},G($,function(lt){Q.push({pageX:lt.pageX,pageY:lt.pageY,target:lt.target})}),Q}function z(Q,lt,ht,mt){var dt=I[j.hoverChartIndex||NaN];"touch"!==Q.pointerType&&Q.pointerType!==Q.MSPOINTER_TYPE_TOUCH||!dt||(dt=dt.pointer,mt(Q),dt[lt]({type:ht,target:Q.currentTarget,preventDefault:T,touches:X()}))}var Q,B=this&&this.__extends||(Q=function(lt,ht){return(Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(mt,dt){mt.__proto__=dt}||function(mt,dt){for(var gt in dt)dt.hasOwnProperty(gt)&&(mt[gt]=dt[gt])})(lt,ht)},function(lt,ht){function mt(){this.constructor=lt}Q(lt,ht),lt.prototype=null===ht?Object.create(ht):(mt.prototype=ht.prototype,new mt)}),I=M.charts,Y=M.doc,T=M.noop,F=M.win,O=H.addEvent,V=H.css,G=H.objectEach,R=H.removeEvent,$={},Z=!!F.PointerEvent;return function(Q){function lt(){return null!==Q&&Q.apply(this,arguments)||this}return B(lt,Q),lt.isRequired=function(){return!(M.hasTouch||!F.PointerEvent&&!F.MSPointerEvent)},lt.prototype.batchMSEvents=function(ht){ht(this.chart.container,Z?"pointerdown":"MSPointerDown",this.onContainerPointerDown),ht(this.chart.container,Z?"pointermove":"MSPointerMove",this.onContainerPointerMove),ht(Y,Z?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},lt.prototype.destroy=function(){this.batchMSEvents(R),Q.prototype.destroy.call(this)},lt.prototype.init=function(ht,mt){Q.prototype.init.call(this,ht,mt),this.hasZoom&&V(ht.container,{"-ms-touch-action":"none","touch-action":"none"})},lt.prototype.onContainerPointerDown=function(ht){z(ht,"onContainerTouchStart","touchstart",function(mt){$[mt.pointerId]={pageX:mt.pageX,pageY:mt.pageY,target:mt.currentTarget}})},lt.prototype.onContainerPointerMove=function(ht){z(ht,"onContainerTouchMove","touchmove",function(mt){$[mt.pointerId]={pageX:mt.pageX,pageY:mt.pageY},$[mt.pointerId].target||($[mt.pointerId].target=mt.currentTarget)})},lt.prototype.onDocumentPointerUp=function(ht){z(ht,"onDocumentTouchEnd","touchend",function(mt){delete $[mt.pointerId]})},lt.prototype.setDOMEvents=function(){Q.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(O)},lt}(j)}),et(it,"Core/Legend/Legend.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/FormatUtilities.js"],it["Core/Globals.js"],it["Core/Series/Point.js"],it["Core/Renderer/RendererUtilities.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B){var I=M.animObject,Y=M.setAnimation,T=j.format;M=H.isFirefox;var F=H.marginNames;H=H.win;var O=z.distribute,V=B.addEvent,G=B.createElement,R=B.css,$=B.defined,Z=B.discardElement,Q=B.find,lt=B.fireEvent,ht=B.isNumber,mt=B.merge,dt=B.pick,gt=B.relativeLength,k=B.stableSort,u=B.syncTimeout;return z=B.wrap,B=function(){function p(v,g){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=v,this.init(v,g)}return p.prototype.init=function(v,g){this.chart=v,this.setOptions(g),g.enabled&&(this.render(),V(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=V(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},p.prototype.setOptions=function(v){var g=dt(v.padding,8);this.options=v,this.chart.styledMode||(this.itemStyle=v.itemStyle,this.itemHiddenStyle=mt(this.itemStyle,v.itemHiddenStyle)),this.itemMarginTop=v.itemMarginTop||0,this.itemMarginBottom=v.itemMarginBottom||0,this.padding=g,this.initialItemY=g-5,this.symbolWidth=dt(v.symbolWidth,16),this.pages=[],this.proximate="proximate"===v.layout&&!this.chart.inverted,this.baseline=void 0},p.prototype.update=function(v,g){var w=this.chart;this.setOptions(mt(!0,this.options,v)),this.destroy(),w.isDirtyLegend=w.isDirtyBox=!0,dt(g,!0)&&w.redraw(),lt(this,"afterUpdate")},p.prototype.colorizeItem=function(v,g){if(v.legendGroup[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var w=this.options,b=v.legendItem,D=v.legendLine,_=v.legendSymbol,f=this.itemHiddenStyle.color;w=g?w.itemStyle.color:f;var C=g&&v.color||f,K=v.options&&v.options.marker,U={fill:C};b&&b.css({fill:w,color:w}),D&&D.attr({stroke:C}),_&&(K&&_.isMarker&&(U=v.pointAttribs(),g||(U.stroke=U.fill=f)),_.attr(U))}lt(this,"afterColorizeItem",{item:v,visible:g})},p.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},p.prototype.positionItem=function(v){var g=this,w=this.options,b=w.symbolPadding,D=!w.rtl,_=v._legendItemPos;w=_[0],_=_[1];var f=v.checkbox,C=v.legendGroup;C&&C.element&&(b={translateX:D?w:this.legendWidth-w-2*b-4,translateY:_},D=function(){lt(g,"afterPositionItem",{item:v})},$(C.translateY)?C.animate(b,void 0,D):(C.attr(b),D())),f&&(f.x=w,f.y=_)},p.prototype.destroyItem=function(v){var g=v.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(w){v[w]&&(v[w]=v[w].destroy())}),g&&Z(v.checkbox)},p.prototype.destroy=function(){function v(g){this[g]&&(this[g]=this[g].destroy())}this.getAllItems().forEach(function(g){["legendItem","legendGroup"].forEach(v,g)}),"clipRect up down pager nav box title group".split(" ").forEach(v,this),this.display=null},p.prototype.positionCheckboxes=function(){var v=this.group&&this.group.alignAttr,g=this.clipHeight||this.legendHeight,w=this.titleHeight;if(v){var b=v.translateY;this.allItems.forEach(function(D){var _=D.checkbox;if(_){var f=b+w+_.y+(this.scrollOffset||0)+3;R(_,{left:v.translateX+D.checkboxOffset+_.x-20+"px",top:f+"px",display:this.proximate||f>b-6&&f<b+g-6?"":"none"})}},this)}},p.prototype.renderTitle=function(){var v=this.options,g=this.padding,w=v.title,b=0;w.text&&(this.title||(this.title=this.chart.renderer.label(w.text,g-3,g-4,null,null,null,v.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(w.style),this.title.add(this.group)),w.width||this.title.css({width:this.maxLegendWidth+"px"}),b=(v=this.title.getBBox()).height,this.offsetWidth=v.width,this.contentGroup.attr({translateY:b})),this.titleHeight=b},p.prototype.setText=function(v){var g=this.options;v.legendItem.attr({text:g.labelFormat?T(g.labelFormat,v,this.chart):g.labelFormatter.call(v)})},p.prototype.renderItem=function(v){var g=this.chart,w=g.renderer,b=this.options,D=this.symbolWidth,_=b.symbolPadding||0,f=this.itemStyle,C=this.itemHiddenStyle,K="horizontal"===b.layout?dt(b.itemDistance,20):0,U=!b.rtl,W=!v.series,st=!W&&v.series.drawLegendSymbol?v.series:v,ct=st.options,Ct=this.createCheckboxForItem&&ct&&ct.showCheckbox,kt=b.useHTML,wt=v.options.className,ut=v.legendItem;ct=D+_+K+(Ct?20:0),ut||(v.legendGroup=w.g("legend-item").addClass("highcharts-"+st.type+"-series highcharts-color-"+v.colorIndex+(wt?" "+wt:"")+(W?" highcharts-series-"+v.index:"")).attr({zIndex:1}).add(this.scrollGroup),v.legendItem=ut=w.text("",U?D+_:-_,this.baseline||0,kt),g.styledMode||ut.css(mt(v.visible?f:C)),ut.attr({align:U?"left":"right",zIndex:2}).add(v.legendGroup),this.baseline||(this.fontMetrics=w.fontMetrics(g.styledMode?12:f.fontSize,ut),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,ut.attr("y",this.baseline),this.symbolHeight=b.symbolHeight||this.fontMetrics.f,b.squareSymbol&&(this.symbolWidth=dt(b.symbolWidth,Math.max(this.symbolHeight,16)),ct=this.symbolWidth+_+K+(Ct?20:0),U&&ut.attr("x",this.symbolWidth+_))),st.drawLegendSymbol(this,v),this.setItemEvents&&this.setItemEvents(v,ut,kt)),Ct&&!v.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(v),this.colorizeItem(v,v.visible),!g.styledMode&&f.width||ut.css({width:(b.itemWidth||this.widthOption||g.spacingBox.width)-ct+"px"}),this.setText(v),g=ut.getBBox(),v.itemWidth=v.checkboxOffset=b.itemWidth||v.legendItemWidth||g.width+ct,this.maxItemWidth=Math.max(this.maxItemWidth,v.itemWidth),this.totalItemWidth+=v.itemWidth,this.itemHeight=v.itemHeight=Math.round(v.legendItemHeight||g.height||this.symbolHeight)},p.prototype.layoutItem=function(v){var g=this.options,w=this.padding,b="horizontal"===g.layout,D=v.itemHeight,_=this.itemMarginBottom,f=this.itemMarginTop,C=b?dt(g.itemDistance,20):0,K=this.maxLegendWidth;g=g.alignColumns&&this.totalItemWidth>K?this.maxItemWidth:v.itemWidth,b&&this.itemX-w+g>K&&(this.itemX=w,this.lastLineHeight&&(this.itemY+=f+this.lastLineHeight+_),this.lastLineHeight=0),this.lastItemY=f+this.itemY+_,this.lastLineHeight=Math.max(D,this.lastLineHeight),v._legendItemPos=[this.itemX,this.itemY],b?this.itemX+=g:(this.itemY+=f+D+_,this.lastLineHeight=D),this.offsetWidth=this.widthOption||Math.max((b?this.itemX-w-(v.checkbox?0:C):g)+w,this.offsetWidth)},p.prototype.getAllItems=function(){var v=[];return this.chart.series.forEach(function(g){var w=g&&g.options;g&&dt(w.showInLegend,!$(w.linkedTo)&&void 0,!0)&&(v=v.concat(g.legendItems||("point"===w.legendType?g.data:g)))}),lt(this,"afterGetAllItems",{allItems:v}),v},p.prototype.getAlignment=function(){var v=this.options;return this.proximate?v.align.charAt(0)+"tv":v.floating?"":v.align.charAt(0)+v.verticalAlign.charAt(0)+v.layout.charAt(0)},p.prototype.adjustMargins=function(v,g){var w=this.chart,b=this.options,D=this.getAlignment();D&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(_,f){_.test(D)&&!$(v[f])&&(w[F[f]]=Math.max(w[F[f]],w.legend[(f+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][f]*b[f%2?"x":"y"]+dt(b.margin,12)+g[f]+(w.titleOffset[f]||0)))})},p.prototype.proximatePositions=function(){var v=this.chart,g=[],w="left"===this.options.align;this.allItems.forEach(function(b){var D,_=w;if(b.yAxis){b.xAxis.options.reversed&&(_=!_),b.points&&(D=Q(_?b.points:b.points.slice(0).reverse(),function(C){return ht(C.plotY)})),_=this.itemMarginTop+b.legendItem.getBBox().height+this.itemMarginBottom;var f=b.yAxis.top-v.plotTop;b.visible?(D=D?D.plotY:b.yAxis.height,D+=f-.3*_):D=f+b.yAxis.height,g.push({target:D,size:_,item:b})}},this),O(g,v.plotHeight).forEach(function(b){b.item._legendItemPos&&(b.item._legendItemPos[1]=v.plotTop-v.spacing[0]+b.pos)})},p.prototype.render=function(){var v=this.chart,g=v.renderer,w=this.options,b=this.padding,D=this.getAllItems(),_=this.group,f=this.box;this.itemX=b,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=gt(w.width,v.spacingBox.width-b);var C=v.spacingBox.width-2*b-w.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(C/=2),this.maxLegendWidth=this.widthOption||C,_||(this.group=_=g.g("legend").addClass(w.className||"").attr({zIndex:7}).add(),this.contentGroup=g.g().attr({zIndex:1}).add(_),this.scrollGroup=g.g().add(this.contentGroup)),this.renderTitle(),k(D,function(U,W){return(U.options&&U.options.legendIndex||0)-(W.options&&W.options.legendIndex||0)}),w.reversed&&D.reverse(),this.allItems=D,this.display=C=!!D.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,D.forEach(this.renderItem,this),D.forEach(this.layoutItem,this),D=(this.widthOption||this.offsetWidth)+b;var K=this.lastItemY+this.lastLineHeight+this.titleHeight;K=this.handleOverflow(K),K+=b,f||(this.box=f=g.rect().addClass("highcharts-legend-box").attr({r:w.borderRadius}).add(_),f.isNew=!0),v.styledMode||f.attr({stroke:w.borderColor,"stroke-width":w.borderWidth||0,fill:w.backgroundColor||"none"}).shadow(w.shadow),0<D&&0<K&&(f[f.isNew?"attr":"animate"](f.crisp.call({},{x:0,y:0,width:D,height:K},f.strokeWidth())),f.isNew=!1),f[C?"show":"hide"](),v.styledMode&&"none"===_.getStyle("display")&&(D=K=0),this.legendWidth=D,this.legendHeight=K,C&&this.align(),this.proximate||this.positionItems(),lt(this,"afterRender")},p.prototype.align=function(v){void 0===v&&(v=this.chart.spacingBox);var g=this.chart,w=this.options,b=v.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<g.titleOffset[0]?b+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<g.titleOffset[2]&&(b-=g.titleOffset[2]),b!==v.y&&(v=mt(v,{y:b})),this.group.align(mt(w,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":w.verticalAlign}),!0,v)},p.prototype.handleOverflow=function(v){var ut,Ot,g=this,w=this.chart,b=w.renderer,D=this.options,_=D.y,f="top"===D.verticalAlign,C=this.padding,K=D.maxHeight,U=D.navigation,W=dt(U.animation,!0),st=U.arrowSize||12,ct=this.pages,Ct=this.allItems,kt=function(Dt){"number"==typeof Dt?pt.attr({height:Dt}):pt&&(g.clipRect=pt.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=Dt?"rect("+C+"px,9999px,"+(C+Dt)+"px,0)":"auto")},wt=function(Dt){return g[Dt]=b.circle(0,0,1.3*st).translate(st/2,st/2).add(bt),w.styledMode||g[Dt].attr("fill","rgba(0,0,0,0.0001)"),g[Dt]};_=w.spacingBox.height+(f?-_:_)-C;var bt=this.nav,pt=this.clipRect;return"horizontal"!==D.layout||"middle"===D.verticalAlign||D.floating||(_/=2),K&&(_=Math.min(_,K)),ct.length=0,v&&0<_&&v>_&&!1!==U.enabled?(this.clipHeight=ut=Math.max(_-20-this.titleHeight-C,0),this.currentPage=dt(this.currentPage,1),this.fullHeight=v,Ct.forEach(function(Dt,Rt){var St=Dt._legendItemPos[1],te=Math.round(Dt.legendItem.getBBox().height),At=ct.length;(!At||St-ct[At-1]>ut&&(Ot||St)!==ct[At-1])&&(ct.push(Ot||St),At++),Dt.pageIx=At-1,Ot&&(Ct[Rt-1].pageIx=At-1),Rt===Ct.length-1&&St+te-ct[At-1]>ut&&te<=ut&&(ct.push(St),Dt.pageIx=At),St!==Ot&&(Ot=St)}),pt||(pt=g.clipRect=b.clipRect(0,C,9999,0),g.contentGroup.clip(pt)),kt(ut),bt||(this.nav=bt=b.g().attr({zIndex:1}).add(this.group),this.up=b.symbol("triangle",0,0,st,st).add(bt),wt("upTracker").on("click",function(){g.scroll(-1,W)}),this.pager=b.text("",15,10).addClass("highcharts-legend-navigation"),w.styledMode||this.pager.css(U.style),this.pager.add(bt),this.down=b.symbol("triangle-down",0,0,st,st).add(bt),wt("downTracker").on("click",function(){g.scroll(1,W)})),g.scroll(0),v=_):bt&&(kt(),this.nav=bt.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),v},p.prototype.scroll=function(v,g){var w=this,b=this.chart,D=this.pages,_=D.length,f=this.clipHeight,C=this.options.navigation,K=this.pager,U=this.padding,W=this.currentPage+v;W>_&&(W=_),0<W&&(void 0!==g&&Y(g,b),this.nav.attr({translateX:U,translateY:f+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(st){st.attr({class:1===W?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),K.attr({text:W+"/"+_}),[this.down,this.downTracker].forEach(function(st){st.attr({x:18+this.pager.getBBox().width,class:W===_?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),b.styledMode||(this.up.attr({fill:1===W?C.inactiveColor:C.activeColor}),this.upTracker.css({cursor:1===W?"default":"pointer"}),this.down.attr({fill:W===_?C.inactiveColor:C.activeColor}),this.downTracker.css({cursor:W===_?"default":"pointer"})),this.scrollOffset=-D[W-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=W,this.positionCheckboxes(),v=I(dt(g,b.renderer.globalAnimation,!0)),u(function(){lt(w,"afterScroll",{currentPage:W})},v.duration))},p.prototype.setItemEvents=function(v,g,w){var b=this,D=b.chart.renderer.boxWrapper,_=v instanceof X,f="highcharts-legend-"+(_?"point":"series")+"-active",C=b.chart.styledMode,K=function(U){b.allItems.forEach(function(W){v!==W&&[W].concat(W.linkedSeries||[]).forEach(function(st){st.setState(U,!_)})})};(w?[g,v.legendSymbol]:[v.legendGroup]).forEach(function(U){U&&U.on("mouseover",function(){v.visible&&K("inactive"),v.setState("hover"),v.visible&&D.addClass(f),C||g.css(b.options.itemHoverStyle)}).on("mouseout",function(){b.chart.styledMode||g.css(mt(v.visible?b.itemStyle:b.itemHiddenStyle)),K(""),D.removeClass(f),v.setState()}).on("click",function(W){var st=function(){v.setVisible&&v.setVisible(),K(v.visible?"inactive":"")};D.removeClass(f),W={browserEvent:W},v.firePointEvent?v.firePointEvent("legendItemClick",W,st):lt(v,"legendItemClick",W,st)})})},p.prototype.createCheckboxForItem=function(v){v.checkbox=G("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:v.selected,defaultChecked:v.selected},this.options.itemCheckboxStyle,this.chart.container),V(v.checkbox,"click",function(g){lt(v.series||v,"checkboxClick",{checked:g.target.checked,item:v},function(){v.select()})})},p}(),(/Trident\/7\.0/.test(H.navigator&&H.navigator.userAgent)||M)&&z(B.prototype,"positionItem",function(p,v){var g=this,w=function(){v._legendItemPos&&p.call(g,v)};w(),g.bubbleLegend||setTimeout(w)}),B}),et(it,"Core/Series/SeriesRegistry.js",[it["Core/Globals.js"],it["Core/DefaultOptions.js"],it["Core/Series/Point.js"],it["Core/Utilities.js"]],function(M,j,H,X){var T,z=j.defaultOptions,B=X.error,I=X.extendClass,Y=X.merge;return function(F){function O(V,G){var R=z.plotOptions||{},$=G.defaultOptions;G.prototype.pointClass||(G.prototype.pointClass=H),G.prototype.type=V,$&&(R[V]=$),F.seriesTypes[V]=G}F.seriesTypes=M.seriesTypes,F.getSeries=function(V,G){void 0===G&&(G={});var R=V.options.chart,$=F.seriesTypes[R=G.type||R.type||R.defaultSeriesType||""];return F||B(17,!0,V,{missingModuleFor:R}),"function"==typeof(R=new $).init&&R.init(V,G),R},F.registerSeriesType=O,F.seriesType=function(V,G,R,$,Z){var Q=z.plotOptions||{};return Q[V]=Y(Q[G=G||""],R),O(V,I(F.seriesTypes[G]||function(){},$)),F.seriesTypes[V].prototype.type=V,Z&&(F.seriesTypes[V].prototype.pointClass=I(H,Z)),F.seriesTypes[V]}}(T||(T={})),T}),et(it,"Core/Chart/Chart.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/Axis/Axis.js"],it["Core/FormatUtilities.js"],it["Core/Foundation.js"],it["Core/Globals.js"],it["Core/Legend/Legend.js"],it["Core/MSPointer.js"],it["Core/DefaultOptions.js"],it["Core/Pointer.js"],it["Core/Renderer/RendererRegistry.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Renderer/SVG/SVGRenderer.js"],it["Core/Time.js"],it["Core/Utilities.js"],it["Core/Renderer/HTML/AST.js"]],function(M,j,H,X,z,B,I,Y,T,F,O,V,G,R,$){var Z=M.animate,Q=M.animObject,lt=M.setAnimation,ht=H.numberFormat,mt=X.registerEventOptions,dt=z.charts,gt=z.doc,k=z.marginNames,u=z.svg,p=z.win,v=Y.defaultOptions,g=Y.defaultTime,w=O.seriesTypes,b=R.addEvent,D=R.attr,_=R.cleanRecursively,f=R.createElement,C=R.css,K=R.defined,U=R.discardElement,W=R.erase,st=R.error,ct=R.extend,Ct=R.find,kt=R.fireEvent,wt=R.getStyle,ut=R.isArray,Ot=R.isNumber,bt=R.isObject,pt=R.isString,Dt=R.merge,Rt=R.objectEach,St=R.pick,te=R.pInt,At=R.relativeLength,Kt=R.removeEvent,Oe=R.splat,Jt=R.syncTimeout,$t=R.uniqueKey;return M=function(){function he(Tt,Bt,le){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(Tt,Bt,le)}return he.chart=function(Tt,Bt,le){return new he(Tt,Bt,le)},he.prototype.getArgs=function(Tt,Bt,le){pt(Tt)||Tt.nodeName?(this.renderTo=Tt,this.init(Bt,le)):this.init(Tt,Bt)},he.prototype.init=function(Tt,Bt){var le=Tt.plotOptions||{};kt(this,"init",{args:arguments},function(){var Mt=Dt(v,Tt),ot=Mt.chart;Rt(Mt.plotOptions,function(J,Nt){bt(J)&&(J.tooltip=le[Nt]&&Dt(le[Nt].tooltip)||void 0)}),Mt.tooltip.userOptions=Tt.chart&&Tt.chart.forExport&&Tt.tooltip.userOptions||Tt.tooltip,this.userOptions=Tt,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=Bt,this.isResizing=0,this.options=Mt,this.axes=[],this.series=[],this.time=Tt.time&&Object.keys(Tt.time).length?new G(Tt.time):z.time,this.numberFormatter=ot.numberFormatter||ht,this.styledMode=ot.styledMode,this.hasCartesianSeries=ot.showAxes,this.index=dt.length,dt.push(this),z.chartCount++,mt(this,ot),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,kt(this,"afterInit"),this.firstRender()})},he.prototype.initSeries=function(Tt){var Bt=this.options.chart,le=w[Bt=Tt.type||Bt.type||Bt.defaultSeriesType];return le||st(17,!0,this,{missingModuleFor:Bt}),"function"==typeof(Bt=new le).init&&Bt.init(this,Tt),Bt},he.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(Tt){Tt.points||Tt.data||!Tt.enabledDataSorting||Tt.setData(Tt.options.data,!1)})},he.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(Tt,Bt){return Tt.linkedSeries.length||Bt.linkedSeries.length?Bt.linkedSeries.length-Tt.linkedSeries.length:0})},he.prototype.orderSeries=function(Tt){var Bt=this.series;Tt=Tt||0;for(var le=Bt.length;Tt<le;++Tt)Bt[Tt]&&(Bt[Tt].index=Tt,Bt[Tt].name=Bt[Tt].getName())},he.prototype.isInsidePlot=function(Tt,Bt,le){void 0===le&&(le={});var Mt=this.inverted,ot=this.plotBox,J=this.plotLeft,Nt=this.plotTop,Gt=this.scrollablePlotBox,ge=0,qt=0;le.visiblePlotOnly&&this.scrollingContainer&&(ge=(qt=this.scrollingContainer).scrollLeft,qt=qt.scrollTop);var ae=le.series;if(ot=le.visiblePlotOnly&&Gt||ot,Tt={x:Gt=le.inverted?Bt:Tt,y:Bt=le.inverted?Tt:Bt,isInsidePlot:!0},!le.ignoreX){var ei=ae&&(Mt?ae.yAxis:ae.xAxis)||{pos:J,len:1/0};(Gt=le.paneCoordinates?ei.pos+Gt:J+Gt)>=Math.max(ge+J,ei.pos)&&Gt<=Math.min(ge+J+ot.width,ei.pos+ei.len)||(Tt.isInsidePlot=!1)}return!le.ignoreY&&Tt.isInsidePlot&&(Mt=ae&&(Mt?ae.xAxis:ae.yAxis)||{pos:Nt,len:1/0},(le=le.paneCoordinates?Mt.pos+Bt:Nt+Bt)>=Math.max(qt+Nt,Mt.pos)&&le<=Math.min(qt+Nt+ot.height,Mt.pos+Mt.len)||(Tt.isInsidePlot=!1)),kt(this,"afterIsInsidePlot",Tt),Tt.isInsidePlot},he.prototype.redraw=function(Tt){kt(this,"beforeRedraw");var Bt=this.hasCartesianSeries?this.axes:this.colorAxis||[],le=this.series,Mt=this.pointer,ot=this.legend,J=this.userOptions.legend,Nt=this.renderer,Gt=Nt.isHidden(),ge=[],qt=this.isDirtyBox,ae=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),lt(!!this.hasRendered&&Tt,this),Gt&&this.temporaryDisplay(),this.layOutTitles(),Tt=le.length;Tt--;){var ei=le[Tt];if(ei.options.stacking||ei.options.centerInCategory){var be=!0;if(ei.isDirty){var xe=!0;break}}}if(xe)for(Tt=le.length;Tt--;)(ei=le[Tt]).options.stacking&&(ei.isDirty=!0);le.forEach(function(Ke){Ke.isDirty&&("point"===Ke.options.legendType?("function"==typeof Ke.updateTotals&&Ke.updateTotals(),ae=!0):J&&(J.labelFormatter||J.labelFormat)&&(ae=!0)),Ke.isDirtyData&&kt(Ke,"updatedData")}),ae&&ot&&ot.options.enabled&&(ot.render(),this.isDirtyLegend=!1),be&&this.getStacks(),Bt.forEach(function(Ke){Ke.updateNames(),Ke.setScale()}),this.getMargins(),Bt.forEach(function(Ke){Ke.isDirty&&(qt=!0)}),Bt.forEach(function(Ke){var Ne=Ke.min+","+Ke.max;Ke.extKey!==Ne&&(Ke.extKey=Ne,ge.push(function(){kt(Ke,"afterSetExtremes",ct(Ke.eventArgs,Ke.getExtremes())),delete Ke.eventArgs})),(qt||be)&&Ke.redraw()}),qt&&this.drawChartBox(),kt(this,"predraw"),le.forEach(function(Ke){(qt||Ke.isDirty)&&Ke.visible&&Ke.redraw(),Ke.isDirtyData=!1}),Mt&&Mt.reset(!0),Nt.draw(),kt(this,"redraw"),kt(this,"render"),Gt&&this.temporaryDisplay(!0),ge.forEach(function(Ke){Ke.call()})},he.prototype.get=function(Tt){function Bt(J){return J.id===Tt||J.options&&J.options.id===Tt}for(var le=this.series,Mt=Ct(this.axes,Bt)||Ct(this.series,Bt),ot=0;!Mt&&ot<le.length;ot++)Mt=Ct(le[ot].points||[],Bt);return Mt},he.prototype.getAxes=function(){var Tt=this,Bt=this.options,le=Bt.xAxis=Oe(Bt.xAxis||{});Bt=Bt.yAxis=Oe(Bt.yAxis||{}),kt(this,"getAxes"),le.forEach(function(Mt,ot){Mt.index=ot,Mt.isX=!0}),Bt.forEach(function(Mt,ot){Mt.index=ot}),le.concat(Bt).forEach(function(Mt){new j(Tt,Mt)}),kt(this,"afterGetAxes")},he.prototype.getSelectedPoints=function(){return this.series.reduce(function(Tt,Bt){return Bt.getPointsCollection().forEach(function(le){St(le.selectedStaging,le.selected)&&Tt.push(le)}),Tt},[])},he.prototype.getSelectedSeries=function(){return this.series.filter(function(Tt){return Tt.selected})},he.prototype.setTitle=function(Tt,Bt,le){this.applyDescription("title",Tt),this.applyDescription("subtitle",Bt),this.applyDescription("caption",void 0),this.layOutTitles(le)},he.prototype.applyDescription=function(Tt,Bt){var le=this,Mt="title"===Tt?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};Mt=this.options[Tt]=Dt(!this.styledMode&&{style:Mt},this.options[Tt],Bt);var ot=this[Tt];ot&&Bt&&(this[Tt]=ot=ot.destroy()),Mt&&!ot&&((ot=this.renderer.text(Mt.text,0,0,Mt.useHTML).attr({align:Mt.align,class:"highcharts-"+Tt,zIndex:Mt.zIndex||4}).add()).update=function(J){le[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[Tt]](J)},this.styledMode||ot.css(Mt.style),this[Tt]=ot)},he.prototype.layOutTitles=function(Tt){var Bt=[0,0,0],le=this.renderer,Mt=this.spacingBox;["title","subtitle","caption"].forEach(function(J){var qt,Nt=this[J],Gt=this.options[J],ge=Gt.verticalAlign||"top";if(J="title"===J?"top"===ge?-3:0:"top"===ge?Bt[0]+2:0,Nt){this.styledMode||(qt=Gt.style&&Gt.style.fontSize),qt=le.fontMetrics(qt,Nt).b,Nt.css({width:(Gt.width||Mt.width+(Gt.widthAdjust||0))+"px"});var ae=Math.round(Nt.getBBox(Gt.useHTML).height);Nt.align(ct({y:"bottom"===ge?qt:J+qt,height:ae},Gt),!1,"spacingBox"),Gt.floating||("top"===ge?Bt[0]=Math.ceil(Bt[0]+ae):"bottom"===ge&&(Bt[2]=Math.ceil(Bt[2]+ae)))}},this),Bt[0]&&"top"===(this.options.title.verticalAlign||"top")&&(Bt[0]+=this.options.title.margin),Bt[2]&&"bottom"===this.options.caption.verticalAlign&&(Bt[2]+=this.options.caption.margin);var ot=!this.titleOffset||this.titleOffset.join(",")!==Bt.join(",");this.titleOffset=Bt,kt(this,"afterLayOutTitles"),!this.isDirtyBox&&ot&&(this.isDirtyBox=this.isDirtyLegend=ot,this.hasRendered&&St(Tt,!0)&&this.isDirtyBox&&this.redraw())},he.prototype.getChartSize=function(){var Tt=this.options.chart,Bt=Tt.width;Tt=Tt.height;var le=this.renderTo;K(Bt)||(this.containerWidth=wt(le,"width")),K(Tt)||(this.containerHeight=wt(le,"height")),this.chartWidth=Math.max(0,Bt||this.containerWidth||600),this.chartHeight=Math.max(0,At(Tt,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},he.prototype.temporaryDisplay=function(Tt){var Bt=this.renderTo;if(Tt)for(;Bt&&Bt.style;)Bt.hcOrigStyle&&(C(Bt,Bt.hcOrigStyle),delete Bt.hcOrigStyle),Bt.hcOrigDetached&&(gt.body.removeChild(Bt),Bt.hcOrigDetached=!1),Bt=Bt.parentNode;else for(;Bt&&Bt.style&&(gt.body.contains(Bt)||Bt.parentNode||(Bt.hcOrigDetached=!0,gt.body.appendChild(Bt)),("none"===wt(Bt,"display",!1)||Bt.hcOricDetached)&&(Bt.hcOrigStyle={display:Bt.style.display,height:Bt.style.height,overflow:Bt.style.overflow},Tt={display:"block",overflow:"hidden"},Bt!==this.renderTo&&(Tt.height=0),C(Bt,Tt),Bt.offsetWidth||Bt.style.setProperty("display","block","important")),(Bt=Bt.parentNode)!==gt.body););},he.prototype.setClassName=function(Tt){this.container.className="highcharts-container "+(Tt||"")},he.prototype.getContainer=function(){var Mt,Tt=this.options,Bt=Tt.chart,le=$t(),ot=this.renderTo;ot||(this.renderTo=ot=Bt.renderTo),pt(ot)&&(this.renderTo=ot=gt.getElementById(ot)),ot||st(13,!0,this);var J=te(D(ot,"data-highcharts-chart"));Ot(J)&&dt[J]&&dt[J].hasRendered&&dt[J].destroy(),D(ot,"data-highcharts-chart",this.index),ot.innerHTML="",Bt.skipClone||ot.offsetWidth||this.temporaryDisplay(),this.getChartSize(),J=this.chartWidth;var Nt=this.chartHeight;if(C(ot,{overflow:"hidden"}),this.styledMode||(Mt=ct({position:"relative",overflow:"hidden",width:J+"px",height:Nt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},Bt.style||{})),this.container=le=f("div",{id:le},Mt,ot),this._cursor=le.style.cursor,this.renderer=new(Bt.renderer||!u?F.getRendererType(Bt.renderer):V)(le,J,Nt,void 0,Bt.forExport,Tt.exporting&&Tt.exporting.allowHTML,this.styledMode),lt(void 0,this),this.setClassName(Bt.className),this.styledMode)for(var Gt in Tt.defs)this.renderer.definition(Tt.defs[Gt]);else this.renderer.setStyle(Bt.style);this.renderer.chartIndex=this.index,kt(this,"afterGetContainer")},he.prototype.getMargins=function(Tt){var Bt=this.spacing,le=this.margin,Mt=this.titleOffset;this.resetMargins(),Mt[0]&&!K(le[0])&&(this.plotTop=Math.max(this.plotTop,Mt[0]+Bt[0])),Mt[2]&&!K(le[2])&&(this.marginBottom=Math.max(this.marginBottom,Mt[2]+Bt[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(le,Bt),kt(this,"getMargins"),Tt||this.getAxisMargins()},he.prototype.getAxisMargins=function(){var Tt=this,Bt=Tt.axisOffset=[0,0,0,0],le=Tt.colorAxis,Mt=Tt.margin,ot=function(J){J.forEach(function(Nt){Nt.visible&&Nt.getOffset()})};Tt.hasCartesianSeries?ot(Tt.axes):le&&le.length&&ot(le),k.forEach(function(J,Nt){K(Mt[Nt])||(Tt[J]+=Bt[Nt])}),Tt.setChartSize()},he.prototype.reflow=function(Tt){var Bt=this,le=Bt.options.chart,Mt=Bt.renderTo,ot=K(le.width)&&K(le.height),J=le.width||wt(Mt,"width");le=le.height||wt(Mt,"height"),Mt=Tt?Tt.target:p,delete Bt.pointer.chartPosition,!ot&&!Bt.isPrinting&&J&&le&&(Mt===p||Mt===gt)&&((J!==Bt.containerWidth||le!==Bt.containerHeight)&&(R.clearTimeout(Bt.reflowTimeout),Bt.reflowTimeout=Jt(function(){Bt.container&&Bt.setSize(void 0,void 0,!1)},Tt?100:0)),Bt.containerWidth=J,Bt.containerHeight=le)},he.prototype.setReflow=function(Tt){var Bt=this;!1===Tt||this.unbindReflow?!1===Tt&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=b(p,"resize",function(le){Bt.options&&Bt.reflow(le)}),b(this,"destroy",this.unbindReflow))},he.prototype.setSize=function(Tt,Bt,le){var Mt=this,ot=Mt.renderer;Mt.isResizing+=1,lt(le,Mt),le=ot.globalAnimation,Mt.oldChartHeight=Mt.chartHeight,Mt.oldChartWidth=Mt.chartWidth,void 0!==Tt&&(Mt.options.chart.width=Tt),void 0!==Bt&&(Mt.options.chart.height=Bt),Mt.getChartSize(),Mt.styledMode||(le?Z:C)(Mt.container,{width:Mt.chartWidth+"px",height:Mt.chartHeight+"px"},le),Mt.setChartSize(!0),ot.setSize(Mt.chartWidth,Mt.chartHeight,le),Mt.axes.forEach(function(J){J.isDirty=!0,J.setScale()}),Mt.isDirtyLegend=!0,Mt.isDirtyBox=!0,Mt.layOutTitles(),Mt.getMargins(),Mt.redraw(le),Mt.oldChartHeight=null,kt(Mt,"resize"),Jt(function(){Mt&&kt(Mt,"endResize",null,function(){--Mt.isResizing})},Q(le).duration)},he.prototype.setChartSize=function(Tt){var ge,qt,ae,ei,Bt=this.inverted,le=this.renderer,Mt=this.chartWidth,ot=this.chartHeight,J=this.options.chart,Nt=this.spacing,Gt=this.clipOffset;this.plotLeft=ge=Math.round(this.plotLeft),this.plotTop=qt=Math.round(this.plotTop),this.plotWidth=ae=Math.max(0,Math.round(Mt-ge-this.marginRight)),this.plotHeight=ei=Math.max(0,Math.round(ot-qt-this.marginBottom)),this.plotSizeX=Bt?ei:ae,this.plotSizeY=Bt?ae:ei,this.plotBorderWidth=J.plotBorderWidth||0,this.spacingBox=le.spacingBox={x:Nt[3],y:Nt[0],width:Mt-Nt[3]-Nt[1],height:ot-Nt[0]-Nt[2]},this.plotBox=le.plotBox={x:ge,y:qt,width:ae,height:ei},Bt=2*Math.floor(this.plotBorderWidth/2),Mt=Math.ceil(Math.max(Bt,Gt[3])/2),ot=Math.ceil(Math.max(Bt,Gt[0])/2),this.clipBox={x:Mt,y:ot,width:Math.floor(this.plotSizeX-Math.max(Bt,Gt[1])/2-Mt),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(Bt,Gt[2])/2-ot))},Tt||(this.axes.forEach(function(be){be.setAxisSize(),be.setAxisTranslation()}),le.alignElements()),kt(this,"afterSetChartSize",{skipAxes:Tt})},he.prototype.resetMargins=function(){kt(this,"resetMargins");var Tt=this,Bt=Tt.options.chart;["margin","spacing"].forEach(function(le){var Mt=Bt[le],ot=bt(Mt)?Mt:[Mt,Mt,Mt,Mt];["Top","Right","Bottom","Left"].forEach(function(J,Nt){Tt[le][Nt]=St(Bt[le+J],ot[Nt])})}),k.forEach(function(le,Mt){Tt[le]=St(Tt.margin[Mt],Tt.spacing[Mt])}),Tt.axisOffset=[0,0,0,0],Tt.clipOffset=[0,0,0,0]},he.prototype.drawChartBox=function(){var fe,Tt=this.options.chart,Bt=this.renderer,le=this.chartWidth,Mt=this.chartHeight,ot=this.styledMode,J=this.plotBGImage,Nt=Tt.backgroundColor,Gt=Tt.plotBackgroundColor,ge=Tt.plotBackgroundImage,qt=this.plotLeft,ae=this.plotTop,ei=this.plotWidth,be=this.plotHeight,xe=this.plotBox,Ke=this.clipRect,Ne=this.clipBox,Le=this.chartBackground,Di=this.plotBackground,Ve=this.plotBorder,si="animate";if(Le||(this.chartBackground=Le=Bt.rect().addClass("highcharts-background").add(),si="attr"),ot)var je=fe=Le.strokeWidth();else fe=(je=Tt.borderWidth||0)+(Tt.shadow?8:0),Nt={fill:Nt||"none"},(je||Le["stroke-width"])&&(Nt.stroke=Tt.borderColor,Nt["stroke-width"]=je),Le.attr(Nt).shadow(Tt.shadow);Le[si]({x:fe/2,y:fe/2,width:le-fe-je%2,height:Mt-fe-je%2,r:Tt.borderRadius}),si="animate",Di||(si="attr",this.plotBackground=Di=Bt.rect().addClass("highcharts-plot-background").add()),Di[si](xe),ot||(Di.attr({fill:Gt||"none"}).shadow(Tt.plotShadow),ge&&(J?(ge!==J.attr("href")&&J.attr("href",ge),J.animate(xe)):this.plotBGImage=Bt.image(ge,qt,ae,ei,be).add())),Ke?Ke.animate({width:Ne.width,height:Ne.height}):this.clipRect=Bt.clipRect(Ne),si="animate",Ve||(si="attr",this.plotBorder=Ve=Bt.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),ot||Ve.attr({stroke:Tt.plotBorderColor,"stroke-width":Tt.plotBorderWidth||0,fill:"none"}),Ve[si](Ve.crisp({x:qt,y:ae,width:ei,height:be},-Ve.strokeWidth())),this.isDirtyBox=!1,kt(this,"afterDrawChartBox")},he.prototype.propFromSeries=function(){var Mt,ot,J,Tt=this,Bt=Tt.options.chart,le=Tt.options.series;["inverted","angular","polar"].forEach(function(Nt){for(ot=w[Bt.type||Bt.defaultSeriesType],J=Bt[Nt]||ot&&ot.prototype[Nt],Mt=le&&le.length;!J&&Mt--;)(ot=w[le[Mt].type])&&ot.prototype[Nt]&&(J=!0);Tt[Nt]=J})},he.prototype.linkSeries=function(){var Tt=this,Bt=Tt.series;Bt.forEach(function(le){le.linkedSeries.length=0}),Bt.forEach(function(le){var Mt=le.options.linkedTo;pt(Mt)&&(Mt=":previous"===Mt?Tt.series[le.index-1]:Tt.get(Mt))&&Mt.linkedParent!==le&&(Mt.linkedSeries.push(le),le.linkedParent=Mt,Mt.enabledDataSorting&&le.setDataSortingOptions(),le.visible=St(le.options.visible,Mt.options.visible,le.visible))}),kt(this,"afterLinkSeries")},he.prototype.renderSeries=function(){this.series.forEach(function(Tt){Tt.translate(),Tt.render()})},he.prototype.renderLabels=function(){var Tt=this,Bt=Tt.options.labels;Bt.items&&Bt.items.forEach(function(le){var Mt=ct(Bt.style,le.style),ot=te(Mt.left)+Tt.plotLeft,J=te(Mt.top)+Tt.plotTop+12;delete Mt.left,delete Mt.top,Tt.renderer.text(le.html,ot,J).attr({zIndex:2}).css(Mt).add()})},he.prototype.render=function(){var Tt=this.axes,Bt=this.colorAxis,le=this.renderer,Mt=this.options,ot=function(qt){qt.forEach(function(ae){ae.visible&&ae.render()})},J=0;this.setTitle(),this.legend=new B(this,Mt.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),Mt=this.plotWidth,Tt.some(function(qt){if(qt.horiz&&qt.visible&&qt.options.labels.enabled&&qt.series.length)return J=21,!0});var Nt=this.plotHeight=Math.max(this.plotHeight-J,0);Tt.forEach(function(qt){qt.setScale()}),this.getAxisMargins();var Gt=1.1<Mt/this.plotWidth,ge=1.05<Nt/this.plotHeight;(Gt||ge)&&(Tt.forEach(function(qt){(qt.horiz&&Gt||!qt.horiz&&ge)&&qt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?ot(Tt):Bt&&Bt.length&&ot(Bt),this.seriesGroup||(this.seriesGroup=le.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},he.prototype.addCredits=function(Tt){var Bt=this,le=Dt(!0,this.options.credits,Tt);le.enabled&&!this.credits&&(this.credits=this.renderer.text(le.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){le.href&&(p.location.href=le.href)}).attr({align:le.position.align,zIndex:8}),Bt.styledMode||this.credits.css(le.style),this.credits.add().align(le.position),this.credits.update=function(Mt){Bt.credits=Bt.credits.destroy(),Bt.addCredits(Mt)})},he.prototype.destroy=function(){var J,Tt=this,Bt=Tt.axes,le=Tt.series,Mt=Tt.container,ot=Mt&&Mt.parentNode;for(kt(Tt,"destroy"),Tt.renderer.forExport?W(dt,Tt):dt[Tt.index]=void 0,z.chartCount--,Tt.renderTo.removeAttribute("data-highcharts-chart"),Kt(Tt),J=Bt.length;J--;)Bt[J]=Bt[J].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),J=le.length;J--;)le[J]=le[J].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Nt){var Gt=Tt[Nt];Gt&&Gt.destroy&&(Tt[Nt]=Gt.destroy())}),Mt&&(Mt.innerHTML="",Kt(Mt),ot&&U(Mt)),Rt(Tt,function(Nt,Gt){delete Tt[Gt]})},he.prototype.firstRender=function(){var Tt=this,Bt=Tt.options;(!Tt.isReadyToRender||Tt.isReadyToRender())&&(Tt.getContainer(),Tt.resetMargins(),Tt.setChartSize(),Tt.propFromSeries(),Tt.getAxes(),(ut(Bt.series)?Bt.series:[]).forEach(function(le){Tt.initSeries(le)}),Tt.linkSeries(),Tt.setSeriesData(),kt(Tt,"beforeRender"),T&&(Tt.pointer=I.isRequired()?new I(Tt,Bt):new T(Tt,Bt)),Tt.render(),Tt.pointer.getChartPosition(),!Tt.renderer.imgCount&&!Tt.hasLoaded&&Tt.onload(),Tt.temporaryDisplay(!0))},he.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(Tt){Tt&&void 0!==this.index&&Tt.apply(this,[this])},this),kt(this,"load"),kt(this,"render"),K(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},he.prototype.addSeries=function(Tt,Bt,le){var ot,Mt=this;return Tt&&(Bt=St(Bt,!0),kt(Mt,"addSeries",{options:Tt},function(){ot=Mt.initSeries(Tt),Mt.isDirtyLegend=!0,Mt.linkSeries(),ot.enabledDataSorting&&ot.setData(Tt.data,!1),kt(Mt,"afterAddSeries",{series:ot}),Bt&&Mt.redraw(le)})),ot},he.prototype.addAxis=function(Tt,Bt,le,Mt){return this.createAxis(Bt?"xAxis":"yAxis",{axis:Tt,redraw:le,animation:Mt})},he.prototype.addColorAxis=function(Tt,Bt,le){return this.createAxis("colorAxis",{axis:Tt,redraw:Bt,animation:le})},he.prototype.createAxis=function(Tt,Bt){return Tt=new j(this,Dt(Bt.axis,{index:this[Tt].length,isX:"xAxis"===Tt})),St(Bt.redraw,!0)&&this.redraw(Bt.animation),Tt},he.prototype.showLoading=function(Tt){var Bt=this,le=Bt.options,Mt=le.loading,ot=function(){J&&C(J,{left:Bt.plotLeft+"px",top:Bt.plotTop+"px",width:Bt.plotWidth+"px",height:Bt.plotHeight+"px"})},J=Bt.loadingDiv,Nt=Bt.loadingSpan;J||(Bt.loadingDiv=J=f("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Bt.container)),Nt||(Bt.loadingSpan=Nt=f("span",{className:"highcharts-loading-inner"},null,J),b(Bt,"redraw",ot)),J.className="highcharts-loading",$.setElementHTML(Nt,St(Tt,le.lang.loading,"")),Bt.styledMode||(C(J,ct(Mt.style,{zIndex:10})),C(Nt,Mt.labelStyle),Bt.loadingShown||(C(J,{opacity:0,display:""}),Z(J,{opacity:Mt.style.opacity||.5},{duration:Mt.showDuration||0}))),Bt.loadingShown=!0,ot()},he.prototype.hideLoading=function(){var Tt=this.options,Bt=this.loadingDiv;Bt&&(Bt.className="highcharts-loading highcharts-loading-hidden",this.styledMode||Z(Bt,{opacity:0},{duration:Tt.loading.hideDuration||100,complete:function(){C(Bt,{display:"none"})}})),this.loadingShown=!1},he.prototype.update=function(Tt,Bt,le,Mt){var ge,qt,ot=this,J={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Nt=Tt.isResponsiveOptions,Gt=[];kt(ot,"update",{options:Tt}),Nt||ot.setResponsive(!1,!0),Tt=_(Tt,ot.options),ot.userOptions=Dt(ot.userOptions,Tt);var ae=Tt.chart;if(ae){if(Dt(!0,ot.options.chart,ae),"className"in ae&&ot.setClassName(ae.className),"reflow"in ae&&ot.setReflow(ae.reflow),"inverted"in ae||"polar"in ae||"type"in ae){ot.propFromSeries();var ei=!0}"alignTicks"in ae&&(ei=!0),"events"in ae&&mt(this,ae),Rt(ae,function(be,xe){-1!==ot.propsRequireUpdateSeries.indexOf("chart."+xe)&&(ge=!0),-1!==ot.propsRequireDirtyBox.indexOf(xe)&&(ot.isDirtyBox=!0),-1!==ot.propsRequireReflow.indexOf(xe)&&(Nt?ot.isDirtyBox=!0:qt=!0)}),!ot.styledMode&&ae.style&&ot.renderer.setStyle(ot.options.chart.style||{})}!ot.styledMode&&Tt.colors&&(this.options.colors=Tt.colors),Tt.time&&(this.time===g&&(this.time=new G(Tt.time)),Dt(!0,ot.options.time,Tt.time)),Rt(Tt,function(be,xe){ot[xe]&&"function"==typeof ot[xe].update?ot[xe].update(be,!1):"function"==typeof ot[J[xe]]?ot[J[xe]](be):"colors"!==xe&&-1===ot.collectionsWithUpdate.indexOf(xe)&&Dt(!0,ot.options[xe],Tt[xe]),"chart"!==xe&&-1!==ot.propsRequireUpdateSeries.indexOf(xe)&&(ge=!0)}),this.collectionsWithUpdate.forEach(function(be){if(Tt[be]){var xe=[];ot[be].forEach(function(Ke,Ne){Ke.options.isInternal||xe.push(St(Ke.options.index,Ne))}),Oe(Tt[be]).forEach(function(Ke,Ne){var Di,Le=K(Ke.id);Le&&(Di=ot.get(Ke.id)),!Di&&ot[be]&&(Di=ot[be][xe?xe[Ne]:Ne])&&Le&&K(Di.options.id)&&(Di=void 0),Di&&Di.coll===be&&(Di.update(Ke,!1),le&&(Di.touched=!0)),!Di&&le&&ot.collectionsWithInit[be]&&(ot.collectionsWithInit[be][0].apply(ot,[Ke].concat(ot.collectionsWithInit[be][1]||[]).concat([!1])).touched=!0)}),le&&ot[be].forEach(function(Ke){Ke.touched||Ke.options.isInternal?delete Ke.touched:Gt.push(Ke)})}}),Gt.forEach(function(be){be.chart&&be.remove&&be.remove(!1)}),ei&&ot.axes.forEach(function(be){be.update({},!1)}),ge&&ot.getSeriesOrderByLinks().forEach(function(be){be.chart&&be.update({},!1)},this),ei=ae&&ae.width,ae=ae&&(pt(ae.height)?At(ae.height,ei||ot.chartWidth):ae.height),qt||Ot(ei)&&ei!==ot.chartWidth||Ot(ae)&&ae!==ot.chartHeight?ot.setSize(ei,ae,Mt):St(Bt,!0)&&ot.redraw(Mt),kt(ot,"afterUpdate",{options:Tt,redraw:Bt,animation:Mt})},he.prototype.setSubtitle=function(Tt,Bt){this.applyDescription("subtitle",Tt),this.layOutTitles(Bt)},he.prototype.setCaption=function(Tt,Bt){this.applyDescription("caption",Tt),this.layOutTitles(Bt)},he.prototype.showResetZoom=function(){function Tt(){Bt.zoomOut()}var Bt=this,le=v.lang,Mt=Bt.options.chart.resetZoomButton,ot=Mt.theme,J=ot.states,Nt="chart"===Mt.relativeTo||"spacingBox"===Mt.relativeTo?null:"scrollablePlotBox";kt(this,"beforeShowResetZoom",null,function(){Bt.resetZoomButton=Bt.renderer.button(le.resetZoom,null,null,Tt,ot,J&&J.hover).attr({align:Mt.position.align,title:le.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(Mt.position,!1,Nt)}),kt(this,"afterShowResetZoom")},he.prototype.zoomOut=function(){kt(this,"selection",{resetSelection:!0},this.zoom)},he.prototype.zoom=function(Tt){var J,Bt=this,le=Bt.pointer,Mt=Bt.inverted?le.mouseDownX:le.mouseDownY,ot=!1;!Tt||Tt.resetSelection?(Bt.axes.forEach(function(Gt){J=Gt.zoom()}),le.initiated=!1):Tt.xAxis.concat(Tt.yAxis).forEach(function(Gt){var ge=Gt.axis,qt=Bt.inverted?ge.left:ge.top,ei=ge.isXAxis,be=!1;(!ei&&Mt>=qt&&Mt<=(Bt.inverted?qt+ge.width:qt+ge.height)||ei||!K(Mt))&&(be=!0),le[ei?"zoomX":"zoomY"]&&be&&(J=ge.zoom(Gt.min,Gt.max),ge.displayBtn&&(ot=!0))});var Nt=Bt.resetZoomButton;ot&&!Nt?Bt.showResetZoom():!ot&&bt(Nt)&&(Bt.resetZoomButton=Nt.destroy()),J&&Bt.redraw(St(Bt.options.chart.animation,Tt&&Tt.animation,100>Bt.pointCount))},he.prototype.pan=function(Tt,Bt){var le=this,Mt=le.hoverPoints;Bt="object"==typeof Bt?Bt:{enabled:Bt,type:"x"};var ot=le.options.chart,J=le.options.mapNavigation&&le.options.mapNavigation.enabled;ot&&ot.panning&&(ot.panning=Bt);var Gt,Nt=Bt.type;kt(this,"pan",{originalEvent:Tt},function(){Mt&&Mt.forEach(function(ae){ae.setState()});var ge=le.xAxis;"xy"===Nt?ge=ge.concat(le.yAxis):"y"===Nt&&(ge=le.yAxis);var qt={};ge.forEach(function(ae){if(ae.options.panningEnabled&&!ae.options.isInternal){var ei=ae.horiz,be=Tt[ei?"chartX":"chartY"],xe=le[ei=ei?"mouseDownX":"mouseDownY"],Ke=ae.minPointOffset||0,Ne=ae.reversed&&!le.inverted||!ae.reversed&&le.inverted?-1:1,Le=ae.getExtremes(),Di=ae.toValue(xe-be,!0)+Ke*Ne,Ve=ae.toValue(xe+ae.len-be,!0)-(Ke*Ne||ae.isXAxis&&ae.pointRangePadding||0),fe=Ve<Di;Ne=ae.hasVerticalPanning(),xe=fe?Ve:Di,Di=fe?Di:Ve;var si=ae.panningState;!Ne||ae.isXAxis||si&&!si.isDirty||ae.series.forEach(function(je){var se=je.getProcessedData(!0);se=je.getExtremes(se.yData,!0),si||(si={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),Ot(se.dataMin)&&Ot(se.dataMax)&&(si.startMin=Math.min(St(je.options.threshold,1/0),se.dataMin,si.startMin),si.startMax=Math.max(St(je.options.threshold,-1/0),se.dataMax,si.startMax))}),Ne=Math.min(St(si&&si.startMin,Le.dataMin),Ke?Le.min:ae.toValue(ae.toPixels(Le.min)-ae.minPixelPadding)),Ve=Math.max(St(si&&si.startMax,Le.dataMax),Ke?Le.max:ae.toValue(ae.toPixels(Le.max)+ae.minPixelPadding)),ae.panningState=si,ae.isOrdinal||(0<(Ke=Ne-xe)&&(Di+=Ke,xe=Ne),0<(Ke=Di-Ve)&&(Di=Ve,xe-=Ke),ae.series.length&&xe!==Le.min&&Di!==Le.max&&xe>=Ne&&Di<=Ve&&(ae.setExtremes(xe,Di,!1,!1,{trigger:"pan"}),le.resetZoomButton||J||xe===Ne||Di===Ve||!Nt.match("y")||(le.showResetZoom(),ae.displayBtn=!1),Gt=!0),qt[ei]=be)}}),Rt(qt,function(ae,ei){le[ei]=ae}),Gt&&le.redraw(!1),C(le.container,{cursor:"move"})})},he}(),ct(M.prototype,{callbacks:[],collectionsWithInit:{xAxis:[M.prototype.addAxis,[!0]],yAxis:[M.prototype.addAxis,[!1]],series:[M.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),M}),et(it,"Core/Legend/LegendSymbol.js",[it["Core/Utilities.js"]],function(M){var X,z,j=M.merge,H=M.pick;return(z=X||(X={})).drawLineMarker=function(B){var I=this.options,Y=B.symbolWidth,T=B.symbolHeight,F=T/2,O=this.chart.renderer,V=this.legendGroup;B=B.baseline-Math.round(.3*B.fontMetrics.b);var G={},R=I.marker;this.chart.styledMode||(G={"stroke-width":I.lineWidth||0},I.dashStyle&&(G.dashstyle=I.dashStyle)),this.legendLine=O.path([["M",0,B],["L",Y,B]]).addClass("highcharts-graph").attr(G).add(V),R&&!1!==R.enabled&&Y&&(I=Math.min(H(R.radius,F),F),0===this.symbol.indexOf("url")&&(R=j(R,{width:T,height:T}),I=0),this.legendSymbol=Y=O.symbol(this.symbol,Y/2-I,B-I,2*I,2*I,R).addClass("highcharts-point").add(V),Y.isMarker=!0)},z.drawRectangle=function(B,I){var Y=B.symbolHeight,T=B.options.squareSymbol;I.legendSymbol=this.chart.renderer.rect(T?(B.symbolWidth-Y)/2:0,B.baseline-Y+1,T?Y:B.symbolWidth,Y,H(B.options.symbolRadius,Y/2)).addClass("highcharts-point").attr({zIndex:3}).add(I.legendGroup)},X}),et(it,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),et(it,"Core/Series/Series.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/DefaultOptions.js"],it["Core/Foundation.js"],it["Core/Globals.js"],it["Core/Legend/LegendSymbol.js"],it["Core/Series/Point.js"],it["Core/Series/SeriesDefaults.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Renderer/SVG/SVGElement.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B,I,Y,T,F){var O=M.animObject,V=M.setAnimation,G=j.defaultOptions,R=H.registerEventOptions,$=X.hasTouch,Z=X.svg,Q=X.win,lt=Y.seriesTypes,ht=F.addEvent,mt=F.arrayMax,dt=F.arrayMin,gt=F.clamp,k=F.cleanRecursively,u=F.correctFloat,p=F.defined,v=F.erase,g=F.error,w=F.extend,b=F.find,D=F.fireEvent,_=F.getNestedProperty,f=F.isArray,C=F.isNumber,K=F.isString,U=F.merge,W=F.objectEach,st=F.pick,ct=F.removeEvent,Ct=F.splat,kt=F.syncTimeout;return M=function(){function wt(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return wt.prototype.init=function(ut,Ot){D(this,"init",{options:Ot});var bt=this,pt=ut.series;this.eventsToUnbind=[],bt.chart=ut,bt.options=bt.setOptions(Ot),Ot=bt.options,bt.linkedSeries=[],bt.bindAxes(),w(bt,{name:Ot.name,state:"",visible:!1!==Ot.visible,selected:!0===Ot.selected}),R(this,Ot);var Rt,Dt=Ot.events;(Dt&&Dt.click||Ot.point&&Ot.point.events&&Ot.point.events.click||Ot.allowPointSelect)&&(ut.runTrackerClick=!0),bt.getColor(),bt.getSymbol(),bt.parallelArrays.forEach(function(St){bt[St+"Data"]||(bt[St+"Data"]=[])}),bt.isCartesian&&(ut.hasCartesianSeries=!0),pt.length&&(Rt=pt[pt.length-1]),bt._i=st(Rt&&Rt._i,-1)+1,bt.opacity=bt.options.opacity,ut.orderSeries(this.insert(pt)),Ot.dataSorting&&Ot.dataSorting.enabled?bt.setDataSortingOptions():bt.points||bt.data||bt.setData(Ot.data,!1),D(this,"afterInit")},wt.prototype.is=function(ut){return lt[ut]&&this instanceof lt[ut]},wt.prototype.insert=function(ut){var bt,Ot=this.options.index;if(C(Ot)){for(bt=ut.length;bt--;)if(Ot>=st(ut[bt].options.index,ut[bt]._i)){ut.splice(bt+1,0,this);break}-1===bt&&ut.unshift(this),bt+=1}else ut.push(this);return st(bt,ut.length-1)},wt.prototype.bindAxes=function(){var pt,ut=this,Ot=ut.options,bt=ut.chart;D(this,"bindAxes",null,function(){(ut.axisTypes||[]).forEach(function(Dt){var Rt=0;bt[Dt].forEach(function(St){pt=St.options,(Ot[Dt]===Rt&&!pt.isInternal||void 0!==Ot[Dt]&&Ot[Dt]===pt.id||void 0===Ot[Dt]&&0===pt.index)&&(ut.insert(St.series),ut[Dt]=St,St.isDirty=!0),pt.isInternal||Rt++}),ut[Dt]||ut.optionalAxis===Dt||g(18,!0,bt)})}),D(this,"afterBindAxes")},wt.prototype.updateParallelArrays=function(ut,Ot){var bt=ut.series,pt=arguments,Dt=C(Ot)?function(Rt){var St="y"===Rt&&bt.toYData?bt.toYData(ut):ut[Rt];bt[Rt+"Data"][Ot]=St}:function(Rt){Array.prototype[Ot].apply(bt[Rt+"Data"],Array.prototype.slice.call(pt,2))};bt.parallelArrays.forEach(Dt)},wt.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},wt.prototype.autoIncrement=function(ut){var St,Ot=this.options,bt=Ot.pointIntervalUnit,pt=Ot.relativeXValue,Dt=this.chart.time,Rt=this.xIncrement;return Rt=st(Rt,Ot.pointStart,0),this.pointInterval=St=st(this.pointInterval,Ot.pointInterval,1),pt&&C(ut)&&(St*=ut),bt&&(Ot=new Dt.Date(Rt),"day"===bt?Dt.set("Date",Ot,Dt.get("Date",Ot)+St):"month"===bt?Dt.set("Month",Ot,Dt.get("Month",Ot)+St):"year"===bt&&Dt.set("FullYear",Ot,Dt.get("FullYear",Ot)+St),St=Ot.getTime()-Rt),pt&&C(ut)?Rt+St:(this.xIncrement=Rt+St,Rt)},wt.prototype.setDataSortingOptions=function(){var ut=this.options;w(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),p(ut.pointRange)||(ut.pointRange=1)},wt.prototype.setOptions=function(ut){var Ot=this.chart,bt=Ot.options,pt=bt.plotOptions,Dt=Ot.userOptions||{};ut=U(ut),Ot=Ot.styledMode;var Rt={plotOptions:pt,userOptions:ut};D(this,"setOptions",Rt);var St=Rt.plotOptions[this.type],te=Dt.plotOptions||{};return this.userOptions=Rt.userOptions,Dt=U(St,pt.series,Dt.plotOptions&&Dt.plotOptions[this.type],ut),this.tooltipOptions=U(G.tooltip,G.plotOptions.series&&G.plotOptions.series.tooltip,G.plotOptions[this.type].tooltip,bt.tooltip.userOptions,pt.series&&pt.series.tooltip,pt[this.type].tooltip,ut.tooltip),this.stickyTracking=st(ut.stickyTracking,te[this.type]&&te[this.type].stickyTracking,te.series&&te.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Dt.stickyTracking),null===St.marker&&delete Dt.marker,this.zoneAxis=Dt.zoneAxis,pt=this.zones=(Dt.zones||[]).slice(),!Dt.negativeColor&&!Dt.negativeFillColor||Dt.zones||(bt={value:Dt[this.zoneAxis+"Threshold"]||Dt.threshold||0,className:"highcharts-negative"},Ot||(bt.color=Dt.negativeColor,bt.fillColor=Dt.negativeFillColor),pt.push(bt)),pt.length&&p(pt[pt.length-1].value)&&pt.push(Ot?{}:{color:this.color,fillColor:this.fillColor}),D(this,"afterSetOptions",{options:Dt}),Dt},wt.prototype.getName=function(){return st(this.options.name,"Series "+(this.index+1))},wt.prototype.getCyclic=function(ut,Ot,bt){var pt=this.chart,Dt=this.userOptions,Rt=ut+"Index",St=ut+"Counter",te=bt?bt.length:st(pt.options.chart[ut+"Count"],pt[ut+"Count"]);if(!Ot){var At=st(Dt[Rt],Dt["_"+Rt]);p(At)||(pt.series.length||(pt[St]=0),Dt["_"+Rt]=At=pt[St]%te,pt[St]+=1),bt&&(Ot=bt[At])}void 0!==At&&(this[Rt]=At),this[ut]=Ot},wt.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||G.plotOptions[this.type].color,this.chart.options.colors)},wt.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},wt.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},wt.prototype.findPointIndex=function(ut,Ot){var St,te,bt=ut.id,pt=ut.x,Dt=this.points,Rt=this.options.dataSorting;if(bt)(Rt=this.chart.get(bt))instanceof B&&(St=Rt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(St=function(Kt){return!Kt.touched&&Kt.index===ut.index},Rt&&Rt.matchByName?St=function(Kt){return!Kt.touched&&Kt.name===ut.name}:this.options.relativeXValue&&(St=function(Kt){return!Kt.touched&&Kt.options.x===ut.x}),!(St=b(Dt,St))))return;if(St){var At=St&&St.index;void 0!==At&&(te=!0)}return void 0===At&&C(pt)&&(At=this.xData.indexOf(pt,Ot)),-1!==At&&void 0!==At&&this.cropped&&(At=At>=this.cropStart?At-this.cropStart:At),!te&&C(At)&&Dt[At]&&Dt[At].touched&&(At=void 0),At},wt.prototype.updateData=function(ut,Ot){var At,Kt,Oe,bt=this.options,pt=bt.dataSorting,Dt=this.points,Rt=[],St=this.requireSorting,te=ut.length===Dt.length,Jt=!0;if(this.xIncrement=null,ut.forEach(function($t,he){var Tt=p($t)&&this.pointClass.prototype.optionsToObject.call({series:this},$t)||{};Tt.id||C(Tt.x)?(-1===(Tt=this.findPointIndex(Tt,Oe))||void 0===Tt?Rt.push($t):Dt[Tt]&&$t!==bt.data[Tt]?(Dt[Tt].update($t,!1,null,!1),Dt[Tt].touched=!0,St&&(Oe=Tt+1)):Dt[Tt]&&(Dt[Tt].touched=!0),(!te||he!==Tt||pt&&pt.enabled||this.hasDerivedData)&&(At=!0)):Rt.push($t)},this),At)for(ut=Dt.length;ut--;)(Kt=Dt[ut])&&!Kt.touched&&Kt.remove&&Kt.remove(!1,Ot);else!te||pt&&pt.enabled?Jt=!1:(ut.forEach(function($t,he){$t!==Dt[he].y&&Dt[he].update&&Dt[he].update($t,!1,null,!1)}),Rt.length=0);return Dt.forEach(function($t){$t&&($t.touched=!1)}),!!Jt&&(Rt.forEach(function($t){this.addPoint($t,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=mt(this.xData),this.autoIncrement()),!0)},wt.prototype.setData=function(ut,Ot,bt,pt){var Dt=this,Rt=Dt.points,St=Rt&&Rt.length||0,te=Dt.options,At=Dt.chart,Kt=te.dataSorting,Oe=Dt.xAxis,Jt=te.turboThreshold,$t=this.xData,he=this.yData,Tt=Dt.pointArrayMap;Tt=Tt&&Tt.length;var le,Bt=te.keys,Mt=0,ot=1,J=null,Nt=(ut=ut||[]).length;if(Ot=st(Ot,!0),Kt&&Kt.enabled&&(ut=this.sortData(ut)),!1!==pt&&Nt&&St&&!Dt.cropped&&!Dt.hasGroupedData&&Dt.visible&&!Dt.isSeriesBoosting&&(le=this.updateData(ut,bt)),!le){if(Dt.xIncrement=null,Dt.colorCounter=0,this.parallelArrays.forEach(function(Gt){Dt[Gt+"Data"].length=0}),Jt&&Nt>Jt)if(J=Dt.getFirstValidPoint(ut),C(J))for(bt=0;bt<Nt;bt++)$t[bt]=this.autoIncrement(),he[bt]=ut[bt];else if(f(J))if(Tt)if(J.length===Tt)for(bt=0;bt<Nt;bt++)$t[bt]=this.autoIncrement(),he[bt]=ut[bt];else for(bt=0;bt<Nt;bt++)$t[bt]=(pt=ut[bt])[0],he[bt]=pt.slice(1,Tt+1);else if(Bt&&(Mt=0<=(Mt=Bt.indexOf("x"))?Mt:0,ot=0<=(ot=Bt.indexOf("y"))?ot:1),1===J.length&&(ot=0),Mt===ot)for(bt=0;bt<Nt;bt++)$t[bt]=this.autoIncrement(),he[bt]=ut[bt][ot];else for(bt=0;bt<Nt;bt++)$t[bt]=(pt=ut[bt])[Mt],he[bt]=pt[ot];else g(12,!1,At);else for(bt=0;bt<Nt;bt++)void 0!==ut[bt]&&(Dt.pointClass.prototype.applyOptions.apply(pt={series:Dt},[ut[bt]]),Dt.updateParallelArrays(pt,bt));for(he&&K(he[0])&&g(14,!0,At),Dt.data=[],Dt.options.data=Dt.userOptions.data=ut,bt=St;bt--;)Rt[bt]&&Rt[bt].destroy&&Rt[bt].destroy();Oe&&(Oe.minRange=Oe.userMinRange),Dt.isDirty=At.isDirtyBox=!0,Dt.isDirtyData=!!Rt,bt=!1}"point"===te.legendType&&(this.processData(),this.generatePoints()),Ot&&At.redraw(bt)},wt.prototype.sortData=function(ut){var Ot=this,bt=Ot.options.dataSorting.sortKey||"y",pt=function(Dt,Rt){return p(Rt)&&Dt.pointClass.prototype.optionsToObject.call({series:Dt},Rt)||{}};return ut.forEach(function(Dt,Rt){ut[Rt]=pt(Ot,Dt),ut[Rt].index=Rt},this),ut.concat().sort(function(Dt,Rt){return Dt=_(bt,Dt),(Rt=_(bt,Rt))<Dt?-1:Rt>Dt?1:0}).forEach(function(Dt,Rt){Dt.x=Rt},this),Ot.linkedSeries&&Ot.linkedSeries.forEach(function(Dt){var Rt=Dt.options,St=Rt.data;Rt.dataSorting&&Rt.dataSorting.enabled||!St||(St.forEach(function(te,At){St[At]=pt(Dt,te),ut[At]&&(St[At].x=ut[At].x,St[At].index=At)}),Dt.setData(St,!1))}),ut},wt.prototype.getProcessedData=function(ut){var Ot=this.xAxis,bt=this.options,pt=bt.cropThreshold,Dt=ut||this.getExtremesFromAll||bt.getExtremesFromAll,Rt=this.isCartesian;ut=Ot&&Ot.val2lin,bt=!(!Ot||!Ot.logarithmic);var St=0,te=this.xData,At=this.yData,Kt=this.requireSorting,Oe=!1,Jt=te.length;if(Ot){var $t=(Oe=Ot.getExtremes()).min,he=Oe.max;Oe=Ot.categories&&!Ot.names.length}if(Rt&&this.sorted&&!Dt&&(!pt||Jt>pt||this.forceCrop))if(te[Jt-1]<$t||te[0]>he)te=[],At=[];else if(this.yData&&(te[0]<$t||te[Jt-1]>he)){var Tt=this.cropData(this.xData,this.yData,$t,he);te=Tt.xData,At=Tt.yData,St=Tt.start,Tt=!0}for(pt=te.length||1;--pt;)if(0<(Ot=bt?ut(te[pt])-ut(te[pt-1]):te[pt]-te[pt-1])&&(void 0===Bt||Ot<Bt))var Bt=Ot;else 0>Ot&&Kt&&!Oe&&(g(15,!1,this.chart),Kt=!1);return{xData:te,yData:At,cropped:Tt,cropStart:St,closestPointRange:Bt}},wt.prototype.processData=function(ut){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!ut)return!1;ut=this.getProcessedData(),this.cropped=ut.cropped,this.cropStart=ut.cropStart,this.processedXData=ut.xData,this.processedYData=ut.yData,this.closestPointRange=this.basePointRange=ut.closestPointRange,D(this,"afterProcessData")},wt.prototype.cropData=function(ut,Ot,bt,pt,Dt){var St,Rt=ut.length,te=0,At=Rt;for(Dt=st(Dt,this.cropShoulder),St=0;St<Rt;St++)if(ut[St]>=bt){te=Math.max(0,St-Dt);break}for(bt=St;bt<Rt;bt++)if(ut[bt]>pt){At=bt+Dt;break}return{xData:ut.slice(te,At),yData:Ot.slice(te,At),start:te,end:At}},wt.prototype.generatePoints=function(){var ut=this.options,Ot=ut.data,bt=this.processedXData,pt=this.processedYData,Dt=this.pointClass,Rt=bt.length,St=this.cropStart||0,te=this.hasGroupedData,At=ut.keys,Kt=[];ut=ut.dataGrouping&&ut.dataGrouping.groupAll?St:0;var Oe,Jt,$t=this.data;if(!$t&&!te){var he=[];he.length=Ot.length,$t=this.data=he}for(At&&te&&(this.options.keys=!1),Jt=0;Jt<Rt;Jt++){if(he=St+Jt,te){var Tt=(new Dt).init(this,[bt[Jt]].concat(Ct(pt[Jt])));Tt.dataGroup=this.groupMap[ut+Jt],Tt.dataGroup.options&&(Tt.options=Tt.dataGroup.options,w(Tt,Tt.dataGroup.options),delete Tt.dataLabels)}else(Tt=$t[he])||void 0===Ot[he]||($t[he]=Tt=(new Dt).init(this,Ot[he],bt[Jt]));Tt&&(Tt.index=te?ut+Jt:he,Kt[Jt]=Tt)}if(this.options.keys=At,$t&&(Rt!==(Oe=$t.length)||te))for(Jt=0;Jt<Oe;Jt++)Jt!==St||te||(Jt+=Rt),$t[Jt]&&($t[Jt].destroyElements(),$t[Jt].plotX=void 0);this.data=$t,this.points=Kt,D(this,"afterGeneratePoints")},wt.prototype.getXExtremes=function(ut){return{min:dt(ut),max:mt(ut)}},wt.prototype.getExtremes=function(ut,Ot){var bt=this.xAxis,pt=this.yAxis,Dt=this.processedXData||this.xData,Rt=[],St=this.requireSorting?this.cropShoulder:0;pt=!!pt&&pt.positiveValuesOnly;var te,At=0,Kt=0,Oe=0,Jt=(ut=ut||this.stackedYData||this.processedYData||[]).length;if(bt){var $t=bt.getExtremes();At=$t.min,Kt=$t.max}for(te=0;te<Jt;te++){var he=Dt[te],Tt=(C($t=ut[te])||f($t))&&($t.length||0<$t||!pt);if(he=Ot||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!bt||(Dt[te+St]||he)>=At&&(Dt[te-St]||he)<=Kt,Tt&&he)if(Tt=$t.length)for(;Tt--;)C($t[Tt])&&(Rt[Oe++]=$t[Tt]);else Rt[Oe++]=$t}return ut={activeYData:Rt,dataMin:dt(Rt),dataMax:mt(Rt)},D(this,"afterGetExtremes",{dataExtremes:ut}),ut},wt.prototype.applyExtremes=function(){var ut=this.getExtremes();return this.dataMin=ut.dataMin,this.dataMax=ut.dataMax,ut},wt.prototype.getFirstValidPoint=function(ut){for(var Ot=ut.length,bt=0,pt=null;null===pt&&bt<Ot;)pt=ut[bt],bt++;return pt},wt.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var he,Tt,ut=this.options,Ot=ut.stacking,bt=this.xAxis,pt=bt.categories,Dt=this.enabledDataSorting,Rt=this.yAxis,St=this.points,te=St.length,At=this.pointPlacementToXValue(),Kt=!!At,Oe=ut.threshold,Jt=ut.startFromThreshold?Oe:0,$t=this.zoneAxis||"y",Bt=Number.MAX_VALUE;for(he=0;he<te;he++){var le=St[he],Mt=le.x,ot=void 0,J=void 0,Nt=le.y,Gt=le.low,ge=Ot&&Rt.stacking&&Rt.stacking.stacks[(this.negStacks&&Nt<(Jt?0:Oe)?"-":"")+this.stackKey];if((Rt.positiveValuesOnly&&!Rt.validatePositiveValue(Nt)||bt.positiveValuesOnly&&!bt.validatePositiveValue(Mt))&&(le.isNull=!0),le.plotX=Tt=u(gt(bt.translate(Mt,0,0,0,1,At,"flags"===this.type),-1e5,1e5)),Ot&&this.visible&&ge&&ge[Mt]){var qt=this.getStackIndicator(qt,Mt,this.index);le.isNull||(J=(ot=ge[Mt]).points[qt.key])}if(f(J)&&(Nt=J[1],(Gt=J[0])===Jt&&qt.key===ge[Mt].base&&(Gt=st(C(Oe)&&Oe,Rt.min)),Rt.positiveValuesOnly&&0>=Gt&&(Gt=null),le.total=le.stackTotal=ot.total,le.percentage=ot.total&&le.y/ot.total*100,le.stackY=Nt,this.irregularWidths||ot.setOffset(this.pointXOffset||0,this.barW||0)),le.yBottom=p(Gt)?gt(Rt.translate(Gt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Nt=this.dataModify.modifyValue(Nt,he)),le.plotY=void 0,C(Nt)&&void 0!==(ot=Rt.translate(Nt,!1,!0,!1,!0))&&(le.plotY=gt(ot,-1e5,1e5)),le.isInside=this.isPointInside(le),le.clientX=Kt?u(bt.translate(Mt,0,0,0,1,At)):Tt,le.negative=le[$t]<(ut[$t+"Threshold"]||Oe||0),le.category=pt&&void 0!==pt[le.x]?pt[le.x]:le.x,!le.isNull&&!1!==le.visible){void 0!==ae&&(Bt=Math.min(Bt,Math.abs(Tt-ae)));var ae=Tt}le.zone=this.zones.length?le.getZone():void 0,!le.graphic&&this.group&&Dt&&(le.isNew=!0)}this.closestPointRangePx=Bt,D(this,"afterTranslate")},wt.prototype.getValidPoints=function(ut,Ot,bt){var pt=this.chart;return(ut||this.points||[]).filter(function(Dt){return!(Ot&&!pt.isInsidePlot(Dt.plotX,Dt.plotY,{inverted:pt.inverted}))&&!1!==Dt.visible&&(bt||!Dt.isNull)})},wt.prototype.getClipBox=function(){var ut=this.chart,Ot=this.xAxis,bt=this.yAxis,pt=U(ut.clipBox);return Ot&&Ot.len!==ut.plotSizeX&&(pt.width=Ot.len),bt&&bt.len!==ut.plotSizeY&&(pt.height=bt.len),pt},wt.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},wt.prototype.setClip=function(){var ut=this.chart,Ot=this.group,bt=this.markerGroup,pt=ut.sharedClips;ut=ut.renderer;var Dt=this.getClipBox(),Rt=this.getSharedClipKey(),St=pt[Rt];St?St.animate(Dt):pt[Rt]=St=ut.clipRect(Dt),Ot&&Ot.clip(!1===this.options.clip?void 0:St),bt&&bt.clip()},wt.prototype.animate=function(ut){var Ot=this.chart,bt=this.group,pt=this.markerGroup,Dt=Ot.inverted,Rt=O(this.options.animation),St=[this.getSharedClipKey(),Rt.duration,Rt.easing,Rt.defer].join(),te=Ot.sharedClips[St],At=Ot.sharedClips[St+"m"];if(ut&&bt)Rt=this.getClipBox(),te?te.attr("height",Rt.height):(Rt.width=0,Dt&&(Rt.x=Ot.plotHeight),te=Ot.renderer.clipRect(Rt),Ot.sharedClips[St]=te,At=Ot.renderer.clipRect({x:Dt?(Ot.plotSizeX||0)+99:-99,y:Dt?-Ot.plotLeft:-Ot.plotTop,width:99,height:Dt?Ot.chartWidth:Ot.chartHeight}),Ot.sharedClips[St+"m"]=At),bt.clip(te),pt&&pt.clip(At);else if(te&&!te.hasClass("highcharts-animating")){Ot=this.getClipBox();var Kt=Rt.step;pt&&pt.element.childNodes.length&&(Rt.step=function(Oe,Jt){Kt&&Kt.apply(Jt,arguments),At&&At.element&&At.attr(Jt.prop,"width"===Jt.prop?Oe+99:Oe)}),te.addClass("highcharts-animating").animate(Ot,Rt)}},wt.prototype.afterAnimate=function(){var ut=this;this.setClip(),W(this.chart.sharedClips,function(Ot,bt,pt){Ot&&!ut.chart.container.querySelector('[clip-path="url(#'+Ot.id+')"]')&&(Ot.destroy(),delete pt[bt])}),this.finishedAnimating=!0,D(this,"afterAnimate")},wt.prototype.drawPoints=function(){var St,te,ut=this.points,Ot=this.chart,bt=this.options.marker,pt=this[this.specialGroup]||this.markerGroup,Dt=this.xAxis,Rt=st(bt.enabled,!(Dt&&!Dt.isRadial)||null,this.closestPointRangePx>=bt.enabledThreshold*bt.radius);if(!1!==bt.enabled||this._hasPointMarkers)for(St=0;St<ut.length;St++){var At=ut[St],Kt=(te=At.graphic)?"animate":"attr",Oe=At.marker||{},Jt=!!At.marker;if((Rt&&void 0===Oe.enabled||Oe.enabled)&&!At.isNull&&!1!==At.visible){var $t=st(Oe.symbol,this.symbol,"rect"),he=this.markerAttribs(At,At.selected&&"select");this.enabledDataSorting&&(At.startXPos=Dt.reversed?-(he.width||0):Dt.width);var Tt=!1!==At.isInside;te?te[Tt?"show":"hide"](Tt).animate(he):Tt&&(0<(he.width||0)||At.hasImage)&&(At.graphic=te=Ot.renderer.symbol($t,he.x,he.y,he.width,he.height,Jt?Oe:bt).add(pt),this.enabledDataSorting&&Ot.hasRendered&&(te.attr({x:At.startXPos}),Kt="animate")),te&&"animate"===Kt&&te[Tt?"show":"hide"](Tt).animate(he),te&&!Ot.styledMode&&te[Kt](this.pointAttribs(At,At.selected&&"select")),te&&te.addClass(At.getClassName(),!0)}else te&&(At.graphic=te.destroy())}},wt.prototype.markerAttribs=function(ut,Ot){var bt=this.options,pt=bt.marker,Dt=ut.marker||{},Rt=Dt.symbol||pt.symbol,St=st(Dt.radius,pt.radius);return Ot&&(pt=pt.states[Ot],St=st((Ot=Dt.states&&Dt.states[Ot])&&Ot.radius,pt&&pt.radius,St+(pt&&pt.radiusPlus||0))),ut.hasImage=Rt&&0===Rt.indexOf("url"),ut.hasImage&&(St=0),ut={x:bt.crisp?Math.floor(ut.plotX-St):ut.plotX-St,y:ut.plotY-St},St&&(ut.width=ut.height=2*St),ut},wt.prototype.pointAttribs=function(ut,Ot){var bt=this.options.marker,pt=ut&&ut.options,Dt=pt&&pt.marker||{},Rt=pt&&pt.color,St=ut&&ut.color,te=ut&&ut.zone&&ut.zone.color,At=this.color;return ut=st(Dt.lineWidth,bt.lineWidth),pt=1,At=Rt||te||St||At,Rt=Dt.fillColor||bt.fillColor||At,St=Dt.lineColor||bt.lineColor||At,bt=bt.states[Ot=Ot||"normal"]||{},ut=st((Ot=Dt.states&&Dt.states[Ot]||{}).lineWidth,bt.lineWidth,ut+st(Ot.lineWidthPlus,bt.lineWidthPlus,0)),{stroke:St=Ot.lineColor||bt.lineColor||St,"stroke-width":ut,fill:Rt=Ot.fillColor||bt.fillColor||Rt,opacity:pt=st(Ot.opacity,bt.opacity,pt)}},wt.prototype.destroy=function(ut){var St,te,At,Ot=this,bt=Ot.chart,pt=/AppleWebKit\/533/.test(Q.navigator.userAgent),Dt=Ot.data||[];for(D(Ot,"destroy"),this.removeEvents(ut),(Ot.axisTypes||[]).forEach(function(Kt){(At=Ot[Kt])&&At.series&&(v(At.series,Ot),At.isDirty=At.forceRedraw=!0)}),Ot.legendItem&&Ot.chart.legend.destroyItem(Ot),St=Dt.length;St--;)(te=Dt[St])&&te.destroy&&te.destroy();Ot.clips&&Ot.clips.forEach(function(Kt){return Kt.destroy()}),F.clearTimeout(Ot.animationTimeout),W(Ot,function(Kt,Oe){Kt instanceof T&&!Kt.survive&&Kt[pt&&"group"===Oe?"hide":"destroy"]()}),bt.hoverSeries===Ot&&(bt.hoverSeries=void 0),v(bt.series,Ot),bt.orderSeries(),W(Ot,function(Kt,Oe){ut&&"hcEvents"===Oe||delete Ot[Oe]})},wt.prototype.applyZones=function(){var Oe,Jt,$t,he,Tt,Bt,le,Mt,ut=this,Ot=this.chart,bt=Ot.renderer,pt=this.zones,Dt=this.clips||[],Rt=this.graph,St=this.area,te=Math.max(Ot.chartWidth,Ot.chartHeight),At=this[(this.zoneAxis||"y")+"Axis"],Kt=Ot.inverted,ot=!1;if(pt.length&&(Rt||St)&&At&&void 0!==At.min){var J=At.reversed,Nt=At.horiz;Rt&&!this.showLine&&Rt.hide(),St&&St.hide();var Gt=At.getExtremes();pt.forEach(function(ge,qt){Oe=J?Nt?Ot.plotWidth:0:Nt?0:At.toPixels(Gt.min)||0,Oe=gt(st(Jt,Oe),0,te),Jt=gt(Math.round(At.toPixels(st(ge.value,Gt.max),!0)||0),0,te),ot&&(Oe=Jt=At.toPixels(Gt.max)),he=Math.abs(Oe-Jt),Tt=Math.min(Oe,Jt),Bt=Math.max(Oe,Jt),At.isXAxis?($t={x:Kt?Bt:Tt,y:0,width:he,height:te},Nt||($t.x=Ot.plotHeight-$t.x)):($t={x:0,y:Kt?Bt:Tt,width:te,height:he},Nt&&($t.y=Ot.plotWidth-$t.y)),Kt&&bt.isVML&&($t=At.isXAxis?{x:0,y:J?Tt:Bt,height:$t.width,width:Ot.chartWidth}:{x:$t.y-Ot.plotLeft-Ot.spacingBox.x,y:0,width:$t.height,height:Ot.chartHeight}),Dt[qt]?Dt[qt].animate($t):Dt[qt]=bt.clipRect($t),le=ut["zone-area-"+qt],Mt=ut["zone-graph-"+qt],Rt&&Mt&&Mt.clip(Dt[qt]),St&&le&&le.clip(Dt[qt]),ot=ge.value>Gt.max,ut.resetZones&&0===Jt&&(Jt=void 0)}),this.clips=Dt}else ut.visible&&(Rt&&Rt.show(!0),St&&St.show(!0))},wt.prototype.invertGroups=function(ut){function Ot(){["group","markerGroup"].forEach(function(Dt){bt[Dt]&&(pt.renderer.isVML&&bt[Dt].attr({width:bt.yAxis.len,height:bt.xAxis.len}),bt[Dt].width=bt.yAxis.len,bt[Dt].height=bt.xAxis.len,bt[Dt].invert(!bt.isRadialSeries&&ut))})}var bt=this,pt=bt.chart;bt.xAxis&&(bt.eventsToUnbind.push(ht(pt,"resize",Ot)),Ot(),bt.invertGroups=Ot)},wt.prototype.plotGroup=function(ut,Ot,bt,pt,Dt){var Rt=this[ut],St=!Rt;return bt={visibility:bt,zIndex:pt||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(bt.opacity=this.opacity),St&&(this[ut]=Rt=this.chart.renderer.g().add(Dt)),Rt.addClass("highcharts-"+Ot+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(p(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(Rt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),Rt.attr(bt)[St?"attr":"animate"](this.getPlotBox()),Rt},wt.prototype.getPlotBox=function(){var ut=this.chart,Ot=this.xAxis,bt=this.yAxis;return ut.inverted&&(Ot=bt,bt=this.xAxis),{translateX:Ot?Ot.left:ut.plotLeft,translateY:bt?bt.top:ut.plotTop,scaleX:1,scaleY:1}},wt.prototype.removeEvents=function(ut){ut||ct(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(Ot){Ot()}),this.eventsToUnbind.length=0)},wt.prototype.render=function(){var ut=this,Ot=ut.chart,bt=ut.options,pt=O(bt.animation),Dt=ut.visible?"inherit":"hidden",Rt=bt.zIndex,St=ut.hasRendered,te=Ot.seriesGroup,At=Ot.inverted;Ot=!ut.finishedAnimating&&Ot.renderer.isSVG?pt.duration:0,D(this,"render");var Kt=ut.plotGroup("group","series",Dt,Rt,te);ut.markerGroup=ut.plotGroup("markerGroup","markers",Dt,Rt,te),!1!==bt.clip&&ut.setClip(),ut.animate&&Ot&&ut.animate(!0),Kt.inverted=!!st(ut.invertible,ut.isCartesian)&&At,ut.drawGraph&&(ut.drawGraph(),ut.applyZones()),ut.visible&&ut.drawPoints(),ut.drawDataLabels&&ut.drawDataLabels(),ut.redrawPoints&&ut.redrawPoints(),ut.drawTracker&&!1!==ut.options.enableMouseTracking&&ut.drawTracker(),ut.invertGroups(At),ut.animate&&Ot&&ut.animate(),St||(Ot&&pt.defer&&(Ot+=pt.defer),ut.animationTimeout=kt(function(){ut.afterAnimate()},Ot||0)),ut.isDirty=!1,ut.hasRendered=!0,D(ut,"afterRender")},wt.prototype.redraw=function(){var ut=this.chart,Ot=this.isDirty||this.isDirtyData,bt=this.group,pt=this.xAxis,Dt=this.yAxis;bt&&(ut.inverted&&bt.attr({width:ut.plotWidth,height:ut.plotHeight}),bt.animate({translateX:st(pt&&pt.left,ut.plotLeft),translateY:st(Dt&&Dt.top,ut.plotTop)})),this.translate(),this.render(),Ot&&delete this.kdTree},wt.prototype.searchPoint=function(ut,Ot){var bt=this.xAxis,pt=this.yAxis,Dt=this.chart.inverted;return this.searchKDTree({clientX:Dt?bt.len-ut.chartY+bt.pos:ut.chartX-bt.pos,plotY:Dt?pt.len-ut.chartX+pt.pos:ut.chartY-pt.pos},Ot,ut)},wt.prototype.buildKDTree=function(ut){function Ot(Dt,Rt,St){var te=Dt&&Dt.length;if(te){var At=bt.kdAxisArray[Rt%St];return Dt.sort(function(Kt,Oe){return Kt[At]-Oe[At]}),{point:Dt[te=Math.floor(te/2)],left:Ot(Dt.slice(0,te),Rt+1,St),right:Ot(Dt.slice(te+1),Rt+1,St)}}}this.buildingKdTree=!0;var bt=this,pt=-1<bt.options.findNearestPointBy.indexOf("y")?2:1;delete bt.kdTree,kt(function(){bt.kdTree=Ot(bt.getValidPoints(null,!bt.directTouch),pt,pt),bt.buildingKdTree=!1},bt.options.kdNow||ut&&"touchstart"===ut.type?0:1)},wt.prototype.searchKDTree=function(ut,Ot,bt){var Dt=this,Rt=this.kdAxisArray[0],St=this.kdAxisArray[1],te=Ot?"distX":"dist";if(Ot=-1<Dt.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(bt),this.kdTree)return function pt(At,Kt,Oe,Jt){var $t=Kt.point,he=Dt.kdAxisArray[Oe%Jt],Tt=$t,Bt=p(At[Rt])&&p($t[Rt])?Math.pow(At[Rt]-$t[Rt],2):null,le=p(At[St])&&p($t[St])?Math.pow(At[St]-$t[St],2):null;return $t.dist=p(le=(Bt||0)+(le||0))?Math.sqrt(le):Number.MAX_VALUE,$t.distX=p(Bt)?Math.sqrt(Bt):Number.MAX_VALUE,Bt=0>(he=At[he]-$t[he])?"right":"left",Kt[le=0>he?"left":"right"]&&(Tt=(le=pt(At,Kt[le],Oe+1,Jt))[te]<Tt[te]?le:$t),Kt[Bt]&&Math.sqrt(he*he)<Tt[te]&&(Tt=(At=pt(At,Kt[Bt],Oe+1,Jt))[te]<Tt[te]?At:Tt),Tt}(ut,this.kdTree,Ot,Ot)},wt.prototype.pointPlacementToXValue=function(){var ut=this.options,Ot=ut.pointRange,bt=this.xAxis;return"between"===(ut=ut.pointPlacement)&&(ut=bt.reversed?-.5:.5),C(ut)?ut*(Ot||bt.pointRange):0},wt.prototype.isPointInside=function(ut){var Ot=this.chart,bt=this.xAxis,pt=this.yAxis;return void 0!==ut.plotY&&void 0!==ut.plotX&&0<=ut.plotY&&ut.plotY<=(pt?pt.len:Ot.plotHeight)&&0<=ut.plotX&&ut.plotX<=(bt?bt.len:Ot.plotWidth)},wt.prototype.drawTracker=function(){var ut=this,Ot=ut.options,bt=Ot.trackByArea,pt=[].concat(bt?ut.areaPath:ut.graphPath),Dt=ut.chart,Rt=Dt.pointer,St=Dt.renderer,te=Dt.options.tooltip.snap,At=ut.tracker,Kt=function(Jt){Dt.hoverSeries!==ut&&ut.onMouseOver()},Oe="rgba(192,192,192,"+(Z?1e-4:.002)+")";At?At.attr({d:pt}):ut.graph&&(ut.tracker=St.path(pt).attr({visibility:ut.visible?"visible":"hidden",zIndex:2}).addClass(bt?"highcharts-tracker-area":"highcharts-tracker-line").add(ut.group),Dt.styledMode||ut.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:Oe,fill:bt?Oe:"none","stroke-width":ut.graph.strokeWidth()+(bt?0:2*te)}),[ut.tracker,ut.markerGroup,ut.dataLabelsGroup].forEach(function(Jt){Jt&&(Jt.addClass("highcharts-tracker").on("mouseover",Kt).on("mouseout",function($t){Rt.onTrackerMouseOut($t)}),Ot.cursor&&!Dt.styledMode&&Jt.css({cursor:Ot.cursor}),$)&&Jt.on("touchstart",Kt)})),D(this,"afterDrawTracker")},wt.prototype.addPoint=function(ut,Ot,bt,pt,Dt){var Rt=this.options,St=this.data,te=this.chart,At=this.xAxis;At=At&&At.hasNames&&At.names;var Jt,Kt=Rt.data,Oe=this.xData;Ot=st(Ot,!0);var $t={series:this};this.pointClass.prototype.applyOptions.apply($t,[ut]);var he=$t.x,Tt=Oe.length;if(this.requireSorting&&he<Oe[Tt-1])for(Jt=!0;Tt&&Oe[Tt-1]>he;)Tt--;this.updateParallelArrays($t,"splice",Tt,0,0),this.updateParallelArrays($t,Tt),At&&$t.name&&(At[he]=$t.name),Kt.splice(Tt,0,ut),Jt&&(this.data.splice(Tt,0,null),this.processData()),"point"===Rt.legendType&&this.generatePoints(),bt&&(St[0]&&St[0].remove?St[0].remove(!1):(St.shift(),this.updateParallelArrays($t,"shift"),Kt.shift())),!1!==Dt&&D(this,"addPoint",{point:$t}),this.isDirtyData=this.isDirty=!0,Ot&&te.redraw(pt)},wt.prototype.removePoint=function(ut,Ot,bt){var pt=this,Dt=pt.data,Rt=Dt[ut],St=pt.points,te=pt.chart,At=function(){St&&St.length===Dt.length&&St.splice(ut,1),Dt.splice(ut,1),pt.options.data.splice(ut,1),pt.updateParallelArrays(Rt||{series:pt},"splice",ut,1),Rt&&Rt.destroy(),pt.isDirty=!0,pt.isDirtyData=!0,Ot&&te.redraw()};V(bt,te),Ot=st(Ot,!0),Rt?Rt.firePointEvent("remove",null,At):At()},wt.prototype.remove=function(ut,Ot,bt,pt){function Dt(){Rt.destroy(pt),St.isDirtyLegend=St.isDirtyBox=!0,St.linkSeries(),st(ut,!0)&&St.redraw(Ot)}var Rt=this,St=Rt.chart;!1!==bt?D(Rt,"remove",null,Dt):Dt()},wt.prototype.update=function(ut,Ot){ut=k(ut,this.userOptions),D(this,"update",{options:ut});var Oe,bt=this,pt=bt.chart,Dt=bt.userOptions,Rt=bt.initialType||bt.type,St=pt.options.plotOptions,te=lt[Rt].prototype,At=bt.finishedAnimating&&{animation:!1},Kt={},Jt=["eventOptions","navigatorSeries","baseSeries"],$t=ut.type||Dt.type||pt.options.chart.type,he=!(this.hasDerivedData||$t&&$t!==this.type||void 0!==ut.pointStart||void 0!==ut.pointInterval||void 0!==ut.relativeXValue||bt.hasOptionChanged("dataGrouping")||bt.hasOptionChanged("pointStart")||bt.hasOptionChanged("pointInterval")||bt.hasOptionChanged("pointIntervalUnit")||bt.hasOptionChanged("keys"));if($t=$t||Rt,he&&(Jt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==ut.visible&&Jt.push("area","graph"),bt.parallelArrays.forEach(function(Bt){Jt.push(Bt+"Data")}),ut.data&&(ut.dataSorting&&w(bt.options.dataSorting,ut.dataSorting),this.setData(ut.data,!1))),ut=U(Dt,At,{index:void 0===Dt.index?bt.index:Dt.index,pointStart:st(St&&St.series&&St.series.pointStart,Dt.pointStart,bt.xData[0])},!he&&{data:bt.options.data},ut),he&&ut.data&&(ut.data=bt.options.data),(Jt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(Jt)).forEach(function(Bt){Jt[Bt]=bt[Bt],delete bt[Bt]}),St=!1,lt[$t]){if(St=$t!==bt.type,bt.remove(!1,!1,!1,!0),St)if(Object.setPrototypeOf)Object.setPrototypeOf(bt,lt[$t].prototype);else{for(Oe in At=Object.hasOwnProperty.call(bt,"hcEvents")&&bt.hcEvents,te)bt[Oe]=void 0;w(bt,lt[$t].prototype),At?bt.hcEvents=At:delete bt.hcEvents}}else g(17,!0,pt,{missingModuleFor:$t});if(Jt.forEach(function(Bt){bt[Bt]=Jt[Bt]}),bt.init(pt,ut),he&&this.points){var Tt=bt.options;!1===Tt.visible?(Kt.graphic=1,Kt.dataLabel=1):bt._hasPointLabels||(te=Tt.dataLabels,!(ut=Tt.marker)||!1!==ut.enabled&&(Dt.marker&&Dt.marker.symbol)===ut.symbol||(Kt.graphic=1),te&&!1===te.enabled&&(Kt.dataLabel=1)),this.points.forEach(function(Bt){Bt&&Bt.series&&(Bt.resolveColor(),Object.keys(Kt).length&&Bt.destroyElements(Kt),!1===Tt.showInLegend&&Bt.legendItem&&pt.legend.destroyItem(Bt))},this)}bt.initialType=Rt,pt.linkSeries(),St&&bt.linkedSeries.length&&(bt.isDirtyData=!0),D(this,"afterUpdate"),st(Ot,!0)&&pt.redraw(!!he&&void 0)},wt.prototype.setName=function(ut){this.name=this.options.name=this.userOptions.name=ut,this.chart.isDirtyLegend=!0},wt.prototype.hasOptionChanged=function(ut){var Ot=this.options[ut],bt=this.chart.options.plotOptions,pt=this.userOptions[ut];return pt?Ot!==pt:Ot!==st(bt&&bt[this.type]&&bt[this.type][ut],bt&&bt.series&&bt.series[ut],Ot)},wt.prototype.onMouseOver=function(){var ut=this.chart,Ot=ut.hoverSeries;ut.pointer.setHoverChartIndex(),Ot&&Ot!==this&&Ot.onMouseOut(),this.options.events.mouseOver&&D(this,"mouseOver"),this.setState("hover"),ut.hoverSeries=this},wt.prototype.onMouseOut=function(){var ut=this.options,Ot=this.chart,bt=Ot.tooltip,pt=Ot.hoverPoint;Ot.hoverSeries=null,pt&&pt.onMouseOut(),this&&ut.events.mouseOut&&D(this,"mouseOut"),!bt||this.stickyTracking||bt.shared&&!this.noSharedTooltip||bt.hide(),Ot.series.forEach(function(Dt){Dt.setState("",!0)})},wt.prototype.setState=function(ut,Ot){var bt=this,pt=bt.options,Dt=bt.graph,Rt=pt.inactiveOtherPoints,St=pt.states,te=st(St[ut||"normal"]&&St[ut||"normal"].animation,bt.chart.options.chart.animation),At=pt.lineWidth,Kt=0,Oe=pt.opacity;if(bt.state!==(ut=ut||"")&&([bt.group,bt.markerGroup,bt.dataLabelsGroup].forEach(function(Jt){Jt&&(bt.state&&Jt.removeClass("highcharts-series-"+bt.state),ut&&Jt.addClass("highcharts-series-"+ut))}),bt.state=ut,!bt.chart.styledMode)){if(St[ut]&&!1===St[ut].enabled)return;if(ut&&(At=St[ut].lineWidth||At+(St[ut].lineWidthPlus||0),Oe=st(St[ut].opacity,Oe)),Dt&&!Dt.dashstyle)for(Dt.animate(pt={"stroke-width":At},te);bt["zone-graph-"+Kt];)bt["zone-graph-"+Kt].animate(pt,te),Kt+=1;Rt||[bt.group,bt.markerGroup,bt.dataLabelsGroup,bt.labelBySeries].forEach(function(Jt){Jt&&Jt.animate({opacity:Oe},te)})}Ot&&Rt&&bt.points&&bt.setAllPointsToState(ut||void 0)},wt.prototype.setAllPointsToState=function(ut){this.points.forEach(function(Ot){Ot.setState&&Ot.setState(ut)})},wt.prototype.setVisible=function(ut,Ot){var bt=this,pt=bt.chart,Dt=bt.legendItem,Rt=pt.options.chart.ignoreHiddenSeries,te=(bt.visible=ut=bt.options.visible=bt.userOptions.visible=void 0===ut?!bt.visible:ut)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(At){bt[At]&&bt[At][te]()}),(pt.hoverSeries===bt||(pt.hoverPoint&&pt.hoverPoint.series)===bt)&&bt.onMouseOut(),Dt&&pt.legend.colorizeItem(bt,ut),bt.isDirty=!0,bt.options.stacking&&pt.series.forEach(function(At){At.options.stacking&&At.visible&&(At.isDirty=!0)}),bt.linkedSeries.forEach(function(At){At.setVisible(ut,!1)}),Rt&&(pt.isDirtyBox=!0),D(bt,te),!1!==Ot&&pt.redraw()},wt.prototype.show=function(){this.setVisible(!0)},wt.prototype.hide=function(){this.setVisible(!1)},wt.prototype.select=function(ut){this.selected=ut=this.options.selected=void 0===ut?!this.selected:ut,this.checkbox&&(this.checkbox.checked=ut),D(this,ut?"select":"unselect")},wt.prototype.shouldShowTooltip=function(ut,Ot,bt){return void 0===bt&&(bt={}),bt.series=this,bt.visiblePlotOnly=!0,this.chart.isInsidePlot(ut,Ot,bt)},wt.defaultOptions=I,wt}(),w(M.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:z.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:B,requireSorting:!0,sorted:!0}),Y.series=M,M}),et(it,"Extensions/ScrollablePlotArea.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/Axis/Axis.js"],it["Core/Chart/Chart.js"],it["Core/Series/Series.js"],it["Core/Renderer/RendererRegistry.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B){var I=M.stop,Y=B.addEvent,T=B.createElement,F=B.merge,O=B.pick;Y(H,"afterSetChartSize",function(V){var G=this.options.chart.scrollablePlotArea,R=G&&G.minWidth;if(G=G&&G.minHeight,!this.renderer.forExport){if(R){if(this.scrollablePixelsX=R=Math.max(0,R-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=F(this.plotBox),this.plotBox.width=this.plotWidth+=R,this.inverted?this.clipBox.height+=R:this.clipBox.width+=R;var $={1:{name:"right",value:R}}}}else G&&(this.scrollablePixelsY=R=Math.max(0,G-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=F(this.plotBox),this.plotBox.height=this.plotHeight+=R,this.inverted?this.clipBox.width+=R:this.clipBox.height+=R,$={2:{name:"bottom",value:R}});$&&!V.skipAxes&&this.axes.forEach(function(Z){$[Z.side]?Z.getPlotLinePath=function(){var Q=$[Z.side].name,lt=this[Q];this[Q]=lt-$[Z.side].value;var ht=j.prototype.getPlotLinePath.apply(this,arguments);return this[Q]=lt,ht}:(Z.setAxisSize(),Z.setAxisTranslation())})}}),Y(H,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),H.prototype.setUpScrolling=function(){var V=this,G={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(G.overflowX="auto"),this.scrollablePixelsY&&(G.overflowY="auto"),this.scrollingParent=T("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=T("div",{className:"highcharts-scrolling"},G,this.scrollingParent),Y(this.scrollingContainer,"scroll",function(){V.pointer&&delete V.pointer.chartPosition}),this.innerContainer=T("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},H.prototype.moveFixedElements=function(){var $,V=this.container,G=this.fixedRenderer,R=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?$=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?$=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&($=".highcharts-yaxis"),$&&R.push($+":not(.highcharts-radial-axis)",$+"-labels:not(.highcharts-radial-axis-labels)"),R.forEach(function(Z){[].forEach.call(V.querySelectorAll(Z),function(Q){(Q.namespaceURI===G.SVG_NS?G.box:G.box.parentNode).appendChild(Q),Q.style.pointerEvents="auto"})})},H.prototype.applyFixed=function(){var V=!this.fixedDiv,G=this.options.chart,R=G.scrollablePlotArea,$=z.getRendererType();V?(this.fixedDiv=T("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(G.style&&G.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=G=new $(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=G.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":O(R.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),Y(this,"afterShowResetZoom",this.moveFixedElements),Y(this,"afterDrilldown",this.moveFixedElements),Y(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||V)&&(this.scrollableDirty=!1,this.moveFixedElements()),G=this.chartWidth+(this.scrollablePixelsX||0),$=this.chartHeight+(this.scrollablePixelsY||0),I(this.container),this.container.style.width=G+"px",this.container.style.height=$+"px",this.renderer.boxWrapper.attr({width:G,height:$,viewBox:[0,0,G,$].join(" ")}),this.chartBackground.attr({width:G,height:$}),this.scrollingContainer.style.height=this.chartHeight+"px",V&&(R.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*R.scrollPositionX),R.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*R.scrollPositionY)),V=this.plotTop-($=this.axisOffset)[0]-1,R=this.plotLeft-$[3]-1,G=this.plotTop+this.plotHeight+$[2]+1,$=this.plotLeft+this.plotWidth+$[1]+1;var Z=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),Q=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);V=this.scrollablePixelsX?[["M",0,V],["L",this.plotLeft-1,V],["L",this.plotLeft-1,G],["L",0,G],["Z"],["M",Z,V],["L",this.chartWidth,V],["L",this.chartWidth,G],["L",Z,G],["Z"]]:this.scrollablePixelsY?[["M",R,0],["L",R,this.plotTop-1],["L",$,this.plotTop-1],["L",$,0],["Z"],["M",R,Q],["L",R,this.chartHeight],["L",$,this.chartHeight],["L",$,Q],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:V})},Y(j,"afterInit",function(){this.chart.scrollableDirty=!0}),Y(X,"show",function(){this.chart.scrollableDirty=!0})}),et(it,"Core/Axis/StackingAxis.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/Axis/Axis.js"],it["Core/Utilities.js"]],function(M,j,H){var F,X=M.getDeferredAnimation,z=H.addEvent,B=H.destroyObjectProperties,I=H.fireEvent,Y=H.isNumber,T=H.objectEach;return function(O){function V(){var Z=this.stacking;if(Z){var Q=Z.stacks;T(Q,function(lt,ht){B(lt),Q[ht]=null}),Z&&Z.stackTotalGroup&&Z.stackTotalGroup.destroy()}}function G(){this.stacking||(this.stacking=new $(this))}var R=[];O.compose=function(Z){return-1===R.indexOf(Z)&&(R.push(Z),z(Z,"init",G),z(Z,"destroy",V)),Z};var $=function(){function Z(Q){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=Q}return Z.prototype.buildStacks=function(){var dt,Q=this.axis,lt=Q.series,ht=Q.options.reversedStacks,mt=lt.length;if(!Q.isXAxis){for(this.usePercentage=!1,dt=mt;dt--;){var gt=lt[ht?dt:mt-dt-1];gt.setStackedPoints(),gt.setGroupedPoints()}for(dt=0;dt<mt;dt++)lt[dt].modifyStacks();I(Q,"afterBuildStacks")}},Z.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var Q=this.stacks=this.oldStacks;T(Q,function(lt){T(lt,function(ht){ht.cumulative=ht.total})})}},Z.prototype.resetStacks=function(){var Q=this;Q.axis.isXAxis||T(Q.stacks,function(ht){T(ht,function(mt,dt){Y(mt.touched)&&mt.touched<Q.stacksTouched?(mt.destroy(),delete ht[dt]):(mt.total=null,mt.cumulative=null)})})},Z.prototype.renderStackTotals=function(){var Q=this.axis,lt=Q.chart,ht=lt.renderer,mt=this.stacks;Q=X(lt,Q.options.stackLabels&&Q.options.stackLabels.animation||!1);var dt=this.stackTotalGroup=this.stackTotalGroup||ht.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();dt.translate(lt.plotLeft,lt.plotTop),T(mt,function(gt){T(gt,function(k){k.render(dt)})}),dt.animate({opacity:1},Q)},Z}();O.Additions=$}(F||(F={})),F}),et(it,"Extensions/Stacking.js",[it["Core/Axis/Axis.js"],it["Core/Chart/Chart.js"],it["Core/FormatUtilities.js"],it["Core/Globals.js"],it["Core/Series/Series.js"],it["Core/Axis/StackingAxis.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B,I){var Y=H.format,T=I.correctFloat,F=I.defined,O=I.destroyObjectProperties,V=I.isArray,G=I.isNumber,R=I.objectEach,$=I.pick,Z=function(){function Q(lt,ht,mt,dt,gt){var k=lt.chart.inverted;this.axis=lt,this.isNegative=mt,this.options=ht=ht||{},this.x=dt,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=gt,this.rightCliff=this.leftCliff=0,this.alignOptions={align:ht.align||(k?mt?"left":"right":"center"),verticalAlign:ht.verticalAlign||(k?"middle":mt?"bottom":"top"),y:ht.y,x:ht.x},this.textAlign=ht.textAlign||(k?mt?"right":"left":"center")}return Q.prototype.destroy=function(){O(this,this.axis)},Q.prototype.render=function(lt){var ht=this.axis.chart,mt=this.options,dt=mt.format;dt=dt?Y(dt,this,ht):mt.formatter.call(this),this.label?this.label.attr({text:dt,visibility:"hidden"}):(this.label=ht.renderer.label(dt,null,null,mt.shape,null,null,mt.useHTML,!1,"stack-labels"),dt={r:mt.borderRadius||0,text:dt,rotation:mt.rotation,padding:$(mt.padding,5),visibility:"hidden"},ht.styledMode||(dt.fill=mt.backgroundColor,dt.stroke=mt.borderColor,dt["stroke-width"]=mt.borderWidth,this.label.css(mt.style)),this.label.attr(dt),this.label.added||this.label.add(lt)),this.label.labelrank=ht.plotSizeY},Q.prototype.setOffset=function(lt,ht,mt,dt,gt){var k=this.axis,u=k.chart;dt=k.translate(k.stacking.usePercentage?100:dt||this.total,0,0,0,1),mt=k.translate(mt||0),mt=F(dt)&&Math.abs(dt-mt),lt=$(gt,u.xAxis[0].translate(this.x))+lt,k=F(dt)&&this.getStackBox(u,this,lt,dt,ht,mt,k),ht=this.label,mt=this.isNegative,lt="justify"===$(this.options.overflow,"justify");var p=this.textAlign;ht&&k&&(gt=ht.getBBox(),dt=ht.padding,p="left"===p?u.inverted?-dt:dt:"right"===p?gt.width:u.inverted&&"center"===p?gt.width/2:u.inverted?mt?gt.width+dt:-dt:gt.width/2,mt=u.inverted?gt.height/2:mt?-dt:gt.height,this.alignOptions.x=$(this.options.x,0),this.alignOptions.y=$(this.options.y,0),k.x-=p,k.y-=mt,ht.align(this.alignOptions,null,k),u.isInsidePlot(ht.alignAttr.x+p-this.alignOptions.x,ht.alignAttr.y+mt-this.alignOptions.y)?ht.show():(ht.alignAttr.y=-9999,lt=!1),lt&&z.prototype.justifyDataLabel.call(this.axis,ht,this.alignOptions,ht.alignAttr,gt,k),ht.attr({x:ht.alignAttr.x,y:ht.alignAttr.y}),$(!lt&&this.options.crop,!0)&&((u=G(ht.x)&&G(ht.y)&&u.isInsidePlot(ht.x-dt+ht.width,ht.y)&&u.isInsidePlot(ht.x+dt,ht.y))||ht.hide()))},Q.prototype.getStackBox=function(lt,ht,mt,dt,gt,k,u){var p=ht.axis.reversed,v=lt.inverted,g=u.height+u.pos-(v?lt.plotLeft:lt.plotTop);return ht=ht.isNegative&&!p||!ht.isNegative&&p,{x:v?ht?dt-u.right:dt-k+u.pos-lt.plotLeft:mt+lt.xAxis[0].transB-lt.plotLeft,y:v?u.height-mt-gt:ht?g-dt-k:g-dt,width:v?k:gt,height:v?gt:k}},Q}();return j.prototype.getStacks=function(){var Q=this,lt=Q.inverted;Q.yAxis.forEach(function(ht){ht.stacking&&ht.stacking.stacks&&ht.hasVisibleSeries&&(ht.stacking.oldStacks=ht.stacking.stacks)}),Q.series.forEach(function(ht){var mt=ht.xAxis&&ht.xAxis.options||{};!ht.options.stacking||!0!==ht.visible&&!1!==Q.options.chart.ignoreHiddenSeries||(ht.stackKey=[ht.type,$(ht.options.stack,""),lt?mt.top:mt.left,lt?mt.height:mt.width].join())})},B.compose(M),z.prototype.setGroupedPoints=function(){var Q=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?z.prototype.setStackedPoints.call(this,"group"):Q&&R(Q.stacks,function(lt,ht){"group"===ht.slice(-5)&&(R(lt,function(mt){return mt.destroy()}),delete Q.stacks[ht])})},z.prototype.setStackedPoints=function(Q){var lt=Q||this.options.stacking;if(lt&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var ht=this.processedXData,mt=this.processedYData,dt=[],gt=mt.length,k=this.options,u=k.threshold,p=$(k.startFromThreshold&&u,0);k=k.stack;var _,f,v="-"+(Q=Q?this.type+","+lt:this.stackKey),g=this.negStacks,w=this.yAxis,b=w.stacking.stacks,D=w.stacking.oldStacks;for(w.stacking.stacksTouched+=1,f=0;f<gt;f++){var C=ht[f],K=mt[f],U=this.getStackIndicator(U,C,this.index),W=U.key,st=(_=g&&K<(p?0:u))?v:Q;b[st]||(b[st]={}),b[st][C]||(D[st]&&D[st][C]?(b[st][C]=D[st][C],b[st][C].total=null):b[st][C]=new Z(w,w.options.stackLabels,_,C,k)),st=b[st][C],null!==K?(st.points[W]=st.points[this.index]=[$(st.cumulative,p)],F(st.cumulative)||(st.base=W),st.touched=w.stacking.stacksTouched,0<U.index&&!1===this.singleStacks&&(st.points[W][0]=st.points[this.index+","+C+",0"][0])):st.points[W]=st.points[this.index]=null,"percent"===lt?(_=_?Q:v,st.total=g&&b[_]&&b[_][C]?(_=b[_][C]).total=Math.max(_.total,st.total)+Math.abs(K)||0:T(st.total+(Math.abs(K)||0))):"group"===lt?(V(K)&&(K=K[0]),null!==K&&(st.total=(st.total||0)+1)):st.total=T(st.total+(K||0)),st.cumulative="group"===lt?(st.total||1)-1:$(st.cumulative,p)+(K||0),null!==K&&(st.points[W].push(st.cumulative),dt[f]=st.cumulative,st.hasValidPoints=!0)}"percent"===lt&&(w.stacking.usePercentage=!0),"group"!==lt&&(this.stackedYData=dt),w.stacking.oldStacks={}}},z.prototype.modifyStacks=function(){var dt,Q=this,lt=Q.stackKey,ht=Q.yAxis.stacking.stacks,mt=Q.processedXData,gt=Q.options.stacking;Q[gt+"Stacker"]&&[lt,"-"+lt].forEach(function(k){for(var p,v,u=mt.length;u--;)dt=Q.getStackIndicator(dt,p=mt[u],Q.index,k),(v=(p=ht[k]&&ht[k][p])&&p.points[dt.key])&&Q[gt+"Stacker"](v,p,u)})},z.prototype.percentStacker=function(Q,lt,ht){Q[0]=T(Q[0]*(lt=lt.total?100/lt.total:0)),Q[1]=T(Q[1]*lt),this.stackedYData[ht]=Q[1]},z.prototype.getStackIndicator=function(Q,lt,ht,mt){return!F(Q)||Q.x!==lt||mt&&Q.key!==mt?Q={x:lt,index:0,key:mt}:Q.index++,Q.key=[ht,lt,Q.index].join(),Q},X.StackItem=Z,X.StackItem}),et(it,"Series/Line/LineSeries.js",[it["Core/Series/Series.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j,H){var I,X=this&&this.__extends||(I=function(Y,T){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,O){F.__proto__=O}||function(F,O){for(var V in O)O.hasOwnProperty(V)&&(F[V]=O[V])})(Y,T)},function(Y,T){function F(){this.constructor=Y}I(Y,T),Y.prototype=null===T?Object.create(T):(F.prototype=T.prototype,new F)}),z=H.defined,B=H.merge;return H=function(I){function Y(){var T=null!==I&&I.apply(this,arguments)||this;return T.data=void 0,T.options=void 0,T.points=void 0,T}return X(Y,I),Y.prototype.drawGraph=function(){var T=this,F=this.options,O=(this.gappedPath||this.getGraphPath).call(this),V=this.chart.styledMode,G=[["graph","highcharts-graph"]];V||G[0].push(F.lineColor||this.color||"#cccccc",F.dashStyle),(G=T.getZonesGraphs(G)).forEach(function(R,$){var Z=R[0],Q=T[Z],lt=Q?"animate":"attr";Q?(Q.endX=T.preventGraphAnimation?null:O.xMap,Q.animate({d:O})):O.length&&(T[Z]=Q=T.chart.renderer.path(O).addClass(R[1]).attr({zIndex:1}).add(T.group)),Q&&!V&&(Z={stroke:R[2],"stroke-width":F.lineWidth,fill:T.fillGraph&&T.color||"none"},R[3]?Z.dashstyle=R[3]:"square"!==F.linecap&&(Z["stroke-linecap"]=Z["stroke-linejoin"]="round"),Q[lt](Z).shadow(2>$&&F.shadow)),Q&&(Q.startX=O.xMap,Q.isArea=O.isArea)})},Y.prototype.getGraphPath=function(T,F,O){var Z,V=this,G=V.options,R=[],$=[],Q=G.step,lt=(T=T||V.points).reversed;return lt&&T.reverse(),(Q={right:1,center:2}[Q]||Q&&3)&&lt&&(Q=4-Q),(T=this.getValidPoints(T,!1,!(G.connectNulls&&!F&&!O))).forEach(function(ht,mt){var dt=ht.plotX,gt=ht.plotY,k=T[mt-1];(ht.leftCliff||k&&k.rightCliff)&&!O&&(Z=!0),ht.isNull&&!z(F)&&0<mt?Z=!G.connectNulls:ht.isNull&&!F?Z=!0:(0===mt||Z?mt=[["M",ht.plotX,ht.plotY]]:V.getPointSpline?mt=[V.getPointSpline(T,ht,mt)]:Q?(mt=1===Q?[["L",k.plotX,gt]]:2===Q?[["L",(k.plotX+dt)/2,k.plotY],["L",(k.plotX+dt)/2,gt]]:[["L",dt,k.plotY]]).push(["L",dt,gt]):mt=[["L",dt,gt]],$.push(ht.x),Q&&($.push(ht.x),2===Q&&$.push(ht.x)),R.push.apply(R,mt),Z=!1)}),R.xMap=$,V.graphPath=R},Y.prototype.getZonesGraphs=function(T){return this.zones.forEach(function(F,O){O=["zone-graph-"+O,"highcharts-graph highcharts-zone-graph-"+O+" "+(F.className||"")],this.chart.styledMode||O.push(F.color||this.color,F.dashStyle||this.options.dashStyle),T.push(O)},this),T},Y.defaultOptions=B(M.defaultOptions,{}),Y}(M),j.registerSeriesType("line",H),H}),et(it,"Series/Area/AreaSeries.js",[it["Core/Color/Color.js"],it["Core/Legend/LegendSymbol.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j,H,X){var O,z=this&&this.__extends||(O=function(V,G){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,$){R.__proto__=$}||function(R,$){for(var Z in $)$.hasOwnProperty(Z)&&(R[Z]=$[Z])})(V,G)},function(V,G){function R(){this.constructor=V}O(V,G),V.prototype=null===G?Object.create(G):(R.prototype=G.prototype,new R)}),B=M.parse,I=H.seriesTypes.line;M=X.extend;var Y=X.merge,T=X.objectEach,F=X.pick;return X=function(O){function V(){var G=null!==O&&O.apply(this,arguments)||this;return G.data=void 0,G.options=void 0,G.points=void 0,G}return z(V,O),V.prototype.drawGraph=function(){this.areaPath=[],O.prototype.drawGraph.apply(this);var G=this,R=this.areaPath,$=this.options,Z=[["area","highcharts-area",this.color,$.fillColor]];this.zones.forEach(function(Q,lt){Z.push(["zone-area-"+lt,"highcharts-area highcharts-zone-area-"+lt+" "+Q.className,Q.color||G.color,Q.fillColor||$.fillColor])}),Z.forEach(function(Q){var lt=Q[0],ht=G[lt],mt=ht?"animate":"attr",dt={};ht?(ht.endX=G.preventGraphAnimation?null:R.xMap,ht.animate({d:R})):(dt.zIndex=0,(ht=G[lt]=G.chart.renderer.path(R).addClass(Q[1]).add(G.group)).isArea=!0),G.chart.styledMode||(dt.fill=F(Q[3],B(Q[2]).setOpacity(F($.fillOpacity,.75)).get())),ht[mt](dt),ht.startX=R.xMap,ht.shiftUnit=$.step?2:1})},V.prototype.getGraphPath=function(G){var lt,R=I.prototype.getGraphPath,$=this.options,Z=$.stacking,Q=this.yAxis,ht=[],mt=[],dt=this.index,gt=Q.stacking.stacks[this.stackKey],k=$.threshold,u=Math.round(Q.getThreshold($.threshold));$=F($.connectNulls,"percent"===Z);var p=function(b,D,_){var f=G[b];b=Z&&gt[f.x].points[dt];var C=f[_+"Null"]||0;if(_=f[_+"Cliff"]||0,f=!0,_||C){var K=(C?b[0]:b[1])+_,U=b[0]+_;f=!!C}else!Z&&G[D]&&G[D].isNull&&(K=U=k);void 0!==K&&(mt.push({plotX:g,plotY:null===K?u:Q.getThreshold(K),isNull:f,isCliff:!0}),ht.push({plotX:g,plotY:null===U?u:Q.getThreshold(U),doCurve:!1}))};for(G=G||this.points,Z&&(G=this.getStackPoints(G)),lt=0;lt<G.length;lt++){Z||(G[lt].leftCliff=G[lt].rightCliff=G[lt].leftNull=G[lt].rightNull=void 0);var v=G[lt].isNull,g=F(G[lt].rectPlotX,G[lt].plotX),w=Z?F(G[lt].yBottom,u):u;(!v||$)&&($||p(lt,lt-1,"left"),v&&!Z&&$||(mt.push(G[lt]),ht.push({x:lt,plotX:g,plotY:w})),$||p(lt,lt+1,"right"))}return lt=R.call(this,mt,!0,!0),ht.reversed=!0,(w=(v=R.call(this,ht,!0,!0))[0])&&"M"===w[0]&&(v[0]=["L",w[1],w[2]]),(v=lt.concat(v)).length&&v.push(["Z"]),R=R.call(this,mt,!1,$),v.xMap=lt.xMap,this.areaPath=v,R},V.prototype.getStackPoints=function(G){var R=this,$=[],Z=[],Q=this.xAxis,lt=this.yAxis,ht=lt.stacking.stacks[this.stackKey],mt={},dt=lt.series,gt=dt.length,k=lt.options.reversedStacks?1:-1,u=dt.indexOf(R);if(G=G||this.points,this.options.stacking){for(var p=0;p<G.length;p++)G[p].leftNull=G[p].rightNull=void 0,mt[G[p].x]=G[p];T(ht,function(g,w){null!==g.total&&Z.push(w)}),Z.sort(function(g,w){return g-w});var v=dt.map(function(g){return g.visible});Z.forEach(function(g,w){var D,_,b=0;if(mt[g]&&!mt[g].isNull)$.push(mt[g]),[-1,1].forEach(function(C){var K=1===C?"rightNull":"leftNull",U=0,W=ht[Z[w+C]];if(W)for(var st=u;0<=st&&st<gt;){var ct=dt[st].index;(D=W.points[ct])||(ct===R.index?mt[g][K]=!0:v[st]&&(_=ht[g].points[ct])&&(U-=_[1]-_[0])),st+=k}mt[g][1===C?"rightCliff":"leftCliff"]=U});else{for(var f=u;0<=f&&f<gt;){if(D=ht[g].points[dt[f].index]){b=D[1];break}f+=k}b=F(b,0),b=lt.translate(b,0,1,0,1),$.push({isNull:!0,plotX:Q.translate(g,0,0,0,1),x:g,plotY:b,yBottom:b})}})}return $},V.defaultOptions=Y(I.defaultOptions,{threshold:0}),V}(I),M(X.prototype,{singleStacks:!1,drawLegendSymbol:j.drawRectangle}),H.registerSeriesType("area",X),X}),et(it,"Series/Spline/SplineSeries.js",[it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j){var I,H=this&&this.__extends||(I=function(Y,T){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,O){F.__proto__=O}||function(F,O){for(var V in O)O.hasOwnProperty(V)&&(F[V]=O[V])})(Y,T)},function(Y,T){function F(){this.constructor=Y}I(Y,T),Y.prototype=null===T?Object.create(T):(F.prototype=T.prototype,new F)}),X=M.seriesTypes.line,z=j.merge,B=j.pick;return j=function(I){function Y(){var T=null!==I&&I.apply(this,arguments)||this;return T.data=void 0,T.options=void 0,T.points=void 0,T}return H(Y,I),Y.prototype.getPointSpline=function(T,F,O){var V=F.plotX||0,G=F.plotY||0,R=T[O-1];if(O=T[O+1],R&&!R.isNull&&!1!==R.doCurve&&!F.isCliff&&O&&!O.isNull&&!1!==O.doCurve&&!F.isCliff){var $=O.plotX||0,Z=0,Q=(1.5*V+(R.plotX||0))/2.5,lt=(1.5*G+(T=R.plotY||0))/2.5,ht=(1.5*G+(O=O.plotY||0))/2.5;($=(1.5*V+$)/2.5)!==Q&&(Z=(ht-lt)*($-V)/($-Q)+G-ht),ht+=Z,(lt+=Z)>T&&lt>G?ht=2*G-(lt=Math.max(T,G)):lt<T&&lt<G&&(ht=2*G-(lt=Math.min(T,G))),ht>O&&ht>G?lt=2*G-(ht=Math.max(O,G)):ht<O&&ht<G&&(lt=2*G-(ht=Math.min(O,G))),F.rightContX=$,F.rightContY=ht}return F=["C",B(R.rightContX,R.plotX,0),B(R.rightContY,R.plotY,0),B(Q,V,0),B(lt,G,0),V,G],R.rightContX=R.rightContY=void 0,F},Y.defaultOptions=z(X.defaultOptions),Y}(X),M.registerSeriesType("spline",j),j}),et(it,"Series/AreaSpline/AreaSplineSeries.js",[it["Series/Area/AreaSeries.js"],it["Series/Spline/SplineSeries.js"],it["Core/Legend/LegendSymbol.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j,H,X,z){var F,B=this&&this.__extends||(F=function(O,V){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,R){G.__proto__=R}||function(G,R){for(var $ in R)R.hasOwnProperty($)&&(G[$]=R[$])})(O,V)},function(O,V){function G(){this.constructor=O}F(O,V),O.prototype=null===V?Object.create(V):(G.prototype=V.prototype,new G)}),I=M.prototype,Y=z.extend,T=z.merge;return z=function(F){function O(){var V=null!==F&&F.apply(this,arguments)||this;return V.data=void 0,V.points=void 0,V.options=void 0,V}return B(O,F),O.defaultOptions=T(j.defaultOptions,M.defaultOptions),O}(j),Y(z.prototype,{getGraphPath:I.getGraphPath,getStackPoints:I.getStackPoints,drawGraph:I.drawGraph,drawLegendSymbol:H.drawRectangle}),X.registerSeriesType("areaspline",z),z}),et(it,"Series/Column/ColumnSeries.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/Color/Color.js"],it["Core/Globals.js"],it["Core/Legend/LegendSymbol.js"],it["Core/Series/Series.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B,I){var gt,Y=this&&this.__extends||(gt=function(k,u){return(gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var g in v)v.hasOwnProperty(g)&&(p[g]=v[g])})(k,u)},function(k,u){function p(){this.constructor=k}gt(k,u),k.prototype=null===u?Object.create(u):(p.prototype=u.prototype,new p)}),T=M.animObject,F=j.parse,O=H.hasTouch;M=H.noop;var V=I.clamp,G=I.css,R=I.defined,$=I.extend,Z=I.fireEvent,Q=I.isArray,lt=I.isNumber,ht=I.merge,mt=I.pick,dt=I.objectEach;return I=function(gt){function k(){var u=null!==gt&&gt.apply(this,arguments)||this;return u.borderWidth=void 0,u.data=void 0,u.group=void 0,u.options=void 0,u.points=void 0,u}return Y(k,gt),k.prototype.animate=function(u){var p=this,v=this.yAxis,g=p.options,w=this.chart.inverted,b={},D=w?"translateX":"translateY";if(u)b.scaleY=.001,u=V(v.toPixels(g.threshold),v.pos,v.pos+v.len),w?b.translateX=u-v.len:b.translateY=u,p.clipBox&&p.setClip(),p.group.attr(b);else{var _=Number(p.group.attr(D));p.group.animate({scaleY:1},$(T(p.options.animation),{step:function(f,C){p.group&&(b[D]=_+C.pos*(v.pos-_),p.group.attr(b))}}))}},k.prototype.init=function(u,p){gt.prototype.init.apply(this,arguments);var v=this;(u=v.chart).hasRendered&&u.series.forEach(function(g){g.type===v.type&&(g.isDirty=!0)})},k.prototype.getColumnMetrics=function(){var u=this,p=u.options,v=u.xAxis,g=u.yAxis,w=v.options.reversedStacks;w=v.reversed&&!w||!v.reversed&&w;var D,b={},_=0;!1===p.grouping?_=1:u.chart.series.forEach(function(U){var W=U.yAxis,st=U.options;if(U.type===u.type&&(U.visible||!u.chart.options.chart.ignoreHiddenSeries)&&g.len===W.len&&g.pos===W.pos){if(st.stacking&&"group"!==st.stacking){void 0===b[D=U.stackKey]&&(b[D]=_++);var ct=b[D]}else!1!==st.grouping&&(ct=_++);U.columnIndex=ct}});var f=Math.min(Math.abs(v.transA)*(v.ordinal&&v.ordinal.slope||p.pointRange||v.closestPointRange||v.tickInterval||1),v.len),C=f*p.groupPadding,K=(f-2*C)/(_||1);return p=Math.min(p.maxPointWidth||v.len,mt(p.pointWidth,K*(1-2*p.pointPadding))),u.columnMetrics={width:p,offset:(K-p)/2+(C+((u.columnIndex||0)+(w?1:0))*K-f/2)*(w?-1:1),paddedWidth:K,columnCount:_},u.columnMetrics},k.prototype.crispCol=function(u,p,v,g){var w=this.chart,b=this.borderWidth,D=-(b%2?.5:0);return b=b%2?.5:1,w.inverted&&w.renderer.isVML&&(b+=1),this.options.crisp&&(v=Math.round(u+v)+D,v-=u=Math.round(u)+D),g=Math.round(p+g)+b,D=.5>=Math.abs(p)&&.5<g,g-=p=Math.round(p)+b,D&&g&&(--p,g+=1),{x:u,y:p,width:v,height:g}},k.prototype.adjustForMissingColumns=function(u,p,v,g){var w=this,b=this.options.stacking;if(!v.isNull&&1<g.columnCount){var D=0,_=0;dt(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(f){if("number"==typeof v.x&&(f=f[v.x.toString()])){var C=f.points[w.index],K=f.total;b?(C&&(D=_),f.hasValidPoints&&_++):Q(C)&&(D=C[1],_=K||0)}}),u=(v.plotX||0)+((_-1)*g.paddedWidth+p)/2-p-D*g.paddedWidth}return u},k.prototype.translate=function(){var u=this,p=u.chart,v=u.options,g=u.dense=2>u.closestPointRange*u.xAxis.transA;g=u.borderWidth=mt(v.borderWidth,g?0:1);var w=u.xAxis,b=u.yAxis,D=v.threshold,_=u.translatedThreshold=b.getThreshold(D),f=mt(v.minPointLength,5),C=u.getColumnMetrics(),K=C.width,U=u.pointXOffset=C.offset,W=u.dataMin,st=u.dataMax,ct=u.barW=Math.max(K,1+2*g);p.inverted&&(_-=.5),v.pointPadding&&(ct=Math.ceil(ct)),z.prototype.translate.apply(u),u.points.forEach(function(Ct){var kt=mt(Ct.yBottom,_),wt=999+Math.abs(kt),ut=Ct.plotX||0;wt=V(Ct.plotY,-wt,b.len+wt);var Ot=Math.min(wt,kt),bt=Math.max(wt,kt)-Ot,pt=K,Dt=ut+U,Rt=ct;f&&Math.abs(bt)<f&&(bt=f,ut=!b.reversed&&!Ct.negative||b.reversed&&Ct.negative,lt(D)&&lt(st)&&Ct.y===D&&st<=D&&(b.min||0)<D&&(W!==st||(b.max||0)<=D)&&(ut=!ut),Ot=Math.abs(Ot-_)>f?kt-f:_-(ut?f:0)),R(Ct.options.pointWidth)&&(pt=Rt=Math.ceil(Ct.options.pointWidth),Dt-=Math.round((pt-K)/2)),v.centerInCategory&&(Dt=u.adjustForMissingColumns(Dt,pt,Ct,C)),Ct.barX=Dt,Ct.pointWidth=pt,Ct.tooltipPos=p.inverted?[V(b.len+b.pos-p.plotLeft-wt,b.pos-p.plotLeft,b.len+b.pos-p.plotLeft),w.len+w.pos-p.plotTop-Dt-Rt/2,bt]:[w.left-p.plotLeft+Dt+Rt/2,V(wt+b.pos-p.plotTop,b.pos-p.plotTop,b.len+b.pos-p.plotTop),bt],Ct.shapeType=u.pointClass.prototype.shapeType||"rect",Ct.shapeArgs=u.crispCol.apply(u,Ct.isNull?[Dt,_,Rt,0]:[Dt,Ot,Rt,bt])})},k.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},k.prototype.pointAttribs=function(u,p){var v=this.options,g=this.pointAttrToOptions||{},w=g.stroke||"borderColor",b=g["stroke-width"]||"borderWidth",D=u&&u.color||this.color,_=u&&u[w]||v[w]||D;g=u&&u.options.dashStyle||v.dashStyle;var f=u&&u[b]||v[b]||this[b]||0,C=mt(u&&u.opacity,v.opacity,1);if(u&&this.zones.length){var K=u.getZone();D=u.options.color||K&&(K.color||u.nonZonedColor)||this.color,K&&(_=K.borderColor||_,g=K.dashStyle||g,f=K.borderWidth||f)}return p&&u&&(p=(u=ht(v.states[p],u.options.states&&u.options.states[p]||{})).brightness,D=u.color||void 0!==p&&F(D).brighten(u.brightness).get()||D,_=u[w]||_,f=u[b]||f,g=u.dashStyle||g,C=mt(u.opacity,C)),w={fill:D,stroke:_,"stroke-width":f,opacity:C},g&&(w.dashstyle=g),w},k.prototype.drawPoints=function(){var b,u=this,p=this.chart,v=u.options,g=p.renderer,w=v.animationLimit||250;u.points.forEach(function(D){var _=D.graphic,f=!!_,C=_&&p.pointCount<w?"animate":"attr";lt(D.plotY)&&null!==D.y?(b=D.shapeArgs,_&&D.hasNewShapeType()&&(_=_.destroy()),u.enabledDataSorting&&(D.startXPos=u.xAxis.reversed?-(b&&b.width||0):u.xAxis.width),_||(D.graphic=_=g[D.shapeType](b).add(D.group||u.group))&&u.enabledDataSorting&&p.hasRendered&&p.pointCount<w&&(_.attr({x:D.startXPos}),f=!0,C="animate"),_&&f&&_[C](ht(b)),v.borderRadius&&_[C]({r:v.borderRadius}),p.styledMode||_[C](u.pointAttribs(D,D.selected&&"select")).shadow(!1!==D.allowShadow&&v.shadow,null,v.stacking&&!v.borderRadius),_&&(_.addClass(D.getClassName(),!0),_.attr({visibility:D.visible?"inherit":"hidden"}))):_&&(D.graphic=_.destroy())})},k.prototype.drawTracker=function(){var w,u=this,p=u.chart,v=p.pointer,g=function(b){var D=v.getPointFromEvent(b);void 0!==D&&(v.isDirectTouch=!0,D.onMouseOver(b))};u.points.forEach(function(b){w=Q(b.dataLabels)?b.dataLabels:b.dataLabel?[b.dataLabel]:[],b.graphic&&(b.graphic.element.point=b),w.forEach(function(D){D.div?D.div.point=b:D.element.point=b})}),u._hasTracking||(u.trackerGroups.forEach(function(b){u[b]&&(u[b].addClass("highcharts-tracker").on("mouseover",g).on("mouseout",function(D){v.onTrackerMouseOut(D)}),O&&u[b].on("touchstart",g),!p.styledMode&&u.options.cursor&&u[b].css(G).css({cursor:u.options.cursor}))}),u._hasTracking=!0),Z(this,"afterDrawTracker")},k.prototype.remove=function(){var u=this,p=u.chart;p.hasRendered&&p.series.forEach(function(v){v.type===u.type&&(v.isDirty=!0)}),z.prototype.remove.apply(u,arguments)},k.defaultOptions=ht(z.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),k}(z),$(I.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:X.drawRectangle,getSymbol:M,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),B.registerSeriesType("column",I),I}),et(it,"Core/Series/DataLabel.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/FormatUtilities.js"],it["Core/Utilities.js"]],function(M,j,H){var R,X=M.getDeferredAnimation,z=j.format,B=H.defined,I=H.extend,Y=H.fireEvent,T=H.isArray,F=H.merge,O=H.objectEach,V=H.pick,G=H.splat;return function($){function Z(k,u,p,v,g){var w=this,b=this.chart,D=this.isCartesian&&b.inverted,_=this.enabledDataSorting,f=V(k.dlBox&&k.dlBox.centerX,k.plotX,-9999),C=V(k.plotY,-9999),K=u.getBBox(),U=p.rotation,W=p.align,st=b.isInsidePlot(f,Math.round(C),{inverted:D,paneCoordinates:!0,series:w}),ct=function(ut){_&&w.xAxis&&!Ct&&w.setDataLabelStartPos(k,u,g,st,ut)},Ct="justify"===V(p.overflow,_?"none":"justify"),kt=this.visible&&!1!==k.visible&&(k.series.forceDL||_&&!Ct||st||V(p.inside,!!this.options.stacking)&&v&&b.isInsidePlot(f,D?v.x+1:v.y+v.height-1,{inverted:D,paneCoordinates:!0,series:w}));if(kt){var wt=b.renderer.fontMetrics(b.styledMode?void 0:p.style.fontSize,u).b;v=I({x:D?this.yAxis.len-C:f,y:Math.round(D?this.xAxis.len-f:C),width:0,height:0},v),I(p,{width:K.width,height:K.height}),U?(Ct=!1,f=b.renderer.rotCorr(wt,U),ct(f={x:v.x+(p.x||0)+v.width/2+f.x,y:v.y+(p.y||0)+{top:0,middle:.5,bottom:1}[p.verticalAlign]*v.height}),u[g?"attr":"animate"](f).attr({align:W}),ct=180<(ct=(U+720)%360)&&360>ct,"left"===W?f.y-=ct?K.height:0:"center"===W?(f.x-=K.width/2,f.y-=K.height/2):"right"===W&&(f.x-=K.width,f.y-=ct?0:K.height),u.placed=!0,u.alignAttr=f):(ct(v),u.align(p,void 0,v),f=u.alignAttr),Ct&&0<=v.height?this.justifyDataLabel(u,p,f,K,v,g):V(p.crop,!0)&&(kt=b.isInsidePlot(f.x,f.y,{paneCoordinates:!0,series:w})&&b.isInsidePlot(f.x+K.width,f.y+K.height,{paneCoordinates:!0,series:w})),p.shape&&!U&&u[g?"attr":"animate"]({anchorX:D?b.plotWidth-k.plotY:k.plotX,anchorY:D?b.plotHeight-k.plotX:k.plotY})}g&&_&&(u.placed=!1),kt||_&&!Ct||(u.hide(!0),u.placed=!1)}function lt(){var k=this,u=k.chart,p=k.options,v=k.points,g=k.hasRendered||0,w=u.renderer,b=p.dataLabels,_=b.animation;if(_=b.defer?X(u,_,k):{defer:0,duration:0},b=mt(mt(u.options.plotOptions&&u.options.plotOptions.series&&u.options.plotOptions.series.dataLabels,u.options.plotOptions&&u.options.plotOptions[k.type]&&u.options.plotOptions[k.type].dataLabels),b),Y(this,"drawDataLabels"),T(b)||b.enabled||k._hasPointLabels){var f=k.plotGroup("dataLabelsGroup","data-labels",g?"inherit":"hidden",b.zIndex||6);f.attr({opacity:+g}),!g&&(g=k.dataLabelsGroup)&&(k.visible&&f.show(!0),g[p.animation?"animate":"attr"]({opacity:1},_)),v.forEach(function(C){G(mt(b,C.dlOptions||C.options&&C.options.dataLabels)).forEach(function(K,U){var W=K.enabled&&(!C.isNull||C.dataLabelOnNull)&&function(k,u){var p=u.filter;return!p||(u=p.operator,k=k[p.property],p=p.value,">"===u&&k>p||"<"===u&&k<p||">="===u&&k>=p||"<="===u&&k<=p||"=="===u&&k==p||"==="===u&&k===p)}(C,K),st=C.connectors?C.connectors[U]:C.connector,ct=C.dataLabels?C.dataLabels[U]:C.dataLabel,Ct=V(K.distance,C.labelDistance),kt=!ct;if(W){var wt=C.getLabelConfig(),ut=V(K[C.formatPrefix+"Format"],K.format);wt=B(ut)?z(ut,wt,u):(K[C.formatPrefix+"Formatter"]||K.formatter).call(wt,K),ut=K.style;var Ot=K.rotation;u.styledMode||(ut.color=V(K.color,ut.color,k.color,"#000000"),"contrast"===ut.color?(C.contrastColor=w.getContrast(C.color||k.color),ut.color=!B(Ct)&&K.inside||0>Ct||p.stacking?C.contrastColor:"#000000"):delete C.contrastColor,p.cursor&&(ut.cursor=p.cursor));var bt={r:K.borderRadius||0,rotation:Ot,padding:K.padding,zIndex:1};u.styledMode||(bt.fill=K.backgroundColor,bt.stroke=K.borderColor,bt["stroke-width"]=K.borderWidth),O(bt,function(pt,Dt){void 0===pt&&delete bt[Dt]})}!ct||W&&B(wt)?W&&B(wt)&&(ct?bt.text=wt:(C.dataLabels=C.dataLabels||[],ct=C.dataLabels[U]=Ot?w.text(wt,0,-9999,K.useHTML).addClass("highcharts-data-label"):w.label(wt,0,-9999,K.shape,null,null,K.useHTML,null,"data-label"),U||(C.dataLabel=ct),ct.addClass(" highcharts-data-label-color-"+C.colorIndex+" "+(K.className||"")+(K.useHTML?" highcharts-tracker":""))),ct.options=K,ct.attr(bt),u.styledMode||ct.css(ut).shadow(K.shadow),ct.added||ct.add(f),K.textPath&&!K.useHTML&&(ct.setTextPath(C.getDataLabelPath&&C.getDataLabelPath(ct)||C.graphic,K.textPath),C.dataLabelPath&&!K.textPath.enabled&&(C.dataLabelPath=C.dataLabelPath.destroy())),k.alignDataLabel(C,ct,K,null,kt)):(C.dataLabel=C.dataLabel&&C.dataLabel.destroy(),C.dataLabels&&(1===C.dataLabels.length?delete C.dataLabels:delete C.dataLabels[U]),U||delete C.dataLabel,st&&(C.connector=C.connector.destroy(),C.connectors&&(1===C.connectors.length?delete C.connectors:delete C.connectors[U])))})})}Y(this,"afterDrawDataLabels")}function ht(k,u,p,v,g,w){var b=this.chart,D=u.align,_=u.verticalAlign,f=k.box?0:k.padding||0,C=u.x;C=void 0===C?0:C;var K=u.y;K=void 0===K?0:K;var U=(p.x||0)+f;if(0>U){"right"===D&&0<=C?(u.align="left",u.inside=!0):C-=U;var W=!0}return(U=(p.x||0)+v.width-f)>b.plotWidth&&("left"===D&&0>=C?(u.align="right",u.inside=!0):C+=b.plotWidth-U,W=!0),0>(U=p.y+f)&&("bottom"===_&&0<=K?(u.verticalAlign="top",u.inside=!0):K-=U,W=!0),(U=(p.y||0)+v.height-f)>b.plotHeight&&("top"===_&&0>=K?(u.verticalAlign="bottom",u.inside=!0):K+=b.plotHeight-U,W=!0),W&&(u.x=C,u.y=K,k.placed=!w,k.align(u,void 0,g)),W}function mt(k,u){var v,p=[];if(T(k)&&!T(u))p=k.map(function(g){return F(g,u)});else if(T(u)&&!T(k))p=u.map(function(g){return F(k,g)});else if(T(k)||T(u))for(v=Math.max(k.length,u.length);v--;)p[v]=F(k[v],u[v]);else p=F(k,u);return p}function dt(k,u,p,v,g){var w=this.chart,b=w.inverted,D=this.xAxis,_=D.reversed,f=b?u.height/2:u.width/2;k=(k=k.pointWidth)?k/2:0,u.startXPos=b?g.x:_?-f-k:D.width-f+k,u.startYPos=b?_?this.yAxis.height-f+k:-f-k:g.y,v?"hidden"===u.visibility&&(u.show(),u.attr({opacity:0}).animate({opacity:1})):u.attr({opacity:1}).animate({opacity:0},void 0,u.hide),w.hasRendered&&(p&&u.attr({x:u.startXPos,y:u.startYPos}),u.placed=!0)}var gt=[];$.compose=function(k){if(-1===gt.indexOf(k)){var u=k.prototype;gt.push(k),u.alignDataLabel=Z,u.drawDataLabels=lt,u.justifyDataLabel=ht,u.setDataLabelStartPos=dt}}}(R||(R={})),R}),et(it,"Series/Column/ColumnDataLabel.js",[it["Core/Series/DataLabel.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j,H){var I,X=j.series,z=H.merge,B=H.pick;return function(Y){function T(O,V,G,R,$){var Z=this.chart.inverted,Q=O.series,lt=(Q.xAxis?Q.xAxis.len:this.chart.plotSizeX)||0,ht=O.dlBox||O.shapeArgs,mt=B(O.below,O.plotY>B(this.translatedThreshold,Q=(Q.yAxis?Q.yAxis.len:this.chart.plotSizeY)||0)),dt=B(G.inside,!!this.options.stacking);ht&&(0>(R=z(ht)).y&&(R.height+=R.y,R.y=0),0<(ht=R.y+R.height-Q)&&ht<R.height&&(R.height-=ht),Z&&(R={x:Q-R.y-R.height,y:lt-R.x-R.width,width:R.height,height:R.width}),dt||(Z?(R.x+=mt?0:R.width,R.width=0):(R.y+=mt?R.height:0,R.height=0))),G.align=B(G.align,!Z||dt?"center":mt?"right":"left"),G.verticalAlign=B(G.verticalAlign,Z||dt?"middle":mt?"top":"bottom"),X.prototype.alignDataLabel.call(this,O,V,G,R,$),G.inside&&O.contrastColor&&V.css({color:O.contrastColor})}var F=[];Y.compose=function(O){M.compose(X),-1===F.indexOf(O)&&(F.push(O),O.prototype.alignDataLabel=T)}}(I||(I={})),I}),et(it,"Series/Bar/BarSeries.js",[it["Series/Column/ColumnSeries.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j,H){var I,X=this&&this.__extends||(I=function(Y,T){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,O){F.__proto__=O}||function(F,O){for(var V in O)O.hasOwnProperty(V)&&(F[V]=O[V])})(Y,T)},function(Y,T){function F(){this.constructor=Y}I(Y,T),Y.prototype=null===T?Object.create(T):(F.prototype=T.prototype,new F)}),z=H.extend,B=H.merge;return H=function(I){function Y(){var T=null!==I&&I.apply(this,arguments)||this;return T.data=void 0,T.options=void 0,T.points=void 0,T}return X(Y,I),Y.defaultOptions=B(M.defaultOptions,{}),Y}(M),z(H.prototype,{inverted:!0}),j.registerSeriesType("bar",H),H}),et(it,"Series/Scatter/ScatterSeries.js",[it["Series/Column/ColumnSeries.js"],it["Series/Line/LineSeries.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j,H,X){var T,z=this&&this.__extends||(T=function(F,O){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,G){V.__proto__=G}||function(V,G){for(var R in G)G.hasOwnProperty(R)&&(V[R]=G[R])})(F,O)},function(F,O){function V(){this.constructor=F}T(F,O),F.prototype=null===O?Object.create(O):(V.prototype=O.prototype,new V)}),B=X.addEvent,I=X.extend,Y=X.merge;return X=function(T){function F(){var O=null!==T&&T.apply(this,arguments)||this;return O.data=void 0,O.options=void 0,O.points=void 0,O}return z(F,T),F.prototype.applyJitter=function(){var O=this,V=this.options.jitter,G=this.points.length;V&&this.points.forEach(function(R,$){["x","y"].forEach(function(Z,Q){var lt="plot"+Z.toUpperCase();if(V[Z]&&!R.isNull){var ht=O[Z+"Axis"],mt=V[Z]*ht.transA;if(ht&&!ht.isLog){var dt=Math.max(0,R[lt]-mt);ht=Math.min(ht.len,R[lt]+mt),Q=1e4*Math.sin($+Q*G),R[lt]=dt+(ht-dt)*(Q-Math.floor(Q)),"x"===Z&&(R.clientX=R.plotX)}}})})},F.prototype.drawGraph=function(){this.options.lineWidth?T.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},F.defaultOptions=Y(j.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),F}(j),I(X.prototype,{drawTracker:M.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),B(X,"afterTranslate",function(){this.applyJitter()}),H.registerSeriesType("scatter",X),X}),et(it,"Series/CenteredUtilities.js",[it["Core/Globals.js"],it["Core/Series/Series.js"],it["Core/Utilities.js"]],function(M,j,H){var Y,T,X=M.deg2rad,z=H.isNumber,B=H.pick,I=H.relativeLength;return(T=Y||(Y={})).getCenter=function(){var F=this.options,O=this.chart,V=2*(F.slicedOffset||0),G=O.plotWidth-2*V,R=O.plotHeight-2*V,$=F.center,Z=Math.min(G,R),Q=F.size,lt=F.innerSize||0;for("string"==typeof Q&&(Q=parseFloat(Q)),"string"==typeof lt&&(lt=parseFloat(lt)),F=[B($[0],"50%"),B($[1],"50%"),B(Q&&0>Q?void 0:F.size,"100%"),B(lt&&0>lt?void 0:F.innerSize||0,"0%")],!O.angular||this instanceof j||(F[3]=0),$=0;4>$;++$)Q=F[$],O=2>$||2===$&&/%$/.test(Q),F[$]=I(Q,[G,R,Z,F[2]][$])+(O?V:0);return F[3]>F[2]&&(F[3]=F[2]),F},T.getStartAndEndRadians=function(F,O){return F=z(F)?F:0,O=z(O)&&O>F&&360>O-F?O:F+360,{start:X*(F+-90),end:X*(O+-90)}},Y}),et(it,"Series/Pie/PiePoint.js",[it["Core/Animation/AnimationUtilities.js"],it["Core/Series/Point.js"],it["Core/Utilities.js"]],function(M,j,H){var O,X=this&&this.__extends||(O=function(V,G){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,$){R.__proto__=$}||function(R,$){for(var Z in $)$.hasOwnProperty(Z)&&(R[Z]=$[Z])})(V,G)},function(V,G){function R(){this.constructor=V}O(V,G),V.prototype=null===G?Object.create(G):(R.prototype=G.prototype,new R)}),z=M.setAnimation,B=H.addEvent,I=H.defined;M=H.extend;var Y=H.isNumber,T=H.pick,F=H.relativeLength;return j=function(O){function V(){var G=null!==O&&O.apply(this,arguments)||this;return G.labelDistance=void 0,G.options=void 0,G.series=void 0,G}return X(V,O),V.prototype.getConnectorPath=function(){var G=this.labelPosition,R=this.series.options.dataLabels,$=this.connectorShapes,Z=R.connectorShape;return $[Z]&&(Z=$[Z]),Z.call(this,{x:G.final.x,y:G.final.y,alignment:G.alignment},G.connectorPosition,R)},V.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},V.prototype.haloPath=function(G){var R=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(R.x,R.y,R.r+G,R.r+G,{innerR:R.r-1,start:R.start,end:R.end})},V.prototype.init=function(){var G=this;O.prototype.init.apply(this,arguments),this.name=T(this.name,"Slice");var R=function($){G.slice("select"===$.type)};return B(this,"select",R),B(this,"unselect",R),this},V.prototype.isValid=function(){return Y(this.y)&&0<=this.y},V.prototype.setVisible=function(G,R){var $=this,Z=this.series,Q=Z.chart,lt=Z.options.ignoreHiddenPoint;R=T(R,lt),G!==this.visible&&(this.visible=this.options.visible=G=void 0===G?!this.visible:G,Z.options.data[Z.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(ht){$[ht]&&$[ht][G?"show":"hide"](G)}),this.legendItem&&Q.legend.colorizeItem(this,G),G||"hover"!==this.state||this.setState(""),lt&&(Z.isDirty=!0),R&&Q.redraw())},V.prototype.slice=function(G,R,$){var Z=this.series;z($,Z.chart),T(R,!0),this.sliced=this.options.sliced=I(G)?G:!this.sliced,Z.options.data[Z.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},V}(j),M(j.prototype,{connectorShapes:{fixedOffset:function(O,V,G){var R=V.breakAt;return V=V.touchingSliceAt,[["M",O.x,O.y],G.softConnector?["C",O.x+("left"===O.alignment?-5:5),O.y,2*R.x-V.x,2*R.y-V.y,R.x,R.y]:["L",R.x,R.y],["L",V.x,V.y]]},straight:function(O,V){return[["M",O.x,O.y],["L",(V=V.touchingSliceAt).x,V.y]]},crookedLine:function(O,V,G){V=V.touchingSliceAt;var R=this.series,$=R.center[0],Z=R.chart.plotWidth,Q=R.chart.plotLeft;R=O.alignment;var lt=this.shapeArgs.r;return G=F(G.crookDistance,1),G=["L",Z="left"===R?$+lt+(Z+Q-$-lt)*(1-G):Q+($-lt)*G,O.y],$=!0,("left"===R?Z>O.x||Z<V.x:Z<O.x||Z>V.x)&&($=!1),O=[["M",O.x,O.y]],$&&O.push(G),O.push(["L",V.x,V.y]),O}}}),j}),et(it,"Series/Pie/PieSeries.js",[it["Series/CenteredUtilities.js"],it["Series/Column/ColumnSeries.js"],it["Core/Globals.js"],it["Core/Legend/LegendSymbol.js"],it["Series/Pie/PiePoint.js"],it["Core/Series/Series.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Renderer/SVG/Symbols.js"],it["Core/Utilities.js"]],function(M,j,H,X,z,B,I,Y,T){var lt,F=this&&this.__extends||(lt=function(ht,mt){return(lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(dt,gt){dt.__proto__=gt}||function(dt,gt){for(var k in gt)gt.hasOwnProperty(k)&&(dt[k]=gt[k])})(ht,mt)},function(ht,mt){function dt(){this.constructor=ht}lt(ht,mt),ht.prototype=null===mt?Object.create(mt):(dt.prototype=mt.prototype,new dt)}),O=M.getStartAndEndRadians;H=H.noop;var V=T.clamp,G=T.extend,R=T.fireEvent,$=T.merge,Z=T.pick,Q=T.relativeLength;return T=function(lt){function ht(){var mt=null!==lt&&lt.apply(this,arguments)||this;return mt.center=void 0,mt.data=void 0,mt.maxLabelDistance=void 0,mt.options=void 0,mt.points=void 0,mt}return F(ht,lt),ht.prototype.animate=function(mt){var dt=this,k=dt.startAngleRad;mt||dt.points.forEach(function(u){var p=u.graphic,v=u.shapeArgs;p&&v&&(p.attr({r:Z(u.startR,dt.center&&dt.center[3]/2),start:k,end:k}),p.animate({r:v.r,start:v.start,end:v.end},dt.options.animation))})},ht.prototype.drawEmpty=function(){var mt=this.startAngleRad,dt=this.endAngleRad,gt=this.options;if(0===this.total&&this.center){var k=this.center[0],u=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(k,u,this.center[1]/2,0,mt,dt).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Y.arc(k,u,this.center[2]/2,0,{start:mt,end:dt,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":gt.borderWidth,fill:gt.fillColor||"none",stroke:gt.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},ht.prototype.drawPoints=function(){var mt=this.chart.renderer;this.points.forEach(function(dt){dt.graphic&&dt.hasNewShapeType()&&(dt.graphic=dt.graphic.destroy()),dt.graphic||(dt.graphic=mt[dt.shapeType](dt.shapeArgs).add(dt.series.group),dt.delayedRendering=!0)})},ht.prototype.generatePoints=function(){lt.prototype.generatePoints.call(this),this.updateTotals()},ht.prototype.getX=function(mt,dt,gt){var k=this.center,u=this.radii?this.radii[gt.index]||0:k[2]/2;return mt=Math.asin(V((mt-k[1])/(u+gt.labelDistance),-1,1)),k[0]+(dt?-1:1)*Math.cos(mt)*(u+gt.labelDistance)+(0<gt.labelDistance?(dt?-1:1)*this.options.dataLabels.padding:0)},ht.prototype.hasData=function(){return!!this.processedXData.length},ht.prototype.redrawPoints=function(){var u,p,v,g,mt=this,dt=mt.chart,gt=dt.renderer,k=mt.options.shadow;this.drawEmpty(),!k||mt.shadowGroup||dt.styledMode||(mt.shadowGroup=gt.g("shadow").attr({zIndex:-1}).add(mt.group)),mt.points.forEach(function(w){var b={};if(p=w.graphic,!w.isNull&&p){var D=void 0;g=w.shapeArgs,u=w.getTranslate(),dt.styledMode||(D=w.shadowGroup,k&&!D&&(D=w.shadowGroup=gt.g("shadow").add(mt.shadowGroup)),D&&D.attr(u),v=mt.pointAttribs(w,w.selected&&"select")),w.delayedRendering?(p.setRadialReference(mt.center).attr(g).attr(u),dt.styledMode||p.attr(v).attr({"stroke-linejoin":"round"}).shadow(k,D),w.delayedRendering=!1):(p.setRadialReference(mt.center),dt.styledMode||$(!0,b,v),$(!0,b,g,u),p.animate(b)),p.attr({visibility:w.visible?"inherit":"hidden"}),p.addClass(w.getClassName(),!0)}else p&&(w.graphic=p.destroy())})},ht.prototype.sortByAngle=function(mt,dt){mt.sort(function(gt,k){return void 0!==gt.angle&&(k.angle-gt.angle)*dt})},ht.prototype.translate=function(mt){this.generatePoints();var dt=this.options,gt=dt.slicedOffset,k=gt+(dt.borderWidth||0),u=O(dt.startAngle,dt.endAngle),p=this.startAngleRad=u.start;u=(this.endAngleRad=u.end)-p;var v=this.points,g=dt.dataLabels.distance;dt=dt.ignoreHiddenPoint;var b,w=v.length,D=0;for(mt||(this.center=mt=this.getCenter()),b=0;b<w;b++){var _=v[b],f=p+D*u;!_.isValid()||dt&&!_.visible||(D+=_.percentage/100);var C=p+D*u,K={x:mt[0],y:mt[1],r:mt[2]/2,innerR:mt[3]/2,start:Math.round(1e3*f)/1e3,end:Math.round(1e3*C)/1e3};_.shapeType="arc",_.shapeArgs=K,_.labelDistance=Z(_.options.dataLabels&&_.options.dataLabels.distance,g),_.labelDistance=Q(_.labelDistance,K.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,_.labelDistance),(C=(C+f)/2)>1.5*Math.PI?C-=2*Math.PI:C<-Math.PI/2&&(C+=2*Math.PI),_.slicedTranslation={translateX:Math.round(Math.cos(C)*gt),translateY:Math.round(Math.sin(C)*gt)},K=Math.cos(C)*mt[2]/2;var U=Math.sin(C)*mt[2]/2;_.tooltipPos=[mt[0]+.7*K,mt[1]+.7*U],_.half=C<-Math.PI/2||C>Math.PI/2?1:0,_.angle=C,f=Math.min(k,_.labelDistance/5),_.labelPosition={natural:{x:mt[0]+K+Math.cos(C)*_.labelDistance,y:mt[1]+U+Math.sin(C)*_.labelDistance},final:{},alignment:0>_.labelDistance?"center":_.half?"right":"left",connectorPosition:{breakAt:{x:mt[0]+K+Math.cos(C)*f,y:mt[1]+U+Math.sin(C)*f},touchingSliceAt:{x:mt[0]+K,y:mt[1]+U}}}}R(this,"afterTranslate")},ht.prototype.updateTotals=function(){var k,mt=this.points,dt=mt.length,gt=this.options.ignoreHiddenPoint,u=0;for(k=0;k<dt;k++){var p=mt[k];!p.isValid()||gt&&!p.visible||(u+=p.y)}for(this.total=u,k=0;k<dt;k++)(p=mt[k]).percentage=0<u&&(p.visible||!gt)?p.y/u*100:0,p.total=u},ht.defaultOptions=$(B.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),ht}(B),G(T.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:X.drawRectangle,drawTracker:j.prototype.drawTracker,getCenter:M.getCenter,getSymbol:H,isCartesian:!1,noSharedTooltip:!0,pointAttribs:j.prototype.pointAttribs,pointClass:z,requireSorting:!1,searchPoint:H,trackerGroups:["group","dataLabelsGroup"]}),I.registerSeriesType("pie",T),T}),et(it,"Series/Pie/PieDataLabel.js",[it["Core/Series/DataLabel.js"],it["Core/Globals.js"],it["Core/Renderer/RendererUtilities.js"],it["Core/Series/SeriesRegistry.js"],it["Core/Utilities.js"]],function(M,j,H,X,z){var $,B=j.noop,I=H.distribute,Y=X.series,T=z.arrayMax,F=z.clamp,O=z.defined,V=z.merge,G=z.pick,R=z.relativeLength;return function(Z){function Q(){var st,ct,Ct,kt,wt,ut,Ot,bt,pt,Dt,Rt,St,gt=this,k=gt.data,u=gt.chart,p=gt.options.dataLabels||{},v=p.connectorPadding,g=u.plotWidth,w=u.plotHeight,b=u.plotLeft,D=Math.round(u.chartWidth/3),_=gt.center,f=_[2]/2,C=_[1],K=[[],[]],U=[0,0,0,0],W=gt.dataLabelPositioners;gt.visible&&(p.enabled||gt._hasPointLabels)&&(k.forEach(function(te){te.dataLabel&&te.visible&&te.dataLabel.shortened&&(te.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),te.dataLabel.shortened=!1)}),Y.prototype.drawDataLabels.apply(gt),k.forEach(function(te){te.dataLabel&&(te.visible?(K[te.half].push(te),te.dataLabel._pos=null,!O(p.style.width)&&!O(te.options.dataLabels&&te.options.dataLabels.style&&te.options.dataLabels.style.width)&&te.dataLabel.getBBox().width>D&&(te.dataLabel.css({width:Math.round(.7*D)+"px"}),te.dataLabel.shortened=!0)):(te.dataLabel=te.dataLabel.destroy(),te.dataLabels&&1===te.dataLabels.length&&delete te.dataLabels))}),K.forEach(function(te,At){var Jt,Kt=te.length,Oe=[];if(Kt){if(gt.sortByAngle(te,At-.5),0<gt.maxLabelDistance){var $t=Math.max(0,C-f-gt.maxLabelDistance),he=Math.min(C+f+gt.maxLabelDistance,u.plotHeight);te.forEach(function(Tt){0<Tt.labelDistance&&Tt.dataLabel&&(Tt.top=Math.max(0,C-f-Tt.labelDistance),Tt.bottom=Math.min(C+f+Tt.labelDistance,u.plotHeight),Jt=Tt.dataLabel.getBBox().height||21,Tt.distributeBox={target:Tt.labelPosition.natural.y-Tt.top+Jt/2,size:Jt,rank:Tt.y},Oe.push(Tt.distributeBox))}),I(Oe,$t=he+Jt-$t,$t/5)}for(Rt=0;Rt<Kt;Rt++){if(kt=(st=te[Rt]).dataLabel,Dt=!1===st.visible?"hidden":"inherit",pt=$t=(ut=st.labelPosition).natural.y,Oe&&O(st.distributeBox)&&(void 0===st.distributeBox.pos?Dt="hidden":(Ot=st.distributeBox.size,pt=W.radialDistributionY(st))),delete st.positionIndex,p.justify)bt=W.justify(st,f,_);else switch(p.alignTo){case"connectors":bt=W.alignToConnectors(te,At,g,b);break;case"plotEdges":bt=W.alignToPlotEdges(kt,At,g,b);break;default:bt=W.radialDistributionX(gt,st,pt,$t)}kt._attr={visibility:Dt,align:ut.alignment},kt._pos={x:bt+G((St=st.options.dataLabels||{}).x,p.x)+({left:v,right:-v}[ut.alignment]||0),y:pt+G(St.y,p.y)-10},ut.final.x=bt,ut.final.y=pt,G(p.crop,!0)&&(wt=kt.getBBox().width,$t=null,bt-wt<v&&1===At?($t=Math.round(wt-bt+v),U[3]=Math.max($t,U[3])):bt+wt>g-v&&0===At&&($t=Math.round(bt+wt-g+v),U[1]=Math.max($t,U[1])),0>pt-Ot/2?U[0]=Math.max(Math.round(Ot/2-pt),U[0]):pt+Ot/2>w&&(U[2]=Math.max(Math.round(pt+Ot/2-w),U[2])),kt.sideOverflow=$t)}}}),0===T(U)||this.verifyDataLabelOverflow(U))&&(this.placeDataLabels(),this.points.forEach(function(te){var At;St=V(p,te.options.dataLabels),(ct=G(St.connectorWidth,1))&&(Ct=te.connector,(kt=te.dataLabel)&&kt._pos&&te.visible&&0<te.labelDistance?(Dt=kt._attr.visibility,(At=!Ct)&&(te.connector=Ct=u.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+te.colorIndex+(te.className?" "+te.className:"")).add(gt.dataLabelsGroup),u.styledMode||Ct.attr({"stroke-width":ct,stroke:St.connectorColor||te.color||"#666666"})),Ct[At?"attr":"animate"]({d:te.getConnectorPath()}),Ct.attr("visibility",Dt)):Ct&&(te.connector=Ct.destroy()))}))}function lt(){this.points.forEach(function(gt){var u,k=gt.dataLabel;k&&gt.visible&&((u=k._pos)?(k.sideOverflow&&(k._attr.width=Math.max(k.getBBox().width-k.sideOverflow,0),k.css({width:k._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),k.shortened=!0),k.attr(k._attr),k[k.moved?"animate":"attr"](u),k.moved=!0):k&&k.attr({y:-9999})),delete gt.distributeBox},this)}function ht(gt){var k=this.center,u=this.options,p=u.center,v=u.minSize||80,g=null!==u.size;if(!g){if(null!==p[0])var w=Math.max(k[2]-Math.max(gt[1],gt[3]),v);else w=Math.max(k[2]-gt[1]-gt[3],v),k[0]+=(gt[3]-gt[1])/2;null!==p[1]?w=F(w,v,k[2]-Math.max(gt[0],gt[2])):(w=F(w,v,k[2]-gt[0]-gt[2]),k[1]+=(gt[0]-gt[2])/2),w<k[2]?(k[2]=w,k[3]=Math.min(R(u.innerSize||0,w),w),this.translate(k),this.drawDataLabels&&this.drawDataLabels()):g=!0}return g}var mt=[],dt={radialDistributionY:function(gt){return gt.top+gt.distributeBox.pos},radialDistributionX:function(gt,k,u,p){return gt.getX(u<k.top+2||u>k.bottom-2?p:u,k.half,k)},justify:function(gt,k,u){return u[0]+(gt.half?-1:1)*(k+gt.labelDistance)},alignToPlotEdges:function(gt,k,u,p){return gt=gt.getBBox().width,k?gt+p:u-gt-p},alignToConnectors:function(gt,k,u,p){var g,v=0;return gt.forEach(function(w){(g=w.dataLabel.getBBox().width)>v&&(v=g)}),k?v+p:u-v-p}};Z.compose=function(gt){M.compose(Y),-1===mt.indexOf(gt)&&(mt.push(gt),(gt=gt.prototype).dataLabelPositioners=dt,gt.alignDataLabel=B,gt.drawDataLabels=Q,gt.placeDataLabels=lt,gt.verifyDataLabelOverflow=ht)}}($||($={})),$}),et(it,"Extensions/OverlappingDataLabels.js",[it["Core/Chart/Chart.js"],it["Core/Utilities.js"]],function(M,j){function H(F,O){var V=!1;if(F){var G=F.newOpacity;F.oldOpacity!==G&&(F.alignAttr&&F.placed?(F[G?"removeClass":"addClass"]("highcharts-data-label-hidden"),V=!0,F.alignAttr.opacity=G,F[F.isOld?"animate":"attr"](F.alignAttr,null,function(){O.styledMode||F.css({pointerEvents:G?"auto":"none"})}),z(O,"afterHideOverlappingLabel")):F.attr({opacity:G})),F.isOld=!0}return V}var z=j.fireEvent,B=j.isArray,I=j.isNumber,Y=j.objectEach,T=j.pick;(0,j.addEvent)(M,"render",function(){var F=this,O=[];(this.labelCollectors||[]).forEach(function(V){O=O.concat(V())}),(this.yAxis||[]).forEach(function(V){V.stacking&&V.options.stackLabels&&!V.options.stackLabels.allowOverlap&&Y(V.stacking.stacks,function(G){Y(G,function(R){R.label&&"hidden"!==R.label.visibility&&O.push(R.label)})})}),(this.series||[]).forEach(function(V){var G=V.options.dataLabels;V.visible&&(!1!==G.enabled||V._hasPointLabels)&&((G=function(R){return R.forEach(function($){$.visible&&(B($.dataLabels)?$.dataLabels:$.dataLabel?[$.dataLabel]:[]).forEach(function(Z){var Q=Z.options;Z.labelrank=T(Q.labelrank,$.labelrank,$.shapeArgs&&$.shapeArgs.height),Q.allowOverlap?(Z.oldOpacity=Z.opacity,Z.newOpacity=1,H(Z,F)):O.push(Z)})})})(V.nodes||[]),G(V.points))}),this.hideOverlappingLabels(O)}),M.prototype.hideOverlappingLabels=function(F){var R,$,Z,O=this,V=F.length,G=O.renderer,Q=!1,lt=function(dt){var gt,p,k=dt.box?0:dt.padding||0,u=gt=0;if(dt&&(!dt.alignAttr||dt.placed)){var v=dt.alignAttr||{x:dt.attr("x"),y:dt.attr("y")},g=dt.parentGroup;return dt.width||(gt=dt.getBBox(),dt.width=gt.width,dt.height=gt.height,gt=G.fontMetrics(null,dt.element).h),(p={left:"0",center:"0.5",right:"1"}[dt.alignValue])?u=+p*(dt.width-2*k):I(dt.x)&&Math.round(dt.x)!==dt.translateX&&(u=dt.x-dt.translateX),{x:v.x+(g.translateX||0)+k-(u||0),y:v.y+(g.translateY||0)+k-gt,width:dt.width-2*k,height:dt.height-2*k}}};for($=0;$<V;$++)(R=F[$])&&(R.oldOpacity=R.opacity,R.newOpacity=1,R.absoluteBox=lt(R));for(F.sort(function(dt,gt){return(gt.labelrank||0)-(dt.labelrank||0)}),$=0;$<V;$++){var ht=(lt=F[$])&&lt.absoluteBox;for(R=$+1;R<V;++R){var mt=(Z=F[R])&&Z.absoluteBox;!ht||!mt||lt===Z||0===lt.newOpacity||0===Z.newOpacity||mt.x>=ht.x+ht.width||mt.x+mt.width<=ht.x||mt.y>=ht.y+ht.height||mt.y+mt.height<=ht.y||((lt.labelrank<Z.labelrank?lt:Z).newOpacity=0)}}F.forEach(function(dt){H(dt,O)&&(Q=!0)}),Q&&z(O,"afterHideAllOverlappingLabels")}}),et(it,"Core/Responsive.js",[it["Core/Utilities.js"]],function(M){var O,j=M.extend,H=M.find,X=M.isArray,z=M.isObject,B=M.merge,I=M.objectEach,Y=M.pick,T=M.splat,F=M.uniqueKey;return function(V){var G=[];V.compose=function($){return-1===G.indexOf($)&&(G.push($),j($.prototype,R.prototype)),$};var R=function(){function $(){}return $.prototype.currentOptions=function(Z){var lt=this,ht={};return function Q(mt,dt,gt,k){var u;I(mt,function(p,v){if(!k&&-1<lt.collectionsWithUpdate.indexOf(v)&&dt[v])for(p=T(p),gt[v]=[],u=0;u<Math.max(p.length,dt[v].length);u++)dt[v][u]&&(void 0===p[u]?gt[v][u]=dt[v][u]:(gt[v][u]={},Q(p[u],dt[v][u],gt[v][u],k+1)));else z(p)?(gt[v]=X(p)?[]:{},Q(p,dt[v]||{},gt[v],k+1)):gt[v]=void 0===dt[v]?null:dt[v]})}(Z,this.options,ht,0),ht},$.prototype.matchResponsiveRule=function(Z,Q){var lt=Z.condition;(lt.callback||function(){return this.chartWidth<=Y(lt.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Y(lt.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Y(lt.minWidth,0)&&this.chartHeight>=Y(lt.minHeight,0)}).call(this)&&Q.push(Z._id)},$.prototype.setResponsive=function(Z,Q){var lt=this,ht=this.options.responsive,mt=this.currentResponsive,dt=[];!Q&&ht&&ht.rules&&ht.rules.forEach(function(gt){void 0===gt._id&&(gt._id=F()),lt.matchResponsiveRule(gt,dt)},this),(Q=B.apply(void 0,dt.map(function(gt){return H((ht||{}).rules||[],function(k){return k._id===gt})}).map(function(gt){return gt&&gt.chartOptions}))).isResponsiveOptions=!0,(dt=dt.toString()||void 0)!==(mt&&mt.ruleIds)&&(mt&&this.update(mt.undoOptions,Z,!0),dt?((mt=this.currentOptions(Q)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:dt,mergedOptions:Q,undoOptions:mt},this.update(Q,Z,!0)):this.currentResponsive=void 0)},$}()}(O||(O={})),O}),et(it,"masters/highcharts.src.js",[it["Core/Globals.js"],it["Core/Utilities.js"],it["Core/DefaultOptions.js"],it["Core/Animation/Fx.js"],it["Core/Animation/AnimationUtilities.js"],it["Core/Renderer/HTML/AST.js"],it["Core/FormatUtilities.js"],it["Core/Renderer/RendererUtilities.js"],it["Core/Renderer/SVG/SVGElement.js"],it["Core/Renderer/SVG/SVGRenderer.js"],it["Core/Renderer/HTML/HTMLElement.js"],it["Core/Renderer/HTML/HTMLRenderer.js"],it["Core/Axis/Axis.js"],it["Core/Axis/DateTimeAxis.js"],it["Core/Axis/LogarithmicAxis.js"],it["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],it["Core/Axis/Tick.js"],it["Core/Tooltip.js"],it["Core/Series/Point.js"],it["Core/Pointer.js"],it["Core/MSPointer.js"],it["Core/Legend/Legend.js"],it["Core/Chart/Chart.js"],it["Core/Series/Series.js"],it["Core/Series/SeriesRegistry.js"],it["Series/Column/ColumnSeries.js"],it["Series/Column/ColumnDataLabel.js"],it["Series/Pie/PieSeries.js"],it["Series/Pie/PieDataLabel.js"],it["Core/Series/DataLabel.js"],it["Core/Responsive.js"],it["Core/Color/Color.js"],it["Core/Time.js"]],function(M,j,H,X,z,B,I,Y,T,F,O,V,G,R,$,Z,Q,lt,ht,mt,dt,gt,k,u,p,v,g,w,b,D,_,f,C){return M.animate=z.animate,M.animObject=z.animObject,M.getDeferredAnimation=z.getDeferredAnimation,M.setAnimation=z.setAnimation,M.stop=z.stop,M.timers=X.timers,M.AST=B,M.Axis=G,M.Chart=k,M.chart=k.chart,M.Fx=X,M.Legend=gt,M.PlotLineOrBand=Z,M.Point=ht,M.Pointer=dt.isRequired()?dt:mt,M.Series=u,M.SVGElement=T,M.SVGRenderer=F,M.Tick=Q,M.Time=C,M.Tooltip=lt,M.Color=f,M.color=f.parse,V.compose(F),O.compose(T),M.defaultOptions=H.defaultOptions,M.getOptions=H.getOptions,M.time=H.defaultTime,M.setOptions=H.setOptions,M.dateFormat=I.dateFormat,M.format=I.format,M.numberFormat=I.numberFormat,M.addEvent=j.addEvent,M.arrayMax=j.arrayMax,M.arrayMin=j.arrayMin,M.attr=j.attr,M.clearTimeout=j.clearTimeout,M.correctFloat=j.correctFloat,M.createElement=j.createElement,M.css=j.css,M.defined=j.defined,M.destroyObjectProperties=j.destroyObjectProperties,M.discardElement=j.discardElement,M.distribute=Y.distribute,M.erase=j.erase,M.error=j.error,M.extend=j.extend,M.extendClass=j.extendClass,M.find=j.find,M.fireEvent=j.fireEvent,M.getMagnitude=j.getMagnitude,M.getStyle=j.getStyle,M.inArray=j.inArray,M.isArray=j.isArray,M.isClass=j.isClass,M.isDOMElement=j.isDOMElement,M.isFunction=j.isFunction,M.isNumber=j.isNumber,M.isObject=j.isObject,M.isString=j.isString,M.keys=j.keys,M.merge=j.merge,M.normalizeTickInterval=j.normalizeTickInterval,M.objectEach=j.objectEach,M.offset=j.offset,M.pad=j.pad,M.pick=j.pick,M.pInt=j.pInt,M.relativeLength=j.relativeLength,M.removeEvent=j.removeEvent,M.seriesType=p.seriesType,M.splat=j.splat,M.stableSort=j.stableSort,M.syncTimeout=j.syncTimeout,M.timeUnits=j.timeUnits,M.uniqueKey=j.uniqueKey,M.useSerialIds=j.useSerialIds,M.wrap=j.wrap,g.compose(v),D.compose(u),R.compose(G),$.compose(G),b.compose(w),Z.compose(G),_.compose(k),M}),it["masters/highcharts.src.js"]._modules=it,it["masters/highcharts.src.js"]},Yt.exports?(et.default=et,Yt.exports=xt.document?et(xt):et):void 0!==(yt=function(){return et(xt)}.call(q,vt,q,Yt))&&(Yt.exports=yt)},742:(Yt,q,vt)=>{"use strict";var yt,xt,et;et=function(et){function it(M,j,H,X){M.hasOwnProperty(j)||(M[j]=X.apply(null,H))}it(et=et?et._modules:{},"Series/NodesComposition.js",[et["Core/Series/Point.js"],et["Core/Series/Series.js"],et["Core/Utilities.js"]],function(M,j,H){var Y,X=H.defined,z=H.extend,B=H.find,I=H.pick;return function(T){function F(){return this.data=[].concat(this.points||[],this.nodes),j.prototype.destroy.apply(this,arguments)}function O(){this.nodes&&(this.nodes.forEach(function(R){R.destroy()}),this.nodes.length=0),j.prototype.setData.apply(this,arguments)}function V(R){var $=arguments,Z=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];"select"!==R&&Z.forEach(function(Q){Q&&Q.series&&(M.prototype.setState.apply(Q,$),Q.isNode||(Q.fromNode.graphic&&M.prototype.setState.apply(Q.fromNode,$),Q.toNode&&Q.toNode.graphic&&M.prototype.setState.apply(Q.toNode,$)))}),M.prototype.setState.apply(this,$)}var G=[];T.compose=function(R,$){return-1===G.indexOf(R)&&(G.push(R),(R=R.prototype).setNodeState=V,R.setState=V),-1===G.indexOf($)&&(G.push($),(R=$.prototype).destroy=F,R.setData=O),$},T.createNode=function(R){var $=this.pointClass,Z=function(lt,ht){return B(lt,function(mt){return mt.id===ht})},Q=Z(this.nodes,R);return Q||(Z=this.options.nodes&&Z(this.options.nodes,R),(Q=(new $).init(this,z({className:"highcharts-node",isNode:!0,id:R,y:1},Z))).linksTo=[],Q.linksFrom=[],Q.formatPrefix="node",Q.name=Q.name||Q.options.id||"",Q.mass=I(Q.options.mass,Q.options.marker&&Q.options.marker.radius,this.options.marker&&this.options.marker.radius,4),Q.getSum=function(){var lt=0,ht=0;return Q.linksTo.forEach(function(mt){lt+=mt.weight}),Q.linksFrom.forEach(function(mt){ht+=mt.weight}),Math.max(lt,ht)},Q.offset=function(lt,ht){for(var mt=0,dt=0;dt<Q[ht].length;dt++){if(Q[ht][dt]===lt)return mt;mt+=Q[ht][dt].weight}},Q.hasShape=function(){var lt=0;return Q.linksTo.forEach(function(ht){ht.outgoing&&lt++}),!Q.linksTo.length||lt!==Q.linksTo.length},this.nodes.push(Q)),Q},T.destroy=F,T.generatePoints=function(){var R=this.chart,$={};j.prototype.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(function(Z){Z.linksFrom.length=0,Z.linksTo.length=0,Z.level=Z.options.level}),this.points.forEach(function(Z){X(Z.from)&&($[Z.from]||($[Z.from]=this.createNode(Z.from)),$[Z.from].linksFrom.push(Z),Z.fromNode=$[Z.from],R.styledMode?Z.colorIndex=I(Z.options.colorIndex,$[Z.from].colorIndex):Z.color=Z.options.color||$[Z.from].color),X(Z.to)&&($[Z.to]||($[Z.to]=this.createNode(Z.to)),$[Z.to].linksTo.push(Z),Z.toNode=$[Z.to]),Z.name=Z.name||Z.id},this),this.nodeLookup=$},T.setNodeState=V}(Y||(Y={})),Y}),it(et,"Series/Networkgraph/Integrations.js",[et["Core/Globals.js"]],function(M){M.networkgraphIntegrations={verlet:{attractiveForceFunction:function(j,H){return(H-j)/j},repulsiveForceFunction:function(j,H){return(H-j)/j*(H>j?1:0)},barycenter:function(){var j=this.options.gravitationalConstant,H=this.barycenter.xFactor,X=this.barycenter.yFactor;H=(H-(this.box.left+this.box.width)/2)*j,X=(X-(this.box.top+this.box.height)/2)*j,this.nodes.forEach(function(z){z.fixedPosition||(z.plotX-=H/z.mass/z.degree,z.plotY-=X/z.mass/z.degree)})},repulsive:function(j,H,X){H=H*this.diffTemperature/j.mass/j.degree,j.fixedPosition||(j.plotX+=X.x*H,j.plotY+=X.y*H)},attractive:function(j,H,X){var z=j.getMass(),B=-X.x*H*this.diffTemperature;H=-X.y*H*this.diffTemperature,j.fromNode.fixedPosition||(j.fromNode.plotX-=B*z.fromNode/j.fromNode.degree,j.fromNode.plotY-=H*z.fromNode/j.fromNode.degree),j.toNode.fixedPosition||(j.toNode.plotX+=B*z.toNode/j.toNode.degree,j.toNode.plotY+=H*z.toNode/j.toNode.degree)},integrate:function(j,H){var X=-j.options.friction,z=j.options.maxSpeed,B=(H.plotX+H.dispX-H.prevX)*X;X*=H.plotY+H.dispY-H.prevY;var I=Math.abs,Y=I(B)/(B||1);I=I(X)/(X||1),B=Y*Math.min(z,Math.abs(B)),X=I*Math.min(z,Math.abs(X)),H.prevX=H.plotX+H.dispX,H.prevY=H.plotY+H.dispY,H.plotX+=B,H.plotY+=X,H.temperature=j.vectorLength({x:B,y:X})},getK:function(j){return Math.pow(j.box.width*j.box.height/j.nodes.length,.5)}},euler:{attractiveForceFunction:function(j,H){return j*j/H},repulsiveForceFunction:function(j,H){return H*H/j},barycenter:function(){var j=this.options.gravitationalConstant,H=this.barycenter.xFactor,X=this.barycenter.yFactor;this.nodes.forEach(function(z){if(!z.fixedPosition){var B=z.getDegree();z.dispX+=(H-z.plotX)*j*(B*=1+B/2)/z.degree,z.dispY+=(X-z.plotY)*j*B/z.degree}})},repulsive:function(j,H,X,z){j.dispX+=X.x/z*H/j.degree,j.dispY+=X.y/z*H/j.degree},attractive:function(j,H,X,z){var B=j.getMass(),I=X.x/z*H;H*=X.y/z,j.fromNode.fixedPosition||(j.fromNode.dispX-=I*B.fromNode/j.fromNode.degree,j.fromNode.dispY-=H*B.fromNode/j.fromNode.degree),j.toNode.fixedPosition||(j.toNode.dispX+=I*B.toNode/j.toNode.degree,j.toNode.dispY+=H*B.toNode/j.toNode.degree)},integrate:function(j,H){H.dispX+=H.dispX*j.options.friction,H.dispY+=H.dispY*j.options.friction;var X=H.temperature=j.vectorLength({x:H.dispX,y:H.dispY});0!==X&&(H.plotX+=H.dispX/X*Math.min(Math.abs(H.dispX),j.temperature),H.plotY+=H.dispY/X*Math.min(Math.abs(H.dispY),j.temperature))},getK:function(j){return Math.pow(j.box.width*j.box.height/j.nodes.length,.3)}}}}),it(et,"Series/Networkgraph/QuadTree.js",[et["Core/Globals.js"],et["Core/Utilities.js"]],function(M,j){j=j.extend;var H=M.QuadTreeNode=function(X){this.box=X,this.boxSize=Math.min(X.width,X.height),this.nodes=[],this.body=this.isInternal=!1,this.isEmpty=!0};j(H.prototype,{insert:function(X,z){this.isInternal?this.nodes[this.getBoxPosition(X)].insert(X,z-1):(this.isEmpty=!1,this.body?z?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,z-1),this.body=!0),this.nodes[this.getBoxPosition(X)].insert(X,z-1)):((z=new H({top:X.plotX,left:X.plotY,width:.1,height:.1})).body=X,z.isInternal=!1,this.nodes.push(z)):(this.isInternal=!1,this.body=X))},updateMassAndCenter:function(){var X=0,z=0,B=0;this.isInternal?(this.nodes.forEach(function(I){I.isEmpty||(X+=I.mass,z+=I.plotX*I.mass,B+=I.plotY*I.mass)}),z/=X,B/=X):this.body&&(X=this.body.mass,z=this.body.plotX,B=this.body.plotY),this.mass=X,this.plotX=z,this.plotY=B},divideBox:function(){var X=this.box.width/2,z=this.box.height/2;this.nodes[0]=new H({left:this.box.left,top:this.box.top,width:X,height:z}),this.nodes[1]=new H({left:this.box.left+X,top:this.box.top,width:X,height:z}),this.nodes[2]=new H({left:this.box.left+X,top:this.box.top+z,width:X,height:z}),this.nodes[3]=new H({left:this.box.left,top:this.box.top+z,width:X,height:z})},getBoxPosition:function(X){var z=X.plotY<this.box.top+this.box.height/2;return X.plotX<this.box.left+this.box.width/2?z?0:3:z?1:2}}),j((M=M.QuadTree=function(X,z,B,I){this.box={left:X,top:z,width:B,height:I},this.maxDepth=25,this.root=new H(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(X){X.forEach(function(z){this.root.insert(z,this.maxDepth)},this)},visitNodeRecursive:function(X,z,B){var I;X||(X=this.root),X===this.root&&z&&(I=z(X)),!1!==I&&(X.nodes.forEach(function(Y){if(Y.isInternal){if(z&&(I=z(Y)),!1===I)return;this.visitNodeRecursive(Y,z,B)}else Y.body&&z&&z(Y.body);B&&B(Y)},this),X===this.root&&B&&B(X))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(X){X.updateMassAndCenter()})}})}),it(et,"Series/Networkgraph/Layouts.js",[et["Core/Chart/Chart.js"],et["Core/Animation/AnimationUtilities.js"],et["Core/Globals.js"],et["Core/Utilities.js"]],function(M,j,H,X){var z=j.setAnimation;j=X.addEvent;var B=X.clamp,I=X.defined,Y=X.extend,T=X.isFunction,F=X.pick;H.layouts={"reingold-fruchterman":function(){}},Y(H.layouts["reingold-fruchterman"].prototype,{init:function(O){this.options=O,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=H.networkgraphIntegrations[O.integration],this.enableSimulation=O.enableSimulation,this.attractiveForce=F(O.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=F(O.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=O.approximation},updateSimulation:function(O){this.enableSimulation=F(O,this.options.enableSimulation)},start:function(){var O=this.series,V=this.options;this.currentStep=0,this.forces=O[0]&&O[0].forces||[],this.chart=O[0]&&O[0].chart,this.initialRendering&&(this.initPositions(),O.forEach(function(G){G.finishedAnimating=!0,G.render()})),this.setK(),this.resetSimulation(V),this.enableSimulation&&this.step()},step:function(){var O=this,V=this.series;O.currentStep++,"barnes-hut"===O.approximation&&(O.createQuadTree(),O.quadTree.calculateMassAndCenter()),O.forces.forEach(function(G){O[G+"Forces"](O.temperature)}),O.applyLimits(O.temperature),O.temperature=O.coolDown(O.startTemperature,O.diffTemperature,O.currentStep),O.prevSystemTemperature=O.systemTemperature,O.systemTemperature=O.getSystemTemperature(),O.enableSimulation&&(V.forEach(function(G){G.chart&&G.render()}),O.maxIterations--&&isFinite(O.temperature)&&!O.isStable()?(O.simulation&&H.win.cancelAnimationFrame(O.simulation),O.simulation=H.win.requestAnimationFrame(function(){O.step()})):O.simulation=!1)},stop:function(){this.simulation&&H.win.cancelAnimationFrame(this.simulation)},setArea:function(O,V,G,R){this.box={left:O,top:V,width:G,height:R}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(O,V){O.forEach(function(G){-1===V.indexOf(G)&&V.push(G)})},removeElementFromCollection:function(O,V){-1!==(O=V.indexOf(O))&&V.splice(O,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(O){this.maxIterations=F(O,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(O){this.initialRendering=O},createQuadTree:function(){this.quadTree=new H.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var O=this.options.initialPositions;T(O)?(O.call(this),this.nodes.forEach(function(V){I(V.prevX)||(V.prevX=V.plotX),I(V.prevY)||(V.prevY=V.plotY),V.dispX=0,V.dispY=0})):"circle"===O?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){function O(ht){ht.linksFrom.forEach(function(mt){Q[mt.toNode.id]||(Q[mt.toNode.id]=!0,Z.push(mt.toNode),O(mt.toNode))})}var V=this.box,G=this.nodes,R=2*Math.PI/(G.length+1),$=G.filter(function(ht){return 0===ht.linksTo.length}),Z=[],Q={},lt=this.options.initialPositionRadius;$.forEach(function(ht){Z.push(ht),O(ht)}),Z.length?G.forEach(function(ht){-1===Z.indexOf(ht)&&Z.push(ht)}):Z=G,Z.forEach(function(ht,mt){ht.plotX=ht.prevX=F(ht.plotX,V.width/2+lt*Math.cos(mt*R)),ht.plotY=ht.prevY=F(ht.plotY,V.height/2+lt*Math.sin(mt*R)),ht.dispX=0,ht.dispY=0})},setRandomPositions:function(){function O($){return($=$*$/Math.PI)-Math.floor($)}var V=this.box,G=this.nodes,R=G.length+1;G.forEach(function($,Z){$.plotX=$.prevX=F($.plotX,V.width*O(Z)),$.plotY=$.prevY=F($.plotY,V.height*O(R+Z)),$.dispX=0,$.dispY=0})},force:function(O){this.integration[O].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var O=0,V=0,G=0;return this.nodes.forEach(function(R){V+=R.plotX*R.mass,G+=R.plotY*R.mass,O+=R.mass}),this.barycenter={x:V,y:G,xFactor:V/O,yFactor:G/O}},barnesHutApproximation:function(O,V){var G=this.getDistXY(O,V),R=this.vectorLength(G);if(O!==V&&0!==R)if(V.isInternal)if(V.boxSize/R<this.options.theta&&0!==R){var $=this.repulsiveForce(R,this.k);this.force("repulsive",O,$*V.mass,G,R);var Z=!1}else Z=!0;else $=this.repulsiveForce(R,this.k),this.force("repulsive",O,$*V.mass,G,R);return Z},repulsiveForces:function(){var O=this;O.nodes.forEach("barnes-hut"===O.approximation?function(V){O.quadTree.visitNodeRecursive(null,function(G){return O.barnesHutApproximation(V,G)})}:function(V){O.nodes.forEach(function(G){if(V!==G&&!V.fixedPosition){var R=O.getDistXY(V,G),$=O.vectorLength(R);if(0!==$){var Z=O.repulsiveForce($,O.k);O.force("repulsive",V,Z*G.mass,R,$)}}})})},attractiveForces:function(){var V,G,R,O=this;O.links.forEach(function($){$.fromNode&&$.toNode&&(V=O.getDistXY($.fromNode,$.toNode),0!==(G=O.vectorLength(V))&&(R=O.attractiveForce(G,O.k),O.force("attractive",$,R,V,G)))})},applyLimits:function(){var O=this;O.nodes.forEach(function(V){V.fixedPosition||(O.integration.integrate(O,V),O.applyLimitBox(V,O.box),V.dispX=0,V.dispY=0)})},applyLimitBox:function(O,V){var G=O.radius;O.plotX=B(O.plotX,V.left+G,V.width-G),O.plotY=B(O.plotY,V.top+G,V.height-G)},coolDown:function(O,V,G){return O-V*G},isStable:function(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature},getSystemTemperature:function(){return this.nodes.reduce(function(O,V){return O+V.temperature},0)},vectorLength:function(O){return Math.sqrt(O.x*O.x+O.y*O.y)},getDistR:function(O,V){return O=this.getDistXY(O,V),this.vectorLength(O)},getDistXY:function(O,V){var G=O.plotX-V.plotX;return{x:G,y:O=O.plotY-V.plotY,absX:Math.abs(G),absY:Math.abs(O)}}}),j(M,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(O){O.stop()})}),j(M,"render",function(){function O(R){R.maxIterations--&&isFinite(R.temperature)&&!R.isStable()&&!R.enableSimulation&&(R.beforeStep&&R.beforeStep(),R.step(),G=!1,V=!0)}var V=!1;if(this.graphLayoutsLookup){for(z(!1,this),this.graphLayoutsLookup.forEach(function(R){R.start()});!G;){var G=!0;this.graphLayoutsLookup.forEach(O)}V&&this.series.forEach(function(R){R&&R.layout&&R.render()})}}),j(M,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(O){O.updateSimulation(!1)}),this.redraw())}),j(M,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(O){O.updateSimulation()}),this.redraw()})}),it(et,"Series/Networkgraph/DraggableNodes.js",[et["Core/Chart/Chart.js"],et["Core/Globals.js"],et["Core/Utilities.js"]],function(M,j,H){var X=H.addEvent;j.dragNodesMixin={onMouseDown:function(z,B){B=this.chart.pointer.normalize(B),z.fixedPosition={chartX:B.chartX,chartY:B.chartY,plotX:z.plotX,plotY:z.plotY},z.inDragMode=!0},onMouseMove:function(z,B){if(z.fixedPosition&&z.inDragMode){var I=this.chart,Y=I.pointer.normalize(B);B=z.fixedPosition.chartX-Y.chartX,Y=z.fixedPosition.chartY-Y.chartY;var T=void 0,F=void 0,O=I.graphLayoutsLookup;(5<Math.abs(B)||5<Math.abs(Y))&&I.isInsidePlot(T=z.fixedPosition.plotX-B,F=z.fixedPosition.plotY-Y)&&(z.plotX=T,z.plotY=F,z.hasDragged=!0,this.redrawHalo(z),O.forEach(function(V){V.restartSimulation()}))}},onMouseUp:function(z,B){z.fixedPosition&&(z.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),z.inDragMode=z.hasDragged=!1,this.options.fixedDraggable||delete z.fixedPosition)},redrawHalo:function(z){z&&this.halo&&this.halo.attr({d:z.haloPath(this.options.states.hover.halo.size)})}},X(M,"load",function(){var B,I,Y,z=this;z.container&&(B=X(z.container,"mousedown",function(T){var F=z.hoverPoint;F&&F.series&&F.series.hasDraggableNodes&&F.series.options.draggable&&(F.series.onMouseDown(F,T),I=X(z.container,"mousemove",function(O){return F&&F.series&&F.series.onMouseMove(F,O)}),Y=X(z.container.ownerDocument,"mouseup",function(O){return I(),Y(),F&&F.series&&F.series.onMouseUp(F,O)}))})),X(z,"destroy",function(){B()})})}),it(et,"Series/Networkgraph/Networkgraph.js",[et["Core/Globals.js"],et["Series/NodesComposition.js"],et["Core/Series/Point.js"],et["Core/Series/Series.js"],et["Core/Series/SeriesRegistry.js"],et["Core/Utilities.js"]],function(M,j,H,X,z,B){var Z,I=this&&this.__extends||(Z=function(Q,lt){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,mt){ht.__proto__=mt}||function(ht,mt){for(var dt in mt)mt.hasOwnProperty(dt)&&(ht[dt]=mt[dt])})(Q,lt)},function(Q,lt){function ht(){this.constructor=Q}Z(Q,lt),Q.prototype=null===lt?Object.create(lt):(ht.prototype=lt.prototype,new ht)}),Y=z.seriesTypes,T=B.addEvent,F=B.css,O=B.defined,V=B.extend,G=B.merge,R=B.pick,$=M.dragNodesMixin;return B=function(Z){function Q(){var lt=null!==Z&&Z.apply(this,arguments)||this;return lt.data=void 0,lt.nodes=void 0,lt.options=void 0,lt.points=void 0,lt}return I(Q,Z),Q.defaultOptions=G(X.defaultOptions,{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}),Q}(X),V(B.prototype,{forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,drawGraph:void 0,isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,pointArrayMap:["from","to"],trackerGroups:["group","markerGroup","dataLabelsGroup"],drawTracker:Y.column.prototype.drawTracker,animate:void 0,buildKDTree:M.noop,createNode:j.createNode,destroy:function(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),j.destroy.call(this)},init:function(){var Z=this;return X.prototype.init.apply(this,arguments),T(this,"updatedData",function(){Z.layout&&Z.layout.stop()}),T(this,"afterUpdate",function(){Z.nodes.forEach(function(Q){Q&&Q.series&&Q.resolveColor()})}),this},generatePoints:function(){var Z;for(j.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(lt){this.nodeLookup[lt.id]||(this.nodeLookup[lt.id]=this.createNode(lt.id))},this),Z=this.nodes.length-1;0<=Z;Z--){var Q=this.nodes[Z];Q.degree=Q.getDegree(),Q.radius=R(Q.marker&&Q.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[Q.id]||Q.remove()}this.data.forEach(function(lt){lt.formatPrefix="link"}),this.indexateNodes()},getPointsCollection:function(){return this.nodes||[]},indexateNodes:function(){this.nodes.forEach(function(Z,Q){Z.index=Q})},markerAttribs:function(Z,Q){return Q=X.prototype.markerAttribs.call(this,Z,Q),O(Z.plotY)||(Q.y=0),Q.x=(Z.plotX||0)-(Q.width||0)/2,Q},translate:function(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(Z){Z.isInside=!0,Z.linksFrom.forEach(function(Q){Q.shapeType="path",Q.y=1})})},deferLayout:function(){var Z=this.options.layoutAlgorithm,Q=this.chart.graphLayoutsStorage,lt=this.chart.graphLayoutsLookup,ht=this.chart.options.chart;if(this.visible){Q||(this.chart.graphLayoutsStorage=Q={},this.chart.graphLayoutsLookup=lt=[]);var mt=Q[Z.type];mt||(Z.enableSimulation=O(ht.forExport)?!ht.forExport:Z.enableSimulation,Q[Z.type]=mt=new M.layouts[Z.type],mt.init(Z),lt.splice(mt.index,0,mt)),this.layout=mt,mt.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),mt.addElementsToCollection([this],mt.series),mt.addElementsToCollection(this.nodes,mt.nodes),mt.addElementsToCollection(this.points,mt.links)}},render:function(){var Z=this.points,Q=this.chart.hoverPoint,lt=[];this.points=this.nodes,Y.line.prototype.render.call(this),this.points=Z,Z.forEach(function(ht){ht.fromNode&&ht.toNode&&(ht.renderLink(),ht.redrawLink())}),Q&&Q.series===this&&this.redrawHalo(Q),this.chart.hasRendered&&!this.options.dataLabels.allowOverlap&&(this.nodes.concat(this.points).forEach(function(ht){ht.dataLabel&&lt.push(ht.dataLabel)}),this.chart.hideOverlappingLabels(lt))},drawDataLabels:function(){var Z=this.options.dataLabels.textPath;X.prototype.drawDataLabels.apply(this,arguments),this.points=this.data,this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath,X.prototype.drawDataLabels.apply(this,arguments),this.points=this.nodes,this.options.dataLabels.textPath=Z},pointAttribs:function(Z,Q){var lt=Q||Z&&Z.state||"normal";return Q=X.prototype.pointAttribs.call(this,Z,lt),lt=this.options.states[lt],Z&&!Z.isNode&&(Q=Z.getLinkAttributes(),lt&&(Q={stroke:lt.linkColor||Q.stroke,dashstyle:lt.linkDashStyle||Q.dashstyle,opacity:R(lt.linkOpacity,Q.opacity),"stroke-width":lt.linkColor||Q["stroke-width"]})),Q},redrawHalo:$.redrawHalo,onMouseDown:$.onMouseDown,onMouseMove:$.onMouseMove,onMouseUp:$.onMouseUp,setState:function(Z,Q){Q?(this.points=this.nodes.concat(this.data),X.prototype.setState.apply(this,arguments),this.points=this.data):X.prototype.setState.apply(this,arguments),this.layout.simulation||Z||this.render()}}),$=function(Z){function Q(){var lt=null!==Z&&Z.apply(this,arguments)||this;return lt.degree=void 0,lt.linksFrom=void 0,lt.linksTo=void 0,lt.options=void 0,lt.radius=void 0,lt.series=void 0,lt.toNode=void 0,lt}return I(Q,Z),Q}(X.prototype.pointClass),V($.prototype,{setState:j.setNodeState,init:function(){return H.prototype.init.apply(this,arguments),this.series.options.draggable&&!this.series.chart.styledMode&&(T(this,"mouseOver",function(){F(this.series.chart.container,{cursor:"move"})}),T(this,"mouseOut",function(){F(this.series.chart.container,{cursor:"default"})})),this},getDegree:function(){var Z=this.isNode?this.linksFrom.length+this.linksTo.length:0;return 0===Z?1:Z},getLinkAttributes:function(){var Z=this.series.options.link,Q=this.options;return{"stroke-width":R(Q.width,Z.width),stroke:Q.color||Z.color,dashstyle:Q.dashStyle||Z.dashStyle,opacity:R(Q.opacity,Z.opacity,1)}},renderLink:function(){if(!this.graphic&&(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),!this.series.chart.styledMode)){var Z=this.series.pointAttribs(this);this.graphic.attr(Z),(this.dataLabels||[]).forEach(function(Q){Q&&Q.attr({opacity:Z.opacity})})}},redrawLink:function(){var Z=this.getLinkPath();if(this.graphic){if(this.shapeArgs={d:Z},!this.series.chart.styledMode){var Q=this.series.pointAttribs(this);this.graphic.attr(Q),(this.dataLabels||[]).forEach(function(ht){ht&&ht.attr({opacity:Q.opacity})})}this.graphic.animate(this.shapeArgs);var lt=Z[0];Z=Z[1],"M"===lt[0]&&"L"===Z[0]&&(this.plotX=(lt[1]+Z[1])/2,this.plotY=(lt[2]+Z[2])/2)}},getMass:function(){var Z=this.fromNode.mass,Q=this.toNode.mass,lt=Z+Q;return{fromNode:1-Z/lt,toNode:1-Q/lt}},getLinkPath:function(){var Z=this.fromNode,Q=this.toNode;return Z.plotX>Q.plotX&&(Z=this.toNode,Q=this.fromNode),[["M",Z.plotX||0,Z.plotY||0],["L",Q.plotX||0,Q.plotY||0]]},isValid:function(){return!this.isNode||O(this.id)},remove:function(Z,Q){var mt,lt=this.series,ht=lt.options.nodes||[],dt=ht.length;if(this.isNode){for(lt.points=[],[].concat(this.linksFrom).concat(this.linksTo).forEach(function(gt){-1<(mt=gt.fromNode.linksFrom.indexOf(gt))&&gt.fromNode.linksFrom.splice(mt,1),-1<(mt=gt.toNode.linksTo.indexOf(gt))&&gt.toNode.linksTo.splice(mt,1),X.prototype.removePoint.call(lt,lt.data.indexOf(gt),!1,!1)}),lt.points=lt.data.slice(),lt.nodes.splice(lt.nodes.indexOf(this),1);dt--;)if(ht[dt].id===this.options.id){lt.options.nodes.splice(dt,1);break}this&&this.destroy(),lt.isDirty=!0,lt.isDirtyData=!0,Z&&lt.chart.redraw(Z)}else lt.removePoint(lt.data.indexOf(this),Z,Q)},destroy:function(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(Z){Z.destroyElements&&Z.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),H.prototype.destroy.apply(this,arguments)}}),B.prototype.pointClass=$,z.registerSeriesType("networkgraph",B),B}),it(et,"masters/modules/networkgraph.src.js",[],function(){})},Yt.exports?(et.default=et,Yt.exports=et):(yt=[vt(4317)],void 0!==(xt=function(it){return et(it),et.Highcharts=it,et}.apply(q,yt))&&(Yt.exports=xt))},1883:(Yt,q,vt)=>{"use strict";var yt=vt(4658),xt=vt(1171),et=vt(4725);function it(M){if(!(this instanceof it))return new it(M);this.hash=M.hash,this.predResist=!!M.predResist,this.outLen=this.hash.outSize,this.minEntropy=M.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var j=xt.toArray(M.entropy,M.entropyEnc||"hex"),H=xt.toArray(M.nonce,M.nonceEnc||"hex"),X=xt.toArray(M.pers,M.persEnc||"hex");et(j.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(j,H,X)}Yt.exports=it,it.prototype._init=function(j,H,X){var z=j.concat(H).concat(X);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var B=0;B<this.V.length;B++)this.K[B]=0,this.V[B]=1;this._update(z),this._reseed=1,this.reseedInterval=281474976710656},it.prototype._hmac=function(){return new yt.hmac(this.hash,this.K)},it.prototype._update=function(j){var H=this._hmac().update(this.V).update([0]);j&&(H=H.update(j)),this.K=H.digest(),this.V=this._hmac().update(this.V).digest(),j&&(this.K=this._hmac().update(this.V).update([1]).update(j).digest(),this.V=this._hmac().update(this.V).digest())},it.prototype.reseed=function(j,H,X,z){"string"!=typeof H&&(z=X,X=H,H=null),j=xt.toArray(j,H),X=xt.toArray(X,z),et(j.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(j.concat(X||[])),this._reseed=1},it.prototype.generate=function(j,H,X,z){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof H&&(z=X,X=H,H=null),X&&(X=xt.toArray(X,z||"hex"),this._update(X));for(var B=[];B.length<j;)this.V=this._hmac().update(this.V).digest(),B=B.concat(this.V);var I=B.slice(0,j);return this._update(X),this._reseed++,xt.encode(I,H)}},1208:(Yt,q)=>{q.read=function(vt,yt,xt,et,it){var M,j,H=8*it-et-1,X=(1<<H)-1,z=X>>1,B=-7,I=xt?it-1:0,Y=xt?-1:1,T=vt[yt+I];for(I+=Y,M=T&(1<<-B)-1,T>>=-B,B+=H;B>0;M=256*M+vt[yt+I],I+=Y,B-=8);for(j=M&(1<<-B)-1,M>>=-B,B+=et;B>0;j=256*j+vt[yt+I],I+=Y,B-=8);if(0===M)M=1-z;else{if(M===X)return j?NaN:1/0*(T?-1:1);j+=Math.pow(2,et),M-=z}return(T?-1:1)*j*Math.pow(2,M-et)},q.write=function(vt,yt,xt,et,it,M){var j,H,X,z=8*M-it-1,B=(1<<z)-1,I=B>>1,Y=23===it?Math.pow(2,-24)-Math.pow(2,-77):0,T=et?0:M-1,F=et?1:-1,O=yt<0||0===yt&&1/yt<0?1:0;for(yt=Math.abs(yt),isNaN(yt)||yt===1/0?(H=isNaN(yt)?1:0,j=B):(j=Math.floor(Math.log(yt)/Math.LN2),yt*(X=Math.pow(2,-j))<1&&(j--,X*=2),(yt+=j+I>=1?Y/X:Y*Math.pow(2,1-I))*X>=2&&(j++,X/=2),j+I>=B?(H=0,j=B):j+I>=1?(H=(yt*X-1)*Math.pow(2,it),j+=I):(H=yt*Math.pow(2,I-1)*Math.pow(2,it),j=0));it>=8;vt[xt+T]=255&H,T+=F,H/=256,it-=8);for(j=j<<it|H,z+=it;z>0;vt[xt+T]=255&j,T+=F,j/=256,z-=8);vt[xt+T-F]|=128*O}},3516:Yt=>{Yt.exports="function"==typeof Object.create?function(vt,yt){yt&&(vt.super_=yt,vt.prototype=Object.create(yt.prototype,{constructor:{value:vt,enumerable:!1,writable:!0,configurable:!0}}))}:function(vt,yt){if(yt){vt.super_=yt;var xt=function(){};xt.prototype=yt.prototype,vt.prototype=new xt,vt.prototype.constructor=vt}}},3783:(Yt,q,vt)=>{Yt.exports=vt(967)},967:(Yt,q,vt)=>{var yt=vt(7702),xt={HS256:"sha256",HS384:"sha384",HS512:"sha512",RS256:"RSA-SHA256"},et={HS256:"hmac",HS384:"hmac",HS512:"hmac",RS256:"sign"},it=Yt.exports;function H(Y,T,F,O){var V;if("hmac"===O)V=yt.createHmac(F,T).update(Y).digest("base64");else{if("sign"!=O)throw new Error("Algorithm type not recognized");V=yt.createSign(F).update(Y).sign(T,"base64")}return I(V)}function X(Y){return Buffer.from(z(Y),"base64").toString()}function z(Y){return(Y+=new Array(5-Y.length%4).join("=")).replace(/\-/g,"+").replace(/_/g,"/")}function B(Y){return I(Buffer.from(Y).toString("base64"))}function I(Y){return Y.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}it.version="0.5.6",it.decode=function(T,F,O,V){if(!T)throw new Error("No token supplied");var G=T.split(".");if(3!==G.length)throw new Error("Not enough or too many segments");var R=G[0],$=G[1],Z=G[2],Q=JSON.parse(X(R)),lt=JSON.parse(X($));if(!O){!V&&/BEGIN( RSA)? PUBLIC KEY/.test(F.toString())&&(V="RS256");var ht=xt[V||Q.alg],mt=et[V||Q.alg];if(!ht||!mt)throw new Error("Algorithm not supported");if(!function(Y,T,F,O,V){if("hmac"===O)return V===H(Y,T,F,O);if("sign"==O)return yt.createVerify(F).update(Y).verify(T,z(V),"base64");throw new Error("Algorithm type not recognized")}([R,$].join("."),F,ht,mt,Z))throw new Error("Signature verification failed");if(lt.nbf&&Date.now()<1e3*lt.nbf)throw new Error("Token not yet active");if(lt.exp&&Date.now()>1e3*lt.exp)throw new Error("Token expired")}return lt},it.encode=function(T,F,O,V){if(!F)throw new Error("Require key");O||(O="HS256");var G=xt[O],R=et[O];if(!G||!R)throw new Error("Algorithm not supported");var $={typ:"JWT",alg:O};V&&V.header&&function(Y,T){for(var F in T)T.hasOwnProperty(F)&&(Y[F]=T[F])}($,V.header);var Z=[];return Z.push(B(JSON.stringify($))),Z.push(B(JSON.stringify(T))),Z.push(H(Z.join("."),F,G,R)),Z.join(".")}},7674:function(Yt){Yt.exports=function(){"use strict";function q(se,Se){for(var re=0;re<Se.length;re++){var jt=Se[re];jt.enumerable=jt.enumerable||!1,jt.configurable=!0,"value"in jt&&(jt.writable=!0),Object.defineProperty(se,jt.key,jt)}}function xt(se,Se){(null==Se||Se>se.length)&&(Se=se.length);for(var re=0,jt=new Array(Se);re<Se;re++)jt[re]=se[re];return jt}function et(se,Se){var re="undefined"!=typeof Symbol&&se[Symbol.iterator]||se["@@iterator"];if(re)return(re=re.call(se)).next.bind(re);if(Array.isArray(se)||(re=function(se,Se){if(se){if("string"==typeof se)return xt(se,Se);var re=Object.prototype.toString.call(se).slice(8,-1);if("Object"===re&&se.constructor&&(re=se.constructor.name),"Map"===re||"Set"===re)return Array.from(se);if("Arguments"===re||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return xt(se,Se)}}(se))||Se&&se&&"number"==typeof se.length){re&&(se=re);var jt=0;return function(){return jt>=se.length?{done:!0}:{done:!1,value:se[jt++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var it={exports:{}};function M(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}it.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:M,changeDefaults:function(se){it.exports.defaults=se}};var H=/[&<>"']/,X=/[&<>"']/g,z=/[<>"']|&(?!#?\w+;)/,B=/[<>"']|&(?!#?\w+;)/g,I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Y=function(Se){return I[Se]};var F=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function O(se){return se.replace(F,function(Se,re){return"colon"===(re=re.toLowerCase())?":":"#"===re.charAt(0)?"x"===re.charAt(1)?String.fromCharCode(parseInt(re.substring(2),16)):String.fromCharCode(+re.substring(1)):""})}var V=/(^|[^\[])\^/g;var R=/[^\w:]/g,$=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var Q={},lt=/^[^:]+:\/*[^/]*$/,ht=/^([^:]+:)[\s\S]*$/,mt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function dt(se,Se){Q[" "+se]||(Q[" "+se]=lt.test(se)?se+"/":p(se,"/",!0));var re=-1===(se=Q[" "+se]).indexOf(":");return"//"===Se.substring(0,2)?re?Se:se.replace(ht,"$1")+Se:"/"===Se.charAt(0)?re?Se:se.replace(mt,"$1")+Se:se+Se}function p(se,Se,re){var jt=se.length;if(0===jt)return"";for(var ne=0;ne<jt;){var Ut=se.charAt(jt-ne-1);if(Ut!==Se||re){if(Ut===Se||!re)break;ne++}else ne++}return se.substr(0,jt-ne)}var b_escape=function(se,Se){if(Se){if(H.test(se))return se.replace(X,Y)}else if(z.test(se))return se.replace(B,Y);return se},b_unescape=O,b_edit=function(se,Se){se=se.source||se,Se=Se||"";var re={replace:function(ne,Ut){return Ut=(Ut=Ut.source||Ut).replace(V,"$1"),se=se.replace(ne,Ut),re},getRegex:function(){return new RegExp(se,Se)}};return re},b_cleanUrl=function(se,Se,re){if(se){var jt;try{jt=decodeURIComponent(O(re)).replace(R,"").toLowerCase()}catch(ne){return null}if(0===jt.indexOf("javascript:")||0===jt.indexOf("vbscript:")||0===jt.indexOf("data:"))return null}Se&&!$.test(re)&&(re=dt(Se,re));try{re=encodeURI(re).replace(/%25/g,"%")}catch(ne){return null}return re},b_noopTest={exec:function(){}},b_merge=function(se){for(var re,jt,Se=1;Se<arguments.length;Se++)for(jt in re=arguments[Se])Object.prototype.hasOwnProperty.call(re,jt)&&(se[jt]=re[jt]);return se},b_checkSanitizeDeprecation=function(se){se&&se.sanitize&&!se.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},b_repeatString=function(se,Se){if(Se<1)return"";for(var re="";Se>1;)1&Se&&(re+=se),Se>>=1,se+=se;return re+se},D=it.exports.defaults,_=p,f=function(se,Se){var jt=se.replace(/\|/g,function(Ut,ee,ye){for(var Lt=!1,ue=ee;--ue>=0&&"\\"===ye[ue];)Lt=!Lt;return Lt?"|":" |"}).split(/ \|/),ne=0;if(jt.length>Se)jt.splice(Se);else for(;jt.length<Se;)jt.push("");for(;ne<jt.length;ne++)jt[ne]=jt[ne].trim().replace(/\\\|/g,"|");return jt},C=b_escape,K=function(se,Se){if(-1===se.indexOf(Se[1]))return-1;for(var re=se.length,jt=0,ne=0;ne<re;ne++)if("\\"===se[ne])ne++;else if(se[ne]===Se[0])jt++;else if(se[ne]===Se[1]&&--jt<0)return ne;return-1};function U(se,Se,re){var jt=Se.href,ne=Se.title?C(Se.title):null,Ut=se[1].replace(/\\([\[\]])/g,"$1");return"!"!==se[0].charAt(0)?{type:"link",raw:re,href:jt,title:ne,text:Ut}:{type:"image",raw:re,href:jt,title:ne,text:C(Ut)}}var st=function(){function se(re){this.options=re||D}var Se=se.prototype;return Se.space=function(jt){var ne=this.rules.block.newline.exec(jt);if(ne)return ne[0].length>1?{type:"space",raw:ne[0]}:{raw:"\n"}},Se.code=function(jt){var ne=this.rules.block.code.exec(jt);if(ne){var Ut=ne[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ne[0],codeBlockStyle:"indented",text:this.options.pedantic?Ut:_(Ut,"\n")}}},Se.fences=function(jt){var ne=this.rules.block.fences.exec(jt);if(ne){var Ut=ne[0],ee=function(se,Se){var re=se.match(/^(\s+)(?:```)/);if(null===re)return Se;var jt=re[1];return Se.split("\n").map(function(ne){var Ut=ne.match(/^\s+/);return null===Ut?ne:Ut[0].length>=jt.length?ne.slice(jt.length):ne}).join("\n")}(Ut,ne[3]||"");return{type:"code",raw:Ut,lang:ne[2]?ne[2].trim():ne[2],text:ee}}},Se.heading=function(jt){var ne=this.rules.block.heading.exec(jt);if(ne){var Ut=ne[2].trim();if(/#$/.test(Ut)){var ee=_(Ut,"#");(this.options.pedantic||!ee||/ $/.test(ee))&&(Ut=ee.trim())}return{type:"heading",raw:ne[0],depth:ne[1].length,text:Ut}}},Se.nptable=function(jt){var ne=this.rules.block.nptable.exec(jt);if(ne){var Ut={type:"table",header:f(ne[1].replace(/^ *| *\| *$/g,"")),align:ne[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ne[3]?ne[3].replace(/\n$/,"").split("\n"):[],raw:ne[0]};if(Ut.header.length===Ut.align.length){var ye,ee=Ut.align.length;for(ye=0;ye<ee;ye++)Ut.align[ye]=/^ *-+: *$/.test(Ut.align[ye])?"right":/^ *:-+: *$/.test(Ut.align[ye])?"center":/^ *:-+ *$/.test(Ut.align[ye])?"left":null;for(ee=Ut.cells.length,ye=0;ye<ee;ye++)Ut.cells[ye]=f(Ut.cells[ye],Ut.header.length);return Ut}}},Se.hr=function(jt){var ne=this.rules.block.hr.exec(jt);if(ne)return{type:"hr",raw:ne[0]}},Se.blockquote=function(jt){var ne=this.rules.block.blockquote.exec(jt);if(ne){var Ut=ne[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ne[0],text:Ut}}},Se.list=function(jt){var ne=this.rules.block.list.exec(jt);if(ne){var we,Ae,Ti,ke,De,fi,hi,Pi,vn,Ut=ne[0],ee=ne[2],ye=ee.length>1,Lt={type:"list",raw:Ut,ordered:ye,start:ye?+ee.slice(0,-1):"",loose:!1,items:[]},ue=ne[0].match(this.rules.block.item),ni=!1,ji=ue.length;Ti=this.rules.block.listItemStart.exec(ue[0]);for(var Ki=0;Ki<ji;Ki++){if(Ut=we=ue[Ki],this.options.pedantic||(vn=we.match(new RegExp("\\n\\s*\\n {0,"+(Ti[0].length-1)+"}\\S")))&&(De=we.length-vn.index+ue.slice(Ki+1).join("\n").length,Lt.raw=Lt.raw.substring(0,Lt.raw.length-De),Ut=we=we.substring(0,vn.index),ji=Ki+1),Ki!==ji-1){if(ke=this.rules.block.listItemStart.exec(ue[Ki+1]),this.options.pedantic?ke[1].length>Ti[1].length:ke[1].length>=Ti[0].length||ke[1].length>3){ue.splice(Ki,2,ue[Ki]+(!this.options.pedantic&&ke[1].length<Ti[0].length&&!ue[Ki].match(/\n$/)?"":"\n")+ue[Ki+1]),Ki--,ji--;continue}(!this.options.pedantic||this.options.smartLists?ke[2][ke[2].length-1]!==ee[ee.length-1]:ye===(1===ke[2].length))&&(De=ue.slice(Ki+1).join("\n").length,Lt.raw=Lt.raw.substring(0,Lt.raw.length-De),Ki=ji-1),Ti=ke}Ae=we.length,~(we=we.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(Ae-=we.length,we=we.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+Ae+"}","gm"),"")),we=_(we,"\n"),Ki!==ji-1&&(Ut+="\n"),fi=ni||/\n\n(?!\s*$)/.test(Ut),Ki!==ji-1&&(ni="\n\n"===Ut.slice(-2),fi||(fi=ni)),fi&&(Lt.loose=!0),this.options.gfm&&(Pi=void 0,(hi=/^\[[ xX]\] /.test(we))&&(Pi=" "!==we[1],we=we.replace(/^\[[ xX]\] +/,""))),Lt.items.push({type:"list_item",raw:Ut,task:hi,checked:Pi,loose:fi,text:we})}return Lt}},Se.html=function(jt){var ne=this.rules.block.html.exec(jt);if(ne)return{type:this.options.sanitize?"paragraph":"html",raw:ne[0],pre:!this.options.sanitizer&&("pre"===ne[1]||"script"===ne[1]||"style"===ne[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ne[0]):C(ne[0]):ne[0]}},Se.def=function(jt){var ne=this.rules.block.def.exec(jt);if(ne)return ne[3]&&(ne[3]=ne[3].substring(1,ne[3].length-1)),{type:"def",tag:ne[1].toLowerCase().replace(/\s+/g," "),raw:ne[0],href:ne[2],title:ne[3]}},Se.table=function(jt){var ne=this.rules.block.table.exec(jt);if(ne){var Ut={type:"table",header:f(ne[1].replace(/^ *| *\| *$/g,"")),align:ne[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ne[3]?ne[3].replace(/\n$/,"").split("\n"):[]};if(Ut.header.length===Ut.align.length){Ut.raw=ne[0];var ye,ee=Ut.align.length;for(ye=0;ye<ee;ye++)Ut.align[ye]=/^ *-+: *$/.test(Ut.align[ye])?"right":/^ *:-+: *$/.test(Ut.align[ye])?"center":/^ *:-+ *$/.test(Ut.align[ye])?"left":null;for(ee=Ut.cells.length,ye=0;ye<ee;ye++)Ut.cells[ye]=f(Ut.cells[ye].replace(/^ *\| *| *\| *$/g,""),Ut.header.length);return Ut}}},Se.lheading=function(jt){var ne=this.rules.block.lheading.exec(jt);if(ne)return{type:"heading",raw:ne[0],depth:"="===ne[2].charAt(0)?1:2,text:ne[1]}},Se.paragraph=function(jt){var ne=this.rules.block.paragraph.exec(jt);if(ne)return{type:"paragraph",raw:ne[0],text:"\n"===ne[1].charAt(ne[1].length-1)?ne[1].slice(0,-1):ne[1]}},Se.text=function(jt){var ne=this.rules.block.text.exec(jt);if(ne)return{type:"text",raw:ne[0],text:ne[0]}},Se.escape=function(jt){var ne=this.rules.inline.escape.exec(jt);if(ne)return{type:"escape",raw:ne[0],text:C(ne[1])}},Se.tag=function(jt,ne,Ut){var ee=this.rules.inline.tag.exec(jt);if(ee)return!ne&&/^<a /i.test(ee[0])?ne=!0:ne&&/^<\/a>/i.test(ee[0])&&(ne=!1),!Ut&&/^<(pre|code|kbd|script)(\s|>)/i.test(ee[0])?Ut=!0:Ut&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ee[0])&&(Ut=!1),{type:this.options.sanitize?"text":"html",raw:ee[0],inLink:ne,inRawBlock:Ut,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):C(ee[0]):ee[0]}},Se.link=function(jt){var ne=this.rules.inline.link.exec(jt);if(ne){var Ut=ne[2].trim();if(!this.options.pedantic&&/^</.test(Ut)){if(!/>$/.test(Ut))return;var ee=_(Ut.slice(0,-1),"\\");if((Ut.length-ee.length)%2==0)return}else{var ye=K(ne[2],"()");if(ye>-1){var ue=(0===ne[0].indexOf("!")?5:4)+ne[1].length+ye;ne[2]=ne[2].substring(0,ye),ne[0]=ne[0].substring(0,ue).trim(),ne[3]=""}}var ni=ne[2],we="";if(this.options.pedantic){var Ae=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ni);Ae&&(ni=Ae[1],we=Ae[3])}else we=ne[3]?ne[3].slice(1,-1):"";return ni=ni.trim(),/^</.test(ni)&&(ni=this.options.pedantic&&!/>$/.test(Ut)?ni.slice(1):ni.slice(1,-1)),U(ne,{href:ni&&ni.replace(this.rules.inline._escapes,"$1"),title:we&&we.replace(this.rules.inline._escapes,"$1")},ne[0])}},Se.reflink=function(jt,ne){var Ut;if((Ut=this.rules.inline.reflink.exec(jt))||(Ut=this.rules.inline.nolink.exec(jt))){var ee=(Ut[2]||Ut[1]).replace(/\s+/g," ");if(!(ee=ne[ee.toLowerCase()])||!ee.href){var ye=Ut[0].charAt(0);return{type:"text",raw:ye,text:ye}}return U(Ut,ee,Ut[0])}},Se.emStrong=function(jt,ne,Ut){void 0===Ut&&(Ut="");var ee=this.rules.inline.emStrong.lDelim.exec(jt);if(ee&&(!ee[3]||!Ut.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ye=ee[1]||ee[2]||"";if(!ye||ye&&(""===Ut||this.rules.inline.punctuation.exec(Ut))){var ue,ni,Lt=ee[0].length-1,we=Lt,Ae=0,Ti="*"===ee[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ti.lastIndex=0,ne=ne.slice(-1*jt.length+Lt);null!=(ee=Ti.exec(ne));)if(ue=ee[1]||ee[2]||ee[3]||ee[4]||ee[5]||ee[6]){if(ni=ue.length,ee[3]||ee[4]){we+=ni;continue}if((ee[5]||ee[6])&&Lt%3&&!((Lt+ni)%3)){Ae+=ni;continue}if(!((we-=ni)>0))return ni=Math.min(ni,ni+we+Ae),Math.min(Lt,ni)%2?{type:"em",raw:jt.slice(0,Lt+ee.index+ni+1),text:jt.slice(1,Lt+ee.index+ni)}:{type:"strong",raw:jt.slice(0,Lt+ee.index+ni+1),text:jt.slice(2,Lt+ee.index+ni-1)}}}}},Se.codespan=function(jt){var ne=this.rules.inline.code.exec(jt);if(ne){var Ut=ne[2].replace(/\n/g," "),ee=/[^ ]/.test(Ut),ye=/^ /.test(Ut)&&/ $/.test(Ut);return ee&&ye&&(Ut=Ut.substring(1,Ut.length-1)),Ut=C(Ut,!0),{type:"codespan",raw:ne[0],text:Ut}}},Se.br=function(jt){var ne=this.rules.inline.br.exec(jt);if(ne)return{type:"br",raw:ne[0]}},Se.del=function(jt){var ne=this.rules.inline.del.exec(jt);if(ne)return{type:"del",raw:ne[0],text:ne[2]}},Se.autolink=function(jt,ne){var ee,ye,Ut=this.rules.inline.autolink.exec(jt);if(Ut)return ye="@"===Ut[2]?"mailto:"+(ee=C(this.options.mangle?ne(Ut[1]):Ut[1])):ee=C(Ut[1]),{type:"link",raw:Ut[0],text:ee,href:ye,tokens:[{type:"text",raw:ee,text:ee}]}},Se.url=function(jt,ne){var Ut;if(Ut=this.rules.inline.url.exec(jt)){var ee,ye;if("@"===Ut[2])ye="mailto:"+(ee=C(this.options.mangle?ne(Ut[0]):Ut[0]));else{var Lt;do{Lt=Ut[0],Ut[0]=this.rules.inline._backpedal.exec(Ut[0])[0]}while(Lt!==Ut[0]);ee=C(Ut[0]),ye="www."===Ut[1]?"http://"+ee:ee}return{type:"link",raw:Ut[0],text:ee,href:ye,tokens:[{type:"text",raw:ee,text:ee}]}}},Se.inlineText=function(jt,ne,Ut){var ye,ee=this.rules.inline.text.exec(jt);if(ee)return ye=ne?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):C(ee[0]):ee[0]:C(this.options.smartypants?Ut(ee[0]):ee[0]),{type:"text",raw:ee[0],text:ye}},se}(),ct=b_noopTest,Ct=b_edit,kt=b_merge,wt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:ct,table:ct,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};wt.def=Ct(wt.def).replace("label",wt._label).replace("title",wt._title).getRegex(),wt.bullet=/(?:[*+-]|\d{1,9}[.)])/,wt.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,wt.item=Ct(wt.item,"gm").replace(/bull/g,wt.bullet).getRegex(),wt.listItemStart=Ct(/^( *)(bull) */).replace("bull",wt.bullet).getRegex(),wt.list=Ct(wt.list).replace(/bull/g,wt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+wt.def.source+")").getRegex(),wt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",wt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,wt.html=Ct(wt.html,"i").replace("comment",wt._comment).replace("tag",wt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wt.paragraph=Ct(wt._paragraph).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex(),wt.blockquote=Ct(wt.blockquote).replace("paragraph",wt.paragraph).getRegex(),wt.normal=kt({},wt),wt.gfm=kt({},wt.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),wt.gfm.nptable=Ct(wt.gfm.nptable).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex(),wt.gfm.table=Ct(wt.gfm.table).replace("hr",wt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wt._tag).getRegex(),wt.pedantic=kt({},wt.normal,{html:Ct("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",wt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ct,paragraph:Ct(wt.normal._paragraph).replace("hr",wt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",wt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ut={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ct,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ct,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};ut.punctuation=Ct(ut.punctuation).replace(/punctuation/g,ut._punctuation).getRegex(),ut.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ut.escapedEmSt=/\\\*|\\_/g,ut._comment=Ct(wt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),ut.emStrong.lDelim=Ct(ut.emStrong.lDelim).replace(/punct/g,ut._punctuation).getRegex(),ut.emStrong.rDelimAst=Ct(ut.emStrong.rDelimAst,"g").replace(/punct/g,ut._punctuation).getRegex(),ut.emStrong.rDelimUnd=Ct(ut.emStrong.rDelimUnd,"g").replace(/punct/g,ut._punctuation).getRegex(),ut._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ut._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ut._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ut.autolink=Ct(ut.autolink).replace("scheme",ut._scheme).replace("email",ut._email).getRegex(),ut._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ut.tag=Ct(ut.tag).replace("comment",ut._comment).replace("attribute",ut._attribute).getRegex(),ut._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ut._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ut._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ut.link=Ct(ut.link).replace("label",ut._label).replace("href",ut._href).replace("title",ut._title).getRegex(),ut.reflink=Ct(ut.reflink).replace("label",ut._label).getRegex(),ut.reflinkSearch=Ct(ut.reflinkSearch,"g").replace("reflink",ut.reflink).replace("nolink",ut.nolink).getRegex(),ut.normal=kt({},ut),ut.pedantic=kt({},ut.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ct(/^!?\[(label)\]\((.*?)\)/).replace("label",ut._label).getRegex(),reflink:Ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ut._label).getRegex()}),ut.gfm=kt({},ut.normal,{escape:Ct(ut.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ut.gfm.url=Ct(ut.gfm.url,"i").replace("email",ut.gfm._extended_email).getRegex(),ut.breaks=kt({},ut.gfm,{br:Ct(ut.br).replace("{2,}","*").getRegex(),text:Ct(ut.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Ot={block:wt,inline:ut},bt=st,pt=it.exports.defaults,Dt=Ot.block,Rt=Ot.inline,St=b_repeatString;function te(se){return se.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function At(se){var re,jt,Se="",ne=se.length;for(re=0;re<ne;re++)jt=se.charCodeAt(re),Math.random()>.5&&(jt="x"+jt.toString(16)),Se+="&#"+jt+";";return Se}var Kt=function(){function se(re){this.tokens=[],this.tokens.links=Object.create(null),this.options=re||pt,this.options.tokenizer=this.options.tokenizer||new bt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var jt={block:Dt.normal,inline:Rt.normal};this.options.pedantic?(jt.block=Dt.pedantic,jt.inline=Rt.pedantic):this.options.gfm&&(jt.block=Dt.gfm,jt.inline=this.options.breaks?Rt.breaks:Rt.gfm),this.tokenizer.rules=jt}se.lex=function(jt,ne){return new se(ne).lex(jt)},se.lexInline=function(jt,ne){return new se(ne).inlineTokens(jt)};var Se=se.prototype;return Se.lex=function(jt){return jt=jt.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(jt,this.tokens,!0),this.inline(this.tokens),this.tokens},Se.blockTokens=function(jt,ne,Ut){var ye,Lt,ue,ni,we,Ae,ee=this;for(void 0===ne&&(ne=[]),void 0===Ut&&(Ut=!0),this.options.pedantic&&(jt=jt.replace(/^ +$/gm,""));jt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ke){return!!(ye=ke.call(ee,jt,ne))&&(jt=jt.substring(ye.raw.length),ne.push(ye),!0)}))){if(ye=this.tokenizer.space(jt)){jt=jt.substring(ye.raw.length),ye.type&&ne.push(ye);continue}if(ye=this.tokenizer.code(jt)){jt=jt.substring(ye.raw.length),(ni=ne[ne.length-1])&&"paragraph"===ni.type?(ni.raw+="\n"+ye.raw,ni.text+="\n"+ye.text):ne.push(ye);continue}if(ye=this.tokenizer.fences(jt)){jt=jt.substring(ye.raw.length),ne.push(ye);continue}if(ye=this.tokenizer.heading(jt)){jt=jt.substring(ye.raw.length),ne.push(ye);continue}if(ye=this.tokenizer.nptable(jt)){jt=jt.substring(ye.raw.length),ne.push(ye);continue}if(ye=this.tokenizer.hr(jt)){jt=jt.substring(ye.raw.length),ne.push(ye);continue}if(ye=this.tokenizer.blockquote(jt)){jt=jt.substring(ye.raw.length),ye.tokens=this.blockTokens(ye.text,[],Ut),ne.push(ye);continue}if(ye=this.tokenizer.list(jt)){for(jt=jt.substring(ye.raw.length),ue=ye.items.length,Lt=0;Lt<ue;Lt++)ye.items[Lt].tokens=this.blockTokens(ye.items[Lt].text,[],!1);ne.push(ye);continue}if(ye=this.tokenizer.html(jt)){jt=jt.substring(ye.raw.length),ne.push(ye);continue}if(Ut&&(ye=this.tokenizer.def(jt))){jt=jt.substring(ye.raw.length),this.tokens.links[ye.tag]||(this.tokens.links[ye.tag]={href:ye.href,title:ye.title});continue}if(ye=this.tokenizer.table(jt)){jt=jt.substring(ye.raw.length),ne.push(ye);continue}if(ye=this.tokenizer.lheading(jt)){jt=jt.substring(ye.raw.length),ne.push(ye);continue}if(we=jt,this.options.extensions&&this.options.extensions.startBlock&&function(){var ke=1/0,De=jt.slice(1),fi=void 0;ee.options.extensions.startBlock.forEach(function(hi){"number"==typeof(fi=hi.call(this,De))&&fi>=0&&(ke=Math.min(ke,fi))}),ke<1/0&&ke>=0&&(we=jt.substring(0,ke+1))}(),Ut&&(ye=this.tokenizer.paragraph(we))){ni=ne[ne.length-1],Ae&&"paragraph"===ni.type?(ni.raw+="\n"+ye.raw,ni.text+="\n"+ye.text):ne.push(ye),Ae=we.length!==jt.length,jt=jt.substring(ye.raw.length);continue}if(ye=this.tokenizer.text(jt)){jt=jt.substring(ye.raw.length),(ni=ne[ne.length-1])&&"text"===ni.type?(ni.raw+="\n"+ye.raw,ni.text+="\n"+ye.text):ne.push(ye);continue}if(jt){var Ti="Infinite loop on byte: "+jt.charCodeAt(0);if(this.options.silent){console.error(Ti);break}throw new Error(Ti)}}return ne},Se.inline=function(jt){var ne,Ut,ee,ye,Lt,ue,ni=jt.length;for(ne=0;ne<ni;ne++)switch(ue=jt[ne],ue.type){case"paragraph":case"text":case"heading":ue.tokens=[],this.inlineTokens(ue.text,ue.tokens);break;case"table":for(ue.tokens={header:[],cells:[]},ye=ue.header.length,Ut=0;Ut<ye;Ut++)ue.tokens.header[Ut]=[],this.inlineTokens(ue.header[Ut],ue.tokens.header[Ut]);for(ye=ue.cells.length,Ut=0;Ut<ye;Ut++)for(Lt=ue.cells[Ut],ue.tokens.cells[Ut]=[],ee=0;ee<Lt.length;ee++)ue.tokens.cells[Ut][ee]=[],this.inlineTokens(Lt[ee],ue.tokens.cells[Ut][ee]);break;case"blockquote":this.inline(ue.tokens);break;case"list":for(ye=ue.items.length,Ut=0;Ut<ye;Ut++)this.inline(ue.items[Ut].tokens)}return jt},Se.inlineTokens=function(jt,ne,Ut,ee){var ye=this;void 0===ne&&(ne=[]),void 0===Ut&&(Ut=!1),void 0===ee&&(ee=!1);var Lt,ue,ni,Ae,Ti,ke,we=jt;if(this.tokens.links){var De=Object.keys(this.tokens.links);if(De.length>0)for(;null!=(Ae=this.tokenizer.rules.inline.reflinkSearch.exec(we));)De.includes(Ae[0].slice(Ae[0].lastIndexOf("[")+1,-1))&&(we=we.slice(0,Ae.index)+"["+St("a",Ae[0].length-2)+"]"+we.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ae=this.tokenizer.rules.inline.blockSkip.exec(we));)we=we.slice(0,Ae.index)+"["+St("a",Ae[0].length-2)+"]"+we.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Ae=this.tokenizer.rules.inline.escapedEmSt.exec(we));)we=we.slice(0,Ae.index)+"++"+we.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;jt;)if(Ti||(ke=""),Ti=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(hi){return!!(Lt=hi.call(ye,jt,ne))&&(jt=jt.substring(Lt.raw.length),ne.push(Lt),!0)}))){if(Lt=this.tokenizer.escape(jt)){jt=jt.substring(Lt.raw.length),ne.push(Lt);continue}if(Lt=this.tokenizer.tag(jt,Ut,ee)){jt=jt.substring(Lt.raw.length),Ut=Lt.inLink,ee=Lt.inRawBlock,(ue=ne[ne.length-1])&&"text"===Lt.type&&"text"===ue.type?(ue.raw+=Lt.raw,ue.text+=Lt.text):ne.push(Lt);continue}if(Lt=this.tokenizer.link(jt)){jt=jt.substring(Lt.raw.length),"link"===Lt.type&&(Lt.tokens=this.inlineTokens(Lt.text,[],!0,ee)),ne.push(Lt);continue}if(Lt=this.tokenizer.reflink(jt,this.tokens.links)){jt=jt.substring(Lt.raw.length),ue=ne[ne.length-1],"link"===Lt.type?(Lt.tokens=this.inlineTokens(Lt.text,[],!0,ee),ne.push(Lt)):ue&&"text"===Lt.type&&"text"===ue.type?(ue.raw+=Lt.raw,ue.text+=Lt.text):ne.push(Lt);continue}if(Lt=this.tokenizer.emStrong(jt,we,ke)){jt=jt.substring(Lt.raw.length),Lt.tokens=this.inlineTokens(Lt.text,[],Ut,ee),ne.push(Lt);continue}if(Lt=this.tokenizer.codespan(jt)){jt=jt.substring(Lt.raw.length),ne.push(Lt);continue}if(Lt=this.tokenizer.br(jt)){jt=jt.substring(Lt.raw.length),ne.push(Lt);continue}if(Lt=this.tokenizer.del(jt)){jt=jt.substring(Lt.raw.length),Lt.tokens=this.inlineTokens(Lt.text,[],Ut,ee),ne.push(Lt);continue}if(Lt=this.tokenizer.autolink(jt,At)){jt=jt.substring(Lt.raw.length),ne.push(Lt);continue}if(!Ut&&(Lt=this.tokenizer.url(jt,At))){jt=jt.substring(Lt.raw.length),ne.push(Lt);continue}if(ni=jt,this.options.extensions&&this.options.extensions.startInline&&function(){var hi=1/0,Pi=jt.slice(1),vn=void 0;ye.options.extensions.startInline.forEach(function(ji){"number"==typeof(vn=ji.call(this,Pi))&&vn>=0&&(hi=Math.min(hi,vn))}),hi<1/0&&hi>=0&&(ni=jt.substring(0,hi+1))}(),Lt=this.tokenizer.inlineText(ni,ee,te)){jt=jt.substring(Lt.raw.length),"_"!==Lt.raw.slice(-1)&&(ke=Lt.raw.slice(-1)),Ti=!0,(ue=ne[ne.length-1])&&"text"===ue.type?(ue.raw+=Lt.raw,ue.text+=Lt.text):ne.push(Lt);continue}if(jt){var fi="Infinite loop on byte: "+jt.charCodeAt(0);if(this.options.silent){console.error(fi);break}throw new Error(fi)}}return ne},function(se,Se,re){Se&&q(se.prototype,Se),re&&q(se,re)}(se,null,[{key:"rules",get:function(){return{block:Dt,inline:Rt}}}]),se}(),Oe=it.exports.defaults,Jt=b_cleanUrl,$t=b_escape,he=function(){function se(re){this.options=re||Oe}var Se=se.prototype;return Se.code=function(jt,ne,Ut){var ee=(ne||"").match(/\S*/)[0];if(this.options.highlight){var ye=this.options.highlight(jt,ee);null!=ye&&ye!==jt&&(Ut=!0,jt=ye)}return jt=jt.replace(/\n$/,"")+"\n",ee?'<pre><code class="'+this.options.langPrefix+$t(ee,!0)+'">'+(Ut?jt:$t(jt,!0))+"</code></pre>\n":"<pre><code>"+(Ut?jt:$t(jt,!0))+"</code></pre>\n"},Se.blockquote=function(jt){return"<blockquote>\n"+jt+"</blockquote>\n"},Se.html=function(jt){return jt},Se.heading=function(jt,ne,Ut,ee){return this.options.headerIds?"<h"+ne+' id="'+this.options.headerPrefix+ee.slug(Ut)+'">'+jt+"</h"+ne+">\n":"<h"+ne+">"+jt+"</h"+ne+">\n"},Se.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},Se.list=function(jt,ne,Ut){var ee=ne?"ol":"ul";return"<"+ee+(ne&&1!==Ut?' start="'+Ut+'"':"")+">\n"+jt+"</"+ee+">\n"},Se.listitem=function(jt){return"<li>"+jt+"</li>\n"},Se.checkbox=function(jt){return"<input "+(jt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Se.paragraph=function(jt){return"<p>"+jt+"</p>\n"},Se.table=function(jt,ne){return ne&&(ne="<tbody>"+ne+"</tbody>"),"<table>\n<thead>\n"+jt+"</thead>\n"+ne+"</table>\n"},Se.tablerow=function(jt){return"<tr>\n"+jt+"</tr>\n"},Se.tablecell=function(jt,ne){var Ut=ne.header?"th":"td";return(ne.align?"<"+Ut+' align="'+ne.align+'">':"<"+Ut+">")+jt+"</"+Ut+">\n"},Se.strong=function(jt){return"<strong>"+jt+"</strong>"},Se.em=function(jt){return"<em>"+jt+"</em>"},Se.codespan=function(jt){return"<code>"+jt+"</code>"},Se.br=function(){return this.options.xhtml?"<br/>":"<br>"},Se.del=function(jt){return"<del>"+jt+"</del>"},Se.link=function(jt,ne,Ut){if(null===(jt=Jt(this.options.sanitize,this.options.baseUrl,jt)))return Ut;var ee='<a href="'+$t(jt)+'"';return ne&&(ee+=' title="'+ne+'"'),ee+">"+Ut+"</a>"},Se.image=function(jt,ne,Ut){if(null===(jt=Jt(this.options.sanitize,this.options.baseUrl,jt)))return Ut;var ee='<img src="'+jt+'" alt="'+Ut+'"';return ne&&(ee+=' title="'+ne+'"'),ee+(this.options.xhtml?"/>":">")},Se.text=function(jt){return jt},se}(),Tt=function(){function se(){}var Se=se.prototype;return Se.strong=function(jt){return jt},Se.em=function(jt){return jt},Se.codespan=function(jt){return jt},Se.del=function(jt){return jt},Se.html=function(jt){return jt},Se.text=function(jt){return jt},Se.link=function(jt,ne,Ut){return""+Ut},Se.image=function(jt,ne,Ut){return""+Ut},Se.br=function(){return""},se}(),Bt=function(){function se(){this.seen={}}var Se=se.prototype;return Se.serialize=function(jt){return jt.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Se.getNextSafeSlug=function(jt,ne){var Ut=jt,ee=0;if(this.seen.hasOwnProperty(Ut)){ee=this.seen[jt];do{Ut=jt+"-"+ ++ee}while(this.seen.hasOwnProperty(Ut))}return ne||(this.seen[jt]=ee,this.seen[Ut]=0),Ut},Se.slug=function(jt,ne){void 0===ne&&(ne={});var Ut=this.serialize(jt);return this.getNextSafeSlug(Ut,ne.dryrun)},se}(),le=he,Mt=Tt,ot=Bt,J=it.exports.defaults,Nt=b_unescape,ge=Kt,qt=function(){function se(re){this.options=re||J,this.options.renderer=this.options.renderer||new le,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Mt,this.slugger=new ot}se.parse=function(jt,ne){return new se(ne).parse(jt)},se.parseInline=function(jt,ne){return new se(ne).parseInline(jt)};var Se=se.prototype;return Se.parse=function(jt,ne){void 0===ne&&(ne=!0);var ee,ye,Lt,ue,ni,we,Ae,Ti,ke,De,fi,hi,Pi,vn,ji,Ki,oi,Yn,rn,Ut="",an=jt.length;for(ee=0;ee<an;ee++)if(De=jt[ee],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[De.type]&&(!1!==(rn=this.options.extensions.renderers[De.type].call(this,De))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(De.type)))Ut+=rn||"";else switch(De.type){case"space":continue;case"hr":Ut+=this.renderer.hr();continue;case"heading":Ut+=this.renderer.heading(this.parseInline(De.tokens),De.depth,Nt(this.parseInline(De.tokens,this.textRenderer)),this.slugger);continue;case"code":Ut+=this.renderer.code(De.text,De.lang,De.escaped);continue;case"table":for(Ti="",Ae="",ue=De.header.length,ye=0;ye<ue;ye++)Ae+=this.renderer.tablecell(this.parseInline(De.tokens.header[ye]),{header:!0,align:De.align[ye]});for(Ti+=this.renderer.tablerow(Ae),ke="",ue=De.cells.length,ye=0;ye<ue;ye++){for(Ae="",ni=(we=De.tokens.cells[ye]).length,Lt=0;Lt<ni;Lt++)Ae+=this.renderer.tablecell(this.parseInline(we[Lt]),{header:!1,align:De.align[Lt]});ke+=this.renderer.tablerow(Ae)}Ut+=this.renderer.table(Ti,ke);continue;case"blockquote":ke=this.parse(De.tokens),Ut+=this.renderer.blockquote(ke);continue;case"list":for(fi=De.ordered,hi=De.start,Pi=De.loose,ue=De.items.length,ke="",ye=0;ye<ue;ye++)Ki=(ji=De.items[ye]).checked,oi=ji.task,vn="",ji.task&&(Yn=this.renderer.checkbox(Ki),Pi?ji.tokens.length>0&&"text"===ji.tokens[0].type?(ji.tokens[0].text=Yn+" "+ji.tokens[0].text,ji.tokens[0].tokens&&ji.tokens[0].tokens.length>0&&"text"===ji.tokens[0].tokens[0].type&&(ji.tokens[0].tokens[0].text=Yn+" "+ji.tokens[0].tokens[0].text)):ji.tokens.unshift({type:"text",text:Yn}):vn+=Yn),vn+=this.parse(ji.tokens,Pi),ke+=this.renderer.listitem(vn,oi,Ki);Ut+=this.renderer.list(ke,fi,hi);continue;case"html":Ut+=this.renderer.html(De.text);continue;case"paragraph":Ut+=this.renderer.paragraph(this.parseInline(De.tokens));continue;case"text":for(ke=De.tokens?this.parseInline(De.tokens):De.text;ee+1<an&&"text"===jt[ee+1].type;)ke+="\n"+((De=jt[++ee]).tokens?this.parseInline(De.tokens):De.text);Ut+=ne?this.renderer.paragraph(ke):ke;continue;default:var Ui='Token with "'+De.type+'" type was not found.';if(this.options.silent)return void console.error(Ui);throw new Error(Ui)}return Ut},Se.parseInline=function(jt,ne){ne=ne||this.renderer;var ee,ye,Lt,Ut="",ue=jt.length;for(ee=0;ee<ue;ee++)if(ye=jt[ee],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ye.type]&&(!1!==(Lt=this.options.extensions.renderers[ye.type].call(this,ye))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ye.type)))Ut+=Lt||"";else switch(ye.type){case"escape":case"text":Ut+=ne.text(ye.text);break;case"html":Ut+=ne.html(ye.text);break;case"link":Ut+=ne.link(ye.href,ye.title,this.parseInline(ye.tokens,ne));break;case"image":Ut+=ne.image(ye.href,ye.title,ye.text);break;case"strong":Ut+=ne.strong(this.parseInline(ye.tokens,ne));break;case"em":Ut+=ne.em(this.parseInline(ye.tokens,ne));break;case"codespan":Ut+=ne.codespan(ye.text);break;case"br":Ut+=ne.br();break;case"del":Ut+=ne.del(this.parseInline(ye.tokens,ne));break;default:var ni='Token with "'+ye.type+'" type was not found.';if(this.options.silent)return void console.error(ni);throw new Error(ni)}return Ut},se}(),ae=st,ei=he,be=Tt,xe=Bt,Ke=b_merge,Ne=b_checkSanitizeDeprecation,Le=b_escape,Di=it.exports.getDefaults,Ve=it.exports.changeDefaults,fe=it.exports.defaults;function si(se,Se,re){if(null==se)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof se)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(se)+", string expected");if("function"==typeof Se&&(re=Se,Se=null),Se=Ke({},si.defaults,Se||{}),Ne(Se),re){var ne,jt=Se.highlight;try{ne=ge.lex(se,Se)}catch(Lt){return re(Lt)}var Ut=function(ue){var ni;if(!ue)try{Se.walkTokens&&si.walkTokens(ne,Se.walkTokens),ni=qt.parse(ne,Se)}catch(we){ue=we}return Se.highlight=jt,ue?re(ue):re(null,ni)};if(!jt||jt.length<3||(delete Se.highlight,!ne.length))return Ut();var ee=0;return si.walkTokens(ne,function(Lt){"code"===Lt.type&&(ee++,setTimeout(function(){jt(Lt.text,Lt.lang,function(ue,ni){if(ue)return Ut(ue);null!=ni&&ni!==Lt.text&&(Lt.text=ni,Lt.escaped=!0),0==--ee&&Ut()})},0))}),void(0===ee&&Ut())}try{var ye=ge.lex(se,Se);return Se.walkTokens&&si.walkTokens(ye,Se.walkTokens),qt.parse(ye,Se)}catch(Lt){if(Lt.message+="\nPlease report this to https://github.com/markedjs/marked.",Se.silent)return"<p>An error occurred:</p><pre>"+Le(Lt.message+"",!0)+"</pre>";throw Lt}}return si.options=si.setOptions=function(se){return Ke(si.defaults,se),Ve(si.defaults),si},si.getDefaults=Di,si.defaults=fe,si.use=function(){for(var se=this,Se=arguments.length,re=new Array(Se),jt=0;jt<Se;jt++)re[jt]=arguments[jt];var ee,ne=Ke.apply(void 0,[{}].concat(re)),Ut=si.defaults.extensions||{renderers:{},childTokens:{}};re.forEach(function(ye){if(ye.extensions&&(ee=!0,ye.extensions.forEach(function(ue){if(!ue.name)throw new Error("extension name required");if(ue.renderer){var ni=Ut.renderers?Ut.renderers[ue.name]:null;Ut.renderers[ue.name]=ni?function(){for(var we=arguments.length,Ae=new Array(we),Ti=0;Ti<we;Ti++)Ae[Ti]=arguments[Ti];var ke=ue.renderer.apply(this,Ae);return!1===ke&&(ke=ni.apply(this,Ae)),ke}:ue.renderer}if(ue.tokenizer){if(!ue.level||"block"!==ue.level&&"inline"!==ue.level)throw new Error("extension level must be 'block' or 'inline'");Ut[ue.level]?Ut[ue.level].unshift(ue.tokenizer):Ut[ue.level]=[ue.tokenizer],ue.start&&("block"===ue.level?Ut.startBlock?Ut.startBlock.push(ue.start):Ut.startBlock=[ue.start]:"inline"===ue.level&&(Ut.startInline?Ut.startInline.push(ue.start):Ut.startInline=[ue.start]))}ue.childTokens&&(Ut.childTokens[ue.name]=ue.childTokens)})),ye.renderer&&function(){var ue=si.defaults.renderer||new ei,ni=function(Ti){var ke=ue[Ti];ue[Ti]=function(){for(var De=arguments.length,fi=new Array(De),hi=0;hi<De;hi++)fi[hi]=arguments[hi];var Pi=ye.renderer[Ti].apply(ue,fi);return!1===Pi&&(Pi=ke.apply(ue,fi)),Pi}};for(var we in ye.renderer)ni(we);ne.renderer=ue}(),ye.tokenizer&&function(){var ue=si.defaults.tokenizer||new ae,ni=function(Ti){var ke=ue[Ti];ue[Ti]=function(){for(var De=arguments.length,fi=new Array(De),hi=0;hi<De;hi++)fi[hi]=arguments[hi];var Pi=ye.tokenizer[Ti].apply(ue,fi);return!1===Pi&&(Pi=ke.apply(ue,fi)),Pi}};for(var we in ye.tokenizer)ni(we);ne.tokenizer=ue}(),ye.walkTokens){var Lt=si.defaults.walkTokens;ne.walkTokens=function(ue){ye.walkTokens.call(se,ue),Lt&&Lt(ue)}}ee&&(ne.extensions=Ut),si.setOptions(ne)})},si.walkTokens=function(se,Se){for(var ne,re=function(){var ee=ne.value;switch(Se(ee),ee.type){case"table":for(var Lt,ye=et(ee.tokens.header);!(Lt=ye()).done;)si.walkTokens(Lt.value,Se);for(var we,ni=et(ee.tokens.cells);!(we=ni()).done;)for(var ke,Ti=et(we.value);!(ke=Ti()).done;)si.walkTokens(ke.value,Se);break;case"list":si.walkTokens(ee.items,Se);break;default:si.defaults.extensions&&si.defaults.extensions.childTokens&&si.defaults.extensions.childTokens[ee.type]?si.defaults.extensions.childTokens[ee.type].forEach(function(fi){si.walkTokens(ee[fi],Se)}):ee.tokens&&si.walkTokens(ee.tokens,Se)}},jt=et(se);!(ne=jt()).done;)re()},si.parseInline=function(se,Se){if(null==se)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof se)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(se)+", string expected");Se=Ke({},si.defaults,Se||{}),Ne(Se);try{var re=ge.lexInline(se,Se);return Se.walkTokens&&si.walkTokens(re,Se.walkTokens),qt.parseInline(re,Se)}catch(jt){if(jt.message+="\nPlease report this to https://github.com/markedjs/marked.",Se.silent)return"<p>An error occurred:</p><pre>"+Le(jt.message+"",!0)+"</pre>";throw jt}},si.Parser=qt,si.parser=qt.parse,si.Renderer=ei,si.TextRenderer=be,si.Lexer=ge,si.lexer=ge.lex,si.Tokenizer=ae,si.Slugger=xe,si.parse=si,si}()},2996:(Yt,q,vt)=>{"use strict";var yt=vt(3516),xt=vt(740),et=vt(4615).Buffer,it=new Array(16);function M(){xt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function j(I,Y){return I<<Y|I>>>32-Y}function H(I,Y,T,F,O,V,G){return j(I+(Y&T|~Y&F)+O+V|0,G)+Y|0}function X(I,Y,T,F,O,V,G){return j(I+(Y&F|T&~F)+O+V|0,G)+Y|0}function z(I,Y,T,F,O,V,G){return j(I+(Y^T^F)+O+V|0,G)+Y|0}function B(I,Y,T,F,O,V,G){return j(I+(T^(Y|~F))+O+V|0,G)+Y|0}yt(M,xt),M.prototype._update=function(){for(var I=it,Y=0;Y<16;++Y)I[Y]=this._block.readInt32LE(4*Y);var T=this._a,F=this._b,O=this._c,V=this._d;T=H(T,F,O,V,I[0],3614090360,7),V=H(V,T,F,O,I[1],3905402710,12),O=H(O,V,T,F,I[2],606105819,17),F=H(F,O,V,T,I[3],3250441966,22),T=H(T,F,O,V,I[4],4118548399,7),V=H(V,T,F,O,I[5],1200080426,12),O=H(O,V,T,F,I[6],2821735955,17),F=H(F,O,V,T,I[7],4249261313,22),T=H(T,F,O,V,I[8],1770035416,7),V=H(V,T,F,O,I[9],2336552879,12),O=H(O,V,T,F,I[10],4294925233,17),F=H(F,O,V,T,I[11],2304563134,22),T=H(T,F,O,V,I[12],1804603682,7),V=H(V,T,F,O,I[13],4254626195,12),O=H(O,V,T,F,I[14],2792965006,17),T=X(T,F=H(F,O,V,T,I[15],1236535329,22),O,V,I[1],4129170786,5),V=X(V,T,F,O,I[6],3225465664,9),O=X(O,V,T,F,I[11],643717713,14),F=X(F,O,V,T,I[0],3921069994,20),T=X(T,F,O,V,I[5],3593408605,5),V=X(V,T,F,O,I[10],38016083,9),O=X(O,V,T,F,I[15],3634488961,14),F=X(F,O,V,T,I[4],3889429448,20),T=X(T,F,O,V,I[9],568446438,5),V=X(V,T,F,O,I[14],3275163606,9),O=X(O,V,T,F,I[3],4107603335,14),F=X(F,O,V,T,I[8],1163531501,20),T=X(T,F,O,V,I[13],2850285829,5),V=X(V,T,F,O,I[2],4243563512,9),O=X(O,V,T,F,I[7],1735328473,14),T=z(T,F=X(F,O,V,T,I[12],2368359562,20),O,V,I[5],4294588738,4),V=z(V,T,F,O,I[8],2272392833,11),O=z(O,V,T,F,I[11],1839030562,16),F=z(F,O,V,T,I[14],4259657740,23),T=z(T,F,O,V,I[1],2763975236,4),V=z(V,T,F,O,I[4],1272893353,11),O=z(O,V,T,F,I[7],4139469664,16),F=z(F,O,V,T,I[10],3200236656,23),T=z(T,F,O,V,I[13],681279174,4),V=z(V,T,F,O,I[0],3936430074,11),O=z(O,V,T,F,I[3],3572445317,16),F=z(F,O,V,T,I[6],76029189,23),T=z(T,F,O,V,I[9],3654602809,4),V=z(V,T,F,O,I[12],3873151461,11),O=z(O,V,T,F,I[15],530742520,16),T=B(T,F=z(F,O,V,T,I[2],3299628645,23),O,V,I[0],4096336452,6),V=B(V,T,F,O,I[7],1126891415,10),O=B(O,V,T,F,I[14],2878612391,15),F=B(F,O,V,T,I[5],4237533241,21),T=B(T,F,O,V,I[12],1700485571,6),V=B(V,T,F,O,I[3],2399980690,10),O=B(O,V,T,F,I[10],4293915773,15),F=B(F,O,V,T,I[1],2240044497,21),T=B(T,F,O,V,I[8],1873313359,6),V=B(V,T,F,O,I[15],4264355552,10),O=B(O,V,T,F,I[6],2734768916,15),F=B(F,O,V,T,I[13],1309151649,21),T=B(T,F,O,V,I[4],4149444226,6),V=B(V,T,F,O,I[11],3174756917,10),O=B(O,V,T,F,I[2],718787259,15),F=B(F,O,V,T,I[9],3951481745,21),this._a=this._a+T|0,this._b=this._b+F|0,this._c=this._c+O|0,this._d=this._d+V|0},M.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=et.allocUnsafe(16);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I},Yt.exports=M},2098:(Yt,q,vt)=>{var yt=vt(2239),xt=vt(3550);function et(it){this.rand=it||new xt.Rand}Yt.exports=et,et.create=function(M){return new et(M)},et.prototype._randbelow=function(M){var j=M.bitLength(),H=Math.ceil(j/8);do{var X=new yt(this.rand.generate(H))}while(X.cmp(M)>=0);return X},et.prototype._randrange=function(M,j){var H=j.sub(M);return M.add(this._randbelow(H))},et.prototype.test=function(M,j,H){var X=M.bitLength(),z=yt.mont(M),B=new yt(1).toRed(z);j||(j=Math.max(1,X/48|0));for(var I=M.subn(1),Y=0;!I.testn(Y);Y++);for(var T=M.shrn(Y),F=I.toRed(z);j>0;j--){var V=this._randrange(new yt(2),I);H&&H(V);var G=V.toRed(z).redPow(T);if(0!==G.cmp(B)&&0!==G.cmp(F)){for(var R=1;R<Y;R++){if(0===(G=G.redSqr()).cmp(B))return!1;if(0===G.cmp(F))break}if(R===Y)return!1}}return!0},et.prototype.getDivisor=function(M,j){var H=M.bitLength(),X=yt.mont(M),z=new yt(1).toRed(X);j||(j=Math.max(1,H/48|0));for(var B=M.subn(1),I=0;!B.testn(I);I++);for(var Y=M.shrn(I),T=B.toRed(X);j>0;j--){var F=this._randrange(new yt(2),B),O=M.gcd(F);if(0!==O.cmpn(1))return O;var V=F.toRed(X).redPow(Y);if(0!==V.cmp(z)&&0!==V.cmp(T)){for(var G=1;G<I;G++){if(0===(V=V.redSqr()).cmp(z))return V.fromRed().subn(1).gcd(M);if(0===V.cmp(T))break}if(G===I)return(V=V.redSqr()).fromRed().subn(1).gcd(M)}}return!1}},2239:function(Yt,q,vt){!function(yt,xt){"use strict";function et(k,u){if(!k)throw new Error(u||"Assertion failed")}function it(k,u){k.super_=u;var p=function(){};p.prototype=u.prototype,k.prototype=new p,k.prototype.constructor=k}function M(k,u,p){if(M.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(p=u,u=10),this._init(k||0,u||10,p||"be"))}var j;"object"==typeof yt?yt.exports=M:xt.BN=M,M.BN=M,M.wordSize=26;try{j="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:vt(6619).Buffer}catch(k){}function H(k,u){var p=k.charCodeAt(u);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function X(k,u,p){var v=H(k,p);return p-1>=u&&(v|=H(k,p-1)<<4),v}function z(k,u,p,v){for(var g=0,w=Math.min(k.length,p),b=u;b<w;b++){var D=k.charCodeAt(b)-48;g*=v,g+=D>=49?D-49+10:D>=17?D-17+10:D}return g}M.isBN=function(u){return u instanceof M||null!==u&&"object"==typeof u&&u.constructor.wordSize===M.wordSize&&Array.isArray(u.words)},M.max=function(u,p){return u.cmp(p)>0?u:p},M.min=function(u,p){return u.cmp(p)<0?u:p},M.prototype._init=function(u,p,v){if("number"==typeof u)return this._initNumber(u,p,v);if("object"==typeof u)return this._initArray(u,p,v);"hex"===p&&(p=16),et(p===(0|p)&&p>=2&&p<=36);var g=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<u.length&&(16===p?this._parseHex(u,g,v):(this._parseBase(u,p,g),"le"===v&&this._initArray(this.toArray(),p,v)))},M.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(et(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===v&&this._initArray(this.toArray(),p,v)},M.prototype._initArray=function(u,p,v){if(et("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,b,D=0;if("be"===v)for(g=u.length-1,w=0;g>=0;g-=3)this.words[w]|=(b=u[g]|u[g-1]<<8|u[g-2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);else if("le"===v)for(g=0,w=0;g<u.length;g+=3)this.words[w]|=(b=u[g]|u[g+1]<<8|u[g+2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);return this.strip()},M.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var D,w=0,b=0;if("be"===v)for(g=u.length-1;g>=p;g-=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;else for(g=(u.length-p)%2==0?p+1:p;g<u.length;g+=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;this.strip()},M.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=p)g++;g--,w=w/p|0;for(var b=u.length-v,D=b%g,_=Math.min(b,b-D)+v,f=0,C=v;C<_;C+=g)f=z(u,C,C+g,p),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==D){var K=1;for(f=z(u,C,u.length,p),C=0;C<D;C++)K*=p;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},M.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red},M.prototype.clone=function(){var u=new M(null);return this.copy(u),u},M.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function F(k,u,p){p.negative=u.negative^k.negative;var v=k.length+u.length|0;p.length=v,v=v-1|0;var g=0|k.words[0],w=0|u.words[0],b=g*w,_=b/67108864|0;p.words[0]=67108863&b;for(var f=1;f<v;f++){for(var C=_>>>26,K=67108863&_,U=Math.min(f,u.length-1),W=Math.max(0,f-k.length+1);W<=U;W++)C+=(b=(g=0|k.words[f-W|0])*(w=0|u.words[W])+K)/67108864|0,K=67108863&b;p.words[f]=0|K,_=0|C}return 0!==_?p.words[f]=0|_:p.length--,p.strip()}M.prototype.toString=function(u,p){var v;if(p=0|p||1,16===(u=u||10)||"hex"===u){v="";for(var g=0,w=0,b=0;b<this.length;b++){var D=this.words[b],_=(16777215&(D<<g|w)).toString(16);v=0!=(w=D>>>24-g&16777215)||b!==this.length-1?B[6-_.length]+_+v:_+v,(g+=2)>=26&&(g-=26,b--)}for(0!==w&&(v=w.toString(16)+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}if(u===(0|u)&&u>=2&&u<=36){var f=I[u],C=Y[u];v="";var K=this.clone();for(K.negative=0;!K.isZero();){var U=K.modn(C).toString(u);v=(K=K.idivn(C)).isZero()?U+v:B[f-U.length]+U+v}for(this.isZero()&&(v="0"+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}et(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&et(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(u,p){return et(void 0!==j),this.toArrayLike(j,u,p)},M.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)},M.prototype.toArrayLike=function(u,p,v){var g=this.byteLength(),w=v||Math.max(1,g);et(g<=w,"byte array longer than desired length"),et(w>0,"Requested array length <= 0"),this.strip();var _,f,b="le"===p,D=new u(w),C=this.clone();if(b){for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[f]=_;for(;f<w;f++)D[f]=0}else{for(f=0;f<w-g;f++)D[f]=0;for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[w-f-1]=_}return D},M.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},M.prototype._zeroBits=function(u){if(0===u)return 26;var p=u,v=0;return 0==(8191&p)&&(v+=13,p>>>=13),0==(127&p)&&(v+=7,p>>>=7),0==(15&p)&&(v+=4,p>>>=4),0==(3&p)&&(v+=2,p>>>=2),0==(1&p)&&v++,v},M.prototype.bitLength=function(){var p=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+p},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,26!==v)break}return u},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},M.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this.strip()},M.prototype.ior=function(u){return et(0==(this.negative|u.negative)),this.iuor(u)},M.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},M.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},M.prototype.iuand=function(u){var p;p=this.length>u.length?u:this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this.strip()},M.prototype.iand=function(u){return et(0==(this.negative|u.negative)),this.iuand(u)},M.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},M.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},M.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var g=0;g<v.length;g++)this.words[g]=p.words[g]^v.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this.strip()},M.prototype.ixor=function(u){return et(0==(this.negative|u.negative)),this.iuxor(u)},M.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},M.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},M.prototype.inotn=function(u){et("number"==typeof u&&u>=0);var p=0|Math.ceil(u/26),v=u%26;this._expand(p),v>0&&p--;for(var g=0;g<p;g++)this.words[g]=67108863&~this.words[g];return v>0&&(this.words[g]=~this.words[g]&67108863>>26-v),this.strip()},M.prototype.notn=function(u){return this.clone().inotn(u)},M.prototype.setn=function(u,p){et("number"==typeof u&&u>=0);var v=u/26|0,g=u%26;return this._expand(v+1),this.words[v]=p?this.words[v]|1<<g:this.words[v]&~(1<<g),this.strip()},M.prototype.iadd=function(u){var p,v,g;if(0!==this.negative&&0===u.negative)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();this.length>u.length?(v=this,g=u):(v=u,g=this);for(var w=0,b=0;b<g.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+(0|g.words[b])+w),w=p>>>26;for(;0!==w&&b<v.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+w),w=p>>>26;if(this.length=v.length,0!==w)this.words[this.length]=w,this.length++;else if(v!==this)for(;b<v.length;b++)this.words[b]=v.words[b];return this},M.prototype.add=function(u){var p;return 0!==u.negative&&0===this.negative?(u.negative=0,p=this.sub(u),u.negative^=1,p):0===u.negative&&0!==this.negative?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},M.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g,w,v=this.cmp(u);if(0===v)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(g=this,w=u):(g=u,w=this);for(var b=0,D=0;D<w.length;D++)b=(p=(0|g.words[D])-(0|w.words[D])+b)>>26,this.words[D]=67108863&p;for(;0!==b&&D<g.length;D++)b=(p=(0|g.words[D])+b)>>26,this.words[D]=67108863&p;if(0===b&&D<g.length&&g!==this)for(;D<g.length;D++)this.words[D]=g.words[D];return this.length=Math.max(this.length,D),g!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(u){return this.clone().isub(u)};var O=function(u,p,v){var _,f,C,g=u.words,w=p.words,b=v.words,D=0,K=0|g[0],U=8191&K,W=K>>>13,st=0|g[1],ct=8191&st,Ct=st>>>13,kt=0|g[2],wt=8191&kt,ut=kt>>>13,Ot=0|g[3],bt=8191&Ot,pt=Ot>>>13,Dt=0|g[4],Rt=8191&Dt,St=Dt>>>13,te=0|g[5],At=8191&te,Kt=te>>>13,Oe=0|g[6],Jt=8191&Oe,$t=Oe>>>13,he=0|g[7],Tt=8191&he,Bt=he>>>13,le=0|g[8],Mt=8191&le,ot=le>>>13,J=0|g[9],Nt=8191&J,Gt=J>>>13,ge=0|w[0],qt=8191&ge,ae=ge>>>13,ei=0|w[1],be=8191&ei,xe=ei>>>13,Ke=0|w[2],Ne=8191&Ke,Le=Ke>>>13,Di=0|w[3],Ve=8191&Di,fe=Di>>>13,si=0|w[4],je=8191&si,se=si>>>13,Se=0|w[5],re=8191&Se,jt=Se>>>13,ne=0|w[6],Ut=8191&ne,ee=ne>>>13,ye=0|w[7],Lt=8191&ye,ue=ye>>>13,ni=0|w[8],we=8191&ni,Ae=ni>>>13,Ti=0|w[9],ke=8191&Ti,De=Ti>>>13;v.negative=u.negative^p.negative,v.length=19;var fi=(D+(_=Math.imul(U,qt))|0)+((8191&(f=(f=Math.imul(U,ae))+Math.imul(W,qt)|0))<<13)|0;D=((C=Math.imul(W,ae))+(f>>>13)|0)+(fi>>>26)|0,fi&=67108863,_=Math.imul(ct,qt),f=(f=Math.imul(ct,ae))+Math.imul(Ct,qt)|0,C=Math.imul(Ct,ae);var hi=(D+(_=_+Math.imul(U,be)|0)|0)+((8191&(f=(f=f+Math.imul(U,xe)|0)+Math.imul(W,be)|0))<<13)|0;D=((C=C+Math.imul(W,xe)|0)+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,_=Math.imul(wt,qt),f=(f=Math.imul(wt,ae))+Math.imul(ut,qt)|0,C=Math.imul(ut,ae),_=_+Math.imul(ct,be)|0,f=(f=f+Math.imul(ct,xe)|0)+Math.imul(Ct,be)|0,C=C+Math.imul(Ct,xe)|0;var Pi=(D+(_=_+Math.imul(U,Ne)|0)|0)+((8191&(f=(f=f+Math.imul(U,Le)|0)+Math.imul(W,Ne)|0))<<13)|0;D=((C=C+Math.imul(W,Le)|0)+(f>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,_=Math.imul(bt,qt),f=(f=Math.imul(bt,ae))+Math.imul(pt,qt)|0,C=Math.imul(pt,ae),_=_+Math.imul(wt,be)|0,f=(f=f+Math.imul(wt,xe)|0)+Math.imul(ut,be)|0,C=C+Math.imul(ut,xe)|0,_=_+Math.imul(ct,Ne)|0,f=(f=f+Math.imul(ct,Le)|0)+Math.imul(Ct,Ne)|0,C=C+Math.imul(Ct,Le)|0;var vn=(D+(_=_+Math.imul(U,Ve)|0)|0)+((8191&(f=(f=f+Math.imul(U,fe)|0)+Math.imul(W,Ve)|0))<<13)|0;D=((C=C+Math.imul(W,fe)|0)+(f>>>13)|0)+(vn>>>26)|0,vn&=67108863,_=Math.imul(Rt,qt),f=(f=Math.imul(Rt,ae))+Math.imul(St,qt)|0,C=Math.imul(St,ae),_=_+Math.imul(bt,be)|0,f=(f=f+Math.imul(bt,xe)|0)+Math.imul(pt,be)|0,C=C+Math.imul(pt,xe)|0,_=_+Math.imul(wt,Ne)|0,f=(f=f+Math.imul(wt,Le)|0)+Math.imul(ut,Ne)|0,C=C+Math.imul(ut,Le)|0,_=_+Math.imul(ct,Ve)|0,f=(f=f+Math.imul(ct,fe)|0)+Math.imul(Ct,Ve)|0,C=C+Math.imul(Ct,fe)|0;var ji=(D+(_=_+Math.imul(U,je)|0)|0)+((8191&(f=(f=f+Math.imul(U,se)|0)+Math.imul(W,je)|0))<<13)|0;D=((C=C+Math.imul(W,se)|0)+(f>>>13)|0)+(ji>>>26)|0,ji&=67108863,_=Math.imul(At,qt),f=(f=Math.imul(At,ae))+Math.imul(Kt,qt)|0,C=Math.imul(Kt,ae),_=_+Math.imul(Rt,be)|0,f=(f=f+Math.imul(Rt,xe)|0)+Math.imul(St,be)|0,C=C+Math.imul(St,xe)|0,_=_+Math.imul(bt,Ne)|0,f=(f=f+Math.imul(bt,Le)|0)+Math.imul(pt,Ne)|0,C=C+Math.imul(pt,Le)|0,_=_+Math.imul(wt,Ve)|0,f=(f=f+Math.imul(wt,fe)|0)+Math.imul(ut,Ve)|0,C=C+Math.imul(ut,fe)|0,_=_+Math.imul(ct,je)|0,f=(f=f+Math.imul(ct,se)|0)+Math.imul(Ct,je)|0,C=C+Math.imul(Ct,se)|0;var Ki=(D+(_=_+Math.imul(U,re)|0)|0)+((8191&(f=(f=f+Math.imul(U,jt)|0)+Math.imul(W,re)|0))<<13)|0;D=((C=C+Math.imul(W,jt)|0)+(f>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,_=Math.imul(Jt,qt),f=(f=Math.imul(Jt,ae))+Math.imul($t,qt)|0,C=Math.imul($t,ae),_=_+Math.imul(At,be)|0,f=(f=f+Math.imul(At,xe)|0)+Math.imul(Kt,be)|0,C=C+Math.imul(Kt,xe)|0,_=_+Math.imul(Rt,Ne)|0,f=(f=f+Math.imul(Rt,Le)|0)+Math.imul(St,Ne)|0,C=C+Math.imul(St,Le)|0,_=_+Math.imul(bt,Ve)|0,f=(f=f+Math.imul(bt,fe)|0)+Math.imul(pt,Ve)|0,C=C+Math.imul(pt,fe)|0,_=_+Math.imul(wt,je)|0,f=(f=f+Math.imul(wt,se)|0)+Math.imul(ut,je)|0,C=C+Math.imul(ut,se)|0,_=_+Math.imul(ct,re)|0,f=(f=f+Math.imul(ct,jt)|0)+Math.imul(Ct,re)|0,C=C+Math.imul(Ct,jt)|0;var oi=(D+(_=_+Math.imul(U,Ut)|0)|0)+((8191&(f=(f=f+Math.imul(U,ee)|0)+Math.imul(W,Ut)|0))<<13)|0;D=((C=C+Math.imul(W,ee)|0)+(f>>>13)|0)+(oi>>>26)|0,oi&=67108863,_=Math.imul(Tt,qt),f=(f=Math.imul(Tt,ae))+Math.imul(Bt,qt)|0,C=Math.imul(Bt,ae),_=_+Math.imul(Jt,be)|0,f=(f=f+Math.imul(Jt,xe)|0)+Math.imul($t,be)|0,C=C+Math.imul($t,xe)|0,_=_+Math.imul(At,Ne)|0,f=(f=f+Math.imul(At,Le)|0)+Math.imul(Kt,Ne)|0,C=C+Math.imul(Kt,Le)|0,_=_+Math.imul(Rt,Ve)|0,f=(f=f+Math.imul(Rt,fe)|0)+Math.imul(St,Ve)|0,C=C+Math.imul(St,fe)|0,_=_+Math.imul(bt,je)|0,f=(f=f+Math.imul(bt,se)|0)+Math.imul(pt,je)|0,C=C+Math.imul(pt,se)|0,_=_+Math.imul(wt,re)|0,f=(f=f+Math.imul(wt,jt)|0)+Math.imul(ut,re)|0,C=C+Math.imul(ut,jt)|0,_=_+Math.imul(ct,Ut)|0,f=(f=f+Math.imul(ct,ee)|0)+Math.imul(Ct,Ut)|0,C=C+Math.imul(Ct,ee)|0;var Yn=(D+(_=_+Math.imul(U,Lt)|0)|0)+((8191&(f=(f=f+Math.imul(U,ue)|0)+Math.imul(W,Lt)|0))<<13)|0;D=((C=C+Math.imul(W,ue)|0)+(f>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,_=Math.imul(Mt,qt),f=(f=Math.imul(Mt,ae))+Math.imul(ot,qt)|0,C=Math.imul(ot,ae),_=_+Math.imul(Tt,be)|0,f=(f=f+Math.imul(Tt,xe)|0)+Math.imul(Bt,be)|0,C=C+Math.imul(Bt,xe)|0,_=_+Math.imul(Jt,Ne)|0,f=(f=f+Math.imul(Jt,Le)|0)+Math.imul($t,Ne)|0,C=C+Math.imul($t,Le)|0,_=_+Math.imul(At,Ve)|0,f=(f=f+Math.imul(At,fe)|0)+Math.imul(Kt,Ve)|0,C=C+Math.imul(Kt,fe)|0,_=_+Math.imul(Rt,je)|0,f=(f=f+Math.imul(Rt,se)|0)+Math.imul(St,je)|0,C=C+Math.imul(St,se)|0,_=_+Math.imul(bt,re)|0,f=(f=f+Math.imul(bt,jt)|0)+Math.imul(pt,re)|0,C=C+Math.imul(pt,jt)|0,_=_+Math.imul(wt,Ut)|0,f=(f=f+Math.imul(wt,ee)|0)+Math.imul(ut,Ut)|0,C=C+Math.imul(ut,ee)|0,_=_+Math.imul(ct,Lt)|0,f=(f=f+Math.imul(ct,ue)|0)+Math.imul(Ct,Lt)|0,C=C+Math.imul(Ct,ue)|0;var rn=(D+(_=_+Math.imul(U,we)|0)|0)+((8191&(f=(f=f+Math.imul(U,Ae)|0)+Math.imul(W,we)|0))<<13)|0;D=((C=C+Math.imul(W,Ae)|0)+(f>>>13)|0)+(rn>>>26)|0,rn&=67108863,_=Math.imul(Nt,qt),f=(f=Math.imul(Nt,ae))+Math.imul(Gt,qt)|0,C=Math.imul(Gt,ae),_=_+Math.imul(Mt,be)|0,f=(f=f+Math.imul(Mt,xe)|0)+Math.imul(ot,be)|0,C=C+Math.imul(ot,xe)|0,_=_+Math.imul(Tt,Ne)|0,f=(f=f+Math.imul(Tt,Le)|0)+Math.imul(Bt,Ne)|0,C=C+Math.imul(Bt,Le)|0,_=_+Math.imul(Jt,Ve)|0,f=(f=f+Math.imul(Jt,fe)|0)+Math.imul($t,Ve)|0,C=C+Math.imul($t,fe)|0,_=_+Math.imul(At,je)|0,f=(f=f+Math.imul(At,se)|0)+Math.imul(Kt,je)|0,C=C+Math.imul(Kt,se)|0,_=_+Math.imul(Rt,re)|0,f=(f=f+Math.imul(Rt,jt)|0)+Math.imul(St,re)|0,C=C+Math.imul(St,jt)|0,_=_+Math.imul(bt,Ut)|0,f=(f=f+Math.imul(bt,ee)|0)+Math.imul(pt,Ut)|0,C=C+Math.imul(pt,ee)|0,_=_+Math.imul(wt,Lt)|0,f=(f=f+Math.imul(wt,ue)|0)+Math.imul(ut,Lt)|0,C=C+Math.imul(ut,ue)|0,_=_+Math.imul(ct,we)|0,f=(f=f+Math.imul(ct,Ae)|0)+Math.imul(Ct,we)|0,C=C+Math.imul(Ct,Ae)|0;var an=(D+(_=_+Math.imul(U,ke)|0)|0)+((8191&(f=(f=f+Math.imul(U,De)|0)+Math.imul(W,ke)|0))<<13)|0;D=((C=C+Math.imul(W,De)|0)+(f>>>13)|0)+(an>>>26)|0,an&=67108863,_=Math.imul(Nt,be),f=(f=Math.imul(Nt,xe))+Math.imul(Gt,be)|0,C=Math.imul(Gt,xe),_=_+Math.imul(Mt,Ne)|0,f=(f=f+Math.imul(Mt,Le)|0)+Math.imul(ot,Ne)|0,C=C+Math.imul(ot,Le)|0,_=_+Math.imul(Tt,Ve)|0,f=(f=f+Math.imul(Tt,fe)|0)+Math.imul(Bt,Ve)|0,C=C+Math.imul(Bt,fe)|0,_=_+Math.imul(Jt,je)|0,f=(f=f+Math.imul(Jt,se)|0)+Math.imul($t,je)|0,C=C+Math.imul($t,se)|0,_=_+Math.imul(At,re)|0,f=(f=f+Math.imul(At,jt)|0)+Math.imul(Kt,re)|0,C=C+Math.imul(Kt,jt)|0,_=_+Math.imul(Rt,Ut)|0,f=(f=f+Math.imul(Rt,ee)|0)+Math.imul(St,Ut)|0,C=C+Math.imul(St,ee)|0,_=_+Math.imul(bt,Lt)|0,f=(f=f+Math.imul(bt,ue)|0)+Math.imul(pt,Lt)|0,C=C+Math.imul(pt,ue)|0,_=_+Math.imul(wt,we)|0,f=(f=f+Math.imul(wt,Ae)|0)+Math.imul(ut,we)|0,C=C+Math.imul(ut,Ae)|0;var Ui=(D+(_=_+Math.imul(ct,ke)|0)|0)+((8191&(f=(f=f+Math.imul(ct,De)|0)+Math.imul(Ct,ke)|0))<<13)|0;D=((C=C+Math.imul(Ct,De)|0)+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,_=Math.imul(Nt,Ne),f=(f=Math.imul(Nt,Le))+Math.imul(Gt,Ne)|0,C=Math.imul(Gt,Le),_=_+Math.imul(Mt,Ve)|0,f=(f=f+Math.imul(Mt,fe)|0)+Math.imul(ot,Ve)|0,C=C+Math.imul(ot,fe)|0,_=_+Math.imul(Tt,je)|0,f=(f=f+Math.imul(Tt,se)|0)+Math.imul(Bt,je)|0,C=C+Math.imul(Bt,se)|0,_=_+Math.imul(Jt,re)|0,f=(f=f+Math.imul(Jt,jt)|0)+Math.imul($t,re)|0,C=C+Math.imul($t,jt)|0,_=_+Math.imul(At,Ut)|0,f=(f=f+Math.imul(At,ee)|0)+Math.imul(Kt,Ut)|0,C=C+Math.imul(Kt,ee)|0,_=_+Math.imul(Rt,Lt)|0,f=(f=f+Math.imul(Rt,ue)|0)+Math.imul(St,Lt)|0,C=C+Math.imul(St,ue)|0,_=_+Math.imul(bt,we)|0,f=(f=f+Math.imul(bt,Ae)|0)+Math.imul(pt,we)|0,C=C+Math.imul(pt,Ae)|0;var lr=(D+(_=_+Math.imul(wt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(wt,De)|0)+Math.imul(ut,ke)|0))<<13)|0;D=((C=C+Math.imul(ut,De)|0)+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(Nt,Ve),f=(f=Math.imul(Nt,fe))+Math.imul(Gt,Ve)|0,C=Math.imul(Gt,fe),_=_+Math.imul(Mt,je)|0,f=(f=f+Math.imul(Mt,se)|0)+Math.imul(ot,je)|0,C=C+Math.imul(ot,se)|0,_=_+Math.imul(Tt,re)|0,f=(f=f+Math.imul(Tt,jt)|0)+Math.imul(Bt,re)|0,C=C+Math.imul(Bt,jt)|0,_=_+Math.imul(Jt,Ut)|0,f=(f=f+Math.imul(Jt,ee)|0)+Math.imul($t,Ut)|0,C=C+Math.imul($t,ee)|0,_=_+Math.imul(At,Lt)|0,f=(f=f+Math.imul(At,ue)|0)+Math.imul(Kt,Lt)|0,C=C+Math.imul(Kt,ue)|0,_=_+Math.imul(Rt,we)|0,f=(f=f+Math.imul(Rt,Ae)|0)+Math.imul(St,we)|0,C=C+Math.imul(St,Ae)|0;var He=(D+(_=_+Math.imul(bt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(bt,De)|0)+Math.imul(pt,ke)|0))<<13)|0;D=((C=C+Math.imul(pt,De)|0)+(f>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Nt,je),f=(f=Math.imul(Nt,se))+Math.imul(Gt,je)|0,C=Math.imul(Gt,se),_=_+Math.imul(Mt,re)|0,f=(f=f+Math.imul(Mt,jt)|0)+Math.imul(ot,re)|0,C=C+Math.imul(ot,jt)|0,_=_+Math.imul(Tt,Ut)|0,f=(f=f+Math.imul(Tt,ee)|0)+Math.imul(Bt,Ut)|0,C=C+Math.imul(Bt,ee)|0,_=_+Math.imul(Jt,Lt)|0,f=(f=f+Math.imul(Jt,ue)|0)+Math.imul($t,Lt)|0,C=C+Math.imul($t,ue)|0,_=_+Math.imul(At,we)|0,f=(f=f+Math.imul(At,Ae)|0)+Math.imul(Kt,we)|0,C=C+Math.imul(Kt,Ae)|0;var yi=(D+(_=_+Math.imul(Rt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Rt,De)|0)+Math.imul(St,ke)|0))<<13)|0;D=((C=C+Math.imul(St,De)|0)+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,_=Math.imul(Nt,re),f=(f=Math.imul(Nt,jt))+Math.imul(Gt,re)|0,C=Math.imul(Gt,jt),_=_+Math.imul(Mt,Ut)|0,f=(f=f+Math.imul(Mt,ee)|0)+Math.imul(ot,Ut)|0,C=C+Math.imul(ot,ee)|0,_=_+Math.imul(Tt,Lt)|0,f=(f=f+Math.imul(Tt,ue)|0)+Math.imul(Bt,Lt)|0,C=C+Math.imul(Bt,ue)|0,_=_+Math.imul(Jt,we)|0,f=(f=f+Math.imul(Jt,Ae)|0)+Math.imul($t,we)|0,C=C+Math.imul($t,Ae)|0;var tn=(D+(_=_+Math.imul(At,ke)|0)|0)+((8191&(f=(f=f+Math.imul(At,De)|0)+Math.imul(Kt,ke)|0))<<13)|0;D=((C=C+Math.imul(Kt,De)|0)+(f>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul(Nt,Ut),f=(f=Math.imul(Nt,ee))+Math.imul(Gt,Ut)|0,C=Math.imul(Gt,ee),_=_+Math.imul(Mt,Lt)|0,f=(f=f+Math.imul(Mt,ue)|0)+Math.imul(ot,Lt)|0,C=C+Math.imul(ot,ue)|0,_=_+Math.imul(Tt,we)|0,f=(f=f+Math.imul(Tt,Ae)|0)+Math.imul(Bt,we)|0,C=C+Math.imul(Bt,Ae)|0;var wi=(D+(_=_+Math.imul(Jt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Jt,De)|0)+Math.imul($t,ke)|0))<<13)|0;D=((C=C+Math.imul($t,De)|0)+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,_=Math.imul(Nt,Lt),f=(f=Math.imul(Nt,ue))+Math.imul(Gt,Lt)|0,C=Math.imul(Gt,ue),_=_+Math.imul(Mt,we)|0,f=(f=f+Math.imul(Mt,Ae)|0)+Math.imul(ot,we)|0,C=C+Math.imul(ot,Ae)|0;var $n=(D+(_=_+Math.imul(Tt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Tt,De)|0)+Math.imul(Bt,ke)|0))<<13)|0;D=((C=C+Math.imul(Bt,De)|0)+(f>>>13)|0)+($n>>>26)|0,$n&=67108863,_=Math.imul(Nt,we),f=(f=Math.imul(Nt,Ae))+Math.imul(Gt,we)|0,C=Math.imul(Gt,Ae);var sr=(D+(_=_+Math.imul(Mt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Mt,De)|0)+Math.imul(ot,ke)|0))<<13)|0;D=((C=C+Math.imul(ot,De)|0)+(f>>>13)|0)+(sr>>>26)|0,sr&=67108863;var Xe=(D+(_=Math.imul(Nt,ke))|0)+((8191&(f=(f=Math.imul(Nt,De))+Math.imul(Gt,ke)|0))<<13)|0;return D=((C=Math.imul(Gt,De))+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b[0]=fi,b[1]=hi,b[2]=Pi,b[3]=vn,b[4]=ji,b[5]=Ki,b[6]=oi,b[7]=Yn,b[8]=rn,b[9]=an,b[10]=Ui,b[11]=lr,b[12]=He,b[13]=yi,b[14]=tn,b[15]=wi,b[16]=$n,b[17]=sr,b[18]=Xe,0!==D&&(b[19]=D,v.length++),v};function G(k,u,p){return(new R).mulp(k,u,p)}function R(k,u){this.x=k,this.y=u}Math.imul||(O=F),M.prototype.mulTo=function(u,p){var v,g=this.length+u.length;return v=10===this.length&&10===u.length?O(this,u,p):g<63?F(this,u,p):g<1024?function(k,u,p){p.negative=u.negative^k.negative,p.length=k.length+u.length;for(var v=0,g=0,w=0;w<p.length-1;w++){var b=g;g=0;for(var D=67108863&v,_=Math.min(w,u.length-1),f=Math.max(0,w-k.length+1);f<=_;f++){var W=(0|k.words[w-f])*(0|u.words[f]),st=67108863&W;D=67108863&(st=st+D|0),g+=(b=(b=b+(W/67108864|0)|0)+(st>>>26)|0)>>>26,b&=67108863}p.words[w]=D,v=b,b=g}return 0!==v?p.words[w]=v:p.length--,p.strip()}(this,u,p):G(this,u,p),v},R.prototype.makeRBT=function(u){for(var p=new Array(u),v=M.prototype._countBits(u)-1,g=0;g<u;g++)p[g]=this.revBin(g,v,u);return p},R.prototype.revBin=function(u,p,v){if(0===u||u===v-1)return u;for(var g=0,w=0;w<p;w++)g|=(1&u)<<p-w-1,u>>=1;return g},R.prototype.permute=function(u,p,v,g,w,b){for(var D=0;D<b;D++)g[D]=p[u[D]],w[D]=v[u[D]]},R.prototype.transform=function(u,p,v,g,w,b){this.permute(b,u,p,v,g,w);for(var D=1;D<w;D<<=1)for(var _=D<<1,f=Math.cos(2*Math.PI/_),C=Math.sin(2*Math.PI/_),K=0;K<w;K+=_)for(var U=f,W=C,st=0;st<D;st++){var ct=v[K+st],Ct=g[K+st],kt=v[K+st+D],wt=g[K+st+D],ut=U*kt-W*wt;wt=U*wt+W*kt,v[K+st]=ct+(kt=ut),g[K+st]=Ct+wt,v[K+st+D]=ct-kt,g[K+st+D]=Ct-wt,st!==_&&(ut=f*U-C*W,W=f*W+C*U,U=ut)}},R.prototype.guessLen13b=function(u,p){var v=1|Math.max(p,u),g=1&v,w=0;for(v=v/2|0;v;v>>>=1)w++;return 1<<w+1+g},R.prototype.conjugate=function(u,p,v){if(!(v<=1))for(var g=0;g<v/2;g++){var w=u[g];u[g]=u[v-g-1],u[v-g-1]=w,w=p[g],p[g]=-p[v-g-1],p[v-g-1]=-w}},R.prototype.normalize13b=function(u,p){for(var v=0,g=0;g<p/2;g++){var w=8192*Math.round(u[2*g+1]/p)+Math.round(u[2*g]/p)+v;u[g]=67108863&w,v=w<67108864?0:w/67108864|0}return u},R.prototype.convert13b=function(u,p,v,g){for(var w=0,b=0;b<p;b++)v[2*b]=8191&(w+=0|u[b]),v[2*b+1]=8191&(w>>>=13),w>>>=13;for(b=2*p;b<g;++b)v[b]=0;et(0===w),et(0==(-8192&w))},R.prototype.stub=function(u){for(var p=new Array(u),v=0;v<u;v++)p[v]=0;return p},R.prototype.mulp=function(u,p,v){var g=2*this.guessLen13b(u.length,p.length),w=this.makeRBT(g),b=this.stub(g),D=new Array(g),_=new Array(g),f=new Array(g),C=new Array(g),K=new Array(g),U=new Array(g),W=v.words;W.length=g,this.convert13b(u.words,u.length,D,g),this.convert13b(p.words,p.length,C,g),this.transform(D,b,_,f,g,w),this.transform(C,b,K,U,g,w);for(var st=0;st<g;st++){var ct=_[st]*K[st]-f[st]*U[st];f[st]=_[st]*U[st]+f[st]*K[st],_[st]=ct}return this.conjugate(_,f,g),this.transform(_,f,W,b,g,w),this.conjugate(W,b,g),this.normalize13b(W,g),v.negative=u.negative^p.negative,v.length=u.length+p.length,v.strip()},M.prototype.mul=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},M.prototype.mulf=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),G(this,u,p)},M.prototype.imul=function(u){return this.clone().mulTo(u,this)},M.prototype.imuln=function(u){et("number"==typeof u),et(u<67108864);for(var p=0,v=0;v<this.length;v++){var g=(0|this.words[v])*u,w=(67108863&g)+(67108863&p);p>>=26,p+=g/67108864|0,p+=w>>>26,this.words[v]=67108863&w}return 0!==p&&(this.words[v]=p,this.length++),this},M.prototype.muln=function(u){return this.clone().imuln(u)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(u){var p=function(k){for(var u=new Array(k.bitLength()),p=0;p<u.length;p++){var g=p%26;u[p]=(k.words[p/26|0]&1<<g)>>>g}return u}(u);if(0===p.length)return new M(1);for(var v=this,g=0;g<p.length&&0===p[g];g++,v=v.sqr());if(++g<p.length)for(var w=v.sqr();g<p.length;g++,w=w.sqr())0!==p[g]&&(v=v.mul(w));return v},M.prototype.iushln=function(u){et("number"==typeof u&&u>=0);var w,p=u%26,v=(u-p)/26,g=67108863>>>26-p<<26-p;if(0!==p){var b=0;for(w=0;w<this.length;w++){var D=this.words[w]&g;this.words[w]=(0|this.words[w])-D<<p|b,b=D>>>26-p}b&&(this.words[w]=b,this.length++)}if(0!==v){for(w=this.length-1;w>=0;w--)this.words[w+v]=this.words[w];for(w=0;w<v;w++)this.words[w]=0;this.length+=v}return this.strip()},M.prototype.ishln=function(u){return et(0===this.negative),this.iushln(u)},M.prototype.iushrn=function(u,p,v){var g;et("number"==typeof u&&u>=0),g=p?(p-p%26)/26:0;var w=u%26,b=Math.min((u-w)/26,this.length),D=67108863^67108863>>>w<<w,_=v;if(g-=b,g=Math.max(0,g),_){for(var f=0;f<b;f++)_.words[f]=this.words[f];_.length=b}if(0!==b)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var C=0;for(f=this.length-1;f>=0&&(0!==C||f>=g);f--){var K=0|this.words[f];this.words[f]=C<<26-w|K>>>w,C=K&D}return _&&0!==C&&(_.words[_.length++]=C),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(u,p,v){return et(0===this.negative),this.iushrn(u,p,v)},M.prototype.shln=function(u){return this.clone().ishln(u)},M.prototype.ushln=function(u){return this.clone().iushln(u)},M.prototype.shrn=function(u){return this.clone().ishrn(u)},M.prototype.ushrn=function(u){return this.clone().iushrn(u)},M.prototype.testn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return!(this.length<=v||!(this.words[v]&1<<p))},M.prototype.imaskn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return et(0===this.negative,"imaskn works only with positive numbers"),this.length<=v?this:(0!==p&&v++,this.length=Math.min(v,this.length),0!==p&&(this.words[this.length-1]&=67108863^67108863>>>p<<p),this.strip())},M.prototype.maskn=function(u){return this.clone().imaskn(u)},M.prototype.iaddn=function(u){return et("number"==typeof u),et(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},M.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},M.prototype.isubn=function(u){if(et("number"==typeof u),et(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},M.prototype.addn=function(u){return this.clone().iaddn(u)},M.prototype.subn=function(u){return this.clone().isubn(u)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(u,p,v){var w;this._expand(u.length+v);var b,D=0;for(w=0;w<u.length;w++){b=(0|this.words[w+v])+D;var _=(0|u.words[w])*p;D=((b-=67108863&_)>>26)-(_/67108864|0),this.words[w+v]=67108863&b}for(;w<this.length-v;w++)D=(b=(0|this.words[w+v])+D)>>26,this.words[w+v]=67108863&b;if(0===D)return this.strip();for(et(-1===D),D=0,w=0;w<this.length;w++)D=(b=-(0|this.words[w])+D)>>26,this.words[w]=67108863&b;return this.negative=1,this.strip()},M.prototype._wordDiv=function(u,p){var v,g=this.clone(),w=u,b=0|w.words[w.length-1];0!=(v=26-this._countBits(b))&&(w=w.ushln(v),g.iushln(v),b=0|w.words[w.length-1]);var f,_=g.length-w.length;if("mod"!==p){(f=new M(null)).length=_+1,f.words=new Array(f.length);for(var C=0;C<f.length;C++)f.words[C]=0}var K=g.clone()._ishlnsubmul(w,1,_);0===K.negative&&(g=K,f&&(f.words[_]=1));for(var U=_-1;U>=0;U--){var W=67108864*(0|g.words[w.length+U])+(0|g.words[w.length+U-1]);for(W=Math.min(W/b|0,67108863),g._ishlnsubmul(w,W,U);0!==g.negative;)W--,g.negative=0,g._ishlnsubmul(w,1,U),g.isZero()||(g.negative^=1);f&&(f.words[U]=W)}return f&&f.strip(),g.strip(),"div"!==p&&0!==v&&g.iushrn(v),{div:f||null,mod:g}},M.prototype.divmod=function(u,p,v){return et(!u.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===u.negative?(b=this.neg().divmod(u,p),"mod"!==p&&(g=b.div.neg()),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.iadd(u)),{div:g,mod:w}):0===this.negative&&0!==u.negative?(b=this.divmod(u.neg(),p),"mod"!==p&&(g=b.div.neg()),{div:g,mod:b.mod}):0!=(this.negative&u.negative)?(b=this.neg().divmod(u.neg(),p),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.isub(u)),{div:b.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new M(0),mod:this}:1===u.length?"div"===p?{div:this.divn(u.words[0]),mod:null}:"mod"===p?{div:null,mod:new M(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new M(this.modn(u.words[0]))}:this._wordDiv(u,p);var g,w,b},M.prototype.div=function(u){return this.divmod(u,"div",!1).div},M.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},M.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},M.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=0!==p.div.negative?p.mod.isub(u):p.mod,g=u.ushrn(1),w=u.andln(1),b=v.cmp(g);return b<0||1===w&&0===b?p.div:0!==p.div.negative?p.div.isubn(1):p.div.iaddn(1)},M.prototype.modn=function(u){et(u<=67108863);for(var p=(1<<26)%u,v=0,g=this.length-1;g>=0;g--)v=(p*v+(0|this.words[g]))%u;return v},M.prototype.idivn=function(u){et(u<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var g=(0|this.words[v])+67108864*p;this.words[v]=g/u|0,p=g%u}return this.strip()},M.prototype.divn=function(u){return this.clone().idivn(u)},M.prototype.egcd=function(u){et(0===u.negative),et(!u.isZero());var p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=new M(0),D=new M(1),_=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++_;for(var f=v.clone(),C=p.clone();!p.isZero();){for(var K=0,U=1;0==(p.words[0]&U)&&K<26;++K,U<<=1);if(K>0)for(p.iushrn(K);K-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(C)),g.iushrn(1),w.iushrn(1);for(var W=0,st=1;0==(v.words[0]&st)&&W<26;++W,st<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(b.isOdd()||D.isOdd())&&(b.iadd(f),D.isub(C)),b.iushrn(1),D.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(b),w.isub(D)):(v.isub(p),b.isub(g),D.isub(w))}return{a:b,b:D,gcd:v.iushln(_)}},M.prototype._invmp=function(u){et(0===u.negative),et(!u.isZero());var K,p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var D=0,_=1;0==(p.words[0]&_)&&D<26;++D,_<<=1);if(D>0)for(p.iushrn(D);D-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);for(var f=0,C=1;0==(v.words[0]&C)&&f<26;++f,C<<=1);if(f>0)for(v.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(b),w.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(w)):(v.isub(p),w.isub(g))}return(K=0===p.cmpn(1)?g:w).cmpn(0)<0&&K.iadd(u),K},M.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var g=0;p.isEven()&&v.isEven();g++)p.iushrn(1),v.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var w=p.cmp(v);if(w<0){var b=p;p=v,v=b}else if(0===w||0===v.cmpn(1))break;p.isub(v)}return v.iushln(g)},M.prototype.invm=function(u){return this.egcd(u).a.umod(u)},M.prototype.isEven=function(){return 0==(1&this.words[0])},M.prototype.isOdd=function(){return 1==(1&this.words[0])},M.prototype.andln=function(u){return this.words[0]&u},M.prototype.bincn=function(u){et("number"==typeof u);var p=u%26,v=(u-p)/26,g=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=g,this;for(var w=g,b=v;0!==w&&b<this.length;b++){var D=0|this.words[b];w=(D+=w)>>>26,this.words[b]=D&=67108863}return 0!==w&&(this.words[b]=w,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(u){var v,p=u<0;if(0!==this.negative&&!p)return-1;if(0===this.negative&&p)return 1;if(this.strip(),this.length>1)v=1;else{p&&(u=-u),et(u<=67108863,"Number is too big");var g=0|this.words[0];v=g===u?0:g<u?-1:1}return 0!==this.negative?0|-v:v},M.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var p=this.ucmp(u);return 0!==this.negative?0|-p:p},M.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var g=0|this.words[v],w=0|u.words[v];if(g!==w){g<w?p=-1:g>w&&(p=1);break}}return p},M.prototype.gtn=function(u){return 1===this.cmpn(u)},M.prototype.gt=function(u){return 1===this.cmp(u)},M.prototype.gten=function(u){return this.cmpn(u)>=0},M.prototype.gte=function(u){return this.cmp(u)>=0},M.prototype.ltn=function(u){return-1===this.cmpn(u)},M.prototype.lt=function(u){return-1===this.cmp(u)},M.prototype.lten=function(u){return this.cmpn(u)<=0},M.prototype.lte=function(u){return this.cmp(u)<=0},M.prototype.eqn=function(u){return 0===this.cmpn(u)},M.prototype.eq=function(u){return 0===this.cmp(u)},M.red=function(u){return new dt(u)},M.prototype.toRed=function(u){return et(!this.red,"Already a number in reduction context"),et(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},M.prototype.fromRed=function(){return et(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(u){return this.red=u,this},M.prototype.forceRed=function(u){return et(!this.red,"Already a number in reduction context"),this._forceRed(u)},M.prototype.redAdd=function(u){return et(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},M.prototype.redIAdd=function(u){return et(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},M.prototype.redSub=function(u){return et(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},M.prototype.redISub=function(u){return et(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},M.prototype.redShl=function(u){return et(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},M.prototype.redMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},M.prototype.redIMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},M.prototype.redSqr=function(){return et(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return et(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return et(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return et(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return et(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(u){return et(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function Z(k,u){this.name=k,this.p=new M(u,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Q(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function lt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ht(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function mt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function dt(k){if("string"==typeof k){var u=M._prime(k);this.m=u.p,this.prime=u}else et(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function gt(k){dt.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Z.prototype._tmp=function(){var u=new M(null);return u.words=new Array(Math.ceil(this.n/13)),u},Z.prototype.ireduce=function(u){var v,p=u;do{this.split(p,this.tmp),v=(p=(p=this.imulK(p)).iadd(this.tmp)).bitLength()}while(v>this.n);var g=v<this.n?-1:p.ucmp(this.p);return 0===g?(p.words[0]=0,p.length=1):g>0?p.isub(this.p):void 0!==p.strip?p.strip():p._strip(),p},Z.prototype.split=function(u,p){u.iushrn(this.n,0,p)},Z.prototype.imulK=function(u){return u.imul(this.k)},it(Q,Z),Q.prototype.split=function(u,p){for(var v=4194303,g=Math.min(u.length,9),w=0;w<g;w++)p.words[w]=u.words[w];if(p.length=g,u.length<=9)return u.words[0]=0,void(u.length=1);var b=u.words[9];for(p.words[p.length++]=b&v,w=10;w<u.length;w++){var D=0|u.words[w];u.words[w-10]=(D&v)<<4|b>>>22,b=D}u.words[w-10]=b>>>=22,u.length-=0===b&&u.length>10?10:9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var g=0|u.words[v];u.words[v]=67108863&(p+=977*g),p=64*g+(p/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},it(lt,Z),it(ht,Z),it(mt,Z),mt.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var g=19*(0|u.words[v])+p,w=67108863&g;g>>>=26,u.words[v]=w,p=g}return 0!==p&&(u.words[u.length++]=p),u},M._prime=function(u){if($[u])return $[u];var p;if("k256"===u)p=new Q;else if("p224"===u)p=new lt;else if("p192"===u)p=new ht;else{if("p25519"!==u)throw new Error("Unknown prime "+u);p=new mt}return $[u]=p,p},dt.prototype._verify1=function(u){et(0===u.negative,"red works only with positives"),et(u.red,"red works only with red numbers")},dt.prototype._verify2=function(u,p){et(0==(u.negative|p.negative),"red works only with positives"),et(u.red&&u.red===p.red,"red works only with red numbers")},dt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},dt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},dt.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},dt.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},dt.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},dt.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},dt.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},dt.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},dt.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},dt.prototype.isqr=function(u){return this.imul(u,u.clone())},dt.prototype.sqr=function(u){return this.mul(u,u)},dt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(et(p%2==1),3===p){var v=this.m.add(new M(1)).iushrn(2);return this.pow(u,v)}for(var g=this.m.subn(1),w=0;!g.isZero()&&0===g.andln(1);)w++,g.iushrn(1);et(!g.isZero());var b=new M(1).toRed(this),D=b.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new M(2*f*f).toRed(this);0!==this.pow(f,_).cmp(D);)f.redIAdd(D);for(var C=this.pow(f,g),K=this.pow(u,g.addn(1).iushrn(1)),U=this.pow(u,g),W=w;0!==U.cmp(b);){for(var st=U,ct=0;0!==st.cmp(b);ct++)st=st.redSqr();et(ct<W);var Ct=this.pow(C,new M(1).iushln(W-ct-1));K=K.redMul(Ct),C=Ct.redSqr(),U=U.redMul(C),W=ct}return K},dt.prototype.invm=function(u){var p=u._invmp(this.m);return 0!==p.negative?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},dt.prototype.pow=function(u,p){if(p.isZero())return new M(1).toRed(this);if(0===p.cmpn(1))return u.clone();var g=new Array(16);g[0]=new M(1).toRed(this),g[1]=u;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],u);var b=g[0],D=0,_=0,f=p.bitLength()%26;for(0===f&&(f=26),w=p.length-1;w>=0;w--){for(var C=p.words[w],K=f-1;K>=0;K--){var U=C>>K&1;b!==g[0]&&(b=this.sqr(b)),0!==U||0!==D?(D<<=1,D|=U,(4==++_||0===w&&0===K)&&(b=this.mul(b,g[D]),_=0,D=0)):_=0}f=26}return b},dt.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},dt.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},M.mont=function(u){return new gt(u)},it(gt,dt),gt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},gt.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},gt.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new M(0)._forceRed(this);var v=u.mul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Yt=vt.nmd(Yt),this)},4725:Yt=>{function q(vt,yt){if(!vt)throw new Error(yt||"Assertion failed")}Yt.exports=q,q.equal=function(yt,xt,et){if(yt!=xt)throw new Error(et||"Assertion failed: "+yt+" != "+xt)}},1171:(Yt,q)=>{"use strict";var vt=q;function xt(it){return 1===it.length?"0"+it:it}function et(it){for(var M="",j=0;j<it.length;j++)M+=xt(it[j].toString(16));return M}vt.toArray=function(it,M){if(Array.isArray(it))return it.slice();if(!it)return[];var j=[];if("string"!=typeof it){for(var H=0;H<it.length;H++)j[H]=0|it[H];return j}if("hex"===M)for((it=it.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(it="0"+it),H=0;H<it.length;H+=2)j.push(parseInt(it[H]+it[H+1],16));else for(H=0;H<it.length;H++){var X=it.charCodeAt(H),z=X>>8,B=255&X;z?j.push(z,B):j.push(B)}return j},vt.zero2=xt,vt.toHex=et,vt.encode=function(M,j){return"hex"===j?et(M):M}},9817:(Yt,q,vt)=>{"use strict";var yt=vt(46);q.certificate=vt(191);var xt=yt.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});q.RSAPrivateKey=xt;var et=yt.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});q.RSAPublicKey=et;var it=yt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(M),this.key("subjectPublicKey").bitstr())});q.PublicKey=it;var M=yt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),j=yt.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(M),this.key("subjectPrivateKey").octstr())});q.PrivateKey=j;var H=yt.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});q.EncryptedPrivateKey=H;var X=yt.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});q.DSAPrivateKey=X,q.DSAparam=yt.define("DSAparam",function(){this.int()});var z=yt.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(B),this.key("publicKey").optional().explicit(1).bitstr())});q.ECPrivateKey=z;var B=yt.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});q.signature=yt.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},191:(Yt,q,vt)=>{"use strict";var yt=vt(46),xt=yt.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),et=yt.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),it=yt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),M=yt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(it),this.key("subjectPublicKey").bitstr())}),j=yt.define("RelativeDistinguishedName",function(){this.setof(et)}),H=yt.define("RDNSequence",function(){this.seqof(j)}),X=yt.define("Name",function(){this.choice({rdnSequence:this.use(H)})}),z=yt.define("Validity",function(){this.seq().obj(this.key("notBefore").use(xt),this.key("notAfter").use(xt))}),B=yt.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),I=yt.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(it),this.key("issuer").use(X),this.key("validity").use(z),this.key("subject").use(X),this.key("subjectPublicKeyInfo").use(M),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(B).optional())}),Y=yt.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(I),this.key("signatureAlgorithm").use(it),this.key("signatureValue").bitstr())});Yt.exports=Y},5380:(Yt,q,vt)=>{var yt=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,xt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,et=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,it=vt(4539),M=vt(8809),j=vt(4615).Buffer;Yt.exports=function(H,X){var I,z=H.toString(),B=z.match(yt);if(B){var T="aes"+B[1],F=j.from(B[2],"hex"),O=j.from(B[3].replace(/[\r\n]/g,""),"base64"),V=it(X,F.slice(0,8),parseInt(B[1],10)).key,G=[],R=M.createDecipheriv(T,V,F);G.push(R.update(O)),G.push(R.final()),I=j.concat(G)}else{var Y=z.match(et);I=j.from(Y[2].replace(/[\r\n]/g,""),"base64")}return{tag:z.match(xt)[1],data:I}}},347:(Yt,q,vt)=>{var yt=vt(9817),xt=vt(2562),et=vt(5380),it=vt(8809),M=vt(6556),j=vt(4615).Buffer;function H(z){var B;"object"==typeof z&&!j.isBuffer(z)&&(B=z.passphrase,z=z.key),"string"==typeof z&&(z=j.from(z));var F,O,I=et(z,B),Y=I.tag,T=I.data;switch(Y){case"CERTIFICATE":O=yt.certificate.decode(T,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(O||(O=yt.PublicKey.decode(T,"der")),F=O.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return yt.RSAPublicKey.decode(O.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return O.subjectPrivateKey=O.subjectPublicKey,{type:"ec",data:O};case"1.2.840.10040.4.1":return O.algorithm.params.pub_key=yt.DSAparam.decode(O.subjectPublicKey.data,"der"),{type:"dsa",data:O.algorithm.params};default:throw new Error("unknown key id "+F)}case"ENCRYPTED PRIVATE KEY":T=function(z,B){var I=z.algorithm.decrypt.kde.kdeparams.salt,Y=parseInt(z.algorithm.decrypt.kde.kdeparams.iters.toString(),10),T=xt[z.algorithm.decrypt.cipher.algo.join(".")],F=z.algorithm.decrypt.cipher.iv,O=z.subjectPrivateKey,V=parseInt(T.split("-")[1],10)/8,G=M.pbkdf2Sync(B,I,Y,V,"sha1"),R=it.createDecipheriv(T,G,F),$=[];return $.push(R.update(O)),$.push(R.final()),j.concat($)}(T=yt.EncryptedPrivateKey.decode(T,"der"),B);case"PRIVATE KEY":switch(F=(O=yt.PrivateKey.decode(T,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return yt.RSAPrivateKey.decode(O.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:O.algorithm.curve,privateKey:yt.ECPrivateKey.decode(O.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return O.algorithm.params.priv_key=yt.DSAparam.decode(O.subjectPrivateKey,"der"),{type:"dsa",params:O.algorithm.params};default:throw new Error("unknown key id "+F)}case"RSA PUBLIC KEY":return yt.RSAPublicKey.decode(T,"der");case"RSA PRIVATE KEY":return yt.RSAPrivateKey.decode(T,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:yt.DSAPrivateKey.decode(T,"der")};case"EC PRIVATE KEY":return{curve:(T=yt.ECPrivateKey.decode(T,"der")).parameters.value,privateKey:T.privateKey};default:throw new Error("unknown key type "+Y)}}Yt.exports=H,H.signature=yt.signature},6556:(Yt,q,vt)=>{q.pbkdf2=vt(3373),q.pbkdf2Sync=vt(9791)},3373:(Yt,q,vt)=>{var j,I,yt=vt(4615).Buffer,xt=vt(3605),et=vt(8184),it=vt(9791),M=vt(474),H=global.crypto&&global.crypto.subtle,X={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},z=[];function Y(){return I||(I=global.process&&global.process.nextTick?global.process.nextTick:global.queueMicrotask?global.queueMicrotask:global.setImmediate?global.setImmediate:global.setTimeout)}function T(O,V,G,R,$){return H.importKey("raw",O,{name:"PBKDF2"},!1,["deriveBits"]).then(function(Z){return H.deriveBits({name:"PBKDF2",salt:V,iterations:G,hash:{name:$}},Z,R<<3)}).then(function(Z){return yt.from(Z)})}Yt.exports=function(O,V,G,R,$,Z){"function"==typeof $&&(Z=$,$=void 0);var Q=X[($=$||"sha1").toLowerCase()];if(Q&&"function"==typeof global.Promise){if(xt(G,R),O=M(O,et,"Password"),V=M(V,et,"Salt"),"function"!=typeof Z)throw new Error("No callback provided to pbkdf2");!function(O,V){O.then(function(G){Y()(function(){V(null,G)})},function(G){Y()(function(){V(G)})})}(function(O){if(global.process&&!global.process.browser||!H||!H.importKey||!H.deriveBits)return Promise.resolve(!1);if(void 0!==z[O])return z[O];var V=T(j=j||yt.alloc(8),j,10,128,O).then(function(){return!0}).catch(function(){return!1});return z[O]=V,V}(Q).then(function(lt){return lt?T(O,V,G,R,Q):it(O,V,G,R,$)}),Z)}else Y()(function(){var lt;try{lt=it(O,V,G,R,$)}catch(ht){return Z(ht)}Z(null,lt)})}},8184:Yt=>{var q;q=global.process&&global.process.browser?"utf-8":global.process&&global.process.version?parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",Yt.exports=q},3605:Yt=>{var q=Math.pow(2,30)-1;Yt.exports=function(vt,yt){if("number"!=typeof vt)throw new TypeError("Iterations not a number");if(vt<0)throw new TypeError("Bad iterations");if("number"!=typeof yt)throw new TypeError("Key length not a number");if(yt<0||yt>q||yt!=yt)throw new TypeError("Bad key length")}},9791:(Yt,q,vt)=>{var yt=vt(4936),xt=vt(7447),et=vt(6010),it=vt(4615).Buffer,M=vt(3605),j=vt(8184),H=vt(474),X=it.alloc(128),z={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function B(T,F,O){var V=function(T){return"rmd160"===T||"ripemd160"===T?function(V){return(new xt).update(V).digest()}:"md5"===T?yt:function(V){return et(T).update(V).digest()}}(T),G="sha512"===T||"sha384"===T?128:64;F.length>G?F=V(F):F.length<G&&(F=it.concat([F,X],G));for(var R=it.allocUnsafe(G+z[T]),$=it.allocUnsafe(G+z[T]),Z=0;Z<G;Z++)R[Z]=54^F[Z],$[Z]=92^F[Z];var Q=it.allocUnsafe(G+O+4);R.copy(Q,0,0,G),this.ipad1=Q,this.ipad2=R,this.opad=$,this.alg=T,this.blocksize=G,this.hash=V,this.size=z[T]}B.prototype.run=function(T,F){return T.copy(F,this.blocksize),this.hash(F).copy(this.opad,this.blocksize),this.hash(this.opad)},Yt.exports=function(T,F,O,V,G){M(O,V);var R=new B(G=G||"sha1",T=H(T,j,"Password"),(F=H(F,j,"Salt")).length),$=it.allocUnsafe(V),Z=it.allocUnsafe(F.length+4);F.copy(Z,0,0,F.length);for(var Q=0,lt=z[G],ht=Math.ceil(V/lt),mt=1;mt<=ht;mt++){Z.writeUInt32BE(mt,F.length);for(var dt=R.run(Z,R.ipad1),gt=dt,k=1;k<O;k++){gt=R.run(gt,R.ipad2);for(var u=0;u<lt;u++)dt[u]^=gt[u]}dt.copy($,Q),Q+=lt}return $}},474:(Yt,q,vt)=>{var yt=vt(4615).Buffer;Yt.exports=function(xt,et,it){if(yt.isBuffer(xt))return xt;if("string"==typeof xt)return yt.from(xt,et);if(ArrayBuffer.isView(xt))return yt.from(xt.buffer);throw new TypeError(it+" must be a string, a Buffer, a typed array or a DataView")}},2914:(Yt,q,vt)=>{q.publicEncrypt=vt(793),q.privateDecrypt=vt(3009),q.privateEncrypt=function(xt,et){return q.publicEncrypt(xt,et,!0)},q.publicDecrypt=function(xt,et){return q.privateDecrypt(xt,et,!0)}},9129:(Yt,q,vt)=>{var yt=vt(4979),xt=vt(4615).Buffer;function et(it){var M=xt.allocUnsafe(4);return M.writeUInt32BE(it,0),M}Yt.exports=function(it,M){for(var X,j=xt.alloc(0),H=0;j.length<M;)X=et(H++),j=xt.concat([j,yt("sha1").update(it).update(X).digest()]);return j.slice(0,M)}},8847:function(Yt,q,vt){!function(yt,xt){"use strict";function et(k,u){if(!k)throw new Error(u||"Assertion failed")}function it(k,u){k.super_=u;var p=function(){};p.prototype=u.prototype,k.prototype=new p,k.prototype.constructor=k}function M(k,u,p){if(M.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(p=u,u=10),this._init(k||0,u||10,p||"be"))}var j;"object"==typeof yt?yt.exports=M:xt.BN=M,M.BN=M,M.wordSize=26;try{j="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:vt(7108).Buffer}catch(k){}function H(k,u){var p=k.charCodeAt(u);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function X(k,u,p){var v=H(k,p);return p-1>=u&&(v|=H(k,p-1)<<4),v}function z(k,u,p,v){for(var g=0,w=Math.min(k.length,p),b=u;b<w;b++){var D=k.charCodeAt(b)-48;g*=v,g+=D>=49?D-49+10:D>=17?D-17+10:D}return g}M.isBN=function(u){return u instanceof M||null!==u&&"object"==typeof u&&u.constructor.wordSize===M.wordSize&&Array.isArray(u.words)},M.max=function(u,p){return u.cmp(p)>0?u:p},M.min=function(u,p){return u.cmp(p)<0?u:p},M.prototype._init=function(u,p,v){if("number"==typeof u)return this._initNumber(u,p,v);if("object"==typeof u)return this._initArray(u,p,v);"hex"===p&&(p=16),et(p===(0|p)&&p>=2&&p<=36);var g=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(g++,this.negative=1),g<u.length&&(16===p?this._parseHex(u,g,v):(this._parseBase(u,p,g),"le"===v&&this._initArray(this.toArray(),p,v)))},M.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(et(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===v&&this._initArray(this.toArray(),p,v)},M.prototype._initArray=function(u,p,v){if(et("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var w,b,D=0;if("be"===v)for(g=u.length-1,w=0;g>=0;g-=3)this.words[w]|=(b=u[g]|u[g-1]<<8|u[g-2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);else if("le"===v)for(g=0,w=0;g<u.length;g+=3)this.words[w]|=(b=u[g]|u[g+1]<<8|u[g+2]<<16)<<D&67108863,this.words[w+1]=b>>>26-D&67108863,(D+=24)>=26&&(D-=26,w++);return this.strip()},M.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var D,w=0,b=0;if("be"===v)for(g=u.length-1;g>=p;g-=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;else for(g=(u.length-p)%2==0?p+1:p;g<u.length;g+=2)D=X(u,p,g)<<w,this.words[b]|=67108863&D,w>=18?(w-=18,this.words[b+=1]|=D>>>26):w+=8;this.strip()},M.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var g=0,w=1;w<=67108863;w*=p)g++;g--,w=w/p|0;for(var b=u.length-v,D=b%g,_=Math.min(b,b-D)+v,f=0,C=v;C<_;C+=g)f=z(u,C,C+g,p),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==D){var K=1;for(f=z(u,C,u.length,p),C=0;C<D;C++)K*=p;this.imuln(K),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},M.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red},M.prototype.clone=function(){var u=new M(null);return this.copy(u),u},M.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},M.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},M.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},M.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function F(k,u,p){p.negative=u.negative^k.negative;var v=k.length+u.length|0;p.length=v,v=v-1|0;var g=0|k.words[0],w=0|u.words[0],b=g*w,_=b/67108864|0;p.words[0]=67108863&b;for(var f=1;f<v;f++){for(var C=_>>>26,K=67108863&_,U=Math.min(f,u.length-1),W=Math.max(0,f-k.length+1);W<=U;W++)C+=(b=(g=0|k.words[f-W|0])*(w=0|u.words[W])+K)/67108864|0,K=67108863&b;p.words[f]=0|K,_=0|C}return 0!==_?p.words[f]=0|_:p.length--,p.strip()}M.prototype.toString=function(u,p){var v;if(p=0|p||1,16===(u=u||10)||"hex"===u){v="";for(var g=0,w=0,b=0;b<this.length;b++){var D=this.words[b],_=(16777215&(D<<g|w)).toString(16);v=0!=(w=D>>>24-g&16777215)||b!==this.length-1?B[6-_.length]+_+v:_+v,(g+=2)>=26&&(g-=26,b--)}for(0!==w&&(v=w.toString(16)+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}if(u===(0|u)&&u>=2&&u<=36){var f=I[u],C=Y[u];v="";var K=this.clone();for(K.negative=0;!K.isZero();){var U=K.modn(C).toString(u);v=(K=K.idivn(C)).isZero()?U+v:B[f-U.length]+U+v}for(this.isZero()&&(v="0"+v);v.length%p!=0;)v="0"+v;return 0!==this.negative&&(v="-"+v),v}et(!1,"Base should be between 2 and 36")},M.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&et(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},M.prototype.toJSON=function(){return this.toString(16)},M.prototype.toBuffer=function(u,p){return et(void 0!==j),this.toArrayLike(j,u,p)},M.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)},M.prototype.toArrayLike=function(u,p,v){var g=this.byteLength(),w=v||Math.max(1,g);et(g<=w,"byte array longer than desired length"),et(w>0,"Requested array length <= 0"),this.strip();var _,f,b="le"===p,D=new u(w),C=this.clone();if(b){for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[f]=_;for(;f<w;f++)D[f]=0}else{for(f=0;f<w-g;f++)D[f]=0;for(f=0;!C.isZero();f++)_=C.andln(255),C.iushrn(8),D[w-f-1]=_}return D},M.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},M.prototype._zeroBits=function(u){if(0===u)return 26;var p=u,v=0;return 0==(8191&p)&&(v+=13,p>>>=13),0==(127&p)&&(v+=7,p>>>=7),0==(15&p)&&(v+=4,p>>>=4),0==(3&p)&&(v+=2,p>>>=2),0==(1&p)&&v++,v},M.prototype.bitLength=function(){var p=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+p},M.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,26!==v)break}return u},M.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},M.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},M.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},M.prototype.isNeg=function(){return 0!==this.negative},M.prototype.neg=function(){return this.clone().ineg()},M.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},M.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this.strip()},M.prototype.ior=function(u){return et(0==(this.negative|u.negative)),this.iuor(u)},M.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},M.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},M.prototype.iuand=function(u){var p;p=this.length>u.length?u:this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this.strip()},M.prototype.iand=function(u){return et(0==(this.negative|u.negative)),this.iuand(u)},M.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},M.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},M.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var g=0;g<v.length;g++)this.words[g]=p.words[g]^v.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this.strip()},M.prototype.ixor=function(u){return et(0==(this.negative|u.negative)),this.iuxor(u)},M.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},M.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},M.prototype.inotn=function(u){et("number"==typeof u&&u>=0);var p=0|Math.ceil(u/26),v=u%26;this._expand(p),v>0&&p--;for(var g=0;g<p;g++)this.words[g]=67108863&~this.words[g];return v>0&&(this.words[g]=~this.words[g]&67108863>>26-v),this.strip()},M.prototype.notn=function(u){return this.clone().inotn(u)},M.prototype.setn=function(u,p){et("number"==typeof u&&u>=0);var v=u/26|0,g=u%26;return this._expand(v+1),this.words[v]=p?this.words[v]|1<<g:this.words[v]&~(1<<g),this.strip()},M.prototype.iadd=function(u){var p,v,g;if(0!==this.negative&&0===u.negative)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();this.length>u.length?(v=this,g=u):(v=u,g=this);for(var w=0,b=0;b<g.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+(0|g.words[b])+w),w=p>>>26;for(;0!==w&&b<v.length;b++)this.words[b]=67108863&(p=(0|v.words[b])+w),w=p>>>26;if(this.length=v.length,0!==w)this.words[this.length]=w,this.length++;else if(v!==this)for(;b<v.length;b++)this.words[b]=v.words[b];return this},M.prototype.add=function(u){var p;return 0!==u.negative&&0===this.negative?(u.negative=0,p=this.sub(u),u.negative^=1,p):0===u.negative&&0!==this.negative?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},M.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g,w,v=this.cmp(u);if(0===v)return this.negative=0,this.length=1,this.words[0]=0,this;v>0?(g=this,w=u):(g=u,w=this);for(var b=0,D=0;D<w.length;D++)b=(p=(0|g.words[D])-(0|w.words[D])+b)>>26,this.words[D]=67108863&p;for(;0!==b&&D<g.length;D++)b=(p=(0|g.words[D])+b)>>26,this.words[D]=67108863&p;if(0===b&&D<g.length&&g!==this)for(;D<g.length;D++)this.words[D]=g.words[D];return this.length=Math.max(this.length,D),g!==this&&(this.negative=1),this.strip()},M.prototype.sub=function(u){return this.clone().isub(u)};var O=function(u,p,v){var _,f,C,g=u.words,w=p.words,b=v.words,D=0,K=0|g[0],U=8191&K,W=K>>>13,st=0|g[1],ct=8191&st,Ct=st>>>13,kt=0|g[2],wt=8191&kt,ut=kt>>>13,Ot=0|g[3],bt=8191&Ot,pt=Ot>>>13,Dt=0|g[4],Rt=8191&Dt,St=Dt>>>13,te=0|g[5],At=8191&te,Kt=te>>>13,Oe=0|g[6],Jt=8191&Oe,$t=Oe>>>13,he=0|g[7],Tt=8191&he,Bt=he>>>13,le=0|g[8],Mt=8191&le,ot=le>>>13,J=0|g[9],Nt=8191&J,Gt=J>>>13,ge=0|w[0],qt=8191&ge,ae=ge>>>13,ei=0|w[1],be=8191&ei,xe=ei>>>13,Ke=0|w[2],Ne=8191&Ke,Le=Ke>>>13,Di=0|w[3],Ve=8191&Di,fe=Di>>>13,si=0|w[4],je=8191&si,se=si>>>13,Se=0|w[5],re=8191&Se,jt=Se>>>13,ne=0|w[6],Ut=8191&ne,ee=ne>>>13,ye=0|w[7],Lt=8191&ye,ue=ye>>>13,ni=0|w[8],we=8191&ni,Ae=ni>>>13,Ti=0|w[9],ke=8191&Ti,De=Ti>>>13;v.negative=u.negative^p.negative,v.length=19;var fi=(D+(_=Math.imul(U,qt))|0)+((8191&(f=(f=Math.imul(U,ae))+Math.imul(W,qt)|0))<<13)|0;D=((C=Math.imul(W,ae))+(f>>>13)|0)+(fi>>>26)|0,fi&=67108863,_=Math.imul(ct,qt),f=(f=Math.imul(ct,ae))+Math.imul(Ct,qt)|0,C=Math.imul(Ct,ae);var hi=(D+(_=_+Math.imul(U,be)|0)|0)+((8191&(f=(f=f+Math.imul(U,xe)|0)+Math.imul(W,be)|0))<<13)|0;D=((C=C+Math.imul(W,xe)|0)+(f>>>13)|0)+(hi>>>26)|0,hi&=67108863,_=Math.imul(wt,qt),f=(f=Math.imul(wt,ae))+Math.imul(ut,qt)|0,C=Math.imul(ut,ae),_=_+Math.imul(ct,be)|0,f=(f=f+Math.imul(ct,xe)|0)+Math.imul(Ct,be)|0,C=C+Math.imul(Ct,xe)|0;var Pi=(D+(_=_+Math.imul(U,Ne)|0)|0)+((8191&(f=(f=f+Math.imul(U,Le)|0)+Math.imul(W,Ne)|0))<<13)|0;D=((C=C+Math.imul(W,Le)|0)+(f>>>13)|0)+(Pi>>>26)|0,Pi&=67108863,_=Math.imul(bt,qt),f=(f=Math.imul(bt,ae))+Math.imul(pt,qt)|0,C=Math.imul(pt,ae),_=_+Math.imul(wt,be)|0,f=(f=f+Math.imul(wt,xe)|0)+Math.imul(ut,be)|0,C=C+Math.imul(ut,xe)|0,_=_+Math.imul(ct,Ne)|0,f=(f=f+Math.imul(ct,Le)|0)+Math.imul(Ct,Ne)|0,C=C+Math.imul(Ct,Le)|0;var vn=(D+(_=_+Math.imul(U,Ve)|0)|0)+((8191&(f=(f=f+Math.imul(U,fe)|0)+Math.imul(W,Ve)|0))<<13)|0;D=((C=C+Math.imul(W,fe)|0)+(f>>>13)|0)+(vn>>>26)|0,vn&=67108863,_=Math.imul(Rt,qt),f=(f=Math.imul(Rt,ae))+Math.imul(St,qt)|0,C=Math.imul(St,ae),_=_+Math.imul(bt,be)|0,f=(f=f+Math.imul(bt,xe)|0)+Math.imul(pt,be)|0,C=C+Math.imul(pt,xe)|0,_=_+Math.imul(wt,Ne)|0,f=(f=f+Math.imul(wt,Le)|0)+Math.imul(ut,Ne)|0,C=C+Math.imul(ut,Le)|0,_=_+Math.imul(ct,Ve)|0,f=(f=f+Math.imul(ct,fe)|0)+Math.imul(Ct,Ve)|0,C=C+Math.imul(Ct,fe)|0;var ji=(D+(_=_+Math.imul(U,je)|0)|0)+((8191&(f=(f=f+Math.imul(U,se)|0)+Math.imul(W,je)|0))<<13)|0;D=((C=C+Math.imul(W,se)|0)+(f>>>13)|0)+(ji>>>26)|0,ji&=67108863,_=Math.imul(At,qt),f=(f=Math.imul(At,ae))+Math.imul(Kt,qt)|0,C=Math.imul(Kt,ae),_=_+Math.imul(Rt,be)|0,f=(f=f+Math.imul(Rt,xe)|0)+Math.imul(St,be)|0,C=C+Math.imul(St,xe)|0,_=_+Math.imul(bt,Ne)|0,f=(f=f+Math.imul(bt,Le)|0)+Math.imul(pt,Ne)|0,C=C+Math.imul(pt,Le)|0,_=_+Math.imul(wt,Ve)|0,f=(f=f+Math.imul(wt,fe)|0)+Math.imul(ut,Ve)|0,C=C+Math.imul(ut,fe)|0,_=_+Math.imul(ct,je)|0,f=(f=f+Math.imul(ct,se)|0)+Math.imul(Ct,je)|0,C=C+Math.imul(Ct,se)|0;var Ki=(D+(_=_+Math.imul(U,re)|0)|0)+((8191&(f=(f=f+Math.imul(U,jt)|0)+Math.imul(W,re)|0))<<13)|0;D=((C=C+Math.imul(W,jt)|0)+(f>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,_=Math.imul(Jt,qt),f=(f=Math.imul(Jt,ae))+Math.imul($t,qt)|0,C=Math.imul($t,ae),_=_+Math.imul(At,be)|0,f=(f=f+Math.imul(At,xe)|0)+Math.imul(Kt,be)|0,C=C+Math.imul(Kt,xe)|0,_=_+Math.imul(Rt,Ne)|0,f=(f=f+Math.imul(Rt,Le)|0)+Math.imul(St,Ne)|0,C=C+Math.imul(St,Le)|0,_=_+Math.imul(bt,Ve)|0,f=(f=f+Math.imul(bt,fe)|0)+Math.imul(pt,Ve)|0,C=C+Math.imul(pt,fe)|0,_=_+Math.imul(wt,je)|0,f=(f=f+Math.imul(wt,se)|0)+Math.imul(ut,je)|0,C=C+Math.imul(ut,se)|0,_=_+Math.imul(ct,re)|0,f=(f=f+Math.imul(ct,jt)|0)+Math.imul(Ct,re)|0,C=C+Math.imul(Ct,jt)|0;var oi=(D+(_=_+Math.imul(U,Ut)|0)|0)+((8191&(f=(f=f+Math.imul(U,ee)|0)+Math.imul(W,Ut)|0))<<13)|0;D=((C=C+Math.imul(W,ee)|0)+(f>>>13)|0)+(oi>>>26)|0,oi&=67108863,_=Math.imul(Tt,qt),f=(f=Math.imul(Tt,ae))+Math.imul(Bt,qt)|0,C=Math.imul(Bt,ae),_=_+Math.imul(Jt,be)|0,f=(f=f+Math.imul(Jt,xe)|0)+Math.imul($t,be)|0,C=C+Math.imul($t,xe)|0,_=_+Math.imul(At,Ne)|0,f=(f=f+Math.imul(At,Le)|0)+Math.imul(Kt,Ne)|0,C=C+Math.imul(Kt,Le)|0,_=_+Math.imul(Rt,Ve)|0,f=(f=f+Math.imul(Rt,fe)|0)+Math.imul(St,Ve)|0,C=C+Math.imul(St,fe)|0,_=_+Math.imul(bt,je)|0,f=(f=f+Math.imul(bt,se)|0)+Math.imul(pt,je)|0,C=C+Math.imul(pt,se)|0,_=_+Math.imul(wt,re)|0,f=(f=f+Math.imul(wt,jt)|0)+Math.imul(ut,re)|0,C=C+Math.imul(ut,jt)|0,_=_+Math.imul(ct,Ut)|0,f=(f=f+Math.imul(ct,ee)|0)+Math.imul(Ct,Ut)|0,C=C+Math.imul(Ct,ee)|0;var Yn=(D+(_=_+Math.imul(U,Lt)|0)|0)+((8191&(f=(f=f+Math.imul(U,ue)|0)+Math.imul(W,Lt)|0))<<13)|0;D=((C=C+Math.imul(W,ue)|0)+(f>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,_=Math.imul(Mt,qt),f=(f=Math.imul(Mt,ae))+Math.imul(ot,qt)|0,C=Math.imul(ot,ae),_=_+Math.imul(Tt,be)|0,f=(f=f+Math.imul(Tt,xe)|0)+Math.imul(Bt,be)|0,C=C+Math.imul(Bt,xe)|0,_=_+Math.imul(Jt,Ne)|0,f=(f=f+Math.imul(Jt,Le)|0)+Math.imul($t,Ne)|0,C=C+Math.imul($t,Le)|0,_=_+Math.imul(At,Ve)|0,f=(f=f+Math.imul(At,fe)|0)+Math.imul(Kt,Ve)|0,C=C+Math.imul(Kt,fe)|0,_=_+Math.imul(Rt,je)|0,f=(f=f+Math.imul(Rt,se)|0)+Math.imul(St,je)|0,C=C+Math.imul(St,se)|0,_=_+Math.imul(bt,re)|0,f=(f=f+Math.imul(bt,jt)|0)+Math.imul(pt,re)|0,C=C+Math.imul(pt,jt)|0,_=_+Math.imul(wt,Ut)|0,f=(f=f+Math.imul(wt,ee)|0)+Math.imul(ut,Ut)|0,C=C+Math.imul(ut,ee)|0,_=_+Math.imul(ct,Lt)|0,f=(f=f+Math.imul(ct,ue)|0)+Math.imul(Ct,Lt)|0,C=C+Math.imul(Ct,ue)|0;var rn=(D+(_=_+Math.imul(U,we)|0)|0)+((8191&(f=(f=f+Math.imul(U,Ae)|0)+Math.imul(W,we)|0))<<13)|0;D=((C=C+Math.imul(W,Ae)|0)+(f>>>13)|0)+(rn>>>26)|0,rn&=67108863,_=Math.imul(Nt,qt),f=(f=Math.imul(Nt,ae))+Math.imul(Gt,qt)|0,C=Math.imul(Gt,ae),_=_+Math.imul(Mt,be)|0,f=(f=f+Math.imul(Mt,xe)|0)+Math.imul(ot,be)|0,C=C+Math.imul(ot,xe)|0,_=_+Math.imul(Tt,Ne)|0,f=(f=f+Math.imul(Tt,Le)|0)+Math.imul(Bt,Ne)|0,C=C+Math.imul(Bt,Le)|0,_=_+Math.imul(Jt,Ve)|0,f=(f=f+Math.imul(Jt,fe)|0)+Math.imul($t,Ve)|0,C=C+Math.imul($t,fe)|0,_=_+Math.imul(At,je)|0,f=(f=f+Math.imul(At,se)|0)+Math.imul(Kt,je)|0,C=C+Math.imul(Kt,se)|0,_=_+Math.imul(Rt,re)|0,f=(f=f+Math.imul(Rt,jt)|0)+Math.imul(St,re)|0,C=C+Math.imul(St,jt)|0,_=_+Math.imul(bt,Ut)|0,f=(f=f+Math.imul(bt,ee)|0)+Math.imul(pt,Ut)|0,C=C+Math.imul(pt,ee)|0,_=_+Math.imul(wt,Lt)|0,f=(f=f+Math.imul(wt,ue)|0)+Math.imul(ut,Lt)|0,C=C+Math.imul(ut,ue)|0,_=_+Math.imul(ct,we)|0,f=(f=f+Math.imul(ct,Ae)|0)+Math.imul(Ct,we)|0,C=C+Math.imul(Ct,Ae)|0;var an=(D+(_=_+Math.imul(U,ke)|0)|0)+((8191&(f=(f=f+Math.imul(U,De)|0)+Math.imul(W,ke)|0))<<13)|0;D=((C=C+Math.imul(W,De)|0)+(f>>>13)|0)+(an>>>26)|0,an&=67108863,_=Math.imul(Nt,be),f=(f=Math.imul(Nt,xe))+Math.imul(Gt,be)|0,C=Math.imul(Gt,xe),_=_+Math.imul(Mt,Ne)|0,f=(f=f+Math.imul(Mt,Le)|0)+Math.imul(ot,Ne)|0,C=C+Math.imul(ot,Le)|0,_=_+Math.imul(Tt,Ve)|0,f=(f=f+Math.imul(Tt,fe)|0)+Math.imul(Bt,Ve)|0,C=C+Math.imul(Bt,fe)|0,_=_+Math.imul(Jt,je)|0,f=(f=f+Math.imul(Jt,se)|0)+Math.imul($t,je)|0,C=C+Math.imul($t,se)|0,_=_+Math.imul(At,re)|0,f=(f=f+Math.imul(At,jt)|0)+Math.imul(Kt,re)|0,C=C+Math.imul(Kt,jt)|0,_=_+Math.imul(Rt,Ut)|0,f=(f=f+Math.imul(Rt,ee)|0)+Math.imul(St,Ut)|0,C=C+Math.imul(St,ee)|0,_=_+Math.imul(bt,Lt)|0,f=(f=f+Math.imul(bt,ue)|0)+Math.imul(pt,Lt)|0,C=C+Math.imul(pt,ue)|0,_=_+Math.imul(wt,we)|0,f=(f=f+Math.imul(wt,Ae)|0)+Math.imul(ut,we)|0,C=C+Math.imul(ut,Ae)|0;var Ui=(D+(_=_+Math.imul(ct,ke)|0)|0)+((8191&(f=(f=f+Math.imul(ct,De)|0)+Math.imul(Ct,ke)|0))<<13)|0;D=((C=C+Math.imul(Ct,De)|0)+(f>>>13)|0)+(Ui>>>26)|0,Ui&=67108863,_=Math.imul(Nt,Ne),f=(f=Math.imul(Nt,Le))+Math.imul(Gt,Ne)|0,C=Math.imul(Gt,Le),_=_+Math.imul(Mt,Ve)|0,f=(f=f+Math.imul(Mt,fe)|0)+Math.imul(ot,Ve)|0,C=C+Math.imul(ot,fe)|0,_=_+Math.imul(Tt,je)|0,f=(f=f+Math.imul(Tt,se)|0)+Math.imul(Bt,je)|0,C=C+Math.imul(Bt,se)|0,_=_+Math.imul(Jt,re)|0,f=(f=f+Math.imul(Jt,jt)|0)+Math.imul($t,re)|0,C=C+Math.imul($t,jt)|0,_=_+Math.imul(At,Ut)|0,f=(f=f+Math.imul(At,ee)|0)+Math.imul(Kt,Ut)|0,C=C+Math.imul(Kt,ee)|0,_=_+Math.imul(Rt,Lt)|0,f=(f=f+Math.imul(Rt,ue)|0)+Math.imul(St,Lt)|0,C=C+Math.imul(St,ue)|0,_=_+Math.imul(bt,we)|0,f=(f=f+Math.imul(bt,Ae)|0)+Math.imul(pt,we)|0,C=C+Math.imul(pt,Ae)|0;var lr=(D+(_=_+Math.imul(wt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(wt,De)|0)+Math.imul(ut,ke)|0))<<13)|0;D=((C=C+Math.imul(ut,De)|0)+(f>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(Nt,Ve),f=(f=Math.imul(Nt,fe))+Math.imul(Gt,Ve)|0,C=Math.imul(Gt,fe),_=_+Math.imul(Mt,je)|0,f=(f=f+Math.imul(Mt,se)|0)+Math.imul(ot,je)|0,C=C+Math.imul(ot,se)|0,_=_+Math.imul(Tt,re)|0,f=(f=f+Math.imul(Tt,jt)|0)+Math.imul(Bt,re)|0,C=C+Math.imul(Bt,jt)|0,_=_+Math.imul(Jt,Ut)|0,f=(f=f+Math.imul(Jt,ee)|0)+Math.imul($t,Ut)|0,C=C+Math.imul($t,ee)|0,_=_+Math.imul(At,Lt)|0,f=(f=f+Math.imul(At,ue)|0)+Math.imul(Kt,Lt)|0,C=C+Math.imul(Kt,ue)|0,_=_+Math.imul(Rt,we)|0,f=(f=f+Math.imul(Rt,Ae)|0)+Math.imul(St,we)|0,C=C+Math.imul(St,Ae)|0;var He=(D+(_=_+Math.imul(bt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(bt,De)|0)+Math.imul(pt,ke)|0))<<13)|0;D=((C=C+Math.imul(pt,De)|0)+(f>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Nt,je),f=(f=Math.imul(Nt,se))+Math.imul(Gt,je)|0,C=Math.imul(Gt,se),_=_+Math.imul(Mt,re)|0,f=(f=f+Math.imul(Mt,jt)|0)+Math.imul(ot,re)|0,C=C+Math.imul(ot,jt)|0,_=_+Math.imul(Tt,Ut)|0,f=(f=f+Math.imul(Tt,ee)|0)+Math.imul(Bt,Ut)|0,C=C+Math.imul(Bt,ee)|0,_=_+Math.imul(Jt,Lt)|0,f=(f=f+Math.imul(Jt,ue)|0)+Math.imul($t,Lt)|0,C=C+Math.imul($t,ue)|0,_=_+Math.imul(At,we)|0,f=(f=f+Math.imul(At,Ae)|0)+Math.imul(Kt,we)|0,C=C+Math.imul(Kt,Ae)|0;var yi=(D+(_=_+Math.imul(Rt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Rt,De)|0)+Math.imul(St,ke)|0))<<13)|0;D=((C=C+Math.imul(St,De)|0)+(f>>>13)|0)+(yi>>>26)|0,yi&=67108863,_=Math.imul(Nt,re),f=(f=Math.imul(Nt,jt))+Math.imul(Gt,re)|0,C=Math.imul(Gt,jt),_=_+Math.imul(Mt,Ut)|0,f=(f=f+Math.imul(Mt,ee)|0)+Math.imul(ot,Ut)|0,C=C+Math.imul(ot,ee)|0,_=_+Math.imul(Tt,Lt)|0,f=(f=f+Math.imul(Tt,ue)|0)+Math.imul(Bt,Lt)|0,C=C+Math.imul(Bt,ue)|0,_=_+Math.imul(Jt,we)|0,f=(f=f+Math.imul(Jt,Ae)|0)+Math.imul($t,we)|0,C=C+Math.imul($t,Ae)|0;var tn=(D+(_=_+Math.imul(At,ke)|0)|0)+((8191&(f=(f=f+Math.imul(At,De)|0)+Math.imul(Kt,ke)|0))<<13)|0;D=((C=C+Math.imul(Kt,De)|0)+(f>>>13)|0)+(tn>>>26)|0,tn&=67108863,_=Math.imul(Nt,Ut),f=(f=Math.imul(Nt,ee))+Math.imul(Gt,Ut)|0,C=Math.imul(Gt,ee),_=_+Math.imul(Mt,Lt)|0,f=(f=f+Math.imul(Mt,ue)|0)+Math.imul(ot,Lt)|0,C=C+Math.imul(ot,ue)|0,_=_+Math.imul(Tt,we)|0,f=(f=f+Math.imul(Tt,Ae)|0)+Math.imul(Bt,we)|0,C=C+Math.imul(Bt,Ae)|0;var wi=(D+(_=_+Math.imul(Jt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Jt,De)|0)+Math.imul($t,ke)|0))<<13)|0;D=((C=C+Math.imul($t,De)|0)+(f>>>13)|0)+(wi>>>26)|0,wi&=67108863,_=Math.imul(Nt,Lt),f=(f=Math.imul(Nt,ue))+Math.imul(Gt,Lt)|0,C=Math.imul(Gt,ue),_=_+Math.imul(Mt,we)|0,f=(f=f+Math.imul(Mt,Ae)|0)+Math.imul(ot,we)|0,C=C+Math.imul(ot,Ae)|0;var $n=(D+(_=_+Math.imul(Tt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Tt,De)|0)+Math.imul(Bt,ke)|0))<<13)|0;D=((C=C+Math.imul(Bt,De)|0)+(f>>>13)|0)+($n>>>26)|0,$n&=67108863,_=Math.imul(Nt,we),f=(f=Math.imul(Nt,Ae))+Math.imul(Gt,we)|0,C=Math.imul(Gt,Ae);var sr=(D+(_=_+Math.imul(Mt,ke)|0)|0)+((8191&(f=(f=f+Math.imul(Mt,De)|0)+Math.imul(ot,ke)|0))<<13)|0;D=((C=C+Math.imul(ot,De)|0)+(f>>>13)|0)+(sr>>>26)|0,sr&=67108863;var Xe=(D+(_=Math.imul(Nt,ke))|0)+((8191&(f=(f=Math.imul(Nt,De))+Math.imul(Gt,ke)|0))<<13)|0;return D=((C=Math.imul(Gt,De))+(f>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,b[0]=fi,b[1]=hi,b[2]=Pi,b[3]=vn,b[4]=ji,b[5]=Ki,b[6]=oi,b[7]=Yn,b[8]=rn,b[9]=an,b[10]=Ui,b[11]=lr,b[12]=He,b[13]=yi,b[14]=tn,b[15]=wi,b[16]=$n,b[17]=sr,b[18]=Xe,0!==D&&(b[19]=D,v.length++),v};function G(k,u,p){return(new R).mulp(k,u,p)}function R(k,u){this.x=k,this.y=u}Math.imul||(O=F),M.prototype.mulTo=function(u,p){var v,g=this.length+u.length;return v=10===this.length&&10===u.length?O(this,u,p):g<63?F(this,u,p):g<1024?function(k,u,p){p.negative=u.negative^k.negative,p.length=k.length+u.length;for(var v=0,g=0,w=0;w<p.length-1;w++){var b=g;g=0;for(var D=67108863&v,_=Math.min(w,u.length-1),f=Math.max(0,w-k.length+1);f<=_;f++){var W=(0|k.words[w-f])*(0|u.words[f]),st=67108863&W;D=67108863&(st=st+D|0),g+=(b=(b=b+(W/67108864|0)|0)+(st>>>26)|0)>>>26,b&=67108863}p.words[w]=D,v=b,b=g}return 0!==v?p.words[w]=v:p.length--,p.strip()}(this,u,p):G(this,u,p),v},R.prototype.makeRBT=function(u){for(var p=new Array(u),v=M.prototype._countBits(u)-1,g=0;g<u;g++)p[g]=this.revBin(g,v,u);return p},R.prototype.revBin=function(u,p,v){if(0===u||u===v-1)return u;for(var g=0,w=0;w<p;w++)g|=(1&u)<<p-w-1,u>>=1;return g},R.prototype.permute=function(u,p,v,g,w,b){for(var D=0;D<b;D++)g[D]=p[u[D]],w[D]=v[u[D]]},R.prototype.transform=function(u,p,v,g,w,b){this.permute(b,u,p,v,g,w);for(var D=1;D<w;D<<=1)for(var _=D<<1,f=Math.cos(2*Math.PI/_),C=Math.sin(2*Math.PI/_),K=0;K<w;K+=_)for(var U=f,W=C,st=0;st<D;st++){var ct=v[K+st],Ct=g[K+st],kt=v[K+st+D],wt=g[K+st+D],ut=U*kt-W*wt;wt=U*wt+W*kt,v[K+st]=ct+(kt=ut),g[K+st]=Ct+wt,v[K+st+D]=ct-kt,g[K+st+D]=Ct-wt,st!==_&&(ut=f*U-C*W,W=f*W+C*U,U=ut)}},R.prototype.guessLen13b=function(u,p){var v=1|Math.max(p,u),g=1&v,w=0;for(v=v/2|0;v;v>>>=1)w++;return 1<<w+1+g},R.prototype.conjugate=function(u,p,v){if(!(v<=1))for(var g=0;g<v/2;g++){var w=u[g];u[g]=u[v-g-1],u[v-g-1]=w,w=p[g],p[g]=-p[v-g-1],p[v-g-1]=-w}},R.prototype.normalize13b=function(u,p){for(var v=0,g=0;g<p/2;g++){var w=8192*Math.round(u[2*g+1]/p)+Math.round(u[2*g]/p)+v;u[g]=67108863&w,v=w<67108864?0:w/67108864|0}return u},R.prototype.convert13b=function(u,p,v,g){for(var w=0,b=0;b<p;b++)v[2*b]=8191&(w+=0|u[b]),v[2*b+1]=8191&(w>>>=13),w>>>=13;for(b=2*p;b<g;++b)v[b]=0;et(0===w),et(0==(-8192&w))},R.prototype.stub=function(u){for(var p=new Array(u),v=0;v<u;v++)p[v]=0;return p},R.prototype.mulp=function(u,p,v){var g=2*this.guessLen13b(u.length,p.length),w=this.makeRBT(g),b=this.stub(g),D=new Array(g),_=new Array(g),f=new Array(g),C=new Array(g),K=new Array(g),U=new Array(g),W=v.words;W.length=g,this.convert13b(u.words,u.length,D,g),this.convert13b(p.words,p.length,C,g),this.transform(D,b,_,f,g,w),this.transform(C,b,K,U,g,w);for(var st=0;st<g;st++){var ct=_[st]*K[st]-f[st]*U[st];f[st]=_[st]*U[st]+f[st]*K[st],_[st]=ct}return this.conjugate(_,f,g),this.transform(_,f,W,b,g,w),this.conjugate(W,b,g),this.normalize13b(W,g),v.negative=u.negative^p.negative,v.length=u.length+p.length,v.strip()},M.prototype.mul=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},M.prototype.mulf=function(u){var p=new M(null);return p.words=new Array(this.length+u.length),G(this,u,p)},M.prototype.imul=function(u){return this.clone().mulTo(u,this)},M.prototype.imuln=function(u){et("number"==typeof u),et(u<67108864);for(var p=0,v=0;v<this.length;v++){var g=(0|this.words[v])*u,w=(67108863&g)+(67108863&p);p>>=26,p+=g/67108864|0,p+=w>>>26,this.words[v]=67108863&w}return 0!==p&&(this.words[v]=p,this.length++),this},M.prototype.muln=function(u){return this.clone().imuln(u)},M.prototype.sqr=function(){return this.mul(this)},M.prototype.isqr=function(){return this.imul(this.clone())},M.prototype.pow=function(u){var p=function(k){for(var u=new Array(k.bitLength()),p=0;p<u.length;p++){var g=p%26;u[p]=(k.words[p/26|0]&1<<g)>>>g}return u}(u);if(0===p.length)return new M(1);for(var v=this,g=0;g<p.length&&0===p[g];g++,v=v.sqr());if(++g<p.length)for(var w=v.sqr();g<p.length;g++,w=w.sqr())0!==p[g]&&(v=v.mul(w));return v},M.prototype.iushln=function(u){et("number"==typeof u&&u>=0);var w,p=u%26,v=(u-p)/26,g=67108863>>>26-p<<26-p;if(0!==p){var b=0;for(w=0;w<this.length;w++){var D=this.words[w]&g;this.words[w]=(0|this.words[w])-D<<p|b,b=D>>>26-p}b&&(this.words[w]=b,this.length++)}if(0!==v){for(w=this.length-1;w>=0;w--)this.words[w+v]=this.words[w];for(w=0;w<v;w++)this.words[w]=0;this.length+=v}return this.strip()},M.prototype.ishln=function(u){return et(0===this.negative),this.iushln(u)},M.prototype.iushrn=function(u,p,v){var g;et("number"==typeof u&&u>=0),g=p?(p-p%26)/26:0;var w=u%26,b=Math.min((u-w)/26,this.length),D=67108863^67108863>>>w<<w,_=v;if(g-=b,g=Math.max(0,g),_){for(var f=0;f<b;f++)_.words[f]=this.words[f];_.length=b}if(0!==b)if(this.length>b)for(this.length-=b,f=0;f<this.length;f++)this.words[f]=this.words[f+b];else this.words[0]=0,this.length=1;var C=0;for(f=this.length-1;f>=0&&(0!==C||f>=g);f--){var K=0|this.words[f];this.words[f]=C<<26-w|K>>>w,C=K&D}return _&&0!==C&&(_.words[_.length++]=C),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},M.prototype.ishrn=function(u,p,v){return et(0===this.negative),this.iushrn(u,p,v)},M.prototype.shln=function(u){return this.clone().ishln(u)},M.prototype.ushln=function(u){return this.clone().iushln(u)},M.prototype.shrn=function(u){return this.clone().ishrn(u)},M.prototype.ushrn=function(u){return this.clone().iushrn(u)},M.prototype.testn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return!(this.length<=v||!(this.words[v]&1<<p))},M.prototype.imaskn=function(u){et("number"==typeof u&&u>=0);var p=u%26,v=(u-p)/26;return et(0===this.negative,"imaskn works only with positive numbers"),this.length<=v?this:(0!==p&&v++,this.length=Math.min(v,this.length),0!==p&&(this.words[this.length-1]&=67108863^67108863>>>p<<p),this.strip())},M.prototype.maskn=function(u){return this.clone().imaskn(u)},M.prototype.iaddn=function(u){return et("number"==typeof u),et(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},M.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},M.prototype.isubn=function(u){if(et("number"==typeof u),et(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},M.prototype.addn=function(u){return this.clone().iaddn(u)},M.prototype.subn=function(u){return this.clone().isubn(u)},M.prototype.iabs=function(){return this.negative=0,this},M.prototype.abs=function(){return this.clone().iabs()},M.prototype._ishlnsubmul=function(u,p,v){var w;this._expand(u.length+v);var b,D=0;for(w=0;w<u.length;w++){b=(0|this.words[w+v])+D;var _=(0|u.words[w])*p;D=((b-=67108863&_)>>26)-(_/67108864|0),this.words[w+v]=67108863&b}for(;w<this.length-v;w++)D=(b=(0|this.words[w+v])+D)>>26,this.words[w+v]=67108863&b;if(0===D)return this.strip();for(et(-1===D),D=0,w=0;w<this.length;w++)D=(b=-(0|this.words[w])+D)>>26,this.words[w]=67108863&b;return this.negative=1,this.strip()},M.prototype._wordDiv=function(u,p){var v,g=this.clone(),w=u,b=0|w.words[w.length-1];0!=(v=26-this._countBits(b))&&(w=w.ushln(v),g.iushln(v),b=0|w.words[w.length-1]);var f,_=g.length-w.length;if("mod"!==p){(f=new M(null)).length=_+1,f.words=new Array(f.length);for(var C=0;C<f.length;C++)f.words[C]=0}var K=g.clone()._ishlnsubmul(w,1,_);0===K.negative&&(g=K,f&&(f.words[_]=1));for(var U=_-1;U>=0;U--){var W=67108864*(0|g.words[w.length+U])+(0|g.words[w.length+U-1]);for(W=Math.min(W/b|0,67108863),g._ishlnsubmul(w,W,U);0!==g.negative;)W--,g.negative=0,g._ishlnsubmul(w,1,U),g.isZero()||(g.negative^=1);f&&(f.words[U]=W)}return f&&f.strip(),g.strip(),"div"!==p&&0!==v&&g.iushrn(v),{div:f||null,mod:g}},M.prototype.divmod=function(u,p,v){return et(!u.isZero()),this.isZero()?{div:new M(0),mod:new M(0)}:0!==this.negative&&0===u.negative?(b=this.neg().divmod(u,p),"mod"!==p&&(g=b.div.neg()),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.iadd(u)),{div:g,mod:w}):0===this.negative&&0!==u.negative?(b=this.divmod(u.neg(),p),"mod"!==p&&(g=b.div.neg()),{div:g,mod:b.mod}):0!=(this.negative&u.negative)?(b=this.neg().divmod(u.neg(),p),"div"!==p&&(w=b.mod.neg(),v&&0!==w.negative&&w.isub(u)),{div:b.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new M(0),mod:this}:1===u.length?"div"===p?{div:this.divn(u.words[0]),mod:null}:"mod"===p?{div:null,mod:new M(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new M(this.modn(u.words[0]))}:this._wordDiv(u,p);var g,w,b},M.prototype.div=function(u){return this.divmod(u,"div",!1).div},M.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},M.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},M.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=0!==p.div.negative?p.mod.isub(u):p.mod,g=u.ushrn(1),w=u.andln(1),b=v.cmp(g);return b<0||1===w&&0===b?p.div:0!==p.div.negative?p.div.isubn(1):p.div.iaddn(1)},M.prototype.modn=function(u){et(u<=67108863);for(var p=(1<<26)%u,v=0,g=this.length-1;g>=0;g--)v=(p*v+(0|this.words[g]))%u;return v},M.prototype.idivn=function(u){et(u<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var g=(0|this.words[v])+67108864*p;this.words[v]=g/u|0,p=g%u}return this.strip()},M.prototype.divn=function(u){return this.clone().idivn(u)},M.prototype.egcd=function(u){et(0===u.negative),et(!u.isZero());var p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=new M(0),D=new M(1),_=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++_;for(var f=v.clone(),C=p.clone();!p.isZero();){for(var K=0,U=1;0==(p.words[0]&U)&&K<26;++K,U<<=1);if(K>0)for(p.iushrn(K);K-- >0;)(g.isOdd()||w.isOdd())&&(g.iadd(f),w.isub(C)),g.iushrn(1),w.iushrn(1);for(var W=0,st=1;0==(v.words[0]&st)&&W<26;++W,st<<=1);if(W>0)for(v.iushrn(W);W-- >0;)(b.isOdd()||D.isOdd())&&(b.iadd(f),D.isub(C)),b.iushrn(1),D.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(b),w.isub(D)):(v.isub(p),b.isub(g),D.isub(w))}return{a:b,b:D,gcd:v.iushln(_)}},M.prototype._invmp=function(u){et(0===u.negative),et(!u.isZero());var K,p=this,v=u.clone();p=0!==p.negative?p.umod(u):p.clone();for(var g=new M(1),w=new M(0),b=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var D=0,_=1;0==(p.words[0]&_)&&D<26;++D,_<<=1);if(D>0)for(p.iushrn(D);D-- >0;)g.isOdd()&&g.iadd(b),g.iushrn(1);for(var f=0,C=1;0==(v.words[0]&C)&&f<26;++f,C<<=1);if(f>0)for(v.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(b),w.iushrn(1);p.cmp(v)>=0?(p.isub(v),g.isub(w)):(v.isub(p),w.isub(g))}return(K=0===p.cmpn(1)?g:w).cmpn(0)<0&&K.iadd(u),K},M.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var g=0;p.isEven()&&v.isEven();g++)p.iushrn(1),v.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var w=p.cmp(v);if(w<0){var b=p;p=v,v=b}else if(0===w||0===v.cmpn(1))break;p.isub(v)}return v.iushln(g)},M.prototype.invm=function(u){return this.egcd(u).a.umod(u)},M.prototype.isEven=function(){return 0==(1&this.words[0])},M.prototype.isOdd=function(){return 1==(1&this.words[0])},M.prototype.andln=function(u){return this.words[0]&u},M.prototype.bincn=function(u){et("number"==typeof u);var p=u%26,v=(u-p)/26,g=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=g,this;for(var w=g,b=v;0!==w&&b<this.length;b++){var D=0|this.words[b];w=(D+=w)>>>26,this.words[b]=D&=67108863}return 0!==w&&(this.words[b]=w,this.length++),this},M.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},M.prototype.cmpn=function(u){var v,p=u<0;if(0!==this.negative&&!p)return-1;if(0===this.negative&&p)return 1;if(this.strip(),this.length>1)v=1;else{p&&(u=-u),et(u<=67108863,"Number is too big");var g=0|this.words[0];v=g===u?0:g<u?-1:1}return 0!==this.negative?0|-v:v},M.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var p=this.ucmp(u);return 0!==this.negative?0|-p:p},M.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var g=0|this.words[v],w=0|u.words[v];if(g!==w){g<w?p=-1:g>w&&(p=1);break}}return p},M.prototype.gtn=function(u){return 1===this.cmpn(u)},M.prototype.gt=function(u){return 1===this.cmp(u)},M.prototype.gten=function(u){return this.cmpn(u)>=0},M.prototype.gte=function(u){return this.cmp(u)>=0},M.prototype.ltn=function(u){return-1===this.cmpn(u)},M.prototype.lt=function(u){return-1===this.cmp(u)},M.prototype.lten=function(u){return this.cmpn(u)<=0},M.prototype.lte=function(u){return this.cmp(u)<=0},M.prototype.eqn=function(u){return 0===this.cmpn(u)},M.prototype.eq=function(u){return 0===this.cmp(u)},M.red=function(u){return new dt(u)},M.prototype.toRed=function(u){return et(!this.red,"Already a number in reduction context"),et(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},M.prototype.fromRed=function(){return et(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},M.prototype._forceRed=function(u){return this.red=u,this},M.prototype.forceRed=function(u){return et(!this.red,"Already a number in reduction context"),this._forceRed(u)},M.prototype.redAdd=function(u){return et(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},M.prototype.redIAdd=function(u){return et(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},M.prototype.redSub=function(u){return et(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},M.prototype.redISub=function(u){return et(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},M.prototype.redShl=function(u){return et(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},M.prototype.redMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},M.prototype.redIMul=function(u){return et(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},M.prototype.redSqr=function(){return et(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},M.prototype.redISqr=function(){return et(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},M.prototype.redSqrt=function(){return et(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},M.prototype.redInvm=function(){return et(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},M.prototype.redNeg=function(){return et(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},M.prototype.redPow=function(u){return et(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function Z(k,u){this.name=k,this.p=new M(u,16),this.n=this.p.bitLength(),this.k=new M(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function Q(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function lt(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function ht(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function mt(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function dt(k){if("string"==typeof k){var u=M._prime(k);this.m=u.p,this.prime=u}else et(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function gt(k){dt.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new M(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}Z.prototype._tmp=function(){var u=new M(null);return u.words=new Array(Math.ceil(this.n/13)),u},Z.prototype.ireduce=function(u){var v,p=u;do{this.split(p,this.tmp),v=(p=(p=this.imulK(p)).iadd(this.tmp)).bitLength()}while(v>this.n);var g=v<this.n?-1:p.ucmp(this.p);return 0===g?(p.words[0]=0,p.length=1):g>0?p.isub(this.p):void 0!==p.strip?p.strip():p._strip(),p},Z.prototype.split=function(u,p){u.iushrn(this.n,0,p)},Z.prototype.imulK=function(u){return u.imul(this.k)},it(Q,Z),Q.prototype.split=function(u,p){for(var v=4194303,g=Math.min(u.length,9),w=0;w<g;w++)p.words[w]=u.words[w];if(p.length=g,u.length<=9)return u.words[0]=0,void(u.length=1);var b=u.words[9];for(p.words[p.length++]=b&v,w=10;w<u.length;w++){var D=0|u.words[w];u.words[w-10]=(D&v)<<4|b>>>22,b=D}u.words[w-10]=b>>>=22,u.length-=0===b&&u.length>10?10:9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var g=0|u.words[v];u.words[v]=67108863&(p+=977*g),p=64*g+(p/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},it(lt,Z),it(ht,Z),it(mt,Z),mt.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var g=19*(0|u.words[v])+p,w=67108863&g;g>>>=26,u.words[v]=w,p=g}return 0!==p&&(u.words[u.length++]=p),u},M._prime=function(u){if($[u])return $[u];var p;if("k256"===u)p=new Q;else if("p224"===u)p=new lt;else if("p192"===u)p=new ht;else{if("p25519"!==u)throw new Error("Unknown prime "+u);p=new mt}return $[u]=p,p},dt.prototype._verify1=function(u){et(0===u.negative,"red works only with positives"),et(u.red,"red works only with red numbers")},dt.prototype._verify2=function(u,p){et(0==(u.negative|p.negative),"red works only with positives"),et(u.red&&u.red===p.red,"red works only with red numbers")},dt.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},dt.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},dt.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},dt.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},dt.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},dt.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},dt.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},dt.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},dt.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},dt.prototype.isqr=function(u){return this.imul(u,u.clone())},dt.prototype.sqr=function(u){return this.mul(u,u)},dt.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(et(p%2==1),3===p){var v=this.m.add(new M(1)).iushrn(2);return this.pow(u,v)}for(var g=this.m.subn(1),w=0;!g.isZero()&&0===g.andln(1);)w++,g.iushrn(1);et(!g.isZero());var b=new M(1).toRed(this),D=b.redNeg(),_=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new M(2*f*f).toRed(this);0!==this.pow(f,_).cmp(D);)f.redIAdd(D);for(var C=this.pow(f,g),K=this.pow(u,g.addn(1).iushrn(1)),U=this.pow(u,g),W=w;0!==U.cmp(b);){for(var st=U,ct=0;0!==st.cmp(b);ct++)st=st.redSqr();et(ct<W);var Ct=this.pow(C,new M(1).iushln(W-ct-1));K=K.redMul(Ct),C=Ct.redSqr(),U=U.redMul(C),W=ct}return K},dt.prototype.invm=function(u){var p=u._invmp(this.m);return 0!==p.negative?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},dt.prototype.pow=function(u,p){if(p.isZero())return new M(1).toRed(this);if(0===p.cmpn(1))return u.clone();var g=new Array(16);g[0]=new M(1).toRed(this),g[1]=u;for(var w=2;w<g.length;w++)g[w]=this.mul(g[w-1],u);var b=g[0],D=0,_=0,f=p.bitLength()%26;for(0===f&&(f=26),w=p.length-1;w>=0;w--){for(var C=p.words[w],K=f-1;K>=0;K--){var U=C>>K&1;b!==g[0]&&(b=this.sqr(b)),0!==U||0!==D?(D<<=1,D|=U,(4==++_||0===w&&0===K)&&(b=this.mul(b,g[D]),_=0,D=0)):_=0}f=26}return b},dt.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},dt.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},M.mont=function(u){return new gt(u)},it(gt,dt),gt.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},gt.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},gt.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new M(0)._forceRed(this);var v=u.mul(p),g=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=v.isub(g).iushrn(this.shift),b=w;return w.cmp(this.m)>=0?b=w.isub(this.m):w.cmpn(0)<0&&(b=w.iadd(this.m)),b._forceRed(this)},gt.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Yt=vt.nmd(Yt),this)},3009:(Yt,q,vt)=>{var yt=vt(347),xt=vt(9129),et=vt(4137),it=vt(8847),M=vt(5269),j=vt(4979),H=vt(2900),X=vt(4615).Buffer;Yt.exports=function(T,F,O){var V;V=T.padding?T.padding:O?1:4;var $,G=yt(T),R=G.modulus.byteLength();if(F.length>R||new it(F).cmp(G.modulus)>=0)throw new Error("decryption error");$=O?H(new it(F),G):M(F,G);var Z=X.alloc(R-$.length);if($=X.concat([Z,$],R),4===V)return function(Y,T){var F=Y.modulus.byteLength(),O=j("sha1").update(X.alloc(0)).digest(),V=O.length;if(0!==T[0])throw new Error("decryption error");var G=T.slice(1,V+1),R=T.slice(V+1),$=et(G,xt(R,V)),Z=et(R,xt($,F-V-1));if(function(Y,T){Y=X.from(Y),T=X.from(T);var F=0,O=Y.length;Y.length!==T.length&&(F++,O=Math.min(Y.length,T.length));for(var V=-1;++V<O;)F+=Y[V]^T[V];return F}(O,Z.slice(0,V)))throw new Error("decryption error");for(var Q=V;0===Z[Q];)Q++;if(1!==Z[Q++])throw new Error("decryption error");return Z.slice(Q)}(G,$);if(1===V)return function(Y,T,F){for(var O=T.slice(0,2),V=2,G=0;0!==T[V++];)if(V>=T.length){G++;break}var R=T.slice(2,V-1);if(("0002"!==O.toString("hex")&&!F||"0001"!==O.toString("hex")&&F)&&G++,R.length<8&&G++,G)throw new Error("decryption error");return T.slice(V)}(0,$,O);if(3===V)return $;throw new Error("unknown padding")}},793:(Yt,q,vt)=>{var yt=vt(347),xt=vt(8747),et=vt(4979),it=vt(9129),M=vt(4137),j=vt(8847),H=vt(2900),X=vt(5269),z=vt(4615).Buffer;Yt.exports=function(F,O,V){var G;G=F.padding?F.padding:V?1:4;var $,R=yt(F);if(4===G)$=function(T,F){var O=T.modulus.byteLength(),V=F.length,G=et("sha1").update(z.alloc(0)).digest(),R=G.length,$=2*R;if(V>O-$-2)throw new Error("message too long");var Z=z.alloc(O-V-$-2),Q=O-R-1,lt=xt(R),ht=M(z.concat([G,Z,z.alloc(1,1),F],Q),it(lt,Q)),mt=M(lt,it(ht,R));return new j(z.concat([z.alloc(1),mt,ht],O))}(R,O);else if(1===G)$=function(T,F,O){var R,V=F.length,G=T.modulus.byteLength();if(V>G-11)throw new Error("message too long");return R=O?z.alloc(G-V-3,255):function(T){for(var R,F=z.allocUnsafe(T),O=0,V=xt(2*T),G=0;O<T;)G===V.length&&(V=xt(2*T),G=0),(R=V[G++])&&(F[O++]=R);return F}(G-V-3),new j(z.concat([z.from([0,O?1:2]),R,z.alloc(1),F],G))}(R,O,V);else{if(3!==G)throw new Error("unknown padding");if(($=new j(O)).cmp(R.modulus)>=0)throw new Error("data too long for modulus")}return V?X($,R):H($,R)}},2900:(Yt,q,vt)=>{var yt=vt(8847),xt=vt(4615).Buffer;Yt.exports=function(it,M){return xt.from(it.toRed(yt.mont(M.modulus)).redPow(new yt(M.publicExponent)).fromRed().toArray())}},4137:Yt=>{Yt.exports=function(vt,yt){for(var xt=vt.length,et=-1;++et<xt;)vt[et]^=yt[et];return vt}},8747:(Yt,q,vt)=>{"use strict";var it=vt(4615).Buffer,M=global.crypto||global.msCrypto;Yt.exports=M&&M.getRandomValues?function(H,X){if(H>4294967295)throw new RangeError("requested too many random bytes");var z=it.allocUnsafe(H);if(H>0)if(H>65536)for(var B=0;B<H;B+=65536)M.getRandomValues(z.slice(B,B+65536));else M.getRandomValues(z);return"function"==typeof X?process.nextTick(function(){X(null,z)}):z}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},1766:(Yt,q,vt)=>{"use strict";function yt(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var xt=vt(4615),et=vt(8747),it=xt.Buffer,M=xt.kMaxLength,j=global.crypto||global.msCrypto,H=Math.pow(2,32)-1;function X(T,F){if("number"!=typeof T||T!=T)throw new TypeError("offset must be a number");if(T>H||T<0)throw new TypeError("offset must be a uint32");if(T>M||T>F)throw new RangeError("offset out of range")}function z(T,F,O){if("number"!=typeof T||T!=T)throw new TypeError("size must be a number");if(T>H||T<0)throw new TypeError("size must be a uint32");if(T+F>O||T>M)throw new RangeError("buffer too small")}function I(T,F,O,V){if(process.browser){var R=new Uint8Array(T.buffer,F,O);return j.getRandomValues(R),V?void process.nextTick(function(){V(null,T)}):T}if(!V)return et(O).copy(T,F),T;et(O,function(Z,Q){if(Z)return V(Z);Q.copy(T,F),V(null,T)})}j&&j.getRandomValues||!process.browser?(q.randomFill=function(T,F,O,V){if(!(it.isBuffer(T)||T instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof F)V=F,F=0,O=T.length;else if("function"==typeof O)V=O,O=T.length-F;else if("function"!=typeof V)throw new TypeError('"cb" argument must be a function');return X(F,T.length),z(O,F,T.length),I(T,F,O,V)},q.randomFillSync=function(T,F,O){if(void 0===F&&(F=0),!(it.isBuffer(T)||T instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return X(F,T.length),void 0===O&&(O=T.length-F),z(O,F,T.length),I(T,F,O)}):(q.randomFill=yt,q.randomFillSync=yt)},4621:Yt=>{"use strict";var vt={};function yt(j,H,X){X||(X=Error);var B=function(I){function Y(T,F,O){return I.call(this,function(I,Y,T){return"string"==typeof H?H:H(I,Y,T)}(T,F,O))||this}return function(j,H){j.prototype=Object.create(H.prototype),j.prototype.constructor=j,j.__proto__=H}(Y,I),Y}(X);B.prototype.name=X.name,B.prototype.code=j,vt[j]=B}function xt(j,H){if(Array.isArray(j)){var X=j.length;return j=j.map(function(z){return String(z)}),X>2?"one of ".concat(H," ").concat(j.slice(0,X-1).join(", "),", or ")+j[X-1]:2===X?"one of ".concat(H," ").concat(j[0]," or ").concat(j[1]):"of ".concat(H," ").concat(j[0])}return"of ".concat(H," ").concat(String(j))}yt("ERR_INVALID_OPT_VALUE",function(j,H){return'The value "'+H+'" is invalid for option "'+j+'"'},TypeError),yt("ERR_INVALID_ARG_TYPE",function(j,H,X){var z,B;if("string"==typeof H&&function(j,H,X){return j.substr(0,H.length)===H}(H,"not ")?(z="must not be",H=H.replace(/^not /,"")):z="must be",function(j,H,X){return(void 0===X||X>j.length)&&(X=j.length),j.substring(X-H.length,X)===H}(j," argument"))B="The ".concat(j," ").concat(z," ").concat(xt(H,"type"));else{var I=function(j,H,X){return"number"!=typeof X&&(X=0),!(X+".".length>j.length)&&-1!==j.indexOf(".",X)}(j)?"property":"argument";B='The "'.concat(j,'" ').concat(I," ").concat(z," ").concat(xt(H,"type"))}return B+". Received type ".concat(typeof X)},TypeError),yt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),yt("ERR_METHOD_NOT_IMPLEMENTED",function(j){return"The "+j+" method is not implemented"}),yt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),yt("ERR_STREAM_DESTROYED",function(j){return"Cannot call "+j+" after a stream was destroyed"}),yt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),yt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),yt("ERR_STREAM_WRITE_AFTER_END","write after end"),yt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),yt("ERR_UNKNOWN_ENCODING",function(j){return"Unknown encoding: "+j},TypeError),yt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Yt.exports.q=vt},9617:(Yt,q,vt)=>{"use strict";var yt=Object.keys||function(B){var I=[];for(var Y in B)I.push(Y);return I};Yt.exports=H;var xt=vt(7619),et=vt(8956);vt(3516)(H,xt);for(var it=yt(et.prototype),M=0;M<it.length;M++){var j=it[M];H.prototype[j]||(H.prototype[j]=et.prototype[j])}function H(B){if(!(this instanceof H))return new H(B);xt.call(this,B),et.call(this,B),this.allowHalfOpen=!0,B&&(!1===B.readable&&(this.readable=!1),!1===B.writable&&(this.writable=!1),!1===B.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",X)))}function X(){this._writableState.ended||process.nextTick(z,this)}function z(B){B.end()}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(I){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=I,this._writableState.destroyed=I)}})},1833:(Yt,q,vt)=>{"use strict";Yt.exports=xt;var yt=vt(8329);function xt(et){if(!(this instanceof xt))return new xt(et);yt.call(this,et)}vt(3516)(xt,yt),xt.prototype._transform=function(et,it,M){M(null,et)}},7619:(Yt,q,vt)=>{"use strict";var yt;Yt.exports=k,k.ReadableState=gt,vt(7703);var B,et=function(Dt,Rt){return Dt.listeners(Rt).length},it=vt(3183),M=vt(3847).Buffer,j=global.Uint8Array||function(){},z=vt(4616);B=z&&z.debuglog?z.debuglog("stream"):function(){};var Z,Q,lt,I=vt(7081),Y=vt(9405),F=vt(7411).getHighWaterMark,O=vt(4621).q,V=O.ERR_INVALID_ARG_TYPE,G=O.ERR_STREAM_PUSH_AFTER_EOF,R=O.ERR_METHOD_NOT_IMPLEMENTED,$=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;vt(3516)(k,it);var ht=Y.errorOrDestroy,mt=["error","close","destroy","pause","resume"];function gt(pt,Dt,Rt){yt=yt||vt(9617),"boolean"!=typeof Rt&&(Rt=Dt instanceof yt),this.objectMode=!!(pt=pt||{}).objectMode,Rt&&(this.objectMode=this.objectMode||!!pt.readableObjectMode),this.highWaterMark=F(this,pt,"readableHighWaterMark",Rt),this.buffer=new I,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==pt.emitClose,this.autoDestroy=!!pt.autoDestroy,this.destroyed=!1,this.defaultEncoding=pt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,pt.encoding&&(Z||(Z=vt(3033).s),this.decoder=new Z(pt.encoding),this.encoding=pt.encoding)}function k(pt){if(yt=yt||vt(9617),!(this instanceof k))return new k(pt);this._readableState=new gt(pt,this,this instanceof yt),this.readable=!0,pt&&("function"==typeof pt.read&&(this._read=pt.read),"function"==typeof pt.destroy&&(this._destroy=pt.destroy)),it.call(this)}function u(pt,Dt,Rt,St,te){B("readableAddChunk",Dt);var Kt,At=pt._readableState;if(null===Dt)At.reading=!1,function(pt,Dt){if(B("onEofChunk"),!Dt.ended){if(Dt.decoder){var Rt=Dt.decoder.end();Rt&&Rt.length&&(Dt.buffer.push(Rt),Dt.length+=Dt.objectMode?1:Rt.length)}Dt.ended=!0,Dt.sync?_(pt):(Dt.needReadable=!1,Dt.emittedReadable||(Dt.emittedReadable=!0,f(pt)))}}(pt,At);else if(te||(Kt=function(pt,Dt){var Rt;return!function(pt){return M.isBuffer(pt)||pt instanceof j}(Dt)&&"string"!=typeof Dt&&void 0!==Dt&&!pt.objectMode&&(Rt=new V("chunk",["string","Buffer","Uint8Array"],Dt)),Rt}(At,Dt)),Kt)ht(pt,Kt);else if(At.objectMode||Dt&&Dt.length>0)if("string"!=typeof Dt&&!At.objectMode&&Object.getPrototypeOf(Dt)!==M.prototype&&(Dt=function(pt){return M.from(pt)}(Dt)),St)At.endEmitted?ht(pt,new $):p(pt,At,Dt,!0);else if(At.ended)ht(pt,new G);else{if(At.destroyed)return!1;At.reading=!1,At.decoder&&!Rt?(Dt=At.decoder.write(Dt),At.objectMode||0!==Dt.length?p(pt,At,Dt,!1):C(pt,At)):p(pt,At,Dt,!1)}else St||(At.reading=!1,C(pt,At));return!At.ended&&(At.length<At.highWaterMark||0===At.length)}function p(pt,Dt,Rt,St){Dt.flowing&&0===Dt.length&&!Dt.sync?(Dt.awaitDrain=0,pt.emit("data",Rt)):(Dt.length+=Dt.objectMode?1:Rt.length,St?Dt.buffer.unshift(Rt):Dt.buffer.push(Rt),Dt.needReadable&&_(pt)),C(pt,Dt)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(Dt){!this._readableState||(this._readableState.destroyed=Dt)}}),k.prototype.destroy=Y.destroy,k.prototype._undestroy=Y.undestroy,k.prototype._destroy=function(pt,Dt){Dt(pt)},k.prototype.push=function(pt,Dt){var St,Rt=this._readableState;return Rt.objectMode?St=!0:"string"==typeof pt&&((Dt=Dt||Rt.defaultEncoding)!==Rt.encoding&&(pt=M.from(pt,Dt),Dt=""),St=!0),u(this,pt,Dt,!1,St)},k.prototype.unshift=function(pt){return u(this,pt,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(pt){Z||(Z=vt(3033).s);var Dt=new Z(pt);this._readableState.decoder=Dt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Rt=this._readableState.buffer.head,St="";null!==Rt;)St+=Dt.write(Rt.data),Rt=Rt.next;return this._readableState.buffer.clear(),""!==St&&this._readableState.buffer.push(St),this._readableState.length=St.length,this};var g=1073741824;function b(pt,Dt){return pt<=0||0===Dt.length&&Dt.ended?0:Dt.objectMode?1:pt!=pt?Dt.flowing&&Dt.length?Dt.buffer.head.data.length:Dt.length:(pt>Dt.highWaterMark&&(Dt.highWaterMark=function(pt){return pt>=g?pt=g:(pt--,pt|=pt>>>1,pt|=pt>>>2,pt|=pt>>>4,pt|=pt>>>8,pt|=pt>>>16,pt++),pt}(pt)),pt<=Dt.length?pt:Dt.ended?Dt.length:(Dt.needReadable=!0,0))}function _(pt){var Dt=pt._readableState;B("emitReadable",Dt.needReadable,Dt.emittedReadable),Dt.needReadable=!1,Dt.emittedReadable||(B("emitReadable",Dt.flowing),Dt.emittedReadable=!0,process.nextTick(f,pt))}function f(pt){var Dt=pt._readableState;B("emitReadable_",Dt.destroyed,Dt.length,Dt.ended),!Dt.destroyed&&(Dt.length||Dt.ended)&&(pt.emit("readable"),Dt.emittedReadable=!1),Dt.needReadable=!Dt.flowing&&!Dt.ended&&Dt.length<=Dt.highWaterMark,kt(pt)}function C(pt,Dt){Dt.readingMore||(Dt.readingMore=!0,process.nextTick(K,pt,Dt))}function K(pt,Dt){for(;!Dt.reading&&!Dt.ended&&(Dt.length<Dt.highWaterMark||Dt.flowing&&0===Dt.length);){var Rt=Dt.length;if(B("maybeReadMore read 0"),pt.read(0),Rt===Dt.length)break}Dt.readingMore=!1}function W(pt){var Dt=pt._readableState;Dt.readableListening=pt.listenerCount("readable")>0,Dt.resumeScheduled&&!Dt.paused?Dt.flowing=!0:pt.listenerCount("data")>0&&pt.resume()}function st(pt){B("readable nexttick read 0"),pt.read(0)}function Ct(pt,Dt){B("resume",Dt.reading),Dt.reading||pt.read(0),Dt.resumeScheduled=!1,pt.emit("resume"),kt(pt),Dt.flowing&&!Dt.reading&&pt.read(0)}function kt(pt){var Dt=pt._readableState;for(B("flow",Dt.flowing);Dt.flowing&&null!==pt.read(););}function wt(pt,Dt){return 0===Dt.length?null:(Dt.objectMode?Rt=Dt.buffer.shift():!pt||pt>=Dt.length?(Rt=Dt.decoder?Dt.buffer.join(""):1===Dt.buffer.length?Dt.buffer.first():Dt.buffer.concat(Dt.length),Dt.buffer.clear()):Rt=Dt.buffer.consume(pt,Dt.decoder),Rt);var Rt}function ut(pt){var Dt=pt._readableState;B("endReadable",Dt.endEmitted),Dt.endEmitted||(Dt.ended=!0,process.nextTick(Ot,Dt,pt))}function Ot(pt,Dt){if(B("endReadableNT",pt.endEmitted,pt.length),!pt.endEmitted&&0===pt.length&&(pt.endEmitted=!0,Dt.readable=!1,Dt.emit("end"),pt.autoDestroy)){var Rt=Dt._writableState;(!Rt||Rt.autoDestroy&&Rt.finished)&&Dt.destroy()}}function bt(pt,Dt){for(var Rt=0,St=pt.length;Rt<St;Rt++)if(pt[Rt]===Dt)return Rt;return-1}k.prototype.read=function(pt){B("read",pt),pt=parseInt(pt,10);var Dt=this._readableState,Rt=pt;if(0!==pt&&(Dt.emittedReadable=!1),0===pt&&Dt.needReadable&&((0!==Dt.highWaterMark?Dt.length>=Dt.highWaterMark:Dt.length>0)||Dt.ended))return B("read: emitReadable",Dt.length,Dt.ended),0===Dt.length&&Dt.ended?ut(this):_(this),null;if(0===(pt=b(pt,Dt))&&Dt.ended)return 0===Dt.length&&ut(this),null;var te,St=Dt.needReadable;return B("need readable",St),(0===Dt.length||Dt.length-pt<Dt.highWaterMark)&&B("length less than watermark",St=!0),Dt.ended||Dt.reading?B("reading or ended",St=!1):St&&(B("do read"),Dt.reading=!0,Dt.sync=!0,0===Dt.length&&(Dt.needReadable=!0),this._read(Dt.highWaterMark),Dt.sync=!1,Dt.reading||(pt=b(Rt,Dt))),null===(te=pt>0?wt(pt,Dt):null)?(Dt.needReadable=Dt.length<=Dt.highWaterMark,pt=0):(Dt.length-=pt,Dt.awaitDrain=0),0===Dt.length&&(Dt.ended||(Dt.needReadable=!0),Rt!==pt&&Dt.ended&&ut(this)),null!==te&&this.emit("data",te),te},k.prototype._read=function(pt){ht(this,new R("_read()"))},k.prototype.pipe=function(pt,Dt){var Rt=this,St=this._readableState;switch(St.pipesCount){case 0:St.pipes=pt;break;case 1:St.pipes=[St.pipes,pt];break;default:St.pipes.push(pt)}St.pipesCount+=1,B("pipe count=%d opts=%j",St.pipesCount,Dt);var At=Dt&&!1===Dt.end||pt===process.stdout||pt===process.stderr?ot:Oe;function Oe(){B("onend"),pt.end()}St.endEmitted?process.nextTick(At):Rt.once("end",At),pt.on("unpipe",function Kt(J,Nt){B("onunpipe"),J===Rt&&Nt&&!1===Nt.hasUnpiped&&(Nt.hasUnpiped=!0,B("cleanup"),pt.removeListener("close",le),pt.removeListener("finish",Mt),pt.removeListener("drain",Jt),pt.removeListener("error",Bt),pt.removeListener("unpipe",Kt),Rt.removeListener("end",Oe),Rt.removeListener("end",ot),Rt.removeListener("data",Tt),$t=!0,St.awaitDrain&&(!pt._writableState||pt._writableState.needDrain)&&Jt())});var Jt=function(pt){return function(){var Rt=pt._readableState;B("pipeOnDrain",Rt.awaitDrain),Rt.awaitDrain&&Rt.awaitDrain--,0===Rt.awaitDrain&&et(pt,"data")&&(Rt.flowing=!0,kt(pt))}}(Rt);pt.on("drain",Jt);var $t=!1;function Tt(J){B("ondata");var Nt=pt.write(J);B("dest.write",Nt),!1===Nt&&((1===St.pipesCount&&St.pipes===pt||St.pipesCount>1&&-1!==bt(St.pipes,pt))&&!$t&&(B("false write response, pause",St.awaitDrain),St.awaitDrain++),Rt.pause())}function Bt(J){B("onerror",J),ot(),pt.removeListener("error",Bt),0===et(pt,"error")&&ht(pt,J)}function le(){pt.removeListener("finish",Mt),ot()}function Mt(){B("onfinish"),pt.removeListener("close",le),ot()}function ot(){B("unpipe"),Rt.unpipe(pt)}return Rt.on("data",Tt),function(pt,Dt,Rt){if("function"==typeof pt.prependListener)return pt.prependListener(Dt,Rt);pt._events&&pt._events[Dt]?Array.isArray(pt._events[Dt])?pt._events[Dt].unshift(Rt):pt._events[Dt]=[Rt,pt._events[Dt]]:pt.on(Dt,Rt)}(pt,"error",Bt),pt.once("close",le),pt.once("finish",Mt),pt.emit("pipe",Rt),St.flowing||(B("pipe resume"),Rt.resume()),pt},k.prototype.unpipe=function(pt){var Dt=this._readableState,Rt={hasUnpiped:!1};if(0===Dt.pipesCount)return this;if(1===Dt.pipesCount)return pt&&pt!==Dt.pipes||(pt||(pt=Dt.pipes),Dt.pipes=null,Dt.pipesCount=0,Dt.flowing=!1,pt&&pt.emit("unpipe",this,Rt)),this;if(!pt){var St=Dt.pipes,te=Dt.pipesCount;Dt.pipes=null,Dt.pipesCount=0,Dt.flowing=!1;for(var At=0;At<te;At++)St[At].emit("unpipe",this,{hasUnpiped:!1});return this}var Kt=bt(Dt.pipes,pt);return-1===Kt||(Dt.pipes.splice(Kt,1),Dt.pipesCount-=1,1===Dt.pipesCount&&(Dt.pipes=Dt.pipes[0]),pt.emit("unpipe",this,Rt)),this},k.prototype.addListener=k.prototype.on=function(pt,Dt){var Rt=it.prototype.on.call(this,pt,Dt),St=this._readableState;return"data"===pt?(St.readableListening=this.listenerCount("readable")>0,!1!==St.flowing&&this.resume()):"readable"===pt&&!St.endEmitted&&!St.readableListening&&(St.readableListening=St.needReadable=!0,St.flowing=!1,St.emittedReadable=!1,B("on readable",St.length,St.reading),St.length?_(this):St.reading||process.nextTick(st,this)),Rt},k.prototype.removeListener=function(pt,Dt){var Rt=it.prototype.removeListener.call(this,pt,Dt);return"readable"===pt&&process.nextTick(W,this),Rt},k.prototype.removeAllListeners=function(pt){var Dt=it.prototype.removeAllListeners.apply(this,arguments);return("readable"===pt||void 0===pt)&&process.nextTick(W,this),Dt},k.prototype.resume=function(){var pt=this._readableState;return pt.flowing||(B("resume"),pt.flowing=!pt.readableListening,function(pt,Dt){Dt.resumeScheduled||(Dt.resumeScheduled=!0,process.nextTick(Ct,pt,Dt))}(this,pt)),pt.paused=!1,this},k.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(pt){var Dt=this,Rt=this._readableState,St=!1;for(var te in pt.on("end",function(){if(B("wrapped end"),Rt.decoder&&!Rt.ended){var Kt=Rt.decoder.end();Kt&&Kt.length&&Dt.push(Kt)}Dt.push(null)}),pt.on("data",function(Kt){B("wrapped data"),Rt.decoder&&(Kt=Rt.decoder.write(Kt)),Rt.objectMode&&null==Kt||!(Rt.objectMode||Kt&&Kt.length)||Dt.push(Kt)||(St=!0,pt.pause())}),pt)void 0===this[te]&&"function"==typeof pt[te]&&(this[te]=function(Oe){return function(){return pt[Oe].apply(pt,arguments)}}(te));for(var At=0;At<mt.length;At++)pt.on(mt[At],this.emit.bind(this,mt[At]));return this._read=function(Kt){B("wrapped _read",Kt),St&&(St=!1,pt.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===Q&&(Q=vt(6924)),Q(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Dt){this._readableState&&(this._readableState.flowing=Dt)}}),k._fromList=wt,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(pt,Dt){return void 0===lt&&(lt=vt(9742)),lt(k,pt,Dt)})},8329:(Yt,q,vt)=>{"use strict";Yt.exports=X;var yt=vt(4621).q,xt=yt.ERR_METHOD_NOT_IMPLEMENTED,et=yt.ERR_MULTIPLE_CALLBACK,it=yt.ERR_TRANSFORM_ALREADY_TRANSFORMING,M=yt.ERR_TRANSFORM_WITH_LENGTH_0,j=vt(9617);function H(I,Y){var T=this._transformState;T.transforming=!1;var F=T.writecb;if(null===F)return this.emit("error",new et);T.writechunk=null,T.writecb=null,null!=Y&&this.push(Y),F(I);var O=this._readableState;O.reading=!1,(O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}function X(I){if(!(this instanceof X))return new X(I);j.call(this,I),this._transformState={afterTransform:H.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,I&&("function"==typeof I.transform&&(this._transform=I.transform),"function"==typeof I.flush&&(this._flush=I.flush)),this.on("prefinish",z)}function z(){var I=this;"function"!=typeof this._flush||this._readableState.destroyed?B(this,null,null):this._flush(function(Y,T){B(I,Y,T)})}function B(I,Y,T){if(Y)return I.emit("error",Y);if(null!=T&&I.push(T),I._writableState.length)throw new M;if(I._transformState.transforming)throw new it;return I.push(null)}vt(3516)(X,j),X.prototype.push=function(I,Y){return this._transformState.needTransform=!1,j.prototype.push.call(this,I,Y)},X.prototype._transform=function(I,Y,T){T(new xt("_transform()"))},X.prototype._write=function(I,Y,T){var F=this._transformState;if(F.writecb=T,F.writechunk=I,F.writeencoding=Y,!F.transforming){var O=this._readableState;(F.needTransform||O.needReadable||O.length<O.highWaterMark)&&this._read(O.highWaterMark)}},X.prototype._read=function(I){var Y=this._transformState;null===Y.writechunk||Y.transforming?Y.needTransform=!0:(Y.transforming=!0,this._transform(Y.writechunk,Y.writeencoding,Y.afterTransform))},X.prototype._destroy=function(I,Y){j.prototype._destroy.call(this,I,function(T){Y(T)})}},8956:(Yt,q,vt)=>{"use strict";function xt(kt){var wt=this;this.next=null,this.entry=null,this.finish=function(){!function(kt,wt,ut){var Ot=kt.entry;for(kt.entry=null;Ot;){var bt=Ot.callback;wt.pendingcb--,bt(undefined),Ot=Ot.next}wt.corkedRequestsFree.next=kt}(wt,kt)}}var et;Yt.exports=gt,gt.WritableState=mt;var dt,it={deprecate:vt(5832)},M=vt(3183),j=vt(3847).Buffer,H=global.Uint8Array||function(){},B=vt(9405),Y=vt(7411).getHighWaterMark,T=vt(4621).q,F=T.ERR_INVALID_ARG_TYPE,O=T.ERR_METHOD_NOT_IMPLEMENTED,V=T.ERR_MULTIPLE_CALLBACK,G=T.ERR_STREAM_CANNOT_PIPE,R=T.ERR_STREAM_DESTROYED,$=T.ERR_STREAM_NULL_VALUES,Z=T.ERR_STREAM_WRITE_AFTER_END,Q=T.ERR_UNKNOWN_ENCODING,lt=B.errorOrDestroy;function ht(){}function mt(kt,wt,ut){et=et||vt(9617),"boolean"!=typeof ut&&(ut=wt instanceof et),this.objectMode=!!(kt=kt||{}).objectMode,ut&&(this.objectMode=this.objectMode||!!kt.writableObjectMode),this.highWaterMark=Y(this,kt,"writableHighWaterMark",ut),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===kt.decodeStrings),this.defaultEncoding=kt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(bt){!function(kt,wt){var ut=kt._writableState,Ot=ut.sync,bt=ut.writecb;if("function"!=typeof bt)throw new V;if(function(kt){kt.writing=!1,kt.writecb=null,kt.length-=kt.writelen,kt.writelen=0}(ut),wt)!function(kt,wt,ut,Ot,bt){--wt.pendingcb,ut?(process.nextTick(bt,Ot),process.nextTick(st,kt,wt),kt._writableState.errorEmitted=!0,lt(kt,Ot)):(bt(Ot),kt._writableState.errorEmitted=!0,lt(kt,Ot),st(kt,wt))}(kt,ut,Ot,wt,bt);else{var pt=K(ut)||kt.destroyed;!pt&&!ut.corked&&!ut.bufferProcessing&&ut.bufferedRequest&&C(kt,ut),Ot?process.nextTick(_,kt,ut,pt,bt):_(kt,ut,pt,bt)}}(wt,bt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==kt.emitClose,this.autoDestroy=!!kt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new xt(this)}function gt(kt){var wt=this instanceof(et=et||vt(9617));if(!wt&&!dt.call(gt,this))return new gt(kt);this._writableState=new mt(kt,this,wt),this.writable=!0,kt&&("function"==typeof kt.write&&(this._write=kt.write),"function"==typeof kt.writev&&(this._writev=kt.writev),"function"==typeof kt.destroy&&(this._destroy=kt.destroy),"function"==typeof kt.final&&(this._final=kt.final)),M.call(this)}function g(kt,wt,ut,Ot,bt,pt,Dt){wt.writelen=Ot,wt.writecb=Dt,wt.writing=!0,wt.sync=!0,wt.destroyed?wt.onwrite(new R("write")):ut?kt._writev(bt,wt.onwrite):kt._write(bt,pt,wt.onwrite),wt.sync=!1}function _(kt,wt,ut,Ot){ut||function(kt,wt){0===wt.length&&wt.needDrain&&(wt.needDrain=!1,kt.emit("drain"))}(kt,wt),wt.pendingcb--,Ot(),st(kt,wt)}function C(kt,wt){wt.bufferProcessing=!0;var ut=wt.bufferedRequest;if(kt._writev&&ut&&ut.next){var bt=new Array(wt.bufferedRequestCount),pt=wt.corkedRequestsFree;pt.entry=ut;for(var Dt=0,Rt=!0;ut;)bt[Dt]=ut,ut.isBuf||(Rt=!1),ut=ut.next,Dt+=1;bt.allBuffers=Rt,g(kt,wt,!0,wt.length,bt,"",pt.finish),wt.pendingcb++,wt.lastBufferedRequest=null,pt.next?(wt.corkedRequestsFree=pt.next,pt.next=null):wt.corkedRequestsFree=new xt(wt),wt.bufferedRequestCount=0}else{for(;ut;){var St=ut.chunk;if(g(kt,wt,!1,wt.objectMode?1:St.length,St,ut.encoding,ut.callback),ut=ut.next,wt.bufferedRequestCount--,wt.writing)break}null===ut&&(wt.lastBufferedRequest=null)}wt.bufferedRequest=ut,wt.bufferProcessing=!1}function K(kt){return kt.ending&&0===kt.length&&null===kt.bufferedRequest&&!kt.finished&&!kt.writing}function U(kt,wt){kt._final(function(ut){wt.pendingcb--,ut&&lt(kt,ut),wt.prefinished=!0,kt.emit("prefinish"),st(kt,wt)})}function st(kt,wt){var ut=K(wt);if(ut&&(function(kt,wt){!wt.prefinished&&!wt.finalCalled&&("function"!=typeof kt._final||wt.destroyed?(wt.prefinished=!0,kt.emit("prefinish")):(wt.pendingcb++,wt.finalCalled=!0,process.nextTick(U,kt,wt)))}(kt,wt),0===wt.pendingcb&&(wt.finished=!0,kt.emit("finish"),wt.autoDestroy))){var Ot=kt._readableState;(!Ot||Ot.autoDestroy&&Ot.endEmitted)&&kt.destroy()}return ut}vt(3516)(gt,M),mt.prototype.getBuffer=function(){for(var wt=this.bufferedRequest,ut=[];wt;)ut.push(wt),wt=wt.next;return ut},function(){try{Object.defineProperty(mt.prototype,"buffer",{get:it.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(kt){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(dt=Function.prototype[Symbol.hasInstance],Object.defineProperty(gt,Symbol.hasInstance,{value:function(wt){return!!dt.call(this,wt)||this===gt&&wt&&wt._writableState instanceof mt}})):dt=function(wt){return wt instanceof this},gt.prototype.pipe=function(){lt(this,new G)},gt.prototype.write=function(kt,wt,ut){var Ot=this._writableState,bt=!1,pt=!Ot.objectMode&&function(kt){return j.isBuffer(kt)||kt instanceof H}(kt);return pt&&!j.isBuffer(kt)&&(kt=function(kt){return j.from(kt)}(kt)),"function"==typeof wt&&(ut=wt,wt=null),pt?wt="buffer":wt||(wt=Ot.defaultEncoding),"function"!=typeof ut&&(ut=ht),Ot.ending?function(kt,wt){var ut=new Z;lt(kt,ut),process.nextTick(wt,ut)}(this,ut):(pt||function(kt,wt,ut,Ot){var bt;return null===ut?bt=new $:"string"!=typeof ut&&!wt.objectMode&&(bt=new F("chunk",["string","Buffer"],ut)),!bt||(lt(kt,bt),process.nextTick(Ot,bt),!1)}(this,Ot,kt,ut))&&(Ot.pendingcb++,bt=function(kt,wt,ut,Ot,bt,pt){if(!ut){var Dt=function(kt,wt,ut){return!kt.objectMode&&!1!==kt.decodeStrings&&"string"==typeof wt&&(wt=j.from(wt,ut)),wt}(wt,Ot,bt);Ot!==Dt&&(ut=!0,bt="buffer",Ot=Dt)}var Rt=wt.objectMode?1:Ot.length;wt.length+=Rt;var St=wt.length<wt.highWaterMark;if(St||(wt.needDrain=!0),wt.writing||wt.corked){var te=wt.lastBufferedRequest;wt.lastBufferedRequest={chunk:Ot,encoding:bt,isBuf:ut,callback:pt,next:null},te?te.next=wt.lastBufferedRequest:wt.bufferedRequest=wt.lastBufferedRequest,wt.bufferedRequestCount+=1}else g(kt,wt,!1,Rt,Ot,bt,pt);return St}(this,Ot,pt,kt,wt,ut)),bt},gt.prototype.cork=function(){this._writableState.corked++},gt.prototype.uncork=function(){var kt=this._writableState;kt.corked&&(kt.corked--,!kt.writing&&!kt.corked&&!kt.bufferProcessing&&kt.bufferedRequest&&C(this,kt))},gt.prototype.setDefaultEncoding=function(wt){if("string"==typeof wt&&(wt=wt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((wt+"").toLowerCase())>-1))throw new Q(wt);return this._writableState.defaultEncoding=wt,this},Object.defineProperty(gt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),gt.prototype._write=function(kt,wt,ut){ut(new O("_write()"))},gt.prototype._writev=null,gt.prototype.end=function(kt,wt,ut){var Ot=this._writableState;return"function"==typeof kt?(ut=kt,kt=null,wt=null):"function"==typeof wt&&(ut=wt,wt=null),null!=kt&&this.write(kt,wt),Ot.corked&&(Ot.corked=1,this.uncork()),Ot.ending||function(kt,wt,ut){wt.ending=!0,st(kt,wt),ut&&(wt.finished?process.nextTick(ut):kt.once("finish",ut)),wt.ended=!0,kt.writable=!1}(this,Ot,ut),this},Object.defineProperty(gt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(gt.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(wt){!this._writableState||(this._writableState.destroyed=wt)}}),gt.prototype.destroy=B.destroy,gt.prototype._undestroy=B.undestroy,gt.prototype._destroy=function(kt,wt){wt(kt)}},6924:(Yt,q,vt)=>{"use strict";var yt;function xt(R,$,Z){return $ in R?Object.defineProperty(R,$,{value:Z,enumerable:!0,configurable:!0,writable:!0}):R[$]=Z,R}var et=vt(616),it=Symbol("lastResolve"),M=Symbol("lastReject"),j=Symbol("error"),H=Symbol("ended"),X=Symbol("lastPromise"),z=Symbol("handlePromise"),B=Symbol("stream");function I(R,$){return{value:R,done:$}}function Y(R){var $=R[it];if(null!==$){var Z=R[B].read();null!==Z&&(R[X]=null,R[it]=null,R[M]=null,$(I(Z,!1)))}}function T(R){process.nextTick(Y,R)}var O=Object.getPrototypeOf(function(){}),V=Object.setPrototypeOf((xt(yt={get stream(){return this[B]},next:function(){var $=this,Z=this[j];if(null!==Z)return Promise.reject(Z);if(this[H])return Promise.resolve(I(void 0,!0));if(this[B].destroyed)return new Promise(function(mt,dt){process.nextTick(function(){$[j]?dt($[j]):mt(I(void 0,!0))})});var lt,Q=this[X];if(Q)lt=new Promise(function(R,$){return function(Z,Q){R.then(function(){$[H]?Z(I(void 0,!0)):$[z](Z,Q)},Q)}}(Q,this));else{var ht=this[B].read();if(null!==ht)return Promise.resolve(I(ht,!1));lt=new Promise(this[z])}return this[X]=lt,lt}},Symbol.asyncIterator,function(){return this}),xt(yt,"return",function(){var $=this;return new Promise(function(Z,Q){$[B].destroy(null,function(lt){lt?Q(lt):Z(I(void 0,!0))})})}),yt),O);Yt.exports=function($){var Z,Q=Object.create(V,(xt(Z={},B,{value:$,writable:!0}),xt(Z,it,{value:null,writable:!0}),xt(Z,M,{value:null,writable:!0}),xt(Z,j,{value:null,writable:!0}),xt(Z,H,{value:$._readableState.endEmitted,writable:!0}),xt(Z,z,{value:function(ht,mt){var dt=Q[B].read();dt?(Q[X]=null,Q[it]=null,Q[M]=null,ht(I(dt,!1))):(Q[it]=ht,Q[M]=mt)},writable:!0}),Z));return Q[X]=null,et($,function(lt){if(lt&&"ERR_STREAM_PREMATURE_CLOSE"!==lt.code){var ht=Q[M];return null!==ht&&(Q[X]=null,Q[it]=null,Q[M]=null,ht(lt)),void(Q[j]=lt)}var mt=Q[it];null!==mt&&(Q[X]=null,Q[it]=null,Q[M]=null,mt(I(void 0,!0))),Q[H]=!0}),$.on("readable",T.bind(null,Q)),Q}},7081:(Yt,q,vt)=>{"use strict";function yt(T,F){var O=Object.keys(T);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(T);F&&(V=V.filter(function(G){return Object.getOwnPropertyDescriptor(T,G).enumerable})),O.push.apply(O,V)}return O}function et(T,F,O){return F in T?Object.defineProperty(T,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):T[F]=O,T}function M(T,F){for(var O=0;O<F.length;O++){var V=F[O];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,V.key,V)}}var X=vt(3847).Buffer,B=vt(2361).inspect,I=B&&B.custom||"inspect";function Y(T,F,O){X.prototype.copy.call(T,F,O)}Yt.exports=function(){function T(){(function(T,F){if(!(T instanceof F))throw new TypeError("Cannot call a class as a function")})(this,T),this.head=null,this.tail=null,this.length=0}return function(T,F,O){F&&M(T.prototype,F)}(T,[{key:"push",value:function(O){var V={data:O,next:null};this.length>0?this.tail.next=V:this.head=V,this.tail=V,++this.length}},{key:"unshift",value:function(O){var V={data:O,next:this.head};0===this.length&&(this.tail=V),this.head=V,++this.length}},{key:"shift",value:function(){if(0!==this.length){var O=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,O}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(O){if(0===this.length)return"";for(var V=this.head,G=""+V.data;V=V.next;)G+=O+V.data;return G}},{key:"concat",value:function(O){if(0===this.length)return X.alloc(0);for(var V=X.allocUnsafe(O>>>0),G=this.head,R=0;G;)Y(G.data,V,R),R+=G.data.length,G=G.next;return V}},{key:"consume",value:function(O,V){var G;return O<this.head.data.length?(G=this.head.data.slice(0,O),this.head.data=this.head.data.slice(O)):G=O===this.head.data.length?this.shift():V?this._getString(O):this._getBuffer(O),G}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(O){var V=this.head,G=1,R=V.data;for(O-=R.length;V=V.next;){var $=V.data,Z=O>$.length?$.length:O;if(R+=Z===$.length?$:$.slice(0,O),0==(O-=Z)){Z===$.length?(++G,this.head=V.next?V.next:this.tail=null):(this.head=V,V.data=$.slice(Z));break}++G}return this.length-=G,R}},{key:"_getBuffer",value:function(O){var V=X.allocUnsafe(O),G=this.head,R=1;for(G.data.copy(V),O-=G.data.length;G=G.next;){var $=G.data,Z=O>$.length?$.length:O;if($.copy(V,V.length-O,0,Z),0==(O-=Z)){Z===$.length?(++R,this.head=G.next?G.next:this.tail=null):(this.head=G,G.data=$.slice(Z));break}++R}return this.length-=R,V}},{key:I,value:function(O,V){return B(this,function(T){for(var F=1;F<arguments.length;F++){var O=null!=arguments[F]?arguments[F]:{};F%2?yt(Object(O),!0).forEach(function(V){et(T,V,O[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):yt(Object(O)).forEach(function(V){Object.defineProperty(T,V,Object.getOwnPropertyDescriptor(O,V))})}return T}({},V,{depth:0,customInspect:!1}))}}]),T}()},9405:Yt=>{"use strict";function vt(M,j){et(M,j),yt(M)}function yt(M){M._writableState&&!M._writableState.emitClose||M._readableState&&!M._readableState.emitClose||M.emit("close")}function et(M,j){M.emit("error",j)}Yt.exports={destroy:function(M,j){var H=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(j?j(M):M&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(et,this,M)):process.nextTick(et,this,M)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(B){!j&&B?H._writableState?H._writableState.errorEmitted?process.nextTick(yt,H):(H._writableState.errorEmitted=!0,process.nextTick(vt,H,B)):process.nextTick(vt,H,B):j?(process.nextTick(yt,H),j(B)):process.nextTick(yt,H)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(M,j){var H=M._readableState,X=M._writableState;H&&H.autoDestroy||X&&X.autoDestroy?M.destroy(j):M.emit("error",j)}}},616:(Yt,q,vt)=>{"use strict";var yt=vt(4621).q.ERR_STREAM_PREMATURE_CLOSE;function et(){}Yt.exports=function M(j,H,X){if("function"==typeof H)return M(j,null,H);H||(H={}),X=function(j){var H=!1;return function(){if(!H){H=!0;for(var X=arguments.length,z=new Array(X),B=0;B<X;B++)z[B]=arguments[B];j.apply(this,z)}}}(X||et);var z=H.readable||!1!==H.readable&&j.readable,B=H.writable||!1!==H.writable&&j.writable,I=function(){j.writable||T()},Y=j._writableState&&j._writableState.finished,T=function(){B=!1,Y=!0,z||X.call(j)},F=j._readableState&&j._readableState.endEmitted,O=function(){z=!1,F=!0,B||X.call(j)},V=function(Z){X.call(j,Z)},G=function(){var Z;return z&&!F?((!j._readableState||!j._readableState.ended)&&(Z=new yt),X.call(j,Z)):B&&!Y?((!j._writableState||!j._writableState.ended)&&(Z=new yt),X.call(j,Z)):void 0},R=function(){j.req.on("finish",T)};return function(j){return j.setHeader&&"function"==typeof j.abort}(j)?(j.on("complete",T),j.on("abort",G),j.req?R():j.on("request",R)):B&&!j._writableState&&(j.on("end",I),j.on("close",I)),j.on("end",O),j.on("finish",T),!1!==H.error&&j.on("error",V),j.on("close",G),function(){j.removeListener("complete",T),j.removeListener("abort",G),j.removeListener("request",R),j.req&&j.req.removeListener("finish",T),j.removeListener("end",I),j.removeListener("close",I),j.removeListener("finish",T),j.removeListener("end",O),j.removeListener("error",V),j.removeListener("close",G)}}},9742:Yt=>{Yt.exports=function(){throw new Error("Readable.from is not available in the browser")}},2580:(Yt,q,vt)=>{"use strict";var yt,et=vt(4621).q,it=et.ERR_MISSING_ARGS,M=et.ERR_STREAM_DESTROYED;function j(T){if(T)throw T}function X(T,F,O,V){V=function(T){var F=!1;return function(){F||(F=!0,T.apply(void 0,arguments))}}(V);var G=!1;T.on("close",function(){G=!0}),void 0===yt&&(yt=vt(616)),yt(T,{readable:F,writable:O},function($){if($)return V($);G=!0,V()});var R=!1;return function($){if(!G&&!R){if(R=!0,function(T){return T.setHeader&&"function"==typeof T.abort}(T))return T.abort();if("function"==typeof T.destroy)return T.destroy();V($||new M("pipe"))}}}function z(T){T()}function B(T,F){return T.pipe(F)}function I(T){return T.length&&"function"==typeof T[T.length-1]?T.pop():j}Yt.exports=function(){for(var T=arguments.length,F=new Array(T),O=0;O<T;O++)F[O]=arguments[O];var V=I(F);if(Array.isArray(F[0])&&(F=F[0]),F.length<2)throw new it("streams");var G,R=F.map(function($,Z){var Q=Z<F.length-1;return X($,Q,Z>0,function(ht){G||(G=ht),ht&&R.forEach(z),!Q&&(R.forEach(z),V(G))})});return F.reduce(B)}},7411:(Yt,q,vt)=>{"use strict";var yt=vt(4621).q.ERR_INVALID_OPT_VALUE;Yt.exports={getHighWaterMark:function(it,M,j,H){var X=function(it,M,j){return null!=it.highWaterMark?it.highWaterMark:M?it[j]:null}(M,H,j);if(null!=X){if(!isFinite(X)||Math.floor(X)!==X||X<0)throw new yt(H?j:"highWaterMark",X);return Math.floor(X)}return it.objectMode?16:16384}}},3183:(Yt,q,vt)=>{Yt.exports=vt(7703).EventEmitter},8792:(Yt,q,vt)=>{(q=Yt.exports=vt(7619)).Stream=q,q.Readable=q,q.Writable=vt(8956),q.Duplex=vt(9617),q.Transform=vt(8329),q.PassThrough=vt(1833),q.finished=vt(616),q.pipeline=vt(2580)},7447:(Yt,q,vt)=>{"use strict";var yt=vt(3847).Buffer,xt=vt(3516),et=vt(740),it=new Array(16),M=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],j=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],H=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],X=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],z=[0,1518500249,1859775393,2400959708,2840853838],B=[1352829926,1548603684,1836072691,2053994217,0];function I(){et.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function Y(R,$){return R<<$|R>>>32-$}function T(R,$,Z,Q,lt,ht,mt,dt){return Y(R+($^Z^Q)+ht+mt|0,dt)+lt|0}function F(R,$,Z,Q,lt,ht,mt,dt){return Y(R+($&Z|~$&Q)+ht+mt|0,dt)+lt|0}function O(R,$,Z,Q,lt,ht,mt,dt){return Y(R+(($|~Z)^Q)+ht+mt|0,dt)+lt|0}function V(R,$,Z,Q,lt,ht,mt,dt){return Y(R+($&Q|Z&~Q)+ht+mt|0,dt)+lt|0}function G(R,$,Z,Q,lt,ht,mt,dt){return Y(R+($^(Z|~Q))+ht+mt|0,dt)+lt|0}xt(I,et),I.prototype._update=function(){for(var R=it,$=0;$<16;++$)R[$]=this._block.readInt32LE(4*$);for(var Z=0|this._a,Q=0|this._b,lt=0|this._c,ht=0|this._d,mt=0|this._e,dt=0|this._a,gt=0|this._b,k=0|this._c,u=0|this._d,p=0|this._e,v=0;v<80;v+=1){var g,w;v<16?(g=T(Z,Q,lt,ht,mt,R[M[v]],z[0],H[v]),w=G(dt,gt,k,u,p,R[j[v]],B[0],X[v])):v<32?(g=F(Z,Q,lt,ht,mt,R[M[v]],z[1],H[v]),w=V(dt,gt,k,u,p,R[j[v]],B[1],X[v])):v<48?(g=O(Z,Q,lt,ht,mt,R[M[v]],z[2],H[v]),w=O(dt,gt,k,u,p,R[j[v]],B[2],X[v])):v<64?(g=V(Z,Q,lt,ht,mt,R[M[v]],z[3],H[v]),w=F(dt,gt,k,u,p,R[j[v]],B[3],X[v])):(g=G(Z,Q,lt,ht,mt,R[M[v]],z[4],H[v]),w=T(dt,gt,k,u,p,R[j[v]],B[4],X[v])),Z=mt,mt=ht,ht=Y(lt,10),lt=Q,Q=g,dt=p,p=u,u=Y(k,10),k=gt,gt=w}var b=this._b+lt+u|0;this._b=this._c+ht+p|0,this._c=this._d+mt+dt|0,this._d=this._e+Z+gt|0,this._e=this._a+Q+k|0,this._a=b},I.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=yt.alloc?yt.alloc(20):new yt(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R},Yt.exports=I},4615:(Yt,q,vt)=>{var yt=vt(3847),xt=yt.Buffer;function et(M,j){for(var H in M)j[H]=M[H]}function it(M,j,H){return xt(M,j,H)}xt.from&&xt.alloc&&xt.allocUnsafe&&xt.allocUnsafeSlow?Yt.exports=yt:(et(yt,q),q.Buffer=it),et(xt,it),it.from=function(M,j,H){if("number"==typeof M)throw new TypeError("Argument must not be a number");return xt(M,j,H)},it.alloc=function(M,j,H){if("number"!=typeof M)throw new TypeError("Argument must be a number");var X=xt(M);return void 0!==j?"string"==typeof H?X.fill(j,H):X.fill(j):X.fill(0),X},it.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return xt(M)},it.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return yt.SlowBuffer(M)}},7356:(Yt,q,vt)=>{"use strict";var it,yt=vt(3847),xt=yt.Buffer,et={};for(it in yt)!yt.hasOwnProperty(it)||"SlowBuffer"===it||"Buffer"===it||(et[it]=yt[it]);var M=et.Buffer={};for(it in xt)!xt.hasOwnProperty(it)||"allocUnsafe"===it||"allocUnsafeSlow"===it||(M[it]=xt[it]);if(et.Buffer.prototype=xt.prototype,(!M.from||M.from===Uint8Array.from)&&(M.from=function(j,H,X){if("number"==typeof j)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof j);if(j&&void 0===j.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);return xt(j,H,X)}),M.alloc||(M.alloc=function(j,H,X){if("number"!=typeof j)throw new TypeError('The "size" argument must be of type number. Received type '+typeof j);if(j<0||j>=2*(1<<30))throw new RangeError('The value "'+j+'" is invalid for option "size"');var z=xt(j);return H&&0!==H.length?"string"==typeof X?z.fill(H,X):z.fill(H):z.fill(0),z}),!et.kStringMaxLength)try{et.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(j){}et.constants||(et.constants={MAX_LENGTH:et.kMaxLength},et.kStringMaxLength&&(et.constants.MAX_STRING_LENGTH=et.kStringMaxLength)),Yt.exports=et},1587:(Yt,q,vt)=>{var yt=vt(4615).Buffer;function xt(et,it){this._block=yt.alloc(et),this._finalSize=it,this._blockSize=et,this._len=0}xt.prototype.update=function(et,it){"string"==typeof et&&(et=yt.from(et,it=it||"utf8"));for(var M=this._block,j=this._blockSize,H=et.length,X=this._len,z=0;z<H;){for(var B=X%j,I=Math.min(H-z,j-B),Y=0;Y<I;Y++)M[B+Y]=et[z+Y];z+=I,(X+=I)%j==0&&this._update(M)}return this._len+=H,this},xt.prototype.digest=function(et){var it=this._len%this._blockSize;this._block[it]=128,this._block.fill(0,it+1),it>=this._finalSize&&(this._update(this._block),this._block.fill(0));var M=8*this._len;if(M<=4294967295)this._block.writeUInt32BE(M,this._blockSize-4);else{var j=(4294967295&M)>>>0;this._block.writeUInt32BE((M-j)/4294967296,this._blockSize-8),this._block.writeUInt32BE(j,this._blockSize-4)}this._update(this._block);var X=this._hash();return et?X.toString(et):X},xt.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Yt.exports=xt},6010:(Yt,q,vt)=>{var yt=Yt.exports=function(et){et=et.toLowerCase();var it=yt[et];if(!it)throw new Error(et+" is not supported (we accept pull requests)");return new it};yt.sha=vt(8924),yt.sha1=vt(1278),yt.sha224=vt(4607),yt.sha256=vt(8107),yt.sha384=vt(3640),yt.sha512=vt(5455)},8924:(Yt,q,vt)=>{var yt=vt(3516),xt=vt(1587),et=vt(4615).Buffer,it=[1518500249,1859775393,-1894007588,-899497514],M=new Array(80);function j(){this.init(),this._w=M,xt.call(this,64,56)}function H(B){return B<<5|B>>>27}function X(B){return B<<30|B>>>2}function z(B,I,Y,T){return 0===B?I&Y|~I&T:2===B?I&Y|I&T|Y&T:I^Y^T}yt(j,xt),j.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},j.prototype._update=function(B){for(var I=this._w,Y=0|this._a,T=0|this._b,F=0|this._c,O=0|this._d,V=0|this._e,G=0;G<16;++G)I[G]=B.readInt32BE(4*G);for(;G<80;++G)I[G]=I[G-3]^I[G-8]^I[G-14]^I[G-16];for(var R=0;R<80;++R){var $=~~(R/20),Z=H(Y)+z($,T,F,O)+V+I[R]+it[$]|0;V=O,O=F,F=X(T),T=Y,Y=Z}this._a=Y+this._a|0,this._b=T+this._b|0,this._c=F+this._c|0,this._d=O+this._d|0,this._e=V+this._e|0},j.prototype._hash=function(){var B=et.allocUnsafe(20);return B.writeInt32BE(0|this._a,0),B.writeInt32BE(0|this._b,4),B.writeInt32BE(0|this._c,8),B.writeInt32BE(0|this._d,12),B.writeInt32BE(0|this._e,16),B},Yt.exports=j},1278:(Yt,q,vt)=>{var yt=vt(3516),xt=vt(1587),et=vt(4615).Buffer,it=[1518500249,1859775393,-1894007588,-899497514],M=new Array(80);function j(){this.init(),this._w=M,xt.call(this,64,56)}function H(I){return I<<1|I>>>31}function X(I){return I<<5|I>>>27}function z(I){return I<<30|I>>>2}function B(I,Y,T,F){return 0===I?Y&T|~Y&F:2===I?Y&T|Y&F|T&F:Y^T^F}yt(j,xt),j.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},j.prototype._update=function(I){for(var Y=this._w,T=0|this._a,F=0|this._b,O=0|this._c,V=0|this._d,G=0|this._e,R=0;R<16;++R)Y[R]=I.readInt32BE(4*R);for(;R<80;++R)Y[R]=H(Y[R-3]^Y[R-8]^Y[R-14]^Y[R-16]);for(var $=0;$<80;++$){var Z=~~($/20),Q=X(T)+B(Z,F,O,V)+G+Y[$]+it[Z]|0;G=V,V=O,O=z(F),F=T,T=Q}this._a=T+this._a|0,this._b=F+this._b|0,this._c=O+this._c|0,this._d=V+this._d|0,this._e=G+this._e|0},j.prototype._hash=function(){var I=et.allocUnsafe(20);return I.writeInt32BE(0|this._a,0),I.writeInt32BE(0|this._b,4),I.writeInt32BE(0|this._c,8),I.writeInt32BE(0|this._d,12),I.writeInt32BE(0|this._e,16),I},Yt.exports=j},4607:(Yt,q,vt)=>{var yt=vt(3516),xt=vt(8107),et=vt(1587),it=vt(4615).Buffer,M=new Array(64);function j(){this.init(),this._w=M,et.call(this,64,56)}yt(j,xt),j.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},j.prototype._hash=function(){var H=it.allocUnsafe(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},Yt.exports=j},8107:(Yt,q,vt)=>{var yt=vt(3516),xt=vt(1587),et=vt(4615).Buffer,it=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],M=new Array(64);function j(){this.init(),this._w=M,xt.call(this,64,56)}function H(T,F,O){return O^T&(F^O)}function X(T,F,O){return T&F|O&(T|F)}function z(T){return(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10)}function B(T){return(T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7)}function I(T){return(T>>>7|T<<25)^(T>>>18|T<<14)^T>>>3}function Y(T){return(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10}yt(j,xt),j.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},j.prototype._update=function(T){for(var F=this._w,O=0|this._a,V=0|this._b,G=0|this._c,R=0|this._d,$=0|this._e,Z=0|this._f,Q=0|this._g,lt=0|this._h,ht=0;ht<16;++ht)F[ht]=T.readInt32BE(4*ht);for(;ht<64;++ht)F[ht]=Y(F[ht-2])+F[ht-7]+I(F[ht-15])+F[ht-16]|0;for(var mt=0;mt<64;++mt){var dt=lt+B($)+H($,Z,Q)+it[mt]+F[mt]|0,gt=z(O)+X(O,V,G)|0;lt=Q,Q=Z,Z=$,$=R+dt|0,R=G,G=V,V=O,O=dt+gt|0}this._a=O+this._a|0,this._b=V+this._b|0,this._c=G+this._c|0,this._d=R+this._d|0,this._e=$+this._e|0,this._f=Z+this._f|0,this._g=Q+this._g|0,this._h=lt+this._h|0},j.prototype._hash=function(){var T=et.allocUnsafe(32);return T.writeInt32BE(this._a,0),T.writeInt32BE(this._b,4),T.writeInt32BE(this._c,8),T.writeInt32BE(this._d,12),T.writeInt32BE(this._e,16),T.writeInt32BE(this._f,20),T.writeInt32BE(this._g,24),T.writeInt32BE(this._h,28),T},Yt.exports=j},3640:(Yt,q,vt)=>{var yt=vt(3516),xt=vt(5455),et=vt(1587),it=vt(4615).Buffer,M=new Array(160);function j(){this.init(),this._w=M,et.call(this,128,112)}yt(j,xt),j.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},j.prototype._hash=function(){var H=it.allocUnsafe(48);function X(z,B,I){H.writeInt32BE(z,I),H.writeInt32BE(B,I+4)}return X(this._ah,this._al,0),X(this._bh,this._bl,8),X(this._ch,this._cl,16),X(this._dh,this._dl,24),X(this._eh,this._el,32),X(this._fh,this._fl,40),H},Yt.exports=j},5455:(Yt,q,vt)=>{var yt=vt(3516),xt=vt(1587),et=vt(4615).Buffer,it=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],M=new Array(160);function j(){this.init(),this._w=M,xt.call(this,128,112)}function H(V,G,R){return R^V&(G^R)}function X(V,G,R){return V&G|R&(V|G)}function z(V,G){return(V>>>28|G<<4)^(G>>>2|V<<30)^(G>>>7|V<<25)}function B(V,G){return(V>>>14|G<<18)^(V>>>18|G<<14)^(G>>>9|V<<23)}function I(V,G){return(V>>>1|G<<31)^(V>>>8|G<<24)^V>>>7}function Y(V,G){return(V>>>1|G<<31)^(V>>>8|G<<24)^(V>>>7|G<<25)}function T(V,G){return(V>>>19|G<<13)^(G>>>29|V<<3)^V>>>6}function F(V,G){return(V>>>19|G<<13)^(G>>>29|V<<3)^(V>>>6|G<<26)}function O(V,G){return V>>>0<G>>>0?1:0}yt(j,xt),j.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},j.prototype._update=function(V){for(var G=this._w,R=0|this._ah,$=0|this._bh,Z=0|this._ch,Q=0|this._dh,lt=0|this._eh,ht=0|this._fh,mt=0|this._gh,dt=0|this._hh,gt=0|this._al,k=0|this._bl,u=0|this._cl,p=0|this._dl,v=0|this._el,g=0|this._fl,w=0|this._gl,b=0|this._hl,D=0;D<32;D+=2)G[D]=V.readInt32BE(4*D),G[D+1]=V.readInt32BE(4*D+4);for(;D<160;D+=2){var _=G[D-30],f=G[D-30+1],C=I(_,f),K=Y(f,_),U=T(_=G[D-4],f=G[D-4+1]),W=F(f,_),Ct=G[D-32],kt=G[D-32+1],wt=K+G[D-14+1]|0,ut=C+G[D-14]+O(wt,K)|0;ut=(ut=ut+U+O(wt=wt+W|0,W)|0)+Ct+O(wt=wt+kt|0,kt)|0,G[D]=ut,G[D+1]=wt}for(var Ot=0;Ot<160;Ot+=2){ut=G[Ot],wt=G[Ot+1];var bt=X(R,$,Z),pt=X(gt,k,u),Dt=z(R,gt),Rt=z(gt,R),St=B(lt,v),te=B(v,lt),At=it[Ot],Kt=it[Ot+1],Oe=H(lt,ht,mt),Jt=H(v,g,w),$t=b+te|0,he=dt+St+O($t,b)|0;he=(he=(he=he+Oe+O($t=$t+Jt|0,Jt)|0)+At+O($t=$t+Kt|0,Kt)|0)+ut+O($t=$t+wt|0,wt)|0;var Tt=Rt+pt|0,Bt=Dt+bt+O(Tt,Rt)|0;dt=mt,b=w,mt=ht,w=g,ht=lt,g=v,lt=Q+he+O(v=p+$t|0,p)|0,Q=Z,p=u,Z=$,u=k,$=R,k=gt,R=he+Bt+O(gt=$t+Tt|0,$t)|0}this._al=this._al+gt|0,this._bl=this._bl+k|0,this._cl=this._cl+u|0,this._dl=this._dl+p|0,this._el=this._el+v|0,this._fl=this._fl+g|0,this._gl=this._gl+w|0,this._hl=this._hl+b|0,this._ah=this._ah+R+O(this._al,gt)|0,this._bh=this._bh+$+O(this._bl,k)|0,this._ch=this._ch+Z+O(this._cl,u)|0,this._dh=this._dh+Q+O(this._dl,p)|0,this._eh=this._eh+lt+O(this._el,v)|0,this._fh=this._fh+ht+O(this._fl,g)|0,this._gh=this._gh+mt+O(this._gl,w)|0,this._hh=this._hh+dt+O(this._hl,b)|0},j.prototype._hash=function(){var V=et.allocUnsafe(64);function G(R,$,Z){V.writeInt32BE(R,Z),V.writeInt32BE($,Z+4)}return G(this._ah,this._al,0),G(this._bh,this._bl,8),G(this._ch,this._cl,16),G(this._dh,this._dl,24),G(this._eh,this._el,32),G(this._fh,this._fl,40),G(this._gh,this._gl,48),G(this._hh,this._hl,56),V},Yt.exports=j},5089:(Yt,q,vt)=>{Yt.exports=et;var yt=vt(7703).EventEmitter;function et(){yt.call(this)}vt(3516)(et,yt),et.Readable=vt(7619),et.Writable=vt(8956),et.Duplex=vt(9617),et.Transform=vt(8329),et.PassThrough=vt(1833),et.finished=vt(616),et.pipeline=vt(2580),et.Stream=et,et.prototype.pipe=function(it,M){var j=this;function H(F){it.writable&&!1===it.write(F)&&j.pause&&j.pause()}function X(){j.readable&&j.resume&&j.resume()}j.on("data",H),it.on("drain",X),!it._isStdio&&(!M||!1!==M.end)&&(j.on("end",B),j.on("close",I));var z=!1;function B(){z||(z=!0,it.end())}function I(){z||(z=!0,"function"==typeof it.destroy&&it.destroy())}function Y(F){if(T(),0===yt.listenerCount(this,"error"))throw F}function T(){j.removeListener("data",H),it.removeListener("drain",X),j.removeListener("end",B),j.removeListener("close",I),j.removeListener("error",Y),it.removeListener("error",Y),j.removeListener("end",T),j.removeListener("close",T),it.removeListener("close",T)}return j.on("error",Y),it.on("error",Y),j.on("end",T),j.on("close",T),it.on("close",T),it.emit("pipe",j),it}},3033:(Yt,q,vt)=>{"use strict";var yt=vt(1381).Buffer,xt=yt.isEncoding||function(R){switch((R=""+R)&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function M(R){var $;switch(this.encoding=function(R){var $=function(R){if(!R)return"utf8";for(var $;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if($)return;R=(""+R).toLowerCase(),$=!0}}(R);if("string"!=typeof $&&(yt.isEncoding===xt||!xt(R)))throw new Error("Unknown encoding: "+R);return $||R}(R),this.encoding){case"utf16le":this.text=Y,this.end=T,$=4;break;case"utf8":this.fillLast=z,$=4;break;case"base64":this.text=F,this.end=O,$=3;break;default:return this.write=V,void(this.end=G)}this.lastNeed=0,this.lastTotal=0,this.lastChar=yt.allocUnsafe($)}function j(R){return R<=127?0:R>>5==6?2:R>>4==14?3:R>>3==30?4:R>>6==2?-1:-2}function z(R){var $=this.lastTotal-this.lastNeed,Z=function(R,$,Z){if(128!=(192&$[0]))return R.lastNeed=0,"\ufffd";if(R.lastNeed>1&&$.length>1){if(128!=(192&$[1]))return R.lastNeed=1,"\ufffd";if(R.lastNeed>2&&$.length>2&&128!=(192&$[2]))return R.lastNeed=2,"\ufffd"}}(this,R);return void 0!==Z?Z:this.lastNeed<=R.length?(R.copy(this.lastChar,$,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(R.copy(this.lastChar,$,0,R.length),void(this.lastNeed-=R.length))}function Y(R,$){if((R.length-$)%2==0){var Z=R.toString("utf16le",$);if(Z){var Q=Z.charCodeAt(Z.length-1);if(Q>=55296&&Q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],Z.slice(0,-1)}return Z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",$,R.length-1)}function T(R){var $=R&&R.length?this.write(R):"";return this.lastNeed?$+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):$}function F(R,$){var Z=(R.length-$)%3;return 0===Z?R.toString("base64",$):(this.lastNeed=3-Z,this.lastTotal=3,1===Z?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",$,R.length-Z))}function O(R){var $=R&&R.length?this.write(R):"";return this.lastNeed?$+this.lastChar.toString("base64",0,3-this.lastNeed):$}function V(R){return R.toString(this.encoding)}function G(R){return R&&R.length?this.write(R):""}q.s=M,M.prototype.write=function(R){if(0===R.length)return"";var $,Z;if(this.lastNeed){if(void 0===($=this.fillLast(R)))return"";Z=this.lastNeed,this.lastNeed=0}else Z=0;return Z<R.length?$?$+this.text(R,Z):this.text(R,Z):$||""},M.prototype.end=function(R){var $=R&&R.length?this.write(R):"";return this.lastNeed?$+"\ufffd":$},M.prototype.text=function(R,$){var Z=function(R,$,Z){var Q=$.length-1;if(Q<Z)return 0;var lt=j($[Q]);return lt>=0?(lt>0&&(R.lastNeed=lt-1),lt):--Q<Z||-2===lt?0:(lt=j($[Q]))>=0?(lt>0&&(R.lastNeed=lt-2),lt):--Q<Z||-2===lt?0:(lt=j($[Q]))>=0?(lt>0&&(2===lt?lt=0:R.lastNeed=lt-3),lt):0}(this,R,$);if(!this.lastNeed)return R.toString("utf8",$);this.lastTotal=Z;var Q=R.length-(Z-this.lastNeed);return R.copy(this.lastChar,0,Q),R.toString("utf8",$,Q)},M.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length}},1381:(Yt,q,vt)=>{var yt=vt(3847),xt=yt.Buffer;function et(M,j){for(var H in M)j[H]=M[H]}function it(M,j,H){return xt(M,j,H)}xt.from&&xt.alloc&&xt.allocUnsafe&&xt.allocUnsafeSlow?Yt.exports=yt:(et(yt,q),q.Buffer=it),it.prototype=Object.create(xt.prototype),et(xt,it),it.from=function(M,j,H){if("number"==typeof M)throw new TypeError("Argument must not be a number");return xt(M,j,H)},it.alloc=function(M,j,H){if("number"!=typeof M)throw new TypeError("Argument must be a number");var X=xt(M);return void 0!==j?"string"==typeof H?X.fill(j,H):X.fill(j):X.fill(0),X},it.allocUnsafe=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return xt(M)},it.allocUnsafeSlow=function(M){if("number"!=typeof M)throw new TypeError("Argument must be a number");return yt.SlowBuffer(M)}},5832:Yt=>{function vt(yt){try{if(!global.localStorage)return!1}catch(et){return!1}var xt=global.localStorage[yt];return null!=xt&&"true"===String(xt).toLowerCase()}Yt.exports=function(yt,xt){if(vt("noDeprecation"))return yt;var et=!1;return function(){if(!et){if(vt("throwDeprecation"))throw new Error(xt);vt("traceDeprecation")?console.trace(xt):console.warn(xt),et=!0}return yt.apply(this,arguments)}}},6058:(Yt,q,vt)=>{"use strict";function yt(r){return"function"==typeof r}function xt(r){const i=r(s=>{Error.call(s),s.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const et=xt(r=>function(i){r(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((s,l)=>`${l+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function it(r,n){if(r){const i=r.indexOf(n);0<=i&&r.splice(i,1)}}class M{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const d of i)d.remove(this);else i.remove(this);const{initialTeardown:s}=this;if(yt(s))try{s()}catch(d){n=d instanceof et?d.errors:[d]}const{_teardowns:l}=this;if(l){this._teardowns=null;for(const d of l)try{X(d)}catch(y){n=null!=n?n:[],y instanceof et?n=[...n,...y.errors]:n.push(y)}}if(n)throw new et(n)}}add(n){var i;if(n&&n!==this)if(this.closed)X(n);else{if(n instanceof M){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(i=this._teardowns)&&void 0!==i?i:[]).push(n)}}_hasParent(n){const{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){const{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&it(i,n)}remove(n){const{_teardowns:i}=this;i&&it(i,n),n instanceof M&&n._removeParent(this)}}M.EMPTY=(()=>{const r=new M;return r.closed=!0,r})();const j=M.EMPTY;function H(r){return r instanceof M||r&&"closed"in r&&yt(r.remove)&&yt(r.add)&&yt(r.unsubscribe)}function X(r){yt(r)?r():r.unsubscribe()}const z={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},B={setTimeout(...r){const{delegate:n}=B;return((null==n?void 0:n.setTimeout)||setTimeout)(...r)},clearTimeout(r){const{delegate:n}=B;return((null==n?void 0:n.clearTimeout)||clearTimeout)(r)},delegate:void 0};function I(r){B.setTimeout(()=>{const{onUnhandledError:n}=z;if(!n)throw r;n(r)})}function Y(){}const T=V("C",void 0,void 0);function V(r,n,i){return{kind:r,value:n,error:i}}let G=null;function R(r){if(z.useDeprecatedSynchronousErrorHandling){const n=!G;if(n&&(G={errorThrown:!1,error:null}),r(),n){const{errorThrown:i,error:s}=G;if(G=null,i)throw s}}else r()}class Z extends M{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,H(n)&&n.add(this)):this.destination=dt}static create(n,i,s){return new Q(n,i,s)}next(n){this.isStopped?mt(V("N",n,void 0),this):this._next(n)}error(n){this.isStopped?mt(V("E",void 0,n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?mt(T,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Q extends Z{constructor(n,i,s){let l;if(super(),yt(n))l=n;else if(n){let d;({next:l,error:i,complete:s}=n),this&&z.useDeprecatedNextContext?(d=Object.create(n),d.unsubscribe=()=>this.unsubscribe()):d=n,l=null==l?void 0:l.bind(d),i=null==i?void 0:i.bind(d),s=null==s?void 0:s.bind(d)}this.destination={next:l?lt(l):Y,error:lt(null!=i?i:ht),complete:s?lt(s):Y}}}function lt(r,n){return(...i)=>{try{r(...i)}catch(s){z.useDeprecatedSynchronousErrorHandling?function(r){z.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=r)}(s):I(s)}}}function ht(r){throw r}function mt(r,n){const{onStoppedNotification:i}=z;i&&B.setTimeout(()=>i(r,n))}const dt={closed:!0,next:Y,error:ht,complete:Y},gt="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(r){return r}let v=(()=>{class r{constructor(i){i&&(this._subscribe=i)}lift(i){const s=new r;return s.source=this,s.operator=i,s}subscribe(i,s,l){const d=function(r){return r&&r instanceof Z||function(r){return r&&yt(r.next)&&yt(r.error)&&yt(r.complete)}(r)&&H(r)}(i)?i:new Q(i,s,l);return R(()=>{const{operator:y,source:A}=this;d.add(y?y.call(d,A):A?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(i){try{return this._subscribe(i)}catch(s){i.error(s)}}forEach(i,s){return new(s=g(s))((l,d)=>{let y;y=this.subscribe(A=>{try{i(A)}catch(L){d(L),null==y||y.unsubscribe()}},d,l)})}_subscribe(i){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(i)}[gt](){return this}pipe(...i){return function(r){return 0===r.length?k:1===r.length?r[0]:function(i){return r.reduce((s,l)=>l(s),i)}}(i)(this)}toPromise(i){return new(i=g(i))((s,l)=>{let d;this.subscribe(y=>d=y,y=>l(y),()=>s(d))})}}return r.create=n=>new r(n),r})();function g(r){var n;return null!==(n=null!=r?r:z.Promise)&&void 0!==n?n:Promise}const D=xt(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _=(()=>{class r extends v{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const s=new f(this,this);return s.operator=i,s}_throwIfClosed(){if(this.closed)throw new D}next(i){R(()=>{if(this._throwIfClosed(),!this.isStopped){const s=this.observers.slice();for(const l of s)l.next(i)}})}error(i){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:s}=this;for(;s.length;)s.shift().error(i)}})}complete(){R(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:s,isStopped:l,observers:d}=this;return s||l?j:(d.push(i),new M(()=>it(d,i)))}_checkFinalizedStatuses(i){const{hasError:s,thrownError:l,isStopped:d}=this;s?i.error(l):d&&i.complete()}asObservable(){const i=new v;return i.source=this,i}}return r.create=(n,i)=>new f(n,i),r})();class f extends _{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===s||s.call(i,n)}error(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===s||s.call(i,n)}complete(){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===i||i.call(n)}_subscribe(n){var i,s;return null!==(s=null===(i=this.source)||void 0===i?void 0:i.subscribe(n))&&void 0!==s?s:j}}function C(r){return yt(null==r?void 0:r.lift)}function K(r){return n=>{if(C(n))return n.lift(function(i){try{return r(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}class U extends Z{constructor(n,i,s,l,d){super(n),this.onFinalize=d,this._next=i?function(y){try{i(y)}catch(A){n.error(A)}}:super._next,this._error=l?function(y){try{l(y)}catch(A){n.error(A)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(y){n.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:i}=this;super.unsubscribe(),!i&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function W(r,n){return K((i,s)=>{let l=0;i.subscribe(new U(s,d=>{s.next(r.call(n,d,l++))}))})}function Jt(r){return this instanceof Jt?(this.v=r,this):new Jt(r)}function $t(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,s=i.apply(r,n||[]),d=[];return l={},y("next"),y("throw"),y("return"),l[Symbol.asyncIterator]=function(){return this},l;function y(Ft){s[Ft]&&(l[Ft]=function(zt){return new Promise(function(Xt,ce){d.push([Ft,zt,Xt,ce])>1||A(Ft,zt)})})}function A(Ft,zt){try{!function(Ft){Ft.value instanceof Jt?Promise.resolve(Ft.value.v).then(tt,ft):Et(d[0][2],Ft)}(s[Ft](zt))}catch(Xt){Et(d[0][3],Xt)}}function tt(Ft){A("next",Ft)}function ft(Ft){A("throw",Ft)}function Et(Ft,zt){Ft(zt),d.shift(),d.length&&A(d[0][0],d[0][1])}}function Tt(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r[Symbol.asyncIterator];return n?n.call(r):(r=function(r){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(d){i[d]=r[d]&&function(y){return new Promise(function(A,L){!function(d,y,A,L){Promise.resolve(L).then(function(tt){d({value:tt,done:A})},y)}(A,L,(y=r[d](y)).done,y.value)})}}}const Gt=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function ge(r){return yt(null==r?void 0:r.then)}function qt(r){return yt(r[gt])}function ae(r){return Symbol.asyncIterator&&yt(null==r?void 0:r[Symbol.asyncIterator])}function ei(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ke(r){return yt(null==r?void 0:r[xe])}function Ne(r){return $t(this,arguments,function*(){const i=r.getReader();try{for(;;){const{value:s,done:l}=yield Jt(i.read());if(l)return yield Jt(void 0);yield yield Jt(s)}}finally{i.releaseLock()}})}function Le(r){return yt(null==r?void 0:r.getReader)}function Di(r){if(r instanceof v)return r;if(null!=r){if(qt(r))return function(r){return new v(n=>{const i=r[gt]();if(yt(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(Gt(r))return function(r){return new v(n=>{for(let i=0;i<r.length&&!n.closed;i++)n.next(r[i]);n.complete()})}(r);if(ge(r))return function(r){return new v(n=>{r.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,I)})}(r);if(ae(r))return se(r);if(Ke(r))return function(r){return new v(n=>{for(const i of r)if(n.next(i),n.closed)return;n.complete()})}(r);if(Le(r))return function(r){return se(Ne(r))}(r)}throw ei(r)}function se(r){return new v(n=>{(function(r,n){var i,s,l,d;return function(r,n,i,s){return new(i||(i=Promise))(function(d,y){function A(ft){try{tt(s.next(ft))}catch(Et){y(Et)}}function L(ft){try{tt(s.throw(ft))}catch(Et){y(Et)}}function tt(ft){ft.done?d(ft.value):function(d){return d instanceof i?d:new i(function(y){y(d)})}(ft.value).then(A,L)}tt((s=s.apply(r,n||[])).next())})}(this,void 0,void 0,function*(){try{for(i=Tt(r);!(s=yield i.next()).done;)if(n.next(s.value),n.closed)return}catch(y){l={error:y}}finally{try{s&&!s.done&&(d=i.return)&&(yield d.call(i))}finally{if(l)throw l.error}}n.complete()})})(r,n).catch(i=>n.error(i))})}function jt(r,n,i,s=0,l=!1){const d=n.schedule(function(){i(),l?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(d),!l)return d}function Ut(r,n,i=1/0){return yt(n)?Ut((s,l)=>W((d,y)=>n(s,d,l,y))(Di(r(s,l))),i):("number"==typeof n&&(i=n),K((s,l)=>function(r,n,i,s,l,d,y,A){const L=[];let tt=0,ft=0,Et=!1;const Ft=()=>{Et&&!L.length&&!tt&&n.complete()},zt=ce=>tt<s?Xt(ce):L.push(ce),Xt=ce=>{tt++;let de=!1;Di(i(ce,ft++)).subscribe(new U(n,Ie=>{n.next(Ie)},()=>{de=!0},void 0,()=>{if(de)try{for(tt--;L.length&&tt<s;){const Ie=L.shift();Xt(Ie)}Ft()}catch(Ie){n.error(Ie)}}))};return r.subscribe(new U(n,zt,()=>{Et=!0,Ft()})),()=>{}}(s,l,r,i)))}function ee(r=1/0){return Ut(k,r)}const ye=new v(r=>r.complete());function ni(r){return r&&yt(r.schedule)}function we(r){return r[r.length-1]}function Ae(r){return yt(we(r))?r.pop():void 0}function Ti(r){return ni(we(r))?r.pop():void 0}function De(r,n=0){return K((i,s)=>{i.subscribe(new U(s,l=>jt(s,r,()=>s.next(l),n),()=>jt(s,r,()=>s.complete(),n),l=>jt(s,r,()=>s.error(l),n)))})}function fi(r,n=0){return K((i,s)=>{s.add(r.schedule(()=>i.subscribe(s),n))})}function Ki(r,n){if(!r)throw new Error("Iterable cannot be null");return new v(i=>{jt(i,n,()=>{const s=r[Symbol.asyncIterator]();jt(i,n,()=>{s.next().then(l=>{l.done?i.complete():i.next(l.value)})},0,!0)})})}function rn(r,n){return n?function(r,n){if(null!=r){if(qt(r))return function(r,n){return Di(r).pipe(fi(n),De(n))}(r,n);if(Gt(r))return function(r,n){return new v(i=>{let s=0;return n.schedule(function(){s===r.length?i.complete():(i.next(r[s++]),i.closed||this.schedule())})})}(r,n);if(ge(r))return function(r,n){return Di(r).pipe(fi(n),De(n))}(r,n);if(ae(r))return Ki(r,n);if(Ke(r))return function(r,n){return new v(i=>{let s;return jt(i,n,()=>{s=r[xe](),jt(i,n,()=>{let l,d;try{({value:l,done:d}=s.next())}catch(y){return void i.error(y)}d?i.complete():i.next(l)},0,!0)}),()=>yt(null==s?void 0:s.return)&&s.return()})}(r,n);if(Le(r))return function(r,n){return Ki(Ne(r),n)}(r,n)}throw ei(r)}(r,n):Di(r)}function an(...r){const n=Ti(r),i=function(r,n){return"number"==typeof we(r)?r.pop():1/0}(r),s=r;return s.length?1===s.length?Di(s[0]):ee(i)(rn(s,n)):ye}function Ui(r){return r<=0?()=>ye:K((n,i)=>{let s=0;n.subscribe(new U(i,l=>{++s<=r&&(i.next(l),r<=s&&i.complete())}))})}function lr(r={}){const{connector:n=(()=>new _),resetOnError:i=!0,resetOnComplete:s=!0,resetOnRefCountZero:l=!0}=r;return d=>{let y=null,A=null,L=null,tt=0,ft=!1,Et=!1;const Ft=()=>{null==A||A.unsubscribe(),A=null},zt=()=>{Ft(),y=L=null,ft=Et=!1},Xt=()=>{const ce=y;zt(),null==ce||ce.unsubscribe()};return K((ce,de)=>{tt++,!Et&&!ft&&Ft();const Ie=L=null!=L?L:n();de.add(()=>{tt--,0===tt&&!Et&&!ft&&(A=He(Xt,l))}),Ie.subscribe(de),y||(y=new Q({next:Pe=>Ie.next(Pe),error:Pe=>{Et=!0,Ft(),A=He(zt,i,Pe),Ie.error(Pe)},complete:()=>{ft=!0,Ft(),A=He(zt,s),Ie.complete()}}),rn(ce).subscribe(y))})(d)}}function He(r,n,...i){return!0===n?(r(),null):!1===n?null:n(...i).pipe(Ui(1)).subscribe(()=>r())}function yi(r){for(let n in r)if(r[n]===yi)return n;throw Error("Could not find renamed property on target object.")}function tn(r,n){for(const i in n)n.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=n[i])}function wi(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(wi).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const n=r.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function $n(r,n){return null==r||""===r?null===n?"":n:null==n||""===n?r:r+" "+n}const sr=yi({__forward_ref__:yi});function Xe(r){return r.__forward_ref__=Xe,r.toString=function(){return wi(this())},r}function Fi(r){return nh(r)?r():r}function nh(r){return"function"==typeof r&&r.hasOwnProperty(sr)&&r.__forward_ref__===Xe}class ss extends Error{constructor(n,i){super(function(r,n){return`${r?`NG0${r}: `:""}${n}`}(n,i)),this.code=n}}function un(r){return"string"==typeof r?r:null==r?"":String(r)}function Eo(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():un(r)}function Id(r,n){const i=n?` in ${n}`:"";throw new ss("201",`No provider for ${Eo(r)} found${i}`)}function _r(r,n){null==r&&function(r,n,i,s){throw new Error(`ASSERTION ERROR: ${r}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,r,null,"!=")}function ti(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function en(r){return{providers:r.providers||[],imports:r.imports||[]}}function Rh(r){return di(r,f0)||di(r,sf)}function di(r,n){return r.hasOwnProperty(n)?r[n]:null}function pi(r){return r&&(r.hasOwnProperty(Sg)||r.hasOwnProperty(K_))?r[Sg]:null}const f0=yi({\u0275prov:yi}),Sg=yi({\u0275inj:yi}),sf=yi({ngInjectableDef:yi}),K_=yi({ngInjectorDef:yi});var Zi=(()=>((Zi=Zi||{})[Zi.Default=0]="Default",Zi[Zi.Host=1]="Host",Zi[Zi.Self=2]="Self",Zi[Zi.SkipSelf=4]="SkipSelf",Zi[Zi.Optional=8]="Optional",Zi))();let d0;function yu(r){const n=d0;return d0=r,n}function p1(r,n,i){const s=Rh(r);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&Zi.Optional?null:void 0!==n?n:void Id(wi(r),"Injector")}function ar(r){return{toString:r}.toString()}var Tr=(()=>((Tr=Tr||{})[Tr.OnPush=0]="OnPush",Tr[Tr.Default=1]="Default",Tr))(),as=(()=>{return(r=as||(as={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",as;var r})();const jr="undefined"!=typeof globalThis&&globalThis,Bi="undefined"!=typeof window&&window,oh="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cn=jr||"undefined"!=typeof global&&global||Bi||oh,ls={},Vi=[],Ms=yi({\u0275cmp:yi}),io=yi({\u0275dir:yi}),xu=yi({\u0275pipe:yi}),kn=yi({\u0275mod:yi}),no=yi({\u0275fac:yi}),pn=yi({__NG_ELEMENT_ID__:yi});let hr=0;function _i(r){return ar(()=>{const i={},s={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Tr.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Vi,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||as.Emulated,id:"c",styles:r.styles||Vi,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.directives,d=r.features,y=r.pipes;return s.id+=hr++,s.inputs=g1(r.inputs,i),s.outputs=g1(r.outputs),d&&d.forEach(A=>A(s)),s.directiveDefs=l?()=>("function"==typeof l?l():l).map(Hn):null,s.pipeDefs=y?()=>("function"==typeof y?y():y).map(m1):null,s})}function Hn(r){return Vs(r)||function(r){return r[io]||null}(r)}function m1(r){return function(r){return r[xu]||null}(r)}const ki={};function cn(r){return ar(()=>{const n={type:r.type,bootstrap:r.bootstrap||Vi,declarations:r.declarations||Vi,imports:r.imports||Vi,exports:r.exports||Vi,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ki[r.id]=r.type),n})}function g1(r,n){if(null==r)return ls;const i={};for(const s in r)if(r.hasOwnProperty(s)){let l=r[s],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),i[l]=s,n&&(n[l]=d)}return i}const li=_i;function ko(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Vs(r){return r[Ms]||null}function js(r,n){const i=r[kn]||null;if(!i&&!0===n)throw new Error(`Type ${wi(r)} does not have '\u0275mod' property.`);return i}function sh(r){return Array.isArray(r)&&"object"==typeof r[1]}function Ir(r){return Array.isArray(r)&&!0===r[1]}function kg(r){return 0!=(8&r.flags)}function qn(r){return 2==(2&r.flags)}function _u(r){return 1==(1&r.flags)}function Ga(r){return null!==r.template}function Ld(r){return 0!=(512&r[2])}function mf(r,n){return r.hasOwnProperty(no)?r[no]:null}class y1{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function er(){return w0}function w0(r){return r.type.prototype.ngOnChanges&&(r.setInput=Pg),x1}function x1(){const r=Ig(this),n=null==r?void 0:r.current;if(n){const i=r.previous;if(i===ls)r.previous=n;else for(let s in n)i[s]=n[s];r.current=null,this.ngOnChanges(n)}}function Pg(r,n,i,s){const l=Ig(r)||function(r,n){return r[Q_]=n}(r,{previous:ls,current:null}),d=l.current||(l.current={}),y=l.previous,A=this.declaredInputs[i],L=y[A];d[A]=new y1(L&&L.currentValue,n,y===ls),r[s]=n}er.ngInherit=!0;const Q_="__ngSimpleChanges__";function Ig(r){return r[Q_]||null}const Rg="http://www.w3.org/2000/svg";let b0;function Kr(r){return!!r.listen}const Og={createRenderer:(r,n)=>void 0!==b0?b0:"undefined"!=typeof document?document:void 0};function To(r){for(;Array.isArray(r);)r=r[0];return r}function Cu(r,n){return To(n[r])}function Ya(r,n){return To(n[r.index])}function Vd(r,n){return r.data[n]}function yf(r,n){return r[n]}function zs(r,n){const i=n[r];return sh(i)?i:i[0]}function C0(r){return 4==(4&r[2])}function jd(r){return 128==(128&r[2])}function Su(r,n){return null==n?null:r[n]}function zr(r){r[18]=0}function Hd(r,n){r[5]+=n;let i=r,s=r[3];for(;null!==s&&(1===n&&1===i[5]||-1===n&&0===i[5]);)s[5]+=n,i=s,s=s[3]}const mn={lFrame:S1(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function w1(){return mn.bindingsEnabled}function Qe(){return mn.lFrame.lView}function Jn(){return mn.lFrame.tView}function Zr(r){return mn.lFrame.contextLView=r,r[8]}function Po(){let r=Ur();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ur(){return mn.lFrame.currentTNode}function $a(r,n){const i=mn.lFrame;i.currentTNode=r,i.isParent=n}function _1(){return mn.lFrame.isParent}function oe(){mn.lFrame.isParent=!1}function D0(){return mn.isInCheckNoChangesMode}function Ng(r){mn.isInCheckNoChangesMode=r}function Yo(){const r=mn.lFrame;let n=r.bindingRootIndex;return-1===n&&(n=r.bindingRootIndex=r.tView.bindingStartIndex),n}function xf(){return mn.lFrame.bindingIndex++}function Nh(r){const n=mn.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+r,i}function lb(r,n){const i=mn.lFrame;i.bindingIndex=i.bindingRootIndex=r,pc(n)}function pc(r){mn.lFrame.currentDirectiveIndex=r}function E0(r){const n=mn.lFrame.currentDirectiveIndex;return-1===n?null:r[n]}function Lg(){return mn.lFrame.currentQueryIndex}function C1(r){mn.lFrame.currentQueryIndex=r}function rS(r){const n=r[1];return 2===n.type?n.declTNode:1===n.type?r[6]:null}function hb(r,n,i){if(i&Zi.SkipSelf){let l=n,d=r;for(;!(l=l.parent,null!==l||i&Zi.Host||(l=rS(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;n=l,r=d}const s=mn.lFrame=wf();return s.currentTNode=n,s.lView=r,!0}function Xa(r){const n=wf(),i=r[1];mn.lFrame=n,n.currentTNode=i.firstChild,n.lView=r,n.tView=i,n.contextLView=r,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function wf(){const r=mn.lFrame,n=null===r?null:r.child;return null===n?S1(r):n}function S1(r){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=n),n}function D1(){const r=mn.lFrame;return mn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const k0=D1;function Ds(){const r=D1();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function fa(){return mn.lFrame.selectedIndex}function Ka(r){mn.lFrame.selectedIndex=r}function mr(){const r=mn.lFrame;return Vd(r.tView,r.selectedIndex)}function A0(){mn.lFrame.currentNamespace=Rg}function zd(){mn.lFrame.currentNamespace=null}function Sl(r,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const d=r.data[i].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:A,ngAfterViewInit:L,ngAfterViewChecked:tt,ngOnDestroy:ft}=d;y&&(r.contentHooks||(r.contentHooks=[])).push(-i,y),A&&((r.contentHooks||(r.contentHooks=[])).push(i,A),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(i,A)),L&&(r.viewHooks||(r.viewHooks=[])).push(-i,L),tt&&((r.viewHooks||(r.viewHooks=[])).push(i,tt),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(i,tt)),null!=ft&&(r.destroyHooks||(r.destroyHooks=[])).push(i,ft)}}function Dl(r,n,i){jg(r,n,3,i)}function mc(r,n,i,s){(3&r[2])===i&&jg(r,n,i,s)}function Vg(r,n){let i=r[2];(3&i)===n&&(i&=2047,i+=1,r[2]=i)}function jg(r,n,i,s){const d=null!=s?s:-1,y=n.length-1;let A=0;for(let L=void 0!==s?65535&r[18]:0;L<y;L++)if("number"==typeof n[L+1]){if(A=n[L],null!=s&&A>=s)break}else n[L]<0&&(r[18]+=65536),(A<d||-1==d)&&(k1(r,i,n,L),r[18]=(4294901760&r[18])+L+2),L++}function k1(r,n,i,s){const l=i[s]<0,d=i[s+1],A=r[l?-i[s]:i[s]];if(l){if(r[2]>>11<r[18]>>16&&(3&r[2])===n){r[2]+=2048;try{d.call(A)}finally{}}}else try{d.call(A)}finally{}}class bf{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function P0(r,n,i){const s=Kr(r);let l=0;for(;l<i.length;){const d=i[l];if("number"==typeof d){if(0!==d)break;l++;const y=i[l++],A=i[l++],L=i[l++];s?r.setAttribute(n,A,L,y):n.setAttributeNS(y,A,L)}else{const y=d,A=i[++l];Hg(y)?s&&r.setProperty(n,y,A):s?r.setAttribute(n,y,A):n.setAttribute(y,A),l++}}return l}function fb(r){return 3===r||4===r||6===r}function Hg(r){return 64===r.charCodeAt(0)}function Ud(r,n){if(null!==n&&0!==n.length)if(null===r||0===r.length)r=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||zg(r,i,l,null,-1===i||2===i?n[++s]:null)}}return r}function zg(r,n,i,s,l){let d=0,y=r.length;if(-1===n)y=-1;else for(;d<r.length;){const A=r[d++];if("number"==typeof A){if(A===n){y=-1;break}if(A>n){y=d-1;break}}}for(;d<r.length;){const A=r[d];if("number"==typeof A)break;if(A===i){if(null===s)return void(null!==l&&(r[d+1]=l));if(s===r[d+1])return void(r[d+2]=l)}d++,null!==s&&d++,null!==l&&d++}-1!==y&&(r.splice(y,0,n),d=y+1),r.splice(d++,0,i),null!==s&&r.splice(d++,0,s),null!==l&&r.splice(d++,0,l)}function Ug(r){return-1!==r}function Eu(r){return 32767&r}function vc(r,n){let i=function(r){return r>>16}(r),s=n;for(;i>0;)s=s[15],i--;return s}let Gg=!0;function I0(r){const n=Gg;return Gg=r,n}let R1=0;function Cf(r,n){const i=Yg(r,n);if(-1!==i)return i;const s=n[1];s.firstCreatePass&&(r.injectorIndex=n.length,R0(s.data,r),R0(n,null),R0(s.blueprint,null));const l=O0(r,n),d=r.injectorIndex;if(Ug(l)){const y=Eu(l),A=vc(l,n),L=A[1].data;for(let tt=0;tt<8;tt++)n[d+tt]=A[y+tt]|L[y+tt]}return n[d+8]=l,d}function R0(r,n){r.push(0,0,0,0,0,0,0,0,n)}function Yg(r,n){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===n[r.injectorIndex+8]?-1:r.injectorIndex}function O0(r,n){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){const d=l[1],y=d.type;if(s=2===y?d.declTNode:1===y?l[6]:null,null===s)return-1;if(i++,l=l[15],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return-1}function N0(r,n,i){!function(r,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(pn)&&(s=i[pn]),null==s&&(s=i[pn]=R1++);const l=255&s;n.data[r+(l>>5)]|=1<<l}(r,n,i)}function F0(r,n,i){if(i&Zi.Optional)return r;Id(n,"NodeInjector")}function O1(r,n,i,s){if(i&Zi.Optional&&void 0===s&&(s=null),0==(i&(Zi.Self|Zi.Host))){const l=r[9],d=yu(void 0);try{return l?l.get(n,s,i&Zi.Optional):p1(n,s,i&Zi.Optional)}finally{yu(d)}}return F0(s,n,i)}function N1(r,n,i,s=Zi.Default,l){if(null!==r){const d=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const n=r.hasOwnProperty(pn)?r[pn]:void 0;return"number"==typeof n?n>=0?255&n:Wd:n}(i);if("function"==typeof d){if(!hb(n,r,s))return s&Zi.Host?F0(l,i,s):O1(n,i,s,l);try{const y=d(s);if(null!=y||s&Zi.Optional)return y;Id(i)}finally{k0()}}else if("number"==typeof d){let y=null,A=Yg(r,n),L=-1,tt=s&Zi.Host?n[16][6]:null;for((-1===A||s&Zi.SkipSelf)&&(L=-1===A?O0(r,n):n[A+8],-1!==L&&F1(s,!1)?(y=n[1],A=Eu(L),n=vc(L,n)):A=-1);-1!==A;){const ft=n[1];if(B0(d,A,ft.data)){const Et=L0(A,n,i,y,s,tt);if(Et!==Us)return Et}L=n[A+8],-1!==L&&F1(s,n[1].data[A+8]===tt)&&B0(d,A,n)?(y=ft,A=Eu(L),n=vc(L,n)):A=-1}}}return O1(n,i,s,l)}const Us={};function Wd(){return new Sf(Po(),Qe())}function L0(r,n,i,s,l,d){const y=n[1],A=y.data[r+8],ft=oo(A,y,i,null==s?qn(A)&&Gg:s!=y&&0!=(3&A.type),l&Zi.Host&&d===A);return null!==ft?Fh(n,y,ft,A):Us}function oo(r,n,i,s,l){const d=r.providerIndexes,y=n.data,A=1048575&d,L=r.directiveStart,ft=d>>20,Ft=l?A+ft:r.directiveEnd;for(let zt=s?A:A+ft;zt<Ft;zt++){const Xt=y[zt];if(zt<L&&i===Xt||zt>=L&&Xt.type===i)return zt}if(l){const zt=y[L];if(zt&&Ga(zt)&&zt.type===i)return L}return null}function Fh(r,n,i,s){let l=r[i];const d=n.data;if(function(r){return r instanceof bf}(l)){const y=l;y.resolving&&function(r,n){throw new ss("200",`Circular dependency in DI detected for ${r}`)}(Eo(d[i]));const A=I0(y.canSeeViewProviders);y.resolving=!0;const L=y.injectImpl?yu(y.injectImpl):null;hb(r,s,Zi.Default);try{l=r[i]=y.factory(void 0,d,r,s),n.firstCreatePass&&i>=s.directiveStart&&function(r,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:d}=n.type.prototype;if(s){const y=w0(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(r,y),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,y)}l&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-r,l),d&&((i.preOrderHooks||(i.preOrderHooks=[])).push(r,d),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,d))}(i,d[i],n)}finally{null!==L&&yu(L),I0(A),y.resolving=!1,k0()}}return l}function B0(r,n,i){return!!(i[n+(r>>5)]&1<<r)}function F1(r,n){return!(r&Zi.Self||r&Zi.Host&&n)}class Sf{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return N1(this._tNode,this._lView,n,s,i)}}function po(r){return ar(()=>{const n=r.prototype.constructor,i=n[no]||Xg(n),s=Object.prototype;let l=Object.getPrototypeOf(r.prototype).constructor;for(;l&&l!==s;){const d=l[no]||Xg(l);if(d&&d!==i)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Xg(r){return nh(r)?()=>{const n=Xg(Fi(r));return n&&n()}:mf(r)}function El(r){return function(r,n){if("class"===n)return r.classes;if("style"===n)return r.styles;const i=r.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const d=i[l];if(fb(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(d===n)return i[l+1];l+=2}}}return null}(Po(),r)}const yc="__parameters__";function ku(r,n,i){return ar(()=>{const s=function(r){return function(...i){if(r){const s=r(...i);for(const l in s)this[l]=s[l]}}}(n);function l(...d){if(this instanceof l)return s.apply(this,d),this;const y=new l(...d);return A.annotation=y,A;function A(L,tt,ft){const Et=L.hasOwnProperty(yc)?L[yc]:Object.defineProperty(L,yc,{value:[]})[yc];for(;Et.length<=ft;)Et.push(null);return(Et[ft]=Et[ft]||[]).push(y),L}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=r,l.annotationCls=l,l})}class ui{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=ti({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}toString(){return`InjectionToken ${this._desc}`}}const H0=new ui("AnalyzeForEntryComponents");function Ea(r,n){void 0===n&&(n=r);for(let i=0;i<r.length;i++){let s=r[i];Array.isArray(s)?(n===r&&(n=r.slice(0,i)),Ea(s,n)):n!==r&&n.push(s)}return n}function Ge(r,n){r.forEach(i=>Array.isArray(i)?Ge(i,n):n(i))}function zn(r,n,i){n>=r.length?r.push(i):r.splice(n,0,i)}function Nn(r,n){return n>=r.length-1?r.pop():r.splice(n,1)[0]}function Ro(r,n){const i=[];for(let s=0;s<r;s++)i.push(n);return i}function ks(r,n,i){let s=qa(r,n);return s>=0?r[1|s]=i:(s=~s,function(r,n,i,s){let l=r.length;if(l==n)r.push(i,s);else if(1===l)r.push(s,r[0]),r[0]=i;else{for(l--,r.push(r[l-1],r[l]);l>n;)r[l]=r[l-2],l--;r[n]=i,r[n+1]=s}}(r,s,n,i)),s}function Oo(r,n){const i=qa(r,n);if(i>=0)return r[1|i]}function qa(r,n){return function(r,n,i){let s=0,l=r.length>>i;for(;l!==s;){const d=s+(l-s>>1),y=r[d<<i];if(n===y)return d<<i;y>n?l=d:s=d+1}return~(l<<i)}(r,n,1)}const _c={},Au="__NG_DI_FLAG__",bc="ngTempTokenPath",Tu=/\n/gm,Xo="__source",hs=yi({provide:String,useValue:yi});let kl;function Ja(r){const n=kl;return kl=r,n}function yb(r,n=Zi.Default){if(void 0===kl)throw new Error("inject() must be called from an injection context");return null===kl?p1(r,void 0,n):kl.get(r,n&Zi.Optional?null:void 0,n)}function Re(r,n=Zi.Default){return(d0||yb)(Fi(r),n)}const Qa=Re;function zh(r){const n=[];for(let i=0;i<r.length;i++){const s=Fi(r[i]);if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let l,d=Zi.Default;for(let y=0;y<s.length;y++){const A=s[y],L=Jg(A);"number"==typeof L?-1===L?l=A.token:d|=L:l=A}n.push(Re(l,d))}else n.push(Re(s))}return n}function Pu(r,n){return r[Au]=n,r.prototype[Au]=n,r}function Jg(r){return r[Au]}function Mc(r,n,i,s){const l=r[bc];throw n[Xo]&&l.unshift(n[Xo]),r.message=function(r,n,i,s=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let l=wi(n);if(Array.isArray(n))l=n.map(wi).join(" -> ");else if("object"==typeof n){let d=[];for(let y in n)if(n.hasOwnProperty(y)){let A=n[y];d.push(y+":"+("string"==typeof A?JSON.stringify(A):wi(A)))}l=`{${d.join(", ")}}`}return`${i}${s?"("+s+")":""}[${l}]: ${r.replace(Tu,"\n  ")}`}("\n"+r.message,l,i,s),r.ngTokenPath=l,r[bc]=null,r}const Ws=Pu(ku("Inject",r=>({token:r})),-1),kr=Pu(ku("Optional"),8),tl=Pu(ku("SkipSelf"),4);let Jd;function Pl(r){var n;return(null==(n=function(){if(void 0===Jd&&(Jd=null,Cn.trustedTypes))try{Jd=Cn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Jd}())?void 0:n.createHTML(r))||r}class us{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qd extends us{getTypeName(){return"HTML"}}class Wh extends us{getTypeName(){return"Style"}}class uh extends us{getTypeName(){return"Script"}}class qo extends us{getTypeName(){return"URL"}}class tp extends us{getTypeName(){return"ResourceURL"}}function cs(r){return r instanceof us?r.changingThisBreaksApplicationSecurity:r}function ch(r,n){const i=yr(r);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}function yr(r){return r instanceof us&&r.getTypeName()||null}class ov{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Pl(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch(i){return null}}}class sv{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const s=this.inertDocument.createElement("body");i.appendChild(s)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=Pl(n),i;const s=this.inertDocument.createElement("body");return s.innerHTML=Pl(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(n){const i=n.attributes;for(let l=i.length-1;0<l;l--){const y=i.item(l).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&n.removeAttribute(y)}let s=n.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const W0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Y0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ep(r){return(r=String(r)).match(W0)||r.match(Y0)?r:"unsafe:"+r}function pe(r){const n={};for(const i of r.split(","))n[i]=!0;return n}function np(...r){const n={};for(const i of r)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const K1=pe("area,br,col,hr,img,wbr"),$0=pe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lv=pe("rp,rt"),Z1=np(K1,np($0,pe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),np(lv,pe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),np(lv,$0)),hv=pe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uv=pe("srcset"),cv=np(hv,uv,pe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),q1=pe("script,style,template");class J1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let l=this.checkClobberedElement(i,i.nextSibling);if(l){i=l;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!Z1.hasOwnProperty(i))return this.sanitizedSomething=!0,!q1.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let l=0;l<s.length;l++){const d=s.item(l),y=d.name,A=y.toLowerCase();if(!cv.hasOwnProperty(A)){this.sanitizedSomething=!0;continue}let L=d.value;hv[A]&&(L=ep(L)),uv[A]&&(r=L,L=(r=String(r)).split(",").map(n=>ep(n.trim())).join(", ")),this.buf.push(" ",y,'="',Q1(L),'"')}var r;return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();Z1.hasOwnProperty(i)&&!K1.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Q1(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const bb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mb=/([^\#-~ |!])/g;function Q1(r){return r.replace(/&/g,"&amp;").replace(bb,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Mb,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jo;function Cb(r,n){let i=null;try{Jo=Jo||function(r){const n=new sv(r);return function(){try{return!!(new window.DOMParser).parseFromString(Pl(""),"text/html")}catch(r){return!1}}()?new ov(n):n}(r);let s=n?String(n):"";i=Jo.getInertBodyElement(s);let l=5,d=s;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,s=d,d=i.innerHTML,i=Jo.getInertBodyElement(s)}while(s!==d);return Pl((new J1).sanitizeChildren(rp(i)||i))}finally{if(i){const s=rp(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function rp(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var ir=(()=>((ir=ir||{})[ir.NONE=0]="NONE",ir[ir.HTML=1]="HTML",ir[ir.STYLE=2]="STYLE",ir[ir.SCRIPT=3]="SCRIPT",ir[ir.URL=4]="URL",ir[ir.RESOURCE_URL=5]="RESOURCE_URL",ir))();function da(r){const n=function(){const r=Qe();return r&&r[12]}();return n?n.sanitize(ir.URL,r)||"":ch(r,"URL")?cs(r):ep(un(r))}const Z0="__ngContext__";function Jr(r,n){r[Z0]=n}function mv(r){const n=function(r){return r[Z0]||null}(r);return n?Array.isArray(n)?n:n.lView:null}function J0(r){return r.ngOriginalError}function vv(r,...n){r.error(...n)}class Rl{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n),s=this._findContext(n),l=(r=n)&&r.ngErrorLogger||vv;var r;l(this._console,"ERROR",n),i&&l(this._console,"ORIGINAL ERROR",i),s&&l(this._console,"ERROR CONTEXT",s)}_findContext(n){return n?n.ngDebugContext||this._findContext(J0(n)):null}_findOriginalError(n){let i=n&&J0(n);for(;i&&J0(i);)i=J0(i);return i||null}}const go=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function el(r){return r instanceof Function?r():r}var Qo=(()=>((Qo=Qo||{})[Qo.Important=1]="Important",Qo[Qo.DashCase=2]="DashCase",Qo))();function cx(r,n){return undefined(r,n)}function em(r){const n=r[3];return Ir(n)?n[3]:n}function so(r){return wv(r[13])}function Ye(r){return wv(r[4])}function wv(r){for(;null!==r&&!Ir(r);)r=r[4];return r}function Ou(r,n,i,s,l){if(null!=s){let d,y=!1;Ir(s)?d=s:sh(s)&&(y=!0,s=s[0]);const A=To(s);0===r&&null!==i?null==l?Ci(n,i,A):Ec(n,i,A,l||null,!0):1===r&&null!==i?Ec(n,i,A,l||null,!0):2===r?function(r,n,i){const s=om(r,n);s&&function(r,n,i,s){Kr(r)?r.removeChild(n,i,s):n.removeChild(i)}(r,s,n,i)}(n,A,y):3===r&&n.destroyNode(A),null!=d&&function(r,n,i,s,l){const d=i[7];d!==To(i)&&Ou(n,r,s,d,l);for(let A=10;A<i.length;A++){const L=i[A];cp(L[1],L,r,n,s,d)}}(n,r,d,i,l)}}function bv(r,n,i){return Kr(r)?r.createElement(n,i):null===i?r.createElement(n):r.createElementNS(i,n)}function Mv(r,n){const i=r[9],s=i.indexOf(n),l=n[3];1024&n[2]&&(n[2]&=-1025,Hd(l,-1)),i.splice(s,1)}function dh(r,n){if(r.length<=10)return;const i=10+n,s=r[i];if(s){const l=s[17];null!==l&&l!==r&&Mv(l,s),n>0&&(r[i-1][4]=s[4]);const d=Nn(r,10+n);!function(r,n){cp(r,n,n[11],2,null,null),n[0]=null,n[6]=null}(s[1],s);const y=d[19];null!==y&&y.detachView(d[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function nm(r,n){if(!(256&n[2])){const i=n[11];Kr(i)&&i.destroyNode&&cp(r,n,i,3,null,null),function(r){let n=r[13];if(!n)return rm(r[1],r);for(;n;){let i=null;if(sh(n))i=n[13];else{const s=n[10];s&&(i=s)}if(!i){for(;n&&!n[4]&&n!==r;)sh(n)&&rm(n[1],n),n=n[3];null===n&&(n=r),sh(n)&&rm(n[1],n),i=n&&n[4]}n=i}}(n)}}function rm(r,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function(r,n){let i;if(null!=r&&null!=(i=r.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof bf)){const d=i[s+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const A=l[d[y]],L=d[y+1];try{L.call(A)}finally{}}else try{d.call(l)}finally{}}}}(r,n),function(r,n){const i=r.cleanup,s=n[7];let l=-1;if(null!==i)for(let d=0;d<i.length-1;d+=2)if("string"==typeof i[d]){const y=i[d+1],A="function"==typeof y?y(n):To(n[y]),L=s[l=i[d+2]],tt=i[d+3];"boolean"==typeof tt?A.removeEventListener(i[d],L,tt):tt>=0?s[l=tt]():s[l=-tt].unsubscribe(),d+=2}else{const y=s[l=i[d+1]];i[d].call(y)}if(null!==s){for(let d=l+1;d<s.length;d++)s[d]();n[7]=null}}(r,n),1===n[1].type&&Kr(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&Ir(n[3])){i!==n[3]&&Mv(i,n);const s=n[19];null!==s&&s.detachView(r)}}}function gx(r,n,i){return function(r,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[0];if(2&s.flags){const l=r.data[s.directiveStart].encapsulation;if(l===as.None||l===as.Emulated)return null}return Ya(s,i)}(r,n.parent,i)}function Ec(r,n,i,s,l){Kr(r)?r.insertBefore(n,i,s,l):n.insertBefore(i,s,l)}function Ci(r,n,i){Kr(r)?r.appendChild(n,i):n.appendChild(i)}function Bb(r,n,i,s,l){null!==s?Ec(r,n,i,s,l):Ci(r,n,i)}function om(r,n){return Kr(r)?r.parentNode(n):n.parentNode}function vx(r,n,i){return yx(r,n,i)}let yx=function(r,n,i){return 40&r.type?Ya(r,i):null};function kc(r,n,i,s){const l=gx(r,s,n),d=n[11],A=vx(s.parent||n[6],s,n);if(null!=l)if(Array.isArray(i))for(let L=0;L<i.length;L++)Bb(d,l,i[L],A,!1);else Bb(d,l,i,A,!1)}function am(r,n){if(null!==n){const i=n.type;if(3&i)return Ya(n,r);if(4&i)return lm(-1,r[n.index]);if(8&i){const s=n.child;if(null!==s)return am(r,s);{const l=r[n.index];return Ir(l)?lm(-1,l):To(l)}}if(32&i)return cx(n,r)()||To(r[n.index]);{const s=xx(r,n);return null!==s?Array.isArray(s)?s[0]:am(em(r[16]),s):am(r,n.next)}}return null}function xx(r,n){return null!==n?r[16][6].projection[n.projection]:null}function lm(r,n){const i=10+r+1;if(i<n.length){const s=n[i],l=s[1].firstChild;if(null!==l)return am(s,l)}return n[7]}function Cv(r,n,i,s,l,d,y){for(;null!=i;){const A=s[i.index],L=i.type;if(y&&0===n&&(A&&Jr(To(A),s),i.flags|=4),64!=(64&i.flags))if(8&L)Cv(r,n,i.child,s,l,d,!1),Ou(n,r,l,A,d);else if(32&L){const tt=cx(i,s);let ft;for(;ft=tt();)Ou(n,r,l,ft,d);Ou(n,r,l,A,d)}else 16&L?Hb(r,n,s,i,l,d):Ou(n,r,l,A,d);i=y?i.projectionNext:i.next}}function cp(r,n,i,s,l,d){Cv(i,s,r.firstChild,n,l,d,!1)}function Hb(r,n,i,s,l,d){const y=i[16],L=y[6].projection[s.projection];if(Array.isArray(L))for(let tt=0;tt<L.length;tt++)Ou(n,r,l,L[tt],d);else Cv(r,n,L,y[3],l,d,!0)}function Je(r,n,i){Kr(r)?r.setAttribute(n,"style",i):n.style.cssText=i}function hm(r,n,i){Kr(r)?""===i?r.removeAttribute(n,"class"):r.setAttribute(n,"class",i):n.className=i}function Sv(r,n,i){let s=r.length;for(;;){const l=r.indexOf(n,i);if(-1===l)return l;if(0===l||r.charCodeAt(l-1)<=32){const d=n.length;if(l+d===s||r.charCodeAt(l+d)<=32)return l}i=l+1}}const Mx="ng-template";function ao(r,n,i){let s=0;for(;s<r.length;){let l=r[s++];if(i&&"class"===l){if(l=r[s],-1!==Sv(l.toLowerCase(),n,0))return!0}else if(1===l){for(;s<r.length&&"string"==typeof(l=r[s++]);)if(l.toLowerCase()===n)return!0;return!1}}return!1}function Ce(r){return 4===r.type&&r.value!==Mx}function fp(r,n,i){return n===(4!==r.type||i?r.value:Mx)}function zb(r,n,i){let s=4;const l=r.attrs||[],d=function(r){for(let n=0;n<r.length;n++)if(fb(r[n]))return n;return r.length}(l);let y=!1;for(let A=0;A<n.length;A++){const L=n[A];if("number"!=typeof L){if(!y)if(4&s){if(s=2|1&s,""!==L&&!fp(r,L,i)||""===L&&1===n.length){if(Lo(s))return!1;y=!0}}else{const tt=8&s?L:n[++A];if(8&s&&null!==r.attrs){if(!ao(r.attrs,tt,i)){if(Lo(s))return!1;y=!0}continue}const Et=Dv(8&s?"class":L,l,Ce(r),i);if(-1===Et){if(Lo(s))return!1;y=!0;continue}if(""!==tt){let Ft;Ft=Et>d?"":l[Et+1].toLowerCase();const zt=8&s?Ft:null;if(zt&&-1!==Sv(zt,tt,0)||2&s&&tt!==Ft){if(Lo(s))return!1;y=!0}}}}else{if(!y&&!Lo(s)&&!Lo(L))return!1;if(y&&Lo(L))continue;y=!1,s=L|1&s}}return Lo(s)||y}function Lo(r){return 0==(1&r)}function Dv(r,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let d=!1;for(;l<n.length;){const y=n[l];if(y===r)return l;if(3===y||6===y)d=!0;else{if(1===y||2===y){let A=n[++l];for(;"string"==typeof A;)A=n[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=d?1:2}return-1}return function(r,n){let i=r.indexOf(4);if(i>-1)for(i++;i<r.length;){const s=r[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,r)}function Ev(r,n,i=!1){for(let s=0;s<n.length;s++)if(zb(r,n[s],i))return!0;return!1}function Cx(r,n){t:for(let i=0;i<n.length;i++){const s=n[i];if(r.length===s.length){for(let l=0;l<r.length;l++)if(r[l]!==s[l])continue t;return!0}}return!1}function Tv(r,n){return r?":not("+n.trim()+")":n}function Pv(r){let n=r[0],i=1,s=2,l="",d=!1;for(;i<r.length;){let y=r[i];if("string"==typeof y)if(2&s){const A=r[++i];l+="["+y+(A.length>0?'="'+A+'"':"")+"]"}else 8&s?l+="."+y:4&s&&(l+=" "+y);else""!==l&&!Lo(y)&&(n+=Tv(d,l),l=""),s=y,d=d||!Lo(s);i++}return""!==l&&(n+=Tv(d,l)),n}const ln={};function $e(r){Ub(Jn(),Qe(),fa()+r,D0())}function Ub(r,n,i,s){if(!s)if(3==(3&n[2])){const d=r.preOrderCheckHooks;null!==d&&Dl(n,d,i)}else{const d=r.preOrderHooks;null!==d&&mc(n,d,0,i)}Ka(i)}function ph(r,n){return r<<17|n<<2}function il(r){return r>>17&32767}function Of(r){return 2|r}function ma(r){return(131068&r)>>2}function Nu(r,n){return-131069&r|n<<2}function Ex(r){return 1|r}function qh(r,n){const i=r.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const l=i[s],d=i[s+1];if(-1!==d){const y=r.data[d];C1(l),y.contentQueries(2,n[d],d)}}}function vp(r,n,i,s,l,d,y,A,L,tt){const ft=n.blueprint.slice();return ft[0]=l,ft[2]=140|s,zr(ft),ft[3]=ft[15]=r,ft[8]=i,ft[10]=y||r&&r[10],ft[11]=A||r&&r[11],ft[12]=L||r&&r[12]||null,ft[9]=tt||r&&r[9]||null,ft[6]=d,ft[16]=2==n.type?r[16]:ft,ft}function Vu(r,n,i,s,l){let d=r.data[n];if(null===d)d=function(r,n,i,s,l){const d=Ur(),y=_1(),L=r.data[n]=function(r,n,i,s,l,d){return{type:i,index:s,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,i,n,s,l);return null===r.firstChild&&(r.firstChild=L),null!==d&&(y?null==d.child&&null!==L.parent&&(d.child=L):null===d.next&&(d.next=L)),L}(r,n,i,s,l),mn.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=i,d.value=s,d.attrs=l;const y=function(){const r=mn.lFrame,n=r.currentTNode;return r.isParent?n:n.parent}();d.injectorIndex=null===y?-1:y.injectorIndex}return $a(d,!0),d}function Vf(r,n,i,s){if(0===i)return-1;const l=n.length;for(let d=0;d<i;d++)n.push(s),r.blueprint.push(s),r.data.push(null);return l}function yp(r,n,i){Xa(n);try{const s=r.viewQuery;null!==s&&qv(1,s,i);const l=r.template;null!==l&&Nx(r,n,l,1,i),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&qh(r,n),r.staticViewQueries&&qv(2,r.viewQuery,i);const d=r.components;null!==d&&function(r,n){for(let i=0;i<n.length;i++)tM(r,n[i])}(n,d)}catch(s){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),s}finally{n[2]&=-5,Ds()}}function jf(r,n,i,s){const l=n[2];if(256==(256&l))return;Xa(n);const d=D0();try{zr(n),function(r){mn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==i&&Nx(r,n,i,2,s);const y=3==(3&l);if(!d)if(y){const tt=r.preOrderCheckHooks;null!==tt&&Dl(n,tt,null)}else{const tt=r.preOrderHooks;null!==tt&&mc(n,tt,0,null),Vg(n,0)}if(function(r){for(let n=so(r);null!==n;n=Ye(n)){if(!n[2])continue;const i=n[9];for(let s=0;s<i.length;s++){const l=i[s],d=l[3];0==(1024&l[2])&&Hd(d,1),l[2]|=1024}}}(n),function(r){for(let n=so(r);null!==n;n=Ye(n))for(let i=10;i<n.length;i++){const s=n[i],l=s[1];jd(s)&&jf(l,s,l.template,s[8])}}(n),null!==r.contentQueries&&qh(r,n),!d)if(y){const tt=r.contentCheckHooks;null!==tt&&Dl(n,tt)}else{const tt=r.contentHooks;null!==tt&&mc(n,tt,1),Vg(n,1)}!function(r,n){const i=r.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const l=i[s];if(l<0)Ka(~l);else{const d=l,y=i[++s],A=i[++s];lb(y,d),A(2,n[d])}}}finally{Ka(-1)}}(r,n);const A=r.components;null!==A&&function(r,n){for(let i=0;i<n.length;i++)Pc(r,n[i])}(n,A);const L=r.viewQuery;if(null!==L&&qv(2,L,s),!d)if(y){const tt=r.viewCheckHooks;null!==tt&&Dl(n,tt)}else{const tt=r.viewHooks;null!==tt&&mc(n,tt,2),Vg(n,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),d||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,Hd(n[3],-1))}finally{Ds()}}function xp(r,n,i,s){const l=n[10],d=!D0(),y=C0(n);try{d&&!y&&l.begin&&l.begin(),y&&yp(r,n,s),jf(r,n,i,s)}finally{d&&!y&&l.end&&l.end()}}function Nx(r,n,i,s,l){const d=fa(),y=2&s;try{Ka(-1),y&&n.length>20&&Ub(r,n,20,D0()),i(s,l)}finally{Ka(d)}}function Fx(r,n,i){if(kg(n)){const l=n.directiveEnd;for(let d=n.directiveStart;d<l;d++){const y=r.data[d];y.contentQueries&&y.contentQueries(1,i[d],d)}}}function Lx(r,n,i){!w1()||(function(r,n,i,s){const l=i.directiveStart,d=i.directiveEnd;r.firstCreatePass||Cf(i,n),Jr(s,n);const y=i.initialInputs;for(let A=l;A<d;A++){const L=r.data[A],tt=Ga(L);tt&&Jb(n,i,L);const ft=Fh(n,r,A,i);Jr(ft,n),null!==y&&Yv(0,A-l,ft,L,0,y),tt&&(zs(i.index,n)[8]=ft)}}(r,n,i,Ya(i,n)),128==(128&i.flags)&&function(r,n,i){const s=i.directiveStart,l=i.directiveEnd,y=i.index,A=mn.lFrame.currentDirectiveIndex;try{Ka(y);for(let L=s;L<l;L++){const tt=r.data[L],ft=n[L];pc(L),(null!==tt.hostBindings||0!==tt.hostVars||null!==tt.hostAttrs)&&Gv(tt,ft)}}finally{Ka(-1),pc(A)}}(r,n,i))}function Hi(r,n,i=Ya){const s=n.localNames;if(null!==s){let l=n.index+1;for(let d=0;d<s.length;d+=2){const y=s[d+1],A=-1===y?i(n,r):r[y];r[l++]=A}}}function Bx(r){const n=r.tView;return null===n||n.incompleteFirstPass?r.tView=wp(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):n}function wp(r,n,i,s,l,d,y,A,L,tt){const ft=20+s,Et=ft+l,Ft=function(r,n){const i=[];for(let s=0;s<n;s++)i.push(s<r?null:ln);return i}(ft,Et),zt="function"==typeof tt?tt():tt;return Ft[1]={type:r,blueprint:Ft,template:i,queries:null,viewQuery:A,declTNode:n,data:Ft.slice().fill(null,ft),bindingStartIndex:ft,expandoStartIndex:Et,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:L,consts:zt,incompleteFirstPass:!1}}function jv(r,n,i,s){const l=ga(n);null===i?l.push(s):(l.push(i),r.firstCreatePass&&Cp(r).push(s,l.length-1))}function xr(r,n,i){for(let s in r)if(r.hasOwnProperty(s)){const l=r[s];(i=null===i?{}:i).hasOwnProperty(s)?i[s].push(n,l):i[s]=[n,l]}return i}function As(r,n,i,s,l,d,y,A){const L=Ya(n,i);let ft,tt=n.inputs;!A&&null!=tt&&(ft=tt[s])?(Hf(r,i,ft,s,l),qn(n)&&function(r,n){const i=zs(n,r);16&i[2]||(i[2]|=64)}(i,n.index)):3&n.type&&(s=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(s),l=null!=y?y(l,n.value||"",s):l,Kr(d)?d.setProperty(L,s,l):Hg(s)||(L.setProperty?L.setProperty(s,l):L[s]=l))}function Uv(r,n,i,s){let l=!1;if(w1()){const d=function(r,n,i){const s=r.directiveRegistry;let l=null;if(s)for(let d=0;d<s.length;d++){const y=s[d];Ev(i,y.selectors,!1)&&(l||(l=[]),N0(Cf(i,n),r,y.type),Ga(y)?(Wx(r,i),l.unshift(y)):l.push(y))}return l}(r,n,i),y=null===s?null:{"":-1};if(null!==d){l=!0,fr(i,r.data.length,d.length);for(let ft=0;ft<d.length;ft++){const Et=d[ft];Et.providersResolver&&Et.providersResolver(Et)}let A=!1,L=!1,tt=Vf(r,n,d.length,null);for(let ft=0;ft<d.length;ft++){const Et=d[ft];i.mergedAttrs=Ud(i.mergedAttrs,Et.hostAttrs),Yx(r,i,n,tt,Et),qb(tt,Et,y),null!==Et.contentQueries&&(i.flags|=8),(null!==Et.hostBindings||null!==Et.hostAttrs||0!==Et.hostVars)&&(i.flags|=128);const Ft=Et.type.prototype;!A&&(Ft.ngOnChanges||Ft.ngOnInit||Ft.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(i.index),A=!0),!L&&(Ft.ngOnChanges||Ft.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(i.index),L=!0),tt++}!function(r,n){const s=n.directiveEnd,l=r.data,d=n.attrs,y=[];let A=null,L=null;for(let tt=n.directiveStart;tt<s;tt++){const ft=l[tt],Et=ft.inputs,Ft=null===d||Ce(n)?null:ze(Et,d);y.push(Ft),A=xr(Et,tt,A),L=xr(ft.outputs,tt,L)}null!==A&&(A.hasOwnProperty("class")&&(n.flags|=16),A.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=y,n.inputs=A,n.outputs=L}(r,i)}y&&function(r,n,i){if(n){const s=r.localNames=[];for(let l=0;l<n.length;l+=2){const d=i[n[l+1]];if(null==d)throw new ss("301",`Export of name '${n[l+1]}' not found!`);s.push(n[l],d)}}}(i,s,y)}return i.mergedAttrs=Ud(i.mergedAttrs,i.attrs),l}function zx(r,n,i,s,l,d){const y=d.hostBindings;if(y){let A=r.hostBindingOpCodes;null===A&&(A=r.hostBindingOpCodes=[]);const L=~n.index;(function(r){let n=r.length;for(;n>0;){const i=r[--n];if("number"==typeof i&&i<0)return i}return 0})(A)!=L&&A.push(L),A.push(s,l,y)}}function Gv(r,n){null!==r.hostBindings&&r.hostBindings(1,n)}function Wx(r,n){n.flags|=2,(r.components||(r.components=[])).push(n.index)}function qb(r,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=r;Ga(n)&&(i[""]=r)}}function fr(r,n,i){r.flags|=1,r.directiveStart=n,r.directiveEnd=n+i,r.providerIndexes=n}function Yx(r,n,i,s,l){r.data[s]=l;const d=l.factory||(l.factory=mf(l.type)),y=new bf(d,Ga(l),null);r.blueprint[s]=y,i[s]=y,zx(r,n,0,s,Vf(r,i,l.hostVars,ln),l)}function Jb(r,n,i){const s=Ya(n,r),l=Bx(i),d=r[10],y=fs(r,vp(r,l,null,i.onPush?64:16,s,n,d,d.createRenderer(s,i),null,null));r[n.index]=y}function vh(r,n,i,s,l,d){const y=Ya(r,n);!function(r,n,i,s,l,d,y){if(null==d)Kr(r)?r.removeAttribute(n,l,i):n.removeAttribute(l);else{const A=null==y?un(d):y(d,s||"",l);Kr(r)?r.setAttribute(n,l,A,i):i?n.setAttributeNS(i,l,A):n.setAttribute(l,A)}}(n[11],y,d,r.value,i,s,l)}function Yv(r,n,i,s,l,d){const y=d[n];if(null!==y){const A=s.setInput;for(let L=0;L<y.length;){const tt=y[L++],ft=y[L++],Et=y[L++];null!==A?s.setInput(i,Et,tt,ft):i[ft]=Et}}}function ze(r,n){let i=null,s=0;for(;s<n.length;){const l=n[s];if(0!==l)if(5!==l){if("number"==typeof l)break;r.hasOwnProperty(l)&&(null===i&&(i=[]),i.push(l,r[l],n[s+1])),s+=2}else s+=2;else s+=4}return i}function $v(r,n,i,s){return new Array(r,!0,!1,n,null,0,s,i,null,null)}function Pc(r,n){const i=zs(n,r);if(jd(i)){const s=i[1];80&i[2]?jf(s,i,s.template,i[8]):i[5]>0&&Xv(i)}}function Xv(r){for(let s=so(r);null!==s;s=Ye(s))for(let l=10;l<s.length;l++){const d=s[l];if(1024&d[2]){const y=d[1];jf(y,d,y.template,d[8])}else d[5]>0&&Xv(d)}const i=r[1].components;if(null!==i)for(let s=0;s<i.length;s++){const l=zs(i[s],r);jd(l)&&l[5]>0&&Xv(l)}}function tM(r,n){const i=zs(n,r),s=i[1];(function(r,n){for(let i=n.length;i<r.blueprint.length;i++)n.push(r.blueprint[i])})(s,i),yp(s,i,i[8])}function fs(r,n){return r[13]?r[14][4]=n:r[13]=n,r[14]=n,n}function Mp(r){for(;r;){r[2]|=64;const n=em(r);if(Ld(r)&&!n)return r;r=n}return null}function Wr(r,n,i){const s=n[10];s.begin&&s.begin();try{jf(r,n,r.template,i)}catch(l){throw Jv(n,l),l}finally{s.end&&s.end()}}function eM(r){!function(r){for(let n=0;n<r.components.length;n++){const i=r.components[n],s=mv(i),l=s[1];xp(l,s,l.template,i)}}(r[8])}function qv(r,n,i){C1(0),n(r,i)}const Pa=(()=>Promise.resolve(null))();function ga(r){return r[7]||(r[7]=[])}function Cp(r){return r.cleanup||(r.cleanup=[])}function ym(r,n,i){return(null===r||Ga(r))&&(i=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(i[n.index])),i[11]}function Jv(r,n){const i=r[9],s=i?i.get(Rl,null):null;s&&s.handleError(n)}function Hf(r,n,i,s,l){for(let d=0;d<i.length;){const y=i[d++],A=i[d++],L=n[y],tt=r.data[y];null!==tt.setInput?tt.setInput(L,l,s,A):L[A]=l}}function yh(r,n,i){const s=Cu(n,r);!function(r,n,i){Kr(r)?r.setValue(n,i):n.textContent=i}(r[11],s,i)}function Vn(r,n,i){let s=i?r.styles:null,l=i?r.classes:null,d=0;if(null!==n)for(let y=0;y<n.length;y++){const A=n[y];"number"==typeof A?d=A:1==d?l=$n(l,A):2==d&&(s=$n(s,A+": "+n[++y]+";"))}i?r.styles=s:r.stylesWithoutHost=s,i?r.classes=l:r.classesWithoutHost=l}const Wn=new ui("INJECTOR",-1);class $x{get(n,i=_c){if(i===_c){const s=new Error(`NullInjectorError: No provider for ${wi(n)}!`);throw s.name="NullInjectorError",s}return i}}const xm=new ui("Set Injector scope."),Sp={},Qv={};let mi;function Xx(){return void 0===mi&&(mi=new $x),mi}function zf(r,n=null,i=null,s){return new ty(r,i,n||Xx(),s)}class ty{constructor(n,i,s,l=null){this.parent=s,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];i&&Ge(i,A=>this.processProvider(A,n,i)),Ge([n],A=>this.processInjectorType(A,[],d)),this.records.set(Wn,Uf(void 0,this));const y=this.records.get(xm);this.scope=null!=y?y.value:null,this.source=l||("object"==typeof n?null:wi(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,i=_c,s=Zi.Default){this.assertNotDestroyed();const l=Ja(this),d=yu(void 0);try{if(!(s&Zi.SkipSelf)){let A=this.records.get(n);if(void 0===A){const L=("function"==typeof(r=n)||"object"==typeof r&&r instanceof ui)&&Rh(n);A=L&&this.injectableDefInScope(L)?Uf(Ic(n),Sp):null,this.records.set(n,A)}if(null!=A)return this.hydrate(n,A)}return(s&Zi.Self?Xx():this.parent).get(n,i=s&Zi.Optional&&i===_c?null:i)}catch(y){if("NullInjectorError"===y.name){if((y[bc]=y[bc]||[]).unshift(wi(n)),l)throw y;return Mc(y,n,"R3InjectorError",this.source)}throw y}finally{yu(d),Ja(l)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((s,l)=>n.push(wi(l))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(n,i,s){if(!(n=Fi(n)))return!1;let l=pi(n);const d=null==l&&n.ngModule||void 0,y=void 0===d?n:d,A=-1!==s.indexOf(y);if(void 0!==d&&(l=pi(d)),null==l)return!1;if(null!=l.imports&&!A){let ft;s.push(y);try{Ge(l.imports,Et=>{this.processInjectorType(Et,i,s)&&(void 0===ft&&(ft=[]),ft.push(Et))})}finally{}if(void 0!==ft)for(let Et=0;Et<ft.length;Et++){const{ngModule:Ft,providers:zt}=ft[Et];Ge(zt,Xt=>this.processProvider(Xt,Ft,zt||Vi))}}this.injectorDefTypes.add(y);const L=mf(y)||(()=>new y);this.records.set(y,Uf(L,Sp));const tt=l.providers;if(null!=tt&&!A){const ft=n;Ge(tt,Et=>this.processProvider(Et,ft,tt))}return void 0!==d&&void 0!==n.providers}processProvider(n,i,s){let l=Jh(n=Fi(n))?n:Fi(n&&n.provide);const d=(r=n,wm(r)?Uf(void 0,r.useValue):Uf(ey(r),Sp));var r;if(Jh(n)||!0!==n.multi)this.records.get(l);else{let y=this.records.get(l);y||(y=Uf(void 0,Sp,!0),y.factory=()=>zh(y.multi),this.records.set(l,y)),l=n,y.multi.push(n)}this.records.set(l,d)}hydrate(n,i){return i.value===Sp&&(i.value=Qv,i.value=i.factory()),"object"==typeof i.value&&i.value&&null!==(r=i.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(i.value),i.value;var r}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Fi(n.providedIn);return"string"==typeof i?"any"===i||i===this.scope:this.injectorDefTypes.has(i)}}function Ic(r){const n=Rh(r),i=null!==n?n.factory:mf(r);if(null!==i)return i;if(r instanceof ui)throw new Error(`Token ${wi(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const n=r.length;if(n>0){const s=Ro(n,"?");throw new Error(`Can't resolve all parameters for ${wi(r)}: (${s.join(", ")}).`)}const i=function(r){const n=r&&(r[f0]||r[sf]);if(n){const i=function(r){if(r.hasOwnProperty("name"))return r.name;const n=(""+r).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(r);return null!==i?()=>i.factory(r):()=>new r}(r);throw new Error("unreachable")}function ey(r,n,i){let s;if(Jh(r)){const l=Fi(r);return mf(l)||Ic(l)}if(wm(r))s=()=>Fi(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))s=()=>r.useFactory(...zh(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))s=()=>Re(Fi(r.useExisting));else{const l=Fi(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return mf(l)||Ic(l);s=()=>new l(...zh(r.deps))}return s}function Uf(r,n,i=!1){return{factory:r,value:n,multi:i?[]:void 0}}function wm(r){return null!==r&&"object"==typeof r&&hs in r}function Jh(r){return"function"==typeof r}const Kx=function(r,n,i){return function(r,n=null,i=null,s){const l=zf(r,n,i,s);return l._resolveInjectorDefTypes(),l}({name:i},n,r,i)};let Kn=(()=>{class r{static create(i,s){return Array.isArray(i)?Kx(i,s,""):Kx(i.providers,i.parent,i.name||"")}}return r.THROW_IF_NOT_FOUND=_c,r.NULL=new $x,r.\u0275prov=ti({token:r,providedIn:"any",factory:()=>Re(Wn)}),r.__NG_ELEMENT_ID__=-1,r})();function vo(r,n){Sl(mv(r)[1],Po())}function zi(r){let n=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),i=!0;const s=[r];for(;n;){let l;if(Ga(r))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Error("Directives cannot inherit Components");l=n.\u0275dir}if(l){if(i){s.push(l);const y=r;y.inputs=oy(r.inputs),y.declaredInputs=oy(r.declaredInputs),y.outputs=oy(r.outputs);const A=l.hostBindings;A&&AS(r,A);const L=l.viewQuery,tt=l.contentQueries;if(L&&Am(r,L),tt&&ew(r,tt),tn(r.inputs,l.inputs),tn(r.declaredInputs,l.declaredInputs),tn(r.outputs,l.outputs),Ga(l)&&l.data.animation){const ft=r.data;ft.animation=(ft.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let y=0;y<d.length;y++){const A=d[y];A&&A.ngInherit&&A(r),A===zi&&(i=!1)}}n=Object.getPrototypeOf(n)}!function(r){let n=0,i=null;for(let s=r.length-1;s>=0;s--){const l=r[s];l.hostVars=n+=l.hostVars,l.hostAttrs=Ud(l.hostAttrs,i=Ud(i,l.hostAttrs))}}(s)}function oy(r){return r===ls?{}:r===Vi?[]:r}function Am(r,n){const i=r.viewQuery;r.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function ew(r,n){const i=r.contentQueries;r.contentQueries=i?(s,l,d)=>{n(s,l,d),i(s,l,d)}:n}function AS(r,n){const i=r.hostBindings;r.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}let Tm=null;function Wf(){if(!Tm){const r=Cn.Symbol;if(r&&r.iterator)Tm=r.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const s=n[i];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(Tm=s)}}}return Tm}function Ip(r){return!!sy(r)&&(Array.isArray(r)||!(r instanceof Map)&&Wf()in r)}function sy(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function rl(r,n,i){return r[n]=i}function yo(r,n,i){return!Object.is(r[n],i)&&(r[n]=i,!0)}function yn(r,n,i,s){const l=Qe();return yo(l,xf(),n)&&(Jn(),vh(mr(),l,r,n,i,s)),yn}function Xf(r,n,i,s){return yo(r,xf(),i)?n+un(i)+s:ln}function bi(r,n,i,s,l,d,y,A){const L=Qe(),tt=Jn(),ft=r+20,Et=tt.firstCreatePass?function(r,n,i,s,l,d,y,A,L){const tt=n.consts,ft=Vu(n,r,4,y||null,Su(tt,A));Uv(n,i,ft,Su(tt,L)),Sl(n,ft);const Et=ft.tViews=wp(2,ft,s,l,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,tt);return null!==n.queries&&(n.queries.template(n,ft),Et.queries=n.queries.embeddedTView(ft)),ft}(ft,tt,L,n,i,s,l,d,y):tt.data[ft];$a(Et,!1);const Ft=L[11].createComment("");kc(tt,L,Ft,Et),Jr(Ft,L),fs(L,L[ft]=$v(Ft,L,Ft,Et)),_u(Et)&&Lx(tt,L,Et),null!=y&&Hi(L,Et,A)}function ol(r){return yf(mn.lFrame.contextLView,20+r)}function ie(r,n=Zi.Default){const i=Qe();return null===i?Re(r,n):N1(Po(),i,Fi(r),n)}function Fc(){throw new Error("invalid")}function Ue(r,n,i){const s=Qe();return yo(s,xf(),n)&&As(Jn(),mr(),s,r,n,s[11],i,!1),Ue}function Bm(r,n,i,s,l){const y=l?"class":"style";Hf(r,i,n.inputs[y],y,s)}function _e(r,n,i,s){const l=Qe(),d=Jn(),y=20+r,A=l[11],L=l[y]=bv(A,n,mn.lFrame.currentNamespace),tt=d.firstCreatePass?function(r,n,i,s,l,d,y){const A=n.consts,tt=Vu(n,r,2,l,Su(A,d));return Uv(n,i,tt,Su(A,y)),null!==tt.attrs&&Vn(tt,tt.attrs,!1),null!==tt.mergedAttrs&&Vn(tt,tt.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,tt),tt}(y,d,l,0,n,i,s):d.data[y];$a(tt,!0);const ft=tt.mergedAttrs;null!==ft&&P0(A,L,ft);const Et=tt.classes;null!==Et&&hm(A,L,Et);const Ft=tt.styles;null!==Ft&&Je(A,L,Ft),64!=(64&tt.flags)&&kc(d,l,L,tt),0===mn.lFrame.elementDepthCount&&Jr(L,l),mn.lFrame.elementDepthCount++,_u(tt)&&(Lx(d,l,tt),Fx(d,tt,l)),null!==s&&Hi(l,tt)}function Me(){let r=Po();_1()?oe():(r=r.parent,$a(r,!1));const n=r;mn.lFrame.elementDepthCount--;const i=Jn();i.firstCreatePass&&(Sl(i,r),kg(r)&&i.queries.elementEnd(r)),null!=n.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(n)&&Bm(i,n,Qe(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(n)&&Bm(i,n,Qe(),n.stylesWithoutHost,!1)}function Oi(r,n,i,s){_e(r,n,i,s),Me()}function Lc(r,n,i){const s=Qe(),l=Jn(),d=r+20,y=l.firstCreatePass?function(r,n,i,s,l){const d=n.consts,y=Su(d,s),A=Vu(n,r,8,"ng-container",y);return null!==y&&Vn(A,y,!0),Uv(n,i,A,Su(d,l)),null!==n.queries&&n.queries.elementStart(n,A),A}(d,l,s,n,i):l.data[d];$a(y,!0);const A=s[d]=s[11].createComment("");kc(l,s,A,y),Jr(A,s),_u(y)&&(Lx(l,s,y),Fx(l,y,s)),null!=i&&Hi(s,y)}function _h(){let r=Po();const n=Jn();_1()?oe():(r=r.parent,$a(r,!1)),n.firstCreatePass&&(Sl(n,r),kg(r)&&n.queries.elementEnd(r))}function Ho(){return Qe()}function Bc(r){return!!r&&"function"==typeof r.then}function Vm(r){return!!r&&"function"==typeof r.subscribe}const t=Vm;function e(r,n,i,s){const l=Qe(),d=Jn(),y=Po();return h(d,l,l[11],y,r,n,!!i,s),e}function o(r,n){const i=Po(),s=Qe(),l=Jn();return h(l,s,ym(E0(l.data),i,s),i,r,n,!1),o}function h(r,n,i,s,l,d,y,A){const L=_u(s),ft=r.firstCreatePass&&Cp(r),Et=n[8],Ft=ga(n);let zt=!0;if(3&s.type||A){const de=Ya(s,n),Ie=A?A(de):de,Pe=Ft.length,Ze=A?ai=>A(To(ai[s.index])):s.index;if(Kr(i)){let ai=null;if(!A&&L&&(ai=function(r,n,i,s){const l=r.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const y=l[d];if(y===i&&l[d+1]===s){const A=n[7],L=l[d+2];return A.length>L?A[L]:null}"string"==typeof y&&(d+=2)}return null}(r,n,l,s.index)),null!==ai)(ai.__ngLastListenerFn__||ai).__ngNextListenerFn__=d,ai.__ngLastListenerFn__=d,zt=!1;else{d=m(s,n,Et,d,!1);const wn=i.listen(Ie,l,d);Ft.push(d,wn),ft&&ft.push(l,Ze,Pe,Pe+1)}}else d=m(s,n,Et,d,!0),Ie.addEventListener(l,d,y),Ft.push(d),ft&&ft.push(l,Ze,Pe,y)}else d=m(s,n,Et,d,!1);const Xt=s.outputs;let ce;if(zt&&null!==Xt&&(ce=Xt[l])){const de=ce.length;if(de)for(let Ie=0;Ie<de;Ie+=2){const Dr=n[ce[Ie]][ce[Ie+1]].subscribe(d),Nr=Ft.length;Ft.push(d,Dr),ft&&ft.push(l,s.index,Nr,-(Nr+1))}}}function c(r,n,i,s){try{return!1!==i(s)}catch(l){return Jv(r,l),!1}}function m(r,n,i,s,l){return function d(y){if(y===Function)return s;const A=2&r.flags?zs(r.index,n):n;0==(32&n[2])&&Mp(A);let L=c(n,0,s,y),tt=d.__ngNextListenerFn__;for(;tt;)L=c(n,0,tt,y)&&L,tt=tt.__ngNextListenerFn__;return l&&!1===L&&(y.preventDefault(),y.returnValue=!1),L}}function x(r=1){return function(r){return(mn.lFrame.contextLView=function(r,n){for(;r>0;)n=n[15],r--;return n}(r,mn.lFrame.contextLView))[8]}(r)}function S(r,n){let i=null;const s=function(r){const n=r.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(r);for(let l=0;l<n.length;l++){const d=n[l];if("*"!==d){if(null===s?Ev(r,d,!0):Cx(s,d))return l}else i=l}return i}function E(r){const n=Qe()[16][6];if(!n.projection){const s=n.projection=Ro(r?r.length:1,null),l=s.slice();let d=n.child;for(;null!==d;){const y=r?S(d,r):0;null!==y&&(l[y]?l[y].projectionNext=d:s[y]=d,l[y]=d),d=d.next}}}function P(r,n=0,i){const s=Qe(),l=Jn(),d=Vu(l,20+r,16,null,i||null);null===d.projection&&(d.projection=n),oe(),64!=(64&d.flags)&&function(r,n,i){Hb(n[11],0,n,i,gx(r,i,n),vx(i.parent||n[6],i,n))}(l,s,d)}function Ee(r,n,i,s,l){const d=r[i+1],y=null===n;let A=s?il(d):ma(d),L=!1;for(;0!==A&&(!1===L||y);){const ft=r[A+1];We(r[A],n)&&(L=!0,r[A+1]=s?Ex(ft):Of(ft)),A=s?il(ft):ma(ft)}L&&(r[i+1]=s?Of(d):Ex(d))}function We(r,n){return null===r||null==n||(Array.isArray(r)?r[1]:r)===n||!(!Array.isArray(r)||"string"!=typeof n)&&qa(r,n)>=0}const Te={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ve(r){return r.substring(Te.key,Te.keyEnd)}function Ni(r,n){const i=Te.textEnd;return i===n?-1:(n=Te.keyEnd=function(r,n,i){for(;n<i&&r.charCodeAt(n)>32;)n++;return n}(r,Te.key=n,i),hn(r,n,i))}function hn(r,n,i){for(;n<i&&r.charCodeAt(n)<=32;)n++;return n}function ya(r,n,i){return Zs(r,n,i,!1),ya}function gn(r,n){return Zs(r,n,null,!0),gn}function xa(r,n){for(let i=function(r){return function(r){Te.key=0,Te.keyEnd=0,Te.value=0,Te.valueEnd=0,Te.textEnd=r.length}(r),Ni(r,hn(r,0,Te.textEnd))}(n);i>=0;i=Ni(n,i))ks(r,ve(n),!0)}function Zs(r,n,i,s){const l=Qe(),d=Jn(),y=Nh(2);d.firstUpdatePass&&jm(d,r,y,s),n!==ln&&yo(l,y,n)&&Vl(d,d.data[fa()],l,l[11],r,l[y+1]=function(r,n){return null==r||("string"==typeof n?r+=n:"object"==typeof r&&(r=wi(cs(r)))),r}(n,i),s,y)}function Vp(r,n){return n>=r.expandoStartIndex}function jm(r,n,i,s){const l=r.data;if(null===l[i+1]){const d=l[fa()],y=Vp(r,i);jl(d,s)&&null===n&&!y&&(n=!1),n=function(r,n,i,s){const l=E0(r);let d=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=bh(i=zo(null,r,n,i,s),n.attrs,s),d=null);else{const y=n.directiveStylingLast;if(-1===y||r[y]!==l)if(i=zo(l,r,n,i,s),null===d){let L=function(r,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==ma(s))return r[il(s)]}(r,n,s);void 0!==L&&Array.isArray(L)&&(L=zo(null,r,n,L[1],s),L=bh(L,n.attrs,s),function(r,n,i,s){r[il(i?n.classBindings:n.styleBindings)]=s}(r,n,s,L))}else d=function(r,n,i){let s;const l=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<l;d++)s=bh(s,r[d].hostAttrs,i);return bh(s,n.attrs,i)}(r,n,s)}return void 0!==d&&(s?n.residualClasses=d:n.residualStyles=d),i}(l,d,n,s),function(r,n,i,s,l,d){let y=d?n.classBindings:n.styleBindings,A=il(y),L=ma(y);r[s]=i;let ft,tt=!1;if(Array.isArray(i)){const Et=i;ft=Et[1],(null===ft||qa(Et,ft)>0)&&(tt=!0)}else ft=i;if(l)if(0!==L){const Ft=il(r[A+1]);r[s+1]=ph(Ft,A),0!==Ft&&(r[Ft+1]=Nu(r[Ft+1],s)),r[A+1]=function(r,n){return 131071&r|n<<17}(r[A+1],s)}else r[s+1]=ph(A,0),0!==A&&(r[A+1]=Nu(r[A+1],s)),A=s;else r[s+1]=ph(L,0),0===A?A=s:r[L+1]=Nu(r[L+1],s),L=s;tt&&(r[s+1]=Of(r[s+1])),Ee(r,ft,s,!0),Ee(r,ft,s,!1),function(r,n,i,s,l){const d=l?r.residualClasses:r.residualStyles;null!=d&&"string"==typeof n&&qa(d,n)>=0&&(i[s+1]=Ex(i[s+1]))}(n,ft,r,s,d),y=ph(A,L),d?n.classBindings=y:n.styleBindings=y}(l,d,n,i,y,s)}}function zo(r,n,i,s,l){let d=null;const y=i.directiveEnd;let A=i.directiveStylingLast;for(-1===A?A=i.directiveStart:A++;A<y&&(d=n[A],s=bh(s,d.hostAttrs,l),d!==r);)A++;return null!==r&&(i.directiveStylingLast=A),s}function bh(r,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let d=0;d<n.length;d++){const y=n[d];"number"==typeof y?l=y:l===s&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ks(r,y,!!i||n[++d]))}return void 0===r?null:r}function Vl(r,n,i,s,l,d,y,A){if(!(3&n.type))return;const L=r.data,tt=L[A+1];nu(function(r){return 1==(1&r)}(tt)?jc(L,n,i,l,ma(tt),y):void 0)||(nu(d)||function(r){return 2==(2&r)}(tt)&&(d=jc(L,null,i,l,A,y)),function(r,n,i,s,l){const d=Kr(r);if(n)l?d?r.addClass(i,s):i.classList.add(s):d?r.removeClass(i,s):i.classList.remove(s);else{let y=-1===s.indexOf("-")?void 0:Qo.DashCase;if(null==l)d?r.removeStyle(i,s,y):i.style.removeProperty(s);else{const A="string"==typeof l&&l.endsWith("!important");A&&(l=l.slice(0,-10),y|=Qo.Important),d?r.setStyle(i,s,l,y):i.style.setProperty(s,l,A?"important":"")}}}(s,y,Cu(fa(),i),l,d))}function jc(r,n,i,s,l,d){const y=null===n;let A;for(;l>0;){const L=r[l],tt=Array.isArray(L),ft=tt?L[1]:L,Et=null===ft;let Ft=i[l+1];Ft===ln&&(Ft=Et?Vi:void 0);let zt=Et?Oo(Ft,s):ft===s?Ft:void 0;if(tt&&!nu(zt)&&(zt=Oo(L,s)),nu(zt)&&(A=zt,y))return A;const Xt=r[l+1];l=y?il(Xt):ma(Xt)}if(null!==n){let L=d?n.residualClasses:n.residualStyles;null!=L&&(A=Oo(L,s))}return A}function nu(r){return void 0!==r}function jl(r,n){return 0!=(r.flags&(n?16:32))}function ii(r,n=""){const i=Qe(),s=Jn(),l=r+20,d=s.firstCreatePass?Vu(s,l,1,n,null):s.data[l],y=i[l]=function(r,n){return Kr(r)?r.createText(n):r.createTextNode(n)}(i[11],n);kc(s,i,y,d),$a(d,!1)}function Vr(r){return to("",r,""),Vr}function to(r,n,i){const s=Qe(),l=Xf(s,r,n,i);return l!==ln&&yh(s,fa(),l),to}function Yr(r,n,i){!function(r,n,i,s){const l=Jn(),d=Nh(2);l.firstUpdatePass&&jm(l,null,d,s);const y=Qe();if(i!==ln&&yo(y,d,i)){const A=l.data[fa()];if(jl(A,s)&&!Vp(l,d)){let L=s?A.classesWithoutHost:A.stylesWithoutHost;null!==L&&(i=$n(L,i||"")),Bm(l,A,y,i,s)}else!function(r,n,i,s,l,d,y,A){l===ln&&(l=Vi);let L=0,tt=0,ft=0<l.length?l[0]:null,Et=0<d.length?d[0]:null;for(;null!==ft||null!==Et;){const Ft=L<l.length?l[L+1]:void 0,zt=tt<d.length?d[tt+1]:void 0;let ce,Xt=null;ft===Et?(L+=2,tt+=2,Ft!==zt&&(Xt=Et,ce=zt)):null===Et||null!==ft&&ft<Et?(L+=2,Xt=ft):(tt+=2,Xt=Et,ce=zt),null!==Xt&&Vl(r,n,i,s,Xt,ce,y,A),ft=L<l.length?l[L]:null,Et=tt<d.length?d[tt]:null}}(l,A,y,y[11],y[d+1],y[d+1]=function(r,n,i){if(null==i||""===i)return Vi;const s=[],l=cs(i);if(Array.isArray(l))for(let d=0;d<l.length;d++)r(s,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&r(s,d,l[d]);else"string"==typeof l&&n(s,l);return s}(r,n,i),s,d)}}(ks,xa,Xf(Qe(),r,n,i),!0)}function _a(r,n,i){const s=Qe();return yo(s,xf(),n)&&As(Jn(),mr(),s,r,n,s[11],i,!0),_a}function su(r,n,i){const s=Qe();if(yo(s,xf(),n)){const d=Jn(),y=mr();As(d,y,s,r,n,ym(E0(d.data),y,s),i,!0)}return su}const Js=void 0;var qu=["en",[["a","p"],["AM","PM"],Js],[["AM","PM"],Js,Js],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Js,"{1} 'at' {0}",Js],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Ch={};function Mo(r){const n=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let i=Xl(n);if(i)return i;const s=n.split("-")[0];if(i=Xl(s),i)return i;if("en"===s)return qu;throw new Error(`Missing locale data for the locale "${r}".`)}function Xl(r){return r in Ch||(Ch[r]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[r]),Ch[r]}var ci=(()=>((ci=ci||{})[ci.LocaleId=0]="LocaleId",ci[ci.DayPeriodsFormat=1]="DayPeriodsFormat",ci[ci.DayPeriodsStandalone=2]="DayPeriodsStandalone",ci[ci.DaysFormat=3]="DaysFormat",ci[ci.DaysStandalone=4]="DaysStandalone",ci[ci.MonthsFormat=5]="MonthsFormat",ci[ci.MonthsStandalone=6]="MonthsStandalone",ci[ci.Eras=7]="Eras",ci[ci.FirstDayOfWeek=8]="FirstDayOfWeek",ci[ci.WeekendRange=9]="WeekendRange",ci[ci.DateFormat=10]="DateFormat",ci[ci.TimeFormat=11]="TimeFormat",ci[ci.DateTimeFormat=12]="DateTimeFormat",ci[ci.NumberSymbols=13]="NumberSymbols",ci[ci.NumberFormats=14]="NumberFormats",ci[ci.CurrencyCode=15]="CurrencyCode",ci[ci.CurrencySymbol=16]="CurrencySymbol",ci[ci.CurrencyName=17]="CurrencyName",ci[ci.Currencies=18]="Currencies",ci[ci.Directionality=19]="Directionality",ci[ci.PluralCase=20]="PluralCase",ci[ci.ExtraData=21]="ExtraData",ci))();const Hc="en-US";let SM=Hc;function BS(r,n,i,s,l){if(r=Fi(r),Array.isArray(r))for(let d=0;d<r.length;d++)BS(r[d],n,i,s,l);else{const d=Jn(),y=Qe();let A=Jh(r)?r:Fi(r.provide),L=ey(r);const tt=Po(),ft=1048575&tt.providerIndexes,Et=tt.directiveStart,Ft=tt.providerIndexes>>20;if(Jh(r)||!r.multi){const zt=new bf(L,l,ie),Xt=jS(A,n,l?ft:ft+Ft,Et);-1===Xt?(N0(Cf(tt,y),d,A),VS(d,r,n.length),n.push(A),tt.directiveStart++,tt.directiveEnd++,l&&(tt.providerIndexes+=1048576),i.push(zt),y.push(zt)):(i[Xt]=zt,y[Xt]=zt)}else{const zt=jS(A,n,ft+Ft,Et),Xt=jS(A,n,ft,ft+Ft),ce=zt>=0&&i[zt],de=Xt>=0&&i[Xt];if(l&&!de||!l&&!ce){N0(Cf(tt,y),d,A);const Ie=function(r,n,i,s,l){const d=new bf(r,i,ie);return d.multi=[],d.index=n,d.componentProviders=0,h3(d,l,s&&!i),d}(l?gO:mO,i.length,l,s,L);!l&&de&&(i[Xt].providerFactory=Ie),VS(d,r,n.length,0),n.push(A),tt.directiveStart++,tt.directiveEnd++,l&&(tt.providerIndexes+=1048576),i.push(Ie),y.push(Ie)}else VS(d,r,zt>-1?zt:Xt,h3(i[l?Xt:zt],L,!l&&s));!l&&s&&de&&i[Xt].componentProviders++}}}function VS(r,n,i,s){const l=Jh(n);if(l||function(r){return!!r.useClass}(n)){const y=(n.useClass||n).prototype.ngOnDestroy;if(y){const A=r.destroyHooks||(r.destroyHooks=[]);if(!l&&n.multi){const L=A.indexOf(i);-1===L?A.push(i,[s,y]):A[L+1].push(s,y)}else A.push(i,y)}}}function h3(r,n,i){return i&&r.componentProviders++,r.multi.push(n)-1}function jS(r,n,i,s){for(let l=i;l<s;l++)if(n[l]===r)return l;return-1}function mO(r,n,i,s){return HS(this.multi,[])}function gO(r,n,i,s){const l=this.multi;let d;if(this.providerFactory){const y=this.providerFactory.componentProviders,A=Fh(i,i[1],this.providerFactory.index,s);d=A.slice(0,y),HS(l,d);for(let L=y;L<A.length;L++)d.push(A[L])}else d=[],HS(l,d);return d}function HS(r,n){for(let i=0;i<r.length;i++)n.push((0,r[i])());return n}function Un(r,n=[]){return i=>{i.providersResolver=(s,l)=>function(r,n,i){const s=Jn();if(s.firstCreatePass){const l=Ga(r);BS(i,s.data,s.blueprint,l,!0),BS(n,s.data,s.blueprint,l,!1)}}(s,l?l(r):r,n)}}class u3{}const f3="ngComponent";class xO{resolveComponentFactory(n){throw function(r){const n=Error(`No component factory found for ${wi(r)}. Did you add it to @NgModule.entryComponents?`);return n[f3]=r,n}(n)}}let hd=(()=>{class r{}return r.NULL=new xO,r})();function TM(...r){}function Dy(r,n){return new qi(Ya(r,n))}const bO=function(){return Dy(Po(),Qe())};let qi=(()=>{class r{constructor(i){this.nativeElement=i}}return r.__NG_ELEMENT_ID__=bO,r})();function d3(r){return r instanceof qi?r.nativeElement:r}class $m{}let ud=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>CO(),r})();const CO=function(){const r=Qe(),i=zs(Po().index,r);return function(r){return r[11]}(sh(i)?i:r)};let US=(()=>{class r{}return r.\u0275prov=ti({token:r,providedIn:"root",factory:()=>null}),r})();class Wp{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const p3=new Wp("13.0.0"),Ey={};function PM(r,n,i,s,l=!1){for(;null!==i;){const d=n[i.index];if(null!==d&&s.push(To(d)),Ir(d))for(let A=10;A<d.length;A++){const L=d[A],tt=L[1].firstChild;null!==tt&&PM(L[1],L,tt,s)}const y=i.type;if(8&y)PM(r,n,i.child,s);else if(32&y){const A=cx(i,n);let L;for(;L=A();)s.push(L)}else if(16&y){const A=xx(n,i);if(Array.isArray(A))s.push(...A);else{const L=em(n[16]);PM(L[1],L,A,s,!0)}}i=l?i.projectionNext:i.next}return s}class mw{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return PM(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ir(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(dh(n,s),Nn(i,s))}this._attachedToViewContainer=!1}nm(this._lView[1],this._lView)}onDestroy(n){jv(this._lView[1],this._lView,null,n)}markForCheck(){Mp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Wr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,n,i){Ng(!0);try{Wr(r,n,i)}finally{Ng(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var n;this._appRef=null,cp(this._lView[1],n=this._lView,n[11],2,null,null)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=n}}class EO extends mw{constructor(n){super(n),this._view=n}detectChanges(){eM(this._view)}checkNoChanges(){!function(r){Ng(!0);try{eM(r)}finally{Ng(!1)}}(this._view)}get context(){return null}}class m3 extends hd{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Vs(n);return new GS(i,this.ngModule)}}function g3(r){const n=[];for(let i in r)r.hasOwnProperty(i)&&n.push({propName:r[i],templateName:i});return n}const AO=new ui("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>go});class GS extends u3{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=n.selectors.map(Pv).join(","),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return g3(this.componentDef.inputs)}get outputs(){return g3(this.componentDef.outputs)}create(n,i,s,l){const d=(l=l||this.ngModule)?function(r,n){return{get:(i,s,l)=>{const d=r.get(i,Ey,l);return d!==Ey||s===Ey?d:n.get(i,s,l)}}}(n,l.injector):n,y=d.get($m,Og),A=d.get(US,null),L=y.createRenderer(null,this.componentDef),tt=this.componentDef.selectors[0][0]||"div",ft=s?function(r,n,i){if(Kr(r))return r.selectRootElement(n,i===as.ShadowDom);let s="string"==typeof n?r.querySelector(n):n;return s.textContent="",s}(L,s,this.componentDef.encapsulation):bv(y.createRenderer(null,this.componentDef),tt,function(r){const n=r.toLowerCase();return"svg"===n?Rg:"math"===n?"http://www.w3.org/1998/MathML/":null}(tt)),Et=this.componentDef.onPush?576:528,Ft=function(r,n){return{components:[],scheduler:r||go,clean:Pa,playerHandler:n||null,flags:0}}(),zt=wp(0,null,null,1,0,null,null,null,null,null),Xt=vp(null,zt,Ft,Et,null,null,y,L,A,d);let ce,de;Xa(Xt);try{const Ie=function(r,n,i,s,l,d){const y=i[1];i[20]=r;const L=Vu(y,20,2,"#host",null),tt=L.mergedAttrs=n.hostAttrs;null!==tt&&(Vn(L,tt,!0),null!==r&&(P0(l,r,tt),null!==L.classes&&hm(l,r,L.classes),null!==L.styles&&Je(l,r,L.styles)));const ft=s.createRenderer(r,n),Et=vp(i,Bx(n),null,n.onPush?64:16,i[20],L,s,ft,d||null,null);return y.firstCreatePass&&(N0(Cf(L,i),y,n.type),Wx(y,L),fr(L,i.length,1)),fs(i,Et),i[20]=Et}(ft,this.componentDef,Xt,y,L);if(ft)if(s)P0(L,ft,["ng-version",p3.full]);else{const{attrs:Pe,classes:Ze}=function(r){const n=[],i=[];let s=1,l=2;for(;s<r.length;){let d=r[s];if("string"==typeof d)2===l?""!==d&&n.push(d,r[++s]):8===l&&i.push(d);else{if(!Lo(l))break;l=d}s++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);Pe&&P0(L,ft,Pe),Ze&&Ze.length>0&&hm(L,ft,Ze.join(" "))}if(de=Vd(zt,20),void 0!==i){const Pe=de.projection=[];for(let Ze=0;Ze<this.ngContentSelectors.length;Ze++){const ai=i[Ze];Pe.push(null!=ai?Array.from(ai):null)}}ce=function(r,n,i,s,l){const d=i[1],y=function(r,n,i){const s=Po();r.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Yx(r,s,n,Vf(r,n,1,null),i));const l=Fh(n,r,s.directiveStart,s);Jr(l,n);const d=Ya(s,n);return d&&Jr(d,n),l}(d,i,n);if(s.components.push(y),r[8]=y,l&&l.forEach(L=>L(y,n)),n.contentQueries){const L=Po();n.contentQueries(1,y,L.directiveStart)}const A=Po();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ka(A.index),zx(i[1],A,0,A.directiveStart,A.directiveEnd,n),Gv(n,y)),y}(Ie,this.componentDef,Xt,Ft,[vo]),yp(zt,Xt,null)}finally{Ds()}return new IO(this.componentType,ce,Dy(de,Xt),Xt,de)}}class IO extends class{}{constructor(n,i,s,l,d){super(),this.location=s,this._rootLView=l,this._tNode=d,this.instance=i,this.hostView=this.changeDetectorRef=new EO(l),this.componentType=n}get injector(){return new Sf(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class Uc{}class v3{}const ky=new Map;class x3 extends Uc{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new m3(this);const s=js(n);this._bootstrapComponents=el(s.bootstrap),this._r3Injector=zf(n,i,[{provide:Uc,useValue:this},{provide:hd,useValue:this.componentFactoryResolver}],wi(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,i=Kn.THROW_IF_NOT_FOUND,s=Zi.Default){return n===Kn||n===Uc||n===Wn?this:this._r3Injector.get(n,i,s)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class YS extends v3{constructor(n){super(),this.moduleType=n,null!==js(n)&&function(r){const n=new Set;!function i(s){const l=js(s,!0),d=l.id;null!==d&&(function(r,n,i){if(n&&n!==i)throw new Error(`Duplicate module registered for ${r} - ${wi(n)} vs ${wi(n.name)}`)}(d,ky.get(d),s),ky.set(d,s));const y=el(l.imports);for(const A of y)n.has(A)||(n.add(A),i(A))}(r)}(n)}create(n){return new x3(this.moduleType,n)}}function gw(r,n){const i=r[n];return i===ln?void 0:i}function _3(r,n,i,s,l,d){const y=n+i;return yo(r,y,l)?rl(r,y+1,d?s.call(d,l):s(l)):gw(r,y+1)}function b3(r,n,i,s,l,d,y){const A=n+i;return function(r,n,i,s){const l=yo(r,n,i);return yo(r,n+1,s)||l}(r,A,l,d)?rl(r,A+2,y?s.call(y,l,d):s(l,d)):gw(r,A+2)}function Xm(r,n){const i=Jn();let s;const l=r+20;i.firstCreatePass?(s=function(r,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(r===s.name)return s}throw new ss("302",`The pipe '${r}' could not be found!`)}(n,i.pipeRegistry),i.data[l]=s,s.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(l,s.onDestroy)):s=i.data[l];const d=s.factory||(s.factory=mf(s.type)),y=yu(ie);try{const A=I0(!1),L=d();return I0(A),function(r,n,i,s){i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=s}(i,Qe(),l,L),L}finally{yu(y)}}function Ay(r,n,i){const s=r+20,l=Qe(),d=yf(l,s);return vw(l,s)?_3(l,Yo(),n,d.transform,i,d):d.transform(i)}function vw(r,n){return r[1].data[n].pure}function $S(r){return n=>{setTimeout(r,void 0,n)}}const Si=class extends _{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){var L,tt,ft;let l=n,d=i||(()=>null),y=s;if(n&&"object"==typeof n){const Et=n;l=null==(L=Et.next)?void 0:L.bind(Et),d=null==(tt=Et.error)?void 0:tt.bind(Et),y=null==(ft=Et.complete)?void 0:ft.bind(Et)}this.__isAsync&&(d=$S(d),l&&(l=$S(l)),y&&(y=$S(y)));const A=super.subscribe({next:l,error:d,complete:y});return n instanceof M&&n.add(A),A}};function KO(){return this._results[Wf()]()}class Km{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Wf(),s=Km.prototype;s[i]||(s[i]=KO)}get changes(){return this._changes||(this._changes=new Si)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const l=Ea(n);(this._changesDetected=!function(r,n,i){if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){let l=r[s],d=n[s];if(i&&(l=i(l),d=i(d)),d!==l)return!1}return!0}(s._results,l,i))&&(s._results=l,s.length=l.length,s.last=l[this.length-1],s.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const qO=function(){return IM(Po(),Qe())};let hu=(()=>{class r{}return r.__NG_ELEMENT_ID__=qO,r})();const JO=hu,QO=class extends JO{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}createEmbeddedView(n){const i=this._declarationTContainer.tViews,s=vp(this._declarationLView,i,n,16,null,i.declTNode,null,null,null,null);s[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(s[19]=d.createEmbeddedView(i)),yp(i,s,n),new mw(s)}};function IM(r,n){return 4&r.type?new QO(n,r,Dy(r,n)):null}const iN=function(){return A3(Po(),Qe())};let ml=(()=>{class r{}return r.__NG_ELEMENT_ID__=iN,r})();const rN=ml,E3=class extends rN{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Dy(this._hostTNode,this._hostLView)}get injector(){return new Sf(this._hostTNode,this._hostLView)}get parentInjector(){const n=O0(this._hostTNode,this._hostLView);if(Ug(n)){const i=vc(n,this._hostLView),s=Eu(n);return new Sf(i[1].data[s+8],i)}return new Sf(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=k3(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,s){const l=n.createEmbeddedView(i||{});return this.insert(l,s),l}createComponent(n,i,s,l,d){const y=n&&!("function"==typeof n);let A;if(y)A=i;else{const Et=i||{};A=Et.index,s=Et.injector,l=Et.projectableNodes,d=Et.ngModuleRef}const L=y?n:new GS(Vs(n)),tt=s||this.parentInjector;if(!d&&null==L.ngModule&&tt){const Et=tt.get(Uc,null);Et&&(d=Et)}const ft=L.create(tt,l,void 0,d);return this.insert(ft.hostView,A),ft}insert(n,i){const s=n._lView,l=s[1];if(Ir(s[3])){const ft=this.indexOf(n);if(-1!==ft)this.detach(ft);else{const Et=s[3],Ft=new E3(Et,Et[6],Et[3]);Ft.detach(Ft.indexOf(n))}}const d=this._adjustIndex(i),y=this._lContainer;!function(r,n,i,s){const l=10+s,d=i.length;s>0&&(i[l-1][4]=n),s<d-10?(n[4]=i[l],zn(i,10+s,n)):(i.push(n),n[4]=null),n[3]=i;const y=n[17];null!==y&&i!==y&&function(r,n){const i=r[9];n[16]!==n[3][3][16]&&(r[2]=!0),null===i?r[9]=[n]:i.push(n)}(y,n);const A=n[19];null!==A&&A.insertView(r),n[2]|=128}(l,s,y,d);const A=lm(d,y),L=s[11],tt=om(L,y[7]);return null!==tt&&function(r,n,i,s,l,d){s[0]=l,s[6]=n,cp(r,s,i,1,l,d)}(l,y[6],L,s,tt,A),n.attachToViewContainerRef(),zn(XS(y),d,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=k3(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=dh(this._lContainer,i);s&&(Nn(XS(this._lContainer),i),nm(s[1],s))}detach(n){const i=this._adjustIndex(n,-1),s=dh(this._lContainer,i);return s&&null!=Nn(XS(this._lContainer),i)?new mw(s):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function k3(r){return r[8]}function XS(r){return r[8]||(r[8]=[])}function A3(r,n){let i;const s=n[r.index];if(Ir(s))i=s;else{let l;if(8&r.type)l=To(s);else{const d=n[11];l=d.createComment("");const y=Ya(r,n);Ec(d,om(d,y),l,function(r,n){return Kr(r)?r.nextSibling(n):n.nextSibling}(d,y),!1)}n[r.index]=i=$v(s,n,l,r),fs(n,i)}return new E3(i,r,n)}class KS{constructor(n){this.queryList=n,this.matches=null}clone(){return new KS(this.queryList)}setDirty(){this.queryList.setDirty()}}class ZS{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let d=0;d<s;d++){const y=i.getByIndex(d);l.push(this.queries[y.indexInDeclarationView].clone())}return new ZS(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==O3(n,i).matches&&this.queries[i].setDirty()}}class T3{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class qS{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,d=this.getByIndex(s).embeddedTView(n,l);d&&(d.indexInDeclarationView=s,null!==i?i.push(d):i=[d])}return null!==i?new qS(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class JS{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new JS(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const d=s[l];this.matchTNodeWithReadOption(n,i,aN(i,d)),this.matchTNodeWithReadOption(n,i,oo(i,n,d,!1,!1))}else s===hu?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,oo(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===qi||l===ml||l===hu&&4&i.type)this.addMatch(i.index,-2);else{const d=oo(i,n,l,!1,!1);null!==d&&this.addMatch(i.index,d)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function aN(r,n){const i=r.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function hN(r,n,i,s){return-1===i?function(r,n){return 11&r.type?Dy(r,n):4&r.type?IM(r,n):null}(n,r):-2===i?function(r,n,i){return i===qi?Dy(n,r):i===hu?IM(n,r):i===ml?A3(n,r):void 0}(r,n,s):Fh(r,r[1],i,n)}function P3(r,n,i,s){const l=n[19].queries[s];if(null===l.matches){const d=r.data,y=i.matches,A=[];for(let L=0;L<y.length;L+=2){const tt=y[L];A.push(tt<0?null:hN(n,d[tt],y[L+1],i.metadata.read))}l.matches=A}return l.matches}function QS(r,n,i,s){const l=r.queries.getByIndex(i),d=l.matches;if(null!==d){const y=P3(r,n,l,i);for(let A=0;A<d.length;A+=2){const L=d[A];if(L>0)s.push(y[A/2]);else{const tt=d[A+1],ft=n[-L];for(let Et=10;Et<ft.length;Et++){const Ft=ft[Et];Ft[17]===Ft[3]&&QS(Ft[1],Ft,tt,s)}if(null!==ft[9]){const Et=ft[9];for(let Ft=0;Ft<Et.length;Ft++){const zt=Et[Ft];QS(zt[1],zt,tt,s)}}}}}return s}function Wi(r){const n=Qe(),i=Jn(),s=Lg();C1(s+1);const l=O3(i,s);if(r.dirty&&C0(n)===(2==(2&l.metadata.flags))){if(null===l.matches)r.reset([]);else{const d=l.crossesNgTemplate?QS(i,n,s,[]):P3(i,n,l,s);r.reset(d,d3),r.notifyOnChanges()}return!0}return!1}function Or(r,n,i){const s=Jn();s.firstCreatePass&&(R3(s,new T3(r,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),I3(s,Qe(),n)}function Cr(r,n,i,s){const l=Jn();if(l.firstCreatePass){const d=Po();R3(l,new T3(n,i,s),d.index),function(r,n){const i=r.contentQueries||(r.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(r.queries.length-1,n)}(l,r),2==(2&i)&&(l.staticContentQueries=!0)}I3(l,Qe(),i)}function Yi(){return r=Qe(),n=Lg(),r[19].queries[n].queryList;var r,n}function I3(r,n,i){const s=new Km(4==(4&i));jv(r,n,s,s.destroy),null===n[19]&&(n[19]=new ZS),n[19].queries.push(new KS(s))}function R3(r,n,i){null===r.queries&&(r.queries=new qS),r.queries.track(new JS(n,i))}function O3(r,n){return r.queries.getByIndex(n)}const xw=new ui("Application Initializer");let Py=(()=>{class r{constructor(i){this.appInits=i,this.resolve=TM,this.reject=TM,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,l)=>{this.resolve=s,this.reject=l})}runInitializers(){if(this.initialized)return;const i=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(Bc(d))i.push(d);else if(t(d)){const y=new Promise((A,L)=>{d.subscribe({complete:A,error:L})});i.push(y)}}Promise.all(i).then(()=>{s()}).catch(l=>{this.reject(l)}),0===i.length&&s(),this.initialized=!0}}return r.\u0275fac=function(i){return new(i||r)(Re(xw,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const ww=new ui("AppId"),jN={provide:ww,useFactory:function(){return`${oD()}${oD()}${oD()}`},deps:[]};function oD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const J3=new ui("Platform Initializer"),Zm=new ui("Platform ID"),Q3=new ui("appBootstrapListener");let NM=(()=>{class r{log(i){console.log(i)}warn(i){console.warn(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const cd=new ui("LocaleId"),tT=new ui("DefaultCurrencyCode");class zN{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}const sD=function(r){return new YS(r)},UN=sD,GN=function(r){return Promise.resolve(sD(r))},iT=function(r){const n=sD(r),s=el(js(r).declarations).reduce((l,d)=>{const y=Vs(d);return y&&l.push(new GS(y)),l},[]);return new zN(n,s)},WN=iT,YN=function(r){return Promise.resolve(iT(r))};let FM=(()=>{class r{constructor(){this.compileModuleSync=UN,this.compileModuleAsync=GN,this.compileModuleAndAllComponentsSync=WN,this.compileModuleAndAllComponentsAsync=YN}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const KN=(()=>Promise.resolve(0))();function aD(r){"undefined"==typeof Zone?KN.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ji{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Si(!1),this.onMicrotaskEmpty=new Si(!1),this.onStable=new Si(!1),this.onError=new Si(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&i,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){let r=Cn.requestAnimationFrame,n=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&n){const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function(r){const n=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Cn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,hD(r),r.isCheckStableRunning=!0,lD(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),hD(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,l,d,y,A)=>{try{return nT(r),i.invokeTask(l,d,y,A)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||r.shouldCoalesceRunChangeDetection)&&n(),rT(r)}},onInvoke:(i,s,l,d,y,A,L)=>{try{return nT(r),i.invoke(l,d,y,A,L)}finally{r.shouldCoalesceRunChangeDetection&&n(),rT(r)}},onHasTask:(i,s,l,d)=>{i.hasTask(l,d),s===l&&("microTask"==d.change?(r._hasPendingMicrotasks=d.microTask,hD(r),lD(r)):"macroTask"==d.change&&(r.hasPendingMacrotasks=d.macroTask))},onHandleError:(i,s,l,d)=>(i.handleError(l,d),r.runOutsideAngular(()=>r.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+l,n,qN,TM,TM);try{return d.runTask(y,i,s)}finally{d.cancelTask(y)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const qN={};function lD(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function hD(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function nT(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function rT(r){r._nesting--,lD(r)}class tF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Si,this.onMicrotaskEmpty=new Si,this.onStable=new Si,this.onError=new Si}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}let uD=(()=>{class r{constructor(i){this._ngZone=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),aD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())aD(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,l){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:d,updateCb:l})}whenStable(i,s,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(i,s,l){return[]}}return r.\u0275fac=function(i){return new(i||r)(Re(Ji))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),oT=(()=>{class r{constructor(){this._applications=new Map,cD.addToWindow(this)}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return cD.findTestabilityInTree(this,i,s)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();class eF{addToWindow(n){}findTestabilityInTree(n,i,s){return null}}let cD=new eF,sT=!0,aT=!1;function fD(){return aT=!0,sT}let Qu;const lT=new ui("AllowMultipleToken");class dD{constructor(n,i){this.name=n,this.token=i}}function hT(r,n,i=[]){const s=`Platform: ${n}`,l=new ui(s);return(d=[])=>{let y=uT();if(!y||y.injector.get(lT,!1))if(r)r(i.concat(d).concat({provide:l,useValue:!0}));else{const A=i.concat(d).concat({provide:l,useValue:!0},{provide:xm,useValue:"platform"});!function(r){if(Qu&&!Qu.destroyed&&!Qu.injector.get(lT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qu=r.get(cT);const n=r.get(J3,null);n&&n.forEach(i=>i())}(Kn.create({providers:A,name:s}))}return function(r){const n=uT();if(!n)throw new Error("No platform exists!");if(!n.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return n}(l)}}function uT(){return Qu&&!Qu.destroyed?Qu:null}let cT=(()=>{class r{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const A=function(r,n){let i;return i="noop"===r?new tF:("zone.js"===r?void 0:r)||new Ji({enableLongStackTrace:fD(),shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),i}(s?s.ngZone:void 0,{ngZoneEventCoalescing:s&&s.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:s&&s.ngZoneRunCoalescing||!1}),L=[{provide:Ji,useValue:A}];return A.run(()=>{const tt=Kn.create({providers:L,parent:this.injector,name:i.moduleType.name}),ft=i.create(tt),Et=ft.injector.get(Rl,null);if(!Et)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return A.runOutsideAngular(()=>{const Ft=A.onError.subscribe({next:zt=>{Et.handleError(zt)}});ft.onDestroy(()=>{pD(this._modules,ft),Ft.unsubscribe()})}),function(r,n,i){try{const s=i();return Bc(s)?s.catch(l=>{throw n.runOutsideAngular(()=>r.handleError(l)),l}):s}catch(s){throw n.runOutsideAngular(()=>r.handleError(s)),s}}(Et,A,()=>{const Ft=ft.injector.get(Py);return Ft.runInitializers(),Ft.donePromise.then(()=>(function(r){_r(r,"Expected localeId to be defined"),"string"==typeof r&&(SM=r.toLowerCase().replace(/_/g,"-"))}(ft.injector.get(cd,Hc)||Hc),this._moduleDoBootstrap(ft),ft))})})}bootstrapModule(i,s=[]){const l=fT({},s);return function(r,n,i){const s=new YS(i);return Promise.resolve(s)}(0,0,i).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(i){const s=i.injector.get(qm);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(l=>s.bootstrap(l));else{if(!i.instance.ngDoBootstrap)throw new Error(`The module ${wi(i.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(i){return new(i||r)(Re(Kn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();function fT(r,n){return Array.isArray(n)?n.reduce(fT,r):vi(vi({},r),n)}let qm=(()=>{class r{constructor(i,s,l,d,y){this._zone=i,this._injector=s,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new v(tt=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{tt.next(this._stable),tt.complete()})}),L=new v(tt=>{let ft;this._zone.runOutsideAngular(()=>{ft=this._zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),aD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,tt.next(!0))})})});const Et=this._zone.onUnstable.subscribe(()=>{Ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{tt.next(!1)}))});return()=>{ft.unsubscribe(),Et.unsubscribe()}});this.isStable=an(A,L.pipe(lr()))}bootstrap(i,s){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let l;l=i instanceof u3?i:this._componentFactoryResolver.resolveComponentFactory(i),this.componentTypes.push(l.componentType);const d=function(r){return r.isBoundToModule}(l)?void 0:this._injector.get(Uc),A=l.create(Kn.NULL,[],s||l.selector,d),L=A.location.nativeElement,tt=A.injector.get(uD,null),ft=tt&&A.injector.get(oT);return tt&&ft&&ft.registerApplication(L,tt),A.onDestroy(()=>{this.detachView(A.hostView),pD(this.components,A),ft&&ft.unregisterApplication(L)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;pD(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(Q3,[]).concat(this._bootstrapListeners).forEach(l=>l(i))}ngOnDestroy(){this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(i){return new(i||r)(Re(Ji),Re(Kn),Re(Rl),Re(hd),Re(Py))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();function pD(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}const gF=function(r){return function(r,n,i){if(qn(r)&&!i){const s=zs(r.index,n);return new mw(s,s)}return 47&r.type?new mw(n[16],n):null}(Po(),Qe(),16==(16&r))};let co=(()=>{class r{}return r.__NG_ELEMENT_ID__=gF,r})();class xT{constructor(){}supports(n){return Ip(n)}create(n){return new AF(n)}}const kF=(r,n)=>n;class AF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||kF}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,l=0,d=null;for(;i||s;){const y=!s||i&&i.currentIndex<_T(s,l,d)?i:s,A=_T(y,l,d),L=y.currentIndex;if(y===s)l--,s=s._nextRemoved;else if(i=i._next,null==y.previousIndex)l++;else{d||(d=[]);const tt=A-l,ft=L-l;if(tt!=ft){for(let Ft=0;Ft<tt;Ft++){const zt=Ft<d.length?d[Ft]:d[Ft]=0,Xt=zt+Ft;ft<=Xt&&Xt<tt&&(d[Ft]=zt+1)}d[y.previousIndex]=ft-tt}}A!==L&&n(y,A,L)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Ip(n))throw new Error(`Error trying to diff '${wi(n)}'. Only arrays and iterables are allowed`);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,d,y,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let A=0;A<this.length;A++)d=n[A],y=this._trackByFn(A,d),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,d,y,A)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,y,A),s=!0),i=i._next}else l=0,function(r,n){if(Array.isArray(r))for(let i=0;i<r.length;i++)n(r[i]);else{const i=r[Wf()]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,A=>{y=this._trackByFn(l,A),null!==i&&Object.is(i.trackById,y)?(s&&(i=this._verifyReinsertion(i,A,y,l)),Object.is(i.item,A)||this._addIdentityChange(i,A)):(i=this._mismatch(i,A,y,l),s=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,l){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,d,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,d,l)):n=this._addAfter(new TF(i,s),d,l),n}_verifyReinsertion(n,i,s,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==d?n=this._reinsertAfter(d,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,d=n._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new wT),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wT),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class TF{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class PF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class wT{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new PF,this.map.set(i,s)),s.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _T(r,n,i){const s=r.previousIndex;if(null===s)return s;let l=0;return i&&s<i.length&&(l=i[s]),s+n+l}class bT{constructor(){}supports(n){return n instanceof Map||sy(n)}create(){return new IF}}class IF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||sy(n)))throw new Error(`Error trying to diff '${wi(n)}'. Only maps and objects are allowed`)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const d=this._getOrCreateRecordForKey(l,s);i=this._insertBeforeOrAppend(i,d)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const d=l._prev,y=l._next;return d&&(d._next=y),y&&(y._prev=d),l._next=null,l._prev=null,l}const s=new RF(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class RF{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MT(){return new _w([new xT])}let _w=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(null!=s){const l=s.factories.slice();i=i.concat(l)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||MT()),deps:[[r,new tl,new kr]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(null!=s)return s;throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(r){return r.name||typeof r}(i)}'`)}}return r.\u0275prov=ti({token:r,providedIn:"root",factory:MT}),r})();function CT(){return new Iy([new bT])}let Iy=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(s){const l=s.factories.slice();i=i.concat(l)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||CT()),deps:[[r,new tl,new kr]]}}find(i){const s=this.factories.find(l=>l.supports(i));if(s)return s;throw new Error(`Cannot find a differ supporting object '${i}'`)}}return r.\u0275prov=ti({token:r,providedIn:"root",factory:CT}),r})();const NF=[new bT],LF=new _w([new xT]),BF=new Iy(NF),VF=hT(null,"core",[{provide:Zm,useValue:"unknown"},{provide:cT,deps:[Kn]},{provide:oT,deps:[]},{provide:NM,deps:[]}]),GF=[{provide:qm,useClass:qm,deps:[Ji,Kn,Rl,hd,Py]},{provide:AO,deps:[Ji],useFactory:function(r){let n=[];return r.onStable.subscribe(()=>{for(;n.length;)n.pop()()}),function(i){n.push(i)}}},{provide:Py,useClass:Py,deps:[[new kr,xw]]},{provide:FM,useClass:FM,deps:[]},jN,{provide:_w,useFactory:function(){return LF},deps:[]},{provide:Iy,useFactory:function(){return BF},deps:[]},{provide:cd,useFactory:function(r){return r||"undefined"!=typeof $localize&&$localize.locale||Hc},deps:[[new Ws(cd),new kr,new tl]]},{provide:tT,useValue:"USD"}];let YF=(()=>{class r{constructor(i){}}return r.\u0275fac=function(i){return new(i||r)(Re(qm))},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:GF}),r})(),ZM=null;function Gc(){return ZM}const Mn=new ui("DocumentToken");let ig=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:function(){return Re(h4)},providedIn:"platform"}),r})();const jB=new ui("Location Initialized");let h4=(()=>{class r extends ig{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gc().getBaseHref(this._doc)}onPopState(i){const s=Gc().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",i,!1),()=>s.removeEventListener("popstate",i)}onHashChange(i){const s=Gc().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",i,!1),()=>s.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,s,l){u4()?this._history.pushState(i,s,l):this.location.hash=l}replaceState(i,s,l){u4()?this._history.replaceState(i,s,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn))},r.\u0275prov=ti({token:r,factory:function(){return new h4(Re(Mn))},providedIn:"platform"}),r})();function u4(){return!!window.history.pushState}function zD(r,n){if(0==r.length)return n;if(0==n.length)return r;let i=0;return r.endsWith("/")&&i++,n.startsWith("/")&&i++,2==i?r+n.substring(1):1==i?r+n:r+"/"+n}function c4(r){const n=r.match(/#|\?|$/),i=n&&n.index||r.length;return r.slice(0,i-("/"===r[i-1]?1:0))+r.slice(i)}function dd(r){return r&&"?"!==r[0]?"?"+r:r}let By=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:function(){return function(r){const n=Re(Mn).location;return new f4(Re(ig),n&&n.origin||"")}()},providedIn:"root"}),r})();const UD=new ui("appBaseHref");let f4=(()=>{class r extends By{constructor(i,s){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return zD(this._baseHref,i)}path(i=!1){const s=this._platformLocation.pathname+dd(this._platformLocation.search),l=this._platformLocation.hash;return l&&i?`${s}${l}`:s}pushState(i,s,l,d){const y=this.prepareExternalUrl(l+dd(d));this._platformLocation.pushState(i,s,y)}replaceState(i,s,l,d){const y=this.prepareExternalUrl(l+dd(d));this._platformLocation.replaceState(i,s,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformLocation).historyGo)||l.call(s,i)}}return r.\u0275fac=function(i){return new(i||r)(Re(ig),Re(UD,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),UB=(()=>{class r extends By{constructor(i,s){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(i){const s=zD(this._baseHref,i);return s.length>0?"#"+s:s}pushState(i,s,l,d){let y=this.prepareExternalUrl(l+dd(d));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.pushState(i,s,y)}replaceState(i,s,l,d){let y=this.prepareExternalUrl(l+dd(d));0==y.length&&(y=this._platformLocation.pathname),this._platformLocation.replaceState(i,s,y)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformLocation).historyGo)||l.call(s,i)}}return r.\u0275fac=function(i){return new(i||r)(Re(ig),Re(UD,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),qM=(()=>{class r{constructor(i,s){this._subject=new Si,this._urlChangeListeners=[],this._platformStrategy=i;const l=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=c4(d4(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,s=""){return this.path()==this.normalize(i+dd(s))}normalize(i){return r.stripTrailingSlash(function(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,d4(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,s="",l=null){this._platformStrategy.pushState(l,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+dd(s)),l)}replaceState(i,s="",l=null){this._platformStrategy.replaceState(l,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+dd(s)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var s,l;null==(l=(s=this._platformStrategy).historyGo)||l.call(s,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(i="",s){this._urlChangeListeners.forEach(l=>l(i,s))}subscribe(i,s,l){return this._subject.subscribe({next:i,error:s,complete:l})}}return r.normalizeQueryParams=dd,r.joinWithSlash=zD,r.stripTrailingSlash=c4,r.\u0275fac=function(i){return new(i||r)(Re(By),Re(ig))},r.\u0275prov=ti({token:r,factory:function(){return new qM(Re(By),Re(ig))},providedIn:"root"}),r})();function d4(r){return r.replace(/\/index.html$/,"")}var gs=(()=>((gs=gs||{})[gs.Zero=0]="Zero",gs[gs.One=1]="One",gs[gs.Two=2]="Two",gs[gs.Few=3]="Few",gs[gs.Many=4]="Many",gs[gs.Other=5]="Other",gs))(),rs=(()=>((rs=rs||{})[rs.Format=0]="Format",rs[rs.Standalone=1]="Standalone",rs))(),Qn=(()=>((Qn=Qn||{})[Qn.Narrow=0]="Narrow",Qn[Qn.Abbreviated=1]="Abbreviated",Qn[Qn.Wide=2]="Wide",Qn[Qn.Short=3]="Short",Qn))(),So=(()=>((So=So||{})[So.Short=0]="Short",So[So.Medium=1]="Medium",So[So.Long=2]="Long",So[So.Full=3]="Full",So))(),dn=(()=>((dn=dn||{})[dn.Decimal=0]="Decimal",dn[dn.Group=1]="Group",dn[dn.List=2]="List",dn[dn.PercentSign=3]="PercentSign",dn[dn.PlusSign=4]="PlusSign",dn[dn.MinusSign=5]="MinusSign",dn[dn.Exponential=6]="Exponential",dn[dn.SuperscriptingExponent=7]="SuperscriptingExponent",dn[dn.PerMille=8]="PerMille",dn[dn.Infinity=9]="Infinity",dn[dn.NaN=10]="NaN",dn[dn.TimeSeparator=11]="TimeSeparator",dn[dn.CurrencyDecimal=12]="CurrencyDecimal",dn[dn.CurrencyGroup=13]="CurrencyGroup",dn))();function JM(r,n){return du(Mo(r)[ci.DateFormat],n)}function QM(r,n){return du(Mo(r)[ci.TimeFormat],n)}function t2(r,n){return du(Mo(r)[ci.DateTimeFormat],n)}function fu(r,n){const i=Mo(r),s=i[ci.NumberSymbols][n];if(void 0===s){if(n===dn.CurrencyDecimal)return i[ci.NumberSymbols][dn.Decimal];if(n===dn.CurrencyGroup)return i[ci.NumberSymbols][dn.Group]}return s}const JB=function(r){return Mo(r)[ci.PluralCase]};function m4(r){if(!r[ci.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[ci.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function du(r,n){for(let i=n;i>-1;i--)if(void 0!==r[i])return r[i];throw new Error("Locale data API: locale data undefined")}function WD(r){const[n,i]=r.split(":");return{hours:+n,minutes:+i}}const r9=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rw={},o9=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Os=(()=>((Os=Os||{})[Os.Short=0]="Short",Os[Os.ShortGMT=1]="ShortGMT",Os[Os.Long=2]="Long",Os[Os.Extended=3]="Extended",Os))(),xn=(()=>((xn=xn||{})[xn.FullYear=0]="FullYear",xn[xn.Month=1]="Month",xn[xn.Date=2]="Date",xn[xn.Hours=3]="Hours",xn[xn.Minutes=4]="Minutes",xn[xn.Seconds=5]="Seconds",xn[xn.FractionalSeconds=6]="FractionalSeconds",xn[xn.Day=7]="Day",xn))(),Gn=(()=>((Gn=Gn||{})[Gn.DayPeriods=0]="DayPeriods",Gn[Gn.Days=1]="Days",Gn[Gn.Months=2]="Months",Gn[Gn.Eras=3]="Eras",Gn))();function s9(r,n,i,s){let l=function(r){if(y4(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[l,d=1,y=1]=r.split("-").map(A=>+A);return e2(l,d-1,y)}const i=parseFloat(r);if(!isNaN(r-i))return new Date(i);let s;if(s=r.match(r9))return function(r){const n=new Date(0);let i=0,s=0;const l=r[8]?n.setUTCFullYear:n.setFullYear,d=r[8]?n.setUTCHours:n.setHours;r[9]&&(i=Number(r[9]+r[10]),s=Number(r[9]+r[11])),l.call(n,Number(r[1]),Number(r[2])-1,Number(r[3]));const y=Number(r[4]||0)-i,A=Number(r[5]||0)-s,L=Number(r[6]||0),tt=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return d.call(n,y,A,L,tt),n}(s)}const n=new Date(r);if(!y4(n))throw new Error(`Unable to convert "${r}" into a date`);return n}(r);n=pd(i,n)||n;let A,y=[];for(;n;){if(A=o9.exec(n),!A){y.push(n);break}{y=y.concat(A.slice(1));const ft=y.pop();if(!ft)break;n=ft}}let L=l.getTimezoneOffset();s&&(L=v4(s,L),l=function(r,n,i){const l=r.getTimezoneOffset();return function(r,n){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+n),r}(r,-1*(v4(n,l)-l))}(l,s));let tt="";return y.forEach(ft=>{const Et=function(r){if($D[r])return $D[r];let n;switch(r){case"G":case"GG":case"GGG":n=$r(Gn.Eras,Qn.Abbreviated);break;case"GGGG":n=$r(Gn.Eras,Qn.Wide);break;case"GGGGG":n=$r(Gn.Eras,Qn.Narrow);break;case"y":n=vs(xn.FullYear,1,0,!1,!0);break;case"yy":n=vs(xn.FullYear,2,0,!0,!0);break;case"yyy":n=vs(xn.FullYear,3,0,!1,!0);break;case"yyyy":n=vs(xn.FullYear,4,0,!1,!0);break;case"Y":n=s2(1);break;case"YY":n=s2(2,!0);break;case"YYY":n=s2(3);break;case"YYYY":n=s2(4);break;case"M":case"L":n=vs(xn.Month,1,1);break;case"MM":case"LL":n=vs(xn.Month,2,1);break;case"MMM":n=$r(Gn.Months,Qn.Abbreviated);break;case"MMMM":n=$r(Gn.Months,Qn.Wide);break;case"MMMMM":n=$r(Gn.Months,Qn.Narrow);break;case"LLL":n=$r(Gn.Months,Qn.Abbreviated,rs.Standalone);break;case"LLLL":n=$r(Gn.Months,Qn.Wide,rs.Standalone);break;case"LLLLL":n=$r(Gn.Months,Qn.Narrow,rs.Standalone);break;case"w":n=YD(1);break;case"ww":n=YD(2);break;case"W":n=YD(1,!0);break;case"d":n=vs(xn.Date,1);break;case"dd":n=vs(xn.Date,2);break;case"c":case"cc":n=vs(xn.Day,1);break;case"ccc":n=$r(Gn.Days,Qn.Abbreviated,rs.Standalone);break;case"cccc":n=$r(Gn.Days,Qn.Wide,rs.Standalone);break;case"ccccc":n=$r(Gn.Days,Qn.Narrow,rs.Standalone);break;case"cccccc":n=$r(Gn.Days,Qn.Short,rs.Standalone);break;case"E":case"EE":case"EEE":n=$r(Gn.Days,Qn.Abbreviated);break;case"EEEE":n=$r(Gn.Days,Qn.Wide);break;case"EEEEE":n=$r(Gn.Days,Qn.Narrow);break;case"EEEEEE":n=$r(Gn.Days,Qn.Short);break;case"a":case"aa":case"aaa":n=$r(Gn.DayPeriods,Qn.Abbreviated);break;case"aaaa":n=$r(Gn.DayPeriods,Qn.Wide);break;case"aaaaa":n=$r(Gn.DayPeriods,Qn.Narrow);break;case"b":case"bb":case"bbb":n=$r(Gn.DayPeriods,Qn.Abbreviated,rs.Standalone,!0);break;case"bbbb":n=$r(Gn.DayPeriods,Qn.Wide,rs.Standalone,!0);break;case"bbbbb":n=$r(Gn.DayPeriods,Qn.Narrow,rs.Standalone,!0);break;case"B":case"BB":case"BBB":n=$r(Gn.DayPeriods,Qn.Abbreviated,rs.Format,!0);break;case"BBBB":n=$r(Gn.DayPeriods,Qn.Wide,rs.Format,!0);break;case"BBBBB":n=$r(Gn.DayPeriods,Qn.Narrow,rs.Format,!0);break;case"h":n=vs(xn.Hours,1,-12);break;case"hh":n=vs(xn.Hours,2,-12);break;case"H":n=vs(xn.Hours,1);break;case"HH":n=vs(xn.Hours,2);break;case"m":n=vs(xn.Minutes,1);break;case"mm":n=vs(xn.Minutes,2);break;case"s":n=vs(xn.Seconds,1);break;case"ss":n=vs(xn.Seconds,2);break;case"S":n=vs(xn.FractionalSeconds,1);break;case"SS":n=vs(xn.FractionalSeconds,2);break;case"SSS":n=vs(xn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=r2(Os.Short);break;case"ZZZZZ":n=r2(Os.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=r2(Os.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=r2(Os.Long);break;default:return null}return $D[r]=n,n}(ft);tt+=Et?Et(l,i,L):"''"===ft?"'":ft.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),tt}function e2(r,n,i){const s=new Date(0);return s.setFullYear(r,n,i),s.setHours(0,0,0),s}function pd(r,n){const i=function(r){return Mo(r)[ci.LocaleId]}(r);if(Rw[i]=Rw[i]||{},Rw[i][n])return Rw[i][n];let s="";switch(n){case"shortDate":s=JM(r,So.Short);break;case"mediumDate":s=JM(r,So.Medium);break;case"longDate":s=JM(r,So.Long);break;case"fullDate":s=JM(r,So.Full);break;case"shortTime":s=QM(r,So.Short);break;case"mediumTime":s=QM(r,So.Medium);break;case"longTime":s=QM(r,So.Long);break;case"fullTime":s=QM(r,So.Full);break;case"short":const l=pd(r,"shortTime"),d=pd(r,"shortDate");s=n2(t2(r,So.Short),[l,d]);break;case"medium":const y=pd(r,"mediumTime"),A=pd(r,"mediumDate");s=n2(t2(r,So.Medium),[y,A]);break;case"long":const L=pd(r,"longTime"),tt=pd(r,"longDate");s=n2(t2(r,So.Long),[L,tt]);break;case"full":const ft=pd(r,"fullTime"),Et=pd(r,"fullDate");s=n2(t2(r,So.Full),[ft,Et])}return s&&(Rw[i][n]=s),s}function n2(r,n){return n&&(r=r.replace(/\{([^}]+)}/g,function(i,s){return null!=n&&s in n?n[s]:i})),r}function rc(r,n,i="-",s,l){let d="";(r<0||l&&r<=0)&&(l?r=1-r:(r=-r,d=i));let y=String(r);for(;y.length<n;)y="0"+y;return s&&(y=y.substr(y.length-n)),d+y}function vs(r,n,i=0,s=!1,l=!1){return function(d,y){let A=function(r,n){switch(r){case xn.FullYear:return n.getFullYear();case xn.Month:return n.getMonth();case xn.Date:return n.getDate();case xn.Hours:return n.getHours();case xn.Minutes:return n.getMinutes();case xn.Seconds:return n.getSeconds();case xn.FractionalSeconds:return n.getMilliseconds();case xn.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,d);if((i>0||A>-i)&&(A+=i),r===xn.Hours)0===A&&-12===i&&(A=12);else if(r===xn.FractionalSeconds)return function(r,n){return rc(r,3).substr(0,n)}(A,n);const L=fu(y,dn.MinusSign);return rc(A,n,L,s,l)}}function $r(r,n,i=rs.Format,s=!1){return function(l,d){return function(r,n,i,s,l,d){switch(i){case Gn.Months:return function(r,n,i){const s=Mo(r),d=du([s[ci.MonthsFormat],s[ci.MonthsStandalone]],n);return du(d,i)}(n,l,s)[r.getMonth()];case Gn.Days:return function(r,n,i){const s=Mo(r),d=du([s[ci.DaysFormat],s[ci.DaysStandalone]],n);return du(d,i)}(n,l,s)[r.getDay()];case Gn.DayPeriods:const y=r.getHours(),A=r.getMinutes();if(d){const tt=function(r){const n=Mo(r);return m4(n),(n[ci.ExtraData][2]||[]).map(s=>"string"==typeof s?WD(s):[WD(s[0]),WD(s[1])])}(n),ft=function(r,n,i){const s=Mo(r);m4(s);const d=du([s[ci.ExtraData][0],s[ci.ExtraData][1]],n)||[];return du(d,i)||[]}(n,l,s),Et=tt.findIndex(Ft=>{if(Array.isArray(Ft)){const[zt,Xt]=Ft,ce=y>=zt.hours&&A>=zt.minutes,de=y<Xt.hours||y===Xt.hours&&A<Xt.minutes;if(zt.hours<Xt.hours){if(ce&&de)return!0}else if(ce||de)return!0}else if(Ft.hours===y&&Ft.minutes===A)return!0;return!1});if(-1!==Et)return ft[Et]}return function(r,n,i){const s=Mo(r),d=du([s[ci.DayPeriodsFormat],s[ci.DayPeriodsStandalone]],n);return du(d,i)}(n,l,s)[y<12?0:1];case Gn.Eras:return function(r,n){return du(Mo(r)[ci.Eras],n)}(n,s)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(l,d,r,n,i,s)}}function r2(r){return function(n,i,s){const l=-1*s,d=fu(i,dn.MinusSign),y=l>0?Math.floor(l/60):Math.ceil(l/60);switch(r){case Os.Short:return(l>=0?"+":"")+rc(y,2,d)+rc(Math.abs(l%60),2,d);case Os.ShortGMT:return"GMT"+(l>=0?"+":"")+rc(y,1,d);case Os.Long:return"GMT"+(l>=0?"+":"")+rc(y,2,d)+":"+rc(Math.abs(l%60),2,d);case Os.Extended:return 0===s?"Z":(l>=0?"+":"")+rc(y,2,d)+":"+rc(Math.abs(l%60),2,d);default:throw new Error(`Unknown zone width "${r}"`)}}}function g4(r){return e2(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function YD(r,n=!1){return function(i,s){let l;if(n){const d=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,y=i.getDate();l=1+Math.floor((y+d)/7)}else{const d=g4(i),y=function(r){const n=e2(r,0,1).getDay();return e2(r,0,1+(n<=4?4:11)-n)}(d.getFullYear()),A=d.getTime()-y.getTime();l=1+Math.round(A/6048e5)}return rc(l,r,fu(s,dn.MinusSign))}}function s2(r,n=!1){return function(i,s){return rc(g4(i).getFullYear(),r,fu(s,dn.MinusSign),n)}}const $D={};function v4(r,n){r=r.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(i)?n:i}function y4(r){return r instanceof Date&&!isNaN(r.valueOf())}class l2{}let E9=(()=>{class r extends l2{constructor(i){super(),this.locale=i}getPluralCategory(i,s){switch(JB(s||this.locale)(i)){case gs.Zero:return"zero";case gs.One:return"one";case gs.Two:return"two";case gs.Few:return"few";case gs.Many:return"many";default:return"other"}}}return r.\u0275fac=function(i){return new(i||r)(Re(cd))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();function b4(r,n){n=encodeURIComponent(n);for(const i of r.split(";")){const s=i.indexOf("="),[l,d]=-1==s?[i,""]:[i.slice(0,s),i.slice(s+1)];if(l.trim()===n)return decodeURIComponent(d)}return null}let Nw=(()=>{class r{constructor(i,s,l,d){this._iterableDiffers=i,this._keyValueDiffers=s,this._ngEl=l,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&(Ip(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${wi(s.item)}`);this._toggleClass(s.item,!0)}),i.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!0)):Object.keys(i).forEach(s=>this._toggleClass(s,!!i[s])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!1)):Object.keys(i).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(i,s){(i=i.trim())&&i.split(/\s+/g).forEach(l=>{s?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return r.\u0275fac=function(i){return new(i||r)(ie(_w),ie(Iy),ie(qi),ie(ud))},r.\u0275dir=li({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class A9{constructor(n,i,s,l){this.$implicit=n,this.ngForOf=i,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ng=(()=>{class r{constructor(i,s,l){this._viewContainer=i,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(r){return r.name||typeof r}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const s=[];i.forEachOperation((l,d,y)=>{if(null==l.previousIndex){const A=this._viewContainer.createEmbeddedView(this._template,new A9(null,this._ngForOf,-1,-1),null===y?void 0:y),L=new M4(l,A);s.push(L)}else if(null==y)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const A=this._viewContainer.get(d);this._viewContainer.move(A,y);const L=new M4(l,A);s.push(L)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,d=this._viewContainer.length;l<d;l++){const y=this._viewContainer.get(l);y.context.index=l,y.context.count=d,y.context.ngForOf=this._ngForOf}i.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(i,s){i.context.$implicit=s.item}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(ie(ml),ie(hu),ie(_w))},r.\u0275dir=li({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class M4{constructor(n,i){this.record=n,this.view=i}}let Zl=(()=>{class r{constructor(i,s){this._viewContainer=i,this._context=new P9,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){C4("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){C4("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(ie(ml),ie(hu))},r.\u0275dir=li({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class P9{constructor(){this.$implicit=null,this.ngIf=null}}function C4(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${wi(n)}'.`)}class JD{constructor(n,i){this._viewContainerRef=n,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Vy=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(i)}_matchCase(i){const s=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(i){if(this._defaultViews&&i!==this._defaultUsed){this._defaultUsed=i;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(i)}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),h2=(()=>{class r{constructor(i,s,l){this.ngSwitch=l,l._addCase(),this._view=new JD(i,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(i){return new(i||r)(ie(ml),ie(hu),ie(Vy,9))},r.\u0275dir=li({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),S4=(()=>{class r{constructor(i,s,l){l._addDefault(new JD(i,s))}}return r.\u0275fac=function(i){return new(i||r)(ie(ml),ie(hu),ie(Vy,9))},r.\u0275dir=li({type:r,selectors:[["","ngSwitchDefault",""]]}),r})(),E4=(()=>{class r{constructor(i,s,l){this._ngEl=i,this._differs=s,this._renderer=l,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){const i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,s){const[l,d]=i.split(".");null!=(s=null!=s&&d?`${s}${d}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,l,s):this._renderer.removeStyle(this._ngEl.nativeElement,l)}_applyChanges(i){i.forEachRemovedItem(s=>this._setStyle(s.key,null)),i.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),i.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(Iy),ie(ud))},r.\u0275dir=li({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})();function oc(r,n){return Error(`InvalidPipeArgument: '${n}' for pipe '${wi(r)}'`)}class O9{createSubscription(n,i){return n.subscribe({next:i,error:s=>{throw s}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class N9{createSubscription(n,i){return n.then(i,s=>{throw s})}dispose(n){}onDestroy(n){}}const F9=new N9,L9=new O9;let QD=(()=>{class r{constructor(i){this._ref=i,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,s=>this._updateLatestValue(i,s))}_selectStrategy(i){if(Bc(i))return F9;if(Vm(i))return L9;throw oc(r,i)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,s){i===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(i){return new(i||r)(ie(co,16))},r.\u0275pipe=ko({name:"async",type:r,pure:!1}),r})();const z9=new ui("DATE_PIPE_DEFAULT_TIMEZONE");let k4=(()=>{class r{constructor(i,s){this.locale=i,this.defaultTimezone=s}transform(i,s="mediumDate",l,d){var y;if(null==i||""===i||i!=i)return null;try{return s9(i,s,d||this.locale,null!=(y=null!=l?l:this.defaultTimezone)?y:void 0)}catch(A){throw oc(r,A.message)}}}return r.\u0275fac=function(i){return new(i||r)(ie(cd,16),ie(z9,24))},r.\u0275pipe=ko({name:"date",type:r,pure:!0}),r})(),Wc=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[{provide:l2,useClass:E9}]}),r})();const T4="browser";function jy(r){return r===T4}let i7=(()=>{class r{}return r.\u0275prov=ti({token:r,providedIn:"root",factory:()=>new n7(Re(Mn),window)}),r})();class n7{constructor(n,i){this.document=n,this.window=i,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const i=function(r,n){const i=r.getElementById(n)||r.getElementsByName(n)[0];if(i)return i;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let l=s.currentNode;for(;l;){const d=l.shadowRoot;if(d){const y=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(y)return y}l=s.nextNode()}}return null}(this.document,n);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=n)}}scrollToElement(n){const i=n.getBoundingClientRect(),s=i.left+this.window.pageXOffset,l=i.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],l-d[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=P4(this.window.history)||P4(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function P4(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class I4{}class iE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new iE,ZM||(ZM=r)}onAndCancel(n,i,s){return n.addEventListener(i,s,!1),()=>{n.removeEventListener(i,s,!1)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,i){return(i=i||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return"window"===i?window:"document"===i?n:"body"===i?n.body:null}getBaseHref(n){const i=(Fw=Fw||document.querySelector("base"),Fw?Fw.getAttribute("href"):null);return null==i?null:function(r){u2=u2||document.createElement("a"),u2.setAttribute("href",r);const n=u2.pathname;return"/"===n.charAt(0)?n:`/${n}`}(i)}resetBaseElement(){Fw=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return b4(document.cookie,n)}}let u2,Fw=null;const R4=new ui("TRANSITION_ID"),h7=[{provide:xw,useFactory:function(r,n,i){return()=>{i.get(Py).donePromise.then(()=>{const s=Gc(),l=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let d=0;d<l.length;d++)s.remove(l[d])})}},deps:[R4,Mn,Kn],multi:!0}];class nE{static init(){var r;r=new nE,cD=r}addToWindow(n){Cn.getAngularTestability=(s,l=!0)=>{const d=n.findTestabilityInTree(s,l);if(null==d)throw new Error("Could not find testability for element.");return d},Cn.getAllAngularTestabilities=()=>n.getAllTestabilities(),Cn.getAllAngularRootElements=()=>n.getAllRootElements(),Cn.frameworkStabilizers||(Cn.frameworkStabilizers=[]),Cn.frameworkStabilizers.push(s=>{const l=Cn.getAllAngularTestabilities();let d=l.length,y=!1;const A=function(L){y=y||L,d--,0==d&&s(y)};l.forEach(function(L){L.whenStable(A)})})}findTestabilityInTree(n,i,s){if(null==i)return null;const l=n.getTestability(i);return null!=l?l:s?Gc().isShadowRoot(i)?this.findTestabilityInTree(n,i.host,!0):this.findTestabilityInTree(n,i.parentElement,!0):null}}let u7=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const Lw=new ui("EventManagerPlugins");let f2=(()=>{class r{constructor(i,s){this._zone=s,this._eventNameToPlugin=new Map,i.forEach(l=>l.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,s,l){return this._findPluginFor(s).addEventListener(i,s,l)}addGlobalEventListener(i,s,l){return this._findPluginFor(s).addGlobalEventListener(i,s,l)}getZone(){return this._zone}_findPluginFor(i){const s=this._eventNameToPlugin.get(i);if(s)return s;const l=this._plugins;for(let d=0;d<l.length;d++){const y=l[d];if(y.supports(i))return this._eventNameToPlugin.set(i,y),y}throw new Error(`No event manager plugin found for event ${i}`)}}return r.\u0275fac=function(i){return new(i||r)(Re(Lw),Re(Ji))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();class rE{constructor(n){this._doc=n}addGlobalEventListener(n,i,s){const l=Gc().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${i}`);return this.addEventListener(l,i,s)}}let N4=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(i){const s=new Set;i.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),Bw=(()=>{class r extends N4{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,s,l){i.forEach(d=>{const y=this._doc.createElement("style");y.textContent=d,l.push(s.appendChild(y))})}addHost(i){const s=[];this._addStylesToHost(this._stylesSet,i,s),this._hostNodes.set(i,s)}removeHost(i){const s=this._hostNodes.get(i);s&&s.forEach(F4),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(i,l,s)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(F4))}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();function F4(r){Gc().remove(r)}const oE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sE=/%COMP%/g;function d2(r,n,i){for(let s=0;s<n.length;s++){let l=n[s];Array.isArray(l)?d2(r,l,i):(l=l.replace(sE,r),i.push(l))}return i}function V4(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let p2=(()=>{class r{constructor(i,s,l){this.eventManager=i,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new aE(i)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;switch(s.encapsulation){case as.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new S7(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(i),l}case 1:case as.ShadowDom:return new D7(this.eventManager,this.sharedStylesHost,i,s);default:if(!this.rendererByCompId.has(s.id)){const l=d2(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(i){return new(i||r)(Re(f2),Re(Bw),Re(ww))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();class aE{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,i){return i?document.createElementNS(oE[i]||i,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,i){n.appendChild(i)}insertBefore(n,i,s){n&&n.insertBefore(i,s)}removeChild(n,i){n&&n.removeChild(i)}selectRootElement(n,i){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return i||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,s,l){if(l){i=l+":"+i;const d=oE[l];d?n.setAttributeNS(d,i,s):n.setAttribute(i,s)}else n.setAttribute(i,s)}removeAttribute(n,i,s){if(s){const l=oE[s];l?n.removeAttributeNS(l,i):n.removeAttribute(`${s}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,s,l){l&(Qo.DashCase|Qo.Important)?n.style.setProperty(i,s,l&Qo.Important?"important":""):n.style[i]=s}removeStyle(n,i,s){s&Qo.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,s){n[i]=s}setValue(n,i){n.nodeValue=i}listen(n,i,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,i,V4(s)):this.eventManager.addEventListener(n,i,V4(s))}}class S7 extends aE{constructor(n,i,s,l){super(n),this.component=s;const d=d2(l+"-"+s.id,s.styles,[]);i.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(sE,l+"-"+s.id),this.hostAttr="_nghost-%COMP%".replace(sE,l+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,i){const s=super.createElement(n,i);return super.setAttribute(s,this.contentAttr,""),s}}class D7 extends aE{constructor(n,i,s,l){super(n),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=d2(l.id,l.styles,[]);for(let y=0;y<d.length;y++){const A=document.createElement("style");A.textContent=d[y],this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,s){return super.insertBefore(this.nodeOrShadowRoot(n),i,s)}removeChild(n,i){return super.removeChild(this.nodeOrShadowRoot(n),i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let E7=(()=>{class r extends rE{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,l){return i.addEventListener(s,l,!1),()=>this.removeEventListener(i,s,l)}removeEventListener(i,s,l){return i.removeEventListener(s,l)}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const z4=["alt","control","meta","shift"],O7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U4={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},N7={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let F7=(()=>{class r extends rE{constructor(i){super(i)}supports(i){return null!=r.parseEventName(i)}addEventListener(i,s,l){const d=r.parseEventName(s),y=r.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gc().onAndCancel(i,d.domEventName,y))}static parseEventName(i){const s=i.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const d=r._normalizeKey(s.pop());let y="";if(z4.forEach(L=>{const tt=s.indexOf(L);tt>-1&&(s.splice(tt,1),y+=L+".")}),y+=d,0!=s.length||0===d.length)return null;const A={};return A.domEventName=l,A.fullKey=y,A}static getEventFullKey(i){let s="",l=function(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&U4.hasOwnProperty(n)&&(n=U4[n]))}return O7[n]||n}(i);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),z4.forEach(d=>{d!=l&&N7[d](i)&&(s+=d+".")}),s+=l,s}static eventCallback(i,s,l){return d=>{r.getEventFullKey(d)===i&&l.runGuarded(()=>s(d))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),rg=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:function(i){let s=null;return s=i?new(i||r):Re(hE),s},providedIn:"root"}),r})(),hE=(()=>{class r extends rg{constructor(i){super(),this._doc=i}sanitize(i,s){if(null==s)return null;switch(i){case ir.NONE:return s;case ir.HTML:return ch(s,"HTML")?cs(s):Cb(this._doc,String(s)).toString();case ir.STYLE:return ch(s,"Style")?cs(s):s;case ir.SCRIPT:if(ch(s,"Script"))return cs(s);throw new Error("unsafe value used in a script context");case ir.URL:return yr(s),ch(s,"URL")?cs(s):ep(String(s));case ir.RESOURCE_URL:if(ch(s,"ResourceURL"))return cs(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return function(r){return new Qd(r)}(i)}bypassSecurityTrustStyle(i){return function(r){return new Wh(r)}(i)}bypassSecurityTrustScript(i){return function(r){return new uh(r)}(i)}bypassSecurityTrustUrl(i){return function(r){return new qo(r)}(i)}bypassSecurityTrustResourceUrl(i){return function(r){return new tp(r)}(i)}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn))},r.\u0275prov=ti({token:r,factory:function(i){let s=null;return s=i?new i:function(r){return new hE(r.get(Mn))}(Re(Kn)),s},providedIn:"root"}),r})();const G7=hT(VF,"browser",[{provide:Zm,useValue:T4},{provide:J3,useValue:function(){iE.makeCurrent(),nE.init()},multi:!0},{provide:Mn,useFactory:function(){return r=document,b0=r,document;var r},deps:[]}]),W7=[[],{provide:xm,useValue:"root"},{provide:Rl,useFactory:function(){return new Rl},deps:[]},{provide:Lw,useClass:E7,multi:!0,deps:[Mn,Ji,Zm]},{provide:Lw,useClass:F7,multi:!0,deps:[Mn]},[],{provide:p2,useClass:p2,deps:[f2,Bw,ww]},{provide:$m,useExisting:p2},{provide:N4,useExisting:Bw},{provide:Bw,useClass:Bw,deps:[Mn]},{provide:uD,useClass:uD,deps:[Ji]},{provide:f2,useClass:f2,deps:[Lw,Ji]},{provide:I4,useClass:u7,deps:[]},[]];let G4=(()=>{class r{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:r,providers:[{provide:ww,useValue:i.appId},{provide:R4,useExisting:ww},h7]}}}return r.\u0275fac=function(i){return new(i||r)(Re(r,12))},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:W7,imports:[Wc,YF]}),r})();function On(r){return null!=r&&"false"!=`${r}`}function Kp(r,n=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):n}function m2(r){return Array.isArray(r)?r:[r]}function ys(r){return null==r?"":"string"==typeof r?r:`${r}px`}function md(r){return r instanceof qi?r.nativeElement:r}function Y4(r,n=/\s+/){const i=[];if(null!=r){const s=Array.isArray(r)?r:`${r}`.split(n);for(const l of s){const d=`${l}`.trim();d&&i.push(d)}}return i}"undefined"!=typeof window&&window;const{isArray:tV}=Array,{getPrototypeOf:eV,prototype:iV,keys:nV}=Object;function $4(r){if(1===r.length){const n=r[0];if(tV(n))return{args:n,keys:null};if(function(r){return r&&"object"==typeof r&&eV(r)===iV}(n)){const i=nV(n);return{args:i.map(s=>n[s]),keys:i}}}return{args:r,keys:null}}const{isArray:oV}=Array;function cE(r){return W(n=>function(r,n){return oV(n)?r(...n):r(n)}(r,n))}function X4(r,n){return r.reduce((i,s,l)=>(i[s]=n[l],i),{})}function K4(...r){const n=Ti(r),i=Ae(r),{args:s,keys:l}=$4(r);if(0===s.length)return rn([],n);const d=new v(function(r,n,i=k){return s=>{Z4(n,()=>{const{length:l}=r,d=new Array(l);let y=l,A=l;for(let L=0;L<l;L++)Z4(n,()=>{const tt=rn(r[L],n);let ft=!1;tt.subscribe(new U(s,Et=>{d[L]=Et,ft||(ft=!0,A--),A||s.next(i(d.slice()))},()=>{--y||s.complete()}))},s)},s)}}(s,n,l?y=>X4(l,y):k));return i?d.pipe(cE(i)):d}function Z4(r,n,i){r?jt(i,r,n):n()}function Vw(...r){return ee(1)(rn(r,Ti(r)))}function Do(r,n){return K((i,s)=>{let l=0;i.subscribe(new U(s,d=>r.call(n,d,l++)&&s.next(d)))})}function q4(r){return Do((n,i)=>r<=i)}class hV extends M{constructor(n,i){super()}schedule(n,i=0){return this}}const g2={setInterval(...r){const{delegate:n}=g2;return((null==n?void 0:n.setInterval)||setInterval)(...r)},clearInterval(r){const{delegate:n}=g2;return((null==n?void 0:n.clearInterval)||clearInterval)(r)},delegate:void 0};class fE extends hV{constructor(n,i){super(n,i),this.scheduler=n,this.work=i,this.pending=!1}schedule(n,i=0){if(this.closed)return this;this.state=n;const s=this.id,l=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(l,s,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(l,this.id,i),this}requestAsyncId(n,i,s=0){return g2.setInterval(n.flush.bind(n,this),s)}recycleAsyncId(n,i,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return i;g2.clearInterval(i)}execute(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(n,i);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,i){let l,s=!1;try{this.work(n)}catch(d){s=!0,l=d||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),l}unsubscribe(){if(!this.closed){const{id:n,scheduler:i}=this,{actions:s}=i;this.work=this.state=this.scheduler=null,this.pending=!1,it(s,this),null!=n&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,super.unsubscribe()}}}const dE={now:()=>(dE.delegate||Date).now(),delegate:void 0};class jw{constructor(n,i=jw.now){this.schedulerActionCtor=n,this.now=i}schedule(n,i=0,s){return new this.schedulerActionCtor(this,n).schedule(s,i)}}jw.now=dE.now;class pE extends jw{constructor(n,i=jw.now){super(n,i),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:i}=this;if(this._active)return void i.push(n);let s;this._active=!0;do{if(s=n.execute(n.state,n.delay))break}while(n=i.shift());if(this._active=!1,s){for(;n=i.shift();)n.unsubscribe();throw s}}}const mE=new pE(fE),J4=mE;function v2(r,n=mE){return K((i,s)=>{let l=null,d=null,y=null;const A=()=>{if(l){l.unsubscribe(),l=null;const tt=d;d=null,s.next(tt)}};function L(){const tt=y+r,ft=n.now();if(ft<tt)return l=this.schedule(void 0,tt-ft),void s.add(l);A()}i.subscribe(new U(s,tt=>{d=tt,y=n.now(),l||(l=n.schedule(L,r),s.add(l))},()=>{A(),s.complete()},void 0,()=>{d=l=null}))})}function ql(...r){const n=Ti(r);return K((i,s)=>{(n?Vw(r,i,n):Vw(r,i)).subscribe(s)})}function wr(r){return K((n,i)=>{Di(r).subscribe(new U(i,()=>i.complete(),Y)),!i.closed&&n.subscribe(i)})}let gE;try{gE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){gE=!1}let zy,xs=(()=>{class r{constructor(i){this._platformId=i,this.isBrowser=this._platformId?jy(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(i){return new(i||r)(Re(Zm))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Hy=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})();const Q4=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function t6(){if(zy)return zy;if("object"!=typeof document||!document)return zy=new Set(Q4),zy;let r=document.createElement("input");return zy=new Set(Q4.filter(n=>(r.setAttribute("type",n),r.type===n))),zy}let Hw,x2,og,vE,sc;function y2(r){return function(){if(null==Hw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hw=!0}))}finally{Hw=Hw||!1}return Hw}()?r:!!r.capture}function e6(){if(null==og){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return og=!1,og;if("scrollBehavior"in document.documentElement.style)og=!0;else{const r=Element.prototype.scrollTo;og=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return og}function zw(){if("object"!=typeof document||!document)return 0;if(null==x2){const r=document.createElement("div"),n=r.style;r.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const i=document.createElement("div"),s=i.style;s.width="2px",s.height="1px",r.appendChild(i),document.body.appendChild(r),x2=0,0===r.scrollLeft&&(r.scrollLeft=1,x2=0===r.scrollLeft?1:2),r.remove()}return x2}function i6(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const n=r.shadowRoot.activeElement;if(n===r)break;r=n}return r}function Zp(r){return r.composedPath?r.composedPath()[0]:r.target}function yE(){return void 0!==sc.__karma__&&!!sc.__karma__||void 0!==sc.jasmine&&!!sc.jasmine||void 0!==sc.jest&&!!sc.jest||void 0!==sc.Mocha&&!!sc.Mocha}sc="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};let dV=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})();const n6=new Set;let Uy,pV=(()=>{class r{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gV}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function(r){if(!n6.has(r))try{Uy||(Uy=document.createElement("style"),Uy.setAttribute("type","text/css"),document.head.appendChild(Uy)),Uy.sheet&&(Uy.sheet.insertRule(`@media ${r} {body{ }}`,0),n6.add(r))}catch(n){console.error(n)}}(i),this._matchMedia(i)}}return r.\u0275fac=function(i){return new(i||r)(Re(xs))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function gV(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let r6=(()=>{class r{constructor(i,s){this._mediaMatcher=i,this._zone=s,this._queries=new Map,this._destroySubject=new _}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return o6(m2(i)).some(l=>this._registerQuery(l).mql.matches)}observe(i){let d=K4(o6(m2(i)).map(y=>this._registerQuery(y).observable));return d=Vw(d.pipe(Ui(1)),d.pipe(q4(1),v2(0))),d.pipe(W(y=>{const A={matches:!1,breakpoints:{}};return y.forEach(({matches:L,query:tt})=>{A.matches=A.matches||L,A.breakpoints[tt]=L}),A}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const s=this._mediaMatcher.matchMedia(i),d={observable:new v(y=>{const A=L=>this._zone.run(()=>y.next(L));return s.addListener(A),()=>{s.removeListener(A)}}).pipe(ql(s),W(({matches:y})=>({query:i,matches:y})),wr(this._destroySubject)),mql:s};return this._queries.set(i,d),d}}return r.\u0275fac=function(i){return new(i||r)(Re(pV),Re(Ji))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function o6(r){return r.map(n=>n.split(",")).reduce((n,i)=>n.concat(i)).map(n=>n.trim())}function xE(...r){const n=Ae(r),{args:i,keys:s}=$4(r),l=new v(d=>{const{length:y}=i;if(!y)return void d.complete();const A=new Array(y);let L=y,tt=y;for(let ft=0;ft<y;ft++){let Et=!1;Di(i[ft]).subscribe(new U(d,Ft=>{Et||(Et=!0,tt--),A[ft]=Ft},()=>L--,void 0,()=>{(!L||!Et)&&(tt||d.next(s?X4(s,A):A),d.complete())}))}});return n?l.pipe(cE(n)):l}let a6=(()=>{class r{constructor(i,s){this._renderer=i,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(i,s){this._renderer.setProperty(this._elementRef.nativeElement,i,s)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return r.\u0275fac=function(i){return new(i||r)(ie(ud),ie(qi))},r.\u0275dir=li({type:r}),r})(),sg=(()=>{class r extends a6{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275dir=li({type:r,features:[zi]}),r})();const Jl=new ui("NgValueAccessor"),yV={provide:Jl,useExisting:Xe(()=>Gy),multi:!0},wV=new ui("CompositionEventMode");let Gy=(()=>{class r extends a6{constructor(i,s,l){super(i,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=Gc()?Gc().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return r.\u0275fac=function(i){return new(i||r)(ie(ud),ie(qi),ie(wV,8))},r.\u0275dir=li({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){1&i&&e("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[Un([yV]),zi]}),r})();function qp(r){return null==r||0===r.length}function h6(r){return null!=r&&"number"==typeof r.length}const ia=new ui("NgValidators"),Jp=new ui("NgAsyncValidators"),_V=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Wy{static min(n){return r=n,n=>{if(qp(n.value)||qp(r))return null;const i=parseFloat(n.value);return!isNaN(i)&&i<r?{min:{min:r,actual:n.value}}:null};var r}static max(n){return r=n,n=>{if(qp(n.value)||qp(r))return null;const i=parseFloat(n.value);return!isNaN(i)&&i>r?{max:{max:r,actual:n.value}}:null};var r}static required(n){return qp(n.value)?{required:!0}:null}static requiredTrue(n){return!0===n.value?null:{required:!0}}static email(n){return qp((r=n).value)||_V.test(r.value)?null:{email:!0};var r}static minLength(n){return r=n,n=>qp(n.value)||!h6(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null;var r}static maxLength(n){return r=n,n=>h6(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null;var r}static pattern(n){return function(r){if(!r)return gd;let n,i;return"string"==typeof r?(i="","^"!==r.charAt(0)&&(i+="^"),i+=r,"$"!==r.charAt(r.length-1)&&(i+="$"),n=new RegExp(i)):(i=r.toString(),n=r),s=>{if(qp(s.value))return null;const l=s.value;return n.test(l)?null:{pattern:{requiredPattern:i,actualValue:l}}}}(n)}static nullValidator(n){return null}static compose(n){return M6(n)}static composeAsync(n){return C6(n)}}function gd(r){return null}function y6(r){return null!=r}function x6(r){const n=Bc(r)?rn(r):r;return t(n),n}function w6(r){let n={};return r.forEach(i=>{n=null!=i?vi(vi({},n),i):n}),0===Object.keys(n).length?null:n}function _6(r,n){return n.map(i=>i(r))}function b6(r){return r.map(n=>function(r){return!r.validate}(n)?n:i=>n.validate(i))}function M6(r){if(!r)return null;const n=r.filter(y6);return 0==n.length?null:function(i){return w6(_6(i,n))}}function wE(r){return null!=r?M6(b6(r)):null}function C6(r){if(!r)return null;const n=r.filter(y6);return 0==n.length?null:function(i){return xE(_6(i,n).map(x6)).pipe(W(w6))}}function _E(r){return null!=r?C6(b6(r)):null}function S6(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function D6(r){return r._rawValidators}function E6(r){return r._rawAsyncValidators}function bE(r){return r?Array.isArray(r)?r:[r]:[]}function w2(r,n){return Array.isArray(r)?r.includes(n):r===n}function k6(r,n){const i=bE(n);return bE(r).forEach(l=>{w2(i,l)||i.push(l)}),i}function A6(r,n){return bE(n).filter(i=>!w2(r,i))}class T6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=wE(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=_E(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}class yl extends T6{get formDirective(){return null}get path(){return null}}class Yc extends T6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P6{constructor(n){this._cd=n}is(n){var i,s,l;return"submitted"===n?!!(null==(i=this._cd)?void 0:i.submitted):!!(null==(l=null==(s=this._cd)?void 0:s.control)?void 0:l[n])}}let Uw=(()=>{class r extends P6{constructor(i){super(i)}}return r.\u0275fac=function(i){return new(i||r)(ie(Yc,2))},r.\u0275dir=li({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){2&i&&gn("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[zi]}),r})(),Gw=(()=>{class r extends P6{constructor(i){super(i)}}return r.\u0275fac=function(i){return new(i||r)(ie(yl,10))},r.\u0275dir=li({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){2&i&&gn("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[zi]}),r})();function b2(r,n){return[...n.path,r]}function Ww(r,n){SE(r,n),n.valueAccessor.writeValue(r.value),function(r,n){n.valueAccessor.registerOnChange(i=>{r._pendingValue=i,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&I6(r,n)})}(r,n),function(r,n){const i=(s,l)=>{n.valueAccessor.writeValue(s),l&&n.viewToModelUpdate(s)};r.registerOnChange(i),n._registerOnDestroy(()=>{r._unregisterOnChange(i)})}(r,n),function(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&I6(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function(r,n){if(n.valueAccessor.setDisabledState){const i=s=>{n.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(i),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(i)})}}(r,n)}function M2(r,n,i=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),S2(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function C2(r,n){r.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(n)})}function SE(r,n){const i=D6(r);null!==n.validator?r.setValidators(S6(i,n.validator)):"function"==typeof i&&r.setValidators([i]);const s=E6(r);null!==n.asyncValidator?r.setAsyncValidators(S6(s,n.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const l=()=>r.updateValueAndValidity();C2(n._rawValidators,l),C2(n._rawAsyncValidators,l)}function S2(r,n){let i=!1;if(null!==r){if(null!==n.validator){const l=D6(r);if(Array.isArray(l)&&l.length>0){const d=l.filter(y=>y!==n.validator);d.length!==l.length&&(i=!0,r.setValidators(d))}}if(null!==n.asyncValidator){const l=E6(r);if(Array.isArray(l)&&l.length>0){const d=l.filter(y=>y!==n.asyncValidator);d.length!==l.length&&(i=!0,r.setAsyncValidators(d))}}}const s=()=>{};return C2(n._rawValidators,s),C2(n._rawAsyncValidators,s),i}function I6(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function R6(r,n){SE(r,n)}function O6(r,n){r._syncPendingControls(),n.forEach(i=>{const s=i.control;"submit"===s.updateOn&&s._pendingChange&&(i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function D2(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}const Yw="VALID",E2="INVALID",Yy="PENDING",$w="DISABLED";function kE(r){return(TE(r)?r.validators:r)||null}function N6(r){return Array.isArray(r)?wE(r):r||null}function AE(r,n){return(TE(n)?n.asyncValidators:r)||null}function F6(r){return Array.isArray(r)?_E(r):r||null}function TE(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class PE{constructor(n,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=i,this._composedValidatorFn=N6(this._rawValidators),this._composedAsyncValidatorFn=F6(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Yw}get invalid(){return this.status===E2}get pending(){return this.status==Yy}get disabled(){return this.status===$w}get enabled(){return this.status!==$w}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=N6(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=F6(n)}addValidators(n){this.setValidators(k6(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(k6(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(A6(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(A6(n,this._rawAsyncValidators))}hasValidator(n){return w2(this._rawValidators,n)}hasAsyncValidator(n){return w2(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Yy,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=$w,this.errors=null,this._forEachChild(s=>{s.disable(bs(vi({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(bs(vi({},n),{skipPristineCheck:i})),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=Yw,this._forEachChild(s=>{s.enable(bs(vi({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(bs(vi({},n),{skipPristineCheck:i})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yw||this.status===Yy)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$w:Yw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Yy,this._hasOwnPendingAsyncValidator=!0;const i=x6(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,i={}){this.errors=n,this._updateControlsErrors(!1!==i.emitEvent)}get(n){return function(r,n,i){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let s=r;return n.forEach(l=>{s=s instanceof Qp?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof L6&&s.at(l)||null}),s}(this,n)}getError(n,i){const s=i?this.get(i):this;return s&&s.errors?s.errors[n]:null}hasError(n,i){return!!this.getError(n,i)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Si,this.statusChanges=new Si}_calculateStatus(){return this._allControlsDisabled()?$w:this.errors?E2:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yy)?Yy:this._anyControlsHaveStatus(E2)?E2:Yw}_anyControlsHaveStatus(n){return this._anyControls(i=>i.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){TE(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class vr extends PE{constructor(n=null,i,s){super(kE(i),AE(s,i)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,i={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(n,i={}){this.setValue(n,i)}reset(n=null,i={}){this._applyFormState(n),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){D2(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){D2(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Qp extends PE{constructor(n,i,s){super(kE(i),AE(s,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,i){return this.controls[n]?this.controls[n]:(this.controls[n]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(n,i,s={}){this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(n,i,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],i&&this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,i={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(Object.keys(n).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n={},i={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(n,i,s)=>(n[s]=i instanceof vr?i.value:i.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(i,s)=>!!s._syncPendingControls()||i);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(i=>{const s=this.controls[i];s&&n(s,i)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const i of Object.keys(this.controls)){const s=this.controls[i];if(this.contains(i)&&n(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,i,s)=>((i.enabled||this.disabled)&&(n[s]=i.value),n))}_reduceChildren(n,i){let s=n;return this._forEachChild((l,d)=>{s=i(s,l,d)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((i,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class L6 extends PE{constructor(n,i,s){super(kE(i),AE(s,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,i={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(n,i,s={}){this.controls.splice(n,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(n,i,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),i&&(this.controls.splice(n,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,i={}){this._checkAllValuesPresent(n),n.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(n.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n=[],i={}){this._forEachChild((s,l)=>{s.reset(n[l],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(n=>n instanceof vr?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((i,s)=>!!s._syncPendingControls()||i,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((i,s)=>{n(i,s)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(i=>i.enabled&&n(i))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((i,s)=>{if(void 0===n[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const OV={provide:yl,useExisting:Xe(()=>Kw)},Xw=(()=>Promise.resolve(null))();let Kw=(()=>{class r extends yl{constructor(i,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Si,this.form=new Qp({},wE(i),_E(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Xw.then(()=>{const s=this._findContainer(i.path);i.control=s.registerControl(i.name,i.control),Ww(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Xw.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name),D2(this._directives,i)})}addFormGroup(i){Xw.then(()=>{const s=this._findContainer(i.path),l=new Qp({});R6(l,i),s.registerControl(i.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Xw.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,s){Xw.then(()=>{this.form.get(i.path).setValue(s)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,O6(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return r.\u0275fac=function(i){return new(i||r)(ie(ia,10),ie(Jp,10))},r.\u0275dir=li({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){1&i&&e("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Un([OV]),zi]}),r})(),B6=(()=>{class r extends yl{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return b2(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275dir=li({type:r,features:[zi]}),r})(),Zw=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const LV={provide:Jl,useExisting:Xe(()=>IE),multi:!0};let IE=(()=>{class r extends sg{writeValue(i){this.setProperty("value",null==i?"":i)}registerOnChange(i){this.onChange=s=>{i(""==s?null:parseFloat(s))}}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275dir=li({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){1&i&&e("input",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},features:[Un([LV]),zi]}),r})(),z6=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})();const RE=new ui("NgModelWithFormControlWarning"),zV={provide:yl,useExisting:Xe(()=>vd)};let vd=(()=>{class r extends yl{constructor(i,s){super(),this.validators=i,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Si,this._setValidators(i),this._setAsyncValidators(s)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(S2(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const s=this.form.get(i.path);return Ww(s,i),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),s}getControl(i){return this.form.get(i.path)}removeControl(i){M2(i.control||null,i,!1),D2(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,s){this.form.get(i.path).setValue(s)}onSubmit(i){return this.submitted=!0,O6(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const s=i.control,l=this.form.get(i.path);s!==l&&(M2(s||null,i),l instanceof vr&&(Ww(l,i),i.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const s=this.form.get(i.path);R6(s,i),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const s=this.form.get(i.path);s&&function(r,n){return S2(r,n)}(s,i)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){SE(this.form,this),this._oldForm&&S2(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(i){return new(i||r)(ie(ia,10),ie(Jp,10))},r.\u0275dir=li({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,s){1&i&&e("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Un([zV]),zi,er]}),r})();const UV={provide:yl,useExisting:Xe(()=>k2)};let k2=(()=>{class r extends B6{constructor(i,s,l){super(),this._parent=i,this._setValidators(s),this._setAsyncValidators(l)}_checkParentType(){Y6(this._parent)}}return r.\u0275fac=function(i){return new(i||r)(ie(yl,13),ie(ia,10),ie(Jp,10))},r.\u0275dir=li({type:r,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Un([UV]),zi]}),r})();const GV={provide:yl,useExisting:Xe(()=>A2)};let A2=(()=>{class r extends yl{constructor(i,s,l){super(),this._parent=i,this._setValidators(s),this._setAsyncValidators(l)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return b2(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Y6(this._parent)}}return r.\u0275fac=function(i){return new(i||r)(ie(yl,13),ie(ia,10),ie(Jp,10))},r.\u0275dir=li({type:r,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Un([GV]),zi]}),r})();function Y6(r){return!(r instanceof k2||r instanceof vd||r instanceof A2)}const WV={provide:Yc,useExisting:Xe(()=>$y)};let $y=(()=>{class r extends Yc{constructor(i,s,l,d,y){super(),this._ngModelWarningConfig=y,this._added=!1,this.update=new Si,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function(r,n){if(!n)return null;let i,s,l;return Array.isArray(n),n.forEach(d=>{d.constructor===Gy?i=d:function(r){return Object.getPrototypeOf(r.constructor)===sg}(d)?s=d:l=d}),l||s||i||null}(0,d)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),function(r,n){if(!r.hasOwnProperty("model"))return!1;const i=r.model;return!!i.isFirstChange()||!Object.is(n,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return b2(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(i){return new(i||r)(ie(yl,13),ie(ia,10),ie(Jp,10),ie(Jl,10),ie(RE,8))},r.\u0275dir=li({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Un([WV]),zi,er]}),r})(),sj=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[z6]]}),r})(),aj=(()=>{class r{static withConfig(i){return{ngModule:r,providers:[{provide:RE,useValue:i.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[sj]}),r})();class Ql extends _{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){const{hasError:n,thrownError:i,_value:s}=this;if(n)throw i;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}function Qi(...r){return rn(r,Ti(r))}function th(r,...n){return n.length?n.some(i=>r[i]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function os(r,n,i){const s=yt(r)||n||i?{next:r,error:n,complete:i}:r;return s?K((l,d)=>{var y;null===(y=s.subscribe)||void 0===y||y.call(s);let A=!0;l.subscribe(new U(d,L=>{var tt;null===(tt=s.next)||void 0===tt||tt.call(s,L),d.next(L)},()=>{var L;A=!1,null===(L=s.complete)||void 0===L||L.call(s),d.complete()},L=>{var tt;A=!1,null===(tt=s.error)||void 0===tt||tt.call(s,L),d.error(L)},()=>{var L,tt;A&&(null===(L=s.unsubscribe)||void 0===L||L.call(s)),null===(tt=s.finalize)||void 0===tt||tt.call(s)}))}):k}function HE(r,n=k){return r=null!=r?r:gj,K((i,s)=>{let l,d=!0;i.subscribe(new U(s,y=>{const A=n(y);(d||!r(l,A))&&(d=!1,l=A,s.next(y))}))})}function gj(r,n){return r===n}let o8=(()=>{class r{create(i){return"undefined"==typeof MutationObserver?null:new MutationObserver(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),s8=(()=>{class r{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,s)=>this._cleanupObserver(s))}observe(i){const s=md(i);return new v(l=>{const y=this._observeElement(s).subscribe(l);return()=>{y.unsubscribe(),this._unobserveElement(s)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const s=new _,l=this._mutationObserverFactory.create(d=>s.next(d));l&&l.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:l,stream:s,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:s,stream:l}=this._observedElements.get(i);s&&s.disconnect(),l.complete(),this._observedElements.delete(i)}}}return r.\u0275fac=function(i){return new(i||r)(Re(o8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),a8=(()=>{class r{constructor(i,s,l){this._contentObserver=i,this._elementRef=s,this._ngZone=l,this.event=new Si,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(i){this._disabled=On(i),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=Kp(i),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(v2(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){var i;null==(i=this._currentSubscription)||i.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ie(s8),ie(qi),ie(Ji))},r.\u0275dir=li({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),zE=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[o8]}),r})();class c8 extends class{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new _,this._typeaheadSubscription=M.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new _,this.change=new _,n instanceof Km&&n.changes.subscribe(i=>{if(this._activeItem){const l=i.toArray().indexOf(this._activeItem);l>-1&&l!==this._activeItemIndex&&(this._activeItemIndex=l)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(os(i=>this._pressedLetters.push(i)),v2(n),Do(()=>this._pressedLetters.length>0),W(()=>this._pressedLetters.join(""))).subscribe(i=>{const s=this._getItemsArray();for(let l=1;l<s.length+1;l++){const d=(this._activeItemIndex+l)%s.length,y=s[d];if(!this._skipPredicateFn(y)&&0===y.getLabel().toUpperCase().trim().indexOf(i)){this.setActiveItem(d);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const i=this._activeItem;this.updateActiveItem(n),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(n){const i=n.keyCode,l=["altKey","ctrlKey","metaKey","shiftKey"].every(d=>!n[d]||this._allowedModifierKeys.indexOf(d)>-1);switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&l){this.setNextItemActive();break}return;case 38:if(this._vertical&&l){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&l){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&l){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&l){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&l){this.setLastItemActive();break}return;default:return void((l||th(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const i=this._getItemsArray(),s="number"==typeof n?n:i.indexOf(n),l=i[s];this._activeItem=null==l?null:l,this._activeItemIndex=s}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const i=this._getItemsArray();for(let s=1;s<=i.length;s++){const l=(this._activeItemIndex+n*s+i.length)%i.length;if(!this._skipPredicateFn(i[l]))return void this.setActiveItem(l)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,i){const s=this._getItemsArray();if(s[n]){for(;this._skipPredicateFn(s[n]);)if(!s[n+=i])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Km?this._items.toArray():this._items}}{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}let f8=(()=>{class r{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(n){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(i));if(s&&(-1===p8(s)||!this.isVisible(s)))return!1;let l=i.nodeName.toLowerCase(),d=p8(i);return i.hasAttribute("contenteditable")?-1!==d:!("iframe"===l||"object"===l||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let n=r.nodeName.toLowerCase(),i="input"===n&&r.type;return"text"===i||"password"===i||"select"===n||"textarea"===n}(i))&&("audio"===l?!!i.hasAttribute("controls")&&-1!==d:"video"===l?-1!==d&&(null!==d||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let n=r.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||d8(r))}(i)&&!this.isDisabled(i)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(i))}}return r.\u0275fac=function(i){return new(i||r)(Re(xs))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function d8(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let n=r.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function p8(r){if(!d8(r))return null;const n=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class Tj{constructor(n,i,s,l,d=!1){this._element=n,this._checker=i,this._ngZone=s,this._document=l,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,i=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let i=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let s=0;s<i.length;s++)i[s].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[s]):i[s].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,i[s]);return"start"==n?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const s=this._getFirstTabbableElement(i);return null==s||s.focus(n),!!s}return i.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const i=this._getRegionBoundary("start");return i&&i.focus(n),!!i}focusLastTabbableElement(n){const i=this._getRegionBoundary("end");return i&&i.focus(n),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=0;s<i.length;s++){const l=i[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[s]):null;if(l)return l}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=i.length-1;s>=0;s--){const l=i[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[s]):null;if(l)return l}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,i){n?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Ui(1)).subscribe(n)}}let m8=(()=>{class r{constructor(i,s,l){this._checker=i,this._ngZone=s,this._document=l}create(i,s=!1){return new Tj(i,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(i){return new(i||r)(Re(f8),Re(Ji),Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Pj=(()=>{class r{constructor(i,s,l){this._elementRef=i,this._focusTrapFactory=s,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(i){this.focusTrap.enabled=On(i)}get autoCapture(){return this._autoCapture}set autoCapture(i){this._autoCapture=On(i)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(i){const s=i.autoCapture;s&&!s.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=i6(),this.focusTrap.focusInitialElementWhenReady()}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(m8),ie(Mn))},r.\u0275dir=li({type:r,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[er]}),r})();function g8(r){return 0===r.offsetX&&0===r.offsetY}function v8(r){const n=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const Ij=new ui("cdk-input-modality-detector-options"),Rj={ignoreKeys:[18,17,224,91,16]},Ky=y2({passive:!0,capture:!0});let Oj=(()=>{class r{constructor(i,s,l,d){this._platform=i,this._mostRecentTarget=null,this._modality=new Ql(null),this._lastTouchMs=0,this._onKeydown=y=>{var A,L;(null==(L=null==(A=this._options)?void 0:A.ignoreKeys)?void 0:L.some(tt=>tt===y.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Zp(y))},this._onMousedown=y=>{Date.now()-this._lastTouchMs<650||(this._modality.next(g8(y)?"keyboard":"mouse"),this._mostRecentTarget=Zp(y))},this._onTouchstart=y=>{v8(y)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zp(y))},this._options=vi(vi({},Rj),d),this.modalityDetected=this._modality.pipe(q4(1)),this.modalityChanged=this.modalityDetected.pipe(HE()),i.isBrowser&&s.runOutsideAngular(()=>{l.addEventListener("keydown",this._onKeydown,Ky),l.addEventListener("mousedown",this._onMousedown,Ky),l.addEventListener("touchstart",this._onTouchstart,Ky)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ky),document.removeEventListener("mousedown",this._onMousedown,Ky),document.removeEventListener("touchstart",this._onTouchstart,Ky))}}return r.\u0275fac=function(i){return new(i||r)(Re(xs),Re(Ji),Re(Mn),Re(Ij,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Nj=new ui("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Lj=new ui("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let UE=(()=>{class r{constructor(i,s,l,d){this._ngZone=s,this._defaultOptions=d,this._document=l,this._liveElement=i||this._createLiveElement()}announce(i,...s){const l=this._defaultOptions;let d,y;return 1===s.length&&"number"==typeof s[0]?y=s[0]:[d,y]=s,this.clear(),clearTimeout(this._previousTimeout),d||(d=l&&l.politeness?l.politeness:"polite"),null==y&&l&&(y=l.duration),this._liveElement.setAttribute("aria-live",d),this._ngZone.runOutsideAngular(()=>new Promise(A=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,A(),"number"==typeof y&&(this._previousTimeout=setTimeout(()=>this.clear(),y))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var i;clearTimeout(this._previousTimeout),null==(i=this._liveElement)||i.remove(),this._liveElement=null}_createLiveElement(){const i="cdk-live-announcer-element",s=this._document.getElementsByClassName(i),l=this._document.createElement("div");for(let d=0;d<s.length;d++)s[d].remove();return l.classList.add(i),l.classList.add("cdk-visually-hidden"),l.setAttribute("aria-atomic","true"),l.setAttribute("aria-live","polite"),this._document.body.appendChild(l),l}}return r.\u0275fac=function(i){return new(i||r)(Re(Nj,8),Re(Ji),Re(Mn),Re(Lj,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Bj=(()=>{class r{constructor(i,s,l,d){this._elementRef=i,this._liveAnnouncer=s,this._contentObserver=l,this._ngZone=d,this._politeness="polite"}get politeness(){return this._politeness}set politeness(i){this._politeness="off"===i||"assertive"===i?i:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const s=this._elementRef.nativeElement.textContent;s!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(s,this._politeness),this._previousAnnouncedText=s)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(UE),ie(s8),ie(Ji))},r.\u0275dir=li({type:r,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),r})();const Vj=new ui("cdk-focus-monitor-default-options"),I2=y2({passive:!0,capture:!0});let Qw=(()=>{class r{constructor(i,s,l,d,y){this._ngZone=i,this._platform=s,this._inputModalityDetector=l,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _,this._rootNodeFocusAndBlurListener=A=>{const L=Zp(A),tt="focus"===A.type?this._onFocus:this._onBlur;for(let ft=L;ft;ft=ft.parentElement)tt.call(this,A,ft)},this._document=d,this._detectionMode=(null==y?void 0:y.detectionMode)||0}monitor(i,s=!1){const l=md(i);if(!this._platform.isBrowser||1!==l.nodeType)return Qi(null);const d=function(r){if(function(){if(null==vE){const r="undefined"!=typeof document?document.head:null;vE=!(!r||!r.createShadowRoot&&!r.attachShadow)}return vE}()){const n=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(l)||this._getDocument(),y=this._elementInfo.get(l);if(y)return s&&(y.checkChildren=!0),y.subject;const A={checkChildren:s,subject:new _,rootNode:d};return this._elementInfo.set(l,A),this._registerGlobalListeners(A),A.subject}stopMonitoring(i){const s=md(i),l=this._elementInfo.get(s);l&&(l.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(l))}focusVia(i,s,l){const d=md(i);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([A,L])=>this._originChanged(A,s,L)):(this._setOrigin(s),"function"==typeof d.focus&&d.focus(l))}ngOnDestroy(){this._elementInfo.forEach((i,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!(null==i?void 0:i.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(i,s){i.classList.toggle("cdk-focused",!!s),i.classList.toggle("cdk-touch-focused","touch"===s),i.classList.toggle("cdk-keyboard-focused","keyboard"===s),i.classList.toggle("cdk-mouse-focused","mouse"===s),i.classList.toggle("cdk-program-focused","program"===s)}_setOrigin(i,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,s){const l=this._elementInfo.get(s),d=Zp(i);!l||!l.checkChildren&&s!==d||this._originChanged(s,this._getFocusOrigin(d),l)}_onBlur(i,s){const l=this._elementInfo.get(s);!l||l.checkChildren&&i.relatedTarget instanceof Node&&s.contains(i.relatedTarget)||(this._setClasses(s),this._emitOrigin(l.subject,null))}_emitOrigin(i,s){this._ngZone.run(()=>i.next(s))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const s=i.rootNode,l=this._rootNodeFocusListenerCount.get(s)||0;l||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,I2),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,I2)}),this._rootNodeFocusListenerCount.set(s,l+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(wr(this._stopInputModalityDetector)).subscribe(d=>{this._setOrigin(d,!0)}))}_removeGlobalListeners(i){const s=i.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const l=this._rootNodeFocusListenerCount.get(s);l>1?this._rootNodeFocusListenerCount.set(s,l-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,I2),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,I2),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,s,l){this._setClasses(i,s),this._emitOrigin(l.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(i){const s=[];return this._elementInfo.forEach((l,d)=>{(d===i||l.checkChildren&&d.contains(i))&&s.push([d,l])}),s}}return r.\u0275fac=function(i){return new(i||r)(Re(Ji),Re(xs),Re(Oj),Re(Mn,8),Re(Vj,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),jj=(()=>{class r{constructor(i,s){this._elementRef=i,this._focusMonitor=s,this.cdkFocusChange=new Si}ngAfterViewInit(){const i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,1===i.nodeType&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>this.cdkFocusChange.emit(s))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(Qw))},r.\u0275dir=li({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const x8="cdk-high-contrast-black-on-white",w8="cdk-high-contrast-white-on-black",GE="cdk-high-contrast-active";let _8=(()=>{class r{constructor(i,s){this._platform=i,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const s=this._document.defaultView||window,l=s&&s.getComputedStyle?s.getComputedStyle(i):null,d=(l&&l.backgroundColor||"").replace(/ /g,"");switch(i.remove(),d){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(GE),i.remove(x8),i.remove(w8),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(i.add(GE),i.add(x8)):2===s&&(i.add(GE),i.add(w8))}}}return r.\u0275fac=function(i){return new(i||r)(Re(xs),Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Hj=(()=>{class r{constructor(i){i._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(i){return new(i||r)(Re(_8))},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[Hy,zE]]}),r})();const zj=new ui("cdk-dir-doc",{providedIn:"root",factory:function(){return Qa(Mn)}});let lc=(()=>{class r{constructor(i){if(this.value="ltr",this.change=new Si,i){const l=i.documentElement?i.documentElement.dir:null,d=(i.body?i.body.dir:null)||l;this.value="ltr"===d||"rtl"===d?d:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(i){return new(i||r)(Re(zj,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),t_=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})();const b8=new Wp("13.0.0");class M8{}const xd="*";function ag(r,n){return{type:7,name:r,definitions:n,options:{}}}function hc(r,n=null){return{type:4,styles:n,timings:r}}function C8(r,n=null){return{type:2,steps:r,options:n}}function ws(r){return{type:6,styles:r,offset:null}}function Kc(r,n,i){return{type:0,name:r,styles:n,options:i}}function S8(r){return{type:5,steps:r}}function pu(r,n,i=null){return{type:1,expr:r,animation:n,options:i}}function Wj(r=null){return{type:9,options:r}}function Yj(r,n,i=null){return{type:11,selector:r,animation:n,options:i}}function D8(r){Promise.resolve(null).then(r)}class Zy{constructor(n=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){D8(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class E8{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let i=0,s=0,l=0;const d=this.players.length;0==d?D8(()=>this._onFinish()):this.players.forEach(y=>{y.onDone(()=>{++i==d&&this._onFinish()}),y.onDestroy(()=>{++s==d&&this._onDestroy()}),y.onStart(()=>{++l==d&&this._onStart()})}),this.totalTime=this.players.reduce((y,A)=>Math.max(y,A.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const i=n*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,i/s.totalTime):1;s.setPosition(l)})}getPosition(){const n=this.players.reduce((i,s)=>null===i||s.totalTime>i.totalTime?s:i,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}function k8(){return"undefined"!=typeof window&&void 0!==window.document}function YE(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function t0(r){switch(r.length){case 0:return new Zy;case 1:return r[0];default:return new E8(r)}}function A8(r,n,i,s,l={},d={}){const y=[],A=[];let L=-1,tt=null;if(s.forEach(ft=>{const Et=ft.offset,Ft=Et==L,zt=Ft&&tt||{};Object.keys(ft).forEach(Xt=>{let ce=Xt,de=ft[Xt];if("offset"!==Xt)switch(ce=n.normalizePropertyName(ce,y),de){case"!":de=l[Xt];break;case xd:de=d[Xt];break;default:de=n.normalizeStyleValue(Xt,ce,de,y)}zt[ce]=de}),Ft||A.push(zt),tt=zt,L=Et}),y.length){const ft="\n - ";throw new Error(`Unable to animate due to the following errors:${ft}${y.join(ft)}`)}return A}function $E(r,n,i,s){switch(n){case"start":r.onStart(()=>s(i&&XE(i,"start",r)));break;case"done":r.onDone(()=>s(i&&XE(i,"done",r)));break;case"destroy":r.onDestroy(()=>s(i&&XE(i,"destroy",r)))}}function XE(r,n,i){const s=i.totalTime,d=KE(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,null==s?r.totalTime:s,!!i.disabled),y=r._data;return null!=y&&(d._data=y),d}function KE(r,n,i,s,l="",d=0,y){return{element:r,triggerName:n,fromState:i,toState:s,phaseName:l,totalTime:d,disabled:!!y}}function Eh(r,n,i){let s;return r instanceof Map?(s=r.get(n),s||r.set(n,s=i)):(s=r[n],s||(s=r[n]=i)),s}function T8(r){const n=r.indexOf(":");return[r.substring(1,n),r.substr(n+1)]}let ZE=(r,n)=>!1,qE=(r,n)=>!1,P8=(r,n,i)=>[];const I8=YE();(I8||"undefined"!=typeof Element)&&(ZE=k8()?(r,n)=>{for(;n&&n!==document.documentElement;){if(n===r)return!0;n=n.parentNode||n.host}return!1}:(r,n)=>r.contains(n),qE=(()=>{if(I8||Element.prototype.matches)return(r,n)=>r.matches(n);{const r=Element.prototype,n=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return n?(i,s)=>n.apply(i,[s]):qE}})(),P8=(r,n,i)=>{let s=[];if(i){const l=r.querySelectorAll(n);for(let d=0;d<l.length;d++)s.push(l[d])}else{const l=r.querySelector(n);l&&s.push(l)}return s});let lg=null,R8=!1;function JE(r){lg||(lg=("undefined"!=typeof document?document.body:null)||{},R8=!!lg.style&&"WebkitAppearance"in lg.style);let n=!0;return lg.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in lg.style,!n&&R8&&(n="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in lg.style)),n}const QE=qE,tk=ZE,ek=P8;function O8(r){const n={};return Object.keys(r).forEach(i=>{const s=i.replace(/([a-z])([A-Z])/g,"$1-$2");n[s]=r[i]}),n}let N8=(()=>{class r{validateStyleProperty(i){return JE(i)}matchesElement(i,s){return QE(i,s)}containsElement(i,s){return tk(i,s)}query(i,s,l){return ek(i,s,l)}computeStyle(i,s,l){return l||""}animate(i,s,l,d,y,A=[],L){return new Zy(l,d)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),ik=(()=>{class r{}return r.NOOP=new N8,r})();const nk="ng-enter",R2="ng-leave",O2="ng-trigger",N2=".ng-trigger",L8="ng-animating",rk=".ng-animating";function hg(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:ok(parseFloat(n[1]),n[2])}function ok(r,n){return"s"===n?1e3*r:r}function F2(r,n,i){return r.hasOwnProperty("duration")?r:function(r,n,i){let l,d=0,y="";if("string"==typeof r){const A=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===A)return n.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};l=ok(parseFloat(A[1]),A[2]);const L=A[3];null!=L&&(d=ok(parseFloat(L),A[4]));const tt=A[5];tt&&(y=tt)}else l=r;if(!i){let A=!1,L=n.length;l<0&&(n.push("Duration values below 0 are not allowed for this animation step."),A=!0),d<0&&(n.push("Delay values below 0 are not allowed for this animation step."),A=!0),A&&n.splice(L,0,`The provided timing value "${r}" is invalid.`)}return{duration:l,delay:d,easing:y}}(r,n,i)}function qy(r,n={}){return Object.keys(r).forEach(i=>{n[i]=r[i]}),n}function e0(r,n,i={}){if(n)for(let s in r)i[s]=r[s];else qy(r,i);return i}function V8(r,n,i){return i?n+":"+i+";":""}function j8(r){let n="";for(let i=0;i<r.style.length;i++){const s=r.style.item(i);n+=V8(0,s,r.style.getPropertyValue(s))}for(const i in r.style)r.style.hasOwnProperty(i)&&!i.startsWith("_")&&(n+=V8(0,tH(i),r.style[i]));r.setAttribute("style",n)}function Zc(r,n,i){r.style&&(Object.keys(n).forEach(s=>{const l=ak(s);i&&!i.hasOwnProperty(s)&&(i[s]=r.style[l]),r.style[l]=n[s]}),YE()&&j8(r))}function ug(r,n){r.style&&(Object.keys(n).forEach(i=>{const s=ak(i);r.style[s]=""}),YE()&&j8(r))}function e_(r){return Array.isArray(r)?1==r.length?r[0]:C8(r):r}const sk=new RegExp("{{\\s*(.+?)\\s*}}","g");function H8(r){let n=[];if("string"==typeof r){let i;for(;i=sk.exec(r);)n.push(i[1]);sk.lastIndex=0}return n}function L2(r,n,i){const s=r.toString(),l=s.replace(sk,(d,y)=>{let A=n[y];return n.hasOwnProperty(y)||(i.push(`Please provide a value for the animation param ${y}`),A=""),A.toString()});return l==s?r:l}function B2(r){const n=[];let i=r.next();for(;!i.done;)n.push(i.value),i=r.next();return n}const Qj=/-+([a-z0-9])/g;function ak(r){return r.replace(Qj,(...n)=>n[1].toUpperCase())}function tH(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function z8(r,n){return 0===r||0===n}function U8(r,n,i){const s=Object.keys(i);if(s.length&&n.length){let d=n[0],y=[];if(s.forEach(A=>{d.hasOwnProperty(A)||y.push(A),d[A]=i[A]}),y.length)for(var l=1;l<n.length;l++){let A=n[l];y.forEach(function(L){A[L]=lk(r,L)})}}return n}function kh(r,n,i){switch(n.type){case 7:return r.visitTrigger(n,i);case 0:return r.visitState(n,i);case 1:return r.visitTransition(n,i);case 2:return r.visitSequence(n,i);case 3:return r.visitGroup(n,i);case 4:return r.visitAnimate(n,i);case 5:return r.visitKeyframes(n,i);case 6:return r.visitStyle(n,i);case 8:return r.visitReference(n,i);case 9:return r.visitAnimateChild(n,i);case 10:return r.visitAnimateRef(n,i);case 11:return r.visitQuery(n,i);case 12:return r.visitStagger(n,i);default:throw new Error(`Unable to resolve animation metadata node #${n.type}`)}}function lk(r,n){return window.getComputedStyle(r)[n]}function eH(r,n){const i=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,n,i){if(":"==r[0]){const L=function(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,s)=>parseFloat(s)>parseFloat(i);case":decrement":return(i,s)=>parseFloat(s)<parseFloat(i);default:return n.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,i);if("function"==typeof L)return void n.push(L);r=L}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return i.push(`The provided transition expression "${r}" is not supported`),n;const l=s[1],d=s[2],y=s[3];n.push(G8(l,y));"<"==d[0]&&!("*"==l&&"*"==y)&&n.push(G8(y,l))}(s,i,n)):i.push(r),i}const j2=new Set(["true","1"]),H2=new Set(["false","0"]);function G8(r,n){const i=j2.has(r)||H2.has(r),s=j2.has(n)||H2.has(n);return(l,d)=>{let y="*"==r||r==l,A="*"==n||n==d;return!y&&i&&"boolean"==typeof l&&(y=l?j2.has(r):H2.has(r)),!A&&s&&"boolean"==typeof d&&(A=d?j2.has(n):H2.has(n)),y&&A}}const rH=new RegExp("s*:selfs*,?","g");function hk(r,n,i){return new oH(r).build(n,i)}class oH{constructor(n){this._driver=n}build(n,i){const s=new lH(i);return this._resetContextStyleTimingState(s),kh(this,e_(n),s)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,i){let s=i.queryCount=0,l=i.depCount=0;const d=[],y=[];return"@"==n.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),n.definitions.forEach(A=>{if(this._resetContextStyleTimingState(i),0==A.type){const L=A,tt=L.name;tt.toString().split(/\s*,\s*/).forEach(ft=>{L.name=ft,d.push(this.visitState(L,i))}),L.name=tt}else if(1==A.type){const L=this.visitTransition(A,i);s+=L.queryCount,l+=L.depCount,y.push(L)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:n.name,states:d,transitions:y,queryCount:s,depCount:l,options:null}}visitState(n,i){const s=this.visitStyle(n.styles,i),l=n.options&&n.options.params||null;if(s.containsDynamicStyles){const d=new Set,y=l||{};if(s.styles.forEach(A=>{if(z2(A)){const L=A;Object.keys(L).forEach(tt=>{H8(L[tt]).forEach(ft=>{y.hasOwnProperty(ft)||d.add(ft)})})}}),d.size){const A=B2(d.values());i.errors.push(`state("${n.name}", ...) must define default values for all the following style substitutions: ${A.join(", ")}`)}}return{type:0,name:n.name,style:s,options:l?{params:l}:null}}visitTransition(n,i){i.queryCount=0,i.depCount=0;const s=kh(this,e_(n.animation),i);return{type:1,matchers:eH(n.expr,i.errors),animation:s,queryCount:i.queryCount,depCount:i.depCount,options:cg(n.options)}}visitSequence(n,i){return{type:2,steps:n.steps.map(s=>kh(this,s,i)),options:cg(n.options)}}visitGroup(n,i){const s=i.currentTime;let l=0;const d=n.steps.map(y=>{i.currentTime=s;const A=kh(this,y,i);return l=Math.max(l,i.currentTime),A});return i.currentTime=l,{type:3,steps:d,options:cg(n.options)}}visitAnimate(n,i){const s=function(r,n){let i=null;if(r.hasOwnProperty("duration"))i=r;else if("number"==typeof r)return uk(F2(r,n).duration,0,"");const s=r;if(s.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=uk(0,0,"");return d.dynamic=!0,d.strValue=s,d}return i=i||F2(s,n),uk(i.duration,i.delay,i.easing)}(n.timings,i.errors);i.currentAnimateTimings=s;let l,d=n.styles?n.styles:ws({});if(5==d.type)l=this.visitKeyframes(d,i);else{let y=n.styles,A=!1;if(!y){A=!0;const tt={};s.easing&&(tt.easing=s.easing),y=ws(tt)}i.currentTime+=s.duration+s.delay;const L=this.visitStyle(y,i);L.isEmptyStep=A,l=L}return i.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(n,i){const s=this._makeStyleAst(n,i);return this._validateStyleAst(s,i),s}_makeStyleAst(n,i){const s=[];Array.isArray(n.styles)?n.styles.forEach(y=>{"string"==typeof y?y==xd?s.push(y):i.errors.push(`The provided style string value ${y} is not allowed.`):s.push(y)}):s.push(n.styles);let l=!1,d=null;return s.forEach(y=>{if(z2(y)){const A=y,L=A.easing;if(L&&(d=L,delete A.easing),!l)for(let tt in A)if(A[tt].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:d,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,i){const s=i.currentAnimateTimings;let l=i.currentTime,d=i.currentTime;s&&d>0&&(d-=s.duration+s.delay),n.styles.forEach(y=>{"string"!=typeof y&&Object.keys(y).forEach(A=>{if(!this._driver.validateStyleProperty(A))return void i.errors.push(`The provided animation property "${A}" is not a supported CSS property for animations`);const L=i.collectedStyles[i.currentQuerySelector],tt=L[A];let ft=!0;tt&&(d!=l&&d>=tt.startTime&&l<=tt.endTime&&(i.errors.push(`The CSS property "${A}" that exists between the times of "${tt.startTime}ms" and "${tt.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${l}ms"`),ft=!1),d=tt.startTime),ft&&(L[A]={startTime:d,endTime:l}),i.options&&function(r,n,i){const s=n.params||{},l=H8(r);l.length&&l.forEach(d=>{s.hasOwnProperty(d)||i.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(y[A],i.options,i.errors)})})}visitKeyframes(n,i){const s={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),s;let d=0;const y=[];let A=!1,L=!1,tt=0;const ft=n.steps.map(Ie=>{const Pe=this._makeStyleAst(Ie,i);let Ze=null!=Pe.offset?Pe.offset:function(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(i=>{if(z2(i)&&i.hasOwnProperty("offset")){const s=i;n=parseFloat(s.offset),delete s.offset}});else if(z2(r)&&r.hasOwnProperty("offset")){const i=r;n=parseFloat(i.offset),delete i.offset}return n}(Pe.styles),ai=0;return null!=Ze&&(d++,ai=Pe.offset=Ze),L=L||ai<0||ai>1,A=A||ai<tt,tt=ai,y.push(ai),Pe});L&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),A&&i.errors.push("Please ensure that all keyframe offsets are in order");const Et=n.steps.length;let Ft=0;d>0&&d<Et?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(Ft=1/(Et-1));const zt=Et-1,Xt=i.currentTime,ce=i.currentAnimateTimings,de=ce.duration;return ft.forEach((Ie,Pe)=>{const Ze=Ft>0?Pe==zt?1:Ft*Pe:y[Pe],ai=Ze*de;i.currentTime=Xt+ce.delay+ai,ce.duration=ai,this._validateStyleAst(Ie,i),Ie.offset=Ze,s.styles.push(Ie)}),s}visitReference(n,i){return{type:8,animation:kh(this,e_(n.animation),i),options:cg(n.options)}}visitAnimateChild(n,i){return i.depCount++,{type:9,options:cg(n.options)}}visitAnimateRef(n,i){return{type:10,animation:this.visitReference(n.animation,i),options:cg(n.options)}}visitQuery(n,i){const s=i.currentQuerySelector,l=n.options||{};i.queryCount++,i.currentQuery=n;const[d,y]=function(r){const n=!!r.split(/\s*,\s*/).find(i=>":self"==i);return n&&(r=r.replace(rH,"")),r=r.replace(/@\*/g,N2).replace(/@\w+/g,i=>N2+"-"+i.substr(1)).replace(/:animating/g,rk),[r,n]}(n.selector);i.currentQuerySelector=s.length?s+" "+d:d,Eh(i.collectedStyles,i.currentQuerySelector,{});const A=kh(this,e_(n.animation),i);return i.currentQuery=null,i.currentQuerySelector=s,{type:11,selector:d,limit:l.limit||0,optional:!!l.optional,includeSelf:y,animation:A,originalSelector:n.selector,options:cg(n.options)}}visitStagger(n,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:F2(n.timings,i.errors,!0);return{type:12,animation:kh(this,e_(n.animation),i),timings:s,options:null}}}class lH{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function z2(r){return!Array.isArray(r)&&"object"==typeof r}function cg(r){return r?(r=qy(r)).params&&(r.params=function(r){return r?qy(r):null}(r.params)):r={},r}function uk(r,n,i){return{duration:r,delay:n,easing:i}}function ck(r,n,i,s,l,d,y=null,A=!1){return{type:1,element:r,keyframes:n,preStyleProps:i,postStyleProps:s,duration:l,delay:d,totalTime:l+d,easing:y,subTimeline:A}}class U2{constructor(){this._map=new Map}consume(n){let i=this._map.get(n);return i?this._map.delete(n):i=[],i}append(n,i){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...i)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const dH=new RegExp(":enter","g"),mH=new RegExp(":leave","g");function fk(r,n,i,s,l,d={},y={},A,L,tt=[]){return(new gH).buildKeyframes(r,n,i,s,l,d,y,A,L,tt)}class gH{buildKeyframes(n,i,s,l,d,y,A,L,tt,ft=[]){tt=tt||new U2;const Et=new dk(n,i,tt,l,d,ft,[]);Et.options=L,Et.currentTimeline.setStyles([y],null,Et.errors,L),kh(this,s,Et);const Ft=Et.timelines.filter(zt=>zt.containsAnimation());if(Ft.length&&Object.keys(A).length){const zt=Ft[Ft.length-1];zt.allowOnlyTimelineStyles()||zt.setStyles([A],null,Et.errors,L)}return Ft.length?Ft.map(zt=>zt.buildKeyframes()):[ck(i,[],[],[],0,0,"",!1)]}visitTrigger(n,i){}visitState(n,i){}visitTransition(n,i){}visitAnimateChild(n,i){const s=i.subInstructions.consume(i.element);if(s){const l=i.createSubContext(n.options),d=i.currentTimeline.currentTime,y=this._visitSubInstructions(s,l,l.options);d!=y&&i.transformIntoNewTimeline(y)}i.previousNode=n}visitAnimateRef(n,i){const s=i.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),i.transformIntoNewTimeline(s.currentTimeline.currentTime),i.previousNode=n}_visitSubInstructions(n,i,s){let d=i.currentTimeline.currentTime;const y=null!=s.duration?hg(s.duration):null,A=null!=s.delay?hg(s.delay):null;return 0!==y&&n.forEach(L=>{const tt=i.appendInstructionToTimeline(L,y,A);d=Math.max(d,tt.duration+tt.delay)}),d}visitReference(n,i){i.updateOptions(n.options,!0),kh(this,n.animation,i),i.previousNode=n}visitSequence(n,i){const s=i.subContextCount;let l=i;const d=n.options;if(d&&(d.params||d.delay)&&(l=i.createSubContext(d),l.transformIntoNewTimeline(),null!=d.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=G2);const y=hg(d.delay);l.delayNextStep(y)}n.steps.length&&(n.steps.forEach(y=>kh(this,y,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),i.previousNode=n}visitGroup(n,i){const s=[];let l=i.currentTimeline.currentTime;const d=n.options&&n.options.delay?hg(n.options.delay):0;n.steps.forEach(y=>{const A=i.createSubContext(n.options);d&&A.delayNextStep(d),kh(this,y,A),l=Math.max(l,A.currentTimeline.currentTime),s.push(A.currentTimeline)}),s.forEach(y=>i.currentTimeline.mergeTimelineCollectedStyles(y)),i.transformIntoNewTimeline(l),i.previousNode=n}_visitTiming(n,i){if(n.dynamic){const s=n.strValue;return F2(i.params?L2(s,i.params,i.errors):s,i.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,i){const s=i.currentAnimateTimings=this._visitTiming(n.timings,i),l=i.currentTimeline;s.delay&&(i.incrementTime(s.delay),l.snapshotCurrentStyles());const d=n.style;5==d.type?this.visitKeyframes(d,i):(i.incrementTime(s.duration),this.visitStyle(d,i),l.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=n}visitStyle(n,i){const s=i.currentTimeline,l=i.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const d=l&&l.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(d):s.setStyles(n.styles,d,i.errors,i.options),i.previousNode=n}visitKeyframes(n,i){const s=i.currentAnimateTimings,l=i.currentTimeline.duration,d=s.duration,A=i.createSubContext().currentTimeline;A.easing=s.easing,n.styles.forEach(L=>{A.forwardTime((L.offset||0)*d),A.setStyles(L.styles,L.easing,i.errors,i.options),A.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(A),i.transformIntoNewTimeline(l+d),i.previousNode=n}visitQuery(n,i){const s=i.currentTimeline.currentTime,l=n.options||{},d=l.delay?hg(l.delay):0;d&&(6===i.previousNode.type||0==s&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=G2);let y=s;const A=i.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!l.optional,i.errors);i.currentQueryTotal=A.length;let L=null;A.forEach((tt,ft)=>{i.currentQueryIndex=ft;const Et=i.createSubContext(n.options,tt);d&&Et.delayNextStep(d),tt===i.element&&(L=Et.currentTimeline),kh(this,n.animation,Et),Et.currentTimeline.applyStylesToKeyframe(),y=Math.max(y,Et.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(y),L&&(i.currentTimeline.mergeTimelineCollectedStyles(L),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=n}visitStagger(n,i){const s=i.parentContext,l=i.currentTimeline,d=n.timings,y=Math.abs(d.duration),A=y*(i.currentQueryTotal-1);let L=y*i.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":L=A-L;break;case"full":L=s.currentStaggerTime}const ft=i.currentTimeline;L&&ft.delayNextStep(L);const Et=ft.currentTime;kh(this,n.animation,i),i.previousNode=n,s.currentStaggerTime=l.currentTime-Et+(l.startTime-s.currentTimeline.startTime)}}const G2={};class dk{constructor(n,i,s,l,d,y,A,L){this._driver=n,this.element=i,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=d,this.errors=y,this.timelines=A,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=G2,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=L||new W2(this._driver,i,0),A.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,i){if(!n)return;const s=n;let l=this.options;null!=s.duration&&(l.duration=hg(s.duration)),null!=s.delay&&(l.delay=hg(s.delay));const d=s.params;if(d){let y=l.params;y||(y=this.options.params={}),Object.keys(d).forEach(A=>{(!i||!y.hasOwnProperty(A))&&(y[A]=L2(d[A],y,this.errors))})}}_copyOptions(){const n={};if(this.options){const i=this.options.params;if(i){const s=n.params={};Object.keys(i).forEach(l=>{s[l]=i[l]})}}return n}createSubContext(n=null,i,s){const l=i||this.element,d=new dk(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(n),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(n){return this.previousNode=G2,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,i,s){const l={duration:null!=i?i:n.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+n.delay,easing:""},d=new vH(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,l,n.stretchStartingKeyframe);return this.timelines.push(d),l}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,i,s,l,d,y){let A=[];if(l&&A.push(this.element),n.length>0){n=(n=n.replace(dH,"."+this._enterClassName)).replace(mH,"."+this._leaveClassName);let tt=this._driver.query(this.element,n,1!=s);0!==s&&(tt=s<0?tt.slice(tt.length+s,tt.length):tt.slice(0,s)),A.push(...tt)}return!d&&0==A.length&&y.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),A}}class W2{constructor(n,i,s,l){this._driver=n,this.element=i,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+n),i&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,i){return this.applyStylesToKeyframe(),new W2(this._driver,n,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,i){this._localTimelineStyles[n]=i,this._globalTimelineStyles[n]=i,this._styleSummary[n]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||xd,this._currentKeyframe[i]=xd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,i,s,l){i&&(this._previousKeyframe.easing=i);const d=l&&l.params||{},y=function(r,n){const i={};let s;return r.forEach(l=>{"*"===l?(s=s||Object.keys(n),s.forEach(d=>{i[d]=xd})):e0(l,!1,i)}),i}(n,this._globalTimelineStyles);Object.keys(y).forEach(A=>{const L=L2(y[A],d,s);this._pendingStyles[A]=L,this._localTimelineStyles.hasOwnProperty(A)||(this._backFill[A]=this._globalTimelineStyles.hasOwnProperty(A)?this._globalTimelineStyles[A]:xd),this._updateStyle(A,L)})}applyStylesToKeyframe(){const n=this._pendingStyles,i=Object.keys(n);0!=i.length&&(this._pendingStyles={},i.forEach(s=>{this._currentKeyframe[s]=n[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const i=this._localTimelineStyles[n];this._pendingStyles[n]=i,this._updateStyle(n,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let i in this._currentKeyframe)n.push(i);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(i=>{const s=this._styleSummary[i],l=n._styleSummary[i];(!s||l.time>s.time)&&this._updateStyle(i,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,i=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((A,L)=>{const tt=e0(A,!0);Object.keys(tt).forEach(ft=>{const Et=tt[ft];"!"==Et?n.add(ft):Et==xd&&i.add(ft)}),s||(tt.offset=L/this.duration),l.push(tt)});const d=n.size?B2(n.values()):[],y=i.size?B2(i.values()):[];if(s){const A=l[0],L=qy(A);A.offset=0,L.offset=1,l=[A,L]}return ck(this.element,l,d,y,this.duration,this.startTime,this.easing,!1)}}class vH extends W2{constructor(n,i,s,l,d,y,A=!1){super(n,i,y.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=d,this._stretchStartingKeyframe=A,this.timings={duration:y.duration,delay:y.delay,easing:y.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:i,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&i){const d=[],y=s+i,A=i/y,L=e0(n[0],!1);L.offset=0,d.push(L);const tt=e0(n[0],!1);tt.offset=$8(A),d.push(tt);const ft=n.length-1;for(let Et=1;Et<=ft;Et++){let Ft=e0(n[Et],!1);Ft.offset=$8((i+Ft.offset*s)/y),d.push(Ft)}s=y,i=0,l="",n=d}return ck(this.element,n,this.preStyleProps,this.postStyleProps,s,i,l,!0)}}function $8(r,n=3){const i=Math.pow(10,n-1);return Math.round(r*i)/i}class pk{}class xH extends pk{normalizePropertyName(n,i){return ak(n)}normalizeStyleValue(n,i,s,l){let d="";const y=s.toString().trim();if(wH[i]&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const A=s.match(/^[+-]?[\d\.]+([a-z]*)$/);A&&0==A[1].length&&l.push(`Please provide a CSS unit value for ${n}:${s}`)}return y+d}}const wH=(()=>function(r){const n={};return r.forEach(i=>n[i]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function X8(r,n,i,s,l,d,y,A,L,tt,ft,Et,Ft){return{type:0,element:r,triggerName:n,isRemovalTransition:l,fromState:i,fromStyles:d,toState:s,toStyles:y,timelines:A,queriedElements:L,preStyleProps:tt,postStyleProps:ft,totalTime:Et,errors:Ft}}const mk={};class K8{constructor(n,i,s){this._triggerName=n,this.ast=i,this._stateStyles=s}match(n,i,s,l){return function(r,n,i,s,l){return r.some(d=>d(n,i,s,l))}(this.ast.matchers,n,i,s,l)}buildStyles(n,i,s){const l=this._stateStyles["*"],d=this._stateStyles[n],y=l?l.buildStyles(i,s):{};return d?d.buildStyles(i,s):y}build(n,i,s,l,d,y,A,L,tt,ft){const Et=[],Ft=this.ast.options&&this.ast.options.params||mk,Xt=this.buildStyles(s,A&&A.params||mk,Et),ce=L&&L.params||mk,de=this.buildStyles(l,ce,Et),Ie=new Set,Pe=new Map,Ze=new Map,ai="void"===l,wn={params:vi(vi({},Ft),ce)},Dr=ft?[]:fk(n,i,this.ast.animation,d,y,Xt,de,wn,tt,Et);let Nr=0;if(Dr.forEach(Ha=>{Nr=Math.max(Ha.duration+Ha.delay,Nr)}),Et.length)return X8(i,this._triggerName,s,l,ai,Xt,de,[],[],Pe,Ze,Nr,Et);Dr.forEach(Ha=>{const za=Ha.element,Td=Eh(Pe,za,{});Ha.preStyleProps.forEach(cc=>Td[cc]=!0);const Pd=Eh(Ze,za,{});Ha.postStyleProps.forEach(cc=>Pd[cc]=!0),za!==i&&Ie.add(za)});const wl=B2(Ie.values());return X8(i,this._triggerName,s,l,ai,Xt,de,Dr,wl,Pe,Ze,Nr)}}class MH{constructor(n,i,s){this.styles=n,this.defaultParams=i,this.normalizer=s}buildStyles(n,i){const s={},l=qy(this.defaultParams);return Object.keys(n).forEach(d=>{const y=n[d];null!=y&&(l[d]=y)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const y=d;Object.keys(y).forEach(A=>{let L=y[A];L.length>1&&(L=L2(L,l,i));const tt=this.normalizer.normalizePropertyName(A,i);L=this.normalizer.normalizeStyleValue(A,tt,L,i),s[tt]=L})}}),s}}class SH{constructor(n,i,s){this.name=n,this.ast=i,this._normalizer=s,this.transitionFactories=[],this.states={},i.states.forEach(l=>{this.states[l.name]=new MH(l.style,l.options&&l.options.params||{},s)}),Z8(this.states,"true","1"),Z8(this.states,"false","0"),i.transitions.forEach(l=>{this.transitionFactories.push(new K8(n,l,this.states))}),this.fallbackTransition=function(r,n,i){return new K8(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(y,A)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,i,s,l){return this.transitionFactories.find(y=>y.match(n,i,s,l))||null}matchStyles(n,i,s){return this.fallbackTransition.buildStyles(n,i,s)}}function Z8(r,n,i){r.hasOwnProperty(n)?r.hasOwnProperty(i)||(r[i]=r[n]):r.hasOwnProperty(i)&&(r[n]=r[i])}const EH=new U2;class kH{constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(n,i){const s=[],l=hk(this._driver,i,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[n]=l}_buildPlayer(n,i,s){const l=n.element,d=A8(0,this._normalizer,0,n.keyframes,i,s);return this._driver.animate(l,d,n.duration,n.delay,n.easing,[],!0)}create(n,i,s={}){const l=[],d=this._animations[n];let y;const A=new Map;if(d?(y=fk(this._driver,i,d,nk,R2,{},{},s,EH,l),y.forEach(ft=>{const Et=Eh(A,ft.element,{});ft.postStyleProps.forEach(Ft=>Et[Ft]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),y=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);A.forEach((ft,Et)=>{Object.keys(ft).forEach(Ft=>{ft[Ft]=this._driver.computeStyle(Et,Ft,xd)})});const tt=t0(y.map(ft=>{const Et=A.get(ft.element);return this._buildPlayer(ft,{},Et)}));return this._playersById[n]=tt,tt.onDestroy(()=>this.destroy(n)),this.players.push(tt),tt}destroy(n){const i=this._getPlayer(n);i.destroy(),delete this._playersById[n];const s=this.players.indexOf(i);s>=0&&this.players.splice(s,1)}_getPlayer(n){const i=this._playersById[n];if(!i)throw new Error(`Unable to find the timeline player referenced by ${n}`);return i}listen(n,i,s,l){const d=KE(i,"","","");return $E(this._getPlayer(n),s,d,l),()=>{}}command(n,i,s,l){if("register"==s)return void this.register(n,l[0]);if("create"==s)return void this.create(n,i,l[0]||{});const d=this._getPlayer(n);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(n)}}}const q8="ng-animate-queued",J8="ng-animate-disabled",Q8=".ng-animate-disabled",IH=[],tP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mu="__ng_removed";class gk{constructor(n,i=""){this.namespaceId=i;const s=n&&n.hasOwnProperty("value");if(this.value=null!=(r=s?n.value:n)?r:null,s){const d=qy(n);delete d.value,this.options=d}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const i=n.params;if(i){const s=this.options.params;Object.keys(i).forEach(l=>{null==s[l]&&(s[l]=i[l])})}}}const i_="void",vk=new gk(i_);class OH{constructor(n,i,s){this.id=n,this.hostElement=i,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,gu(i,this._hostClassName)}listen(n,i,s,l){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${i}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if("start"!=(r=s)&&"done"!=r)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${i}" is not supported!`);var r;const d=Eh(this._elementListeners,n,[]),y={name:i,phase:s,callback:l};d.push(y);const A=Eh(this._engine.statesByElement,n,{});return A.hasOwnProperty(i)||(gu(n,O2),gu(n,O2+"-"+i),A[i]=vk),()=>{this._engine.afterFlush(()=>{const L=d.indexOf(y);L>=0&&d.splice(L,1),this._triggers[i]||delete A[i]})}}register(n,i){return!this._triggers[n]&&(this._triggers[n]=i,!0)}_getTrigger(n){const i=this._triggers[n];if(!i)throw new Error(`The provided animation trigger "${n}" has not been registered!`);return i}trigger(n,i,s,l=!0){const d=this._getTrigger(i),y=new yk(this.id,i,n);let A=this._engine.statesByElement.get(n);A||(gu(n,O2),gu(n,O2+"-"+i),this._engine.statesByElement.set(n,A={}));let L=A[i];const tt=new gk(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&L&&tt.absorbOptions(L.options),A[i]=tt,L||(L=vk),tt.value!==i_&&L.value===tt.value){if(!function(r,n){const i=Object.keys(r),s=Object.keys(n);if(i.length!=s.length)return!1;for(let l=0;l<i.length;l++){const d=i[l];if(!n.hasOwnProperty(d)||r[d]!==n[d])return!1}return!0}(L.params,tt.params)){const ce=[],de=d.matchStyles(L.value,L.params,ce),Ie=d.matchStyles(tt.value,tt.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{ug(n,de),Zc(n,Ie)})}return}const Ft=Eh(this._engine.playersByElement,n,[]);Ft.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==i&&ce.queued&&ce.destroy()});let zt=d.matchTransition(L.value,tt.value,n,tt.params),Xt=!1;if(!zt){if(!l)return;zt=d.fallbackTransition,Xt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:i,transition:zt,fromState:L,toState:tt,player:y,isFallbackTransition:Xt}),Xt||(gu(n,q8),y.onStart(()=>{Jy(n,q8)})),y.onDone(()=>{let ce=this.players.indexOf(y);ce>=0&&this.players.splice(ce,1);const de=this._engine.playersByElement.get(n);if(de){let Ie=de.indexOf(y);Ie>=0&&de.splice(Ie,1)}}),this.players.push(y),Ft.push(y),y}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((i,s)=>{delete i[n]}),this._elementListeners.forEach((i,s)=>{this._elementListeners.set(s,i.filter(l=>l.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const i=this._engine.playersByElement.get(n);i&&(i.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,i){const s=this._engine.driver.query(n,N2,!0);s.forEach(l=>{if(l[mu])return;const d=this._engine.fetchNamespacesByElement(l);d.size?d.forEach(y=>y.triggerLeaveAnimation(l,i,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(n,i,s,l){const d=this._engine.statesByElement.get(n);if(d){const y=[];if(Object.keys(d).forEach(A=>{if(this._triggers[A]){const L=this.trigger(n,A,i_,l);L&&y.push(L)}}),y.length)return this._engine.markElementAsRemoved(this.id,n,!0,i),s&&t0(y).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const i=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(i&&s){const l=new Set;i.forEach(d=>{const y=d.name;if(l.has(y))return;l.add(y);const L=this._triggers[y].fallbackTransition,tt=s[y]||vk,ft=new gk(i_),Et=new yk(this.id,y,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:y,transition:L,fromState:tt,toState:ft,player:Et,isFallbackTransition:!0})})}}removeNode(n,i){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,i),this.triggerLeaveAnimation(n,i,!0))return;let l=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(n):[];if(d&&d.length)l=!0;else{let y=n;for(;y=y.parentNode;)if(s.statesByElement.get(y)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(n),l)s.markElementAsRemoved(this.id,n,!1,i);else{const d=n[mu];(!d||d===tP)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,i))}}insertNode(n,i){gu(n,this._hostClassName)}drainQueuedTransitions(n){const i=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const d=s.element,y=this._elementListeners.get(d);y&&y.forEach(A=>{if(A.name==s.triggerName){const L=KE(d,s.triggerName,s.fromState.value,s.toState.value);L._data=n,$E(s.player,A.phase,L,A.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):i.push(s)}),this._queue=[],i.sort((s,l)=>{const d=s.transition.ast.depCount,y=l.transition.ast.depCount;return 0==d||0==y?d-y:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(n){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let i=!1;return this._elementListeners.has(n)&&(i=!0),i=!!this._queue.find(s=>s.element===n)||i,i}}class NH{constructor(n,i,s){this.bodyNode=n,this.driver=i,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,d)=>{}}_onRemovalComplete(n,i){this.onRemovalComplete(n,i)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(i=>{i.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,i){const s=new OH(n,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(s,i):(this.newHostElements.set(i,s),this.collectEnterElement(i)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,i){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let d=s;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,i)){this._namespaceList.splice(d+1,0,n),l=!0;break}l||this._namespaceList.splice(0,0,n)}else this._namespaceList.push(n);return this.namespacesByHostElement.set(i,n),n}register(n,i){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,i)),s}registerTrigger(n,i,s){let l=this._namespaceLookup[n];l&&l.register(i,s)&&this.totalAnimations++}destroy(n,i){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(i))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const i=new Set,s=this.statesByElement.get(n);if(s){const l=Object.keys(s);for(let d=0;d<l.length;d++){const y=s[l[d]].namespaceId;if(y){const A=this._fetchNamespace(y);A&&i.add(A)}}}return i}trigger(n,i,s,l){if(Y2(i)){const d=this._fetchNamespace(n);if(d)return d.trigger(i,s,l),!0}return!1}insertNode(n,i,s,l){if(!Y2(i))return;const d=i[mu];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const y=this.collectedLeaveElements.indexOf(i);y>=0&&this.collectedLeaveElements.splice(y,1)}if(n){const y=this._fetchNamespace(n);y&&y.insertNode(i,s)}l&&this.collectEnterElement(i)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,i){i?this.disabledNodes.has(n)||(this.disabledNodes.add(n),gu(n,J8)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Jy(n,J8))}removeNode(n,i,s,l){if(Y2(i)){const d=n?this._fetchNamespace(n):null;if(d?d.removeNode(i,l):this.markElementAsRemoved(n,i,!1,l),s){const y=this.namespacesByHostElement.get(i);y&&y.id!==n&&y.removeNode(i,l)}}else this._onRemovalComplete(i,l)}markElementAsRemoved(n,i,s,l){this.collectedLeaveElements.push(i),i[mu]={namespaceId:n,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(n,i,s,l,d){return Y2(i)?this._fetchNamespace(n).listen(i,s,l,d):()=>{}}_buildInstruction(n,i,s,l,d){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,l,n.fromState.options,n.toState.options,i,d)}destroyInnerAnimations(n){let i=this.driver.query(n,N2,!0);i.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(n,rk,!0),i.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const i=this.playersByElement.get(n);i&&i.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const i=this.playersByQueriedElement.get(n);i&&i.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return t0(this.players).onDone(()=>n());n()})}processLeaveNode(n){const i=n[mu];if(i&&i.setForRemoval){if(n[mu]=tP,i.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}this.driver.matchesElement(n,Q8)&&this.markElementAsDisabled(n,!1),this.driver.query(n,Q8,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)gu(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{i=this._flushAnimations(s,n)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],i.length?t0(i).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(n){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${n.join("\n")}`)}_flushAnimations(n,i){const s=new U2,l=[],d=new Map,y=[],A=new Map,L=new Map,tt=new Map,ft=new Set;this.disabledNodes.forEach(Ii=>{ft.add(Ii);const sn=this.driver.query(Ii,".ng-animate-queued",!0);for(let Pn=0;Pn<sn.length;Pn++)ft.add(sn[Pn])});const Et=this.bodyNode,Ft=Array.from(this.statesByElement.keys()),zt=nP(Ft,this.collectedEnterElements),Xt=new Map;let ce=0;zt.forEach((Ii,sn)=>{const Pn=nk+ce++;Xt.set(sn,Pn),Ii.forEach(pr=>gu(pr,Pn))});const de=[],Ie=new Set,Pe=new Set;for(let Ii=0;Ii<this.collectedLeaveElements.length;Ii++){const sn=this.collectedLeaveElements[Ii],Pn=sn[mu];Pn&&Pn.setForRemoval&&(de.push(sn),Ie.add(sn),Pn.hasAnimation?this.driver.query(sn,".ng-star-inserted",!0).forEach(pr=>Ie.add(pr)):Pe.add(sn))}const Ze=new Map,ai=nP(Ft,Array.from(Ie));ai.forEach((Ii,sn)=>{const Pn=R2+ce++;Ze.set(sn,Pn),Ii.forEach(pr=>gu(pr,Pn))}),n.push(()=>{zt.forEach((Ii,sn)=>{const Pn=Xt.get(sn);Ii.forEach(pr=>Jy(pr,Pn))}),ai.forEach((Ii,sn)=>{const Pn=Ze.get(sn);Ii.forEach(pr=>Jy(pr,Pn))}),de.forEach(Ii=>{this.processLeaveNode(Ii)})});const wn=[],Dr=[];for(let Ii=this._namespaceList.length-1;Ii>=0;Ii--)this._namespaceList[Ii].drainQueuedTransitions(i).forEach(Pn=>{const pr=Pn.player,oa=Pn.element;if(wn.push(pr),this.collectedEnterElements.length){const rf=oa[mu];if(rf&&rf.setForMove)return void pr.destroy()}const nf=!Et||!this.driver.containsElement(Et,oa),Ph=Ze.get(oa),u0=Xt.get(oa),Uo=this._buildInstruction(Pn,s,u0,Ph,nf);if(Uo.errors&&Uo.errors.length)Dr.push(Uo);else{if(nf)return pr.onStart(()=>ug(oa,Uo.fromStyles)),pr.onDestroy(()=>Zc(oa,Uo.toStyles)),void l.push(pr);if(Pn.isFallbackTransition)return pr.onStart(()=>ug(oa,Uo.fromStyles)),pr.onDestroy(()=>Zc(oa,Uo.toStyles)),void l.push(pr);Uo.timelines.forEach(rf=>rf.stretchStartingKeyframe=!0),s.append(oa,Uo.timelines),y.push({instruction:Uo,player:pr,element:oa}),Uo.queriedElements.forEach(rf=>Eh(A,rf,[]).push(pr)),Uo.preStyleProps.forEach((rf,N_)=>{const qC=Object.keys(rf);if(qC.length){let Cg=L.get(N_);Cg||L.set(N_,Cg=new Set),qC.forEach(BA=>Cg.add(BA))}}),Uo.postStyleProps.forEach((rf,N_)=>{const qC=Object.keys(rf);let Cg=tt.get(N_);Cg||tt.set(N_,Cg=new Set),qC.forEach(BA=>Cg.add(BA))})}});if(Dr.length){const Ii=[];Dr.forEach(sn=>{Ii.push(`@${sn.triggerName} has failed due to:\n`),sn.errors.forEach(Pn=>Ii.push(`- ${Pn}\n`))}),wn.forEach(sn=>sn.destroy()),this.reportError(Ii)}const Nr=new Map,wl=new Map;y.forEach(Ii=>{const sn=Ii.element;s.has(sn)&&(wl.set(sn,sn),this._beforeAnimationBuild(Ii.player.namespaceId,Ii.instruction,Nr))}),l.forEach(Ii=>{const sn=Ii.element;this._getPreviousPlayers(sn,!1,Ii.namespaceId,Ii.triggerName,null).forEach(pr=>{Eh(Nr,sn,[]).push(pr),pr.destroy()})});const Ha=de.filter(Ii=>oP(Ii,L,tt)),za=new Map;iP(za,this.driver,Pe,tt,xd).forEach(Ii=>{oP(Ii,L,tt)&&Ha.push(Ii)});const Pd=new Map;zt.forEach((Ii,sn)=>{iP(Pd,this.driver,new Set(Ii),L,"!")}),Ha.forEach(Ii=>{const sn=za.get(Ii),Pn=Pd.get(Ii);za.set(Ii,vi(vi({},sn),Pn))});const cc=[],u1=[],c1={};y.forEach(Ii=>{const{element:sn,player:Pn,instruction:pr}=Ii;if(s.has(sn)){if(ft.has(sn))return Pn.onDestroy(()=>Zc(sn,pr.toStyles)),Pn.disabled=!0,Pn.overrideTotalTime(pr.totalTime),void l.push(Pn);let oa=c1;if(wl.size>1){let Ph=sn;const u0=[];for(;Ph=Ph.parentNode;){const Uo=wl.get(Ph);if(Uo){oa=Uo;break}u0.push(Ph)}u0.forEach(Uo=>wl.set(Uo,oa))}const nf=this._buildAnimation(Pn.namespaceId,pr,Nr,d,Pd,za);if(Pn.setRealPlayer(nf),oa===c1)cc.push(Pn);else{const Ph=this.playersByElement.get(oa);Ph&&Ph.length&&(Pn.parentPlayer=t0(Ph)),l.push(Pn)}}else ug(sn,pr.fromStyles),Pn.onDestroy(()=>Zc(sn,pr.toStyles)),u1.push(Pn),ft.has(sn)&&l.push(Pn)}),u1.forEach(Ii=>{const sn=d.get(Ii.element);if(sn&&sn.length){const Pn=t0(sn);Ii.setRealPlayer(Pn)}}),l.forEach(Ii=>{Ii.parentPlayer?Ii.syncPlayerEvents(Ii.parentPlayer):Ii.destroy()});for(let Ii=0;Ii<de.length;Ii++){const sn=de[Ii],Pn=sn[mu];if(Jy(sn,R2),Pn&&Pn.hasAnimation)continue;let pr=[];if(A.size){let nf=A.get(sn);nf&&nf.length&&pr.push(...nf);let Ph=this.driver.query(sn,rk,!0);for(let u0=0;u0<Ph.length;u0++){let Uo=A.get(Ph[u0]);Uo&&Uo.length&&pr.push(...Uo)}}const oa=pr.filter(nf=>!nf.destroyed);oa.length?VH(this,sn,oa):this.processLeaveNode(sn)}return de.length=0,cc.forEach(Ii=>{this.players.push(Ii),Ii.onDone(()=>{Ii.destroy();const sn=this.players.indexOf(Ii);this.players.splice(sn,1)}),Ii.play()}),cc}elementContainsData(n,i){let s=!1;const l=i[mu];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(i)&&(s=!0),this.playersByQueriedElement.has(i)&&(s=!0),this.statesByElement.has(i)&&(s=!0),this._fetchNamespace(n).elementContainsData(i)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,i,s,l,d){let y=[];if(i){const A=this.playersByQueriedElement.get(n);A&&(y=A)}else{const A=this.playersByElement.get(n);if(A){const L=!d||d==i_;A.forEach(tt=>{tt.queued||!L&&tt.triggerName!=l||y.push(tt)})}}return(s||l)&&(y=y.filter(A=>!(s&&s!=A.namespaceId||l&&l!=A.triggerName))),y}_beforeAnimationBuild(n,i,s){const d=i.element,y=i.isRemovalTransition?void 0:n,A=i.isRemovalTransition?void 0:i.triggerName;for(const L of i.timelines){const tt=L.element,ft=tt!==d,Et=Eh(s,tt,[]);this._getPreviousPlayers(tt,ft,y,A,i.toState).forEach(zt=>{const Xt=zt.getRealPlayer();Xt.beforeDestroy&&Xt.beforeDestroy(),zt.destroy(),Et.push(zt)})}ug(d,i.fromStyles)}_buildAnimation(n,i,s,l,d,y){const A=i.triggerName,L=i.element,tt=[],ft=new Set,Et=new Set,Ft=i.timelines.map(Xt=>{const ce=Xt.element;ft.add(ce);const de=ce[mu];if(de&&de.removedBeforeQueried)return new Zy(Xt.duration,Xt.delay);const Ie=ce!==L,Pe=function(r){const n=[];return rP(r,n),n}((s.get(ce)||IH).map(Nr=>Nr.getRealPlayer())).filter(Nr=>!!Nr.element&&Nr.element===ce),Ze=d.get(ce),ai=y.get(ce),wn=A8(0,this._normalizer,0,Xt.keyframes,Ze,ai),Dr=this._buildPlayer(Xt,wn,Pe);if(Xt.subTimeline&&l&&Et.add(ce),Ie){const Nr=new yk(n,A,ce);Nr.setRealPlayer(Dr),tt.push(Nr)}return Dr});tt.forEach(Xt=>{Eh(this.playersByQueriedElement,Xt.element,[]).push(Xt),Xt.onDone(()=>function(r,n,i){let s;if(r instanceof Map){if(s=r.get(n),s){if(s.length){const l=s.indexOf(i);s.splice(l,1)}0==s.length&&r.delete(n)}}else if(s=r[n],s){if(s.length){const l=s.indexOf(i);s.splice(l,1)}0==s.length&&delete r[n]}return s}(this.playersByQueriedElement,Xt.element,Xt))}),ft.forEach(Xt=>gu(Xt,L8));const zt=t0(Ft);return zt.onDestroy(()=>{ft.forEach(Xt=>Jy(Xt,L8)),Zc(L,i.toStyles)}),Et.forEach(Xt=>{Eh(l,Xt,[]).push(zt)}),zt}_buildPlayer(n,i,s){return i.length>0?this.driver.animate(n.element,i,n.duration,n.delay,n.easing,s):new Zy(n.duration,n.delay)}}class yk{constructor(n,i,s){this.namespaceId=n,this.triggerName=i,this.element=s,this._player=new Zy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(s=>$E(n,i,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const i=this._player;i.triggerCallback&&n.onStart(()=>i.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,i){Eh(this._queuedCallbacks,n,[]).push(i)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const i=this._player;i.triggerCallback&&i.triggerCallback(n)}}function Y2(r){return r&&1===r.nodeType}function eP(r,n){const i=r.style.display;return r.style.display=null!=n?n:"none",i}function iP(r,n,i,s,l){const d=[];i.forEach(L=>d.push(eP(L)));const y=[];s.forEach((L,tt)=>{const ft={};L.forEach(Et=>{const Ft=ft[Et]=n.computeStyle(tt,Et,l);(!Ft||0==Ft.length)&&(tt[mu]=RH,y.push(tt))}),r.set(tt,ft)});let A=0;return i.forEach(L=>eP(L,d[A++])),y}function nP(r,n){const i=new Map;if(r.forEach(A=>i.set(A,[])),0==n.length)return i;const l=new Set(n),d=new Map;function y(A){if(!A)return 1;let L=d.get(A);if(L)return L;const tt=A.parentNode;return L=i.has(tt)?tt:l.has(tt)?1:y(tt),d.set(A,L),L}return n.forEach(A=>{const L=y(A);1!==L&&i.get(L).push(A)}),i}const $2="$$classes";function gu(r,n){if(r.classList)r.classList.add(n);else{let i=r[$2];i||(i=r[$2]={}),i[n]=!0}}function Jy(r,n){if(r.classList)r.classList.remove(n);else{let i=r[$2];i&&delete i[n]}}function VH(r,n,i){t0(i).onDone(()=>r.processLeaveNode(n))}function rP(r,n){for(let i=0;i<r.length;i++){const s=r[i];s instanceof E8?rP(s.players,n):n.push(s)}}function oP(r,n,i){const s=i.get(r);if(!s)return!1;let l=n.get(r);return l?s.forEach(d=>l.add(d)):n.set(r,s),i.delete(r),!0}class X2{constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,d)=>{},this._transitionEngine=new NH(n,i,s),this._timelineEngine=new kH(n,i,s),this._transitionEngine.onRemovalComplete=(l,d)=>this.onRemovalComplete(l,d)}registerTrigger(n,i,s,l,d){const y=n+"-"+l;let A=this._triggerCache[y];if(!A){const L=[],tt=hk(this._driver,d,L);if(L.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${L.join("\n - ")}`);A=function(r,n,i){return new SH(r,n,i)}(l,tt,this._normalizer),this._triggerCache[y]=A}this._transitionEngine.registerTrigger(i,l,A)}register(n,i){this._transitionEngine.register(n,i)}destroy(n,i){this._transitionEngine.destroy(n,i)}onInsert(n,i,s,l){this._transitionEngine.insertNode(n,i,s,l)}onRemove(n,i,s,l){this._transitionEngine.removeNode(n,i,l||!1,s)}disableAnimations(n,i){this._transitionEngine.markElementAsDisabled(n,i)}process(n,i,s,l){if("@"==s.charAt(0)){const[d,y]=T8(s);this._timelineEngine.command(d,i,y,l)}else this._transitionEngine.trigger(n,i,s,l)}listen(n,i,s,l,d){if("@"==s.charAt(0)){const[y,A]=T8(s);return this._timelineEngine.listen(y,i,A,d)}return this._transitionEngine.listen(n,i,s,l,d)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function sP(r,n){let i=null,s=null;return Array.isArray(n)&&n.length?(i=xk(n[0]),n.length>1&&(s=xk(n[n.length-1]))):n&&(i=xk(n)),i||s?new zH(r,i,s):null}let zH=(()=>{class r{constructor(i,s,l){this._element=i,this._startStyles=s,this._endStyles=l,this._state=0;let d=r.initialStylesByElement.get(i);d||r.initialStylesByElement.set(i,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zc(this._element,this._initialStyles),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(ug(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ug(this._element,this._endStyles),this._endStyles=null),Zc(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function xk(r){let n=null;const i=Object.keys(r);for(let s=0;s<i.length;s++){const l=i[s];UH(l)&&(n=n||{},n[l]=r[l])}return n}function UH(r){return"display"===r||"position"===r}const aP="animation",lP="animationend";class YH{constructor(n,i,s,l,d,y,A){this._element=n,this._name=i,this._duration=s,this._delay=l,this._easing=d,this._fillMode=y,this._onDoneFn=A,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=L=>this._handleCallback(L)}apply(){(function(r,n){const i=_k(r,"").trim();let s=0;i.length&&(function(r,n){let i=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&i++;return i}(i)+1,n=`${i}, ${n}`),K2(r,"",n)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),cP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){hP(this._element,this._name,"paused")}resume(){hP(this._element,this._name,"running")}setPosition(n){const i=uP(this._element,this._name);this._position=n*this._duration,K2(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(n){const i=n._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(n.elapsedTime.toFixed(3));n.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),cP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,n){const s=_k(r,"").split(","),l=wk(s,n);l>=0&&(s.splice(l,1),K2(r,"",s.join(",")))}(this._element,this._name))}}function hP(r,n,i){K2(r,"PlayState",i,uP(r,n))}function uP(r,n){const i=_k(r,"");return i.indexOf(",")>0?wk(i.split(","),n):wk([i],n)}function wk(r,n){for(let i=0;i<r.length;i++)if(r[i].indexOf(n)>=0)return i;return-1}function cP(r,n,i){i?r.removeEventListener(lP,n):r.addEventListener(lP,n)}function K2(r,n,i,s){const l=aP+n;if(null!=s){const d=r.style[l];if(d.length){const y=d.split(",");y[s]=i,i=y.join(",")}}r.style[l]=i}function _k(r,n){return r.style[aP+n]||""}class fP{constructor(n,i,s,l,d,y,A,L){this.element=n,this.keyframes=i,this.animationName=s,this._duration=l,this._delay=d,this._finalStyles=A,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=y||"linear",this.totalTime=l+d,this._buildStyler()}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(n=>n()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(n){this._styler.setPosition(n)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new YH(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}beforeDestroy(){this.init();const n={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(n[s]=i?this._finalStyles[s]:lk(this.element,s))})}this.currentSnapshot=n}}class JH extends Zy{constructor(n,i){super(),this.element=n,this._startingStyles={},this.__initialized=!1,this._styles=O8(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(n=>{this._startingStyles[n]=this.element.style[n]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(n=>this.element.style.setProperty(n,this._styles[n])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(n=>{const i=this._startingStyles[n];i?this.element.style.setProperty(n,i):this.element.style.removeProperty(n)}),this._startingStyles=null,super.destroy())}}class pP{constructor(){this._count=0}validateStyleProperty(n){return JE(n)}matchesElement(n,i){return QE(n,i)}containsElement(n,i){return tk(n,i)}query(n,i,s){return ek(n,i,s)}computeStyle(n,i,s){return window.getComputedStyle(n)[i]}buildKeyframeElement(n,i,s){s=s.map(A=>O8(A));let l=`@keyframes ${i} {\n`,d="";s.forEach(A=>{d=" ";const L=parseFloat(A.offset);l+=`${d}${100*L}% {\n`,d+=" ",Object.keys(A).forEach(tt=>{const ft=A[tt];switch(tt){case"offset":return;case"easing":return void(ft&&(l+=`${d}animation-timing-function: ${ft};\n`));default:return void(l+=`${d}${tt}: ${ft};\n`)}}),l+=`${d}}\n`}),l+="}\n";const y=document.createElement("style");return y.textContent=l,y}animate(n,i,s,l,d,y=[],A){const L=y.filter(de=>de instanceof fP),tt={};z8(s,l)&&L.forEach(de=>{let Ie=de.currentSnapshot;Object.keys(Ie).forEach(Pe=>tt[Pe]=Ie[Pe])});const ft=function(r){let n={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(n[l]=s[l])})}),n}(i=U8(n,i,tt));if(0==s)return new JH(n,ft);const Et="gen_css_kf_"+this._count++,Ft=this.buildKeyframeElement(n,Et,i);(function(r){var i;const n=null==(i=r.getRootNode)?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(n).appendChild(Ft);const Xt=sP(n,i),ce=new fP(n,i,Et,s,l,d,ft,Xt);return ce.onDestroy(()=>{var r;(r=Ft).parentNode.removeChild(r)}),ce}}class gP{constructor(n,i,s,l){this.element=n,this.keyframes=i,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,i,s){return n.animate(i,s)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(n[i]=this._finished?this._finalKeyframe[i]:lk(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class nz{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vP().toString()),this._cssKeyframesDriver=new pP}validateStyleProperty(n){return JE(n)}matchesElement(n,i){return QE(n,i)}containsElement(n,i){return tk(n,i)}query(n,i,s){return ek(n,i,s)}computeStyle(n,i,s){return window.getComputedStyle(n)[i]}overrideWebAnimationsSupport(n){this._isNativeImpl=n}animate(n,i,s,l,d,y=[],A){if(!A&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(n,i,s,l,d,y);const ft={duration:s,delay:l,fill:0==l?"both":"forwards"};d&&(ft.easing=d);const Et={},Ft=y.filter(Xt=>Xt instanceof gP);z8(s,l)&&Ft.forEach(Xt=>{let ce=Xt.currentSnapshot;Object.keys(ce).forEach(de=>Et[de]=ce[de])});const zt=sP(n,i=U8(n,i=i.map(Xt=>e0(Xt,!1)),Et));return new gP(n,i,ft,zt)}}function vP(){return k8()&&Element.prototype.animate||{}}let oz=(()=>{class r extends M8{constructor(i,s){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(s.body,{id:"0",encapsulation:as.None,styles:[],data:{animation:[]}})}build(i){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(i)?C8(i):i;return yP(this._renderer,null,s,"register",[l]),new sz(s,this._renderer)}}return r.\u0275fac=function(i){return new(i||r)(Re($m),Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();class sz extends class{}{constructor(n,i){super(),this._id=n,this._renderer=i}create(n,i){return new az(this._id,n,i||{},this._renderer)}}class az{constructor(n,i,s,l){this.id=n,this.element=i,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,i){return this._renderer.listen(this.element,`@@${this.id}:${n}`,i)}_command(n,...i){return yP(this._renderer,this.element,this.id,n,i)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,i;return null!=(i=null==(n=this._renderer.engine.players[+this.id])?void 0:n.getPosition())?i:0}}function yP(r,n,i,s,l){return r.setProperty(n,`@@${i}:${s}`,l)}const xP="@.disabled";let lz=(()=>{class r{constructor(i,s,l){this.delegate=i,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(d,y)=>{y&&y.parentNode(d)&&y.removeChild(d.parentNode,d)}}createRenderer(i,s){const d=this.delegate.createRenderer(i,s);if(!(i&&s&&s.data&&s.data.animation)){let ft=this._rendererCache.get(d);return ft||(ft=new wP("",d,this.engine),this._rendererCache.set(d,ft)),ft}const y=s.id,A=s.id+"-"+this._currentId;this._currentId++,this.engine.register(A,i);const L=ft=>{Array.isArray(ft)?ft.forEach(L):this.engine.registerTrigger(y,A,i,ft.name,ft)};return s.data.animation.forEach(L),new hz(this,A,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,s,l){i>=0&&i<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[y,A]=d;y(A)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(i){return new(i||r)(Re($m),Re(X2),Re(Ji))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();class wP{constructor(n,i,s){this.namespaceId=n,this.delegate=i,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>i.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,i){return this.delegate.createElement(n,i)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,i){this.delegate.appendChild(n,i),this.engine.onInsert(this.namespaceId,i,n,!1)}insertBefore(n,i,s,l=!0){this.delegate.insertBefore(n,i,s),this.engine.onInsert(this.namespaceId,i,n,l)}removeChild(n,i,s){this.engine.onRemove(this.namespaceId,i,this.delegate,s)}selectRootElement(n,i){return this.delegate.selectRootElement(n,i)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,i,s,l){this.delegate.setAttribute(n,i,s,l)}removeAttribute(n,i,s){this.delegate.removeAttribute(n,i,s)}addClass(n,i){this.delegate.addClass(n,i)}removeClass(n,i){this.delegate.removeClass(n,i)}setStyle(n,i,s,l){this.delegate.setStyle(n,i,s,l)}removeStyle(n,i,s){this.delegate.removeStyle(n,i,s)}setProperty(n,i,s){"@"==i.charAt(0)&&i==xP?this.disableAnimations(n,!!s):this.delegate.setProperty(n,i,s)}setValue(n,i){this.delegate.setValue(n,i)}listen(n,i,s){return this.delegate.listen(n,i,s)}disableAnimations(n,i){this.engine.disableAnimations(n,i)}}class hz extends wP{constructor(n,i,s,l){super(i,s,l),this.factory=n,this.namespaceId=i}setProperty(n,i,s){"@"==i.charAt(0)?"."==i.charAt(1)&&i==xP?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,i.substr(1),s):this.delegate.setProperty(n,i,s)}listen(n,i,s){if("@"==i.charAt(0)){const l=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let d=i.substr(1),y="";return"@"!=d.charAt(0)&&([d,y]=function(r){const n=r.indexOf(".");return[r.substring(0,n),r.substr(n+1)]}(d)),this.engine.listen(this.namespaceId,l,d,y,A=>{this.factory.scheduleListenerCallback(A._data||-1,s,A)})}return this.delegate.listen(n,i,s)}}let fz=(()=>{class r extends X2{constructor(i,s,l){super(i.body,s,l)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn),Re(ik),Re(pk))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const qc=new ui("AnimationModuleType"),_P=[{provide:M8,useClass:oz},{provide:pk,useFactory:function(){return new xH}},{provide:X2,useClass:fz},{provide:$m,useFactory:function(r,n,i){return new lz(r,n,i)},deps:[p2,X2,Ji]}],bP=[{provide:ik,useFactory:function(){return"function"==typeof vP()?new nz:new pP}},{provide:qc,useValue:"BrowserAnimations"},..._P],gz=[{provide:ik,useClass:N8},{provide:qc,useValue:"NoopAnimations"},..._P];let vz=(()=>{class r{static withConfig(i){return{ngModule:r,providers:i.disableAnimations?gz:bP}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:bP,imports:[G4]}),r})();const yz=["*",[["mat-option"],["ng-container"]]],xz=["*","mat-option, ng-container"];function wz(r,n){if(1&r&&Oi(0,"mat-pseudo-checkbox",4),2&r){const i=x();Ue("state",i.selected?"checked":"unchecked")("disabled",i.disabled)}}function _z(r,n){if(1&r&&(_e(0,"span",5),ii(1),Me()),2&r){const i=x();$e(1),to("(",i.group.label,")")}}const bz=["*"],MP=new Wp("13.0.0"),Cz=new ui("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let cr=(()=>{class r{constructor(i,s,l){this._hasDoneGlobalChecks=!1,this._document=l,i._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!(!fD()||yE())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const i=this._document.createElement("div");i.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(i);const s=getComputedStyle(i);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),i.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&MP.full!==b8.full&&console.warn("The Angular Material version ("+MP.full+") does not match the Angular CDK version ("+b8.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(i){return new(i||r)(Re(_8),Re(Cz,8),Re(Mn))},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[t_],t_]}),r})();function n_(r){return class extends r{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=On(n)}}}function fg(r,n){return class extends r{constructor(...i){super(...i),this.defaultColor=n,this.color=n}get color(){return this._color}set color(i){const s=i||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function n0(r){return class extends r{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=On(n)}}}function CP(r,n=0){return class extends r{constructor(...i){super(...i),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(i){this._tabIndex=null!=i?Kp(i):this.defaultTabIndex}}}function SP(r){return class extends r{constructor(...n){super(...n),this.stateChanges=new _,this.errorState=!1}updateErrorState(){const n=this.errorState,d=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);d!==n&&(this.errorState=d,this.stateChanges.next())}}}const DP=new ui("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Qa(cd)}});class ba{constructor(){this._localeChanges=new _,this.localeChanges=this._localeChanges}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return null==n||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,i){return this.getYear(n)-this.getYear(i)||this.getMonth(n)-this.getMonth(i)||this.getDate(n)-this.getDate(i)}sameDate(n,i){if(n&&i){let s=this.isValid(n),l=this.isValid(i);return s&&l?!this.compareDate(n,i):s==l}return n==i}clampDate(n,i,s){return i&&this.compareDate(n,i)<0?i:s&&this.compareDate(n,s)>0?s:n}}const dg=new ui("mat-date-formats"),Dz=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function bk(r,n){const i=Array(r);for(let s=0;s<r;s++)i[s]=n(s);return i}let Ez=(()=>{class r extends ba{constructor(i,s){super(),this.useUtcForDisplay=!1,super.setLocale(i)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){const s=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return bk(12,l=>this._format(s,new Date(2017,l,1)))}getDateNames(){const i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return bk(31,s=>this._format(i,new Date(2017,0,s+1)))}getDayOfWeekNames(i){const s=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return bk(7,l=>this._format(s,new Date(2017,0,l+1)))}getYearName(i){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(s,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,s,l){let d=this._createDateWithOverflow(i,s,l);return d.getMonth(),d}today(){return new Date}parse(i){return"number"==typeof i?new Date(i):i?new Date(Date.parse(i)):null}format(i,s){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");const l=new Intl.DateTimeFormat(this.locale,bs(vi({},s),{timeZone:"utc"}));return this._format(l,i)}addCalendarYears(i,s){return this.addCalendarMonths(i,12*s)}addCalendarMonths(i,s){let l=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+s,this.getDate(i));return this.getMonth(l)!=((this.getMonth(i)+s)%12+12)%12&&(l=this._createDateWithOverflow(this.getYear(l),this.getMonth(l),0)),l}addCalendarDays(i,s){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+s)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if("string"==typeof i){if(!i)return null;if(Dz.test(i)){let s=new Date(i);if(this.isValid(s))return s}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,s,l){const d=new Date;return d.setFullYear(i,s,l),d.setHours(0,0,0,0),d}_2digit(i){return("00"+i).slice(-2)}_format(i,s){const l=new Date;return l.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),l.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),i.format(l)}}return r.\u0275fac=function(i){return new(i||r)(Re(DP,8),Re(xs))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const kz={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Az=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[{provide:ba,useClass:Ez}],imports:[[Hy]]}),r})(),Tz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[{provide:dg,useValue:kz}],imports:[[Az]]}),r})(),Mk=(()=>{class r{isErrorState(i,s){return!!(i&&i.invalid&&(i.touched||s&&s.submitted))}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),EP=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),r})();function r_(r,n,i){r.nativeElement.classList.toggle(n,i)}let AP=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[cr],cr]}),r})();class Pz{constructor(n,i,s){this._renderer=n,this.element=i,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const TP={enterDuration:225,exitDuration:150},Ck=y2({passive:!0}),PP=["mousedown","touchstart"],IP=["mouseup","mouseleave","touchend","touchcancel"];class Rz{constructor(n,i,s,l){this._target=n,this._ngZone=i,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,l.isBrowser&&(this._containerElement=md(s))}fadeInRipple(n,i,s={}){const l=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d=vi(vi({},TP),s.animation);s.centered&&(n=l.left+l.width/2,i=l.top+l.height/2);const y=s.radius||function(r,n,i){const s=Math.max(Math.abs(r-i.left),Math.abs(r-i.right)),l=Math.max(Math.abs(n-i.top),Math.abs(n-i.bottom));return Math.sqrt(s*s+l*l)}(n,i,l),A=n-l.left,L=i-l.top,tt=d.enterDuration,ft=document.createElement("div");ft.classList.add("mat-ripple-element"),ft.style.left=A-y+"px",ft.style.top=L-y+"px",ft.style.height=2*y+"px",ft.style.width=2*y+"px",null!=s.color&&(ft.style.backgroundColor=s.color),ft.style.transitionDuration=`${tt}ms`,this._containerElement.appendChild(ft),window.getComputedStyle(ft).getPropertyValue("opacity"),ft.style.transform="scale(1)";const Et=new Pz(this,ft,s);return Et.state=0,this._activeRipples.add(Et),s.persistent||(this._mostRecentTransientRipple=Et),this._runTimeoutOutsideZone(()=>{const Ft=Et===this._mostRecentTransientRipple;Et.state=1,!s.persistent&&(!Ft||!this._isPointerDown)&&Et.fadeOut()},tt),Et}fadeOutRipple(n){const i=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!i)return;const s=n.element,l=vi(vi({},TP),n.config.animation);s.style.transitionDuration=`${l.exitDuration}ms`,s.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,s.remove()},l.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const i=md(n);!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,this._registerEvents(PP))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(IP),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const i=g8(n),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!s&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!v8(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=n.changedTouches;for(let s=0;s<i.length;s++)this.fadeInRipple(i[s].clientX,i[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,i=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,i))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(i=>{this._triggerElement.addEventListener(i,this,Ck)})})}_removeTriggerEvents(){this._triggerElement&&(PP.forEach(n=>{this._triggerElement.removeEventListener(n,this,Ck)}),this._pointerUpEventsRegistered&&IP.forEach(n=>{this._triggerElement.removeEventListener(n,this,Ck)}))}}const Fz=new ui("mat-ripple-global-options");let pg=(()=>{class r{constructor(i,s,l,d,y){this._elementRef=i,this._animationMode=y,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new Rz(this,s,i,l)}get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:vi(vi(vi({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,s=0,l){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,s,vi(vi({},this.rippleConfig),l)):this._rippleRenderer.fadeInRipple(0,0,vi(vi({},this.rippleConfig),i))}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(Ji),ie(xs),ie(Fz,8),ie(qc,8))},r.\u0275dir=li({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){2&i&&gn("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),q2=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[cr,Hy],cr]}),r})(),RP=(()=>{class r{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1}}return r.\u0275fac=function(i){return new(i||r)(ie(qc,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(i,s){2&i&&gn("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(i,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),r})(),Sk=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[cr]]}),r})();const J2=new ui("MAT_OPTION_PARENT_COMPONENT"),Lz=n_(class{});let Bz=0,Vz=(()=>{class r extends Lz{constructor(i){var s;super(),this._labelId="mat-optgroup-label-"+Bz++,this._inert=null!=(s=null==i?void 0:i.inertGroups)&&s}}return r.\u0275fac=function(i){return new(i||r)(ie(J2,8))},r.\u0275dir=li({type:r,inputs:{label:"label"},features:[zi]}),r})();const Q2=new ui("MatOptgroup");let OP=(()=>{class r extends Vz{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=_i({type:r,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-optgroup"],hostVars:5,hostBindings:function(i,s){2&i&&(yn("role",s._inert?null:"group")("aria-disabled",s._inert?null:s.disabled.toString())("aria-labelledby",s._inert?null:s._labelId),gn("mat-optgroup-disabled",s.disabled))},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[Un([{provide:Q2,useExisting:r}]),zi],ngContentSelectors:xz,decls:4,vars:2,consts:[["aria-hidden","true",1,"mat-optgroup-label",3,"id"]],template:function(i,s){1&i&&(E(yz),_e(0,"span",0),ii(1),P(2),Me(),P(3,1)),2&i&&(Ue("id",s._labelId),$e(1),to("",s.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})(),jz=0;class NP{constructor(n,i=!1){this.source=n,this.isUserInput=i}}let Hz=(()=>{class r{constructor(i,s,l,d){this._element=i,this._changeDetectorRef=s,this._parent=l,this.group=d,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+jz++,this.onSelectionChange=new Si,this._stateChanges=new _}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=On(i)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(i,s){const l=this._getHostElement();"function"==typeof l.focus&&l.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(13===i.keyCode||32===i.keyCode)&&!th(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue=i,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new NP(this,i))}}return r.\u0275fac=function(i){Fc()},r.\u0275dir=li({type:r,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),o_=(()=>{class r extends Hz{constructor(i,s,l,d){super(i,s,l,d)}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(co),ie(J2,8),ie(Q2,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(i,s){1&i&&e("click",function(){return s._selectViaInteraction()})("keydown",function(d){return s._handleKeydown(d)}),2&i&&(_a("id",s.id),yn("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),gn("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[zi],ngContentSelectors:bz,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(i,s){1&i&&(E(),bi(0,wz,1,2,"mat-pseudo-checkbox",0),_e(1,"span",1),P(2),Me(),bi(3,_z,2,1,"span",2),Oi(4,"div",3)),2&i&&(Ue("ngIf",s.multiple),$e(3),Ue("ngIf",s.group&&s.group._inert),$e(1),Ue("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[Zl,pg,RP],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})();function Dk(r,n,i){if(i.length){let s=n.toArray(),l=i.toArray(),d=0;for(let y=0;y<r+1;y++)s[y].group&&s[y].group===l[d]&&d++;return d}return 0}function FP(r,n,i,s){return r<i?r:r+n>i+s?Math.max(0,r-s+n):i}let tC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[q2,Wc,cr,Sk]]}),r})();const zz=["mat-button",""],Uz=["*"],Wz=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Yz=fg(n_(n0(class{constructor(r){this._elementRef=r}})));let r0=(()=>{class r extends Yz{constructor(i,s,l){super(i),this._focusMonitor=s,this._animationMode=l,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const d of Wz)this._hasHostAttributes(d)&&this._getHostElement().classList.add(d);i.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,s){i?this._focusMonitor.focusVia(this._getHostElement(),i,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...i){return i.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(Qw),ie(qc,8))},r.\u0275cmp=_i({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,s){if(1&i&&Or(pg,5),2&i){let l;Wi(l=Yi())&&(s.ripple=l.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,s){2&i&&(yn("disabled",s.disabled||null),gn("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[zi],attrs:zz,ngContentSelectors:Uz,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,s){1&i&&(E(),_e(0,"span",0),P(1),Me(),Oi(2,"span",1),Oi(3,"span",2)),2&i&&($e(2),gn("mat-button-ripple-round",s.isRoundButton||s.isIconButton),Ue("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[pg],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),Ek=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[q2,cr],cr]}),r})();const $z=["*",[["mat-card-footer"]]],Xz=["*","mat-card-footer"];let Kz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),Zz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),qz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),r})(),Jz=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(i,s){2&i&&gn("mat-card-actions-align-end","end"===s.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),Qz=(()=>{class r{constructor(i){this._animationMode=i}}return r.\u0275fac=function(i){return new(i||r)(ie(qc,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(i,s){2&i&&gn("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:Xz,decls:2,vars:0,template:function(i,s){1&i&&(E($z),P(0),P(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),tU=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[cr],cr]}),r})();const eU=["input"],iU=function(r){return{enterDuration:r}},nU=["*"],rU=new ui("mat-checkbox-default-options",{providedIn:"root",factory:LP});function LP(){return{color:"accent",clickAction:"check-indeterminate"}}let oU=0;const BP=LP(),sU={provide:Jl,useExisting:Xe(()=>VP),multi:!0};class aU{}const lU=CP(fg(n0(n_(class{constructor(r){this._elementRef=r}}))));let VP=(()=>{class r extends lU{constructor(i,s,l,d,y,A,L){super(i),this._changeDetectorRef=s,this._focusMonitor=l,this._ngZone=d,this._animationMode=A,this._options=L,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++oU,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new Si,this.indeterminateChange=new Si,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||BP,this.color=this.defaultColor=this._options.color||BP.color,this.tabIndex=parseInt(y)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(i){this._required=On(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{i||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){const s=On(i);s!==this.disabled&&(this._disabled=s,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){const s=i!=this._indeterminate;this._indeterminate=On(i),s&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(i){let s=this._currentCheckState,l=this._elementRef.nativeElement;if(s!==i&&(this._currentAnimationClass.length>0&&l.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){l.classList.add(this._currentAnimationClass);const d=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{l.classList.remove(d)},1e3)})}}_emitChangeEvent(){const i=new aU;i.source=this,i.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(i),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(i){var l;const s=null==(l=this._options)?void 0:l.clickAction;i.stopPropagation(),this.disabled||"noop"===s?!this.disabled&&"noop"===s&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==s&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(i,s){i?this._focusMonitor.focusVia(this._inputElement,i,s):this._inputElement.nativeElement.focus(s)}_onInteractionEvent(i){i.stopPropagation()}_getAnimationClassForCheckStateTransition(i,s){if("NoopAnimations"===this._animationMode)return"";let l="";switch(i){case 0:if(1===s)l="unchecked-checked";else{if(3!=s)return"";l="unchecked-indeterminate"}break;case 2:l=1===s?"unchecked-checked":"unchecked-indeterminate";break;case 1:l=2===s?"checked-unchecked":"checked-indeterminate";break;case 3:l=1===s?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${l}`}_syncIndeterminate(i){const s=this._inputElement;s&&(s.nativeElement.indeterminate=i)}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(co),ie(Qw),ie(Ji),El("tabindex"),ie(qc,8),ie(rU,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-checkbox"]],viewQuery:function(i,s){if(1&i&&(Or(eU,5),Or(pg,5)),2&i){let l;Wi(l=Yi())&&(s._inputElement=l.first),Wi(l=Yi())&&(s.ripple=l.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(i,s){2&i&&(_a("id",s.id),yn("tabindex",null),gn("mat-checkbox-indeterminate",s.indeterminate)("mat-checkbox-checked",s.checked)("mat-checkbox-disabled",s.disabled)("mat-checkbox-label-before","before"==s.labelPosition)("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Un([sU]),zi],ngContentSelectors:nU,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(i,s){if(1&i&&(E(),_e(0,"label",0,1),_e(2,"span",2),_e(3,"input",3,4),e("change",function(d){return s._onInteractionEvent(d)})("click",function(d){return s._onInputClick(d)}),Me(),_e(5,"span",5),Oi(6,"span",6),Me(),Oi(7,"span",7),_e(8,"span",8),A0(),_e(9,"svg",9),Oi(10,"path",10),Me(),zd(),Oi(11,"span",11),Me(),Me(),_e(12,"span",12,13),e("cdkObserveContent",function(){return s._onLabelTextChange()}),_e(14,"span",14),ii(15,"\xa0"),Me(),P(16),Me(),Me()),2&i){const l=ol(1),d=ol(13);yn("for",s.inputId),$e(2),gn("mat-checkbox-inner-container-no-side-margin",!d.textContent||!d.textContent.trim()),$e(1),Ue("id",s.inputId)("required",s.required)("checked",s.checked)("disabled",s.disabled)("tabIndex",s.tabIndex),yn("value",s.value)("name",s.name)("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-checked",s._getAriaChecked())("aria-describedby",s.ariaDescribedby),$e(2),Ue("matRippleTrigger",l)("matRippleDisabled",s._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",function(r,n,i,s){return _3(Qe(),Yo(),r,n,i,s)}(19,iU,"NoopAnimations"===s._animationMode?0:150))}},directives:[pg,a8],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),r})(),jP=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})(),cU=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[q2,cr,zE,jP],cr,jP]}),r})();const fU=["addListener","removeListener"],dU=["addEventListener","removeEventListener"],pU=["on","off"];function uc(r,n,i,s){if(yt(i)&&(s=i,i=void 0),s)return uc(r,n,i).pipe(cE(s));const[l,d]=function(r){return yt(r.addEventListener)&&yt(r.removeEventListener)}(r)?dU.map(y=>A=>r[y](n,A,i)):function(r){return yt(r.addListener)&&yt(r.removeListener)}(r)?fU.map(HP(r,n)):function(r){return yt(r.on)&&yt(r.off)}(r)?pU.map(HP(r,n)):[];if(!l&&Gt(r))return Ut(y=>uc(y,n,i))(Di(r));if(!l)throw new TypeError("Invalid event target");return new v(y=>{const A=(...L)=>y.next(1<L.length?L:L[0]);return l(A),()=>d(A)})}function HP(r,n){return i=>s=>r[i](n,s)}const s_={schedule(r){let n=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:s}=s_;s&&(n=s.requestAnimationFrame,i=s.cancelAnimationFrame);const l=n(d=>{i=void 0,r(d)});return new M(()=>null==i?void 0:i(l))},requestAnimationFrame(...r){const{delegate:n}=s_;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=s_;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...r)},delegate:void 0};new class extends pE{flush(n){this._active=!0,this._scheduled=void 0;const{actions:i}=this;let s,l=-1;n=n||i.shift();const d=i.length;do{if(s=n.execute(n.state,n.delay))break}while(++l<d&&(n=i.shift()));if(this._active=!1,s){for(;++l<d&&(n=i.shift());)n.unsubscribe();throw s}}}(class extends fE{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=s_.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,i,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(n,i,s);0===n.actions.length&&(s_.cancelAnimationFrame(i),n._scheduled=void 0)}});let kk,_U=1;const eC={};function zP(r){return r in eC&&(delete eC[r],!0)}const bU={setImmediate(r){const n=_U++;return eC[n]=!0,kk||(kk=Promise.resolve()),kk.then(()=>zP(n)&&r()),n},clearImmediate(r){zP(r)}},{setImmediate:MU,clearImmediate:CU}=bU,iC={setImmediate(...r){const{delegate:n}=iC;return((null==n?void 0:n.setImmediate)||MU)(...r)},clearImmediate(r){const{delegate:n}=iC;return((null==n?void 0:n.clearImmediate)||CU)(r)},delegate:void 0};new class extends pE{flush(n){this._active=!0,this._scheduled=void 0;const{actions:i}=this;let s,l=-1;n=n||i.shift();const d=i.length;do{if(s=n.execute(n.state,n.delay))break}while(++l<d&&(n=i.shift()));if(this._active=!1,s){for(;++l<d&&(n=i.shift());)n.unsubscribe();throw s}}}(class extends fE{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=iC.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,i,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(n,i,s);0===n.actions.length&&(iC.clearImmediate(i),n._scheduled=void 0)}});function UP(r=0,n,i=J4){let s=-1;return null!=n&&(ni(n)?i=n:s=n),new v(l=>{let d=function(r){return r instanceof Date&&!isNaN(r)}(r)?+r-i.now():r;d<0&&(d=0);let y=0;return i.schedule(function(){l.closed||(l.next(y++),0<=s?this.schedule(void 0,s):l.complete())},d)})}function Ak(r,n=J4){return function(r){return K((n,i)=>{let s=!1,l=null,d=null,y=!1;const A=()=>{if(null==d||d.unsubscribe(),d=null,s){s=!1;const tt=l;l=null,i.next(tt)}y&&i.complete()},L=()=>{d=null,y&&i.complete()};n.subscribe(new U(i,tt=>{s=!0,l=tt,d||Di(r()).subscribe(d=new U(i,A,L))},()=>{y=!0,(!s||!d||d.closed)&&i.complete()}))})}(()=>UP(r,n))}let nC=(()=>{class r{constructor(i,s,l){this._ngZone=i,this._platform=s,this._scrolled=new _,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=l}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const s=this.scrollContainers.get(i);s&&(s.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new v(s=>{this._globalSubscription||this._addGlobalListener();const l=i>0?this._scrolled.pipe(Ak(i)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{l.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qi()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(i,s){const l=this.getAncestorScrollContainers(i);return this.scrolled(s).pipe(Do(d=>!d||l.indexOf(d)>-1))}getAncestorScrollContainers(i){const s=[];return this.scrollContainers.forEach((l,d)=>{this._scrollableContainsElement(d,i)&&s.push(d)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,s){let l=md(s),d=i.getElementRef().nativeElement;do{if(l==d)return!0}while(l=l.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>uc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(i){return new(i||r)(Re(Ji),Re(xs),Re(Mn,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rC=(()=>{class r{constructor(i,s,l,d){this.elementRef=i,this.scrollDispatcher=s,this.ngZone=l,this.dir=d,this._destroyed=new _,this._elementScrolled=new v(y=>this.ngZone.runOutsideAngular(()=>uc(this.elementRef.nativeElement,"scroll").pipe(wr(this._destroyed)).subscribe(y)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const s=this.elementRef.nativeElement,l=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=l?i.end:i.start),null==i.right&&(i.right=l?i.start:i.end),null!=i.bottom&&(i.top=s.scrollHeight-s.clientHeight-i.bottom),l&&0!=zw()?(null!=i.left&&(i.right=s.scrollWidth-s.clientWidth-i.left),2==zw()?i.left=i.right:1==zw()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=s.scrollWidth-s.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const s=this.elementRef.nativeElement;e6()?s.scrollTo(i):(null!=i.top&&(s.scrollTop=i.top),null!=i.left&&(s.scrollLeft=i.left))}measureScrollOffset(i){const s="left",l="right",d=this.elementRef.nativeElement;if("top"==i)return d.scrollTop;if("bottom"==i)return d.scrollHeight-d.clientHeight-d.scrollTop;const y=this.dir&&"rtl"==this.dir.value;return"start"==i?i=y?l:s:"end"==i&&(i=y?s:l),y&&2==zw()?i==s?d.scrollWidth-d.clientWidth-d.scrollLeft:d.scrollLeft:y&&1==zw()?i==s?d.scrollLeft+d.scrollWidth-d.clientWidth:-d.scrollLeft:i==s?d.scrollLeft:d.scrollWidth-d.clientWidth-d.scrollLeft}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(nC),ie(Ji),ie(lc,8))},r.\u0275dir=li({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),a_=(()=>{class r{constructor(i,s,l){this._platform=i,this._change=new _,this._changeListener=d=>{this._change.next(d)},this._document=l,s.runOutsideAngular(()=>{if(i.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:s,height:l}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+l,right:i.left+s,height:l,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,s=this._getWindow(),l=i.documentElement,d=l.getBoundingClientRect();return{top:-d.top||i.body.scrollTop||s.scrollY||l.scrollTop||0,left:-d.left||i.body.scrollLeft||s.scrollX||l.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(Ak(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(i){return new(i||r)(Re(xs),Re(Ji),Re(Mn,8))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),mg=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})(),GP=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[t_,Hy,mg],t_,mg]}),r})();function RU(r,n){return function(i,s){n(i,s,r)}}function OU(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)}class Pk{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class l_ extends Pk{constructor(n,i,s,l){super(),this.component=n,this.viewContainerRef=i,this.injector=s,this.componentFactoryResolver=l}}class sC extends Pk{constructor(n,i,s){super(),this.templateRef=n,this.viewContainerRef=i,this.context=s}get origin(){return this.templateRef.elementRef}attach(n,i=this.context){return this.context=i,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class LU extends Pk{constructor(n){super(),this.element=n instanceof qi?n.nativeElement:n}}class Ik{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof l_?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof sC?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof LU?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class BU extends Ik{constructor(n,i,s,l,d){super(),this.outletElement=n,this._componentFactoryResolver=i,this._appRef=s,this._defaultInjector=l,this.attachDomPortal=y=>{const A=y.element,L=this._document.createComment("dom-portal");A.parentNode.insertBefore(L,A),this.outletElement.appendChild(A),this._attachedPortal=y,super.setDisposeFn(()=>{L.parentNode&&L.parentNode.replaceChild(A,L)})},this._document=d}attachComponentPortal(n){const s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let l;return n.viewContainerRef?(l=n.viewContainerRef.createComponent(s,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>l.destroy())):(l=s.create(n.injector||this._defaultInjector),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.detachView(l.hostView),l.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(l)),this._attachedPortal=n,l}attachTemplatePortal(n){let i=n.viewContainerRef,s=i.createEmbeddedView(n.templateRef,n.context);return s.rootNodes.forEach(l=>this.outletElement.appendChild(l)),s.detectChanges(),this.setDisposeFn(()=>{let l=i.indexOf(s);-1!==l&&i.remove(l)}),this._attachedPortal=n,s}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let aC=(()=>{class r extends Ik{constructor(i,s,l){super(),this._componentFactoryResolver=i,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new Si,this.attachDomPortal=d=>{const y=d.element,A=this._document.createComment("dom-portal");d.setAttachedHost(this),y.parentNode.insertBefore(A,y),this._getRootNode().appendChild(y),this._attachedPortal=d,super.setDisposeFn(()=>{A.parentNode&&A.parentNode.replaceChild(y,A)})},this._document=l}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(i){i.setAttachedHost(this);const s=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,d=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),y=s.createComponent(d,s.length,i.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(y.hostView.rootNodes[0]),super.setDisposeFn(()=>y.destroy()),this._attachedPortal=i,this._attachedRef=y,this.attached.emit(y),y}attachTemplatePortal(i){i.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}}return r.\u0275fac=function(i){return new(i||r)(ie(hd),ie(ml),ie(Mn))},r.\u0275dir=li({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[zi]}),r})(),Rk=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})();const XP=e6();class jU{constructor(n,i){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=ys(-this._previousScrollPosition.left),n.style.top=ys(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,s=n.style,l=this._document.body.style,d=s.scrollBehavior||"",y=l.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),XP&&(s.scrollBehavior=l.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XP&&(s.scrollBehavior=d,l.scrollBehavior=y)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,s=this._viewportRuler.getViewportSize();return i.scrollHeight>s.height||i.scrollWidth>s.width}}class HU{constructor(n,i,s,l){this._scrollDispatcher=n,this._ngZone=i,this._viewportRuler=s,this._config=l,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class KP{enable(){}disable(){}attach(){}}function Ok(r,n){return n.some(i=>r.bottom<i.top||r.top>i.bottom||r.right<i.left||r.left>i.right)}function ZP(r,n){return n.some(i=>r.top<i.top||r.bottom>i.bottom||r.left<i.left||r.right>i.right)}class zU{constructor(n,i,s,l){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=s,this._config=l,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:l}=this._viewportRuler.getViewportSize();Ok(i,[{width:s,height:l,bottom:l,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let UU=(()=>{class r{constructor(i,s,l,d){this._scrollDispatcher=i,this._viewportRuler=s,this._ngZone=l,this.noop=()=>new KP,this.close=y=>new HU(this._scrollDispatcher,this._ngZone,this._viewportRuler,y),this.block=()=>new jU(this._viewportRuler,this._document),this.reposition=y=>new zU(this._scrollDispatcher,this._viewportRuler,this._ngZone,y),this._document=d}}return r.\u0275fac=function(i){return new(i||r)(Re(nC),Re(a_),Re(Ji),Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class h_{constructor(n){if(this.scrollStrategy=new KP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const i=Object.keys(n);for(const s of i)void 0!==n[s]&&(this[s]=n[s])}}}class GU{constructor(n,i,s,l,d){this.offsetX=s,this.offsetY=l,this.panelClass=d,this.originX=n.originX,this.originY=n.originY,this.overlayX=i.overlayX,this.overlayY=i.overlayY}}class WU{}let YU=(()=>{let r=class{constructor(i,s){this.connectionPair=i,this.scrollableViewProperties=s}};return r=function(r,n,i,s){var y,l=arguments.length,d=l<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(r,n,i,s);else for(var A=r.length-1;A>=0;A--)(y=r[A])&&(d=(l<3?y(d):l>3?y(n,i,d):y(n,i))||d);return l>3&&d&&Object.defineProperty(n,i,d),d}([RU(1,kr()),OU("design:paramtypes",[GU,WU])],r),r})(),qP=(()=>{class r{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const s=this._attachedOverlays.indexOf(i);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),$U=(()=>{class r extends qP{constructor(i){super(i),this._keydownListener=s=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){l[d]._keydownEvents.next(s);break}}}add(i){super.add(i),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),XU=(()=>{class r extends qP{constructor(i,s){super(i),this._platform=s,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Zp(l)},this._clickListener=l=>{const d=Zp(l),y="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const A=this._attachedOverlays.slice();for(let L=A.length-1;L>-1;L--){const tt=A[L];if(!(tt._outsidePointerEvents.observers.length<1)&&tt.hasAttached()){if(tt.overlayElement.contains(d)||tt.overlayElement.contains(y))break;tt._outsidePointerEvents.next(l)}}}}add(i){if(super.add(i),!this._isAttached){const s=this._document.body;s.addEventListener("pointerdown",this._pointerDownListener,!0),s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn),Re(xs))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),JP=(()=>{class r{constructor(i,s){this._platform=s,this._document=i}ngOnDestroy(){var i;null==(i=this._containerElement)||i.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||yE()){const l=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let d=0;d<l.length;d++)l[d].remove()}const s=this._document.createElement("div");s.classList.add(i),yE()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn),Re(xs))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class KU{constructor(n,i,s,l,d,y,A,L,tt){this._portalOutlet=n,this._host=i,this._pane=s,this._config=l,this._ngZone=d,this._keyboardDispatcher=y,this._document=A,this._location=L,this._outsideClickDispatcher=tt,this._backdropElement=null,this._backdropClick=new _,this._attachments=new _,this._detachments=new _,this._locationChanges=M.EMPTY,this._backdropClickHandler=ft=>this._backdropClick.next(ft),this._keydownEvents=new _,this._outsidePointerEvents=new _,l.scrollStrategy&&(this._scrollStrategy=l.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=l.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){let i=this._portalOutlet.attach(n);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ui(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){var i;const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(i=this._host)||i.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=vi(vi({},this._config),n),this._updateElementSize()}setDirection(n){this._config=bs(vi({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=ys(this._config.width),n.height=ys(this._config.height),n.minWidth=ys(this._config.minWidth),n.minHeight=ys(this._config.minHeight),n.maxWidth=ys(this._config.maxWidth),n.maxHeight=ys(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(!n)return;let i;const s=()=>{n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",s),this._disposeBackdrop(n)),this._config.backdropClass&&this._toggleClasses(n,this._config.backdropClass,!1),clearTimeout(i)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",s)}),n.style.pointerEvents="none",i=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(n,i,s){const l=m2(i||[]).filter(d=>!!d);l.length&&(s?n.classList.add(...l):n.classList.remove(...l))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(wr(an(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.remove(),this._backdropElement===n&&(this._backdropElement=null))}}const QP="cdk-overlay-connected-position-bounding-box",ZU=/([A-Za-z%]+)$/;class tI{constructor(n,i,s,l,d){this._viewportRuler=i,this._document=s,this._platform=l,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _,this._resizeSubscription=M.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(QP),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const n=this._originRect,i=this._overlayRect,s=this._viewportRect,l=[];let d;for(let y of this._preferredPositions){let A=this._getOriginPoint(n,y),L=this._getOverlayPoint(A,i,y),tt=this._getOverlayFit(L,i,s,y);if(tt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(y,A);this._canFitWithFlexibleDimensions(tt,L,s)?l.push({position:y,origin:A,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(A,y)}):(!d||d.overlayFit.visibleArea<tt.visibleArea)&&(d={overlayFit:tt,overlayPoint:L,originPoint:A,position:y,overlayRect:i})}if(l.length){let y=null,A=-1;for(const L of l){const tt=L.boundingBoxRect.width*L.boundingBoxRect.height*(L.position.weight||1);tt>A&&(A=tt,y=L)}return this._isPushed=!1,void this._applyPosition(y.position,y.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(QP),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const n=this._lastPosition||this._preferredPositions[0],i=this._getOriginPoint(this._originRect,n);this._applyPosition(n,i)}}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,i){let s,l;if("center"==i.originX)s=n.left+n.width/2;else{const d=this._isRtl()?n.right:n.left,y=this._isRtl()?n.left:n.right;s="start"==i.originX?d:y}return l="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,{x:s,y:l}}_getOverlayPoint(n,i,s){let l,d;return l="center"==s.overlayX?-i.width/2:"start"===s.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,d="center"==s.overlayY?-i.height/2:"top"==s.overlayY?0:-i.height,{x:n.x+l,y:n.y+d}}_getOverlayFit(n,i,s,l){const d=iI(i);let{x:y,y:A}=n,L=this._getOffset(l,"x"),tt=this._getOffset(l,"y");L&&(y+=L),tt&&(A+=tt);let Ft=0-A,zt=A+d.height-s.height,Xt=this._subtractOverflows(d.width,0-y,y+d.width-s.width),ce=this._subtractOverflows(d.height,Ft,zt),de=Xt*ce;return{visibleArea:de,isCompletelyWithinViewport:d.width*d.height===de,fitsInViewportVertically:ce===d.height,fitsInViewportHorizontally:Xt==d.width}}_canFitWithFlexibleDimensions(n,i,s){if(this._hasFlexibleDimensions){const l=s.bottom-i.y,d=s.right-i.x,y=eI(this._overlayRef.getConfig().minHeight),A=eI(this._overlayRef.getConfig().minWidth),tt=n.fitsInViewportHorizontally||null!=A&&A<=d;return(n.fitsInViewportVertically||null!=y&&y<=l)&&tt}return!1}_pushOverlayOnScreen(n,i,s){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const l=iI(i),d=this._viewportRect,y=Math.max(n.x+l.width-d.width,0),A=Math.max(n.y+l.height-d.height,0),L=Math.max(d.top-s.top-n.y,0),tt=Math.max(d.left-s.left-n.x,0);let ft=0,Et=0;return ft=l.width<=d.width?tt||-y:n.x<this._viewportMargin?d.left-s.left-n.x:0,Et=l.height<=d.height?L||-A:n.y<this._viewportMargin?d.top-s.top-n.y:0,this._previousPushAmount={x:ft,y:Et},{x:n.x+ft,y:n.y+Et}}_applyPosition(n,i){if(this._setTransformOrigin(n),this._setOverlayElementStyles(i,n),this._setBoundingBoxStyles(i,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const s=this._getScrollVisibility(),l=new YU(n,s);this._positionChanges.next(l)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,l=n.overlayY;s="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let d=0;d<i.length;d++)i[d].style.transformOrigin=`${s} ${l}`}_calculateBoundingBoxRect(n,i){const s=this._viewportRect,l=this._isRtl();let d,y,A,ft,Et,Ft;if("top"===i.overlayY)y=n.y,d=s.height-y+this._viewportMargin;else if("bottom"===i.overlayY)A=s.height-n.y+2*this._viewportMargin,d=s.height-A+this._viewportMargin;else{const zt=Math.min(s.bottom-n.y+s.top,n.y),Xt=this._lastBoundingBoxSize.height;d=2*zt,y=n.y-zt,d>Xt&&!this._isInitialRender&&!this._growAfterOpen&&(y=n.y-Xt/2)}if("end"===i.overlayX&&!l||"start"===i.overlayX&&l)Ft=s.width-n.x+this._viewportMargin,ft=n.x-this._viewportMargin;else if("start"===i.overlayX&&!l||"end"===i.overlayX&&l)Et=n.x,ft=s.right-n.x;else{const zt=Math.min(s.right-n.x+s.left,n.x),Xt=this._lastBoundingBoxSize.width;ft=2*zt,Et=n.x-zt,ft>Xt&&!this._isInitialRender&&!this._growAfterOpen&&(Et=n.x-Xt/2)}return{top:y,left:Et,bottom:A,right:Ft,width:ft,height:d}}_setBoundingBoxStyles(n,i){const s=this._calculateBoundingBoxRect(n,i);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const l={};if(this._hasExactPosition())l.top=l.left="0",l.bottom=l.right=l.maxHeight=l.maxWidth="",l.width=l.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,y=this._overlayRef.getConfig().maxWidth;l.height=ys(s.height),l.top=ys(s.top),l.bottom=ys(s.bottom),l.width=ys(s.width),l.left=ys(s.left),l.right=ys(s.right),l.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",l.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",d&&(l.maxHeight=ys(d)),y&&(l.maxWidth=ys(y))}this._lastBoundingBoxSize=s,gg(this._boundingBox.style,l)}_resetBoundingBoxStyles(){gg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,i){const s={},l=this._hasExactPosition(),d=this._hasFlexibleDimensions,y=this._overlayRef.getConfig();if(l){const ft=this._viewportRuler.getViewportScrollPosition();gg(s,this._getExactOverlayY(i,n,ft)),gg(s,this._getExactOverlayX(i,n,ft))}else s.position="static";let A="",L=this._getOffset(i,"x"),tt=this._getOffset(i,"y");L&&(A+=`translateX(${L}px) `),tt&&(A+=`translateY(${tt}px)`),s.transform=A.trim(),y.maxHeight&&(l?s.maxHeight=ys(y.maxHeight):d&&(s.maxHeight="")),y.maxWidth&&(l?s.maxWidth=ys(y.maxWidth):d&&(s.maxWidth="")),gg(this._pane.style,s)}_getExactOverlayY(n,i,s){let l={top:"",bottom:""},d=this._getOverlayPoint(i,this._overlayRect,n);this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,s));let y=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return d.y-=y,"bottom"===n.overlayY?l.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":l.top=ys(d.y),l}_getExactOverlayX(n,i,s){let y,l={left:"",right:""},d=this._getOverlayPoint(i,this._overlayRect,n);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,s)),y=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===y?l.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":l.left=ys(d.x),l}_getScrollVisibility(){const n=this._getOriginRect(),i=this._pane.getBoundingClientRect(),s=this._scrollables.map(l=>l.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ZP(n,s),isOriginOutsideView:Ok(n,s),isOverlayClipped:ZP(i,s),isOverlayOutsideView:Ok(i,s)}}_subtractOverflows(n,...i){return i.reduce((s,l)=>s-Math.max(l,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+n-this._viewportMargin,bottom:s.top+i-this._viewportMargin,width:n-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,i){return"x"===i?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&m2(n).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof qi)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const i=n.width||0,s=n.height||0;return{top:n.y,bottom:n.y+s,left:n.x,right:n.x+i,height:s,width:i}}}function gg(r,n){for(let i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r}function eI(r){if("number"!=typeof r&&null!=r){const[n,i]=r.split(ZU);return i&&"px"!==i?null:parseFloat(n)}return r||null}function iI(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const nI="cdk-global-overlay-wrapper";class qU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const i=n.getConfig();this._overlayRef=n,this._width&&!i.width&&n.updateSize({width:this._width}),this._height&&!i.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(nI),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:l,height:d,maxWidth:y,maxHeight:A}=s,L=!("100%"!==l&&"100vw"!==l||y&&"100%"!==y&&"100vw"!==y),tt=!("100%"!==d&&"100vh"!==d||A&&"100%"!==A&&"100vh"!==A);n.position=this._cssPosition,n.marginLeft=L?"0":this._leftOffset,n.marginTop=tt?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,L?i.justifyContent="flex-start":"center"===this._justifyContent?i.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?i.justifyContent="flex-end":"flex-end"===this._justifyContent&&(i.justifyContent="flex-start"):i.justifyContent=this._justifyContent,i.alignItems=tt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,s=i.style;i.classList.remove(nI),s.justifyContent=s.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let JU=(()=>{class r{constructor(i,s,l,d){this._viewportRuler=i,this._document=s,this._platform=l,this._overlayContainer=d}global(){return new qU}flexibleConnectedTo(i){return new tI(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(i){return new(i||r)(Re(a_),Re(Mn),Re(xs),Re(JP))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),QU=0,wd=(()=>{class r{constructor(i,s,l,d,y,A,L,tt,ft,Et,Ft){this.scrollStrategies=i,this._overlayContainer=s,this._componentFactoryResolver=l,this._positionBuilder=d,this._keyboardDispatcher=y,this._injector=A,this._ngZone=L,this._document=tt,this._directionality=ft,this._location=Et,this._outsideClickDispatcher=Ft}create(i){const s=this._createHostElement(),l=this._createPaneElement(s),d=this._createPortalOutlet(l),y=new h_(i);return y.direction=y.direction||this._directionality.value,new KU(d,s,l,y,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(i){const s=this._document.createElement("div");return s.id="cdk-overlay-"+QU++,s.classList.add("cdk-overlay-pane"),i.appendChild(s),s}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(qm)),new BU(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(i){return new(i||r)(Re(UU),Re(JP),Re(hd),Re(JU),Re($U),Re(Kn),Re(Ji),Re(Mn),Re(lc),Re(qM),Re(XU))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const tG=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],rI=new ui("cdk-connected-overlay-scroll-strategy");let oI=(()=>{class r{constructor(i){this.elementRef=i}}return r.\u0275fac=function(i){return new(i||r)(ie(qi))},r.\u0275dir=li({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),r})(),sI=(()=>{class r{constructor(i,s,l,d,y){this._overlay=i,this._dir=y,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=M.EMPTY,this._attachSubscription=M.EMPTY,this._detachSubscription=M.EMPTY,this._positionSubscription=M.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Si,this.positionChange=new Si,this.attach=new Si,this.detach=new Si,this.overlayKeydown=new Si,this.overlayOutsideClick=new Si,this._templatePortal=new sC(s,l),this._scrollStrategyFactory=d,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(i){this._hasBackdrop=On(i)}get lockPosition(){return this._lockPosition}set lockPosition(i){this._lockPosition=On(i)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(i){this._flexibleDimensions=On(i)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(i){this._growAfterOpen=On(i)}get push(){return this._push}set push(i){this._push=On(i)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=tG);const i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!th(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const i=this._position=this.positionStrategy||this._createPositionStrategy(),s=new h_({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(i){const s=this.positions.map(l=>({originX:l.originX,originY:l.originY,overlayX:l.overlayX,overlayY:l.overlayY,offsetX:l.offsetX||this.offsetX,offsetY:l.offsetY||this.offsetY,panelClass:l.panelClass||void 0}));return i.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const i=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(i),i}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof oI?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(r,n=!1){return K((i,s)=>{let l=0;i.subscribe(new U(s,d=>{const y=r(d,l++);(y||n)&&s.next(d),!y&&s.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(i=>{this.positionChange.emit(i),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ie(wd),ie(hu),ie(ml),ie(rI),ie(lc,8))},r.\u0275dir=li({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[er]}),r})();const iG={provide:rI,deps:[wd],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let lC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[wd,iG],imports:[[t_,Rk,GP],GP]}),r})();const nG=["connectionContainer"],rG=["inputContainer"],oG=["label"];function sG(r,n){1&r&&(Lc(0),_e(1,"div",14),Oi(2,"div",15),Oi(3,"div",16),Oi(4,"div",17),Me(),_e(5,"div",18),Oi(6,"div",15),Oi(7,"div",16),Oi(8,"div",17),Me(),_h())}function aG(r,n){1&r&&(_e(0,"div",19),P(1,1),Me())}function lG(r,n){if(1&r&&(Lc(0),P(1,2),_e(2,"span"),ii(3),Me(),_h()),2&r){const i=x(2);$e(3),Vr(i._control.placeholder)}}function hG(r,n){1&r&&P(0,3,["*ngSwitchCase","true"])}function uG(r,n){1&r&&(_e(0,"span",23),ii(1," *"),Me())}function cG(r,n){if(1&r){const i=Ho();_e(0,"label",20,21),e("cdkObserveContent",function(){return Zr(i),x().updateOutlineGap()}),bi(2,lG,4,1,"ng-container",12),bi(3,hG,1,0,"ng-content",12),bi(4,uG,2,0,"span",22),Me()}if(2&r){const i=x();gn("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),Ue("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),yn("for",i._control.id)("aria-owns",i._control.id),$e(2),Ue("ngSwitchCase",!1),$e(1),Ue("ngSwitchCase",!0),$e(1),Ue("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function fG(r,n){1&r&&(_e(0,"div",24),P(1,4),Me())}function dG(r,n){if(1&r&&(_e(0,"div",25),Oi(1,"span",26),Me()),2&r){const i=x();$e(1),gn("mat-accent","accent"==i.color)("mat-warn","warn"==i.color)}}function pG(r,n){1&r&&(_e(0,"div"),P(1,5),Me()),2&r&&Ue("@transitionMessages",x()._subscriptAnimationState)}function mG(r,n){if(1&r&&(_e(0,"div",30),ii(1),Me()),2&r){const i=x(2);Ue("id",i._hintLabelId),$e(1),Vr(i.hintLabel)}}function gG(r,n){if(1&r&&(_e(0,"div",27),bi(1,mG,2,2,"div",28),P(2,6),Oi(3,"div",29),P(4,7),Me()),2&r){const i=x();Ue("@transitionMessages",i._subscriptAnimationState),$e(1),Ue("ngIf",i.hintLabel)}}const vG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let xG=0;const aI=new ui("MatError");let wG=(()=>{class r{constructor(i,s){this.id="mat-error-"+xG++,i||s.nativeElement.setAttribute("aria-live","polite")}}return r.\u0275fac=function(i){return new(i||r)(El("aria-live"),ie(qi))},r.\u0275dir=li({type:r,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(i,s){2&i&&yn("id",s.id)},inputs:{id:"id"},features:[Un([{provide:aI,useExisting:r}])]}),r})();const _G={transitionMessages:ag("transitionMessages",[Kc("enter",ws({opacity:1,transform:"translateY(0%)"})),pu("void => enter",[ws({opacity:0,transform:"translateY(-5px)"}),hc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r}),r})();const bG=new ui("MatHint");let Qy=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["mat-label"]]}),r})(),MG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["mat-placeholder"]]}),r})();const CG=new ui("MatPrefix"),lI=new ui("MatSuffix");let SG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["","matSuffix",""]],features:[Un([{provide:lI,useExisting:r}])]}),r})(),hI=0;const EG=fg(class{constructor(r){this._elementRef=r}},"primary"),kG=new ui("MAT_FORM_FIELD_DEFAULT_OPTIONS"),u_=new ui("MatFormField");let uC=(()=>{class r extends EG{constructor(i,s,l,d,y,A,L){super(i),this._changeDetectorRef=s,this._dir=l,this._defaults=d,this._platform=y,this._ngZone=A,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+hI++,this._labelId="mat-form-field-label-"+hI++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==L,this.appearance=d&&d.appearance?d.appearance:"legacy",this._hideRequiredMarker=!(!d||null==d.hideRequiredMarker)&&d.hideRequiredMarker}get appearance(){return this._appearance}set appearance(i){const s=this._appearance;this._appearance=i||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==i&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=On(i)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(i){this._explicitFormFieldControl=i}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${i.controlType}`),i.stateChanges.pipe(ql(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(wr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(wr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),an(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ql(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ql(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(wr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(i){const s=this._control?this._control.ngControl:null;return s&&s[i]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,uc(this._label.nativeElement,"transitionend").pipe(Ui(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(d=>"start"===d.align):null,l=this._hintChildren?this._hintChildren.find(d=>"end"===d.align):null;s?i.push(s.id):this._hintLabel&&i.push(this._hintLabelId),l&&i.push(l.id)}else this._errorChildren&&i.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(i)}}_validateControlChild(){}updateOutlineGap(){const i=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&i&&i.children.length&&i.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,l=0;const d=this._connectionContainerRef.nativeElement,y=d.querySelectorAll(".mat-form-field-outline-start"),A=d.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const L=d.getBoundingClientRect();if(0===L.width&&0===L.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const tt=this._getStartEnd(L),ft=i.children,Et=this._getStartEnd(ft[0].getBoundingClientRect());let Ft=0;for(let zt=0;zt<ft.length;zt++)Ft+=ft[zt].offsetWidth;s=Math.abs(Et-tt)-5,l=Ft>0?.75*Ft+10:0}for(let L=0;L<y.length;L++)y[L].style.width=`${s}px`;for(let L=0;L<A.length;L++)A[L].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(i){return this._dir&&"rtl"===this._dir.value?i.right:i.left}_isAttachedToDOM(){const i=this._elementRef.nativeElement;if(i.getRootNode){const s=i.getRootNode();return s&&s!==i}return document.documentElement.contains(i)}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(co),ie(lc,8),ie(kG,8),ie(xs),ie(Ji),ie(qc,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-form-field"]],contentQueries:function(i,s,l){if(1&i&&(Cr(l,hC,5),Cr(l,hC,7),Cr(l,Qy,5),Cr(l,Qy,7),Cr(l,MG,5),Cr(l,aI,5),Cr(l,bG,5),Cr(l,CG,5),Cr(l,lI,5)),2&i){let d;Wi(d=Yi())&&(s._controlNonStatic=d.first),Wi(d=Yi())&&(s._controlStatic=d.first),Wi(d=Yi())&&(s._labelChildNonStatic=d.first),Wi(d=Yi())&&(s._labelChildStatic=d.first),Wi(d=Yi())&&(s._placeholderChild=d.first),Wi(d=Yi())&&(s._errorChildren=d),Wi(d=Yi())&&(s._hintChildren=d),Wi(d=Yi())&&(s._prefixChildren=d),Wi(d=Yi())&&(s._suffixChildren=d)}},viewQuery:function(i,s){if(1&i&&(Or(nG,7),Or(rG,5),Or(oG,5)),2&i){let l;Wi(l=Yi())&&(s._connectionContainerRef=l.first),Wi(l=Yi())&&(s._inputContainerRef=l.first),Wi(l=Yi())&&(s._label=l.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(i,s){2&i&&gn("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Un([{provide:u_,useExisting:r}]),zi],ngContentSelectors:yG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(i,s){1&i&&(E(vG),_e(0,"div",0),_e(1,"div",1,2),e("click",function(d){return s._control.onContainerClick&&s._control.onContainerClick(d)}),bi(3,sG,9,0,"ng-container",3),bi(4,aG,2,0,"div",4),_e(5,"div",5,6),P(7),_e(8,"span",7),bi(9,cG,5,16,"label",8),Me(),Me(),bi(10,fG,2,0,"div",9),Me(),bi(11,dG,2,4,"div",10),_e(12,"div",11),bi(13,pG,2,1,"div",12),bi(14,gG,5,2,"div",13),Me(),Me()),2&i&&($e(3),Ue("ngIf","outline"==s.appearance),$e(1),Ue("ngIf",s._prefixChildren.length),$e(5),Ue("ngIf",s._hasFloatingLabel()),$e(1),Ue("ngIf",s._suffixChildren.length),$e(1),Ue("ngIf","outline"!=s.appearance),$e(1),Ue("ngSwitch",s._getDisplayedMessages()),$e(1),Ue("ngSwitchCase","error"),$e(1),Ue("ngSwitchCase","hint"))},directives:[Zl,Vy,h2,a8],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[_G.transitionMessages]},changeDetection:0}),r})(),cC=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[Wc,cr,zE],cr]}),r})();const cI=y2({passive:!0});let AG=(()=>{class r{constructor(i,s){this._platform=i,this._ngZone=s,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return ye;const s=md(i),l=this._monitoredElements.get(s);if(l)return l.subject;const d=new _,y="cdk-text-field-autofilled",A=L=>{"cdk-text-field-autofill-start"!==L.animationName||s.classList.contains(y)?"cdk-text-field-autofill-end"===L.animationName&&s.classList.contains(y)&&(s.classList.remove(y),this._ngZone.run(()=>d.next({target:L.target,isAutofilled:!1}))):(s.classList.add(y),this._ngZone.run(()=>d.next({target:L.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",A,cI),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:d,unlisten:()=>{s.removeEventListener("animationstart",A,cI)}}),d}stopMonitoring(i){const s=md(i),l=this._monitoredElements.get(s);l&&(l.unlisten(),l.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((i,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(i){return new(i||r)(Re(xs),Re(Ji))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),TG=(()=>{class r{constructor(i,s,l,d){this._elementRef=i,this._platform=s,this._ngZone=l,this._destroyed=new _,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=y=>{this._hasFocus="focus"===y.type},this._document=d,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(i){this._minRows=Kp(i),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(i){this._maxRows=Kp(i),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(i){i=On(i),this._enabled!==i&&((this._enabled=i)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(i){this._cachedPlaceholderHeight=void 0,this._textareaElement.placeholder=i,this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const i=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;i&&(this._textareaElement.style.minHeight=i)}_setMaxHeight(){const i=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;i&&(this._textareaElement.style.maxHeight=i)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{uc(this._getWindow(),"resize").pipe(Ak(16),wr(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let i=this._textareaElement.cloneNode(!1);i.rows=1,i.style.position="absolute",i.style.visibility="hidden",i.style.border="none",i.style.padding="0",i.style.height="",i.style.minHeight="",i.style.maxHeight="",i.style.overflow="hidden",this._textareaElement.parentNode.appendChild(i),this._cachedLineHeight=i.clientHeight,i.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const i=this._textareaElement,s=i.style.marginBottom||"",l=this._platform.FIREFOX,d=l&&this._hasFocus,y=l?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";d&&(i.style.marginBottom=`${i.clientHeight}px`),i.classList.add(y);const A=i.scrollHeight-4;return i.classList.remove(y),d&&(i.style.marginBottom=s),A}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const i=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=i}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(i=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const s=this._elementRef.nativeElement,l=s.value;if(!i&&this._minRows===this._previousMinRows&&l===this._previousValue)return;const d=this._measureScrollHeight(),y=Math.max(d,this._cachedPlaceholderHeight||0);s.style.height=`${y}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(s)):setTimeout(()=>this._scrollToCaretPosition(s))}),this._previousValue=l,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(i){const{selectionStart:s,selectionEnd:l}=i;!this._destroyed.isStopped&&this._hasFocus&&i.setSelectionRange(s,l)}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(xs),ie(Ji),ie(Mn,8))},r.\u0275dir=li({type:r,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(i,s){1&i&&e("input",function(){return s._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),r})(),fI=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[Hy]]}),r})();const dI=new ui("MAT_INPUT_VALUE_ACCESSOR"),PG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let IG=0;const RG=SP(class{constructor(r,n,i,s){this._defaultErrorStateMatcher=r,this._parentForm=n,this._parentFormGroup=i,this.ngControl=s}});let Nk=(()=>{class r extends RG{constructor(i,s,l,d,y,A,L,tt,ft,Et){super(A,d,y,l),this._elementRef=i,this._platform=s,this._autofillMonitor=tt,this._formField=Et,this._uid="mat-input-"+IG++,this.focused=!1,this.stateChanges=new _,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Xt=>t6().has(Xt));const Ft=this._elementRef.nativeElement,zt=Ft.nodeName.toLowerCase();this._inputValueAccessor=L||Ft,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&ft.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",Xt=>{const ce=Xt.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===zt,this._isTextarea="textarea"===zt,this._isInFormField=!!Et,this._isNativeSelect&&(this.controlType=Ft.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(i){this._disabled=On(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){var i,s,l,d;return null!=(d=null!=(l=this._required)?l:null==(s=null==(i=this.ngControl)?void 0:i.control)?void 0:s.hasValidator(Wy.required))&&d}set required(i){this._required=On(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&t6().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=On(i)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var s,l;const i=(null==(l=null==(s=this._formField)?void 0:s._hideControlPlaceholder)?void 0:l.call(s))?null:this.placeholder;if(i!==this._previousPlaceholder){const d=this._elementRef.nativeElement;this._previousPlaceholder=i,i?d.setAttribute("placeholder",i):d.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_validateType(){PG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,s=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(xs),ie(Yc,10),ie(Kw,8),ie(vd,8),ie(Mk),ie(dI,10),ie(AG),ie(Ji),ie(u_,8))},r.\u0275dir=li({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(i,s){1&i&&e("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&i&&(_a("disabled",s.disabled)("required",s.required),yn("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),gn("mat-input-server",s._isServer)("mat-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Un([{provide:hC,useExisting:r}]),zi,er]}),r})(),OG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[Mk],imports:[[fI,cC,cr],fI,cC]}),r})();const NG=["mat-calendar-body",""];function FG(r,n){if(1&r&&(_e(0,"tr",2),_e(1,"td",3),ii(2),Me(),Me()),2&r){const i=x();$e(1),ya("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),yn("colspan",i.numCols),$e(1),to(" ",i.label," ")}}function LG(r,n){if(1&r&&(_e(0,"td",3),ii(1),Me()),2&r){const i=x(2);ya("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),yn("colspan",i._firstRowOffset),$e(1),to(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function BG(r,n){if(1&r){const i=Ho();_e(0,"td",7),e("click",function(l){const y=Zr(i).$implicit;return x(2)._cellClicked(y,l)}),_e(1,"div",8),ii(2),Me(),Oi(3,"div",9),Me()}if(2&r){const i=n.$implicit,s=n.index,l=x().index,d=x();ya("width",d._cellWidth)("padding-top",d._cellPadding)("padding-bottom",d._cellPadding),gn("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",d._isActiveCell(l,s))("mat-calendar-body-range-start",d._isRangeStart(i.compareValue))("mat-calendar-body-range-end",d._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",d._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",d._isComparisonBridgeStart(i.compareValue,l,s))("mat-calendar-body-comparison-bridge-end",d._isComparisonBridgeEnd(i.compareValue,l,s))("mat-calendar-body-comparison-start",d._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",d._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",d._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",d._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",d._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",d._isInPreview(i.compareValue)),Ue("ngClass",i.cssClasses)("tabindex",d._isActiveCell(l,s)?0:-1),yn("data-mat-row",l)("data-mat-col",s)("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-selected",d._isSelected(i.compareValue)),$e(1),gn("mat-calendar-body-selected",d._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",d._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",d.todayValue===i.compareValue),$e(1),to(" ",i.displayValue," ")}}function VG(r,n){if(1&r&&(_e(0,"tr",4),bi(1,LG,2,6,"td",5),bi(2,BG,4,46,"td",6),Me()),2&r){const i=n.$implicit,s=n.index,l=x();$e(1),Ue("ngIf",0===s&&l._firstRowOffset),$e(1),Ue("ngForOf",i)}}function jG(r,n){if(1&r&&(_e(0,"th",5),_e(1,"abbr",6),ii(2),Me(),Me()),2&r){const i=n.$implicit;yn("aria-label",i.long),$e(1),yn("title",i.long),$e(1),Vr(i.narrow)}}const HG=["*"];function zG(r,n){}function UG(r,n){if(1&r){const i=Ho();_e(0,"mat-month-view",5),e("activeDateChange",function(l){return Zr(i),x().activeDate=l})("_userSelection",function(l){return Zr(i),x()._dateSelected(l)}),Me()}if(2&r){const i=x();Ue("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)}}function GG(r,n){if(1&r){const i=Ho();_e(0,"mat-year-view",6),e("activeDateChange",function(l){return Zr(i),x().activeDate=l})("monthSelected",function(l){return Zr(i),x()._monthSelectedInYearView(l)})("selectedChange",function(l){return Zr(i),x()._goToDateInView(l,"month")}),Me()}if(2&r){const i=x();Ue("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function WG(r,n){if(1&r){const i=Ho();_e(0,"mat-multi-year-view",7),e("activeDateChange",function(l){return Zr(i),x().activeDate=l})("yearSelected",function(l){return Zr(i),x()._yearSelectedInMultiYearView(l)})("selectedChange",function(l){return Zr(i),x()._goToDateInView(l,"year")}),Me()}if(2&r){const i=x();Ue("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function YG(r,n){}const $G=["button"];function XG(r,n){1&r&&(A0(),_e(0,"svg",3),Oi(1,"path",4),Me())}const KG=[[["","matDatepickerToggleIcon",""]]],ZG=["[matDatepickerToggleIcon]"];let c_=(()=>{class r{constructor(){this.changes=new _,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(i,s){return`${i} \u2013 ${s}`}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Fk{constructor(n,i,s,l,d={},y=n,A){this.value=n,this.displayValue=i,this.ariaLabel=s,this.enabled=l,this.cssClasses=d,this.compareValue=y,this.rawValue=A}}let t1=(()=>{class r{constructor(i,s){this._elementRef=i,this._ngZone=s,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Si,this.previewChange=new Si,this._enterHandler=l=>{if(this._skipNextFocus&&"focus"===l.type)this._skipNextFocus=!1;else if(l.target&&this.isRange){const d=this._getCellFromElement(l.target);d&&this._ngZone.run(()=>this.previewChange.emit({value:d.enabled?d:null,event:l}))}},this._leaveHandler=l=>{null!==this.previewEnd&&this.isRange&&l.target&&Lk(l.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:l}))},s.runOutsideAngular(()=>{const l=i.nativeElement;l.addEventListener("mouseenter",this._enterHandler,!0),l.addEventListener("focus",this._enterHandler,!0),l.addEventListener("mouseleave",this._leaveHandler,!0),l.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(i,s){i.enabled&&this.selectedValueChange.emit({value:i.value,event:s})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){const s=i.numCols,{rows:l,numCols:d}=this;(i.rows||s)&&(this._firstRowOffset=l&&l.length&&l[0].length?d-l[0].length:0),(i.cellAspectRatio||s||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/d+"%"),(s||!this._cellWidth)&&(this._cellWidth=100/d+"%")}ngOnDestroy(){const i=this._elementRef.nativeElement;i.removeEventListener("mouseenter",this._enterHandler,!0),i.removeEventListener("focus",this._enterHandler,!0),i.removeEventListener("mouseleave",this._leaveHandler,!0),i.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(i,s){let l=i*this.numCols+s;return i&&(l-=this._firstRowOffset),l==this.activeCell}_focusActiveCell(i=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ui(1)).subscribe(()=>{const s=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");s&&(i||(this._skipNextFocus=!0),s.focus())})})}_isRangeStart(i){return Bk(i,this.startValue,this.endValue)}_isRangeEnd(i){return Vk(i,this.startValue,this.endValue)}_isInRange(i){return jk(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return Bk(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,s,l){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let d=this.rows[s][l-1];if(!d){const y=this.rows[s-1];d=y&&y[y.length-1]}return d&&!this._isRangeEnd(d.compareValue)}_isComparisonBridgeEnd(i,s,l){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let d=this.rows[s][l+1];if(!d){const y=this.rows[s+1];d=y&&y[0]}return d&&!this._isRangeStart(d.compareValue)}_isComparisonEnd(i){return Vk(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return jk(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return Bk(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return Vk(i,this.previewStart,this.previewEnd)}_isInPreview(i){return jk(i,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(i){let s;if(Lk(i)?s=i:Lk(i.parentNode)&&(s=i.parentNode),s){const l=s.getAttribute("data-mat-row"),d=s.getAttribute("data-mat-col");if(l&&d)return this.rows[parseInt(l)][parseInt(d)]}return null}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(Ji))},r.\u0275cmp=_i({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[er],attrs:NG,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(i,s){1&i&&(bi(0,FG,3,6,"tr",0),bi(1,VG,3,2,"tr",1)),2&i&&(Ue("ngIf",s._firstRowOffset<s.labelMinRequiredCells),$e(1),Ue("ngForOf",s.rows))},directives:[Zl,ng,Nw],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),r})();function Lk(r){return"TD"===r.nodeName}function Bk(r,n,i){return null!==i&&n!==i&&r<i&&r===n}function Vk(r,n,i){return null!==n&&n!==i&&r>=n&&r===i}function jk(r,n,i,s){return s&&null!==n&&null!==i&&n!==i&&r>=n&&r<=i}class eh{constructor(n,i){this.start=n,this.end=i}}let o0=(()=>{class r{constructor(i,s){this.selection=i,this._adapter=s,this._selectionChanged=new _,this.selectionChanged=this._selectionChanged,this.selection=i}updateSelection(i,s){const l=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:s,oldValue:l})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}}return r.\u0275fac=function(i){Fc()},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),qG=(()=>{class r extends o0{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const i=new r(this._adapter);return i.updateSelection(this.selection,this),i}}return r.\u0275fac=function(i){return new(i||r)(Re(ba))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const pI={provide:o0,deps:[[new kr,new tl,o0],ba],useFactory:function(r,n){return r||new qG(n)}},fC=new ui("MAT_DATE_RANGE_SELECTION_STRATEGY");let mI=(()=>{class r{constructor(i,s,l,d,y){this._changeDetectorRef=i,this._dateFormats=s,this._dateAdapter=l,this._dir=d,this._rangeStrategy=y,this._rerenderSubscription=M.EMPTY,this.selectedChange=new Si,this._userSelection=new Si,this.activeDateChange=new Si,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){const s=this._activeDate,l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),this._hasSameMonthAndYear(s,this._activeDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof eh?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ql(null)).subscribe(()=>this._init())}ngOnChanges(i){const s=i.comparisonStart||i.comparisonEnd;s&&!s.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){const s=i.value,l=this._dateAdapter.getYear(this.activeDate),d=this._dateAdapter.getMonth(this.activeDate),y=this._dateAdapter.createDate(l,d,s);let A,L;this._selected instanceof eh?(A=this._getDateInCurrentMonth(this._selected.start),L=this._getDateInCurrentMonth(this._selected.end)):A=L=this._getDateInCurrentMonth(this._selected),(A!==s||L!==s)&&this.selectedChange.emit(y),this._userSelection.emit({value:y,event:i.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&i.preventDefault());case 27:return void(null!=this._previewEnd&&!th(i)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i}),i.preventDefault(),i.stopPropagation()));default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_previewChanged({event:i,value:s}){if(this._rangeStrategy){const d=this._rangeStrategy.createPreview(s?s.rawValue:null,this.selected,i);this._previewStart=this._getCellCompareValue(d.start),this._previewEnd=this._getCellCompareValue(d.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const i=this._dateAdapter.getFirstDayOfWeek(),s=this._dateAdapter.getDayOfWeekNames("narrow");let d=this._dateAdapter.getDayOfWeekNames("long").map((y,A)=>({long:y,narrow:s[A]}));this._weekdays=d.slice(i).concat(d.slice(0,i))}_createWeekCells(){const i=this._dateAdapter.getNumDaysInMonth(this.activeDate),s=this._dateAdapter.getDateNames();this._weeks=[[]];for(let l=0,d=this._firstWeekOffset;l<i;l++,d++){7==d&&(this._weeks.push([]),d=0);const y=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),l+1),A=this._shouldEnableDate(y),L=this._dateAdapter.format(y,this._dateFormats.display.dateA11yLabel),tt=this.dateClass?this.dateClass(y,"month"):void 0;this._weeks[this._weeks.length-1].push(new Fk(l+1,s[l],L,A,tt,this._getCellCompareValue(y),y))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,s){return!(!i||!s||this._dateAdapter.getMonth(i)!=this._dateAdapter.getMonth(s)||this._dateAdapter.getYear(i)!=this._dateAdapter.getYear(s))}_getCellCompareValue(i){if(i){const s=this._dateAdapter.getYear(i),l=this._dateAdapter.getMonth(i),d=this._dateAdapter.getDate(i);return new Date(s,l,d).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(i){i instanceof eh?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}}return r.\u0275fac=function(i){return new(i||r)(ie(co),ie(dg,8),ie(ba,8),ie(lc,8),ie(fC,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-month-view"]],viewQuery:function(i,s){if(1&i&&Or(t1,5),2&i){let l;Wi(l=Yi())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[er],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(i,s){1&i&&(_e(0,"table",0),_e(1,"thead",1),_e(2,"tr"),bi(3,jG,3,3,"th",2),Me(),_e(4,"tr"),Oi(5,"th",3),Me(),Me(),_e(6,"tbody",4),e("selectedValueChange",function(d){return s._dateSelected(d)})("previewChange",function(d){return s._previewChanged(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),Me(),Me()),2&i&&($e(3),Ue("ngForOf",s._weekdays),$e(3),Ue("label",s._monthLabel)("rows",s._weeks)("todayValue",s._todayDate)("startValue",s._rangeStart)("endValue",s._rangeEnd)("comparisonStart",s._comparisonRangeStart)("comparisonEnd",s._comparisonRangeEnd)("previewStart",s._previewStart)("previewEnd",s._previewEnd)("isRange",s._isRange)("labelMinRequiredCells",3)("activeCell",s._dateAdapter.getDate(s.activeDate)-1))},directives:[ng,t1],encapsulation:2,changeDetection:0}),r})(),gI=(()=>{class r{constructor(i,s,l){this._changeDetectorRef=i,this._dateAdapter=s,this._dir=l,this._rerenderSubscription=M.EMPTY,this.selectedChange=new Si,this.yearSelected=new Si,this.activeDateChange=new Si,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){let s=this._activeDate;const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),vI(this._dateAdapter,s,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof eh?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ql(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const s=this._dateAdapter.getYear(this._activeDate)-f_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let l=0,d=[];l<24;l++)d.push(s+l),4==d.length&&(this._years.push(d.map(y=>this._createCellForYear(y))),d=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){const s=i.value;this.yearSelected.emit(this._dateAdapter.createDate(s,0,1));let l=this._dateAdapter.getMonth(this.activeDate),d=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(s,l,1));this.selectedChange.emit(this._dateAdapter.createDate(s,l,Math.min(this._dateAdapter.getDate(this.activeDate),d)))}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-f_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-f_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return f_(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(i){const s=this._dateAdapter.createDate(i,0,1),l=this._dateAdapter.getYearName(s),d=this.dateClass?this.dateClass(s,"multi-year"):void 0;return new Fk(i,l,l,this._shouldEnableYear(i),d)}_shouldEnableYear(i){if(null==i||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let l=this._dateAdapter.createDate(i,0,1);this._dateAdapter.getYear(l)==i;l=this._dateAdapter.addCalendarDays(l,1))if(this.dateFilter(l))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(i){if(this._selectedYear=null,i instanceof eh){const s=i.start||i.end;s&&(this._selectedYear=this._dateAdapter.getYear(s))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}}return r.\u0275fac=function(i){return new(i||r)(ie(co),ie(ba,8),ie(lc,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(i,s){if(1&i&&Or(t1,5),2&i){let l;Wi(l=Yi())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(i,s){1&i&&(_e(0,"table",0),_e(1,"thead",1),_e(2,"tr"),Oi(3,"th",2),Me(),Me(),_e(4,"tbody",3),e("selectedValueChange",function(d){return s._yearSelected(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),Me(),Me()),2&i&&($e(4),Ue("rows",s._years)("todayValue",s._todayYear)("startValue",s._selectedYear)("endValue",s._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._getActiveCell()))},directives:[t1],encapsulation:2,changeDetection:0}),r})();function vI(r,n,i,s,l){const d=r.getYear(n),y=r.getYear(i),A=yI(r,s,l);return Math.floor((d-A)/24)===Math.floor((y-A)/24)}function f_(r,n,i,s){return function(r,n){return(r%24+24)%24}(r.getYear(n)-yI(r,i,s))}function yI(r,n,i){let s=0;return i?s=r.getYear(i)-24+1:n&&(s=r.getYear(n)),s}let xI=(()=>{class r{constructor(i,s,l,d){this._changeDetectorRef=i,this._dateFormats=s,this._dateAdapter=l,this._dir=d,this._rerenderSubscription=M.EMPTY,this.selectedChange=new Si,this.monthSelected=new Si,this.activeDateChange=new Si,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(i){let s=this._activeDate;const l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),this._dateAdapter.getYear(s)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(i){this._selected=i instanceof eh?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(ql(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){const s=i.value,l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,1);this.monthSelected.emit(l);const d=this._dateAdapter.getNumDaysInMonth(l);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,Math.min(this._dateAdapter.getDate(this.activeDate),d)))}_handleCalendarBodyKeydown(i){const s=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),i.preventDefault()}_handleCalendarBodyKeyup(i){(32===i.keyCode||13===i.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(s=>s.map(l=>this._createCellForMonth(l,i[l]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_createCellForMonth(i,s){const l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),d=this._dateAdapter.format(l,this._dateFormats.display.monthYearA11yLabel),y=this.dateClass?this.dateClass(l,"year"):void 0;return new Fk(i,s.toLocaleUpperCase(),d,this._shouldEnableMonth(i),y)}_shouldEnableMonth(i){const s=this._dateAdapter.getYear(this.activeDate);if(null==i||this._isYearAndMonthAfterMaxDate(s,i)||this._isYearAndMonthBeforeMinDate(s,i))return!1;if(!this.dateFilter)return!0;for(let d=this._dateAdapter.createDate(s,i,1);this._dateAdapter.getMonth(d)==i;d=this._dateAdapter.addCalendarDays(d,1))if(this.dateFilter(d))return!0;return!1}_isYearAndMonthAfterMaxDate(i,s){if(this.maxDate){const l=this._dateAdapter.getYear(this.maxDate),d=this._dateAdapter.getMonth(this.maxDate);return i>l||i===l&&s>d}return!1}_isYearAndMonthBeforeMinDate(i,s){if(this.minDate){const l=this._dateAdapter.getYear(this.minDate),d=this._dateAdapter.getMonth(this.minDate);return i<l||i===l&&s<d}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(i){this._selectedMonth=i instanceof eh?this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._getMonthInCurrentYear(i)}}return r.\u0275fac=function(i){return new(i||r)(ie(co),ie(dg,8),ie(ba,8),ie(lc,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-year-view"]],viewQuery:function(i,s){if(1&i&&Or(t1,5),2&i){let l;Wi(l=Yi())&&(s._matCalendarBody=l.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(i,s){1&i&&(_e(0,"table",0),_e(1,"thead",1),_e(2,"tr"),Oi(3,"th",2),Me(),Me(),_e(4,"tbody",3),e("selectedValueChange",function(d){return s._monthSelected(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),Me(),Me()),2&i&&($e(4),Ue("label",s._yearLabel)("rows",s._months)("todayValue",s._todayMonth)("startValue",s._selectedMonth)("endValue",s._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._dateAdapter.getMonth(s.activeDate)))},directives:[t1],encapsulation:2,changeDetection:0}),r})(),rW=0,oW=(()=>{class r{constructor(i,s,l,d,y){this._intl=i,this.calendar=s,this._dateAdapter=l,this._dateFormats=d,this._buttonDescriptionId="mat-calendar-button-"+rW++,this.calendar.stateChanges.subscribe(()=>y.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const s=this._dateAdapter.getYear(this.calendar.activeDate)-f_(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),l=s+24-1,d=this._dateAdapter.getYearName(this._dateAdapter.createDate(s,0,1)),y=this._dateAdapter.getYearName(this._dateAdapter.createDate(l,0,1));return this._intl.formatYearRange(d,y)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,s){return"month"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(s)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(s):"year"==this.calendar.currentView?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(s):vI(this._dateAdapter,i,s,this.calendar.minDate,this.calendar.maxDate)}}return r.\u0275fac=function(i){return new(i||r)(ie(c_),ie(Xe(()=>Uk)),ie(ba,8),ie(dg,8),ie(co))},r.\u0275cmp=_i({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:HG,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(i,s){1&i&&(E(),_e(0,"div",0),_e(1,"div",1),_e(2,"button",2),e("click",function(){return s.currentPeriodClicked()}),_e(3,"span"),ii(4),Me(),A0(),_e(5,"svg",3),Oi(6,"polygon",4),Me(),Me(),zd(),Oi(7,"div",5),P(8),_e(9,"button",6),e("click",function(){return s.previousClicked()}),Me(),_e(10,"button",7),e("click",function(){return s.nextClicked()}),Me(),Me(),Me()),2&i&&($e(2),yn("aria-label",s.periodButtonLabel)("aria-describedby",s._buttonDescriptionId),$e(1),yn("id",s._buttonDescriptionId),$e(1),Vr(s.periodButtonText),$e(1),gn("mat-calendar-invert","month"!==s.calendar.currentView),$e(4),Ue("disabled",!s.previousEnabled()),yn("aria-label",s.prevButtonLabel),$e(1),Ue("disabled",!s.nextEnabled()),yn("aria-label",s.nextButtonLabel))},directives:[r0,Bj],encapsulation:2,changeDetection:0}),r})(),Uk=(()=>{class r{constructor(i,s,l,d){this._dateAdapter=s,this._dateFormats=l,this._changeDetectorRef=d,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Si,this.yearSelected=new Si,this.monthSelected=new Si,this.viewChanged=new Si(!0),this._userSelection=new Si,this.stateChanges=new _,this._intlChanges=i.changes.subscribe(()=>{d.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get selected(){return this._selected}set selected(i){this._selected=i instanceof eh?i:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(i){const s=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),s&&this.viewChanged.emit(s)}ngAfterContentInit(){this._calendarHeaderPortal=new l_(this.headerComponent||oW),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){const s=i.minDate||i.maxDate||i.dateFilter;if(s&&!s.firstChange){const l=this._getCurrentViewComponent();l&&(this._changeDetectorRef.detectChanges(),l._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){const s=i.value;(this.selected instanceof eh||s&&!this._dateAdapter.sameDate(s,this.selected))&&this.selectedChange.emit(s),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,s){this.activeDate=i,this.currentView=s}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return r.\u0275fac=function(i){return new(i||r)(ie(c_),ie(ba,8),ie(dg,8),ie(co))},r.\u0275cmp=_i({type:r,selectors:[["mat-calendar"]],viewQuery:function(i,s){if(1&i&&(Or(mI,5),Or(xI,5),Or(gI,5)),2&i){let l;Wi(l=Yi())&&(s.monthView=l.first),Wi(l=Yi())&&(s.yearView=l.first),Wi(l=Yi())&&(s.multiYearView=l.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[Un([pI]),er],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(i,s){1&i&&(bi(0,zG,0,0,"ng-template",0),_e(1,"div",1),bi(2,UG,1,8,"mat-month-view",2),bi(3,GG,1,6,"mat-year-view",3),bi(4,WG,1,6,"mat-multi-year-view",4),Me()),2&i&&(Ue("cdkPortalOutlet",s._calendarHeaderPortal),$e(1),Ue("ngSwitch",s.currentView),$e(1),Ue("ngSwitchCase","month"),$e(1),Ue("ngSwitchCase","year"),$e(1),Ue("ngSwitchCase","multi-year"))},directives:[aC,jj,Vy,h2,mI,xI,gI],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),r})();const wI={transformPanel:ag("transformPanel",[pu("void => enter-dropdown",hc("120ms cubic-bezier(0, 0, 0.2, 1)",S8([ws({opacity:0,transform:"scale(1, 0.8)"}),ws({opacity:1,transform:"scale(1, 1)"})]))),pu("void => enter-dialog",hc("150ms cubic-bezier(0, 0, 0.2, 1)",S8([ws({opacity:0,transform:"scale(0.7)"}),ws({transform:"none",opacity:1})]))),pu("* => void",hc("100ms linear",ws({opacity:0})))]),fadeInCalendar:ag("fadeInCalendar",[Kc("void",ws({opacity:0})),Kc("enter",ws({opacity:1})),pu("void => *",hc("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let sW=0;const _I=new ui("mat-datepicker-scroll-strategy"),lW={provide:_I,deps:[wd],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},hW=fg(class{constructor(r){this._elementRef=r}});let uW=(()=>{class r extends hW{constructor(i,s,l,d,y,A){super(i),this._changeDetectorRef=s,this._globalModel=l,this._dateAdapter=d,this._rangeSelectionStrategy=y,this._subscriptions=new M,this._animationDone=new _,this._actionsPortal=null,this._closeButtonText=A.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){const s=this._model.selection,l=i.value,d=s instanceof eh;if(d&&this._rangeSelectionStrategy){const y=this._rangeSelectionStrategy.selectionFinished(l,s,i.event);this._model.updateSelection(y,this)}else l&&(d||!this._dateAdapter.sameDate(l,s))&&this._model.add(l);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(co),ie(o0),ie(ba),ie(fC,8),ie(c_))},r.\u0275cmp=_i({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(i,s){if(1&i&&Or(Uk,5),2&i){let l;Wi(l=Yi())&&(s._calendar=l.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(i,s){1&i&&o("@transformPanel.done",function(){return s._animationDone.next()}),2&i&&(su("@transformPanel",s._animationState),gn("mat-datepicker-content-touch",s.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[zi],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(i,s){1&i&&(_e(0,"div",0),_e(1,"mat-calendar",1),e("yearSelected",function(d){return s.datepicker._selectYear(d)})("monthSelected",function(d){return s.datepicker._selectMonth(d)})("viewChanged",function(d){return s.datepicker._viewChanged(d)})("_userSelection",function(d){return s._handleUserSelection(d)}),Me(),bi(2,YG,0,0,"ng-template",2),_e(3,"button",3),e("focus",function(){return s._closeButtonFocused=!0})("blur",function(){return s._closeButtonFocused=!1})("click",function(){return s.datepicker.close()}),ii(4),Me(),Me()),2&i&&(gn("mat-datepicker-content-container-with-actions",s._actionsPortal),$e(1),Ue("id",s.datepicker.id)("ngClass",s.datepicker.panelClass)("startAt",s.datepicker.startAt)("startView",s.datepicker.startView)("minDate",s.datepicker._getMinDate())("maxDate",s.datepicker._getMaxDate())("dateFilter",s.datepicker._getDateFilter())("headerComponent",s.datepicker.calendarHeaderComponent)("selected",s._getSelected())("dateClass",s.datepicker.dateClass)("comparisonStart",s.comparisonStart)("comparisonEnd",s.comparisonEnd)("@fadeInCalendar","enter"),$e(1),Ue("cdkPortalOutlet",s._actionsPortal),$e(1),gn("cdk-visually-hidden",!s._closeButtonFocused),Ue("color",s.color||"primary"),$e(1),Vr(s._closeButtonText))},directives:[Pj,Uk,Nw,aC,r0],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[wI.transformPanel,wI.fadeInCalendar]},changeDetection:0}),r})(),bI=(()=>{class r{constructor(i,s,l,d,y,A,L){this._overlay=i,this._ngZone=s,this._viewContainerRef=l,this._dateAdapter=y,this._dir=A,this._model=L,this._inputStateChanges=M.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Si,this.monthSelected=new Si,this.viewChanged=new Si(!0),this.openedStream=new Si,this.closedStream=new Si,this._opened=!1,this.id="mat-datepicker-"+sW++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new _,this._scrollStrategy=d}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(i){this._color=i}get touchUi(){return this._touchUi}set touchUi(i){this._touchUi=On(i)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(i){const s=On(i);s!==this._disabled&&(this._disabled=s,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(i){this._restoreFocus=On(i)}get panelClass(){return this._panelClass}set panelClass(i){this._panelClass=Y4(i)}get opened(){return this._opened}set opened(i){On(i)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(i){const s=i.xPosition||i.yPosition;if(s&&!s.firstChange&&this._overlayRef){const l=this._overlayRef.getConfig().positionStrategy;l instanceof tI&&(this._setConnectedPositions(l),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(i){this._model.add(i)}_selectYear(i){this.yearSelected.emit(i)}_selectMonth(i){this.monthSelected.emit(i)}_viewChanged(i){this.viewChanged.emit(i)}registerInput(i){return this._inputStateChanges.unsubscribe(),this.datepickerInput=i,this._inputStateChanges=i.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(i){this._actionsPortal=i}removeActions(i){i===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=i6(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const s=this._componentRef.instance;s._startExitAnimation(),s._animationDone.pipe(Ui(1)).subscribe(()=>this._destroyOverlay())}const i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(i)):i()}_applyPendingSelection(){var i,s;null==(s=null==(i=this._componentRef)?void 0:i.instance)||s._applyPendingSelection()}_forwardContentValues(i){i.datepicker=this,i.color=this.color,i._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const i=this.touchUi,s=this.datepickerInput.getOverlayLabelId(),l=new l_(uW,this._viewContainerRef),d=this._overlayRef=this._overlay.create(new h_({positionStrategy:i?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[i?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:i?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(i?"dialog":"popup")})),y=d.overlayElement;y.setAttribute("role","dialog"),s&&y.setAttribute("aria-labelledby",s),i&&y.setAttribute("aria-modal","true"),this._getCloseStream(d).subscribe(A=>{A&&A.preventDefault(),this.close()}),this._componentRef=d.attach(l),this._forwardContentValues(this._componentRef.instance),i||this._ngZone.onStable.pipe(Ui(1)).subscribe(()=>d.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(i)}_setConnectedPositions(i){const s="end"===this.xPosition?"end":"start",l="start"===s?"end":"start",d="above"===this.yPosition?"bottom":"top",y="top"===d?"bottom":"top";return i.withPositions([{originX:s,originY:y,overlayX:s,overlayY:d},{originX:s,originY:d,overlayX:s,overlayY:y},{originX:l,originY:y,overlayX:l,overlayY:d},{originX:l,originY:d,overlayX:l,overlayY:y}])}_getCloseStream(i){return an(i.backdropClick(),i.detachments(),i.keydownEvents().pipe(Do(s=>27===s.keyCode&&!th(s)||this.datepickerInput&&th(s,"altKey")&&38===s.keyCode)))}}return r.\u0275fac=function(i){return new(i||r)(ie(wd),ie(Ji),ie(ml),ie(_I),ie(ba,8),ie(lc,8),ie(o0))},r.\u0275dir=li({type:r,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[er]}),r})(),cW=(()=>{class r extends bI{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=_i({type:r,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Un([pI,{provide:bI,useExisting:r}]),zi],decls:0,vars:0,template:function(i,s){},encapsulation:2,changeDetection:0}),r})();class dC{constructor(n,i){this.target=n,this.targetElement=i,this.value=this.target.value}}let fW=(()=>{class r{constructor(i,s,l){this._elementRef=i,this._dateAdapter=s,this._dateFormats=l,this.dateChange=new Si,this.dateInput=new Si,this.stateChanges=new _,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=M.EMPTY,this._localeSubscription=M.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=d=>{const y=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d.value));return!y||this._matchesFilter(y)?null:{matDatepickerFilter:!0}},this._minValidator=d=>{const y=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d.value)),A=this._getMinDate();return!A||!y||this._dateAdapter.compareDate(A,y)<=0?null:{matDatepickerMin:{min:A,actual:y}}},this._maxValidator=d=>{const y=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d.value)),A=this._getMaxDate();return!A||!y||this._dateAdapter.compareDate(A,y)>=0?null:{matDatepickerMax:{max:A,actual:y}}},this._lastValueValid=!1,this._localeSubscription=s.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(i){this._assignValueProgrammatically(i)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(i){const s=On(i),l=this._elementRef.nativeElement;this._disabled!==s&&(this._disabled=s,this.stateChanges.next(void 0)),s&&this._isInitialized&&l.blur&&l.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(i){this._model=i,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(s=>{if(this._shouldHandleChangeEvent(s)){const l=this._getValueFromModel(s.selection);this._lastValueValid=this._isValidValue(l),this._cvaOnChange(l),this._onTouched(),this._formatValue(l),this.dateInput.emit(new dC(this,this._elementRef.nativeElement)),this.dateChange.emit(new dC(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(i){(function(r,n){const i=Object.keys(r);for(let s of i){const{previousValue:l,currentValue:d}=r[s];if(!n.isDateInstance(l)||!n.isDateInstance(d))return!0;if(!n.sameDate(l,d))return!0}return!1})(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(i){this._validatorOnChange=i}validate(i){return this._validator?this._validator(i):null}writeValue(i){this._assignValueProgrammatically(i)}registerOnChange(i){this._cvaOnChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_onKeydown(i){i.altKey&&40===i.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),i.preventDefault())}_onInput(i){const s=this._lastValueValid;let l=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(l),l=this._dateAdapter.getValidDateOrNull(l),this._dateAdapter.sameDate(l,this.value)?(i&&!this.value&&this._cvaOnChange(l),s!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(l),this._cvaOnChange(l),this.dateInput.emit(new dC(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new dC(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(i){this._elementRef.nativeElement.value=i?this._dateAdapter.format(i,this._dateFormats.display.dateInput):""}_assignValue(i){this._model?(this._assignValueToModel(i),this._pendingValue=null):this._pendingValue=i}_isValidValue(i){return!i||this._dateAdapter.isValid(i)}_parentDisabled(){return!1}_assignValueProgrammatically(i){i=this._dateAdapter.deserialize(i),this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i),this._assignValue(i),this._formatValue(i)}_matchesFilter(i){const s=this._getDateFilter();return!s||s(i)}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(ba,8),ie(dg,8))},r.\u0275dir=li({type:r,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[er]}),r})();const pW={provide:Jl,useExisting:Xe(()=>Gk),multi:!0},mW={provide:ia,useExisting:Xe(()=>Gk),multi:!0};let Gk=(()=>{class r extends fW{constructor(i,s,l,d){super(i,s,l),this._formField=d,this._closedSubscription=M.EMPTY,this._validator=Wy.compose(super._getValidators())}set matDatepicker(i){i&&(this._datepicker=i,this._closedSubscription=i.closedStream.subscribe(()=>this._onTouched()),this._registerModel(i.registerInput(this)))}get min(){return this._min}set min(i){const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(s,this._min)||(this._min=s,this._validatorOnChange())}get max(){return this._max}set max(i){const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(s,this._max)||(this._max=s,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(i){const s=this._matchesFilter(this.value);this._dateFilter=i,this._matchesFilter(this.value)!==s&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(i){return i}_assignValueToModel(i){this._model&&this._model.updateSelection(i,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(i){return i.source!==this}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(ba,8),ie(dg,8),ie(u_,8))},r.\u0275dir=li({type:r,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(i,s){1&i&&e("input",function(d){return s._onInput(d.target.value)})("change",function(){return s._onChange()})("blur",function(){return s._onBlur()})("keydown",function(d){return s._onKeydown(d)}),2&i&&(_a("disabled",s.disabled),yn("aria-haspopup",s._datepicker?"dialog":null)("aria-owns",(null==s._datepicker?null:s._datepicker.opened)&&s._datepicker.id||null)("min",s.min?s._dateAdapter.toIso8601(s.min):null)("max",s.max?s._dateAdapter.toIso8601(s.max):null)("data-mat-calendar",s._datepicker?s._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Un([pW,mW,{provide:dI,useExisting:r}]),zi]}),r})(),gW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["","matDatepickerToggleIcon",""]]}),r})(),vW=(()=>{class r{constructor(i,s,l){this._intl=i,this._changeDetectorRef=s,this._stateChanges=M.EMPTY;const d=Number(l);this.tabIndex=d||0===d?d:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=On(i)}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){const i=this.datepicker?this.datepicker.stateChanges:Qi(),s=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Qi(),l=this.datepicker?an(this.datepicker.openedStream,this.datepicker.closedStream):Qi();this._stateChanges.unsubscribe(),this._stateChanges=an(this._intl.changes,i,s,l).subscribe(()=>this._changeDetectorRef.markForCheck())}}return r.\u0275fac=function(i){return new(i||r)(ie(c_),ie(co),El("tabindex"))},r.\u0275cmp=_i({type:r,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,s,l){if(1&i&&Cr(l,gW,5),2&i){let d;Wi(d=Yi())&&(s._customIcon=d.first)}},viewQuery:function(i,s){if(1&i&&Or($G,5),2&i){let l;Wi(l=Yi())&&(s._button=l.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,s){1&i&&e("click",function(d){return s._open(d)}),2&i&&(yn("tabindex",null)("data-mat-calendar",s.datepicker?s.datepicker.id:null),gn("mat-datepicker-toggle-active",s.datepicker&&s.datepicker.opened)("mat-accent",s.datepicker&&"accent"===s.datepicker.color)("mat-warn",s.datepicker&&"warn"===s.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[er],ngContentSelectors:ZG,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,s){1&i&&(E(KG),_e(0,"button",0,1),bi(2,XG,2,0,"svg",2),P(3),Me()),2&i&&(Ue("disabled",s.disabled)("disableRipple",s.disableRipple),yn("aria-haspopup",s.datepicker?"dialog":null)("aria-label",s.ariaLabel||s._intl.openCalendarLabel)("tabindex",s.disabled?-1:s.tabIndex),$e(2),Ue("ngIf",!s._customIcon))},directives:[r0,Zl],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),r})(),yW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[c_,lW],imports:[[Wc,Ek,lC,Hj,Rk,cr],mg]}),r})();function _d(r){return K((n,i)=>{let d,s=null,l=!1;s=n.subscribe(new U(i,void 0,void 0,y=>{d=Di(r(y,_d(r)(n))),s?(s.unsubscribe(),s=null,d.subscribe(i)):l=!0})),l&&(s.unsubscribe(),s=null,d.subscribe(i))})}function MI(r){return K((n,i)=>{try{n.subscribe(i)}finally{i.add(r)}})}function e1(r,n){return yt(n)?Ut(r,n,1):Ut(r,1)}class CI{}class SI{}class bd{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(i=>{const s=i.indexOf(":");if(s>0){const l=i.slice(0,s),d=l.toLowerCase(),y=i.slice(s+1).trim();this.maybeSetNormalizedName(l,d),this.headers.has(d)?this.headers.get(d).push(y):this.headers.set(d,[y])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(i=>{let s=n[i];const l=i.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(l,s),this.maybeSetNormalizedName(i,l))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof bd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){const i=new bd;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof bd?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){const i=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,i);const l=("a"===n.op?this.headers.get(i):void 0)||[];l.push(...s),this.headers.set(i,l);break;case"d":const d=n.value;if(d){let y=this.headers.get(i);if(!y)return;y=y.filter(A=>-1===d.indexOf(A)),0===y.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,y)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}}class wW{encodeKey(n){return DI(n)}encodeValue(n){return DI(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const bW=/%(\d[a-f0-9])/gi,MW={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function DI(r){return encodeURIComponent(r).replace(bW,(n,i)=>{var s;return null!=(s=MW[i])?s:n})}function EI(r){return`${r}`}class s0{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new wW,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,n){const i=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(l=>{const d=l.indexOf("="),[y,A]=-1==d?[n.decodeKey(l),""]:[n.decodeKey(l.slice(0,d)),n.decodeValue(l.slice(d+1))],L=i.get(y)||[];L.push(A),i.set(y,L)}),i}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{const s=n.fromObject[i];this.map.set(i,Array.isArray(s)?s:[s])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){const i=[];return Object.keys(n).forEach(s=>{const l=n[s];Array.isArray(l)?l.forEach(d=>{i.push({param:s,value:d,op:"a"})}):i.push({param:s,value:l,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const i=this.encoder.encodeKey(n);return this.map.get(n).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const i=new s0({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const i=("a"===n.op?this.map.get(n.param):void 0)||[];i.push(EI(n.value)),this.map.set(n.param,i);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const l=s.indexOf(EI(n.value));-1!==l&&s.splice(l,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class CW{constructor(){this.map=new Map}set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function kI(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function AI(r){return"undefined"!=typeof Blob&&r instanceof Blob}function TI(r){return"undefined"!=typeof FormData&&r instanceof FormData}class d_{constructor(n,i,s,l){let d;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==s?s:null,d=l):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new bd),this.context||(this.context=new CW),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=i;else{const A=i.indexOf("?");this.urlWithParams=i+(-1===A?"?":A<i.length-1?"&":"")+y}}else this.params=new s0,this.urlWithParams=i}serializeBody(){return null===this.body?null:kI(this.body)||AI(this.body)||TI(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof s0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||TI(this.body)?null:AI(this.body)?this.body.type||null:kI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof s0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var Et;const i=n.method||this.method,s=n.url||this.url,l=n.responseType||this.responseType,d=void 0!==n.body?n.body:this.body,y=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,A=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let L=n.headers||this.headers,tt=n.params||this.params;const ft=null!=(Et=n.context)?Et:this.context;return void 0!==n.setHeaders&&(L=Object.keys(n.setHeaders).reduce((Ft,zt)=>Ft.set(zt,n.setHeaders[zt]),L)),n.setParams&&(tt=Object.keys(n.setParams).reduce((Ft,zt)=>Ft.set(zt,n.setParams[zt]),tt)),new d_(i,s,d,{params:tt,headers:L,context:ft,reportProgress:A,responseType:l,withCredentials:y})}}var _s=(()=>((_s=_s||{})[_s.Sent=0]="Sent",_s[_s.UploadProgress=1]="UploadProgress",_s[_s.ResponseHeader=2]="ResponseHeader",_s[_s.DownloadProgress=3]="DownloadProgress",_s[_s.Response=4]="Response",_s[_s.User=5]="User",_s))();class Wk{constructor(n,i=200,s="OK"){this.headers=n.headers||new bd,this.status=void 0!==n.status?n.status:i,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Yk extends Wk{constructor(n={}){super(n),this.type=_s.ResponseHeader}clone(n={}){return new Yk({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class pC extends Wk{constructor(n={}){super(n),this.type=_s.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new pC({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class PI extends Wk{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function $k(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let n1=(()=>{class r{constructor(i){this.handler=i}request(i,s,l={}){let d;if(i instanceof d_)d=i;else{let L,tt;L=l.headers instanceof bd?l.headers:new bd(l.headers),l.params&&(tt=l.params instanceof s0?l.params:new s0({fromObject:l.params})),d=new d_(i,s,void 0!==l.body?l.body:null,{headers:L,context:l.context,params:tt,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const y=Qi(d).pipe(e1(L=>this.handler.handle(L)));if(i instanceof d_||"events"===l.observe)return y;const A=y.pipe(Do(L=>L instanceof pC));switch(l.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return A.pipe(W(L=>{if(null!==L.body&&!(L.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return L.body}));case"blob":return A.pipe(W(L=>{if(null!==L.body&&!(L.body instanceof Blob))throw new Error("Response is not a Blob.");return L.body}));case"text":return A.pipe(W(L=>{if(null!==L.body&&"string"!=typeof L.body)throw new Error("Response is not a string.");return L.body}));default:return A.pipe(W(L=>L.body))}case"response":return A;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:(new s0).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,l={}){return this.request("PATCH",i,$k(l,s))}post(i,s,l={}){return this.request("POST",i,$k(l,s))}put(i,s,l={}){return this.request("PUT",i,$k(l,s))}}return r.\u0275fac=function(i){return new(i||r)(Re(CI))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();class II{constructor(n,i){this.next=n,this.interceptor=i}handle(n){return this.interceptor.intercept(n,this.next)}}const RI=new ui("HTTP_INTERCEPTORS");let EW=(()=>{class r{intercept(i,s){return s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const kW=/^\)\]\}',?\n/;let OI=(()=>{class r{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new v(s=>{const l=this.xhrFactory.build();if(l.open(i.method,i.urlWithParams),i.withCredentials&&(l.withCredentials=!0),i.headers.forEach((zt,Xt)=>l.setRequestHeader(zt,Xt.join(","))),i.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const zt=i.detectContentTypeHeader();null!==zt&&l.setRequestHeader("Content-Type",zt)}if(i.responseType){const zt=i.responseType.toLowerCase();l.responseType="json"!==zt?zt:"text"}const d=i.serializeBody();let y=null;const A=()=>{if(null!==y)return y;const zt=1223===l.status?204:l.status,Xt=l.statusText||"OK",ce=new bd(l.getAllResponseHeaders()),de=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(l)||i.url;return y=new Yk({headers:ce,status:zt,statusText:Xt,url:de}),y},L=()=>{let{headers:zt,status:Xt,statusText:ce,url:de}=A(),Ie=null;204!==Xt&&(Ie=void 0===l.response?l.responseText:l.response),0===Xt&&(Xt=Ie?200:0);let Pe=Xt>=200&&Xt<300;if("json"===i.responseType&&"string"==typeof Ie){const Ze=Ie;Ie=Ie.replace(kW,"");try{Ie=""!==Ie?JSON.parse(Ie):null}catch(ai){Ie=Ze,Pe&&(Pe=!1,Ie={error:ai,text:Ie})}}Pe?(s.next(new pC({body:Ie,headers:zt,status:Xt,statusText:ce,url:de||void 0})),s.complete()):s.error(new PI({error:Ie,headers:zt,status:Xt,statusText:ce,url:de||void 0}))},tt=zt=>{const{url:Xt}=A(),ce=new PI({error:zt,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Xt||void 0});s.error(ce)};let ft=!1;const Et=zt=>{ft||(s.next(A()),ft=!0);let Xt={type:_s.DownloadProgress,loaded:zt.loaded};zt.lengthComputable&&(Xt.total=zt.total),"text"===i.responseType&&!!l.responseText&&(Xt.partialText=l.responseText),s.next(Xt)},Ft=zt=>{let Xt={type:_s.UploadProgress,loaded:zt.loaded};zt.lengthComputable&&(Xt.total=zt.total),s.next(Xt)};return l.addEventListener("load",L),l.addEventListener("error",tt),l.addEventListener("timeout",tt),l.addEventListener("abort",tt),i.reportProgress&&(l.addEventListener("progress",Et),null!==d&&l.upload&&l.upload.addEventListener("progress",Ft)),l.send(d),s.next({type:_s.Sent}),()=>{l.removeEventListener("error",tt),l.removeEventListener("abort",tt),l.removeEventListener("load",L),l.removeEventListener("timeout",tt),i.reportProgress&&(l.removeEventListener("progress",Et),null!==d&&l.upload&&l.upload.removeEventListener("progress",Ft)),l.readyState!==l.DONE&&l.abort()}})}}return r.\u0275fac=function(i){return new(i||r)(Re(I4))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const Xk=new ui("XSRF_COOKIE_NAME"),Kk=new ui("XSRF_HEADER_NAME");class NI{}let TW=(()=>{class r{constructor(i,s,l){this.doc=i,this.platform=s,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=b4(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn),Re(Zm),Re(Xk))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),Zk=(()=>{class r{constructor(i,s){this.tokenService=i,this.headerName=s}intercept(i,s){const l=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||l.startsWith("http://")||l.startsWith("https://"))return s.handle(i);const d=this.tokenService.getToken();return null!==d&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,d)})),s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(Re(NI),Re(Kk))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),PW=(()=>{class r{constructor(i,s){this.backend=i,this.injector=s,this.chain=null}handle(i){if(null===this.chain){const s=this.injector.get(RI,[]);this.chain=s.reduceRight((l,d)=>new II(l,d),this.backend)}return this.chain.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(Re(SI),Re(Kn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),IW=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:Zk,useClass:EW}]}}static withOptions(i={}){return{ngModule:r,providers:[i.cookieName?{provide:Xk,useValue:i.cookieName}:[],i.headerName?{provide:Kk,useValue:i.headerName}:[]]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[Zk,{provide:RI,useExisting:Zk,multi:!0},{provide:NI,useClass:TW},{provide:Xk,useValue:"XSRF-TOKEN"},{provide:Kk,useValue:"X-XSRF-TOKEN"}]}),r})(),RW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[n1,{provide:CI,useClass:PW},OI,{provide:SI,useExisting:OI}],imports:[[IW.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();const OW=["*"];let mC;function p_(r){var n;return(null==(n=function(){if(void 0===mC&&(mC=null,"undefined"!=typeof window)){const r=window;void 0!==r.trustedTypes&&(mC=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return mC}())?void 0:n.createHTML(r))||r}function FI(r){return Error(`Unable to find icon with the name "${r}"`)}function LI(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function BI(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class vg{constructor(n,i,s){this.url=n,this.svgText=i,this.options=s}}let gC=(()=>{class r{constructor(i,s,l,d){this._httpClient=i,this._sanitizer=s,this._errorHandler=d,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=l}addSvgIcon(i,s,l){return this.addSvgIconInNamespace("",i,s,l)}addSvgIconLiteral(i,s,l){return this.addSvgIconLiteralInNamespace("",i,s,l)}addSvgIconInNamespace(i,s,l,d){return this._addSvgIconConfig(i,s,new vg(l,null,d))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,s,l,d){const y=this._sanitizer.sanitize(ir.HTML,l);if(!y)throw BI(l);const A=p_(y);return this._addSvgIconConfig(i,s,new vg("",A,d))}addSvgIconSet(i,s){return this.addSvgIconSetInNamespace("",i,s)}addSvgIconSetLiteral(i,s){return this.addSvgIconSetLiteralInNamespace("",i,s)}addSvgIconSetInNamespace(i,s,l){return this._addSvgIconSetConfig(i,new vg(s,null,l))}addSvgIconSetLiteralInNamespace(i,s,l){const d=this._sanitizer.sanitize(ir.HTML,s);if(!d)throw BI(s);const y=p_(d);return this._addSvgIconSetConfig(i,new vg("",y,l))}registerFontClassAlias(i,s=i){return this._fontCssClassesByAlias.set(i,s),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const s=this._sanitizer.sanitize(ir.RESOURCE_URL,i);if(!s)throw LI(i);const l=this._cachedIconsByUrl.get(s);return l?Qi(vC(l)):this._loadSvgIconFromConfig(new vg(i,null)).pipe(os(d=>this._cachedIconsByUrl.set(s,d)),W(d=>vC(d)))}getNamedSvgIcon(i,s=""){const l=VI(s,i);let d=this._svgIconConfigs.get(l);if(d)return this._getSvgFromConfig(d);if(d=this._getIconConfigFromResolvers(s,i),d)return this._svgIconConfigs.set(l,d),this._getSvgFromConfig(d);const y=this._iconSetConfigs.get(s);return y?this._getSvgFromIconSetConfigs(i,y):function(r,n){const i=yt(r)?r:()=>r,s=l=>l.error(i());return new v(s)}(FI(l))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Qi(vC(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(W(s=>vC(s)))}_getSvgFromIconSetConfigs(i,s){const l=this._extractIconWithNameFromAnySet(i,s);return l?Qi(l):xE(s.filter(y=>!y.svgText).map(y=>this._loadSvgIconSetFromConfig(y).pipe(_d(A=>{const tt=`Loading icon set URL: ${this._sanitizer.sanitize(ir.RESOURCE_URL,y.url)} failed: ${A.message}`;return this._errorHandler.handleError(new Error(tt)),Qi(null)})))).pipe(W(()=>{const y=this._extractIconWithNameFromAnySet(i,s);if(!y)throw FI(i);return y}))}_extractIconWithNameFromAnySet(i,s){for(let l=s.length-1;l>=0;l--){const d=s[l];if(d.svgText&&d.svgText.toString().indexOf(i)>-1){const y=this._svgElementFromConfig(d),A=this._extractSvgIconFromSet(y,i,d.options);if(A)return A}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(os(s=>i.svgText=s),W(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Qi(null):this._fetchIcon(i).pipe(os(s=>i.svgText=s))}_extractSvgIconFromSet(i,s,l){const d=i.querySelector(`[id="${s}"]`);if(!d)return null;const y=d.cloneNode(!0);if(y.removeAttribute("id"),"svg"===y.nodeName.toLowerCase())return this._setSvgAttributes(y,l);if("symbol"===y.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(y),l);const A=this._svgElementFromString(p_("<svg></svg>"));return A.appendChild(y),this._setSvgAttributes(A,l)}_svgElementFromString(i){const s=this._document.createElement("DIV");s.innerHTML=i;const l=s.querySelector("svg");if(!l)throw Error("<svg> tag not found");return l}_toSvgElement(i){const s=this._svgElementFromString(p_("<svg></svg>")),l=i.attributes;for(let d=0;d<l.length;d++){const{name:y,value:A}=l[d];"id"!==y&&s.setAttribute(y,A)}for(let d=0;d<i.childNodes.length;d++)i.childNodes[d].nodeType===this._document.ELEMENT_NODE&&s.appendChild(i.childNodes[d].cloneNode(!0));return s}_setSvgAttributes(i,s){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),s&&s.viewBox&&i.setAttribute("viewBox",s.viewBox),i}_fetchIcon(i){var tt;const{url:s,options:l}=i,d=null!=(tt=null==l?void 0:l.withCredentials)&&tt;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const y=this._sanitizer.sanitize(ir.RESOURCE_URL,s);if(!y)throw LI(s);const A=this._inProgressUrlFetches.get(y);if(A)return A;const L=this._httpClient.get(y,{responseType:"text",withCredentials:d}).pipe(W(ft=>p_(ft)),MI(()=>this._inProgressUrlFetches.delete(y)),lr());return this._inProgressUrlFetches.set(y,L),L}_addSvgIconConfig(i,s,l){return this._svgIconConfigs.set(VI(i,s),l),this}_addSvgIconSetConfig(i,s){const l=this._iconSetConfigs.get(i);return l?l.push(s):this._iconSetConfigs.set(i,[s]),this}_svgElementFromConfig(i){if(!i.svgElement){const s=this._svgElementFromString(i.svgText);this._setSvgAttributes(s,i.options),i.svgElement=s}return i.svgElement}_getIconConfigFromResolvers(i,s){for(let l=0;l<this._resolvers.length;l++){const d=this._resolvers[l](s,i);if(d)return BW(d)?new vg(d.url,null,d.options):new vg(d,null)}}}return r.\u0275fac=function(i){return new(i||r)(Re(n1,8),Re(rg),Re(Mn,8),Re(Rl))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function vC(r){return r.cloneNode(!0)}function VI(r,n){return r+":"+n}function BW(r){return!(!r.url||!r.options)}const VW=fg(class{constructor(r){this._elementRef=r}}),jW=new ui("mat-icon-location",{providedIn:"root",factory:function(){const r=Qa(Mn),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),jI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zW=jI.map(r=>`[${r}]`).join(", "),UW=/^url\(['"]?#(.*?)['"]?\)$/;let HI=(()=>{class r extends VW{constructor(i,s,l,d,y){super(i),this._iconRegistry=s,this._location=d,this._errorHandler=y,this._inline=!1,this._currentIconFetch=M.EMPTY,l||i.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(i){this._inline=On(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const s=this._cleanupFontValue(i);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const s=this._cleanupFontValue(i);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(i){if(!i)return["",""];const s=i.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const s=i.querySelectorAll("style");for(let d=0;d<s.length;d++)s[d].textContent+=" ";const l=this._location.getPathname();this._previousPath=l,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(l),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let s=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const l=i.childNodes[s];(1!==l.nodeType||"svg"===l.nodeName.toLowerCase())&&l.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&i.classList.remove(this._previousFontSetClass),s&&i.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const s=this._elementsWithExternalReferences;s&&s.forEach((l,d)=>{l.forEach(y=>{d.setAttribute(y.name,`url('${i}#${y.value}')`)})})}_cacheChildrenWithExternalReferences(i){const s=i.querySelectorAll(zW),l=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<s.length;d++)jI.forEach(y=>{const A=s[d],L=A.getAttribute(y),tt=L?L.match(UW):null;if(tt){let ft=l.get(A);ft||(ft=[],l.set(A,ft)),ft.push({name:y,value:tt[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[s,l]=this._splitIconName(i);s&&(this._svgNamespace=s),l&&(this._svgName=l),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(l,s).pipe(Ui(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${l}! ${d.message}`))})}}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(gC),El("aria-hidden"),ie(jW),ie(Rl))},r.\u0275cmp=_i({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(i,s){2&i&&(yn("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),gn("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[zi],ngContentSelectors:OW,decls:1,vars:0,template:function(i,s){1&i&&(E(),P(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),GW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[cr],cr]}),r})();class qk{constructor(n=!1,i,s=!0){this._multiple=n,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new _,i&&i.length&&(n?i.forEach(l=>this._markSelected(l)):this._markSelected(i[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}let WW=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(i){this._vertical=On(i)}get inset(){return this._inset}set inset(i){this._inset=On(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_i({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,s){2&i&&(yn("aria-orientation",s.vertical?"vertical":"horizontal"),gn("mat-divider-vertical",s.vertical)("mat-divider-horizontal",!s.vertical)("mat-divider-inset",s.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,s){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),r})(),YW=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[cr],cr]}),r})();const zI=["*"],XW=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],KW=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],tY=n_(n0(class{})),eY=n0(class{}),iY=new ui("MatList"),UI=new ui("MatNavList");let nY=(()=>{class r extends tY{constructor(){super(...arguments),this._stateChanges=new _}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=_i({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Un([{provide:UI,useExisting:r}]),zi,er],ngContentSelectors:zI,decls:1,vars:0,template:function(i,s){1&i&&(E(),P(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),r})(),GI=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),r})(),WI=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),r})(),rY=(()=>{class r extends eY{constructor(i,s,l,d){super(),this._element=i,this._isInteractiveList=!1,this._destroyed=new _,this._disabled=!1,this._isInteractiveList=!!(l||d&&"action-list"===d._getListType()),this._list=l||d;const y=this._getHostElement();"button"===y.nodeName.toLowerCase()&&!y.hasAttribute("type")&&y.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(wr(this._destroyed)).subscribe(()=>{s.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(i){this._disabled=On(i)}ngAfterContentInit(){!function(r,n,i="mat"){r.changes.pipe(ql(r)).subscribe(({length:s})=>{r_(n,`${i}-2-line`,!1),r_(n,`${i}-3-line`,!1),r_(n,`${i}-multi-line`,!1),2===s||3===s?r_(n,`${i}-${s}-line`,!0):s>3&&r_(n,`${i}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(co),ie(UI,8),ie(iY,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,s,l){if(1&i&&(Cr(l,GI,5),Cr(l,WI,5),Cr(l,EP,5)),2&i){let d;Wi(d=Yi())&&(s._avatar=d.first),Wi(d=Yi())&&(s._icon=d.first),Wi(d=Yi())&&(s._lines=d)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(i,s){2&i&&gn("mat-list-item-disabled",s.disabled)("mat-list-item-avatar",s._avatar||s._icon)("mat-list-item-with-avatar",s._avatar||s._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[zi],ngContentSelectors:KW,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(i,s){1&i&&(E(XW),_e(0,"div",0),Oi(1,"div",1),P(2),_e(3,"div",2),P(4,1),Me(),P(5,2),Me()),2&i&&($e(1),Ue("matRippleTrigger",s._getHostElement())("matRippleDisabled",s._isRippleDisabled()))},directives:[pg],encapsulation:2,changeDetection:0}),r})(),uY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[AP,q2,cr,Sk,Wc],AP,cr,Sk,YW]}),r})();function yC(r){return new v(n=>{Di(r()).subscribe(n)})}function ja(r,n){return K((i,s)=>{let l=null,d=0,y=!1;const A=()=>y&&!l&&s.complete();i.subscribe(new U(s,L=>{null==l||l.unsubscribe();let tt=0;const ft=d++;Di(r(L,ft)).subscribe(l=new U(s,Et=>s.next(n?n(L,Et,ft,tt++):Et),()=>{l=null,A()}))},()=>{y=!0,A()}))})}const cY=["trigger"],fY=["panel"];function dY(r,n){if(1&r&&(_e(0,"span",8),ii(1),Me()),2&r){const i=x();$e(1),Vr(i.placeholder)}}function pY(r,n){if(1&r&&(_e(0,"span",12),ii(1),Me()),2&r){const i=x(2);$e(1),Vr(i.triggerValue)}}function mY(r,n){1&r&&P(0,0,["*ngSwitchCase","true"])}function gY(r,n){1&r&&(_e(0,"span",9),bi(1,pY,2,1,"span",10),bi(2,mY,1,0,"ng-content",11),Me()),2&r&&(Ue("ngSwitch",!!x().customTrigger),$e(2),Ue("ngSwitchCase",!0))}function vY(r,n){if(1&r){const i=Ho();_e(0,"div",13),_e(1,"div",14,15),e("@transformPanel.done",function(l){return Zr(i),x()._panelDoneAnimatingStream.next(l.toState)})("keydown",function(l){return Zr(i),x()._handleKeydown(l)}),P(3,1),Me(),Me()}if(2&r){const i=x();Ue("@transformPanelWrap",void 0),$e(1),Yr("mat-select-panel ",i._getPanelTheme(),""),ya("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),Ue("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),yn("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}const yY=[[["mat-select-trigger"]],"*"],xY=["mat-select-trigger","*"],$I={transformPanelWrap:ag("transformPanelWrap",[pu("* => void",Yj("@transformPanel",[Wj()],{optional:!0}))]),transformPanel:ag("transformPanel",[Kc("void",ws({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Kc("showing",ws({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Kc("showing-multiple",ws({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),pu("void => *",hc("120ms cubic-bezier(0, 0, 0.2, 1)")),pu("* => void",hc("100ms 25ms linear",ws({opacity:0})))])};let XI=0;const ZI=new ui("mat-select-scroll-strategy"),MY=new ui("MAT_SELECT_CONFIG"),CY={provide:ZI,deps:[wd],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};class SY{constructor(n,i){this.source=n,this.value=i}}const DY=n0(CP(n_(SP(class{constructor(r,n,i,s,l){this._elementRef=r,this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=s,this.ngControl=l}})))),EY=new ui("MatSelectTrigger");let kY=(()=>{class r extends DY{constructor(i,s,l,d,y,A,L,tt,ft,Et,Ft,zt,Xt,ce){var de,Ie,Pe;super(y,d,L,tt,Et),this._viewportRuler=i,this._changeDetectorRef=s,this._ngZone=l,this._dir=A,this._parentFormField=ft,this._liveAnnouncer=Xt,this._defaultOptions=ce,this._panelOpen=!1,this._compareWith=(Ze,ai)=>Ze===ai,this._uid="mat-select-"+XI++,this._triggerAriaLabelledBy=null,this._destroy=new _,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+XI++,this._panelDoneAnimatingStream=new _,this._overlayPanelClass=(null==(de=this._defaultOptions)?void 0:de.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(Pe=null==(Ie=this._defaultOptions)?void 0:Ie.disableOptionCentering)&&Pe,this.ariaLabel="",this.optionSelectionChanges=yC(()=>{const Ze=this.options;return Ze?Ze.changes.pipe(ql(Ze),ja(()=>an(...Ze.map(ai=>ai.onSelectionChange)))):this._ngZone.onStable.pipe(Ui(1),ja(()=>this.optionSelectionChanges))}),this.openedChange=new Si,this._openedStream=this.openedChange.pipe(Do(Ze=>Ze),W(()=>{})),this._closedStream=this.openedChange.pipe(Do(Ze=>!Ze),W(()=>{})),this.selectionChange=new Si,this.valueChange=new Si,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ce?void 0:ce.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ce.typeaheadDebounceInterval),this._scrollStrategyFactory=zt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ft)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){var i,s,l,d;return null!=(d=null!=(l=this._required)?l:null==(s=null==(i=this.ngControl)?void 0:i.control)?void 0:s.hasValidator(Wy.required))&&d}set required(i){this._required=On(i),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._multiple=On(i)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(i){this._disableOptionCentering=On(i)}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){(i!==this._value||this._multiple&&Array.isArray(i))&&(this.options&&this._setSelectionByValue(i),this._value=i)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(i){this._typeaheadDebounceInterval=Kp(i)}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new qk(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(HE(),wr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(wr(this._destroy)).subscribe(i=>{i.added.forEach(s=>s.select()),i.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(ql(null),wr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const i=this._getTriggerAriaLabelledby();if(i!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?s.setAttribute("aria-labelledby",i):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(i){i.disabled&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(i){this.value=i}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var i,s;return this.multiple?(null==(i=this._selectionModel)?void 0:i.selected)||[]:null==(s=this._selectionModel)?void 0:s.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const i=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){const s=i.keyCode,l=40===s||38===s||37===s||39===s,d=13===s||32===s,y=this._keyManager;if(!y.isTyping()&&d&&!th(i)||(this.multiple||i.altKey)&&l)i.preventDefault(),this.open();else if(!this.multiple){const A=this.selected;y.onKeydown(i);const L=this.selected;L&&A!==L&&this._liveAnnouncer.announce(L.viewValue,1e4)}}_handleOpenKeydown(i){const s=this._keyManager,l=i.keyCode,d=40===l||38===l,y=s.isTyping();if(d&&i.altKey)i.preventDefault(),this.close();else if(y||13!==l&&32!==l||!s.activeItem||th(i))if(!y&&this._multiple&&65===l&&i.ctrlKey){i.preventDefault();const A=this.options.some(L=>!L.disabled&&!L.selected);this.options.forEach(L=>{L.disabled||(A?L.select():L.deselect())})}else{const A=s.activeItemIndex;s.onKeydown(i),this._multiple&&d&&i.shiftKey&&s.activeItem&&s.activeItemIndex!==A&&s.activeItem._selectViaInteraction()}else i.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ui(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(i);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(i){const s=this.options.find(l=>{if(this._selectionModel.isSelected(l))return!1;try{return null!=l.value&&this._compareWith(l.value,i)}catch(d){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new c8(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(wr(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(wr(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const i=an(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(wr(i)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),an(...this.options.map(s=>s._stateChanges)).pipe(wr(i)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(i,s){const l=this._selectionModel.isSelected(i);null!=i.value||this._multiple?(l!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),s&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),s&&this.focus())):(i.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(i.value)),l!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const i=this.options.toArray();this._selectionModel.sort((s,l)=>this.sortComparator?this.sortComparator(s,l,i):i.indexOf(s)-i.indexOf(l)),this.stateChanges.next()}}_propagateChanges(i){let s=null;s=this.multiple?this.selected.map(l=>l.value):this.selected?this.selected.value:i,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var i;return!this._panelOpen&&!this.disabled&&(null==(i=this.options)?void 0:i.length)>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){var l;if(this.ariaLabel)return null;const i=null==(l=this._parentFormField)?void 0:l.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var l;if(this.ariaLabel)return null;const i=null==(l=this._parentFormField)?void 0:l.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){this._ariaDescribedby=i.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(i){return new(i||r)(ie(a_),ie(co),ie(Ji),ie(Mk),ie(qi),ie(lc,8),ie(Kw,8),ie(vd,8),ie(u_,8),ie(Yc,10),El("tabindex"),ie(ZI),ie(UE),ie(MY,8))},r.\u0275dir=li({type:r,viewQuery:function(i,s){if(1&i&&(Or(cY,5),Or(fY,5),Or(sI,5)),2&i){let l;Wi(l=Yi())&&(s.trigger=l.first),Wi(l=Yi())&&(s.panel=l.first),Wi(l=Yi())&&(s._overlayDir=l.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[zi,er]}),r})(),Jk=(()=>{class r extends kY{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(i,s,l){const d=this._getItemHeight();return Math.min(Math.max(0,d*i-s+d/2),l)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(wr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Ui(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(i){const s=Dk(i,this.options,this.optionGroups),l=this._getItemHeight();this.panel.nativeElement.scrollTop=0===i&&1===s?0:FP((i+s)*l,l,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(i){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(i)}_getChangeEvent(i){return new SY(this,i)}_calculateOverlayOffsetX(){const i=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),l=this._isRtl(),d=this.multiple?56:32;let y;if(this.multiple)y=40;else if(this.disableOptionCentering)y=16;else{let tt=this._selectionModel.selected[0]||this.options.first;y=tt&&tt.group?32:16}l||(y*=-1);const A=0-(i.left+y-(l?d:0)),L=i.right+y-s.width+(l?0:d);A>0?y+=A+8:L>0&&(y-=L+8),this._overlayDir.offsetX=Math.round(y),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(i,s,l){const d=this._getItemHeight(),y=(d-this._triggerRect.height)/2,A=Math.floor(256/d);let L;return this.disableOptionCentering?0:(L=0===this._scrollTop?i*d:this._scrollTop===l?(i-(this._getItemCount()-A))*d+(d-(this._getItemCount()*d-256)%d):s-d/2,Math.round(-1*L-y))}_checkOverlayWithinViewport(i){const s=this._getItemHeight(),l=this._viewportRuler.getViewportSize(),d=this._triggerRect.top-8,y=l.height-this._triggerRect.bottom-8,A=Math.abs(this._offsetY),tt=Math.min(this._getItemCount()*s,256)-A-this._triggerRect.height;tt>y?this._adjustPanelUp(tt,y):A>d?this._adjustPanelDown(A,d,i):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(i,s){const l=Math.round(i-s);this._scrollTop-=l,this._offsetY-=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(i,s,l){const d=Math.round(i-s);if(this._scrollTop+=d,this._offsetY+=d,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=l)return this._scrollTop=l,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const i=this._getItemHeight(),s=this._getItemCount(),l=Math.min(s*i,256),y=s*i-l;let A;A=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),A+=Dk(A,this.options,this.optionGroups);const L=l/2;this._scrollTop=this._calculateOverlayScroll(A,L,y),this._offsetY=this._calculateOverlayOffsetY(A,L,y),this._checkOverlayWithinViewport(y)}_getOriginBasedOnOption(){const i=this._getItemHeight(),s=(i-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+i/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=_i({type:r,selectors:[["mat-select"]],contentQueries:function(i,s,l){if(1&i&&(Cr(l,EY,5),Cr(l,o_,5),Cr(l,Q2,5)),2&i){let d;Wi(d=Yi())&&(s.customTrigger=d.first),Wi(d=Yi())&&(s.options=d),Wi(d=Yi())&&(s.optionGroups=d)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(i,s){1&i&&e("keydown",function(d){return s._handleKeydown(d)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&i&&(yn("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),gn("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Un([{provide:hC,useExisting:r},{provide:J2,useExisting:r}]),zi],ngContentSelectors:xY,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,s){if(1&i&&(E(yY),_e(0,"div",0,1),e("click",function(){return s.toggle()}),_e(3,"div",2),bi(4,dY,2,1,"span",3),bi(5,gY,3,2,"span",4),Me(),_e(6,"div",5),Oi(7,"div",6),Me(),Me(),bi(8,vY,4,14,"ng-template",7),e("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&i){const l=ol(1);yn("aria-owns",s.panelOpen?s.id+"-panel":null),$e(3),Ue("ngSwitch",s.empty),yn("id",s._valueId),$e(1),Ue("ngSwitchCase",!0),$e(1),Ue("ngSwitchCase",!1),$e(3),Ue("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",l)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[oI,Vy,h2,sI,S4,Nw],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[$I.transformPanelWrap,$I.transformPanel]},changeDetection:0}),r})(),AY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[CY],imports:[[Wc,lC,tC,cr],mg,cC,tC,cr]}),r})();function Qk(r){return W(()=>r)}const wC=["*"];function TY(r,n){if(1&r){const i=Ho();_e(0,"div",2),e("click",function(){return Zr(i),x()._onBackdropClicked()}),Me()}2&r&&gn("mat-drawer-shown",x()._isShowingBackdrop())}function PY(r,n){1&r&&(_e(0,"mat-drawer-content"),P(1,2),Me())}const IY=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],RY=["mat-drawer","mat-drawer-content","*"];function OY(r,n){if(1&r){const i=Ho();_e(0,"div",2),e("click",function(){return Zr(i),x()._onBackdropClicked()}),Me()}2&r&&gn("mat-drawer-shown",x()._isShowingBackdrop())}function NY(r,n){1&r&&(_e(0,"mat-sidenav-content",3),P(1,2),Me())}const FY=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],LY=["mat-sidenav","mat-sidenav-content","*"],qI={transformDrawer:ag("transform",[Kc("open, open-instant",ws({transform:"none",visibility:"visible"})),Kc("void",ws({"box-shadow":"none",visibility:"hidden"})),pu("void => open-instant",hc("0ms")),pu("void <=> open, open-instant => void",hc("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},VY=new ui("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),tA=new ui("MAT_DRAWER_CONTAINER");let _C=(()=>{class r extends rC{constructor(i,s,l,d,y){super(l,d,y),this._changeDetectorRef=i,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(i){return new(i||r)(ie(co),ie(Xe(()=>QI)),ie(qi),ie(nC),ie(Ji))},r.\u0275cmp=_i({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,s){2&i&&ya("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[zi],ngContentSelectors:wC,decls:1,vars:0,template:function(i,s){1&i&&(E(),P(0))},encapsulation:2,changeDetection:0}),r})(),JI=(()=>{class r{constructor(i,s,l,d,y,A,L,tt){this._elementRef=i,this._focusTrapFactory=s,this._focusMonitor=l,this._platform=d,this._ngZone=y,this._interactivityChecker=A,this._doc=L,this._container=tt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new _,this._animationEnd=new _,this._animationState="void",this.openedChange=new Si(!0),this._openedStream=this.openedChange.pipe(Do(ft=>ft),W(()=>{})),this.openedStart=this._animationStarted.pipe(Do(ft=>ft.fromState!==ft.toState&&0===ft.toState.indexOf("open")),Qk(void 0)),this._closedStream=this.openedChange.pipe(Do(ft=>!ft),W(()=>{})),this.closedStart=this._animationStarted.pipe(Do(ft=>ft.fromState!==ft.toState&&"void"===ft.toState),Qk(void 0)),this._destroyed=new _,this.onPositionChanged=new Si,this._modeChanged=new _,this.openedChange.subscribe(ft=>{ft?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{uc(this._elementRef.nativeElement,"keydown").pipe(Do(ft=>27===ft.keyCode&&!this.disableClose&&!th(ft)),wr(this._destroyed)).subscribe(ft=>this._ngZone.run(()=>{this.close(),ft.stopPropagation(),ft.preventDefault()}))}),this._animationEnd.pipe(HE((ft,Et)=>ft.fromState===Et.fromState&&ft.toState===Et.toState)).subscribe(ft=>{const{fromState:Et,toState:Ft}=ft;(0===Ft.indexOf("open")&&"void"===Et||"void"===Ft&&0===Et.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(i){(i="end"===i?"end":"start")!=this._position&&(this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=On(i)}get autoFocus(){const i=this._autoFocus;return null==i?"side"===this.mode?"dialog":"first-tabbable":i}set autoFocus(i){("true"===i||"false"===i)&&(i=On(i)),this._autoFocus=i}get opened(){return this._opened}set opened(i){this.toggle(On(i))}_forceFocus(i,s){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{i.addEventListener("blur",()=>i.removeAttribute("tabindex")),i.addEventListener("mousedown",()=>i.removeAttribute("tabindex"))})),i.focus(s)}_focusByCssSelector(i,s){let l=this._elementRef.nativeElement.querySelector(i);l&&this._forceFocus(l,s)}_takeFocus(){if(!this._focusTrap)return;const i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{!s&&"function"==typeof this._elementRef.nativeElement.focus&&i.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(i){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var s;const i=null==(s=this._doc)?void 0:s.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,s){i&&s&&(this._openedVia=s);const l=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),l}_setOpen(i,s,l){return this._opened=i,i?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",s&&this._restoreFocus(l)),this._updateFocusTrapState(),new Promise(d=>{this.openedChange.pipe(Ui(1)).subscribe(y=>d(y?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(i){this._animationStarted.next(i)}_animationDoneListener(i){this._animationEnd.next(i)}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(m8),ie(Qw),ie(xs),ie(Ji),ie(f8),ie(Mn,8),ie(tA,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,s){1&i&&o("@transform.start",function(d){return s._animationStartListener(d)})("@transform.done",function(d){return s._animationDoneListener(d)}),2&i&&(yn("align",null),su("@transform",s._animationState),gn("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:wC,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,s){1&i&&(E(),_e(0,"div",0),P(1),Me())},directives:[rC],encapsulation:2,data:{animation:[qI.transformDrawer]},changeDetection:0}),r})(),QI=(()=>{class r{constructor(i,s,l,d,y,A=!1,L){this._dir=i,this._element=s,this._ngZone=l,this._changeDetectorRef=d,this._animationMode=L,this._drawers=new Km,this.backdropClick=new Si,this._destroyed=new _,this._doCheckSubject=new _,this._contentMargins={left:null,right:null},this._contentMarginChanges=new _,i&&i.change.pipe(wr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),y.change().pipe(wr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=A}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=On(i)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(i){this._backdropOverride=null==i?null:On(i)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ql(this._allDrawers),wr(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ql(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(v2(10),wr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const l=this._left._getWidth();i+=l,s-=l}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const l=this._right._getWidth();s+=l,i-=l}i=i||null,s=s||null,(i!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:i,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(Do(s=>s.fromState!==s.toState),wr(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(wr(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){!i||i.onPositionChanged.pipe(wr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ui(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(wr(an(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const s=this._element.nativeElement.classList,l="mat-drawer-container-has-open";i?s.add(l):s.remove(l)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._canHaveBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(i){return"side"!==i.mode||!!this._backdropOverride}_isDrawerOpen(i){return null!=i&&i.opened}}return r.\u0275fac=function(i){return new(i||r)(ie(lc,8),ie(qi),ie(Ji),ie(co),ie(a_),ie(VY),ie(qc,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(i,s,l){if(1&i&&(Cr(l,_C,5),Cr(l,JI,5)),2&i){let d;Wi(d=Yi())&&(s._content=d.first),Wi(d=Yi())&&(s._allDrawers=d)}},viewQuery:function(i,s){if(1&i&&Or(_C,5),2&i){let l;Wi(l=Yi())&&(s._userContent=l.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,s){2&i&&gn("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Un([{provide:tA,useExisting:r}])],ngContentSelectors:RY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,s){1&i&&(E(IY),bi(0,TY,1,2,"div",0),P(1),P(2,1),bi(3,PY,2,0,"mat-drawer-content",1)),2&i&&(Ue("ngIf",s.hasBackdrop),$e(3),Ue("ngIf",!s._content))},directives:[Zl,_C],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),r})(),eA=(()=>{class r extends _C{constructor(i,s,l,d,y){super(i,s,l,d,y)}}return r.\u0275fac=function(i){return new(i||r)(ie(co),ie(Xe(()=>eR)),ie(qi),ie(nC),ie(Ji))},r.\u0275cmp=_i({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(i,s){2&i&&ya("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[zi],ngContentSelectors:wC,decls:1,vars:0,template:function(i,s){1&i&&(E(),P(0))},encapsulation:2,changeDetection:0}),r})(),tR=(()=>{class r extends JI{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(i){this._fixedInViewport=On(i)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(i){this._fixedTopGap=Kp(i)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(i){this._fixedBottomGap=Kp(i)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=_i({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(i,s){2&i&&(yn("align",null),ya("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),gn("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[zi],ngContentSelectors:wC,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(i,s){1&i&&(E(),_e(0,"div",0),P(1),Me())},directives:[rC],encapsulation:2,data:{animation:[qI.transformDrawer]},changeDetection:0}),r})(),eR=(()=>{class r extends QI{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=_i({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(i,s,l){if(1&i&&(Cr(l,eA,5),Cr(l,tR,5)),2&i){let d;Wi(d=Yi())&&(s._content=d.first),Wi(d=Yi())&&(s._allDrawers=d)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(i,s){2&i&&gn("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[Un([{provide:tA,useExisting:r}]),zi],ngContentSelectors:LY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(i,s){1&i&&(E(FY),bi(0,OY,1,2,"div",0),P(1),P(2,1),bi(3,NY,2,0,"mat-sidenav-content",1)),2&i&&(Ue("ngIf",s.hasBackdrop),$e(3),Ue("ngIf",!s._content))},directives:[Zl,eA,rC],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),r})(),HY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[Wc,cr,Hy,mg],mg,cr]}),r})();const zY=["*",[["mat-toolbar-row"]]],UY=["*","mat-toolbar-row"],GY=fg(class{constructor(r){this._elementRef=r}});let WY=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=li({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),YY=(()=>{class r extends GY{constructor(i,s,l){super(i),this._platform=s,this._document=l}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(xs),ie(Mn))},r.\u0275cmp=_i({type:r,selectors:[["mat-toolbar"]],contentQueries:function(i,s,l){if(1&i&&Cr(l,WY,5),2&i){let d;Wi(d=Yi())&&(s._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,s){2&i&&gn("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[zi],ngContentSelectors:UY,decls:2,vars:0,template:function(i,s){1&i&&(E(zY),P(0),P(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),$Y=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[cr],cr]}),r})(),iR=(()=>{class r{constructor(i,s){this.document=i,this.platformId=s,this.documentIsAccessible=jy(this.platformId)}static getCookieRegExp(i){const s=i.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+s+"|;\\s*"+s+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(i){try{return decodeURIComponent(i)}catch(s){return i}}check(i){return!!this.documentIsAccessible&&(i=encodeURIComponent(i),r.getCookieRegExp(i).test(this.document.cookie))}get(i){if(this.documentIsAccessible&&this.check(i)){i=encodeURIComponent(i);const l=r.getCookieRegExp(i).exec(this.document.cookie);return l[1]?r.safeDecodeURIComponent(l[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const i={},s=this.document;return s.cookie&&""!==s.cookie&&s.cookie.split(";").forEach(l=>{const[d,y]=l.split("=");i[r.safeDecodeURIComponent(d.replace(/^ /,""))]=r.safeDecodeURIComponent(y)}),i}set(i,s,l,d,y,A,L){if(!this.documentIsAccessible)return;if("number"==typeof l||l instanceof Date||d||y||A||L)return void this.set(i,s,{expires:l,path:d,domain:y,secure:A,sameSite:L||"Lax"});let tt=encodeURIComponent(i)+"="+encodeURIComponent(s)+";";const ft=l||{};ft.expires&&(tt+="number"==typeof ft.expires?"expires="+new Date((new Date).getTime()+1e3*ft.expires*60*60*24).toUTCString()+";":"expires="+ft.expires.toUTCString()+";"),ft.path&&(tt+="path="+ft.path+";"),ft.domain&&(tt+="domain="+ft.domain+";"),!1===ft.secure&&"None"===ft.sameSite&&(ft.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${i} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),ft.secure&&(tt+="secure;"),ft.sameSite||(ft.sameSite="Lax"),tt+="sameSite="+ft.sameSite+";",this.document.cookie=tt}delete(i,s,l,d,y="Lax"){if(!this.documentIsAccessible)return;const A=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(i,"",{expires:A,path:s,domain:l,secure:d,sameSite:y})}deleteAll(i,s,l,d="Lax"){if(!this.documentIsAccessible)return;const y=this.getAll();for(const A in y)y.hasOwnProperty(A)&&this.delete(A,i,s,l,d)}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn),Re(Zm))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const g_=xt(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function nR(){return K((r,n)=>{let i=null;r._refCount++;const s=new U(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(i=null);const l=r._connection,d=i;i=null,l&&(!d||l===d)&&l.unsubscribe(),n.unsubscribe()});r.subscribe(s),s.closed||(i=r.connect())})}class XY extends v{constructor(n,i){super(),this.source=n,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,C(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new M;const i=this.getSubject();n.add(this.source.subscribe(new U(i,void 0,()=>{this._teardown(),i.complete()},s=>{this._teardown(),i.error(s)},()=>this._teardown()))),n.closed&&(this._connection=null,n=M.EMPTY)}return n}refCount(){return nR()(this)}}function KY(r,n,i,s,l){return(d,y)=>{let A=i,L=n,tt=0;d.subscribe(new U(y,ft=>{const Et=tt++;L=A?r(L,ft,Et):(A=!0,ft),s&&y.next(L)},l&&(()=>{A&&y.next(L),y.complete()})))}}function rR(r,n){return K(KY(r,n,arguments.length>=2,!0))}function iA(r){return r<=0?()=>ye:K((n,i)=>{let s=[];n.subscribe(new U(i,l=>{s.push(l),r<s.length&&s.shift()},()=>{for(const l of s)i.next(l);i.complete()},void 0,()=>{s=null}))})}function oR(r=ZY){return K((n,i)=>{let s=!1;n.subscribe(new U(i,l=>{s=!0,i.next(l)},()=>s?i.complete():i.error(r())))})}function ZY(){return new g_}function sR(r){return K((n,i)=>{let s=!1;n.subscribe(new U(i,l=>{s=!0,i.next(l)},()=>{s||i.next(r),i.complete()}))})}function yg(r,n){const i=arguments.length>=2;return s=>s.pipe(r?Do((l,d)=>r(l,d,s)):k,Ui(1),i?sR(n):oR(()=>new g_))}class Md{constructor(n,i){this.id=n,this.url=i}}class nA extends Md{constructor(n,i,s="imperative",l=null){super(n,i),this.navigationTrigger=s,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class v_ extends Md{constructor(n,i,s){super(n,i),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class aR extends Md{constructor(n,i,s){super(n,i),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class JY extends Md{constructor(n,i,s){super(n,i),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QY extends Md{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t$ extends Md{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e$ extends Md{constructor(n,i,s,l,d){super(n,i),this.urlAfterRedirects=s,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i$ extends Md{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n$ extends Md{constructor(n,i,s,l){super(n,i),this.urlAfterRedirects=s,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lR{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hR{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class r${constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o${constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s${constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a${constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uR{constructor(n,i,s){this.routerEvent=n,this.position=i,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zn="primary";class l${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i[0]:i}return null}getAll(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function o1(r){return new l$(r)}const cR="ngNavigationCancelingError";function rA(r){const n=Error("NavigationCancelingError: "+r);return n[cR]=!0,n}function u$(r,n,i){const s=i.path.split("/");if(s.length>r.length||"full"===i.pathMatch&&(n.hasChildren()||s.length<r.length))return null;const l={};for(let d=0;d<s.length;d++){const y=s[d],A=r[d];if(y.startsWith(":"))l[y.substring(1)]=A;else if(y!==A.path)return null}return{consumed:r.slice(0,s.length),posParams:l}}function Jc(r,n){const i=r?Object.keys(r):void 0,s=n?Object.keys(n):void 0;if(!i||!s||i.length!=s.length)return!1;let l;for(let d=0;d<i.length;d++)if(l=i[d],!fR(r[l],n[l]))return!1;return!0}function fR(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const i=[...r].sort(),s=[...n].sort();return i.every((l,d)=>s[d]===l)}return r===n}function dR(r){return Array.prototype.concat.apply([],r)}function pR(r){return r.length>0?r[r.length-1]:null}function Ma(r,n){for(const i in r)r.hasOwnProperty(i)&&n(r[i],i)}function Qc(r){return t(r)?r:Bc(r)?rn(Promise.resolve(r)):Qi(r)}const d$={exact:function vR(r,n,i){if(!wg(r.segments,n.segments)||!bC(r.segments,n.segments,i)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!r.children[s]||!vR(r.children[s],n.children[s],i))return!1;return!0},subset:yR},mR={exact:function(r,n){return Jc(r,n)},subset:function(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(i=>fR(r[i],n[i]))},ignored:()=>!0};function gR(r,n,i){return d$[i.paths](r.root,n.root,i.matrixParams)&&mR[i.queryParams](r.queryParams,n.queryParams)&&!("exact"===i.fragment&&r.fragment!==n.fragment)}function yR(r,n,i){return xR(r,n,n.segments,i)}function xR(r,n,i,s){if(r.segments.length>i.length){const l=r.segments.slice(0,i.length);return!(!wg(l,i)||n.hasChildren()||!bC(l,i,s))}if(r.segments.length===i.length){if(!wg(r.segments,i)||!bC(r.segments,i,s))return!1;for(const l in n.children)if(!r.children[l]||!yR(r.children[l],n.children[l],s))return!1;return!0}{const l=i.slice(0,r.segments.length),d=i.slice(r.segments.length);return!!(wg(r.segments,l)&&bC(r.segments,l,s)&&r.children[Zn])&&xR(r.children[Zn],n,d,s)}}function bC(r,n,i){return n.every((s,l)=>mR[i](r[l].parameters,s.parameters))}class xg{constructor(n,i,s){this.root=n,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=o1(this.queryParams)),this._queryParamMap}toString(){return y$.serialize(this)}}class or{constructor(n,i){this.segments=n,this.children=i,this.parent=null,Ma(i,(s,l)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return MC(this)}}class y_{constructor(n,i){this.path=n,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=o1(this.parameters)),this._parameterMap}toString(){return CR(this)}}function wg(r,n){return r.length===n.length&&r.every((i,s)=>i.path===n[s].path)}class wR{}class _R{parse(n){const i=new E$(n);return new xg(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(n){const i=`/${x_(n.root,!0)}`,s=function(r){const n=Object.keys(r).map(i=>{const s=r[i];return Array.isArray(s)?s.map(l=>`${CC(i)}=${CC(l)}`).join("&"):`${CC(i)}=${CC(s)}`}).filter(i=>!!i);return n.length?`?${n.join("&")}`:""}(n.queryParams);var r;return`${i}${s}${"string"==typeof n.fragment?`#${r=n.fragment,encodeURI(r)}`:""}`}}const y$=new _R;function MC(r){return r.segments.map(n=>CR(n)).join("/")}function x_(r,n){if(!r.hasChildren())return MC(r);if(n){const i=r.children[Zn]?x_(r.children[Zn],!1):"",s=[];return Ma(r.children,(l,d)=>{d!==Zn&&s.push(`${d}:${x_(l,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}{const i=function(r,n){let i=[];return Ma(r.children,(s,l)=>{l===Zn&&(i=i.concat(n(s,l)))}),Ma(r.children,(s,l)=>{l!==Zn&&(i=i.concat(n(s,l)))}),i}(r,(s,l)=>l===Zn?[x_(r.children[Zn],!1)]:[`${l}:${x_(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Zn]?`${MC(r)}/${i[0]}`:`${MC(r)}/(${i.join("//")})`}}function bR(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function CC(r){return bR(r).replace(/%3B/gi,";")}function oA(r){return bR(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function SC(r){return decodeURIComponent(r)}function MR(r){return SC(r.replace(/\+/g,"%20"))}function CR(r){return`${oA(r.path)}${function(r){return Object.keys(r).map(n=>`;${oA(n)}=${oA(r[n])}`).join("")}(r.parameters)}`}const b$=/^[^\/()?;=#]+/;function DC(r){const n=r.match(b$);return n?n[0]:""}const M$=/^[^=?&#]+/,S$=/^[^&#]+/;class E${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new or([],{}):new or([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(i).length>0)&&(s[Zn]=new or(n,i)),s}parseSegment(){const n=DC(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new y_(SC(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const i=DC(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const l=DC(this.remaining);l&&(s=l,this.capture(s))}n[SC(i)]=SC(s)}parseQueryParam(n){const i=function(r){const n=r.match(M$);return n?n[0]:""}(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const y=function(r){const n=r.match(S$);return n?n[0]:""}(this.remaining);y&&(s=y,this.capture(s))}const l=MR(i),d=MR(s);if(n.hasOwnProperty(l)){let y=n[l];Array.isArray(y)||(y=[y],n[l]=y),y.push(d)}else n[l]=d}parseParens(n){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=DC(this.remaining),l=this.remaining[s.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=Zn);const y=this.parseChildren();i[d]=1===Object.keys(y).length?y[Zn]:new or([],y),this.consumeOptional("//")}return i}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class SR{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const i=this.pathFromRoot(n);return i.length>1?i[i.length-2]:null}children(n){const i=sA(n,this._root);return i?i.children.map(s=>s.value):[]}firstChild(n){const i=sA(n,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(n){const i=aA(n,this._root);return i.length<2?[]:i[i.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return aA(n,this._root).map(i=>i.value)}}function sA(r,n){if(r===n.value)return n;for(const i of n.children){const s=sA(r,i);if(s)return s}return null}function aA(r,n){if(r===n.value)return[n];for(const i of n.children){const s=aA(r,i);if(s.length)return s.unshift(n),s}return[]}class Cd{constructor(n,i){this.value=n,this.children=i}toString(){return`TreeNode(${this.value})`}}function s1(r){const n={};return r&&r.children.forEach(i=>n[i.value.outlet]=i),n}class DR extends SR{constructor(n,i){super(n),this.snapshot=i,lA(this,n)}toString(){return this.snapshot.toString()}}function ER(r,n){const i=function(r,n){const y=new EC([],{},{},"",{},Zn,n,null,r.root,-1,{});return new AR("",new Cd(y,[]))}(r,n),s=new Ql([new y_("",{})]),l=new Ql({}),d=new Ql({}),y=new Ql({}),A=new Ql(""),L=new tf(s,l,y,A,d,Zn,n,i.root);return L.snapshot=i.root,new DR(new Cd(L,[]),i)}class tf{constructor(n,i,s,l,d,y,A,L){this.url=n,this.params=i,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=y,this.component=A,this._futureSnapshot=L}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(W(n=>o1(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W(n=>o1(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kR(r,n="emptyOnly"){const i=r.pathFromRoot;let s=0;if("always"!==n)for(s=i.length-1;s>=1;){const l=i[s],d=i[s-1];if(l.routeConfig&&""===l.routeConfig.path)s--;else{if(d.component)break;s--}}return function(r){return r.reduce((n,i)=>({params:vi(vi({},n.params),i.params),data:vi(vi({},n.data),i.data),resolve:vi(vi({},n.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(s))}class EC{constructor(n,i,s,l,d,y,A,L,tt,ft,Et){this.url=n,this.params=i,this.queryParams=s,this.fragment=l,this.data=d,this.outlet=y,this.component=A,this.routeConfig=L,this._urlSegment=tt,this._lastPathIndex=ft,this._resolve=Et}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=o1(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=o1(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AR extends SR{constructor(n,i){super(i),this.url=n,lA(this,i)}toString(){return TR(this._root)}}function lA(r,n){n.value._routerState=r,n.children.forEach(i=>lA(r,i))}function TR(r){const n=r.children.length>0?` { ${r.children.map(TR).join(", ")} } `:"";return`${r.value}${n}`}function hA(r){if(r.snapshot){const n=r.snapshot,i=r._futureSnapshot;r.snapshot=i,Jc(n.queryParams,i.queryParams)||r.queryParams.next(i.queryParams),n.fragment!==i.fragment&&r.fragment.next(i.fragment),Jc(n.params,i.params)||r.params.next(i.params),function(r,n){if(r.length!==n.length)return!1;for(let i=0;i<r.length;++i)if(!Jc(r[i],n[i]))return!1;return!0}(n.url,i.url)||r.url.next(i.url),Jc(n.data,i.data)||r.data.next(i.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function uA(r,n){const i=Jc(r.params,n.params)&&function(r,n){return wg(r,n)&&r.every((i,s)=>Jc(i.parameters,n[s].parameters))}(r.url,n.url);return i&&!(!r.parent!=!n.parent)&&(!r.parent||uA(r.parent,n.parent))}function w_(r,n,i){if(i&&r.shouldReuseRoute(n.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=n.value;const l=function(r,n,i){return n.children.map(s=>{for(const l of i.children)if(r.shouldReuseRoute(s.value,l.value.snapshot))return w_(r,s,l);return w_(r,s)})}(r,n,i);return new Cd(s,l)}{if(r.shouldAttach(n.value)){const d=r.retrieve(n.value);if(null!==d){const y=d.route;return y.value._futureSnapshot=n.value,y.children=n.children.map(A=>w_(r,A)),y}}const s=function(r){return new tf(new Ql(r.url),new Ql(r.params),new Ql(r.queryParams),new Ql(r.fragment),new Ql(r.data),r.outlet,r.component,r)}(n.value),l=n.children.map(d=>w_(r,d));return new Cd(s,l)}}function kC(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function __(r){return"object"==typeof r&&null!=r&&r.outlets}function cA(r,n,i,s,l){let d={};return s&&Ma(s,(y,A)=>{d[A]=Array.isArray(y)?y.map(L=>`${L}`):`${y}`}),new xg(i.root===r?n:PR(i.root,r,n),d,l)}function PR(r,n,i){const s={};return Ma(r.children,(l,d)=>{s[d]=l===n?i:PR(l,n,i)}),new or(r.segments,s)}class IR{constructor(n,i,s){if(this.isAbsolute=n,this.numberOfDoubleDots=i,this.commands=s,n&&s.length>0&&kC(s[0]))throw new Error("Root segment cannot have matrix parameters");const l=s.find(__);if(l&&l!==pR(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fA{constructor(n,i,s){this.segmentGroup=n,this.processChildren=i,this.index=s}}function RR(r,n,i){if(r||(r=new or([],{})),0===r.segments.length&&r.hasChildren())return AC(r,n,i);const s=function(r,n,i){let s=0,l=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<r.segments.length;){if(s>=i.length)return d;const y=r.segments[l],A=i[s];if(__(A))break;const L=`${A}`,tt=s<i.length-1?i[s+1]:null;if(l>0&&void 0===L)break;if(L&&tt&&"object"==typeof tt&&void 0===tt.outlets){if(!NR(L,tt,y))return d;s+=2}else{if(!NR(L,{},y))return d;s++}l++}return{match:!0,pathIndex:l,commandIndex:s}}(r,n,i),l=i.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const d=new or(r.segments.slice(0,s.pathIndex),{});return d.children[Zn]=new or(r.segments.slice(s.pathIndex),r.children),AC(d,0,l)}return s.match&&0===l.length?new or(r.segments,{}):s.match&&!r.hasChildren()?dA(r,n,i):s.match?AC(r,0,l):dA(r,n,i)}function AC(r,n,i){if(0===i.length)return new or(r.segments,{});{const s=function(r){return __(r[0])?r[0].outlets:{[Zn]:r}}(i),l={};return Ma(s,(d,y)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[y]=RR(r.children[y],n,d))}),Ma(r.children,(d,y)=>{void 0===s[y]&&(l[y]=d)}),new or(r.segments,l)}}function dA(r,n,i){const s=r.segments.slice(0,n);let l=0;for(;l<i.length;){const d=i[l];if(__(d)){const L=V$(d.outlets);return new or(s,L)}if(0===l&&kC(i[0])){s.push(new y_(r.segments[n].path,OR(i[0]))),l++;continue}const y=__(d)?d.outlets[Zn]:`${d}`,A=l<i.length-1?i[l+1]:null;y&&A&&kC(A)?(s.push(new y_(y,OR(A))),l+=2):(s.push(new y_(y,{})),l++)}return new or(s,{})}function V$(r){const n={};return Ma(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(n[s]=dA(new or([],{}),0,i))}),n}function OR(r){const n={};return Ma(r,(i,s)=>n[s]=`${i}`),n}function NR(r,n,i){return r==i.path&&Jc(n,i.parameters)}class H${constructor(n,i,s,l){this.routeReuseStrategy=n,this.futureState=i,this.currState=s,this.forwardEvent=l}activate(n){const i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,n),hA(this.futureState.root),this.activateChildRoutes(i,s,n)}deactivateChildRoutes(n,i,s){const l=s1(i);n.children.forEach(d=>{const y=d.value.outlet;this.deactivateRoutes(d,l[y],s),delete l[y]}),Ma(l,(d,y)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,i,s){const l=n.value,d=i?i.value:null;if(l===d)if(l.component){const y=s.getContext(l.outlet);y&&this.deactivateChildRoutes(n,i,y.children)}else this.deactivateChildRoutes(n,i,s);else d&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(n,i){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,i):this.deactivateRouteAndOutlet(n,i)}detachAndStoreRouteSubtree(n,i){const s=i.getContext(n.value.outlet),l=s&&n.value.component?s.children:i,d=s1(n);for(const y of Object.keys(d))this.deactivateRouteAndItsChildren(d[y],l);if(s&&s.outlet){const y=s.outlet.detach(),A=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:y,route:n,contexts:A})}}deactivateRouteAndOutlet(n,i){const s=i.getContext(n.value.outlet),l=s&&n.value.component?s.children:i,d=s1(n);for(const y of Object.keys(d))this.deactivateRouteAndItsChildren(d[y],l);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,i,s){const l=s1(i);n.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],s),this.forwardEvent(new a$(d.value.snapshot))}),n.children.length&&this.forwardEvent(new o$(n.value.snapshot))}activateRoutes(n,i,s){const l=n.value,d=i?i.value:null;if(hA(l),l===d)if(l.component){const y=s.getOrCreateContext(l.outlet);this.activateChildRoutes(n,i,y.children)}else this.activateChildRoutes(n,i,s);else if(l.component){const y=s.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const A=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),y.children.onOutletReAttached(A.contexts),y.attachRef=A.componentRef,y.route=A.route.value,y.outlet&&y.outlet.attach(A.componentRef,A.route.value),hA(A.route.value),this.activateChildRoutes(n,null,y.children)}else{const A=function(r){for(let n=r.parent;n;n=n.parent){const i=n.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(l.snapshot),L=A?A.module.componentFactoryResolver:null;y.attachRef=null,y.route=l,y.resolver=L,y.outlet&&y.outlet.activateWith(l,L),this.activateChildRoutes(n,null,y.children)}}else this.activateChildRoutes(n,null,s)}}class pA{constructor(n,i){this.routes=n,this.module=i}}function a0(r){return"function"==typeof r}function _g(r){return r instanceof xg}const b_=Symbol("INITIAL_VALUE");function M_(){return ja(r=>K4(r.map(n=>n.pipe(Ui(1),ql(b_)))).pipe(rR((n,i)=>{let s=!1;return i.reduce((l,d,y)=>l!==b_?l:(d===b_&&(s=!0),s||!1!==d&&y!==i.length-1&&!_g(d)?l:d),n)},b_),Do(n=>n!==b_),W(n=>_g(n)?n:!0===n),Ui(1)))}class X${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new C_,this.attachRef=null}}class C_{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new X$,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}let mA=(()=>{class r{constructor(i,s,l,d,y){this.parentContexts=i,this.location=s,this.resolver=l,this.changeDetector=y,this.activated=null,this._activatedRoute=null,this.activateEvents=new Si,this.deactivateEvents=new Si,this.attachEvents=new Si,this.detachEvents=new Si,this.name=d||Zn,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const y=(s=s||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),A=this.parentContexts.getOrCreateContext(this.name).children,L=new K$(i,A,this.location.injector);this.activated=this.location.createComponent(y,this.location.length,L),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(i){return new(i||r)(ie(C_),ie(ml),ie(hd),El("name"),ie(co))},r.\u0275dir=li({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class K${constructor(n,i,s){this.route=n,this.childContexts=i,this.parent=s}get(n,i){return n===tf?this.route:n===C_?this.childContexts:this.parent.get(n,i)}}let FR=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_i({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,s){1&i&&Oi(0,"router-outlet")},directives:[mA],encapsulation:2}),r})();function LR(r,n=""){for(let i=0;i<r.length;i++){const s=r[i];Z$(s,q$(n,s))}}function Z$(r,n){r.children&&LR(r.children,n)}function q$(r,n){return n?r||n.path?r&&!n.path?`${r}/`:!r&&n.path?n.path:`${r}/${n.path}`:"":r}function gA(r){const n=r.children&&r.children.map(gA),i=n?bs(vi({},r),{children:n}):vi({},r);return!i.component&&(n||i.loadChildren)&&i.outlet&&i.outlet!==Zn&&(i.component=FR),i}function vu(r){return r.outlet||Zn}function BR(r,n){const i=r.filter(s=>vu(s)===n);return i.push(...r.filter(s=>vu(s)!==n)),i}const VR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function TC(r,n,i){var A;if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||i.length>0)?vi({},VR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(n.matcher||u$)(i,r,n);if(!l)return vi({},VR);const d={};Ma(l.posParams,(L,tt)=>{d[tt]=L.path});const y=l.consumed.length>0?vi(vi({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:y,positionalParamSegments:null!=(A=l.posParams)?A:{}}}function PC(r,n,i,s,l="corrected"){if(i.length>0&&function(r,n,i){return i.some(s=>IC(r,n,s)&&vu(s)!==Zn)}(r,i,s)){const y=new or(n,function(r,n,i,s){const l={};l[Zn]=s,s._sourceSegment=r,s._segmentIndexShift=n.length;for(const d of i)if(""===d.path&&vu(d)!==Zn){const y=new or([],{});y._sourceSegment=r,y._segmentIndexShift=n.length,l[vu(d)]=y}return l}(r,n,s,new or(i,r.children)));return y._sourceSegment=r,y._segmentIndexShift=n.length,{segmentGroup:y,slicedSegments:[]}}if(0===i.length&&function(r,n,i){return i.some(s=>IC(r,n,s))}(r,i,s)){const y=new or(r.segments,function(r,n,i,s,l,d){const y={};for(const A of s)if(IC(r,i,A)&&!l[vu(A)]){const L=new or([],{});L._sourceSegment=r,L._segmentIndexShift="legacy"===d?r.segments.length:n.length,y[vu(A)]=L}return vi(vi({},l),y)}(r,n,i,s,r.children,l));return y._sourceSegment=r,y._segmentIndexShift=n.length,{segmentGroup:y,slicedSegments:i}}const d=new or(r.segments,r.children);return d._sourceSegment=r,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:i}}function IC(r,n,i){return(!(r.hasChildren()||n.length>0)||"full"!==i.pathMatch)&&""===i.path}function jR(r,n,i,s){return!!(vu(r)===s||s!==Zn&&IC(n,i,r))&&("**"===r.path||TC(n,r,i).matched)}function HR(r,n,i){return 0===n.length&&!r.children[i]}class S_{constructor(n){this.segmentGroup=n||null}}class zR{constructor(n){this.urlTree=n}}function RC(r){return new v(n=>n.error(new S_(r)))}function UR(r){return new v(n=>n.error(new zR(r)))}function iX(r){return new v(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class oX{constructor(n,i,s,l,d){this.configLoader=i,this.urlSerializer=s,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(Uc)}apply(){const n=PC(this.urlTree.root,[],[],this.config).segmentGroup,i=new or(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Zn).pipe(W(d=>this.createUrlTree(vA(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_d(d=>{if(d instanceof zR)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof S_?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,Zn).pipe(W(l=>this.createUrlTree(vA(l),n.queryParams,n.fragment))).pipe(_d(l=>{throw l instanceof S_?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,i,s){const l=n.segments.length>0?new or([],{[Zn]:n}):n;return new xg(l,i,s)}expandSegmentGroup(n,i,s,l){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,i,s).pipe(W(d=>new or([],d))):this.expandSegment(n,s,i,s.segments,l,!0)}expandChildren(n,i,s){const l=[];for(const d of Object.keys(s.children))"primary"===d?l.unshift(d):l.push(d);return rn(l).pipe(e1(d=>{const y=s.children[d],A=BR(i,d);return this.expandSegmentGroup(n,A,y,d).pipe(W(L=>({segment:L,outlet:d})))}),rR((d,y)=>(d[y.outlet]=y.segment,d),{}),function(r,n){const i=arguments.length>=2;return s=>s.pipe(r?Do((l,d)=>r(l,d,s)):k,iA(1),i?sR(n):oR(()=>new g_))}())}expandSegment(n,i,s,l,d,y){return rn(s).pipe(e1(A=>this.expandSegmentAgainstRoute(n,i,s,A,l,d,y).pipe(_d(tt=>{if(tt instanceof S_)return Qi(null);throw tt}))),yg(A=>!!A),_d((A,L)=>{if(A instanceof g_||"EmptyError"===A.name){if(HR(i,l,d))return Qi(new or([],{}));throw new S_(i)}throw A}))}expandSegmentAgainstRoute(n,i,s,l,d,y,A){return jR(l,i,d,y)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,i,l,d,y):A&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,s,l,d,y):RC(i):RC(i)}expandSegmentAgainstRouteUsingRedirect(n,i,s,l,d,y){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,l,y):this.expandRegularSegmentAgainstRouteUsingRedirect(n,i,s,l,d,y)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,s,l){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?UR(d):this.lineralizeSegments(s,d).pipe(Ut(y=>{const A=new or(y,{});return this.expandSegment(n,A,i,y,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,i,s,l,d,y){const{matched:A,consumedSegments:L,lastChild:tt,positionalParamSegments:ft}=TC(i,l,d);if(!A)return RC(i);const Et=this.applyRedirectCommands(L,l.redirectTo,ft);return l.redirectTo.startsWith("/")?UR(Et):this.lineralizeSegments(l,Et).pipe(Ut(Ft=>this.expandSegment(n,i,s,Ft.concat(d.slice(tt)),y,!1)))}matchSegmentAgainstRoute(n,i,s,l,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?Qi(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe(W(Ft=>(s._loadedConfig=Ft,new or(l,{})))):Qi(new or(l,{}));const{matched:y,consumedSegments:A,lastChild:L}=TC(i,s,l);if(!y)return RC(i);const tt=l.slice(L);return this.getChildConfig(n,s,l).pipe(Ut(Et=>{const Ft=Et.module,zt=Et.routes,{segmentGroup:Xt,slicedSegments:ce}=PC(i,A,tt,zt),de=new or(Xt.segments,Xt.children);if(0===ce.length&&de.hasChildren())return this.expandChildren(Ft,zt,de).pipe(W(ai=>new or(A,ai)));if(0===zt.length&&0===ce.length)return Qi(new or(A,{}));const Ie=vu(s)===d;return this.expandSegment(Ft,de,zt,ce,Ie?Zn:d,!0).pipe(W(Ze=>new or(A.concat(Ze.segments),Ze.children)))}))}getChildConfig(n,i,s){return i.children?Qi(new pA(i.children,n)):i.loadChildren?void 0!==i._loadedConfig?Qi(i._loadedConfig):this.runCanLoadGuards(n.injector,i,s).pipe(Ut(l=>{return l?this.configLoader.load(n.injector,i).pipe(W(d=>(i._loadedConfig=d,d))):(r=i,new v(n=>n.error(rA(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):Qi(new pA([],n))}runCanLoadGuards(n,i,s){const l=i.canLoad;return l&&0!==l.length?Qi(l.map(y=>{const A=n.get(y);let L;if((r=A)&&a0(r.canLoad))L=A.canLoad(i,s);else{if(!a0(A))throw new Error("Invalid CanLoad guard");L=A(i,s)}var r;return Qc(L)})).pipe(M_(),os(y=>{if(!_g(y))return;const A=rA(`Redirecting to "${this.urlSerializer.serialize(y)}"`);throw A.url=y,A}),W(y=>!0===y)):Qi(!0)}lineralizeSegments(n,i){let s=[],l=i.root;for(;;){if(s=s.concat(l.segments),0===l.numberOfChildren)return Qi(s);if(l.numberOfChildren>1||!l.children[Zn])return iX(n.redirectTo);l=l.children[Zn]}}applyRedirectCommands(n,i,s){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),n,s)}applyRedirectCreatreUrlTree(n,i,s,l){const d=this.createSegmentGroup(n,i.root,s,l);return new xg(d,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(n,i){const s={};return Ma(n,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const A=l.substring(1);s[d]=i[A]}else s[d]=l}),s}createSegmentGroup(n,i,s,l){const d=this.createSegments(n,i.segments,s,l);let y={};return Ma(i.children,(A,L)=>{y[L]=this.createSegmentGroup(n,A,s,l)}),new or(d,y)}createSegments(n,i,s,l){return i.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,l):this.findOrReturn(d,s))}findPosParam(n,i,s){const l=s[i.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${i.path}'.`);return l}findOrReturn(n,i){let s=0;for(const l of i){if(l.path===n.path)return i.splice(s),l;s++}return n}}function vA(r){const n={};for(const s of Object.keys(r.children)){const d=vA(r.children[s]);(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function(r){if(1===r.numberOfChildren&&r.children[Zn]){const n=r.children[Zn];return new or(r.segments.concat(n.segments),n.children)}return r}(new or(r.segments,n))}class GR{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class OC{constructor(n,i){this.component=n,this.route=i}}function lX(r,n,i){const s=r._root;return D_(s,n?n._root:null,i,[s.value])}function NC(r,n,i){const s=function(r){if(!r)return null;for(let n=r.parent;n;n=n.parent){const i=n.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(n);return(s?s.module.injector:i).get(r)}function D_(r,n,i,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=s1(n);return r.children.forEach(y=>{(function(r,n,i,s,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=r.value,y=n?n.value:null,A=i?i.getContext(r.value.outlet):null;if(y&&d.routeConfig===y.routeConfig){const L=function(r,n,i){if("function"==typeof i)return i(r,n);switch(i){case"pathParamsChange":return!wg(r.url,n.url);case"pathParamsOrQueryParamsChange":return!wg(r.url,n.url)||!Jc(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uA(r,n)||!Jc(r.queryParams,n.queryParams);default:return!uA(r,n)}}(y,d,d.routeConfig.runGuardsAndResolvers);L?l.canActivateChecks.push(new GR(s)):(d.data=y.data,d._resolvedData=y._resolvedData),D_(r,n,d.component?A?A.children:null:i,s,l),L&&A&&A.outlet&&A.outlet.isActivated&&l.canDeactivateChecks.push(new OC(A.outlet.component,y))}else y&&E_(n,A,l),l.canActivateChecks.push(new GR(s)),D_(r,null,d.component?A?A.children:null:i,s,l)})(y,d[y.value.outlet],i,s.concat([y.value]),l),delete d[y.value.outlet]}),Ma(d,(y,A)=>E_(y,i.getContext(A),l)),l}function E_(r,n,i){const s=s1(r),l=r.value;Ma(s,(d,y)=>{E_(d,l.component?n?n.children.getContext(y):null:n,i)}),i.canDeactivateChecks.push(new OC(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class _X{}function WR(r){return new v(n=>n.error(r))}class MX{constructor(n,i,s,l,d,y){this.rootComponentType=n,this.config=i,this.urlTree=s,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=y}recognize(){const n=PC(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,n,Zn);if(null===i)return null;const s=new EC([],Object.freeze({}),Object.freeze(vi({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zn,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Cd(s,i),d=new AR(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const i=n.value,s=kR(i,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,i):this.processSegment(n,i,i.segments,s)}processChildren(n,i){const s=[];for(const d of Object.keys(i.children)){const y=i.children[d],A=BR(n,d),L=this.processSegmentGroup(A,y,d);if(null===L)return null;s.push(...L)}const l=YR(s);return l.sort((n,i)=>n.value.outlet===Zn?-1:i.value.outlet===Zn?1:n.value.outlet.localeCompare(i.value.outlet)),l}processSegment(n,i,s,l){for(const d of n){const y=this.processSegmentAgainstRoute(d,i,s,l);if(null!==y)return y}return HR(i,s,l)?[]:null}processSegmentAgainstRoute(n,i,s,l){if(n.redirectTo||!jR(n,i,s,l))return null;let d,y=[],A=[];if("**"===n.path){const zt=s.length>0?pR(s).parameters:{};d=new EC(s,zt,Object.freeze(vi({},this.urlTree.queryParams)),this.urlTree.fragment,KR(n),vu(n),n.component,n,$R(i),XR(i)+s.length,ZR(n))}else{const zt=TC(i,n,s);if(!zt.matched)return null;y=zt.consumedSegments,A=s.slice(zt.lastChild),d=new EC(y,zt.parameters,Object.freeze(vi({},this.urlTree.queryParams)),this.urlTree.fragment,KR(n),vu(n),n.component,n,$R(i),XR(i)+y.length,ZR(n))}const L=(r=n).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:tt,slicedSegments:ft}=PC(i,y,A,L.filter(zt=>void 0===zt.redirectTo),this.relativeLinkResolution);var r;if(0===ft.length&&tt.hasChildren()){const zt=this.processChildren(L,tt);return null===zt?null:[new Cd(d,zt)]}if(0===L.length&&0===ft.length)return[new Cd(d,[])];const Et=vu(n)===l,Ft=this.processSegment(L,tt,ft,Et?Zn:l);return null===Ft?null:[new Cd(d,Ft)]}}function DX(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function YR(r){const n=[],i=new Set;for(const s of r){if(!DX(s)){n.push(s);continue}const l=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...s.children),i.add(l)):n.push(s)}for(const s of i){const l=YR(s.children);n.push(new Cd(s.value,l))}return n.filter(s=>!i.has(s))}function $R(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function XR(r){let n=r,i=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,i+=n._segmentIndexShift?n._segmentIndexShift:0;return i-1}function KR(r){return r.data||{}}function ZR(r){return r.resolve||{}}function yA(r){return ja(n=>{const i=r(n);return i?rn(i).pipe(W(()=>n)):Qi(n)})}class OX extends class{shouldDetach(n){return!1}store(n,i){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,i){return n.routeConfig===i.routeConfig}}{}const xA=new ui("ROUTES");class qR{constructor(n,i,s,l){this.injector=n,this.compiler=i,this.onLoadStartListener=s,this.onLoadEndListener=l}load(n,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const l=this.loadModuleFactory(i.loadChildren).pipe(W(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);const y=d.create(n);return new pA(dR(y.injector.get(xA,void 0,Zi.Self|Zi.Optional)).map(gA),y)}),_d(d=>{throw i._loader$=void 0,d}));return i._loader$=new XY(l,()=>new _).pipe(nR()),i._loader$}loadModuleFactory(n){return Qc(n()).pipe(Ut(i=>i instanceof v3?Qi(i):rn(this.compiler.compileModuleAsync(i))))}}class FX{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}function LX(r){throw r}function BX(r,n,i){return n.parse("/")}function JR(r,n){return Qi(null)}const VX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let na=(()=>{class r{constructor(i,s,l,d,y,A,L){this.rootComponentType=i,this.urlSerializer=s,this.rootContexts=l,this.location=d,this.config=L,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _,this.errorHandler=LX,this.malformedUriErrorHandler=BX,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:JR,afterPreactivation:JR},this.urlHandlingStrategy=new FX,this.routeReuseStrategy=new OX,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=y.get(Uc),this.console=y.get(NM);const Et=y.get(Ji);this.isNgZoneEnabled=Et instanceof Ji&&Ji.isInAngularZone(),this.resetConfig(L),this.currentUrlTree=new xg(new or([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qR(y,A,Ft=>this.triggerEvent(new lR(Ft)),Ft=>this.triggerEvent(new hR(Ft))),this.routerState=ER(this.currentUrlTree,this.rootComponentType),this.transitions=new Ql({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null==(i=this.location.getState())?void 0:i.\u0275routerPageId}setupNavigations(i){const s=this.events;return i.pipe(Do(l=>0!==l.id),W(l=>bs(vi({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),ja(l=>{let d=!1,y=!1;return Qi(l).pipe(os(A=>{this.currentNavigation={id:A.id,initialUrl:A.currentRawUrl,extractedUrl:A.extractedUrl,trigger:A.source,extras:A.extras,previousNavigation:this.lastSuccessfulNavigation?bs(vi({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ja(A=>{const L=this.browserUrlTree.toString(),tt=!this.navigated||A.extractedUrl.toString()!==L||L!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||tt)&&this.urlHandlingStrategy.shouldProcessUrl(A.rawUrl))return FC(A.source)&&(this.browserUrlTree=A.extractedUrl),Qi(A).pipe(ja(Et=>{const Ft=this.transitions.getValue();return s.next(new nA(Et.id,this.serializeUrl(Et.extractedUrl),Et.source,Et.restoredState)),Ft!==this.transitions.getValue()?ye:Promise.resolve(Et)}),function(r,n,i,s){return ja(l=>function(r,n,i,s,l){return new oX(r,n,i,s,l).apply()}(r,n,i,l.extractedUrl,s).pipe(W(d=>bs(vi({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),os(Et=>{this.currentNavigation=bs(vi({},this.currentNavigation),{finalUrl:Et.urlAfterRedirects})}),function(r,n,i,s,l){return Ut(d=>function(r,n,i,s,l="emptyOnly",d="legacy"){try{const y=new MX(r,n,i,s,l,d).recognize();return null===y?WR(new _X):Qi(y)}catch(y){return WR(y)}}(r,n,d.urlAfterRedirects,i(d.urlAfterRedirects),s,l).pipe(W(y=>bs(vi({},d),{targetSnapshot:y}))))}(this.rootComponentType,this.config,Et=>this.serializeUrl(Et),this.paramsInheritanceStrategy,this.relativeLinkResolution),os(Et=>{if("eager"===this.urlUpdateStrategy){if(!Et.extras.skipLocationChange){const zt=this.urlHandlingStrategy.merge(Et.urlAfterRedirects,Et.rawUrl);this.setBrowserUrl(zt,Et)}this.browserUrlTree=Et.urlAfterRedirects}const Ft=new QY(Et.id,this.serializeUrl(Et.extractedUrl),this.serializeUrl(Et.urlAfterRedirects),Et.targetSnapshot);s.next(Ft)}));if(tt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ft,extractedUrl:zt,source:Xt,restoredState:ce,extras:de}=A,Ie=new nA(Ft,this.serializeUrl(zt),Xt,ce);s.next(Ie);const Pe=ER(zt,this.rootComponentType).snapshot;return Qi(bs(vi({},A),{targetSnapshot:Pe,urlAfterRedirects:zt,extras:bs(vi({},de),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=A.rawUrl,A.resolve(null),ye}),yA(A=>{const{targetSnapshot:L,id:tt,extractedUrl:ft,rawUrl:Et,extras:{skipLocationChange:Ft,replaceUrl:zt}}=A;return this.hooks.beforePreactivation(L,{navigationId:tt,appliedUrlTree:ft,rawUrlTree:Et,skipLocationChange:!!Ft,replaceUrl:!!zt})}),os(A=>{const L=new t$(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(L)}),W(A=>bs(vi({},A),{guards:lX(A.targetSnapshot,A.currentSnapshot,this.rootContexts)})),function(r,n){return Ut(i=>{const{targetSnapshot:s,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:y}}=i;return 0===y.length&&0===d.length?Qi(bs(vi({},i),{guardsResult:!0})):function(r,n,i,s){return rn(r).pipe(Ut(l=>function(r,n,i,s,l){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return d&&0!==d.length?Qi(d.map(A=>{const L=NC(A,n,l);let tt;if(function(r){return r&&a0(r.canDeactivate)}(L))tt=Qc(L.canDeactivate(r,n,i,s));else{if(!a0(L))throw new Error("Invalid CanDeactivate guard");tt=Qc(L(r,n,i,s))}return tt.pipe(yg())})).pipe(M_()):Qi(!0)}(l.component,l.route,i,n,s)),yg(l=>!0!==l,!0))}(y,s,l,r).pipe(Ut(A=>A&&function(r){return"boolean"==typeof r}(A)?function(r,n,i,s){return rn(n).pipe(e1(l=>Vw(function(r,n){return null!==r&&n&&n(new r$(r)),Qi(!0)}(l.route.parent,s),function(r,n){return null!==r&&n&&n(new s$(r)),Qi(!0)}(l.route,s),function(r,n,i){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(y=>function(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(y)).filter(y=>null!==y).map(y=>yC(()=>Qi(y.guards.map(L=>{const tt=NC(L,y.node,i);let ft;if(function(r){return r&&a0(r.canActivateChild)}(tt))ft=Qc(tt.canActivateChild(s,r));else{if(!a0(tt))throw new Error("Invalid CanActivateChild guard");ft=Qc(tt(s,r))}return ft.pipe(yg())})).pipe(M_())));return Qi(d).pipe(M_())}(r,l.path,i),function(r,n,i){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return Qi(!0);const l=s.map(d=>yC(()=>{const y=NC(d,n,i);let A;if(function(r){return r&&a0(r.canActivate)}(y))A=Qc(y.canActivate(n,r));else{if(!a0(y))throw new Error("Invalid CanActivate guard");A=Qc(y(n,r))}return A.pipe(yg())}));return Qi(l).pipe(M_())}(r,l.route,i))),yg(l=>!0!==l,!0))}(s,d,r,n):Qi(A)),W(A=>bs(vi({},i),{guardsResult:A})))})}(this.ngModule.injector,A=>this.triggerEvent(A)),os(A=>{if(_g(A.guardsResult)){const tt=rA(`Redirecting to "${this.serializeUrl(A.guardsResult)}"`);throw tt.url=A.guardsResult,tt}const L=new e$(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot,!!A.guardsResult);this.triggerEvent(L)}),Do(A=>!!A.guardsResult||(this.restoreHistory(A),this.cancelNavigationTransition(A,""),!1)),yA(A=>{if(A.guards.canActivateChecks.length)return Qi(A).pipe(os(L=>{const tt=new i$(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);this.triggerEvent(tt)}),ja(L=>{let tt=!1;return Qi(L).pipe(function(r,n){return Ut(i=>{const{targetSnapshot:s,guards:{canActivateChecks:l}}=i;if(!l.length)return Qi(i);let d=0;return rn(l).pipe(e1(y=>function(r,n,i,s){return function(r,n,i,s){const l=Object.keys(r);if(0===l.length)return Qi({});const d={};return rn(l).pipe(Ut(y=>function(r,n,i,s){const l=NC(r,n,s);return Qc(l.resolve?l.resolve(n,i):l(n,i))}(r[y],n,i,s).pipe(os(A=>{d[y]=A}))),iA(1),Ut(()=>Object.keys(d).length===l.length?Qi(d):ye))}(r._resolve,r,n,s).pipe(W(d=>(r._resolvedData=d,r.data=vi(vi({},r.data),kR(r,i).resolve),null)))}(y.route,s,r,n)),os(()=>d++),iA(1),Ut(y=>d===l.length?Qi(i):ye))})}(this.paramsInheritanceStrategy,this.ngModule.injector),os({next:()=>tt=!0,complete:()=>{tt||(this.restoreHistory(L),this.cancelNavigationTransition(L,"At least one route resolver didn't emit any value."))}}))}),os(L=>{const tt=new n$(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);this.triggerEvent(tt)}))}),yA(A=>{const{targetSnapshot:L,id:tt,extractedUrl:ft,rawUrl:Et,extras:{skipLocationChange:Ft,replaceUrl:zt}}=A;return this.hooks.afterPreactivation(L,{navigationId:tt,appliedUrlTree:ft,rawUrlTree:Et,skipLocationChange:!!Ft,replaceUrl:!!zt})}),W(A=>{const L=function(r,n,i){const s=w_(r,n._root,i?i._root:void 0);return new DR(s,n)}(this.routeReuseStrategy,A.targetSnapshot,A.currentRouterState);return bs(vi({},A),{targetRouterState:L})}),os(A=>{this.currentUrlTree=A.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl),this.routerState=A.targetRouterState,"deferred"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,A),this.browserUrlTree=A.urlAfterRedirects)}),((r,n,i)=>W(s=>(new H$(n,s.targetRouterState,s.currentRouterState,i).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,A=>this.triggerEvent(A)),os({next(){d=!0},complete(){d=!0}}),MI(()=>{var A;d||y||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null==(A=this.currentNavigation)?void 0:A.id)===l.id&&(this.currentNavigation=null)}),_d(A=>{if(y=!0,function(r){return r&&r[cR]}(A)){const L=_g(A.url);L||(this.navigated=!0,this.restoreHistory(l,!0));const tt=new aR(l.id,this.serializeUrl(l.extractedUrl),A.message);s.next(tt),L?setTimeout(()=>{const ft=this.urlHandlingStrategy.merge(A.url,this.rawUrlTree),Et={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FC(l.source)};this.scheduleNavigation(ft,"imperative",null,Et,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const L=new JY(l.id,this.serializeUrl(l.extractedUrl),A);s.next(L);try{l.resolve(this.errorHandler(A))}catch(tt){l.reject(tt)}}return ye}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}setTransition(i){this.transitions.next(vi(vi({},this.transitions.value),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const s="popstate"===i.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{var A;const l={replaceUrl:!0},d=(null==(A=i.state)?void 0:A.navigationId)?i.state:null;if(d){const L=vi({},d);delete L.navigationId,delete L.\u0275routerPageId,0!==Object.keys(L).length&&(l.state=L)}const y=this.parseUrl(i.url);this.scheduleNavigation(y,s,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){LR(i),this.config=i.map(gA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,s={}){const{relativeTo:l,queryParams:d,fragment:y,queryParamsHandling:A,preserveFragment:L}=s,tt=l||this.routerState.root,ft=L?this.currentUrlTree.fragment:y;let Et=null;switch(A){case"merge":Et=vi(vi({},this.currentUrlTree.queryParams),d);break;case"preserve":Et=this.currentUrlTree.queryParams;break;default:Et=d||null}return null!==Et&&(Et=this.removeEmptyProps(Et)),function(r,n,i,s,l){if(0===i.length)return cA(n.root,n.root,n,s,l);const d=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new IR(!0,0,r);let n=0,i=!1;const s=r.reduce((l,d,y)=>{if("object"==typeof d&&null!=d){if(d.outlets){const A={};return Ma(d.outlets,(L,tt)=>{A[tt]="string"==typeof L?L.split("/"):L}),[...l,{outlets:A}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===y?(d.split("/").forEach((A,L)=>{0==L&&"."===A||(0==L&&""===A?i=!0:".."===A?n++:""!=A&&l.push(A))}),l):[...l,d]},[]);return new IR(i,n,s)}(i);if(d.toRoot())return cA(n.root,new or([],{}),n,s,l);const y=function(r,n,i){if(r.isAbsolute)return new fA(n.root,!0,0);if(-1===i.snapshot._lastPathIndex){const d=i.snapshot._urlSegment;return new fA(d,d===n.root,0)}const s=kC(r.commands[0])?0:1;return function(r,n,i){let s=r,l=n,d=i;for(;d>l;){if(d-=l,s=s.parent,!s)throw new Error("Invalid number of '../'");l=s.segments.length}return new fA(s,!1,l-d)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(d,n,r),A=y.processChildren?AC(y.segmentGroup,y.index,d.commands):RR(y.segmentGroup,y.index,d.commands);return cA(y.segmentGroup,A,n,s,l)}(tt,this.currentUrlTree,i,Et,null!=ft?ft:null)}navigateByUrl(i,s={skipLocationChange:!1}){const l=_g(i)?i:this.parseUrl(i),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(i,s={skipLocationChange:!1}){return function(r){for(let n=0;n<r.length;n++){const i=r[n];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${n}`)}}(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let s;try{s=this.urlSerializer.parse(i)}catch(l){s=this.malformedUriErrorHandler(l,this.urlSerializer,i)}return s}isActive(i,s){let l;if(l=!0===s?vi({},VX):!1===s?vi({},jX):s,_g(i))return gR(this.currentUrlTree,i,l);const d=this.parseUrl(i);return gR(this.currentUrlTree,d,l)}removeEmptyProps(i){return Object.keys(i).reduce((s,l)=>{const d=i[l];return null!=d&&(s[l]=d),s},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new v_(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}scheduleNavigation(i,s,l,d,y){var Ie,Pe,Ze;if(this.disposed)return Promise.resolve(!1);const A=this.transitions.value,L=FC(s)&&A&&!FC(A.source),tt=A.rawUrl.toString()===i.toString(),ft=A.id===(null==(Ie=this.currentNavigation)?void 0:Ie.id);if(L&&tt&&ft)return Promise.resolve(!0);let Ft,zt,Xt;y?(Ft=y.resolve,zt=y.reject,Xt=y.promise):Xt=new Promise((ai,wn)=>{Ft=ai,zt=wn});const ce=++this.navigationId;let de;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),de=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!=(Pe=this.browserPageId)?Pe:0:(null!=(Ze=this.browserPageId)?Ze:0)+1):de=0,this.setTransition({id:ce,targetPageId:de,source:s,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:d,resolve:Ft,reject:zt,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(ai=>Promise.reject(ai))}setBrowserUrl(i,s){const l=this.urlSerializer.serialize(i),d=vi(vi({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(l)||s.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(i,s=!1){var l,d;if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(l=this.currentNavigation)?void 0:l.finalUrl)||0===y?this.currentUrlTree===(null==(d=this.currentNavigation)?void 0:d.finalUrl)&&0===y&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(y)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,s){const l=new aR(i.id,this.serializeUrl(i.extractedUrl),s);this.triggerEvent(l),i.resolve(!1)}generateNgRouterState(i,s){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}}return r.\u0275fac=function(i){Fc()},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();function FC(r){return"imperative"!==r}let LC=(()=>{class r{constructor(i,s,l,d,y){this.router=i,this.route=s,this.tabIndexAttribute=l,this.renderer=d,this.el=y,this.commands=null,this.onChanges=new _,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){if(null!=this.tabIndexAttribute)return;const s=this.renderer,l=this.el.nativeElement;null!==i?s.setAttribute(l,"tabindex",i):s.removeAttribute(l,"tabindex")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const i={skipLocationChange:a1(this.skipLocationChange),replaceUrl:a1(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:a1(this.preserveFragment)})}}return r.\u0275fac=function(i){return new(i||r)(ie(na),ie(tf),El("tabindex"),ie(ud),ie(qi))},r.\u0275dir=li({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,s){1&i&&e("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[er]}),r})(),BC=(()=>{class r{constructor(i,s,l){this.router=i,this.route=s,this.locationStrategy=l,this.commands=null,this.href=null,this.onChanges=new _,this.subscription=i.events.subscribe(d=>{d instanceof v_&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:null}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,s,l,d,y){if(0!==i||s||l||d||y||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const A={skipLocationChange:a1(this.skipLocationChange),replaceUrl:a1(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,A),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:a1(this.preserveFragment)})}}return r.\u0275fac=function(i){return new(i||r)(ie(na),ie(tf),ie(By))},r.\u0275dir=li({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,s){1&i&&e("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&i&&yn("target",s.target)("href",s.href,da)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[er]}),r})();function a1(r){return""===r||!!r}class QR{}class t5{preload(n,i){return Qi(null)}}let e5=(()=>{class r{constructor(i,s,l,d){this.router=i,this.injector=l,this.preloadingStrategy=d,this.loader=new qR(l,s,L=>i.triggerEvent(new lR(L)),L=>i.triggerEvent(new hR(L)))}setUpPreloading(){this.subscription=this.router.events.pipe(Do(i=>i instanceof v_),e1(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(Uc);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,s){const l=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const y=d._loadedConfig;l.push(this.processRoutes(y.module,y.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(i,d)):d.children&&l.push(this.processRoutes(i,d.children));return rn(l).pipe(ee(),W(d=>{}))}preloadConfig(i,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?Qi(s._loadedConfig):this.loader.load(i.injector,s)).pipe(Ut(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return r.\u0275fac=function(i){return new(i||r)(Re(na),Re(FM),Re(Kn),Re(QR))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),wA=(()=>{class r{constructor(i,s,l={}){this.router=i,this.viewportScroller=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof nA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof v_&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof uR&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,s){this.router.triggerEvent(new uR(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(i){Fc()},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();const bg=new ui("ROUTER_CONFIGURATION"),i5=new ui("ROUTER_FORROOT_GUARD"),WX=[qM,{provide:wR,useClass:_R},{provide:na,useFactory:function(r,n,i,s,l,d,y={},A,L){const tt=new na(null,r,n,i,s,l,dR(d));return A&&(tt.urlHandlingStrategy=A),L&&(tt.routeReuseStrategy=L),function(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(y,tt),y.enableTracing&&tt.events.subscribe(ft=>{var Et,Ft;null==(Et=console.group)||Et.call(console,`Router Event: ${ft.constructor.name}`),console.log(ft.toString()),console.log(ft),null==(Ft=console.groupEnd)||Ft.call(console)}),tt},deps:[wR,C_,qM,Kn,FM,xA,bg,[class{},new kr],[class{},new kr]]},C_,{provide:tf,useFactory:function(r){return r.routerState.root},deps:[na]},e5,t5,class{preload(n,i){return i().pipe(_d(()=>Qi(null)))}},{provide:bg,useValue:{enableTracing:!1}}];function YX(){return new dD("Router",na)}let n5=(()=>{class r{constructor(i,s){}static forRoot(i,s){return{ngModule:r,providers:[WX,r5(i),{provide:i5,useFactory:KX,deps:[[na,new kr,new tl]]},{provide:bg,useValue:s||{}},{provide:By,useFactory:XX,deps:[ig,[new Ws(UD),new kr],bg]},{provide:wA,useFactory:$X,deps:[na,i7,bg]},{provide:QR,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:t5},{provide:dD,multi:!0,useFactory:YX},[_A,{provide:xw,multi:!0,useFactory:QX,deps:[_A]},{provide:o5,useFactory:tK,deps:[_A]},{provide:Q3,multi:!0,useExisting:o5}]]}}static forChild(i){return{ngModule:r,providers:[r5(i)]}}}return r.\u0275fac=function(i){return new(i||r)(Re(i5,8),Re(na,8))},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})();function $X(r,n,i){return i.scrollOffset&&n.setOffset(i.scrollOffset),new wA(r,n,i)}function XX(r,n,i={}){return i.useHash?new UB(r,n):new f4(r,n)}function KX(r){return"guarded"}function r5(r){return[{provide:H0,multi:!0,useValue:r},{provide:xA,multi:!0,useValue:r}]}let _A=(()=>{class r{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new _}appInitializer(){return this.injector.get(jB,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const l=new Promise(A=>s=A),d=this.injector.get(na),y=this.injector.get(bg);return"disabled"===y.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===y.initialNavigation||"enabledBlocking"===y.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?Qi(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),l})}bootstrapListener(i){const s=this.injector.get(bg),l=this.injector.get(e5),d=this.injector.get(wA),y=this.injector.get(na),A=this.injector.get(qm);i===A.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&y.initialNavigation(),l.setUpPreloading(),d.init(),y.resetRootComponentType(A.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(i){return new(i||r)(Re(Kn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})();function QX(r){return r.appInitializer.bind(r)}function tK(r){return r.bootstrapListener.bind(r)}const o5=new ui("Router Initializer");let iK=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=_i({type:r,selectors:[["ng-component"]],decls:2,vars:0,template:function(i,s){1&i&&(_e(0,"p"),ii(1,"dance-cards-page works!"),Me())},styles:[""]}),r})();function s5(r,n,i,s,l,d,y){try{var A=r[d](y),L=A.value}catch(tt){return void i(tt)}A.done?n(L):Promise.resolve(L).then(s,l)}function Sd(r){return function(){var n=this,i=arguments;return new Promise(function(s,l){var d=r.apply(n,i);function y(L){s5(d,s,l,y,A,"next",L)}function A(L){s5(d,s,l,y,A,"throw",L)}y(void 0)})}}function VC(r,n){const i="object"==typeof n;return new Promise((s,l)=>{const d=new Q({next:y=>{s(y),d.unsubscribe()},error:l,complete:()=>{i?s(n.defaultValue):l(new g_)}});r.subscribe(d)})}const nK=/([0-9]{2})\.([0-9]{2})\.([0-9]{4})/,rK=/[A-Za-z0-9\s]+\![A-Z]+[0-9]+\:[A-Z]+([0-9]+)/,bA=r=>{r=null==r?void 0:r.trim();const n=nK.exec(r);n&&(r=`${n[3]}-${n[2]}-${n[1]}`);const i=new Date(r);return"Invalid Date"==(null==i?void 0:i.toString())?null:i},a5=r=>(console.log(r),!r||isNaN(r.getTime())?"":`${r.getDate()}.${r.getMonth()+1}.${r.getFullYear()}`),l5=r=>"true"==(r=null==r?void 0:r.toLowerCase())||"wahr"==r,oK=r=>new Promise(n=>setTimeout(n,r)),h5=r=>{r=null==r?void 0:r.trim();const n=rK.exec(r);return n?(console.log(n),Number(n[1])):NaN};var xl=(()=>{return(r=xl||(xl={})).start="start",r.end="end",r.related="related",r.otherDance="other dance",xl;var r})(),sK=vt(3783),HC=vt(7908);let k_=(()=>{class r{constructor(i,s,l){this.route=i,this.cookies=s,this.http=l,this.isStarted=!1,this.isStarting=new _}fetchSettings(){this.http.get("assets/secret-write.txt"),this.route.queryParams.subscribe(i=>{this.initSettings(i)})}loading(){var i=this;return Sd(function*(){i.isStarted||(yield VC(i.isStarting))})()}initSettings(i){this.secretReadString=this.getSetting(i,"secret"),this.secretWriteString=this.getSetting(i,"secret-write"),this.secretReadString&&this.http.get("assets/secret-read.txt",{responseType:"text"}).subscribe(s=>{const l=HC.AES.decrypt(s,this.secretReadString);this.secret=JSON.parse(l.toString(HC.enc.Utf8)),this.isStarting.next(!1),this.isStarted=!0}),this.secretWriteString&&this.http.get("assets/secret-write.txt",{responseType:"text"}).subscribe(s=>{const l=HC.AES.decrypt(s,this.secretWriteString);this.secretWrite=JSON.parse(l.toString(HC.enc.Utf8))})}getSetting(i,s){let l=i[s];return l?this.cookies.set(s,l,new Date(Date.now()+864e6)):l=this.cookies.get(s),l}}return r.\u0275fac=function(i){return new(i||r)(Re(tf),Re(iR),Re(n1))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),aK=(()=>{class r{constructor(i,s){this.settingsService=i,this.http=s,this.movesKeys=new Array,this.courseDatesKeys=new Array}getMoves(){var i=this;return Sd(function*(){var s;yield i.settingsService.loading();const l=new Array;return VC(i.spreadsheetsGet(null===(s=i.settingsService.secret)||void 0===s?void 0:s.movesSheetId,"Tanzfiguren!A1:S500").pipe(W(y=>{const A=null==y?void 0:y.values;if(A.length>0){i.movesKeys=A[0];for(let tt=1;tt<A.length;tt++){var L=A[tt];L[0]&&l.push(i.createMovesDto(L,tt))}}return l})))})()}getCourseDates(){var i=this;return Sd(function*(){var s;yield i.settingsService.loading();const l=new Array;return VC(i.spreadsheetsGet(null===(s=i.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,"Course Dates!A1:C1000").pipe(W(y=>{const A=null==y?void 0:y.values;if(A.length>0){i.courseDatesKeys=A[0];for(let tt=1;tt<A.length;tt++){var L=A[tt];L[0]&&l.push(i.createCourseDateDto(L,tt))}}return l})))})()}appendData(i){var s;const d={values:[this.moveToLine(i)]};return this.spreadsheetsPost(null===(s=this.settingsService.secret)||void 0===s?void 0:s.movesSheetId,"Tanzfiguren!A400:U400",d,":append")}patchData(i){var s;const l=`Tanzfiguren!A${i.row}:U${i.row}`,d={values:[this.moveToLine(i)]};return this.spreadsheetsPut(null===(s=this.settingsService.secret)||void 0===s?void 0:s.movesSheetId,l,d)}appendCourseDate(i){var s;const d={values:[this.courseDateToLine(i)]};return this.spreadsheetsPost(null===(s=this.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,"Course Dates!A400:C400",d,":append")}patchCourseDate(i){var s;const l=`Course Dates!A${i.row}:C${i.row}`,d={values:[this.courseDateToLine(i)]};return this.spreadsheetsPut(null===(s=this.settingsService.secret)||void 0===s?void 0:s.courseDatesSheetId,l,d)}spreadsheetsGet(i,s){var l;return this.http.get(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}`,{params:{key:null===(l=this.settingsService.secret)||void 0===l?void 0:l.apiKey}})}spreadsheetsPost(i,s,l,d=""){return this.loginWrite().pipe(ja(y=>this.http.post(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}${d}`,l,{headers:{Authorization:`Bearer ${y.access_token}`},params:{valueInputOption:"USER_ENTERED"}})))}spreadsheetsPut(i,s,l,d=""){return this.loginWrite().pipe(ja(y=>this.http.put(`https://content-sheets.googleapis.com/v4/spreadsheets/${i}/values/${encodeURI(s)}${d}`,l,{headers:{Authorization:`Bearer ${y.access_token}`},params:{valueInputOption:"USER_ENTERED"}})))}loginWrite(){if(!this.settingsService.secretWrite)return Qi({});if(this.writeToken&&this.lastUpdated&&this.nowInSec()-this.lastUpdated<this.writeToken.expires_in-100)return Qi(this.writeToken);const i=this.createJwt();return this.lastUpdated=this.nowInSec(),this.http.post("https://oauth2.googleapis.com/token",{grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:i}).pipe(os(s=>this.writeToken=s))}nowInSec(){return Date.now()/1e3}createJwt(){const i=this.settingsService.secretWrite,s=Date.now()/1e3;return sK.encode({iss:i.client_email,sub:i.client_email,scope:"https://www.googleapis.com/auth/spreadsheets",aud:i.token_uri,iat:s,exp:s+3600},i.private_key,"RS256",{header:{kid:i.private_key_id}})}createCourseDateDto(i,s){return{date:bA(i[0]),course:i[1],moveName:i[2],row:s+1}}createMovesDto(i,s){return{name:i[0],dance:i[1],description:i[2],date:bA(i[3]),order:i[4],count:i[5],nameVerified:l5(i[6]),type:i[7],startMove:this.stringToArray(i[8]),endMove:this.stringToArray(i[9]),relatedMoves:this.stringToArray(i[10]),relatedMovesOtherDances:this.stringToArray(i[11]),videoname:i[12],links:i[13],toDo:i[14],row:s+1,courseDates:[]}}stringToArray(i){return(i=null==i?void 0:i.trim())?i.split(",").map(s=>s.trim()).filter(s=>Boolean(s)):[]}moveToLine(i){var s,l,d,y;return[i.name,i.dance,i.description,a5(i.date),i.order,i.count,String(i.nameVerified),i.type,null===(s=i.startMove)||void 0===s?void 0:s.join(","),null===(l=i.endMove)||void 0===l?void 0:l.join(","),null===(d=i.relatedMoves)||void 0===d?void 0:d.join(","),null===(y=i.relatedMovesOtherDances)||void 0===y?void 0:y.join(","),i.videoname,i.links,i.toDo]}courseDateToLine(i){return[a5(i.date),i.course,i.moveName]}}return r.\u0275fac=function(i){return new(i||r)(Re(k_),Re(n1))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function lK(r,n){if(1&r){const i=Ho();_e(0,"div",1),_e(1,"button",2),e("click",function(){return Zr(i),x().action()}),ii(2),Me(),Me()}if(2&r){const i=x();$e(2),Vr(i.data.action)}}function hK(r,n){}const u5=new ui("MatSnackBarData");class zC{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const uK=Math.pow(2,31)-1;class MA{constructor(n,i){this._overlayRef=i,this._afterDismissed=new _,this._afterOpened=new _,this._onAction=new _,this._dismissedByAction=!1,this.containerInstance=n,this.onAction().subscribe(()=>this.dismiss()),n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,uK))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let cK=(()=>{class r{constructor(i,s){this.snackBarRef=i,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(i){return new(i||r)(ie(MA),ie(u5))},r.\u0275cmp=_i({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(i,s){1&i&&(_e(0,"span"),ii(1),Me(),bi(2,lK,3,1,"div",0)),2&i&&($e(1),Vr(s.data.message),$e(1),Ue("ngIf",s.hasAction))},directives:[Zl,r0],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),r})();const fK={snackBarState:ag("state",[Kc("void, hidden",ws({transform:"scale(0.8)",opacity:0})),Kc("visible",ws({transform:"scale(1)",opacity:1})),pu("* => visible",hc("150ms cubic-bezier(0, 0, 0.2, 1)")),pu("* => void, * => hidden",hc("75ms cubic-bezier(0.4, 0.0, 1, 1)",ws({opacity:0})))])};let dK=(()=>{class r extends Ik{constructor(i,s,l,d,y){super(),this._ngZone=i,this._elementRef=s,this._changeDetectorRef=l,this._platform=d,this.snackBarConfig=y,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new _,this._onExit=new _,this._onEnter=new _,this._animationState="void",this.attachDomPortal=A=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(A)),this._live="assertive"!==y.politeness||y.announcementMessage?"off"===y.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(i){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(i)}attachTemplatePortal(i){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(i)}onAnimationEnd(i){const{fromState:s,toState:l}=i;if(("void"===l&&"void"!==s||"hidden"===l)&&this._completeExit(),"visible"===l){const d=this._onEnter;this._ngZone.run(()=>{d.next(),d.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Ui(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const i=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(l=>i.classList.add(l)):i.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&i.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&i.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&s){let l=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(l=document.activeElement),i.removeAttribute("aria-hidden"),s.appendChild(i),null==l||l.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(i){return new(i||r)(ie(Ji),ie(qi),ie(co),ie(xs),ie(zC))},r.\u0275cmp=_i({type:r,selectors:[["snack-bar-container"]],viewQuery:function(i,s){if(1&i&&Or(aC,7),2&i){let l;Wi(l=Yi())&&(s._portalOutlet=l.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(i,s){1&i&&o("@state.done",function(d){return s.onAnimationEnd(d)}),2&i&&su("@state",s._animationState)},features:[zi],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,s){1&i&&(_e(0,"div",0),bi(1,hK,0,0,"ng-template",1),Me(),Oi(2,"div")),2&i&&($e(2),yn("aria-live",s._live)("role",s._role))},directives:[aC],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[fK.snackBarState]}}),r})(),c5=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[lC,Rk,Wc,Ek,cr],cr]}),r})();const pK=new ui("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new zC}});let gK=(()=>{class r{constructor(i,s,l,d,y,A){this._overlay=i,this._live=s,this._injector=l,this._breakpointObserver=d,this._parentSnackBar=y,this._defaultConfig=A,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=cK,this.snackBarContainerComponent=dK,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}openFromComponent(i,s){return this._attach(i,s)}openFromTemplate(i,s){return this._attach(i,s)}open(i,s="",l){const d=vi(vi({},this._defaultConfig),l);return d.data={message:i,action:s},d.announcementMessage===i&&(d.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,d)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,s){const d=Kn.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:zC,useValue:s}]}),y=new l_(this.snackBarContainerComponent,s.viewContainerRef,d),A=i.attach(y);return A.instance.snackBarConfig=s,A.instance}_attach(i,s){const l=vi(vi(vi({},new zC),this._defaultConfig),s),d=this._createOverlay(l),y=this._attachSnackBarContainer(d,l),A=new MA(y,d);if(i instanceof hu){const L=new sC(i,null,{$implicit:l.data,snackBarRef:A});A.instance=y.attachTemplatePortal(L)}else{const L=this._createInjector(l,A),tt=new l_(i,void 0,L),ft=y.attachComponentPortal(tt);A.instance=ft.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(wr(d.detachments())).subscribe(L=>{d.overlayElement.classList.toggle(this.handsetCssClass,L.matches)}),l.announcementMessage&&y._onAnnounce.subscribe(()=>{this._live.announce(l.announcementMessage,l.politeness)}),this._animateSnackBar(A,l),this._openedSnackBarRef=A,this._openedSnackBarRef}_animateSnackBar(i,s){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),s.duration&&s.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(s.duration))}_createOverlay(i){const s=new h_;s.direction=i.direction;let l=this._overlay.position().global();const d="rtl"===i.direction,y="left"===i.horizontalPosition||"start"===i.horizontalPosition&&!d||"end"===i.horizontalPosition&&d,A=!y&&"center"!==i.horizontalPosition;return y?l.left("0"):A?l.right("0"):l.centerHorizontally(),"top"===i.verticalPosition?l.top("0"):l.bottom("0"),s.positionStrategy=l,this._overlay.create(s)}_createInjector(i,s){return Kn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:MA,useValue:s},{provide:u5,useValue:i.data}]})}}return r.\u0275fac=function(i){return new(i||r)(Re(wd),Re(UE),Re(Kn),Re(r6),Re(r,12),Re(pK))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:c5}),r})(),A_=(()=>{class r{constructor(i,s,l,d){this.apiclientService=i,this.snackBar=s,this.route=l,this.router=d,this.movesSubject=new Ql(new Array),this.movesObservable=this.movesSubject.asObservable(),this.searchFilterObservable=new Ql({}),this.isStarted=!1,this.isStarting=new _,this.groupByDance=y=>y.reduce((A,L)=>(A[L.dance]||(A[L.dance]=[]),A[L.dance].push(L.name),A),{}),this.tapRequest=os({next:y=>{console.log(y)},error:y=>{var A,L;console.log(y),this.snackBar.open(`error:${null===(L=null===(A=null==y?void 0:y.result)||void 0===A?void 0:A.error)||void 0===L?void 0:L.message}`,"OK")}}),this.saveOrCreateCourseDates=y=>xE(y.courseDates.filter(A=>A.course||A.date).map(A=>(A.moveName=y.name,A)).map(this.saveOrCreateCourseDate)).pipe(W(A=>(y.courseDates=A,y))),this.saveOrCreateCourseDate=y=>y.row?this.apiclientService.patchCourseDate(y).pipe(W(A=>y),this.tapRequest):this.apiclientService.appendCourseDate(y).pipe(W(A=>(y.row=h5(A.updates.updatedRange),y)),this.tapRequest),this.updateMoveData=y=>{let A=JSON.parse(JSON.stringify(this.movesSubject.value));return A=A.filter(L=>L.name!=y.name),A.push(y),this.movesSubject.next(A),this.router.navigate(["move",y.name],{queryParamsHandling:"merge"}),y},this.route.queryParams.subscribe(y=>{(y.dance||y.move||y.course||y.type)&&this.searchFilterObservable.next({dance:y.dance,move:y.move,course:y.course,type:y.type})})}start(){this.refresh()}refresh(){var i=this;return Sd(function*(){const s=yield i.apiclientService.getMoves(),l=yield i.apiclientService.getCourseDates();for(const d of s)d.courseDates=l.filter(y=>y.moveName==d.name);i.movesSubject.next(s),i.isStarting.next(!1),i.isStarted=!0})()}loading(){var i=this;return Sd(function*(){!i.isStarted&&(yield VC(i.isStarting))})()}getMove(i){const s=this.movesSubject.value.filter(l=>l.name==i);if(s.length>0)return s[0]}getGroupedMoveNames(){return this.movesSubject.asObservable().pipe(W(i=>Object.entries(this.groupByDance(i)).map(([s,l])=>({dance:s,names:l}))))}getMovesNamesOf(i){return new Set(this.movesSubject.value.filter(s=>!i||s.dance==i).map(s=>s.name))}getMovesNames(){return new Set(this.movesSubject.value.map(i=>i.name))}getDances(){return new Set(this.movesSubject.value.map(i=>i.dance))}getCourseNames(){return new Set(this.movesSubject.value.flatMap(i=>i.courseDates.map(s=>s.course)))}getTypes(){return new Set(this.movesSubject.value.map(i=>i.type).sort())}getRelationPairs(i){return this.searchFilterObservable.pipe(W(s=>{const l=new Array,d=this.selectMoves(this.movesSubject.value,this.getDances(),s);for(const y of d)i.includes(xl.start)&&y.startMove.filter(A=>A).forEach(A=>l.push([y.name,A])),i.includes(xl.end)&&y.endMove.filter(A=>A).forEach(A=>l.push([y.name,A])),i.includes(xl.related)&&y.relatedMoves.filter(A=>A).forEach(A=>l.push([y.name,A])),i.includes(xl.otherDance)&&y.relatedMovesOtherDances.filter(A=>A).forEach(A=>l.push([y.name,A]));return l}))}selectMoves(i,s,l){return i.filter(d=>!s.has(l.dance)||d.dance==l.dance).filter(d=>!l.move||d.name.includes(l.move)).filter(d=>!l.course||d.courseDates.map(y=>y.course).includes(l.course)).filter(d=>!l.type||d.type.includes(l.type))}saveOrCreate(i){return i.row?this.apiclientService.patchData(i).pipe(W(s=>i),this.tapRequest,ja(this.saveOrCreateCourseDates),W(this.updateMoveData)):this.apiclientService.appendData(i).pipe(W(s=>(i.row=h5(s.updates.updatedRange),i)),this.tapRequest,ja(this.saveOrCreateCourseDates),W(this.updateMoveData))}normalize(){var i=this;return Sd(function*(){console.log("normalize");for(const s of i.movesSubject.value)s.description&&(console.log(s),i.saveOrCreate(s),yield oK(1e3))})()}}return r.\u0275fac=function(i){return new(i||r)(Re(aK),Re(gK),Re(tf),Re(na))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function f5(r,n){return n?i=>Vw(n.pipe(Ui(1),K((r,n)=>{r.subscribe(new U(n,Y))})),i.pipe(f5(r))):Ut((i,s)=>r(i,s).pipe(Ui(1),Qk(i)))}const xK=["panel"];function wK(r,n){if(1&r&&(_e(0,"div",0,1),P(2),Me()),2&r){const i=n.id,s=x();Ue("id",s.id)("ngClass",s._classList),yn("aria-label",s.ariaLabel||null)("aria-labelledby",s._getPanelAriaLabelledby(i))}}const _K=["*"];let bK=0;class MK{constructor(n,i){this.source=n,this.option=i}}const CK=n0(class{}),d5=new ui("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let DK=(()=>{class r extends CK{constructor(i,s,l,d){super(),this._changeDetectorRef=i,this._elementRef=s,this._activeOptionChanges=M.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Si,this.opened=new Si,this.closed=new Si,this.optionActivated=new Si,this._classList={},this.id="mat-autocomplete-"+bK++,this.inertGroups=(null==d?void 0:d.SAFARI)||!1,this._autoActiveFirstOption=!!l.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(i){this._autoActiveFirstOption=On(i)}set classList(i){this._classList=i&&i.length?Y4(i).reduce((s,l)=>(s[l]=!0,s),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new c8(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(i=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[i]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(i){this.panel&&(this.panel.nativeElement.scrollTop=i)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(i){const s=new MK(this,i);this.optionSelected.emit(s)}_getPanelAriaLabelledby(i){return this.ariaLabel?null:this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_setVisibilityClasses(i){i[this._visibleClass]=this.showPanel,i[this._hiddenClass]=!this.showPanel}}return r.\u0275fac=function(i){return new(i||r)(ie(co),ie(qi),ie(d5),ie(xs))},r.\u0275dir=li({type:r,viewQuery:function(i,s){if(1&i&&(Or(hu,7),Or(xK,5)),2&i){let l;Wi(l=Yi())&&(s.template=l.first),Wi(l=Yi())&&(s.panel=l.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[zi]}),r})(),EK=(()=>{class r extends DK{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275cmp=_i({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(i,s,l){if(1&i&&(Cr(l,Q2,5),Cr(l,o_,5)),2&i){let d;Wi(d=Yi())&&(s.optionGroups=d),Wi(d=Yi())&&(s.options=d)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[Un([{provide:J2,useExisting:r}]),zi],ngContentSelectors:_K,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(i,s){1&i&&(E(),bi(0,wK,3,4,"ng-template"))},directives:[Nw],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),r})();const p5=new ui("mat-autocomplete-scroll-strategy"),AK={provide:p5,deps:[wd],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},TK={provide:Jl,useExisting:Xe(()=>m5),multi:!0};let PK=(()=>{class r{constructor(i,s,l,d,y,A,L,tt,ft,Et,Ft){this._element=i,this._overlay=s,this._viewContainerRef=l,this._zone=d,this._changeDetectorRef=y,this._dir=L,this._formField=tt,this._document=ft,this._viewportRuler=Et,this._defaults=Ft,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=M.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new _,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=yC(()=>this.autocomplete&&this.autocomplete.options?an(...this.autocomplete.options.map(zt=>zt.onSelectionChange)):this._zone.onStable.pipe(Ui(1),ja(()=>this.optionSelections))),this._scrollStrategy=A}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(i){this._autocompleteDisabled=On(i)}ngAfterViewInit(){const i=this._getWindow();void 0!==i&&this._zone.runOutsideAngular(()=>i.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(i){i.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const i=this._getWindow();void 0!==i&&i.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return an(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Do(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Do(()=>this._overlayAttached)):Qi()).pipe(W(i=>i instanceof NP?i:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return an(uc(this._document,"click"),uc(this._document,"auxclick"),uc(this._document,"touchend")).pipe(Do(i=>{const s=Zp(i),l=this._formField?this._formField._elementRef.nativeElement:null,d=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&s!==this._element.nativeElement&&(!l||!l.contains(s))&&(!d||!d.contains(s))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(s)}))}writeValue(i){Promise.resolve(null).then(()=>this._setTriggerValue(i))}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this._element.nativeElement.disabled=i}_handleKeydown(i){const s=i.keyCode;if(27===s&&!th(i)&&i.preventDefault(),this.activeOption&&13===s&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),i.preventDefault();else if(this.autocomplete){const l=this.autocomplete._keyManager.activeItem,d=38===s||40===s;this.panelOpen||9===s?this.autocomplete._keyManager.onKeydown(i):d&&this._canOpen()&&this.openPanel(),(d||this.autocomplete._keyManager.activeItem!==l)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(i){let s=i.target,l=s.value;"number"===s.type&&(l=""==l?null:parseFloat(l)),this._previousValue!==l&&(this._previousValue=l,this._onChange(l),this._canOpen()&&this._document.activeElement===i.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(i=!1){this._formField&&"auto"===this._formField.floatLabel&&(i?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const i=this._zone.onStable.pipe(Ui(1)),s=this.autocomplete.options.changes.pipe(os(()=>this._positionStrategy.reapplyLastPosition()),function(r,n=mE){const i=UP(0,n);return f5(()=>i)}());return an(i,s).pipe(ja(()=>{const l=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),l!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Ui(1)).subscribe(l=>this._setValueAndClose(l))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(i){const s=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(i):i,l=null!=s?s:"";this._formField?this._formField._control.value=l:this._element.nativeElement.value=l,this._previousValue=l}_setValueAndClose(i){i&&i.source&&(this._clearPreviousSelectedOption(i.source),this._setTriggerValue(i.source.value),this._onChange(i.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(i.source)),this.closePanel()}_clearPreviousSelectedOption(i){this.autocomplete.options.forEach(s=>{s!==i&&s.selected&&s.deselect()})}_attachOverlay(){var l;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new sC(this.autocomplete.template,this._viewContainerRef,{id:null==(l=this._formField)?void 0:l.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,i.keydownEvents().subscribe(d=>{(27===d.keyCode&&!th(d)||38===d.keyCode&&th(d,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),d.stopPropagation(),d.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const s=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&s!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var i;return new h_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null==(i=this._defaults)?void 0:i.overlayPanelClass})}_getOverlayPosition(){const i=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(i),this._positionStrategy=i,i}_setStrategyPositions(i){const s=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],l=this._aboveClass,d=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:l},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:l}];let y;y="above"===this.position?d:"below"===this.position?s:[...s,...d],i.withPositions(y)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const i=this.autocomplete;i.autoActiveFirstOption?i._keyManager.setFirstItemActive():i._keyManager.setActiveItem(-1)}_canOpen(){const i=this._element.nativeElement;return!i.readOnly&&!i.disabled&&!this._autocompleteDisabled}_getWindow(){var i;return(null==(i=this._document)?void 0:i.defaultView)||window}_scrollToOption(i){const s=this.autocomplete,l=Dk(i,s.options,s.optionGroups);if(0===i&&1===l)s._setScrollTop(0);else if(s.panel){const d=s.options.toArray()[i];if(d){const y=d._getHostElement(),A=FP(y.offsetTop,y.offsetHeight,s._getScrollTop(),s.panel.nativeElement.offsetHeight);s._setScrollTop(A)}}}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(wd),ie(ml),ie(Ji),ie(co),ie(p5),ie(lc,8),ie(u_,9),ie(Mn,8),ie(a_),ie(d5,8))},r.\u0275dir=li({type:r,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[er]}),r})(),m5=(()=>{class r extends PK{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=po(r)))(s||r)}}(),r.\u0275dir=li({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(i,s){1&i&&e("focusin",function(){return s._handleFocus()})("blur",function(){return s._onTouched()})("input",function(d){return s._handleInput(d)})("keydown",function(d){return s._handleKeydown(d)}),2&i&&yn("autocomplete",s.autocompleteAttribute)("role",s.autocompleteDisabled?null:"combobox")("aria-autocomplete",s.autocompleteDisabled?null:"list")("aria-activedescendant",s.panelOpen&&s.activeOption?s.activeOption.id:null)("aria-expanded",s.autocompleteDisabled?null:s.panelOpen.toString())("aria-owns",s.autocompleteDisabled||!s.panelOpen||null==s.autocomplete?null:s.autocomplete.id)("aria-haspopup",!s.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[Un([TK]),zi]}),r})(),IK=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[AK],imports:[[lC,tC,cr,Wc],mg,tC,cr]}),r})();const RK=["primaryValueBar"],OK=fg(class{constructor(r){this._elementRef=r}},"primary"),NK=new ui("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=Qa(Mn),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),LK=new ui("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let BK=0,CA=(()=>{class r extends OK{constructor(i,s,l,d,y){super(i),this._ngZone=s,this._animationMode=l,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Si,this._animationEndSubscription=M.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+BK++;const A=d?d.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${A}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===l,y&&(y.color&&(this.color=this.defaultColor=y.color),this.mode=y.mode||this.mode)}get value(){return this._value}set value(i){this._value=g5(Kp(i)||0)}get bufferValue(){return this._bufferValue}set bufferValue(i){this._bufferValue=g5(i||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const i=this._primaryValueBar.nativeElement;this._animationEndSubscription=uc(i,"transitionend").pipe(Do(s=>s.target===i)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(Ji),ie(qc,8),ie(NK,8),ie(LK,8))},r.\u0275cmp=_i({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(i,s){if(1&i&&Or(RK,5),2&i){let l;Wi(l=Yi())&&(s._primaryValueBar=l.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(i,s){2&i&&(yn("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),gn("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[zi],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(i,s){1&i&&(_e(0,"div",0),A0(),_e(1,"svg",1),_e(2,"defs"),_e(3,"pattern",2),Oi(4,"circle",3),Me(),Me(),Oi(5,"rect",4),Me(),zd(),Oi(6,"div",5),Oi(7,"div",6,7),Oi(9,"div",8),Me()),2&i&&($e(3),Ue("id",s.progressbarId),$e(2),yn("fill",s._rectangleFillValue),$e(1),Ue("ngStyle",s._bufferTransform()),$e(1),Ue("ngStyle",s._primaryTransform()))},directives:[E4],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function g5(r,n=0,i=100){return Math.max(n,Math.min(i,r))}let VK=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[Wc,cr],cr]}),r})();function jK(r,n){if(1&r&&(_e(0,"span"),ii(1),Xm(2,"date"),Me()),2&r){const i=x().$implicit;$e(1),to("",function(r,n,i,s){const l=r+20,d=Qe(),y=yf(d,l);return vw(d,l)?b3(d,Yo(),n,y.transform,i,s,y):y.transform(i,s)}(2,1,i.date,"dd.MM.yyyy"),"\xa0")}}function HK(r,n){if(1&r&&(_e(0,"div"),bi(1,jK,3,4,"span",3),_e(2,"span"),ii(3),Me(),Me()),2&r){const i=n.$implicit,s=x();$e(1),Ue("ngIf",s.isDateValid(i)),$e(2),Vr(i.course)}}let zK=(()=>{class r{constructor(i){this.router=i}ngOnInit(){}openDetails(){this.router.navigate(["move",encodeURI(this.moveDto.name)])}isDateValid(i){var s;return(null==i?void 0:i.date)&&"Invalid Date"!==(null===(s=null==i?void 0:i.date)||void 0===s?void 0:s.toString())}}return r.\u0275fac=function(i){return new(i||r)(ie(na))},r.\u0275cmp=_i({type:r,selectors:[["app-move-card"]],inputs:{moveDto:["move-dto","moveDto"]},decls:11,vars:3,consts:[[4,"ngFor","ngForOf"],["align","end"],["mat-button","",3,"click"],[4,"ngIf"]],template:function(i,s){1&i&&(_e(0,"mat-card"),_e(1,"mat-card-title"),ii(2),Me(),_e(3,"mat-card-subtitle"),ii(4),Me(),_e(5,"mat-card-content"),bi(6,HK,4,2,"div",0),Me(),_e(7,"mat-card-actions",1),_e(8,"button",2),e("click",function(){return s.openDetails()}),ii(9,"Details"),Me(),Me(),Me(),Oi(10,"mat-divider")),2&i&&($e(2),Vr(s.moveDto.name),$e(2),Vr(s.moveDto.dance),$e(2),Ue("ngForOf",s.moveDto.courseDates))},directives:[Qz,Zz,qz,Kz,ng,Jz,r0,WW,Zl],pipes:[k4],styles:[""]}),r})();function UK(r,n){1&r&&Oi(0,"mat-progress-bar",11)}function GK(r,n){if(1&r&&(_e(0,"mat-option",12),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),Vr(i)}}function WK(r,n){if(1&r&&(_e(0,"mat-option",12),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),to(" ",i," ")}}function YK(r,n){if(1&r&&(_e(0,"mat-optgroup",13),bi(1,WK,2,2,"mat-option",4),Me()),2&r){const i=n.$implicit;Ue("label",i.dance),$e(1),Ue("ngForOf",i.names)}}function $K(r,n){if(1&r&&(_e(0,"mat-option",12),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),Vr(i)}}function XK(r,n){if(1&r&&(_e(0,"mat-option",12),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),Vr(i)}}function KK(r,n){if(1&r&&(Lc(0),Oi(1,"app-move-card",14),_h()),2&r){const i=n.$implicit;$e(1),Ue("move-dto",i)}}let ZK=(()=>{class r{constructor(i,s,l){this.dataManagerService=i,this.changeDetectorRef=s,this.router=l,this.moves=[],this.allMoves=[],this.dances=new Set,this.courseNames=new Set,this.types=new Set,this.movesGroup=[],this.loading=!0,this.moveSearch=new vr(""),this.searchForm=new Qp({dance:new vr(""),move:new vr(""),course:new vr(""),type:new vr("")})}ngOnInit(){this.searchForm.patchValue(this.dataManagerService.searchFilterObservable.value),this.searchForm.valueChanges.subscribe(i=>this.dataManagerService.searchFilterObservable.next(i)),this.dataManagerService.movesObservable.subscribe(i=>{this.moves=i.sort(this.generateSortFn([{name:"dance"},{name:"order"}])),this.allMoves=JSON.parse(JSON.stringify(this.moves)),this.changeDetectorRef.detectChanges(),this.dances=this.dataManagerService.getDances(),this.courseNames=this.dataManagerService.getCourseNames(),this.types=this.dataManagerService.getTypes(),(null==i?void 0:i.length)>0&&(this.loading=!1)}),this.dataManagerService.getGroupedMoveNames().subscribe(i=>{this.movesGroup=i,this.movesGroupOptions=this.dataManagerService.searchFilterObservable.pipe(W(s=>(this.moves=this.dataManagerService.selectMoves(this.allMoves,this.dances,s),this.filterGroup(s))))}),this.dataManagerService.searchFilterObservable.subscribe(i=>{this.router.navigate([],{queryParams:i,queryParamsHandling:"merge"}),JSON.stringify(i)!==JSON.stringify(this.searchForm.value)&&this.searchForm.patchValue(i)})}generateSortFn(i){return(s,l)=>{for(var d=0;d<i.length;d++){var y=i[d],A=y.name,L=y.reverse;if(s[A]<l[A])return L?1:-1;if(s[A]>l[A])return L?-1:1}return 0}}filterGroup(i){return i.move||i.dance?this.movesGroup.filter(s=>!this.dances.has(i.dance)||s.dance==i.dance).map(s=>({dance:s.dance,names:s.names.filter(l=>{var d,y;return null===(d=null==l?void 0:l.toLowerCase())||void 0===d?void 0:d.includes(null===(y=i.move)||void 0===y?void 0:y.toLowerCase())})})).filter(s=>s.names.length>0):this.movesGroup}}return r.\u0275fac=function(i){return new(i||r)(ie(A_),ie(co),ie(na))},r.\u0275cmp=_i({type:r,selectors:[["app-move-cards-page"]],decls:32,vars:10,consts:[["mode","indeterminate",4,"ngIf"],[3,"formGroup"],["appearance","fill",1,"half-width"],["formControlName","dance"],[3,"value",4,"ngFor","ngForOf"],["type","text","matInput","","formControlName","move",3,"matAutocomplete"],["autoGroup","matAutocomplete"],[3,"label",4,"ngFor","ngForOf"],["formControlName","course"],["formControlName","type"],[4,"ngFor","ngForOf"],["mode","indeterminate"],[3,"value"],[3,"label"],[3,"move-dto"]],template:function(i,s){if(1&i&&(bi(0,UK,1,0,"mat-progress-bar",0),_e(1,"form",1),_e(2,"mat-form-field",2),_e(3,"mat-label"),ii(4,"Dance"),Me(),_e(5,"mat-select",3),_e(6,"mat-option"),ii(7,"None"),Me(),bi(8,GK,2,2,"mat-option",4),Me(),Me(),_e(9,"mat-form-field",2),_e(10,"mat-label"),ii(11,"Name"),Me(),Oi(12,"input",5),_e(13,"mat-autocomplete",null,6),bi(15,YK,2,2,"mat-optgroup",7),Xm(16,"async"),Me(),Me(),_e(17,"mat-form-field",2),_e(18,"mat-label"),ii(19,"Course"),Me(),_e(20,"mat-select",8),_e(21,"mat-option"),ii(22,"None"),Me(),bi(23,$K,2,2,"mat-option",4),Me(),Me(),_e(24,"mat-form-field",2),_e(25,"mat-label"),ii(26,"Type"),Me(),_e(27,"mat-select",9),_e(28,"mat-option"),ii(29,"None"),Me(),bi(30,XK,2,2,"mat-option",4),Me(),Me(),Me(),bi(31,KK,2,1,"ng-container",10)),2&i){const l=ol(14);Ue("ngIf",s.loading),$e(1),Ue("formGroup",s.searchForm),$e(7),Ue("ngForOf",s.dances),$e(4),Ue("matAutocomplete",l),$e(3),Ue("ngForOf",Ay(16,8,s.movesGroupOptions)),$e(8),Ue("ngForOf",s.courseNames),$e(7),Ue("ngForOf",s.types),$e(1),Ue("ngForOf",s.moves)}},directives:[Zl,Zw,Gw,vd,uC,Qy,Jk,Uw,$y,o_,ng,Nk,Gy,m5,EK,CA,OP,zK],pipes:[QD],styles:[".half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}"]}),r})();var v5=vt(7674);const qK=["*"];var T_=(()=>{return(r=T_||(T_={})).CommandLine="command-line",r.LineHighlight="line-highlight",r.LineNumbers="line-numbers",T_;var r})();class QK{}const y5=new ui("SECURITY_CONTEXT");let SA=(()=>{class r{constructor(i,s,l,d,y){this.platform=i,this.securityContext=s,this.http=l,this.sanitizer=y,this.initialMarkedOptions={renderer:new v5.Renderer},this.options=d}get options(){return this._options}set options(i){this._options=vi(vi({},this.initialMarkedOptions),i)}get renderer(){return this.options.renderer}set renderer(i){this.options.renderer=i}compile(i,s=!1,l=!1,d=this.options){const y=this.trimIndentation(i),A=s?this.decodeHtml(y):y,L=l?this.renderEmoji(A):A,tt=v5.parse(L,d);return this.sanitizer.sanitize(this.securityContext,tt)||""}getSource(i){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(i,{responseType:"text"}).pipe(W(s=>this.handleExtension(i,s)))}highlight(i){if(jy(this.platform)&&"undefined"!=typeof Prism){i||(i=document);const s=i.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(s,l=>l.classList.add("language-none")),Prism.highlightAllUnder(i)}}renderKatex(i,s){if(!jy(this.platform))return i;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return i.replace(/\$([^\s][^$]*?[^\s])\$/gm,(l,d)=>katex.renderToString(d,s))}decodeHtml(i){if(!jy(this.platform))return i;const s=document.createElement("textarea");return s.innerHTML=i,s.value}handleExtension(i,s){const l=i?i.split("?")[0].split(".").splice(-1).join():"";return"md"!==l?"```"+l+"\n"+s+"\n```":s}renderEmoji(i){if(!jy(this.platform))return i;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(i)}trimIndentation(i){if(!i)return"";let s;return i.split("\n").map(l=>{let d=s;return l.length>0&&(d=isNaN(d)?l.search(/\S|$/):Math.min(l.search(/\S|$/),d)),isNaN(s)&&(s=d),d?l.substring(d):l}).join("\n")}}return r.\u0275fac=function(i){return new(i||r)(Re(Zm),Re(y5),Re(n1,8),Re(QK,8),Re(rg))},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),x5=(()=>{class r{constructor(i,s){this.element=i,this.markdownService=s,this.error=new Si,this.load=new Si,this.ready=new Si,this._commandLine=!1,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(i){this._emoji=this.coerceBooleanProperty(i)}get katex(){return this._katex}set katex(i){this._katex=this.coerceBooleanProperty(i)}get lineHighlight(){return this._lineHighlight}set lineHighlight(i){this._lineHighlight=this.coerceBooleanProperty(i)}get lineNumbers(){return this._lineNumbers}set lineNumbers(i){this._lineNumbers=this.coerceBooleanProperty(i)}get commandLine(){return this._commandLine}set commandLine(i){this._commandLine=this.coerceBooleanProperty(i)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion()}render(i,s=!1){let l=this.markdownService.compile(i,s,this.emoji);l=this.katex?this.markdownService.renderKatex(l,this.katexOptions):l,this.element.nativeElement.innerHTML=l,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(i){return null!=i&&"false"!=`${String(i)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(i=>{this.render(i),this.load.emit(i)},i=>this.error.emit(i))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,T_.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,T_.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(i,s){const l=i.querySelectorAll("pre");for(let d=0;d<l.length;d++){const y=s instanceof Array?s:[s];l.item(d).classList.add(...y)}}setPluginOptions(i,s){const l=i.querySelectorAll("pre");for(let d=0;d<l.length;d++)Object.keys(s).forEach(y=>{const A=s[y];if(A){const L=this.toLispCase(y);l.item(d).setAttribute(L,A.toString())}})}toLispCase(i){const s=i.match(/([A-Z])/g);if(!s)return i;let l=i.toString();for(let d=0,y=s.length;d<y;d++)l=l.replace(new RegExp(s[d]),"-"+s[d].toLowerCase());return"-"===l.slice(0,1)&&(l=l.slice(1)),l}}return r.\u0275fac=function(i){return new(i||r)(ie(qi),ie(SA))},r.\u0275cmp=_i({type:r,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[er],ngContentSelectors:qK,decls:1,vars:0,template:function(i,s){1&i&&(E(),P(0))},encapsulation:2}),r})(),rZ=(()=>{class r{static forRoot(i){return{ngModule:r,providers:[SA,i&&i.loader||[],i&&i.markedOptions||[],{provide:y5,useValue:i&&null!=i.sanitize?i.sanitize:ir.HTML}]}}static forChild(){return{ngModule:r}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})();function oZ(r,n){1&r&&Oi(0,"mat-progress-bar",2)}function sZ(r,n){1&r&&(_e(0,"mat-error"),ii(1," Name must be unique "),Me())}function aZ(r,n){1&r&&(_e(0,"mat-error"),ii(1," Name is "),_e(2,"strong"),ii(3,"required"),Me(),Me())}function lZ(r,n){if(1&r&&(_e(0,"mat-option",28),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),Vr(i)}}function hZ(r,n){if(1&r&&(_e(0,"mat-option",28),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),Vr(i)}}function uZ(r,n){if(1&r&&(_e(0,"mat-option",28),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),to(" ",i," ")}}function cZ(r,n){if(1&r&&(_e(0,"mat-option",28),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),to(" ",i," ")}}function fZ(r,n){if(1&r&&(_e(0,"mat-option",28),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),to(" ",i," ")}}function dZ(r,n){if(1&r&&(_e(0,"mat-option",28),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),to(" ",i," ")}}function pZ(r,n){if(1&r&&(_e(0,"mat-optgroup",29),bi(1,dZ,2,2,"mat-option",8),Me()),2&r){const i=n.$implicit;Ue("label",i.dance),$e(1),Ue("ngForOf",i.names)}}function mZ(r,n){1&r&&(_e(0,"mat-form-field",4),_e(1,"mat-label"),ii(2,"ToDo"),Me(),Oi(3,"input",30),Me())}function gZ(r,n){if(1&r&&(_e(0,"mat-option",28),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),Vr(i)}}function vZ(r,n){if(1&r&&(_e(0,"div",31),_e(1,"mat-form-field",9),_e(2,"mat-label"),ii(3),Me(),_e(4,"mat-select",32),_e(5,"mat-option"),ii(6,"None"),Me(),bi(7,gZ,2,2,"mat-option",8),Me(),Me(),_e(8,"mat-form-field",9),_e(9,"mat-label"),ii(10),Me(),Oi(11,"input",33),Oi(12,"mat-datepicker-toggle",34),Oi(13,"mat-datepicker",null,35),Me(),Me()),2&r){const i=n.index,s=ol(14),l=x(2);Ue("formGroupName",i),$e(3),to("Course ",i,""),$e(4),Ue("ngForOf",l.courseNames),$e(3),to("Date ",i,""),$e(1),Ue("matDatepicker",s),$e(1),Ue("for",s)}}function yZ(r,n){if(1&r){const i=Ho();_e(0,"button",36),e("click",function(){return Zr(i),x(2).addCourseDateForm()}),_e(1,"mat-icon"),ii(2,"add_circle_outline"),Me(),ii(3,"Add Course Date "),Me()}}function xZ(r,n){1&r&&(_e(0,"mat-form-field",37),_e(1,"mat-label"),ii(2,"Description"),Me(),Oi(3,"textarea",38),Me())}function wZ(r,n){1&r&&(_e(0,"button",39),ii(1,"Save"),Me()),2&r&&Ue("disabled",x(2).moveForm.invalid)}function _Z(r,n){if(1&r){const i=Ho();_e(0,"form",3),e("ngSubmit",function(){return Zr(i),x().onSubmit()}),_e(1,"mat-form-field",4),_e(2,"mat-label"),ii(3,"Name"),Me(),Oi(4,"input",5),bi(5,sZ,2,0,"mat-error",6),bi(6,aZ,4,0,"mat-error",6),Me(),_e(7,"mat-form-field",4),_e(8,"mat-label"),ii(9,"Dance"),Me(),_e(10,"mat-select",7),bi(11,lZ,2,2,"mat-option",8),Me(),Me(),_e(12,"mat-form-field",9),_e(13,"mat-label"),ii(14,"Order"),Me(),Oi(15,"input",10),Me(),_e(16,"mat-form-field",9),_e(17,"mat-label"),ii(18,"Count"),Me(),Oi(19,"input",11),Me(),_e(20,"mat-form-field",9),_e(21,"mat-label"),ii(22,"Type"),Me(),_e(23,"mat-select",12),bi(24,hZ,2,2,"mat-option",8),Me(),Me(),_e(25,"mat-checkbox",13),ii(26,"Name Verified"),Me(),_e(27,"mat-form-field",4),_e(28,"mat-label"),ii(29,"Start Move"),Me(),_e(30,"mat-select",14),bi(31,uZ,2,2,"mat-option",8),Me(),Me(),_e(32,"mat-form-field",4),_e(33,"mat-label"),ii(34,"End Move"),Me(),_e(35,"mat-select",15),bi(36,cZ,2,2,"mat-option",8),Me(),Me(),_e(37,"mat-form-field",4),_e(38,"mat-label"),ii(39,"Related Moves"),Me(),_e(40,"mat-select",16),bi(41,fZ,2,2,"mat-option",8),Me(),Me(),_e(42,"mat-form-field",4),_e(43,"mat-label"),ii(44,"Related Moves Other Dances"),Me(),_e(45,"mat-select",17),bi(46,pZ,2,2,"mat-optgroup",18),Me(),Me(),bi(47,mZ,4,0,"mat-form-field",19),_e(48,"mat-form-field",4),_e(49,"mat-label"),ii(50,"links"),Me(),Oi(51,"input",20),Me(),_e(52,"div",21),bi(53,vZ,15,6,"div",22),bi(54,yZ,4,0,"button",23),Me(),_e(55,"mat-form-field",4),_e(56,"mat-label"),ii(57,"videoname"),Me(),_e(58,"textarea",24),ii(59,'    </mat-form-field>\n   \n    <mat-form-field *ngIf="!readonly">\n        <mat-label>the field that nobody sees</mat-label>\n        <textarea>'),Me(),Me(),bi(60,xZ,4,0,"mat-form-field",25),Oi(61,"div",26),bi(62,wZ,2,1,"button",27),Me()}if(2&r){const i=x();let s,l;Ue("formGroup",i.moveForm),$e(5),Ue("ngIf",(null==(s=i.moveForm.get("name"))?null:s.hasError("nameExists"))&&!(null!=(s=i.moveForm.get("name"))&&s.hasError("required"))),$e(1),Ue("ngIf",null==(l=i.moveForm.get("name"))?null:l.hasError("required")),$e(5),Ue("ngForOf",i.dances),$e(13),Ue("ngForOf",i.types),$e(7),Ue("ngForOf",i.danceMovesNames),$e(5),Ue("ngForOf",i.danceMovesNames),$e(5),Ue("ngForOf",i.danceMovesNames),$e(5),Ue("ngForOf",i.movesGroup),$e(1),Ue("ngIf",!i.readonly),$e(6),Ue("ngForOf",i.getCourseDateControls()),$e(1),Ue("ngIf",!i.readonly),$e(6),Ue("ngIf",!i.readonly),$e(1),Ue("data",i.moveForm.value.description),$e(1),Ue("ngIf",!i.readonly)}}let bZ=(()=>{class r{constructor(i,s,l){this.route=i,this.dataManager=s,this.settings=l,this.dances=new Set,this.types=new Set,this.courseNames=new Set,this.moveForm=new Qp({name:new vr("",[Wy.required,this.nameExistsValidator()]),dance:new vr("",Wy.required),date:new vr(null),order:new vr(""),count:new vr(""),nameVerified:new vr(""),type:new vr("Figur",Wy.required),startMove:new vr([]),endMove:new vr([]),relatedMoves:new vr([]),relatedMovesOtherDances:new vr([]),videoname:new vr(""),description:new vr(""),toDo:new vr(""),links:new vr(""),row:new vr(""),courseDates:new L6([])}),this.otherMovesNames=new Set,this.danceMovesNames=new Set,this.loaded=!1,this.nameParam="",this.readonly=!1,this.createCourseDateForm=()=>new Qp({course:new vr(""),date:new vr(null),row:new vr("")}),this.addCourseDateForm=()=>{this.moveForm.get("courseDates").push(this.createCourseDateForm())},this.removeOrClearCourseDate=d=>{const y=this.moveForm.get("courseDates");y.length>1?y.removeAt(d):y.reset()}}ngOnInit(){this.route.paramMap.subscribe(i=>{this.init(i)}),this.moveForm.valueChanges.subscribe(i=>{console.log(i)}),this.dataManager.getGroupedMoveNames().subscribe(i=>{this.movesGroup=i})}init(i){var s=this;return Sd(function*(){yield s.dataManager.loading(),s.dances=s.dataManager.getDances(),s.types=s.dataManager.getTypes(),s.courseNames=s.dataManager.getCourseNames(),s.otherMovesNames=s.dataManager.getMovesNames(),s.otherMovesNames.add("new"),i.has("name")&&(s.nameParam=i.get("name"),s.nameParam=decodeURI(s.nameParam),"new"==s.nameParam?s.move&&(s.moveForm.reset(),s.move=JSON.parse(JSON.stringify(s.move)),s.move&&(s.move.row=NaN)):(s.move=s.dataManager.getMove(s.nameParam),s.move&&(s.move.courseDates.forEach(s.addCourseDateForm),s.otherMovesNames.delete(s.move.name))),s.moveForm.valueChanges.subscribe(l=>{var d;s.move=l,s.danceMovesNames=s.dataManager.getMovesNamesOf(null===(d=s.move)||void 0===d?void 0:d.dance)}),s.move&&s.moveForm.patchValue(s.move),s.moveForm.updateValueAndValidity(),s.settings.secretWrite||(s.moveForm.disable(),s.readonly=!0),s.loaded=!0)})()}getCourseDateControls(){return this.moveForm.get("courseDates").controls}onSubmit(){this.moveForm.valid&&this.move&&(this.loaded=!1,this.readonly=!0,this.moveForm.disable(),this.dataManager.saveOrCreate(this.move).subscribe(i=>{this.moveForm.patchValue(i),this.loaded=!0,this.readonly=!1,this.moveForm.enable()}))}nameExistsValidator(){return i=>{var s;return(null===(s=this.otherMovesNames)||void 0===s?void 0:s.has(i.value))?{nameExists:{value:i.value}}:null}}}return r.\u0275fac=function(i){return new(i||r)(ie(tf),ie(A_),ie(k_))},r.\u0275cmp=_i({type:r,selectors:[["app-move-page"]],decls:2,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],["mode","indeterminate"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width-adaptive"],["matInput","","formControlName","name"],[4,"ngIf"],["formControlName","dance"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"half-width"],["type","number","matInput","","formControlName","order"],["type","number","matInput","","formControlName","count"],["formControlName","type"],["formControlName","nameVerified",1,"half-width"],["formControlName","startMove","multiple",""],["formControlName","endMove","multiple",""],["formControlName","relatedMoves","multiple",""],["formControlName","relatedMovesOtherDances","multiple",""],[3,"label",4,"ngFor","ngForOf"],["appearance","fill","class","full-width-adaptive",4,"ngIf"],["matInput","","formControlName","links"],["formArrayName","courseDates"],["class","full-width",3,"formGroupName",4,"ngFor","ngForOf"],["mat-icon-button","","color","primary","type","button","aria-label","Add","matTooltip","Add Course Date",3,"click",4,"ngIf"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","100","matInput","","formControlName","videoname"],["appearance","fill","class","full-width",4,"ngIf"],["markdown","",3,"data"],["mat-raised-button","","color","primary","type","submit",3,"disabled",4,"ngIf"],[3,"value"],[3,"label"],["matInput","","formControlName","toDo"],[1,"full-width",3,"formGroupName"],["formControlName","course"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-icon-button","","color","primary","type","button","aria-label","Add","matTooltip","Add Course Date",3,"click"],["appearance","fill",1,"full-width"],["cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","100","matInput","","formControlName","description"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,s){1&i&&(bi(0,oZ,1,0,"mat-progress-bar",0),bi(1,_Z,63,15,"form",1)),2&i&&(Ue("ngIf",!s.loaded),$e(1),Ue("ngIf",s.loaded||s.move))},directives:[Zl,CA,Zw,Gw,vd,uC,Qy,Nk,Gy,Uw,$y,Jk,ng,IE,VP,A2,TG,x5,wG,o_,OP,k2,Gk,vW,SG,cW,r0,HI],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.full-width-adaptive[_ngcontent-%COMP%]{width:100%;max-width:500px}.half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}.mat-input-element[_ngcontent-%COMP%]:disabled, .mat-form-field-type-mat-native-select.mat-form-field-disabled[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]:after{color:#fff}.mat-select-disabled[_ngcontent-%COMP%]     .mat-select-value{color:#fff}"]}),r})();var ra=vt(6961),w5=vt(4317),Mg=(()=>{return(r=Mg||(Mg={})).highchartsNetworkgraph="highcharts networkgraph",r.gojsInteractiveForce="gojs interactiveForce",Mg;var r})();function Ns(r){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+r+(i.length?" "+i.map(function(y){return"'"+y+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Dd(r){return!!r&&!!r[jn]}function ef(r){return!!r&&(function(n){if(!n||"object"!=typeof n)return!1;var i=Object.getPrototypeOf(n);if(null===i)return!0;var s=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return s===Object||"function"==typeof s&&Function.toString.call(s)===PZ}(r)||Array.isArray(r)||!!r[O_]||!!r.constructor[O_]||GC(r)||WC(r))}function Ed(r,n,i){void 0===i&&(i=!1),0===l0(r)?(i?Object.keys:l1)(r).forEach(function(s){i&&"symbol"==typeof s||n(s,r[s],r)}):r.forEach(function(s,l){return n(l,s,r)})}function l0(r){var n=r[jn];return n?n.i>3?n.i-4:n.i:Array.isArray(r)?1:GC(r)?2:WC(r)?3:0}function h0(r,n){return 2===l0(r)?r.has(n):Object.prototype.hasOwnProperty.call(r,n)}function _5(r,n,i){var s=l0(r);2===s?r.set(n,i):3===s?(r.delete(n),r.add(i)):r[n]=i}function GC(r){return AZ&&r instanceof Map}function WC(r){return TZ&&r instanceof Set}function Fs(r){return r.o||r.t}function DA(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var n=A5(r);delete n[jn];for(var i=l1(n),s=0;s<i.length;s++){var l=i[s],d=n[l];!1===d.writable&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:r[l]})}return Object.create(Object.getPrototypeOf(r),n)}function EA(r,n){return void 0===n&&(n=!1),kA(r)||Dd(r)||!ef(r)||(l0(r)>1&&(r.set=r.add=r.clear=r.delete=MZ),Object.freeze(r),n&&Ed(r,function(i,s){return EA(s,!0)},!0)),r}function MZ(){Ns(2)}function kA(r){return null==r||"object"!=typeof r||Object.isFrozen(r)}function kd(r){var n=LA[r];return n||Ns(18,r),n}function P_(){return R_}function TA(r,n){n&&(kd("Patches"),r.u=[],r.s=[],r.v=n)}function YC(r){PA(r),r.p.forEach(CZ),r.p=null}function PA(r){r===R_&&(R_=r.l)}function M5(r){return R_={p:[],l:R_,h:r,m:!0,_:0}}function CZ(r){var n=r[jn];0===n.i||1===n.i?n.j():n.O=!0}function IA(r,n){n._=n.p.length;var i=n.p[0],s=void 0!==r&&r!==i;return n.h.g||kd("ES5").S(n,r,s),s?(i[jn].P&&(YC(n),Ns(4)),ef(r)&&(r=$C(n,r),n.l||XC(n,r)),n.u&&kd("Patches").M(i[jn],r,n.u,n.s)):r=$C(n,i,[]),YC(n),n.u&&n.v(n.u,n.s),r!==FA?r:void 0}function $C(r,n,i){if(kA(n))return n;var s=n[jn];if(!s)return Ed(n,function(d,y){return C5(r,s,n,d,y,i)},!0),n;if(s.A!==r)return n;if(!s.P)return XC(r,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var l=4===s.i||5===s.i?s.o=DA(s.k):s.o;Ed(3===s.i?new Set(l):l,function(d,y){return C5(r,s,l,d,y,i)}),XC(r,l,!1),i&&r.u&&kd("Patches").R(s,i,r.u,r.s)}return s.o}function C5(r,n,i,s,l,d){if(Dd(l)){var y=$C(r,l,d&&n&&3!==n.i&&!h0(n.D,s)?d.concat(s):void 0);if(_5(i,s,y),!Dd(y))return;r.m=!1}if(ef(l)&&!kA(l)){if(!r.h.F&&r._<1)return;$C(r,l),n&&n.A.l||XC(r,l)}}function XC(r,n,i){void 0===i&&(i=!1),r.h.F&&r.m&&EA(n,i)}function RA(r,n){var i=r[jn];return(i?Fs(i):r)[n]}function S5(r,n){if(n in r)for(var i=Object.getPrototypeOf(r);i;){var s=Object.getOwnPropertyDescriptor(i,n);if(s)return s;i=Object.getPrototypeOf(i)}}function ih(r){r.P||(r.P=!0,r.l&&ih(r.l))}function OA(r){r.o||(r.o=DA(r.t))}function I_(r,n,i){var s=GC(n)?kd("MapSet").N(n,i):WC(n)?kd("MapSet").T(n,i):r.g?function(l,d){var y=Array.isArray(l),A={i:y?1:0,A:d?d.A:P_(),P:!1,I:!1,D:{},l:d,t:l,k:null,o:null,j:null,C:!1},L=A,tt=h1;y&&(L=[A],tt=ZC);var ft=Proxy.revocable(L,tt),Et=ft.revoke,Ft=ft.proxy;return A.k=Ft,A.j=Et,Ft}(n,i):kd("ES5").J(n,i);return(i?i.A:P_()).p.push(s),s}function D5(r,n){switch(n){case 2:return new Map(r);case 3:return Array.from(r)}return DA(r)}var E5,R_,NA="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),AZ="undefined"!=typeof Map,TZ="undefined"!=typeof Set,k5="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,FA=NA?Symbol.for("immer-nothing"):((E5={})["immer-nothing"]=!0,E5),O_=NA?Symbol.for("immer-draftable"):"__$immer_draftable",jn=NA?Symbol.for("immer-state"):"__$immer_state",PZ=("undefined"!=typeof Symbol&&Symbol,""+Object.prototype.constructor),l1="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,A5=Object.getOwnPropertyDescriptors||function(r){var n={};return l1(r).forEach(function(i){n[i]=Object.getOwnPropertyDescriptor(r,i)}),n},LA={},h1={get:function(r,n){if(n===jn)return r;var l,A,L,i=Fs(r);if(!h0(i,n))return l=r,(L=S5(i,n))?"value"in L?L.value:null===(A=L.get)||void 0===A?void 0:A.call(l.k):void 0;var s=i[n];return r.I||!ef(s)?s:s===RA(r.t,n)?(OA(r),r.o[n]=I_(r.A.h,s,r)):s},has:function(r,n){return n in Fs(r)},ownKeys:function(r){return Reflect.ownKeys(Fs(r))},set:function(r,n,i){var s=S5(Fs(r),n);if(null==s?void 0:s.set)return s.set.call(r.k,i),!0;if(!r.P){var l=RA(Fs(r),n),d=null==l?void 0:l[jn];if(d&&d.t===i)return r.o[n]=i,r.D[n]=!1,!0;if(function(r,n){return r===n?0!==r||1/r==1/n:r!=r&&n!=n}(i,l)&&(void 0!==i||h0(r.t,n)))return!0;OA(r),ih(r)}return r.o[n]===i&&"number"!=typeof i&&(void 0!==i||n in r.o)||(r.o[n]=i,r.D[n]=!0,!0)},deleteProperty:function(r,n){return void 0!==RA(r.t,n)||n in r.t?(r.D[n]=!1,OA(r),ih(r)):delete r.D[n],r.o&&delete r.o[n],!0},getOwnPropertyDescriptor:function(r,n){var i=Fs(r),s=Reflect.getOwnPropertyDescriptor(i,n);return s&&{writable:!0,configurable:1!==r.i||"length"!==n,enumerable:s.enumerable,value:i[n]}},defineProperty:function(){Ns(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){Ns(12)}},ZC={};Ed(h1,function(r,n){ZC[r]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),ZC.deleteProperty=function(r,n){return h1.deleteProperty.call(this,r[0],n)},ZC.set=function(r,n,i){return h1.set.call(this,r[0],n,i,r[0])};var Th=new(function(){function r(i){var s=this;this.g=k5,this.F=!0,this.produce=function(l,d,y){if("function"==typeof l&&"function"!=typeof d){var A=d;d=l;var L=s;return function(zt){var Xt=this;void 0===zt&&(zt=A);for(var ce=arguments.length,de=Array(ce>1?ce-1:0),Ie=1;Ie<ce;Ie++)de[Ie-1]=arguments[Ie];return L.produce(zt,function(Pe){var Ze;return(Ze=d).call.apply(Ze,[Xt,Pe].concat(de))})}}var tt;if("function"!=typeof d&&Ns(6),void 0!==y&&"function"!=typeof y&&Ns(7),ef(l)){var ft=M5(s),Et=I_(s,l,void 0),Ft=!0;try{tt=d(Et),Ft=!1}finally{Ft?YC(ft):PA(ft)}return"undefined"!=typeof Promise&&tt instanceof Promise?tt.then(function(zt){return TA(ft,y),IA(zt,ft)},function(zt){throw YC(ft),zt}):(TA(ft,y),IA(tt,ft))}if(!l||"object"!=typeof l)return(tt=d(l))===FA?void 0:(void 0===tt&&(tt=l),s.F&&EA(tt,!0),tt);Ns(21,l)},this.produceWithPatches=function(l,d){return"function"==typeof l?function(L){for(var tt=arguments.length,ft=Array(tt>1?tt-1:0),Et=1;Et<tt;Et++)ft[Et-1]=arguments[Et];return s.produceWithPatches(L,function(Ft){return l.apply(void 0,[Ft].concat(ft))})}:[s.produce(l,d,function(L,tt){y=L,A=tt}),y,A];var y,A},"boolean"==typeof(null==i?void 0:i.useProxies)&&this.setUseProxies(i.useProxies),"boolean"==typeof(null==i?void 0:i.autoFreeze)&&this.setAutoFreeze(i.autoFreeze)}var n=r.prototype;return n.createDraft=function(i){ef(i)||Ns(8),Dd(i)&&(i=function(r){return Dd(r)||Ns(22,r),function n(i){if(!ef(i))return i;var s,l=i[jn],d=l0(i);if(l){if(!l.P&&(l.i<4||!kd("ES5").K(l)))return l.t;l.I=!0,s=D5(i,d),l.I=!1}else s=D5(i,d);return Ed(s,function(y,A){l&&function(r,n){return 2===l0(r)?r.get(n):r[n]}(l.t,y)===A||_5(s,y,n(A))}),3===d?new Set(s):s}(r)}(i));var s=M5(this),l=I_(this,i,void 0);return l[jn].C=!0,PA(s),l},n.finishDraft=function(i,s){var d=(i&&i[jn]).A;return TA(d,s),IA(void 0,d)},n.setAutoFreeze=function(i){this.F=i},n.setUseProxies=function(i){i&&!k5&&Ns(20),this.g=i},n.applyPatches=function(i,s){var l;for(l=s.length-1;l>=0;l--){var d=s[l];if(0===d.path.length&&"replace"===d.op){i=d.value;break}}l>-1&&(s=s.slice(l+1));var y=kd("Patches").$;return Dd(i)?y(i,s):this.produce(i,function(A){return y(A,s)})},r}()),RZ=Th.produce;Th.produceWithPatches.bind(Th),Th.setAutoFreeze.bind(Th),Th.setUseProxies.bind(Th),Th.applyPatches.bind(Th),Th.createDraft.bind(Th),Th.finishDraft.bind(Th);const T5=RZ,OZ=["ngDiagram"];class Ad{constructor(){}static makeMouseMoveRunOutsideAngularZone(n,i){n.addEventListener=(s,l,d,y)=>{const A=ra.Diagram.prototype.addEventListener;"mousemove"===l?i.runOutsideAngular(()=>A.call(this,s,l,d,y)):i.run(()=>{A.call(this,s,l,d,y)})}}static initializeModel(n,i,s,l){n.delayInitialization(()=>{n.model.commit(y=>{l&&y.assignAllDataProperties(y.modelData,l),y.mergeNodeDataArray(y.cloneDeep(i)),s&&y instanceof ra.GraphLinksModel&&y.mergeLinkDataArray(y.cloneDeep(s))},null)})}static initializeModelChangedListener(n){var i=null;!n.hasOwnProperty("diagram")&&!n.hasOwnProperty("palette")||(n.hasOwnProperty("diagram")&&(i=n.diagram),n.hasOwnProperty("palette")&&(i=n.palette),n.modelChangedListener=s=>{s.isTransactionFinished&&s.model&&!s.model.isReadOnly&&n.modelChange&&n.zone.run(()=>{const l=s.model.toIncrementalData(s);null!==l&&n.modelChange.emit(l)})},i.addModelChangedListener(n.modelChangedListener))}static mergeAppDataWithModel(n,i){var s=null;n.hasOwnProperty("diagram")&&(s=n.diagram),n.hasOwnProperty("palette")&&(s=n.palette),s.model.commit(l=>{i&&(s.model.modelData={}),s.model.assignAllDataProperties(s.model.modelData,n.modelData),i&&(s.model.nodeDataArray=[]),s.model.mergeNodeDataArray(n.nodeDataArray),n.linkDataArray&&s.model instanceof ra.GraphLinksModel&&(i&&(s.model.linkDataArray=[]),s.model.mergeLinkDataArray(n.linkDataArray))},i?null:"update data")}}let LZ=(()=>{class r{constructor(i){this.zone=i,this.linkDataArray=null,this.modelData=null,this.modelChangedListener=null,this.skipsDiagramUpdate=!1,this.modelChange=new Si,this.diagram=null,this.wasCleared=!1}ngAfterViewInit(){if(!this.diagramDiv)throw new Error("diagramDiv is not defined");if(this.diagram=this.initDiagram(),!(this.diagram instanceof ra.Diagram))throw new Error("initDiagram function did not return a go.Diagram");Ad.makeMouseMoveRunOutsideAngularZone(this.diagram,this.zone);const i=this.diagramDiv.nativeElement;null!==i&&(this.diagram.div=i,Ad.initializeModel(this.diagram,this.nodeDataArray,this.linkDataArray,this.modelData),Ad.initializeModelChangedListener(this))}ngOnChanges(){!this.diagram||!this.diagram.model||this.skipsDiagramUpdate||(this.wasCleared?(this.diagram.delayInitialization(()=>{Ad.mergeAppDataWithModel(this,!0)}),this.wasCleared=!1):Ad.mergeAppDataWithModel(this))}clear(){const i=this.diagram;null!==i&&(i.clear(),this.wasCleared=!0)}ngOnDestroy(){this.diagram.div=null}}return r.\u0275fac=function(i){return new(i||r)(ie(Ji))},r.\u0275cmp=_i({type:r,selectors:[["gojs-diagram"]],viewQuery:function(i,s){if(1&i&&Or(OZ,7),2&i){let l;Wi(l=Yi())&&(s.diagramDiv=l.first)}},inputs:{linkDataArray:"linkDataArray",modelData:"modelData",skipsDiagramUpdate:"skipsDiagramUpdate",initDiagram:"initDiagram",nodeDataArray:"nodeDataArray",divClassName:"divClassName"},outputs:{modelChange:"modelChange"},features:[er],decls:2,vars:1,consts:[[3,"className"],["ngDiagram",""]],template:function(i,s){1&i&&Oi(0,"div",0,1),2&i&&Ue("className",s.divClassName)},encapsulation:2}),r})(),BZ=(()=>{class r{static syncNodeData(i,s,l){if(!i||!i.modifiedNodeData&&!i.insertedNodeKeys&&!i.removedNodeKeys)return s;const d=new ra.Map;return T5(s,A=>{if(i.modifiedNodeData&&i.modifiedNodeData.forEach(L=>{const tt=l?l.getKeyForNodeData(L):L.key;d.set(tt,L);for(let ft=0;ft<s.length;ft++){const Et=s[ft];(l?l.getKeyForNodeData(Et):Et.key)===tt&&(A[ft]=L)}}),i.insertedNodeKeys&&i.insertedNodeKeys.forEach(L=>{const tt=d.get(L);tt&&A.push(tt)}),i.removedNodeKeys)return A.filter(L=>{const tt=l?l.getKeyForNodeData(L):L.key;return!i.removedNodeKeys.includes(tt)})})}static syncLinkData(i,s,l){if(!i||!i.modifiedLinkData&&!i.insertedLinkKeys&&!i.removedLinkKeys)return s;const d=new ra.Map;return s=T5(s,y=>{if(i.modifiedLinkData&&i.modifiedLinkData.forEach(A=>{const L=l?l.getKeyForLinkData(A):A.key;d.set(L,A);for(let tt=0;tt<s.length;tt++){const ft=s[tt];(l?l.getKeyForLinkData(ft):ft.key)===L&&(y[tt]=A)}}),i.insertedLinkKeys&&i.insertedLinkKeys.forEach(A=>{const L=d.get(A);L&&y.push(L)}),i.removedLinkKeys)return y.filter(A=>{const L=l?l.getKeyForLinkData(A):A.key;return!i.removedLinkKeys.includes(L)})})}static syncModelData(i,s){return i&&i.modelData?i.modelData?i.modelData:void 0:s}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ti({token:r,factory:r.\u0275fac}),r})(),VZ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({providers:[BZ],imports:[[]]}),r})();const jZ=["chart"];function HZ(r,n){1&r&&Oi(0,"mat-progress-bar",9)}function zZ(r,n){if(1&r&&(_e(0,"mat-option",10),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),to(" ",i," ")}}function UZ(r,n){if(1&r&&(_e(0,"mat-option",10),ii(1),Me()),2&r){const i=n.$implicit;Ue("value",i),$e(1),to(" ",i," ")}}function GZ(r,n){if(1&r){const i=Ho();_e(0,"gojs-diagram",11),e("modelChange",function(l){return Zr(i),x().diagramModelChange(l)}),Me()}if(2&r){const i=x();Ue("initDiagram",i.initDiagram)("divClassName",i.diagramDivClassName)("nodeDataArray",i.state.diagramNodeData)("linkDataArray",i.state.diagramLinkData)("modelData",i.state.diagramModelData)("skipsDiagramUpdate",i.state.skipsDiagramUpdate)}}let WZ=(()=>{class r{constructor(i,s,l){this.dataManagerService=i,this.route=s,this.router=l,this.loaded=!1,this.showGoJs=!1,this.relationTypes=[xl.start,xl.end,xl.related,xl.otherDance],this.displayTypes=[Mg.highchartsNetworkgraph,Mg.gojsInteractiveForce],this.relationsForm=new Qp({relationTypes:new vr([]),displayType:new vr("")}),this.state={diagramNodeData:[{id:"Alpha",text:"Alpha",color:"lightblue"},{id:"Beta",text:"Beta",color:"orange"}],diagramLinkData:[{key:-1,from:"Alpha",to:"Beta"}],diagramModelData:{prop:"value"},skipsDiagramUpdate:!1,paletteNodeData:[{key:"PaletteNode1",color:"firebrick"},{key:"PaletteNode2",color:"blueviolet"}]},this.diagramDivClassName="myDiagramDiv",this.paletteDivClassName="myPaletteDiv",this.diagramModelChange=function(d){console.log(d)},vt(742)(w5)}ngOnInit(){var i=this;return Sd(function*(){yield i.dataManagerService.loading(),i.loaded=!0,i.valueChangesSubscription=i.relationsForm.valueChanges.pipe(os(s=>i.router.navigate([],{queryParams:s,queryParamsHandling:"merge"})),ja(s=>i.dataManagerService.getRelationPairs(s.relationTypes))).subscribe(s=>{var l;(null===(l=i.relationsForm.get("displayType"))||void 0===l?void 0:l.value)===Mg.highchartsNetworkgraph?(i.showGoJs=!1,i.createHighchart(s)):i.showGoJs=!0}),i.route.queryParams.subscribe(s=>{var l;console.log(s);let d=s.relationTypes;d?"string"==typeof d&&(d=[d]):d=[xl.start,xl.end,xl.related,xl.otherDance];let y=null===(l=s.displayType)||void 0===l?void 0:l.trim();y||(y=Mg.highchartsNetworkgraph),i.relationsForm.patchValue({relationTypes:d,displayType:y})})})()}createHighchart(i){w5.chart(this.chartViewChild.nativeElement,{chart:{type:"networkgraph",plotBorderWidth:0,backgroundColor:"transparent"},title:{text:"Relations",style:{fontFamily:"monospace",color:"#fff"}},plotOptions:{networkgraph:{keys:["from","to"],layoutAlgorithm:{enableSimulation:!1,integration:"verlet",linkLength:100}}},series:[{name:"K8",marker:{radius:20,fillColor:"#c2185b"},dataLabels:{enabled:!0,textPath:{enabled:!0,attributes:{dy:9,startOffset:"45%",fill:"#fff"}},style:{fontSize:"9",fontWeight:"100"},linkFormat:"",allowOverlap:!0},data:i}]})}ngOnDestroy(){var i;null===(i=this.valueChangesSubscription)||void 0===i||i.unsubscribe()}initDiagram(){const i=ra.GraphObject.make,s=i(ra.Diagram,{"undoManager.isEnabled":!0,model:i(ra.GraphLinksModel,{nodeKeyProperty:"id",linkKeyProperty:"key"})});return s.nodeTemplate=i(ra.Node,"Auto",i(ra.Shape,"RoundedRectangle",{stroke:null},new ra.Binding("fill","color")),i(ra.TextBlock,{margin:8,editable:!0},new ra.Binding("text").makeTwoWay())),s}}return r.\u0275fac=function(i){return new(i||r)(ie(A_),ie(tf),ie(na))},r.\u0275cmp=_i({type:r,selectors:[["ng-component"]],viewQuery:function(i,s){if(1&i&&Or(jZ,5),2&i){let l;Wi(l=Yi())&&(s.chartViewChild=l.first)}},decls:15,vars:6,consts:[["mode","indeterminate",4,"ngIf"],[3,"formGroup"],["appearance","fill",1,"full-width-adaptive"],["formControlName","relationTypes","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","displayType"],[1,"chart-container",3,"hidden"],["chart",""],[3,"initDiagram","divClassName","nodeDataArray","linkDataArray","modelData","skipsDiagramUpdate","modelChange",4,"ngIf"],["mode","indeterminate"],[3,"value"],[3,"initDiagram","divClassName","nodeDataArray","linkDataArray","modelData","skipsDiagramUpdate","modelChange"]],template:function(i,s){1&i&&(bi(0,HZ,1,0,"mat-progress-bar",0),_e(1,"form",1),_e(2,"mat-form-field",2),_e(3,"mat-label"),ii(4,"Relation Types"),Me(),_e(5,"mat-select",3),bi(6,zZ,2,2,"mat-option",4),Me(),Me(),_e(7,"mat-form-field",2),_e(8,"mat-label"),ii(9,"Display Type"),Me(),_e(10,"mat-select",5),bi(11,UZ,2,2,"mat-option",4),Me(),Me(),Me(),Oi(12,"div",6,7),bi(14,GZ,1,6,"gojs-diagram",8)),2&i&&(Ue("ngIf",!s.loaded),$e(1),Ue("formGroup",s.relationsForm),$e(5),Ue("ngForOf",s.relationTypes),$e(5),Ue("ngForOf",s.displayTypes),$e(1),Ue("hidden",s.showGoJs),$e(2),Ue("ngIf",s.showGoJs))},directives:[Zl,Zw,Gw,vd,uC,Qy,Jk,Uw,$y,ng,CA,o_,LZ],styles:[".chart-container{width:100%;margin:0 auto;height:100%}.full-width-adaptive{width:100%;max-width:500px}.myDiagramDiv{width:100%;margin:0 auto;height:100%}\n"],encapsulation:2}),r})();class YZ{constructor(n,i){this._document=i;const s=this._textarea=this._document.createElement("textarea"),l=s.style;l.position="fixed",l.top=l.opacity="0",l.left="-999em",s.setAttribute("aria-hidden","true"),s.value=n,this._document.body.appendChild(s)}copy(){const n=this._textarea;let i=!1;try{if(n){const s=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),i=this._document.execCommand("copy"),s&&s.focus()}}catch(s){}return i}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let $Z=(()=>{class r{constructor(i){this._document=i}copy(i){const s=this.beginCopy(i),l=s.copy();return s.destroy(),l}beginCopy(i){return new YZ(i,this._document)}}return r.\u0275fac=function(i){return new(i||r)(Re(Mn))},r.\u0275prov=ti({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const XZ=new ui("CDK_COPY_TO_CLIPBOARD_CONFIG");let KZ=(()=>{class r{constructor(i,s,l){this._clipboard=i,this._ngZone=s,this.text="",this.attempts=1,this.copied=new Si,this._pending=new Set,l&&null!=l.attempts&&(this.attempts=l.attempts)}copy(i=this.attempts){if(i>1){let s=i;const l=this._clipboard.beginCopy(this.text);this._pending.add(l);const d=()=>{const y=l.copy();y||!--s||this._destroyed?(this._currentTimeout=null,this._pending.delete(l),l.destroy(),this.copied.emit(y)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(d,1))};d()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(i=>i.destroy()),this._pending.clear(),this._destroyed=!0}}return r.\u0275fac=function(i){return new(i||r)(ie($Z),ie(Ji),ie(XZ,8))},r.\u0275dir=li({type:r,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(i,s){1&i&&e("click",function(){return s.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),r})(),ZZ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({}),r})();const qZ=[{path:"",redirectTo:"moves",pathMatch:"full"},{path:"settings",component:(()=>{class r{constructor(i,s){this.settings=i,this.router=s,this.settingsForm=new Qp({secretRead:new vr(""),secretWrite:new vr("")}),this.url=this.createUrl()}ngOnInit(){this.settingsForm.patchValue({secretRead:this.settings.secretReadString,secretWrite:this.settings.secretWriteString}),this.settingsForm.valueChanges.subscribe(i=>{this.router.navigate([],{queryParams:{secret:i.secretRead,"secret-write":i.secretWrite},queryParamsHandling:"merge"}),this.url=this.createUrl()})}createUrl(){const i=[];return this.settings.secretReadString&&i.push(`secret=${this.settings.secretReadString}`),this.settings.secretWriteString&&i.push(`secret-write=${this.settings.secretWriteString}`),i.length>0?`${document.baseURI}?${i.join("&")}`:document.baseURI}onSubmit(){}}return r.\u0275fac=function(i){return new(i||r)(ie(k_),ie(na))},r.\u0275cmp=_i({type:r,selectors:[["ng-component"]],decls:15,vars:3,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width-adaptive"],["matInput","","formControlName","secretRead"],["matInput","","formControlName","secretWrite"],["readonly","","matInput","",3,"value"],["mat-raised-button","","color","primary",3,"cdkCopyToClipboard"]],template:function(i,s){1&i&&(_e(0,"form",0),e("ngSubmit",function(){return s.onSubmit()}),_e(1,"mat-form-field",1),_e(2,"mat-label"),ii(3,"Secret for reading"),Me(),Oi(4,"input",2),Me(),_e(5,"mat-form-field",1),_e(6,"mat-label"),ii(7,"Secret for writing"),Me(),Oi(8,"input",3),Me(),_e(9,"mat-form-field",1),_e(10,"mat-label"),ii(11,"Resulting Url"),Me(),Oi(12,"input",4),Me(),_e(13,"button",5),ii(14,"Copy Url"),Me(),Me()),2&i&&(Ue("formGroup",s.settingsForm),$e(12),Ue("value",s.url),$e(1),Ue("cdkCopyToClipboard",s.url))},directives:[Zw,Gw,vd,uC,Qy,Nk,Gy,Uw,$y,r0,KZ],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.full-width-adaptive[_ngcontent-%COMP%]{width:100%;max-width:500px}.half-width[_ngcontent-%COMP%]{width:50%;max-width:250px}"]}),r})()},{path:"dances",component:iK},{path:"moves",component:ZK},{path:"move/:name",component:bZ},{path:"relations",component:WZ}];let JZ=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r}),r.\u0275inj=en({imports:[[n5.forRoot(qZ)],n5]}),r})();class QZ extends _{constructor(n=1/0,i=1/0,s=dE){super(),this._bufferSize=n,this._windowTime=i,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,i)}next(n){const{isStopped:i,_buffer:s,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:y}=this;i||(s.push(n),!l&&s.push(d.now()+y)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(n),{_infiniteTimeWindow:s,_buffer:l}=this,d=l.slice();for(let y=0;y<d.length&&!n.closed;y+=s?1:2)n.next(d[y]);return this._checkFinalizedStatuses(n),i}_trimBuffer(){const{_bufferSize:n,_timestampProvider:i,_buffer:s,_infiniteTimeWindow:l}=this,d=(l?1:2)*n;if(n<1/0&&d<s.length&&s.splice(0,s.length-d),!l){const y=i.now();let A=0;for(let L=1;L<s.length&&s[L]<=y;L+=2)A=L;A&&s.splice(0,A+1)}}}function eq(r,n){if(1&r){const i=Ho();_e(0,"button",12),e("click",function(){return Zr(i),x(),ol(2).toggle()}),_e(1,"mat-icon",13),ii(2,"menu"),Me(),Me()}}function iq(r,n){if(1&r){const i=Ho();_e(0,"button",14),e("click",function(){return Zr(i),x().normalize()}),_e(1,"mat-icon"),ii(2,"list"),Me(),Me()}}function nq(r,n){1&r&&(_e(0,"button",15),_e(1,"mat-icon",16),ii(2,"add_circle_outline"),Me(),Me())}let rq=(()=>{class r{constructor(i,s,l){this.breakpointObserver=i,this.dataManager=s,this.settingsService=l,this.devMode=!1,this.readonly=!0,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe(W(d=>d.matches),function(r,n,i){let d,y=!1;return d=1/0,lr({connector:()=>new QZ(d,n,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:y})}())}ngOnInit(){var i=this;return Sd(function*(){yield i.settingsService.loading(),i.readonly=!i.settingsService.secretWriteString})()}normalize(){this.dataManager.normalize()}}return r.\u0275fac=function(i){return new(i||r)(ie(r6),ie(A_),ie(k_))},r.\u0275cmp=_i({type:r,selectors:[["app-nav"]],decls:27,vars:14,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","dances","queryParamsHandling","merge"],["mat-list-item","","routerLink","moves","queryParamsHandling","merge"],["mat-list-item","","routerLink","relations","queryParamsHandling","merge"],["mat-list-item","","routerLink","settings","queryParamsHandling","merge"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"spacer"],["mat-mini-fab","","color","primary","aria-label","normalize",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","aria-label","create new move",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-mini-fab","","color","primary","aria-label","normalize",3,"click"],["mat-mini-fab","","color","primary","aria-label","create new move"],["routerLink","/move/new"]],template:function(i,s){1&i&&(_e(0,"mat-sidenav-container",0),_e(1,"mat-sidenav",1,2),Xm(3,"async"),Xm(4,"async"),Xm(5,"async"),_e(6,"mat-toolbar"),ii(7,"Menu"),Me(),_e(8,"mat-nav-list"),_e(9,"a",3),ii(10,"Dances"),Me(),_e(11,"a",4),ii(12,"Dance Moves"),Me(),_e(13,"a",5),ii(14,"Relations"),Me(),_e(15,"a",6),ii(16,"Settings"),Me(),Me(),Me(),_e(17,"mat-sidenav-content"),_e(18,"mat-toolbar",7),bi(19,eq,3,0,"button",8),Xm(20,"async"),_e(21,"span"),ii(22,"Dancing Moves"),Me(),Oi(23,"span",9),bi(24,iq,3,0,"button",10),bi(25,nq,3,0,"button",11),Me(),Oi(26,"router-outlet"),Me(),Me()),2&i&&($e(1),Ue("mode",Ay(4,8,s.isHandset$)?"over":"side")("opened",!1===Ay(5,10,s.isHandset$)),yn("role",Ay(3,6,s.isHandset$)?"dialog":"navigation"),$e(18),Ue("ngIf",Ay(20,12,s.isHandset$)),$e(5),Ue("ngIf",s.devMode&&!s.readonly),$e(1),Ue("ngIf",!s.readonly))},directives:[eR,tR,YY,nY,rY,BC,eA,Zl,mA,r0,HI,LC],pipes:[QD],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),r})(),oq=(()=>{class r{constructor(i,s){this.settingsService=i,this.dataManagerService=s,this.title="dancing-moves"}ngOnInit(){this.settingsService.fetchSettings(),this.dataManagerService.start()}}return r.\u0275fac=function(i){return new(i||r)(ie(k_),ie(A_))},r.\u0275cmp=_i({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(i,s){1&i&&Oi(0,"app-nav")},directives:[rq],styles:[""]}),r})(),sq=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=cn({type:r,bootstrap:[oq]}),r.\u0275inj=en({providers:[iR,{provide:DP,useValue:"de-DE"}],imports:[[G4,vz,dV,$Y,Ek,HY,GW,uY,tU,cC,AY,OG,yW,JZ,aj,Tz,cU,IK,RW,ZZ,VK,c5,VZ,rZ.forRoot()]]}),r})();(function(){if(aT)throw new Error("Cannot enable prod mode after platform setup.");sT=!1})(),G7().bootstrapModule(sq).catch(r=>console.error(r))},950:()=>{},6601:()=>{},8623:()=>{},7748:()=>{},5568:()=>{},6619:()=>{},7108:()=>{},2361:()=>{},4616:()=>{},4946:Yt=>{"use strict";Yt.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},5207:Yt=>{"use strict";Yt.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:Yt=>{"use strict";Yt.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},9799:Yt=>{"use strict";Yt.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},8597:Yt=>{"use strict";Yt.exports={i8:"6.5.4"}},2562:Yt=>{"use strict";Yt.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Yt=>{Yt(Yt.s=6058)}]);